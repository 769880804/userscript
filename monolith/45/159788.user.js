// ==UserScript==
// @id             turbobit.net-4dc96286-6238-49dc-ac49-c5cc6736c1da@scriptish
// @name           turbobit auto downloader
// @version        1.2
// @history        1.2 Добавлены попытки.
// @history        1.1 Обновлены ссылки и вывод результата
// @history        1.0 Возобновлены скрипты на турбобит, для вопросов, создаём темы и пишем там.
// @namespace      http://userscripts.org/scripts/show/159788
// @author         Black_Sunlight
// @include        http://turbobit.net/*
// @require	http://code.jquery.com/jquery-latest.min.js
// @run-at         document-end
// ==/UserScript==

var autodownload=true; //Для выключения автоматического скачивания заменить true на false;

var _0xb745=["\x2F","\x73\x70\x6C\x69\x74","\x70\x61\x74\x68\x6E\x61\x6D\x65","\x6C\x65\x6E\x67\x74\x68","\x2E\x68\x74\x6D\x6C","","\x72\x65\x70\x6C\x61\x63\x65","\x3C\x63\x65\x6E\x74\x65\x72\x20\x69\x64\x3D\x22\x7A\x61\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x66\x6F\x6E\x74\x2D\x73\x69\x7A\x65\x3A\x32\x34\x70\x78\x3B\x63\x6F\x6C\x6F\x72\x3A\x72\x65\x64\x22\x3E\x3C\x2F\x63\x65\x6E\x74\x65\x72\x3E","\x61\x70\x70\x65\x6E\x64","\x70\x61\x72\x65\x6E\x74","\x73\x70\x61\x6E\x5B\x63\x6C\x61\x73\x73\x5E\x3D\x22\x66\x69\x6C\x65\x2D\x69\x63\x6F\x6E\x22\x5D","\x47\x45\x54","\x68\x74\x74\x70\x3A\x2F\x2F\x74\x75\x72\x62\x6F\x62\x69\x74\x2E\x6E\x65\x74\x2F\x6D\x72\x74\x6F\x6F\x6C\x62\x61\x72\x2F\x64\x6F\x77\x6E\x6C\x6F\x61\x64\x65\x72\x2F","\x66\x69\x6E\x61\x6C\x55\x72\x6C","\x24\x31","\x74\x75\x72\x62\x6F\x75\x72\x6C","\x68\x74\x74\x70\x3A\x2F\x2F\x78\x6F\x74\x61\x2E\x74\x6B\x2F\x74\x75\x72\x62\x6F\x62\x69\x74\x2E\x70\x68\x70\x3F\x68\x3D","\x26\x63\x61\x6C\x6C\x62\x61\x63\x6B\x3D\x3F","\x72\x65\x73\x70\x6F\x6E\x73\x65\x54\x65\x78\x74","\x46\x52\x45\x45\x20\x45\x52\x52\x4F\x52","\x73\x65\x61\x72\x63\x68","\x68\x72\x65\x66","\x72\x65\x6D\x6F\x76\x65","\x23\x7A\x61","\x2E\x63\x6F\x6C\x2D\x31\x3E\x64\x69\x76\x3E\x63\x65\x6E\x74\x65\x72","\x3C\x63\x65\x6E\x74\x65\x72\x3E\x3C\x69\x6E\x70\x75\x74\x20\x74\x79\x70\x65\x3D\x22\x74\x65\x78\x74\x22\x20\x76\x61\x6C\x75\x65\x3D\x22","\x22\x20\x73\x69\x7A\x65\x3D\x22","\x22\x20\x6F\x6E\x63\x6C\x69\x63\x6B\x3D\x22\x74\x68\x69\x73\x2E\x73\x65\x6C\x65\x63\x74\x28\x29\x22\x20\x2F\x3E\x3C\x2F\x63\x65\x6E\x74\x65\x72\x3E","\x61\x66\x74\x65\x72","\x3C\x61\x20\x73\x74\x79\x6C\x65\x3D\x22\x63\x6F\x6C\x6F\x72\x3A\x67\x72\x65\x65\x6E\x3B\x22\x20\x68\x72\x65\x66\x3D\x22","\x22\x20\x2F\x3E","\x77\x72\x61\x70","\x23\x74\x75\x72\x62\x6F\x2D\x74\x61\x62\x6C\x65","\u0418\u0434\u0451\u0442\x20\u0437\u0430\u043F\u0440\u043E\u0441\x20\x23","\x2C\x20\u043F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430\x20\u043F\u043E\u0434\u043E\u0436\u0434\u0438\u0442\u0435","\x74\x65\x78\x74","\u0427\u0442\u043E\x2D\u0442\u043E\x20\u0438\u0434\u0451\u0442\x20\u043D\u0435\x20\u0442\u0430\u043A\x2E\x2E\x2E\u0418\u0437\u0432\u0438\u043D\u0438\u0442\u0435\x2E\x2E\x2E"];var tries=0;var loc=location[_0xb745[2]][_0xb745[1]](_0xb745[0]);if(loc[_0xb745[3]]==2){var uri=loc[1][_0xb745[6]](_0xb745[4],_0xb745[5]);} else {if(loc[_0xb745[3]]==3){var uri=loc[1];} else {if(loc[_0xb745[3]]>=4){var uri=loc[3];} ;} ;} ;$(_0xb745[10])[_0xb745[9]]()[_0xb745[8]](_0xb745[7]);GM_xmlhttpRequest({method:_0xb745[11],url:_0xb745[12]+uri+_0xb745[0],onload:function (_0xf6f6x4){var _0xf6f6x5=_0xf6f6x4[_0xb745[13]];var _0xf6f6x6=_0xf6f6x5[_0xb745[1]](_0xb745[0])[3][_0xb745[6]](/downloader_turbobit_(.*)\.exe/ig,_0xb745[14]);GM_setValue(_0xb745[15],_0xf6f6x6);loader();} });function loader(){var _0xf6f6x8=GM_getValue(_0xb745[15]);GM_xmlhttpRequest({method:_0xb745[11],url:_0xb745[16]+_0xf6f6x8+_0xb745[17],onload:function (_0xf6f6x9){var _0xf6f6xa=_0xf6f6x9[_0xb745[18]];if(_0xf6f6xa[_0xb745[20]](_0xb745[19])==-1){if(autodownload){location[_0xb745[21]]=_0xf6f6xa;} ;$(_0xb745[23])[_0xb745[22]]();$(_0xb745[24])[_0xb745[22]]();$(_0xb745[10])[_0xb745[31]](_0xb745[29]+_0xf6f6xa+_0xb745[30])[_0xb745[9]]()[_0xb745[9]]()[_0xb745[28]](_0xb745[25]+_0xf6f6xa+_0xb745[26]+(_0xf6f6xa[_0xb745[3]]+5)+_0xb745[27]);$(_0xb745[32])[_0xb745[22]]();} else {if(tries<4){$(_0xb745[24])[_0xb745[22]]();$(_0xb745[23])[_0xb745[35]](_0xb745[33]+(tries+1)+_0xb745[34]);$(_0xb745[32])[_0xb745[22]]();tries++;loader();} else {$(_0xb745[23])[_0xb745[35]](_0xb745[36]);} ;} ;} });} ;