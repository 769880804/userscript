
// ==UserScript==
// @author         Roktaal
// @co-author      asylume & frimen
// @translator     BillWilson
// @name           eRepublik Advanced Traditional Chinese version
// @namespace      eCompanyManager
// @description    Improves eRepublik by adding new or missing features and removing things users don't like.
// @version        4.0.7.tc2
// @include        http://www.erepublik.com/*
// @include        http://economy.erepublik.com/*
// @include        http://static.erepublik.com/*
// @require        http://sizzlemctwizzle.com/updater.php?id=106230&days=1&show
// @require        https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js
// @require        http://jquery-json.googlecode.com/files/jquery.json-2.2.min.js
// @require        https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.11/jquery-ui.min.js
// @require        http://www.bramstein.com/projects/text-overflow/jquery.text-overflow.min.js
// ==/UserScript==

// ===============================================================================
// License and Disclaimer (lets make it simple :))
// ===============================================================================
// This software is donationware. You are welcome to donate eRepublik in-game gold
// to author of this script.  Amount of gold is up to you and it reflects what you
// think author deserves for the effort of contributing to the eRepublik community.
// Software is provided 'AS IS' and without any warranty.
// Use on your own responsibility.
// ===============================================================================

// Changelog:
// ===============================================================================
// v4.0.3
// - Added Latest to Old style news on main page.
// - Added Military events to main page.
// - Added an option do remove News categories from main page. By default this
//   option is disabled.
// - Redesigned links under Battle listing to match the button under shouts.
// - Added Subscription notification icon to sidebar.
// - Added "Show less" button under shouts.
// - Added "Total" rows on market pages.
// - Redesigned skill selector on Job market pages.
// ===============================================================================
// v4.0.4
// - Changed hits count catching to more reliable method. Thanks to coren.
// - Added influence graph to Profile page.
// - Added the ability to hide unwanted companies on My Land.
// - Added company names to My Land.
// - Added total row to market offers on Storage page.
// - Redesigned Health icons on sidebar.
// - Fixed bugs n profile pages caused by recent eRepublik changes.
// - Removed redesigned skill selector on Job market pages. Become obsolete.
// ===============================================================================
// v4.0.5
// - Fixed bugs still present on profile pages caused by recent eRepublik changes.
// - Fixed a bug with multiple "Article translate" buttons.
// - Moved "Show all buildings" button to the top right corner of the My Land page.
// - Fixed positioning of "Health after daychange" tooltip.
// - Fixed some bugs caused by eRepublik change of country flags locations.
// ===============================================================================
// v4.0.6
// - Fixed bugs still present on inventory pages caused by recent eRepublik changes.
// - Changed "Health after day change". It is now displayed on health bar hover.
// ===============================================================================
// v4.0.7
// - Reworked PHP Developer advertisement. Now is in the right position.
// - Option to turn off the PHP Developer advertisement. Click on the eRA box.
// ===============================================================================

// -- Images -----------------------------------------------------------------------------------------------------------
var mainImg = 'data:image/png;base64,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';

var mainImgOn = 'data:image/png;base64,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';

var mainImgSlider = 'data:image/png;base64,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';

var linksHeader = 'data:image/png;base64,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';

var authLogo = 'data:image/gif;base64,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';

var infoImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATZJREFUeNpc0j9IAnEUwPG7y6kGBwlcgghJWiTExaEgggpxbRChpTBoKRLFpaWGoJa2iraEhpx0FFxMkghEUBE0qLW2SFoazu+L96OjH3zu/fjde79/d7brupZppfqLj5DAOgIYorK5HHo2ObYpIDlGuMUCWvjAPOZwjwyFn78FJEcYeMIj9jCtiV3t32GAFYfkSTpFtJlhlZjGA87QxBdiquDwSEJW2KXYlllwQHGQ+Kb9V+Ip9uWQa3hHhxdyoCU9k0wyiws9bxlHsoIfI002FyD7r+Oa8Usd/paHFHQwQ5Lf+muLuuqhZyxsCkqYkGvzvOzpob0tj4bDkn06J5LAKkl9uYErTOkWzwlxZM13kNu5wbauWNWzyb53EMUWkxftf79GipDTry2T/KCGY5Ll61tjAQYAPOhoMJh/2+4AAAAASUVORK5CYII=';

var infoImg_hover = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATZJREFUeNpc0r9LQlEUwPH3nk02OIjgEkhDUYNIuBg0hFAR/gMRtBQFLYpRuLTUENjSpuGm0JBTjYGLRiKBBKZCDTVWWxgtDs/viXPx0YXPO5f7zrm/3rNd17VMe+h9TBDWsYogXnG7OB9+NDm2KSA5TihjDm18YQbTuMYuhd9/BSRHGWhJHfYR0sRn7V/hBcsOyX46FTwxQ5K4iQbyaGKAuMo5PFKQFfYotmUWZCgOE9+1/0Y8Q1oOuYJPdHghB1rSM8kkEVzoeW9wLCsE8KPJ5gJk/3VcMl7Q4V95SEEHUyQFrHGL6apZz9isKajCJ9fmednVQ3vbEe4dluzTOZUEVknpyzUUMalbPCckcGC+g9xOCdu64p2eTfa9gwVsMXnF/vdrbBAO9WvLJEPUcEKyfH1rJMAAiQVoa6h75xUAAAAASUVORK5CYII=';

var loadingImage = 'data:image/gif;base64,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';

var loadingBackImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi+P///02AAAMACdUD1968JMsAAAAASUVORK5CYII=';

var arrowLeft = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAJCAYAAAD6reaeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEFJREFUeNpkjgEKADAERc2Ox3Edw53+spqwX6j3FASAaokImEpUFTF5goQVRLa7N3A3zWx9MNoUeaiK9tITR4ABAI6FH2Y9eB0NAAAAAElFTkSuQmCC';

var arrowRight = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAJCAYAAAD6reaeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADxJREFUeNpki0EKADAIw1y/p8/1f84dOuoWECRRc/dqTAfWRESZAC4aoBcMQzJ8MjMXXjHeKa5UcdgCDAChvR3lc1C6AQAAAABJRU5ErkJggg==';

var arrowDown = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQ1JREFUeNpi/P//PwM5gAWZ8+DBYxsWFpYUIDMAiPmhwh+BeAMQN8jISD6AqWWE2Xjv3sNwNja2mUga0AHIgHSg5pVwjffuPbBhY2PfgkcTsmYfoOYjTCAeUFMKEZoYoGpAahmYoAIBJIRLAHLgwG379OkDw/fv3+CqPn/+DOT/YNDV1Ue2FW4jHPDxCTBwcnLh0gQHMI0f//37i6L5z5+/GJqgaj7CNf79+3cDEKOYKC0ti2ETSA1ILVzjnz+/G/79+/fx9+9fOEMEJAdSA1IL16isrPgAaJLDr18/P/748Z0B2XYQGyQGkmNmZk4HqUVJOSBw+/ZdG6ACrEmOi4t7jqKi/BGMJEcqAAgwAHD+ixkJKm2YAAAAAElFTkSuQmCC';

var arrowUp = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARBJREFUeNqckkuOgkAQQEu6F7pAZmdMNLoYx60H8BAcwoRreBAu4M4juOAAGpfGhETNbKddDEwbGqsMtA3i+KmkQlH9XlcCVUvTFN4Jbr6E4W7MOZ9g6WI6WVtgzjH9Tqcd5Gwtn7jff4/wsTCEctAFHsozLaLUx3r5j2TKI5RDK2tMn5AgY4iFXHTLxOGwg/V6VSW7pliYdjz+AOcMGo16leyYYkGKot9Lbdv2PVn/DqFU4lgWg2bz45J5tFpXGBlARuiJSZLMMR9+GWKI1aKUsa+UEqeTvCvRGTEAqa/FweAzwJs8Kf9EHEdgTqeaenTGGPN6vW5Q2ByKzWY7RqBy5XAVp8PhV3izcq/GWYABABOzgxBMXd69AAAAAElFTkSuQmCC';

var iconDonate = 'data:image/gif;base64,R0lGODlhEAAQANU%2FAOO8csOeX%2Ffbm%2FzmjPzRM%2F%2FrSPXaq%2F3lq%2BbAe7t0INmiOtCYPOmhLvPIY%2FTFVc2UMdejScOsh%2BatWO62Pdzc3Mm3mfrpV%2BahO%2F%2FyzFZYXN61avbUgWpscM6SKdeZK%2BOtPOy5Su7Cc%2B27QuqpOM7OzuWaKvC8Qu%2Fz%2Fc%2BwetqrWuy%2BXfLKjPHImtSoYvOsOt3k8P3VVc%2FU2%2BzMUs3DsPjWRNChXbS6w%2BehMOyoMuXp9fK3LPz%2F%2F%2FjqbOSxSMzMzP%2F%2F%2FyH5BAEAAD8ALAAAAAAQABAAAAaXwJ9wSCwai6HRZWQ4DlkinsUyOq5A2ImkQGAcb7SCuBTClY6XxgCmuwwItx8nRlwkahKda6PzcnYIKQgIGhAQCx4tMh0JPxknBwcCAgcYAhp2hh0aGTkODaAPCiEHGg8IBhgAGS8eCj0ODiAKDwsCGyoKKBk2MxU1oh8mJiIfDxE%2BPz4UQhQ%2BFQEP0hEkTs0%2BPtXW29xGQQA7';

var iconMessage = 'data:image/gif;base64,R0lGODlhEAAQANU%2FAKnS3PH%2B%2F%2B3%2B%2F12dANrt86LK1bvc5OT2%2BoS7AOP2%2B7PV3bLc49br78rl6vf%2B%2F%2Fr%2F%2F4S1wZ%2FR2pvG0dTx9dDr8Yy8yJ%2FP2cfp7MHi57bY37DW4ef9%2F%2BHh4WqmAI%2FIAIyxU5jMAJ7UAMzld3KuANHu8ozAALbf5eDz%2BYi4xKHGaMLe55O%2FzbrZ38fi69%2F1%2BtTtd7TT2oXBzMTfd%2Bn2%2BGSZPm%2BsU3KiRnatVJ%2FO13mzWZjEz6PP3bHW3czMzP%2F%2F%2F%2F%2F%2F%2FyH5BAEAAD8ALAAAAAAQABAAAAalwJ9wSCz%2BCBkFb8lsKjIMhW9KrVZZgAPpkegeDt3EgzTLFHwahi%2FAbvsYCx9A4tvsGtPHY9oAbHwFOj4CExEYVRgREwKAKz4OAgsxBlMGNQOYKRIVUy0aFxY4FjkjIS8hIzecKgYBJxcmJgMgHj4eIAMVDguQLgQUFAMiVCIDKFZUAyUIPgglAzAoENPUEDQdCDIIHTZGQxwfmAMfHN7fPejl5uZBADs%3D';

var iconRefresh = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAASZJREFUeNqc0j1LA0EUheFEo1FBEP0BNoJYWGgjVoJYCFsnCBaCpBAFRbTwB6SzlCC2FoKlsCLaxEL8QAU/ioUES0u7gBGL9R0510wWYpGBB3Yzc+/MnE06juNUOyMdBEGruVEUEOEBLzYRhmEq80/THoxjGHMo4xBfbrLDW5hs8m2LGHW4o23bpBX24gx5r/ANOzjFgBpPq8Hviyve13EmUcGTdovENV5EN0ZsxxUsaZdBHGAocexzuPg7bUdXeIIrb1EJtWT66MMH7qzwHc/eohkvFBs5FU8o6b8kj7Cm52VUcamd57GOLO5R9FO91t3cuMUCbrCHXTyiH116bvp2G/hUcqv6ze46iy0cK6SmQnevTUzpu43hVYFc6DqNtNr9k/8IMAAWcT6NYrpfeAAAAABJRU5ErkJggg==';

var newspaperToolbar = 'data:image/png;base64,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';

var translateIcon = 'data:image/gif;base64,R0lGODlhHgAeAMQfAFNWWWeS5Kq3x5CbqZmltTIyM7fH3k160S1Uopat1mVobIGJlGhtdKGtvHR7hHx7fENDRXuEjoiIiEpLTGxze4yx9Ke62F5kalBSVIeRnVpcXkdJSzw9Pq++zk1PUP///yH5BAEAAB8ALAAAAAAeAB4AAAX/4CeOY3CcgUWubPsdiZEc1aG6uGvQh5H/JVoAcQL+DIEaAkEwfggMhQLDEIx2y6bRocmIGgpAYzRLOAkTjVVE0ThIPucCA1h/GAwNa8F5/xxeIxoPACwUHBROHwIDGQASGCwMEAtGDREUDh0XFIUrDBwDIx0NGRlxIo4aYx8XGhMfHREODhQMDxoYEBwFHBserE8QGB0jFxsQixweEwAPEhoe0hoMEQSoExgXJMfJHxEKeAoXGQ12LAV0JAAYHCsCGBsjDQyBJBCvFAIEhxoQA1oWebhAYIADAAo8ZDg3oAAzXw0WDEM0ggAGXL2eadhAx14DWwOKfchATuSANBoAkWTyACBagQn/nAzgwAGml4YcBHQYwLGAyBwCai64UMDLBQgMRkTY5SeHzTsF3kAocA6Zhx8ZOOj5sKDABQcckq7b9WNqIAIQYFJdoctdjgIFggHwACECCwgQtr1d+yRNgYBsporKgYwBP5q8BotwAMGDzx8CdvHisCDCAlKveBXYECxHBwYAIpzroPlCZ0VOQgAAOw==';

var resizeGrip = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAFCAMAAACD1meMAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAGUExURbu7u////3iwjPUAAAACdFJOU/8A5bcwSgAAABRJREFUeNpiYMADGHEDBhroAwgwAA9QADeT0qnSAAAAAElFTkSuQmCC';

var resizeGrip2 = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAbCAYAAAC0s0UOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB1JREFUeNpi2L17938gYECmmRiwgFHBUUE4AAgwAAcTD7/Bo/NMAAAAAElFTkSuQmCC';

var horSliderButtons = 'data:image/png;base64,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';

var iconDonate = 'data:image/gif;base64,R0lGODlhEAAQANU%2FAOO8csOeX%2Ffbm%2FzmjPzRM%2F%2FrSPXaq%2F3lq%2BbAe7t0INmiOtCYPOmhLvPIY%2FTFVc2UMdejScOsh%2BatWO62Pdzc3Mm3mfrpV%2BahO%2F%2FyzFZYXN61avbUgWpscM6SKdeZK%2BOtPOy5Su7Cc%2B27QuqpOM7OzuWaKvC8Qu%2Fz%2Fc%2BwetqrWuy%2BXfLKjPHImtSoYvOsOt3k8P3VVc%2FU2%2BzMUs3DsPjWRNChXbS6w%2BehMOyoMuXp9fK3LPz%2F%2F%2FjqbOSxSMzMzP%2F%2F%2FyH5BAEAAD8ALAAAAAAQABAAAAaXwJ9wSCwai6HRZWQ4DlkinsUyOq5A2ImkQGAcb7SCuBTClY6XxgCmuwwItx8nRlwkahKda6PzcnYIKQgIGhAQCx4tMh0JPxknBwcCAgcYAhp2hh0aGTkODaAPCiEHGg8IBhgAGS8eCj0ODiAKDwsCGyoKKBk2MxU1oh8mJiIfDxE%2BPz4UQhQ%2BFQEP0hEkTs0%2BPtXW29xGQQA7';

var iconMessage = 'data:image/gif;base64,R0lGODlhEAAQANU%2FAKnS3PH%2B%2F%2B3%2B%2F12dANrt86LK1bvc5OT2%2BoS7AOP2%2B7PV3bLc49br78rl6vf%2B%2F%2Fr%2F%2F4S1wZ%2FR2pvG0dTx9dDr8Yy8yJ%2FP2cfp7MHi57bY37DW4ef9%2F%2BHh4WqmAI%2FIAIyxU5jMAJ7UAMzld3KuANHu8ozAALbf5eDz%2BYi4xKHGaMLe55O%2FzbrZ38fi69%2F1%2BtTtd7TT2oXBzMTfd%2Bn2%2BGSZPm%2BsU3KiRnatVJ%2FO13mzWZjEz6PP3bHW3czMzP%2F%2F%2F%2F%2F%2F%2FyH5BAEAAD8ALAAAAAAQABAAAAalwJ9wSCz%2BCBkFb8lsKjIMhW9KrVZZgAPpkegeDt3EgzTLFHwahi%2FAbvsYCx9A4tvsGtPHY9oAbHwFOj4CExEYVRgREwKAKz4OAgsxBlMGNQOYKRIVUy0aFxY4FjkjIS8hIzecKgYBJxcmJgMgHj4eIAMVDguQLgQUFAMiVCIDKFZUAyUIPgglAzAoENPUEDQdCDIIHTZGQxwfmAMfHN7fPejl5uZBADs%3D';

var iconList = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAQCAYAAADj5tSrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZVJREFUeNq0VEtOw0AM9XzapBC1CNFCJSQ2nINjcAMktizZcAduwQ04BksWCKl0hfpTRWnTkhkbz1A+TZoAVWvJURw7frafZ8Tb9PUeAOqsBOsXwdrX/Giy1mBDIkAE2lr7YIy9UkrNlgZxLUSLpX2ZNP+QY1uL/C9dMgiORuP4NtqucELxkYQKQFJ2VN0p7KTX7ZxpTiwQsTQcjhJagZbfQKQQ0nFStsYeI1G8ysxbrVauj0cFtWpU4U5gNwhK5zyFZN2ku7EqKQ81vzwz4oVUCsUKifYaB4X+Qa9748YlLFJIZCdE+ZykCf9zN0CeE94zmBhrAcmvXGYv/daxOl/W/6tYB1LjX085x0wKCYSUwmAAKdyWcBGU8bfbT+nSvV9Klwshirb2NdvlklJNdiSfFS/eMN8dLPcvuUk41hdE0sWHmsMHBvHaVcrg8yTZNUHuQMk5OT+k3mgWzqrf65xof14AQos4TQzmgHgCwbgqxb/vLuVAVMKs86nfyAXptkvE45e78SR+9Fu29sNIEAbB0bsAAwB5DMLwHkVPPwAAAABJRU5ErkJggg==';

var iconOffer = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABGdJREFUeNqsVU1sVUUYPTNz73uPttDSFmKEWIMYSdSICRWQgEFdaPAvxGhcqGsFVwZduHDLSmOIC4wL2ZjoApsYNRpLhCghRmhDrDSlxRSrNPSH1sfre/dnZjzf3PdqdyTWe3PfvDt37pnzne9831Xee7z9xVmfWQfrPFZ7WOLdTDJ88spjSr3x2Wmf5i5M5M7h/zjqmUUjSRBVGxlqKa8kh/OrZ654OWthkwYiYSuSCLDw1uHxfz986yRuBF9MuRWgjvdaRh+TSh7+1xcXYG3SZKfhvYXhqbSF1xVUurrgnOIMKTYViAQYK6R2zRd9ZODzDFopZFxz5Knd2NBRQhyXmDQFZTRHea4xdW0Ox8+NMeySMCrAeUXFHxfYCSfLAIzibmlEIAJQshL5XJi6gf47unH05CmU1q/lduQdlxlYA0effRhOTcB4FERlJGakuJMSvWUkSyM5qNeRL80hy5cQG0OLanw/PwVf34r3X34c7w0O4ToVUvUaELdjjc4DhneMxLsAvIK5cOYEQeThvq09OLjrUXS3t9G4BNcpaks5rZphHec2b+jB9NhlhtjBdxOUK50cM8YSQ+pGkaBsFglouKHXicxNNV7avQMnh8fxw9hkWOxzi+0b23Hkmf04dvoiLvw2gf5NGzE1P4+ZvIwyM6ddxAhtICfAwjUSy0gYKsgkJrLoWRfjx9FJRExQZBu4u7cLhw/sxbEzQ/hp5Hfs7OvBW889ghuNGl794HNUDH1NbxvtQkJ9UMOSuW+C8gbNtGplUOZlVIbbe9vwwr5tOH7mF1wa/wt7tvTgzaf3o8qK/ubin/j4tRe5PobgKFuAK1+MGkEfkcaGCzYvFjJJve0l7LqnD98OX8Xc7AJ2bOnGoSf2YGBoggwsvjp/GYNjVzFbYy1Q+0AwSFJIo4MvV14sGpGqTOf0dXdi9I8ZzNXq2NRZwYH+BzAwfAWfnh3B2rhCjev48udxvH5iACqjOcXHruUWsaJvMg9VxZ1zjYzU20sGc9UaEnp+DQvl3jvvwndDVzDIXEh+sjwnEVZwnlDriEXlkegMccYG0rR3YcUW61BGPJ1BmqaoGjGXRsf6NpwbncDw1DQD4/OsjlS5UEDKS8WmfJ9F12LuisKMWob3Li+SyfmZxb9x/+ZuDF+aDBMLs7PsdAluI0NiYft927Cw2OB77CQEVoxWKRecptkaPArdQ+MqEuqXe+bItet48qEH8fzendBG1jlGwI4gFcxl1UaCXyen6W1aMDQC/loWoEYhr7jGS+Na9qULyFQLJ74+D2d8uAvAqoRU2xCVrDWafTGPJD3sO+TLTbU0u2ZvkQ2WNQ+ByEtC2xeOYR8N/cdQB4eEHuZzz+XiUyuBN5gNU7xHwFyanVP/yiLgOX3tWPrGSSPIuGOrP7pm8y96uA4zNjS30Jq9bOyKqJtytT4VyEWmDNHizSWC09u+Bba6Q2rEZilrkcVYrVZx8N2PaJasYHGrD+StdvfFJ+7Uh++ofwQYAOiQsoUzvoqZAAAAAElFTkSuQmCC';

var topRatedCat = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAIFSURBVHjajFPPaxNBGH2TbDab1ha61YKgoKQgSU1v3mzY7X8gQSyePehF6Ulv2dw8CYKgh54UFCO5ehG6aRUERQtWk4tFQU+FRm0J3a6zO843G6OTNuLAY7553/vezo9v2UYd/xqiN7NhAiOOgekLG/sSHx/nPfv0NRV33t/2pMY7QINUFB3sLPmqPXMVBIqHaHoGUVdD64H8evFKf00xcYM6qmVCyGOGzzXn9YdlUbq4OshBcvpdmHMw1pYYnU3b4tHSAsA7mvZIYQFr98ti4BQ19uouxJnL8hL3PgPBJ/zXsE4C2RN4fS8Pg3PUXt7JV2fmL4FFHcR8F0ZuEuboFAxzXOl5uI2wuwm+u4WUkYNI2/iwvJTsYOWW0jgS/qxbgQi+YGezDb63o793dgxjUwUw6zje+Q2iXIlmSu4A5UXRlLP79plMpA/ByGRlwagOyVGONKTt1UAZ0Jg/5ypC8G/IZDMwLUsDcZQjDWnV0f42ePrIdyjOZX7ANOU8YmpQnMyRhrRozyYGqpHWj1FTONOnxmGwLkZysQIPfyr8XlOONKSlZ6ZaQxmUviKqs6o9ESLNODpbMV6sBrSxZu8OnbNlC/ZkCvZEnLR29N37Y/CGKbfDdoB2C2i1VJFbqSQGjQacFT/wi0WgUEj+gX4r168D528KPLnR78iahDekhfZpfgkwANM6+xIg6Y1HAAAAAElFTkSuQmCC';

var latestCat = 'data:image/gif;base64,R0lGODlhEAAQAOYAAMHS0vtubqgxMcbX1/v9/dU9PcPU1MEvL/9+fr7Pz8zd3b+/v7/Q0DVX1F+B5/VkZMjZ2XNhYZmHh+9cXM00NIp4eN5GRjhaviNFr+n29vhjY4Z0dJF+fsDO94Bubsvc3PH6+uRKSv13d+x4eLGxsZmZmZOBgcna2ogREen5+fX7+8PDw/+Dg+b19edQUPttbY16etbW1tvb29U6Ov3+/paEhPn9/d5ERO34+H5yctDf38va2uROTuyhoc3b2/GoqOjExPvX1/X6+vBaWvD29ulQULzNzePz82lXV/T09P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAAAALAAAAAAQABAAAAfIgEmCCyULgoOFh0kjRQIxAkWRjY9FI4IhLAUkBQidCJoFLCGCNyIHKAcBqgGnByI3gjMvQT0/QA+4EzwTLzOCFBoWLi4WQ8bHGhSCEkrNzs/NEoI1NA4XGA0DBgAMCUY0NYImNg4dHQ0EBADpRjYmghwq1tjaPt1GKhyCMCAKQkIQ/gH4ZwQEDEEVcCj4cEKHth33cFQQtCGDAiJEIGAEgNFIhg2CPLRYeAKCNm7eWnhIIiNCiiMwY8pMEUHGihxIcurcmTPHikAAOw%3D%3D';

var internationalCat = 'data:image/png;base64,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';

var neIcon = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjZJREFUeNqEk81PE1EUxc/Q0hZJa1HRQGttNFYhRg0YXbnRpUv9O/wHNC5MFFHiymCiW2NMNEZZVRIVrQurEfFr4RcxGpFQaIdapu1M8Xre9M1AGg1v8svMe2/OnTf3nmsAMEgbCZB2TYgE9Zoay6RBHGLru1r7E9TioBZFSAdZR8ItAeqkqqnpecP7SkiLYuuB+FngRAY42gmkeLyABXz/AkxcAm5/Awr6o+5Qx+/U4vgxYNdJ4Fwc2Ks22ru7YRgG7Lk5COcV4NN14PQt4A2nJllSQfg+UhuBg+PAuzwgb/v6pXjvvtjFktjmopSyWXk/OChq7zHwdSdwmJo06VIBNpPdl4HzL5Q4k5HazIyo4VTr4ixVm88lUz7oINeAK0qjtegl+7LApNpcuHPXFRRu3JSp7TvkdSols6NX3TVz4qm8DATkIfCRmv0koQJsJQM5YH4yFpN6YUEa/PJUT688Z0DFq2hU6vNFnqjG9R551vz/A+rX/WxyiHdTF0T8LLvP7txoebdZDlXjZabzh1Muo5LLIRgJIzEygkg6jVAyicSFYYQ2bYCVz8NhRerNUja01k/iUN5L4q/ZZuKsmtgVayWJA34SR6npI1u8Mm5jlEN+GftZxrExsSmyF8tiPhj3y/gImF5dxn8ZaYgR93hGopPcY2sjfaaRTq02kqFtHNaBojRU1xngOK18hE2R5AttNP/PaeDJxRUr/yaW6gdD90JrM3XooMG1msn4Tzt7rNnOfwUYABfEIDgXLDk7AAAAAElFTkSuQmCC';

var sideBack = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAGCAYAAADkOT91AAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M0BrLToAAAAB5JREFUCFtjeP369X8QBgEQzQATgGFMAZhS3CrQBQANsFp5WDNrnwAAAABJRU5ErkJggg==';

var sideBoxes = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJkAAABXCAYAAAAXvud+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAT1JREFUeNrs1j1qxDAQgFH5hxQG43bPllOETZV+Id12gZwg1/ER3G4hF8bEnVfRniCNRSC8BwOqh49B1TiOTyGE9zzPeU4BjnHL85Xnra2q6jIMw7nrutA0jdVwiH3fT9u2nZdlCdU0Td9933fWQgnrum5VjDHla2YbFJFSCm1d1zZBMY8D1rpilCYyRIbI4PfIfPxxyRAZiAyR4eMPLhkiA5EhMv4Bv35cMlwyEBkiQ2QgMkQGIkNkiAxEhsgQGYgMkYHIEBkiA5EhMkQGIkNkIDJEhshAZIgMkYHIEBmIDJEhMhAZIkNkIDJEBiJDZIgMRIbIEBmIDJGByBAZIgORITJEBiJDZCAyRIbIQGSIDJGByBAZiIw/iSxZAwWl+n6/f9gDpeS+PusY42t+X/PcrIQDPXq6zvP88iPAAOC0Mc6dlDXaAAAAAElFTkSuQmCC';

var mMarketButton = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAgCAYAAACvgw7DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAItJREFUeNrs2rsKgDAMQNEmVhBHB///+wQdVbBajQ+E0sHde6GQrmdNJMborH4Kcb3nPybHK1RcU3k5/wbTjct/RTK1dSk6zAGUJDPRsOGSZiYKQz5ggAEGGGCAAQYYYIABBhgCBhhggAEGGGCAAQYYYAiYTzBeBYUkM9Fnu09vZiKcgVylZyC7AAMAr9YpNbAaYhkAAAAASUVORK5CYII=';

var oldNewsVotesBack = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAmCAIAAAAN749WAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAspJREFUeNq0mM9qFEEQxrO9O7vEIIgHPQjmkoP3vEEOXr0JPoE+jyDkGbzlmmdQcs0hlwiCmksgatg/s7Ggl7byVdXXPQtplmbona7+6ldV0z0z6vv+7OrT5c/T2/n1jtcm45k73k12pV+ubvMFtDwuvf1r1c/t4O7syf7z14fPPoy+/Ph4/u3zTtBAjbt2tVlZriZpr16+HR+9W6zv+qoakbJer8ap20KQzJKfTC8jKU3kZ9e9/n2RXLEiBdTY0Ewnj3Kvf3rcDTFvIiY1eqnNlcXsqqAGbhAj2g64vYFXjVQEpuoDuZPQSpGadh2z6WO4sMr0RLAMkFJLhUcB0grker64ySOushaofsisK2BLr+r2WZmVFXHSIFKUOi2eycLueJZSgA3SlAY9USBdoqSBe/ht9ZBxPGB9Ot7LfbmogiQJ/l8QT2cXRlkbLoo4PbcFUtaQGvH4CeHxIH8VCwRSGpo9XAfRlKuvKYfceGknrC1YrOu60pOSvOeVV7yipIkQ2Fr0fyI1oEnrbiGEm2u0xUC89DKWCuF0z6vV3y0JgWeAZ2gmVYs/DY0Xx2ObdsAtVfZgdI/AhNByufQ3QSV0aBo9CCEtFAhVD92tVRYRiiBFhLY/wuoqsIYgtbMs3ZfbIkKsyqKXEm0IIGm/IzUtB9ztD/kAqVr8hA0h5OSQzi89ByDZJeEvvpFpy1Daib9KVnfHLCsrg+tqcbmvs4kXIUByNWUYlkpYpwEe/zzU8kyysXMTK9/WjgcJ6ahFkGCZaLE87oc4zp76g7FMiCqCSLRFQNRoFin6SgJfF8QWQcWTrOqV/17GA8ftajDuFBKpkj1hyECTm088iIQrcXUjyB6oZcQ+logst3elgHvAZrOXHbx44xKy+QRuaQVlRHaoRiRi37IQMaO79eLrr+OL7ydWrJ3jfkqrfmC0ztgIyEKi5vDp+38CDAAlQEVjhM51egAAAABJRU5ErkJggg==';

var militaryEventsIcons = 'data:image/png;base64,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';

var greyButtonImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAABTCAIAAACqHK2CAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA+JJREFUeNrs3ctO40AQhWGnfScYEOx4/2djRwRyLrbbSeZ0KmSewN2R8n+LGQdYtXRU1XZcvTqfz1mW6d95no/H4/kiA7CM1UWe50VR6CL8RJE7nU7jOOqirmv9jmUCFqVqp8QpgUqcc26lBB4Oh6qqFD9qIBCtHiqK0zS1bevUhSp7JBCI6RY6BdB571UTSSAQP4eKngLoVBPVlbIiQHyKXgggNRBIWw+L2yMKlgOIbLUKjydoRIHUTSlLABBC4KEVtiFkTwhQCQFCCCBVO5rxiAJIwd6ioBICd9COUgaBJCx6VELgDiohAEIIPK7rlAu2hUB8Nm/G2Wv2LAcQn6IXQlgUxeFwsHoIIGYZVPQUQFeW5el0mueZHAIxE6jQKXoKYJi2Nk1T3/fOuaenJ0YeAhG60P1+r+h1XVdV1cpeofDeD8MwjiP7Q2BpKnV1XTdNE8qgvV2fXe6Oni4y7pQCCzei2WXEUxj7e5vAzboACV3forBJ+LSjQLR21GbgXyvhPM+/v7+6eH19VZPKGgGL8t4rcepFlbhwLIxK32azeX5+rqqKORdAnG2hTNO03W7f39+LYRjUiyqBdlcGwNKs2lnoFEC33+9fXl5IIBCZQqfoKYCFaqJ9aYZFASJT9BRAZ6fzshxAkr40HAjDQgBpMW0NSMa+McMEbiBlO5ox3gJIjhACd7AnpB0FaEcBKiGVEKASAo9bCTOeEwLpcCAMkLgdpRICd1AJARBC4HEVMk1Tnud0pEBMNuEijMFvmmaz2TADH4gfQkVPASzatv3+/h6Goa5rntoDceInCt08zwpgOIui7/uvr6+yLD8+PiyKLBOwXALHcVTl895/fn52XbeyAfi73e7n50dp1C8IIbBoCFXwlL23t7f1eh2G4d/OopgvmPgELE3BKy44iwK4C/+/MaMyaJPXiCWwaDsqeZ7fKmEIoZ0Gow2h4md/wUoBC7E6p5RpW2hnwhT6PAzDdrvV5/Dc8O/MNAALhdAOqLey17ZtoQ9KoK4UQpVIEghEyGGY+eucoleWZeG9139WBlkdIM620OKmEqgAhjH4VVXZYYUAolHoFL1QElUZ2QcCSeqhoqcAFrcHEjyZAJLsD+lCgdR9KUsAEELgoTHoCaASAoQQQOJ2lDcngCQ4iwKgHQVACAFCCBBCAEmFKRfcHQWSsDkX4SWm4/HIcgDxKXohhHYgDMsBxHc9EKYsS+ccOQTiJ1DRUwDDWRT60Pe9frper5k0AyxtnufdbqeLruuqqrrelfHeD8MwjiP7Q2BpeZ7Xdd00TSiDdms0+5uFaAdRcKcUWI7Nc3IXdv1PgAEAZrFvYm6DHroAAAAASUVORK5CYII=';

var greyButtonArrowUp = 'data:image/png;base64,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';

var subsIconOff = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAANCAYAAACgu+4kAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAatJREFUeNqcU8tuwjAQHCcO5QIFwYEDkECAP+DGR/Ep/SbO5YYEVSkJ4iWkggAhCJTY9TrhIW5tpJXtzXh29mHW6XTaAMhs/O0bK3vj+rKUtiQXUyYfIM9ncpCPnBI2A2tzSZeljLAPYNPkYIzhEv7AMAyIUKizhBR3XnWyuRACMacGplIppNNpZLNZJBIJhGGIy+WC9XqN+XwOCiYflHEppKY0TQOu6yKfz4NzjuAU4Hg46n0mk0Eul0O9XsfY9zHyPIoOYuJCaSLCarWGQqGA7XaL4ecQloq+3++VKgZSmUwmUavVYDuOVuUrIiKJCBTTYPCBY3DCdrNBOvOKcqmkVJmwLAtBEGA6naL73kXZLmOi9pQKidApyDghzxvBrbhwKg52ux1Wq29Vhxctv9FoaIzvj6Ni3mpwK32U0/BriMPxoItG0Ul+v99HsVjEcrlEpPjeLUNXVYH0qk1gNpvpyjebTbRaLd2dyWSC0/kMiAgnYjy/XmS3ZkY9IvBisYDFLeVhmpgUiisihhIBjaR9H6K7vl6v9zS90b8rVq1jg+Y5nmv85y38CjAASr73luiS46AAAAAASUVORK5CYII=';

var subsIconOn = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAANCAYAAACgu+4kAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAd1JREFUeNqUU01LG1EUPW/mJaORiGPTuBEDNahp7a57QRd2UQqB/Ae3wV/gHyj0N3RhoYsuKgWFLkoaKBSULlKsIurYD0xiPhSjCcm8630vQ/yoCp3hznvzuPfce889T6x6i1kA2hL4v8djey2JKEscLMwZ7yDujbrioRNmpSJlMhMJCEG8dt1s22FHgY5qwhIhKGqbQArMwBASUqnukXYWJDHkjMHtSyDWPwlHDjJAi+0cpbNNeCd59lVXqhFgAN/8SBFGKpbGyMA0wnYE5+0qTtslhKwIhvuSiEeeYDqWwXZtDVuVlV47DNBFnIq/xGj0GWrNfRTK7+HYURy3/nD5ksvvoD/kMkAaE+48fL+FreqagegBfD98y1nrODrb4RYeIenOQloOQkE1e/UvyB28wrg7x/scfPINJ9JnABFwu1n+iNTDF5h88Bz15gEOT38wD1Fu6zGexjNcicJ25VOPTB0niQHIvF1mC8UPaLQqKDZ+chsRdJj9jb/LGB+ewa+TdWh/FQQHJKrLCevJ8LJbyyPM5M0nlwyh7woL2Kl8vqEF/pIGIHVdJUYThKZqwKt9RVgOwIINn8dJ/4hKt0Dk3S5jwrffbwLd0a2K1HK2tJ4DXd8j3rvvwoUAAwAXxtVKvx6uhgAAAABJRU5ErkJggg==';

var hideBuildingIcon = 'data:image/png;base64,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';
// ---------------------------------------------------------------------------------------------------------------------

var oldFirefox = $.browser.mozilla && $.browser.version.slice(0,3) == "1.9";

// -- Overrides for chrome ---------------------------------------------------------------------------------------------
if ($.browser.webkit) {
	if (jQuery('#large_sidebar').html() == undefined) {
		return;
	}
	
	chrome.extension.sendRequest({action: 'tmpDS', data: JSON.stringify(window.localStorage)}, function(response){
		chrome.extension.sendRequest({action: 'getLD'}, function(response){
			window.localStorage.clear();
			for(var x in response = JSON.parse(response)) window.localStorage[x] = response[x];
			Main();
		});
	});
	
	function GM_addStyle(css) {
		var style = document.createElement('style');
		style.textContent = css;
		document.getElementsByTagName('head')[0].appendChild(style);
	}

	function GM_deleteValue(name) {
		chrome.extension.sendRequest({action: 'delValue', 'name': name});
		window.localStorage.removeItem(name);
	}

	function GM_getValue(name, defaultValue) {
		var value = localStorage.getItem(name);
		if (value == 'false') {
			return false;
		}
		return value || defaultValue;
	}

	function GM_log(message) {
		console.log(message);
	}

	function GM_registerMenuCommand(name, funk) {
	//todo
	}

	function GM_setValue(name, value) {
		chrome.extension.sendRequest({action: 'setValue', 'name': name, 'value': value});
		window.localStorage.setItem(name, value);
	}
	
	function GM_xmlhttpRequest(data) {
		if (data.method == 'GET') {
			chrome.extension.sendRequest({'url' : data.url.toString()}, data.onload);
		}
	}
	
	function GM_listValues() {
		var vals = [];
		for (var i in window.localStorage) {
			vals.push(i);
		}
		return vals;
	}
} else {
	if (jQuery('#large_sidebar').html() == undefined) {
		return;
	}
	
	window.addEventListener('load', function() {
		var checker = setInterval(function() {
			if(typeof ($ = jQuery.noConflict()) != 'undefined') {
				clearInterval(checker);
				
				Main();
			}
		}, 100);
	}, false);
}
//----------------------------------------------------------------------------------------------------------------------

// -- Style variables --------------------------------------------------------------------------------------------------
GM_addStyle(
	'.customMenuHolder { padding: 0px 2px 2px 2px; float: left; margin-left: 3px; width: 944px; }' +
	'.customMenuElemHolder { border-radius: 0px 0px 5px 5px; background-color: #eeeeee; float: left; width: 118px; height: 20px; text-align: center; color: #7F7F7F; cursor: default; vertical-align: middle; line-height: 20px; font-size: 11px; }' +
	'.customMenuElement { border-radius: 0px 0px 5px 5px; background-color: #eeeeee; padding: 2px; float: left; width: 114px; height: 16px; text-align: center; color: #7F7F7F; cursor: pointer; vertical-align: middle; line-height: 16px; font-size: 11px; }' +
	'.customMenuElement:hover { background: #505050; color: #D8D8D8; }' +
	'.customMenuElementAdd { border-radius: 0px 0px 5px 5px; background-color: #eeeeee; padding: 2px; float: left; width: 114px; height: 16px; text-align: center; color: #CCCCCC; cursor: pointer; vertical-align: middle; line-height: 16px; font-size: 11px; }' +
	'.customMenuElementAdd:hover { background: #CCCCCC; color: #D8D8D8; }' +
	'.customMenuPrompt { box-shadow: 0px 0px 5px #9F9F9F; border-radius: 5px 5px 5px 5px; background: url(' + loadingBackImg + ') repeat scroll 0 0 transparent; border: 1px solid #bbbbbb; display: none; height: 200px; position: absolute; margin-left: 10%; margin-right: auto; width: 400px; z-index: 999999; top: 250px; }' +

	'.infoHolder { background: url(' + infoImg + ') no-repeat scroll 0px 0px transparent; height: 12px; width: 12px; display: inline; float: left; margin-left: 2px; margin-top: -34px; cursor: pointer; }' +
	'.infoHolder:hover { background: url(' + infoImg_hover + ') no-repeat scroll 0px 0px transparent; }' +
	'.infoHolder .infoContent { box-shadow: 0px 0px 5px #9F9F9F; border-radius: 7px 7px 7px 7px; background: url(' + loadingBackImg + ') repeat scroll 0 0 transparent; display: none; height: 310px; position: fixed; margin: -155px -150px; width: 300px; z-index: 999999; top: 50%; left: 50%; font-size: 11px; }' +
	'.infoHolder:hover .infoContent { display: inline; z-index: 9999; }' +
	'.infoHolder:hover .infoContent table tr td { padding: 5px 10px 5px 10px; }' +

	'.optionsHolder { background-image: url(' + sideBack + '); background-repeat: repeat; border: 2px solid #EBEBEB; border-radius: 5px 5px 5px 5px; float: left; margin-right: 18px; padding: 11px 11px 8px; width: 149px; margin-top: 10px; clear: left; }' +
	'.optionsHolder .optionsContent { border-radius: 3px 3px 3px 3px; background: url(' + mainImg + ') no-repeat scroll 0 0 transparent; width: 149px; line-height: 35px; cursor: pointer; }' +
	'.optionsHolder .optionsContent:hover { background: url(' + mainImgOn + ') no-repeat scroll 0 0 transparent; }' +
	'.optionsHolder .versionHolder { color: #EDF4F9; cursor: default; font-size: 9px; font-weight: bold; margin-right: 108px; margin-top: -12px; padding: 0 0 2px; text-align: center; }' +
	
	'#optionsContentMain { box-shadow: 0px 0px 5px #9F9F9F; border-radius: 7px 7px 7px 7px; background: url(' + loadingBackImg + ') repeat scroll 0 0 transparent; display: none; height: 500px; position: fixed; margin: -250px -275px; width: 550px; z-index: 999999; top: 50%; left: 50%; }' +
	'#optionsContentMain .optionsInnerHeader { border-radius: 7px 7px 0px 0px; background: url(' + linksHeader + ') no-repeat scroll 0 0 transparent; float: left; height: 35px; width: 100%; }' +
	'#optionsContentMain .optionsInnerContent { float: left; margin-top: 10px; margin-left: 10px; margin-right: 10px; width: 500px; padding: 0px 15px; }' +
	'#optionsContentMain .optionsInnerVersion { clear: both; bottom: -5px; font-size: 9px; margin-left: 10px; margin-right: 10px; padding: 0px 15px; position: relative; text-align: center; cursor: default; }' +
	'#optionsContentMain .optionsInnerFooter { border-top: 1px solid #CCCCCC; bottom: -10px; clear: both; font-size: 10px; margin-left: 10px; margin-right: 10px; padding: 10px 15px; position: relative; text-align: center;  cursor: default; }' +
	'#optionsContentMain .optionsInnerItem { clear: both; float: left; width: 225px; }' +
	'#optionsContentMain .optionsInnerItem:hover { font-weight: bold; background: none repeat scroll 0 0 #FFFFCC; }' +
	'#optionsContentMain .optionsInnerItemRight { float: right; width: 225px; }' +
	'#optionsContentMain .optionsInnerItemRight:hover { font-weight: bold; background: none repeat scroll 0 0 #FFFFCC; }' +
	'#optionsContentMain .optionsInnerItemLabel { float: left; vertical-align: middle; line-height: 20px; margin-bottom: 5px; margin-right: 10px; margin-left: 10px; padding-top: 5px; width: 180px; cursor: default; }' +
	'#optionsContentMain .optionsInnerItemLabel_QuickLinks { float: left; vertical-align: middle; line-height: 20px; margin-bottom: 2px; padding-top: 3px; margin-right: 0px; margin-left: 0px; width: 100%; cursor: pointer; border-top: 1px solid #CCCCCC; }' +
	'#optionsContentMain .optionsInnerItemLabel_QuickLinks:hover { font-weight: bold; background: none repeat scroll 0 0 #FFFFCC; }' +
	
	'.optionsLanguageTable { display: table; clear: both; margin: 0 auto; }' +
	'.optionsLanguageRow { display: table-row-group; width: 100%; cursor: default;}' +
	'.optionsLanguageCell { display: table-cell; padding: 3px; }' +
	
	'.profitTable { background: url("http://www.erepublik.com/images/parts/back_el_secondh.png") repeat-x scroll left bottom transparent; cursor: default; border-top: 1px solid #eeeeee; border-bottom: 1px solid #dddddd; padding: 10px 0px 10px 0px; }' +
	'.dayProfitTable { background: url("http://www.erepublik.com/images/parts/bg_el_days.png") repeat-x scroll left bottom transparent; cursor: default; border-bottom: 1px solid #cccccc; padding: 7px 0px 7px 0px; }' +

	'.menuRight { float: right; }' +
	'.menuItem:hover { background-color: #CCCCCC; }' +
	
	'.menuWindow { box-shadow: 0px 0px 5px #9F9F9F; border-radius: 7px 7px 7px 7px; background: url(' + loadingBackImg + ') repeat scroll 0 0 transparent; display: none; height: 600px; position: fixed; margin: -300px -352px; width: 705px; z-index: 999999; top: 50%; left: 50%; }' +
	'.closeButton { background: url("http://www.erepublik.com/images/parts/remove_upper_inventory_hover.png") no-repeat scroll 0 0 transparent; float: right; height: 10px; margin: 5px; text-indent: -9999px; width: 10px; }' +
	'.menuWindowHeader { border-radius: 5px 0px 0px 0px; background: url(' + linksHeader + ') no-repeat scroll 0 0 transparent; float: left; height: 35px; width: 100%; }' +
	'.menuWindowContent { float: left; padding: 5px; }' +
	'.menuWindowContentTable { display: table; }' +
	'.menuWindowContentRow { display: table-row-group; }' +
	'.menuWindowContentCell { display: table-cell; padding: 3px; }' +
	
	'.inventoryHolder { background-image: url(' + sideBack + '); background-repeat: repeat; border: 2px solid #EBEBEB; border-radius: 5px 5px 5px 5px; float: left; margin-right: 18px; padding: 11px 11px 8px; width: 149px; margin-top: 10px; clear: left; }' +
	'.inventoryHolder .inventoryContent { border-radius: 5px 5px 5px 5px; background: url(' + sideBack + ') repeat scroll 0 0 transparent; padding: 10px; width: 149px; }' +
	'.inventoryHolder .inventoryMain .inventoryInner { font-size: 12px; padding: 0px 0px 3px 3px; }' +

	'.profitHolder { cursor: default; }' +
	
	'.loadingHolder { box-shadow: 0px 0px 5px #9F9F9F; background: url(' + loadingBackImg + ') repeat scroll 0 0 transparent; border: 1px solid #CCCCCC; border-radius: 5px 5px 5px 5px; cursor: default; display: block; height: 180px; margin: 0 10% auto; opacity: 1; padding: 5px; position: absolute; top: 3px; width: 78%; z-index: 99999; }' +

	'.grippie { background: url(' + resizeGrip + ') no-repeat scroll center 2px #EEEEEE; border-color: #DDDDDD; border-style: solid; border-width: 0pt 1px 1px; cursor: s-resize; height: 9px; overflow: hidden; margin-bottom: 10px; }' +
	'.resizable-textarea textarea { display: block; margin-bottom: 0px; }' + 
	
	'.miniInventoryHolder { background: url(' + sideBoxes + ') no-repeat scroll 0 0 #FFFFFF; float: left; margin-bottom: 7px; width: 153px; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; height: auto !important; padding-top: 5px; }' +
	'.miniInventoryHolder .itemCountHolder { clear: both; float: left; line-height: 26px; margin-left: 6px; width: 142px; border-bottom: 1px solid #DEDEDE; }' +
	'.miniInventoryHolder .itemCountHolder img { float: left; width: 26px; height: 26px; margin-left: 1px; margin-right: 6px; }' +
	'.miniInventoryHolder .itemCountHolder .itemCount { text-align: center; color: grey; line-height: 30px; }' +
	
	'.miniInventoryHolder .marketDropHolder { clear: both; float: left; line-height: 26px; margin-left: 6px; width: 142px; border-bottom: 1px solid #DEDEDE; display: none; }' +
	'.miniInventoryHolder .marketDropHolder img { float: left; width: 26px; height: 26px; margin-left: 1px; margin-right: 6px; }' +
	'.miniInventoryHolder .marketDropHolder .itemCount { text-align: center; color: grey; line-height: 30px; }' +
	
	'.miniInventoryHolder .monCountHolder { clear: both; float: left; line-height: 26px; margin-left: 6px; width: 142px; border-bottom: 1px solid #DEDEDE; }' +
	'.miniInventoryHolder .monCountHolder img { float: left; margin-left: 1px; margin-right: 6px; margin-top: 6px; }' +
	'.miniInventoryHolder .monCountHolder .itemCount { text-align: center; color: grey; line-height: 30px; }' +
	
	'.miniInventoryHolder .monDropHolder { clear: both; float: left; line-height: 26px; margin-left: 6px; width: 142px; border-bottom: 1px solid #DEDEDE; display: none; }' +
	'.miniInventoryHolder .monDropHolder img { float: left; margin-left: 1px; margin-right: 6px; margin-top: 6px; }' +
	'.miniInventoryHolder .monDropHolder .itemCount { text-align: center; color: grey; line-height: 30px; }' +
	
	'.taxTbl { background-color: #CFEFFB; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-right-radius: 5px; border-top-left-radius: 5px; display: block; float: left; margin-top: 11px; position: relative; width: 760px; }' +
	'.taxTbl table { background: none repeat scroll 0 0 #FFFFFF; border: 1px solid #B8E4F4; margin: 5px auto; width: 748px; }' +
	'.taxTbl table th { background: none repeat scroll 0 0 #F7FCFF; }' +
	'.taxTbl table tbody tr:hover td { background-color: #FFFFE7; }' +
	'.taxTbl table td { border-top: 1px solid #E2F3F9; color: #5E5E5E; padding-bottom: 5px; padding-left: 25px; padding-top: 5px; }' +
	'.taxLink { cursor: pointer; }' +
	'.taxLink .taxLinkHolder { border: 2px solid #CFEFFB; border-radius: 3px 3px 3px 3px; position: absolute; margin-top: -7px; display: none; }' +
	'.taxLink:hover .taxLinkHolder { display: block; }' +
	'.taxLink .taxLinkHolder .taxLinkItemTransparent { background: none repeat scroll 0 0 transparent; text-align: center; height: 25px; }' +
	'.taxLink .taxLinkHolder .taxLinkItem { background-color: #FFFFE7; text-align: center; }' +
	'.taxLink .taxLinkHolder .taxLinkItem:hover { background-color: #F7FCFF !important; }' +
	
	'.battleHealth { color: #E3E3E3; font-size: 11px; font-weight: bold; position: absolute; text-shadow: 0 1px 1px rgba(0, 0, 0, 0.6); top: 0; width: 100%; opacity: 1; }' +
	
	'#large_sidebar a.newLogout { background: none repeat scroll 0 0 #FF8888; border: 1px solid #FF0000; border-radius: 3px 3px 3px 3px; color: #FFFFFF; display: inline; float: left; font-weight: bold; padding: 4px; text-align: center; width: 58px; margin-left: 40px; }' +
	'#large_sidebar a.newLogout:hover { background: none repeat scroll 0 0 #FF6666; }' +
	
	'#marketplace table tbody td.m_quantity { text-align: center; }' +
	'#marketplace table tbody td.m_provider { width: 138px; }' +
	
	'.hitsNeededHolder { position: absolute; text-align: center; background-color: #333333; width: 82px; border-radius: 7px 0px 0px 7px; margin-top: 12px; margin-left: -85px; padding: 5px 0px 5px 5px; }' +
	'.hitsNeededTitle { font-weight: bold; color: white; }' +
	'.hitsNeededNumber { line-height: 13px; text-shadow: 0 -1px 0 #6E9C08; text-align: center; height: 16px; font-size: 10px; display: inline; padding: 0 4px 0 4px; background-color: #83b70b; border-radius: 3px; color: #FFFFFF; }' +
	
	'.regionLink { background: none repeat scroll 0 0 transparent !important; height: auto !important; left: 0px !important; margin: 0 !important; }' +
	
	'.influValueHolder { margin-left: 2px; float: left; margin-right: 5px; width: auto; display: inline; line-height: 44px; text-align: center; padding-right: 2px; }' +
	'.influValueHolder .influValue { background: url("/images/parts/shadow.gif") repeat-x scroll center top #FFFFFF; border-color: #AEAEAE #C8C8C8 #E3E3E3; border-radius: 3px 3px 3px 3px; border-style: solid; border-width: 1px; color: #333333; padding: 4px; text-align: center; width: 35px; font-size: 10px; }' +
	'.influValueHolder .influValue:focus { background: none repeat scroll 0 0 #FFFFCC; }' +

	'.influGoldHolder { margin-left: 2px; float: right; margin-right: 5px; width: 60px; display: inline; line-height: 44px; text-align: center; }' +
	'.influGoldHolder .influValue { background: url("/images/parts/shadow.gif") repeat-x scroll center top #FFFFFF; border-color: #AEAEAE #C8C8C8 #E3E3E3; border-radius: 3px 3px 3px 3px; border-style: solid; border-width: 1px; color: #333333; padding: 4px; text-align: center; width: 40px; font-size: 10px; }' +
	'.influGoldHolder .influValue:focus { background: none repeat scroll 0 0 #FFFFCC; }' +
	'.influNaturalHolder { margin-left: 2px; float: left; margin-right: 5px; width: 20px; display: inline; line-height: 44px; text-align: center; }' +
	'.influNaturalHolder .influCheckbox { width: 13px; height: 13px; padding: 0; margin: 0; vertical-align: middle; position: relative; top: -1px; overflow: hidden; }' +
	'.influTable { width: 510px; }' +
	'.influTable .influImageCell { width: 40px; }' +
	'.influTable .influValueCell { width: 44px; font-size: 10px; font-weight: bold; color: #666666; }' +
	'.influTable .influImageCell .influImage { width: 30px; height: 35px; margin: 5px 0px 0px 0px; }' +
	
	'.bodyImportant { background-position: center 22px !important }' +
	'.bodyImportant2 { background-position: center 11px !important }' +
	
	'#large_sidebar .user_finances { background-image: url(' + sideBoxes + '); background-color: #ffffff; background-repeat: no-repeat; background-position: 0 0; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; height: auto !important; min-height: 50px; padding-top: 7px; float: left; margin-bottom: 7px; width: 153px; }' +
	'#large_sidebar .user_finances .currencyOther { clear: both; float: left; height: 22px; margin-left: 6px; width: 142px; margin-top: 5px; border-bottom: 1px solid #DEDEDE; display: none; }' +
	'#large_sidebar .user_finances:hover .currencyOther { display: block; }' +
	'#large_sidebar .user_finances .currencyOther a { color: #585858; font-size: 12px; text-shadow: 0 1px 0 #FFFFFF; }' +
	'#large_sidebar .user_finances .currencyOther img { margin-right: 5px; float: left; border: 0 none; }' +
	
	'.mMarketButton { border-radius: 3px; background: none no-repeat scroll left center #e9f5fa; border: medium none; color: #3C8FA7; cursor: pointer; font-size: 12px; line-height: 32px; padding: 0 6px 1px 6px; text-align: left; height: 32px; }' +
	
	'.topNewsItem { display: block; float: left; margin-bottom: 10px; width: 333px; border-bottom: 1px solid #E0E0E0; }' +
	
	'.oldNewsSwitchHolder { border-bottom: 1px solid #E0E0E0; float: left; margin-bottom: 10px; padding: 0 2px 0; width: 333px; }' +
	'.oldNewsSwitch { background-color: #EEEEEE; border-radius: 5px 5px 0 0; color: #7F7F7F; cursor: pointer; float: left; font-size: 12px; font-weight: bold; height: 24px; line-height: 24px; margin: 0 1px; padding: 2px; text-align: center; vertical-align: middle; }' +
	'.oldNewsSwitch:hover { background-color: #505050; color: #D8D8D8; }' +
	'.oldNewsSwitchActive { background-color: #505050; border-radius: 5px 5px 0 0; color: #D8D8D8; cursor: pointer; float: left; font-size: 12px; font-weight: bold; height: 24px; line-height: 24px; margin: 0 1px; padding: 2px; text-align: center; vertical-align: middle; }' +
	
	'.eventsHolder { display: block; float: left; width: 333px; }' +
	'.eventsItem { border-bottom: 1px solid #EFEDED; display: block; float: left; margin-bottom: 10px; padding-bottom: 10px; width: 333px; cursor: default; }' +
	'.eventsDetailHolder { display: block; float: left; margin-bottom: 0; padding-bottom: 0px; width: 273px; }' +
	'.eventsTitle { color: #7D7F81; display: block; line-height: 18px; width: 273px; font-size: 14px; margin-top: 2px; float: left; }' +
	'.eventsDetails { color: #999999; font-size: 11px; margin-top: 2px; width: 273px; float: left; }' +
	'.eventsIcon { background: url(' + militaryEventsIcons + ') no-repeat scroll 0 0 transparent; display: block; float: left; height: 30px; padding: 8px 9px 0 0; text-align: center; width: 48px; }' +
	
	'.greyButton { background-image: url(' + greyButtonImg + '); background-position: right 0; background-repeat: no-repeat; color: #3B5B74; display: inline; float: left; font-size: 11px !important; height: 28px; line-height: 26px; margin-left: 5px; outline: medium none; position: relative; text-shadow: 0 1px 0 #FFFFFF; z-index: 100; text-decoration: none !important; }' +
	'.greyButton:hover { background-position: right -28px; }' +
	'.greyButton:active { background-position: right -56px; }' +
	'.greyButton span { background-image: url(' + greyButtonImg + '); background-position: left 0; background-repeat: no-repeat; color: #3B5B74; cursor: pointer; display: inline; float: left; font-size: 11px !important; position: relative; right: 5px; white-space: nowrap; font-weight: bold; line-height: 26px; margin-right: 8px; padding-left: 13px; text-decoration: none !important; }' +
	'.greyButton:hover span { background-position: left -28px; }' +
	'.greyButton:active span { background-position: left -56px; }' +
	
	'.greyButtonArrowUp { background-image: url(' + greyButtonArrowUp + '); background-position: right 0; background-repeat: no-repeat; color: #3B5B74; display: inline; float: left; font-size: 11px !important; height: 28px; line-height: 26px; margin-left: 5px; outline: medium none; position: relative; text-shadow: 0 1px 0 #FFFFFF; z-index: 100; text-decoration: none !important; padding-left: 5px; }' +
	'.greyButtonArrowUp:hover { background-position: right -28px; }' +
	'.greyButtonArrowUp:active { background-position: right -56px; }' +
	'.greyButtonArrowUp span { background-image: url(' + greyButtonArrowUp + '); background-position: left 0; background-repeat: no-repeat; color: #3B5B74; cursor: pointer; display: inline; float: left; font-size: 11px !important; position: relative; right: 5px; white-space: nowrap; font-weight: bold; line-height: 26px; margin-right: 2px; padding-left: 18px; text-decoration: none !important; }' +
	'.greyButtonArrowUp:hover span { background-position: left -28px; }' +
	'.greyButtonArrowUp:active span { background-position: left -56px; }' +
	
	'.horSliderLeft { border-radius: 3px 0px 0px 3px; background: url(' + horSliderButtons + ') no-repeat scroll left 0 transparent; cursor: pointer; line-height: 31px; float: left; width: 14px; border: 1px solid #FFFFFF; clear: both; }' +
	'.horSliderLeft:hover { background-position: left -31px; }' +
	'.horSliderLeft:active { background-position: left -62px; }' +
	
	'.horSliderRight { border-radius: 0px 3px 3px 0px; background: url(' + horSliderButtons + ') no-repeat scroll right 0 transparent; cursor: pointer; line-height: 31px; float: left; width: 14px; border: 1px solid #FFFFFF; }' +
	'.horSliderRight:hover { background-position: right -31px; }' +
	'.horSliderRight:active { background-position: right -62px; }' +
	
	'.horSelectHolder { background: none no-repeat scroll 0 0 #FFFFFF; padding: 1px; float: left; overflow: hidden; width: 700px; }' +
	'.horSelectBar { float: left; width: 1600px; position: relative; left: 0px; }' +
	'.horSelectItem { background: none no-repeat scroll 0 0 #FFFFFF; color: #666666; float: left; font-size: 12px; line-height: 28px; width: 98px; z-index: 100; border: 1px solid #FFFFFF; }' +
	'.horSelectItem:hover { background-color: #F6F6F6 !important; }' +
	'.horSelectItem span { color: #666666; cursor: pointer; float: left; height: 29px; line-height: 28px; padding-left: 5px; text-shadow: 0 1px 0 #FFFFFF; width: 93px; }' +
	'.horSelectItem:hover span { color: #333333; }' +
	'.horSelectItem span strong { margin-top: 7px; }' +
	
	'.newTipsy { display: none; font-size: 10px; left: -33px; padding: 5px; position: relative; top: 25px; width: 80px; z-index: 999999; opacity: 0.8; }' +
	'.newTipsy-inner { background-color: #000000; color: #FFFFFF; max-width: 200px; padding: 5px 8px 4px; text-align: center; text-shadow: 0 1px 1px #000000; border-radius: 3px 3px 3px 3px; z-index: 999999; }' +
	'.newTipsy-arrow { background-image: url("http://www.erepublik.com/images/modules/_components/tipsy/tipsy.gif"); background-position: left top; background-repeat: no-repeat; height: 5px; position: absolute; width: 9px; left: 50%; margin-left: -4px; top: 0; z-index: 999999; }' +
	
	'.hideBuildingButton { background-image: url(' + hideBuildingIcon + '); float: left; height: 25px; margin-left: 2px; width: 24px; cursor: pointer; }' +
	'.hideBuildingButton:hover { background-position: 0 -25px; }' +
	'.hideBuildingButton:hover .newTipsy { display: block; }' +
	'.hideBuildingButton:active { background-position: 0 -50px; }' +
	
	'.nameTablet { background-color: #000000; border-radius: 3px 3px 3px 3px; color: #FFFFFF; cursor: pointer; font-size: 10px; margin: 35px auto 0; max-width: 200px; opacity: 0.5; padding: 5px 8px 4px; pointer-events: none; position: relative; text-align: center; width: 60%; z-index: 4; }' +
	
	'#profitTable thead { display: table-header-group !important; }' +
	'#profitTable thead .profDays th { background: transparent url(http://www.erepublik.com/images/parts/back_el_secondh.png) repeat-x top left; height: 20px; line-height: 20px; border-bottom: 1px solid #EEE; color: #B5B5B5; text-shadow: 0 1px 0 white; text-align: center; width: 46px; font-weight: bold; font-size: 12px; }' +
	'#profitTable thead .profDays th span { border-left: 1px solid #EEE; background: transparent url(http://www.erepublik.com/images/parts/back_el_secondh_day.png) no-repeat top left; display: block; height: 20px; cursor: default; }' +
	'#profitTable tbody .profCell { border-left: 1px solid #EEE; height: 67px; background: transparent url(http://www.erepublik.com/images/parts/bg_el_days.png) repeat-x top left; width: 48px; border-bottom: 1px solid #EEE; }' +
	'#profitTable tbody .profCell div { background: transparent url(http://www.erepublik.com/images/parts/back_el_secondh_day.png) repeat-y left top; display: block; cursor: default; text-align: center; z-index: 20; position: relative; line-height: 20px; }'
);
// ---------------------------------------------------------------------------------------------------------------------

// -- Constants --------------------------------------------------------------------------------------------------------
var VERSION = '4.0.7';
var RELEASE_DAY = '7. July 2011.';
var LANG = 'en';

var industry_id = {'food' : '1', 'weapons' : '2', 'moving tickets' : '3', 'house' : '4', 'hospital' : '5', 'defense system' : '6', 'food raw material' : '7', 'weapon raw material' : '12'};
var id_industry = {'1' : 'food', '2' : 'weapons', '3' : 'moving tickets', '4' : 'house', '5' : 'hospital', '6' : 'defense system', '7' : 'food raw material', '12' : 'weapon raw material'};
var country_id = {'romania' : '1', 'brazil' : '9', 'italy' : '10', 'france' : '11', 'germany' : '12', 'hungary' : '13', 'china' : '14', 'spain' : '15', 'canada' : '23', 'usa' : '24', 'mexico' : '26', 'argentina' : '27', 'venezuela' : '28', 'united-kingdom' : '29', 'switzerland' : '30', 'netherlands' : '31', 'belgium' : '32', 'austria' : '33', 'czech-republic' : '34', 'poland' : '35', 'slovakia' : '36', 'norway' : '37', 'sweden' : '38', 'finland' : '39', 'ukraine' : '40', 'russia' : '41', 'bulgaria' : '42', 'turkey' : '43', 'greece' : '44', 'japan' : '45', 'south-korea' : '47', 'india' : '48', 'indonesia' : '49', 'australia' : '50', 'south-africa' : '51', 'republic-of-moldova' : '52', 'portugal' : '53', 'ireland' : '54', 'denmark' : '55', 'iran' : '56', 'pakistan' : '57', 'israel' : '58', 'thailand' : '59', 'slovenia' : '61', 'gold' : '62', 'croatia' : '63', 'chile' : '64', 'serbia' : '65', 'malaysia' : '66', 'philippines' : '67', 'singapore' : '68', 'bosnia-herzegovina' : '69', 'estonia' : '70', 'latvia' : '71', 'lithuania' : '72', 'north-korea' : '73', 'uruguay' : '74', 'paraguay' : '75', 'bolivia' : '76', 'peru' : '77', 'colombia' : '78', 'republic-of-macedonia-fyrom' : '79', 'montenegro' : '80', 'republic-of-china-taiwan' : '81', 'cyprus' : '82', 'belarus' : '83', 'new-zealand' : '84', 'saudi-arabia' : '164', 'egypt' : '165', 'united-arab-emirates' : '166'};
var id_country = {'1' : 'Romania', '9' : 'Brazil', '10' : 'Italy', '11' : 'France', '12' : 'Germany', '14' : 'China', '13' : 'Hungary', '15' : 'Spain', '23' : 'Canada', '24' : 'USA', '26' : 'Mexico', '27' : 'Argentina', '28' : 'Venezuela', '29' : 'United-Kingdom', '30' : 'Switzerland', '31' : 'Netherlands', '32' : 'Belgium', '33' : 'Austria', '34' : 'Czech-Republic', '35' : 'Poland', '36' : 'Slovakia', '37' : 'Norway', '38' : 'Sweden', '39' : 'Finland', '40' : 'Ukraine', '41' : 'Russia', '42' : 'Bulgaria', '43' : 'Turkey', '44' : 'Greece', '45' : 'Japan', '47' : 'South-Korea', '48' : 'India', '49' : 'Indonesia', '50' : 'Australia', '51' : 'South-Africa', '52' : 'Republic-of-Moldova', '53' : 'Portugal', '54' : 'Ireland', '55' : 'Denmark', '56' : 'Iran', '57' : 'Pakistan', '58' : 'Israel', '59' : 'Thailand', '61' : 'Slovenia', '62' : 'GOLD', '63' : 'Croatia', '65' : 'Serbia', '66' : 'Malaysia', '67' : 'Philippines', '68' : 'Singapore', '69' : 'Bosnia-Herzegovina', '70' : 'Estonia', '71' : 'Latvia', '72' : 'Lithuania', '73' : 'North-Korea', '64' : 'Chile', '74' : 'Uruguay', '75' : 'Paraguay', '76' : 'Bolivia', '77' : 'Peru', '78' : 'Colombia', '79' : 'Republic-of-Macedonia-FYROM', '80' : 'Montenegro', '81' : 'Republic-of-China-Taiwan', '82' : 'Cyprus', '83' : 'Belarus', '84' : 'New-Zealand', '164' : 'Saudi-Arabia', '165' : 'Egypt', '166' : 'United-Arab-Emirates'};
var country_currency = {'Argentina' : 'ARS', 'Australia' : 'AUD', 'Austria' : 'ATS', 'Belarus' : 'BYR', 'Belgium' : 'BEF', 'Bolivia' : 'BOB', 'Bosnia-Herzegovina' : 'BAM', 'Brazil' : 'BRL', 'Bulgaria' : 'BGN', 'Canada' : 'CAD', 'Chile' : 'CLP', 'China' : 'CNY', 'Colombia' : 'COP', 'Croatia' : 'HRK', 'Cyprus' : 'CYP', 'Czech-Republic' : 'CZK', 'Denmark' : 'DKK', 'Egypt' : 'EGP', 'Estonia' : 'EEK', 'Finland' : 'FIM', 'France' : 'FRF', 'Germany' : 'DEM', 'GOLD' : 'GOLD', 'Greece' : 'GRD', 'Hungary' : 'HUF', 'India' : 'INR', 'Indonesia' : 'IDR', 'Iran' : 'IRR', 'Ireland' : 'IEP', 'Israel' : 'NIS', 'Italy' : 'ITL', 'Japan' : 'JPY', 'Latvia' : 'LVL', 'Lithuania' : 'LTL', 'Malaysia' : 'MYR', 'Mexico' : 'MXN', 'Montenegro' : 'MEP', 'Netherlands' : 'NLG', 'New-Zealand' : 'NZD', 'North-Korea' : 'KPW', 'Norway' : 'NOK', 'Pakistan' : 'PKR', 'Paraguay' : 'PYG', 'Peru' : 'PEN', 'Philippines' : 'PHP', 'Poland' : 'PLN', 'Portugal' : 'PTE', 'Republic-of-China-Taiwan' : 'TWD', 'Republic-of-Macedonia-FYROM' : 'MKD', 'Republic-of-Moldova' : 'MDL', 'Romania' : 'RON', 'Russia' : 'RUB', 'Saudi-Arabia' : 'SAR', 'Serbia' : 'RSD', 'Singapore' : 'SGD', 'Slovakia' : 'SKK', 'Slovenia' : 'SIT', 'South-Africa' : 'ZAR', 'South-Korea' : 'KRW', 'Spain' : 'ESP', 'Sweden' : 'SEK', 'Switzerland' : 'CHF', 'Thailand' : 'THB', 'Turkey' : 'TRY', 'Ukraine' : 'UAH', 'United-Arab-Emirates' : 'AED', 'United-Kingdom' : 'GBP', 'Uruguay' : 'UYU', 'USA' : 'USD', 'Venezuela' : 'VEB'};
var currency_country = {'ARS' : 'Argentina', 'AUD' : 'Australia', 'ATS' : 'Austria', 'BYR' : 'Belarus', 'BEF' : 'Belgium', 'BOB' : 'Bolivia', 'BAM' : 'Bosnia-Herzegovina', 'BRL' : 'Brazil', 'BGN' : 'Bulgaria', 'CAD' : 'Canada', 'CLP' : 'Chile', 'CNY' : 'China', 'COP' : 'Colombia', 'HRK' : 'Croatia', 'CYP' : 'Cyprus', 'CZK' : 'Czech-Republic', 'DKK' : 'Denmark', 'EGP' : 'Egypt', 'EEK' : 'Estonia', 'FIM' : 'Finland', 'FRF' : 'France', 'DEM' : 'Germany', 'GOLD' : 'GOLD', 'GRD' : 'Greece', 'HUF' : 'Hungary', 'INR' : 'India', 'IDR' : 'Indonesia', 'IRR' : 'Iran', 'IEP' : 'Ireland', 'NIS' : 'Israel', 'ITL' : 'Italy', 'JPY' : 'Japan', 'LVL' : 'Latvia', 'LTL' : 'Lithuania', 'MYR' : 'Malaysia', 'MXN' : 'Mexico', 'MEP' : 'Montenegro', 'NLG' : 'Netherlands', 'NZD' : 'New-Zealand', 'KPW' : 'North-Korea', 'NOK' : 'Norway', 'PKR' : 'Pakistan', 'PYG' : 'Paraguay', 'PEN' : 'Peru', 'PHP' : 'Philippines', 'PLN' : 'Poland', 'PTE' : 'Portugal', 'TWD' : 'Republic-of-China-Taiwan', 'MKD' : 'Republic-of-Macedonia-FYROM', 'MDL' : 'Republic-of-Moldova', 'RON' : 'Romania', 'RUB' : 'Russia', 'SAR' : 'Saudi-Arabia', 'RSD' : 'Serbia', 'SGD' : 'Singapore', 'SKK' : 'Slovakia', 'SIT' : 'Slovenia', 'ZAR' : 'South-Africa', 'KRW' : 'South-Korea', 'ESP' : 'Spain', 'SEK' : 'Sweden', 'CHF' : 'Switzerland', 'THB' : 'Thailand', 'TRY' : 'Turkey', 'UAH' : 'Ukraine', 'AED' : 'United-Arab-Emirates', 'GBP' : 'United-Kingdom', 'UYU' : 'Uruguay', 'USD' : 'USA', 'VEB' : 'Venezuela'};
var industry_raw = {'food' : {'1' : 'grain', '2' : 'fruit', '3' : 'cattle', '4' : 'fish', '5' : 'deer'}, 'weapons' : {'1' : 'iron', '2' : 'rubber', '3' : 'oil', '4' : 'aluminium', '5' : 'saltpeter'}};
var id_rank = {'1' : 'recruit', '2' : 'private', '3' : 'private*', '4' : 'private**', '5' : 'private***', '6' : 'corporal', '7' : 'corporal*', '8' : 'corporal**', '9' : 'corporal***', '10' : 'sergeant', '11' : 'sergeant*', '12' : 'sergeant**', '13' : 'sergeant***', '14' : 'lieutenant', '15' : 'lieutenant*', '16' : 'lieutenant**', '17' : 'lieutenant***', '18' : 'captain', '19' : 'captain*', '20' : 'captain**', '21' : 'captain***', '22' : 'major', '23' : 'major*', '24' : 'major**', '25' : 'major***', '26' : 'commander', '27' : 'commander*', '28' : 'commander**', '29' : 'commander***', '30' : 'lt colonel', '31' : 'lt colonel*', '32' : 'lt colonel**', '33' : 'lt colonel***', '34' : 'colonel', '35' : 'colonel*', '36' : 'colonel**', '37' : 'colonel***', '38' : 'general', '39' : 'general*', '40' : 'general**', '41' : 'general***', '42' : 'field marshal', '43' : 'field marshal*', '44' : 'field marshal**', '45' : 'field marshal***', '46' : 'supreme marshal', '47' : 'supreme marshal*', '48' : 'supreme marshal**', '49' : 'supreme marshal***', '50' : 'national force', '51' : 'national force*', '52' : 'national force**', '53' : 'national force***', '54' : 'world class force', '55' : 'world class force*', '56' : 'world class force**', '57' : 'world class force***', '58' : 'legendary force', '59' : 'legendary force*', '60' : 'legendary force**', '61' : 'legendary force***', '62' : 'god of war'};
var rank_id = {'recruit' : '1', 'private' : '2', 'private*' : '3', 'private**' : '4', 'private***' : '5', 'corporal' : '6', 'corporal*' : '7', 'corporal**' : '8', 'corporal***' : '9', 'sergeant' : '10', 'sergeant*' : '11', 'sergeant**' : '12', 'sergeant***' : '13', 'lieutenant' : '14', 'lieutenant*' : '15', 'lieutenant**' : '16', 'lieutenant***' : '17', 'captain' : '18', 'captain*' : '19', 'captain**' : '20', 'captain***' : '21', 'major' : '22', 'major*' : '23', 'major**' : '24', 'major***' : '25', 'commander' : '26', 'commander*' : '27', 'commander**' : '28', 'commander***' : '29', 'lt colonel' : '30', 'lt colonel*' : '31', 'lt colonel**' : '32', 'lt colonel***' : '33', 'colonel' : '34', 'colonel*' : '35', 'colonel**' : '36', 'colonel***' : '37', 'general' : '38', 'general*' : '39', 'general**' : '40', 'general***' : '41', 'field marshal' : '42', 'field marshal*' : '43', 'field marshal**' : '44', 'field marshal***' : '45', 'supreme marshal' : '46', 'supreme marshal*' : '47', 'supreme marshal**' : '48', 'supreme marshal***' : '49', 'national force' : '50', 'national force*' : '51', 'national force**' : '52', 'national force***' : '53', 'world class force' : '54', 'world class force*' : '55', 'world class force**' : '56', 'world class force***' : '57', 'legendary force' : '58', 'legendary force*' : '59', 'legendary force**' : '60', 'legendary force***' : '61', 'god of war' : '62'};
var region_link = {"Abruzzo":"Abruzzo","Abu Dhabi":"Abu-Dhabi","Aegean Coast of Turkey":"Aegean-Coast-of-Turkey","Aegean Islands":"Aegean-Islands","Ajman":"Ajman","Al Bahah":"Al-Bahah","Al Jawf":"Al-Jawf","Al Madinah":"Al-Madinah","Al Qasim":"Al-Qasim","Al Riyadh":"Al-Riyadh","Alabama":"Alabama","Aland":"Aland","Alaska":"Alaska","Alberta":"Alberta","Alentejo":"Alentejo","Algarve":"Algarve","Alsace":"Alsace","Amazonica":"Amazonica","Andalucia":"Andalucia","Andhra Pradesh":"Andhra-Pradesh","Andina":"Andina","Anhui":"Anhui","Aosta Valley":"Aosta-Valley","Apulia":"Apulia","Aquitaine":"Aquitaine","Aragon":"Aragon","Argentine Northwest":"Argentine-Northwest","Arizona":"Arizona","Arkansas":"Arkansas","Asir":"Asir","Asturias":"Asturias","Attica":"Attica","Auckland":"Auckland","Auvergne":"Auvergne","Azores":"Azores","Baden-Wurttemberg":"Baden-Wurttemberg","Baja":"Baja","Balearic Islands":"Balearic-Islands","Balochistan":"Balochistan","Banat":"Banat","Basilicata":"Basilicata","Basque Country":"Basque-Country","Bassarabia":"Bassarabia","Bavaria":"Bavaria","Beersheba South District":"Beersheba-South-District","Beijing":"Beijing","Belgrade":"Belgrade","Beni and Cochabamba":"Beni-and-Cochabamba","Bihar":"Bihar","Black Sea Coast of Turkey":"Black-Sea-Coast-of-Turkey","Bohus":"Bohus","Bolivian Altiplano":"Bolivian-Altiplano","Brandenburg and Berlin":"Brandenburg-and-Berlin","Bratislava":"Bratislava","Brestskaya":"Brestskaya","British Columbia":"British-Columbia","Brittany":"Brittany","Brussels":"Brussels","Br?ko District":"Br?ko-District","Bucovina":"Bucovina","Bukovina":"Bukovina","Burgas":"Burgas","Burgenland":"Burgenland","Burgundy":"Burgundy","Calabria":"Calabria","California":"California","Campania":"Campania","Canary Islands":"Canary-Islands","Cantabria":"Cantabria","Canterbury":"Canterbury","Caribe e Insular":"Caribe-e-Insular","Carinthia":"Carinthia","Castilla La Mancha":"Castilla-La-Mancha","Castilla y Leon":"Castilla-Leon","Catalonia":"Catalonia","Center West of Brazil":"Center-West-of-Brazil","Central Anatolia":"Central-Anatolia","Central Black Earth":"Central-Black-Earth","Central Croatia":"Central-Croatia","Central East Chaco":"Central-East-Chaco","Central Greece":"Central-Greece","Central Hungary":"Central-Hungary","Central Montenegro":"Central-Montenegro","Central Slovakia":"Central-Slovakia","Central Taiwan":"Central-Taiwan","Central Thailand":"Central-Thailand","Central Transdanubia":"Central-Transdanubia","Central Venezuela":"Central-Venezuela","Central Western Venezuela":"Central-Western-Venezuela","Centro":"Centro","Chagang":"Chagang","Champagne Ardenne":"Champagne-Ardenne","Charrua":"Charrua","Chhattisgarh":"Chhattisgarh","Chimor":"Chimor","Chisinau":"Chisinau","Chongqing":"Chongqing","Chubu":"Chubu","Chugoku":"Chugoku","Chungcheongbuk-do":"Chungcheongbuk","Chungcheongnam-do":"Chungcheongnam","Chuquisaca and Tarija":"Chuquisaca-and-Tarija","Colorado":"Colorado","Connecticut":"Connecticut","Cork and Kerry":"Cork-and-Kerry","Corsica":"Corsica","Crete":"Crete","Crisana":"Crisana","Cundiboyacense":"Cundiboyacense","Cuyo":"Cuyo","Dainava":"Dainava","Delaware":"Delaware","Deutschschweiz":"Deutschschweiz","District of Columbia":"District-of-Columbia","Dnipro":"Dnipro","Dobrogea":"Dobrogea","Donbas":"Donbas","Dubai":"Dubai","Dublin":"Dublin","East Midlands":"East-Midlands","East Srpska Republic":"East-Srpska-Republic","East of England":"East-of-England","Eastern Anatolia":"Eastern-Anatolia","Eastern Cape":"Eastern-Cape","Eastern Finland":"Eastern-Finland","Eastern Macedonia":"Eastern-Macedonia","Eastern Netherlands":"Eastern-Netherlands","Eastern Province":"Eastern-Province","Eastern Serbia":"Eastern-Serbia","Eastern Siberia":"Eastern-Siberia","Eastern Slovakia":"Eastern-Slovakia","Eastern Taiwan":"Eastern-Taiwan","Eastern Thailand":"Eastern-Thailand","Emilia-Romagna":"Emilia-Romagna","Epirus":"Epirus","Esfahan":"Esfahan","Extremadura":"Extremadura","Far Eastern Russia":"Far-Eastern-Russia","Fars":"Fars","Federation of BiH":"Federation of BiH","Flanders":"Flanders","Florida":"Florida","Franche-comte":"Franche-comte","Free State":"Free-State","Friuli-Venezia Giulia":"Friuli-Venezia-Giulia","Fujairah":"Fujairah","Fujian":"Fujian","Galicia":"Galicia-Spain","Galicia and Lodomeria":"Galicia-and-Lodomeria","Gangwon-do":"Gangwon","Gansu":"Gansu","Gauteng":"Gauteng","Georgia":"Georgia","Gotaland":"Gotaland","Gotland":"Gotland","Graubunden":"Graubunden","Great Andes":"Great-Andes","Great Poland":"Great-Poland","Guangdong":"Guangdong","Guangxi":"Guangxi","Guayana":"Guayana","Guizhou":"Guizhou","Gujarat":"Gujarat","Gulf of Mexico":"Gulf-of-Mexico","Gyeonggi-do":"Gyeonggi","Gyeongsangbuk-do":"Gyeongsangbuk","Gyeongsangnam-do":"Gyeongsangnam","Ha'il":"Ha-il","Haifa district":"Haifa-district","Hainan":"Hainan","Hamgyong":"Hamgyong","Hawaii":"Hawaii","Heilongjiang":"Heilongjiang","Henan":"Henan","Hesse":"Hesse","Hokkaido":"Hokkaido","Homelskaya":"Homelskaya","Hormozgan":"Hormozgan","Hovedstaden":"Hovedstaden","Hrodzienskaya":"Hrodzienskaya","Hubei":"Hubei","Hunan":"Hunan","Hwangae":"Hwangae","Idaho":"Idaho","Illinois":"Illinois","Indiana":"Indiana","Inner Carniola":"Inner-Carniola","Inner Mongolia":"Inner-Mongolia","Ionian Islands":"Ionian-Islands","Iowa":"Iowa","Istria and Kvarner":"Istria-Kvarner","Jammu and Kashmir":"Jammu-Kashmir","Jamtland Harjedalen":"Jamtland-Harjedalen","Java":"Java","Jeju":"Jeju","Jeollabuk-do":"Jeollabuk","Jeollanam-do":"Jeollanam","Jerusalem district":"Jerusalem-district","Jharkhand":"Jharkhand","Jiangsu":"Jiangsu","Jiangxi":"Jiangxi","Jilin":"Jilin","Jizan":"Jizan","Kalimantan":"Kalimantan","Kaliningrad":"Kaliningrad","Kangwon":"Kangwon","Kansas":"Kansas","Kanto":"Kanto","Karnataka":"Karnataka","Kentucky":"Kentucky","Kerala":"Kerala","Kerman Province":"Kerman-Province","Kesk-Eesti":"Kesk-Eesti","Kinki":"Kinki","Kirde-Eesti":"Kirde-Eesti","Kurzeme":"Kurzeme","KwaZulu Natal":"KwaZulu-Natal","Kyushu":"Kyushu","La Rioja":"La-Rioja","Laane-Eesti":"Laane-Eesti","Languedoc Roussillon":"Languedoc-Roussillon","Lapland":"Lapland","Latgale":"Latgale","Lazio":"Lazio","Leningrad Oblast":"Leningrad-Oblast","Lesser Sunda Islands":"Lesser-Sunda-Islands","Liaoning":"Liaoning","Liguria":"Liguria","Lika and Gorski Kotar":"Lika-Gorski-Kotar","Lima":"Lima","Limousin":"Limousin","Limpopo":"Limpopo","Lisboa":"Lisboa","Lithuania Minor":"Lithuania-Minor","Lithuanian Highland":"Lithuanian-Highland","Little Poland":"Little-Poland","Llanos":"Llanos","Loire Valley":"Loire-Valley","Lombardy":"Lombardy","London":"London","Lorraine":"Lorraine","Louisiana":"Louisiana","Louna-Eesti":"Louna-Eesti","Low Andes":"Low-Andes","Lower Austria":"Lower-Austria","Lower Carniola":"Lower-Carniola","Lower Egypt":"Lower-Egypt","Lower Normandy":"Lower-Normandy","Lower Saxony and Bremen":"Lower-Saxony-and-Bremen","Luzon":"Luzon","Macedonia":"Macedonia","Madeira":"Madeira","Madhya Pradesh":"Madhya-Pradesh","Madrid":"Madrid","Maharashtra":"Maharashtra","Mahilyowskaya":"Mahilyowskaya","Maine":"Maine","Makkah":"Makkah","Maluku islands":"Maluku-islands","Manitoba":"Manitoba","Maramures":"Maramures","Marche":"Marche","Marmara":"Marmara","Maryland":"Maryland","Massachusetts":"Massachusetts","Mazandaran and Golistan":"Mazandaran-and-Golistan","Mazovia":"Mazovia","Mazuria":"Mazuria","Mecklenburg-Western Pomerania":"Mecklenburg","Mediterranean Coast of Turkey":"Mediterranean-Coast-of-Turkey","Mesopotamia":"Mesopotamia","Michigan":"Michigan","Mid Andes":"Mid-Andes","Middle Egypt":"Middle-Egypt","Midi-Pyrenees":"Midi-Pyrenees","Midtjylland":"Midtjylland","Mindanao":"Mindanao","Minnesota":"Minnesota","Minskaya":"Minskaya","Mississippi":"Mississippi","Missouri":"Missouri","Moldova":"Moldova","Molise":"Molise","Montana":"Montana","Montenegrin Coast":"Montenegrin-Coast","Moravia":"Moravia","Moscow and Central Russia":"Moscow-and-Central-Russia","Mpumalanga":"Mpumalanga","Muntenia":"Muntenia","Murcia":"Murcia","Najran":"Najran","Navarra":"Navarra","Nazareth North District":"Nazareth-North-District","Nebraska":"Nebraska","Nevada":"Nevada","New Brunswick":"New-Brunswick","New Hampshire":"New-Hampshire","New Jersey":"New-Jersey","New Mexico":"New-Mexico","New South Wales":"New-South-Wales","New York":"New-York","Newfoundland and Labrador":"Newfoundland","Ningxia":"Ningxia","Nord-Norge":"Nord-Norge","Nordjylland":"Nordjylland","Norrland and Sameland":"Norrland-Sameland","Norte":"Norte","Norte Chico":"Norte-Chico","Norte Grande":"Norte-Grande","North Calais":"North-Calais","North Carolina":"North-Carolina","North Caucasus":"North-Caucasus","North Dakota":"North-Dakota","North Dalmatia":"North-Dalmatia","North East of England":"North-East-of-England","North Eastern India":"North-Eastern-India","North Eastern Venezuela":"North-Eastern-Venezuela","North Montenegrin Mountains":"North-Montenegrin-Mountains","North Rhine-Westphalia":"North Rhine-Westphalia","North West Province":"North-West-Province","North West of England":"North-West-of-England","North of Brazil":"North-of-Brazil","North-Eastern Thailand":"North-Eastern-Thailand","North-West Frontier Province":"North-West-Frontier","Northeast of Brazil":"Northeast-of-Brazil","Northeast of Ireland":"Northeast-of-Ireland","Northeast of Mexico":"Northeast-of-Mexico","Northern Basarabia":"Northern-Basarabia","Northern Bohemia":"Northern-Bohemia","Northern Borders":"Northern-Borders","Northern Cape":"Northern-Cape","Northern Cyprus":"Northern-Cyprus","Northern Great Plain":"Northern-Great-Plain","Northern Hungary":"Northern-Hungary","Northern India":"Northern-India","Northern Ireland":"Northern-Ireland","Northern Low Amazon":"Northern-Low-Amazon","Northern Netherlands":"Northern-Netherlands","Northern Russia":"Northern-Russia","Northern Taiwan":"Northern-Taiwan","Northern Territory":"Northern-Territory","Northern Thailand":"Northern-Thailand","Northwest Croatia":"Northwest-Croatia","Northwest Territories":"Northwest-Territories","Northwest of Ireland":"Northwest-of-Ireland","Northwest of Mexico":"Northwest-of-Mexico","Northwestern Iran":"Northwestern-Iran","Nova Scotia":"Nova-Scotia","Nunavut":"Nunavut","Oaxaca":"Oaxaca","Ohio":"Ohio","Oklahoma":"Oklahoma","Oltenia":"Oltenia","Ontario":"Ontario","Oregon":"Oregon","Orinoquia":"Orinoquia","Orissa":"Orissa","Ostlandet":"Ostlandet","Otago":"Otago","Oulu":"Oulu","Pacific Coast of Mexico":"Pacific-Coast-of-Mexico","Pacifica":"Pacifica","Palawan":"Palawan","Pampas":"Pampas","Pando":"Pando","Papua":"Papua","Parana and Santa Catarina":"Parana-and-Santa-Catarina","Paranena":"Paranena","Paris Isle of France":"Paris-Isle-of-France","Patagonia":"Patagonia","Pays de la Loire":"Pays-de-la-Loire","Peloponnese":"Peloponnese","Peninsular Malaysia ":"Peninsular-Malaysia ","Pennsylvania":"Pennsylvania","Picardy":"Picardy","Piedmont":"Piedmont","Plovdiv":"Plovdiv","Podolia":"Podolia","Pohja-Eesti":"Pohja-Eesti","Poitou Charentes":"Poitou-Charentes","Polisia":"Polisia","Pomerania":"Pomerania","Povardarie":"Povardarie","Prekmurje":"Prekmurje","Prince Edward Island":"Prince-Edward-Island","Provence Alpes Azur":"Provence-Alpes-Azur","Punjab":"Punjab","Pyongan":"Pyongan","Qinghai":"Qinghai","Quebec":"Quebec","Queensland":"Queensland","Rajasthan":"Rajasthan","Ras al-Khaimah":"Ras-al-Khaimah","Raska":"Raska","Razavi Khorasan":"Razavi-Khorasan","Red Sea Coast":"Red-Sea-Coast","Rhineland-Palatinate":"Rhineland-Palatinate","Rhode Island":"Rhode-Island","Rhone Alps":"Rhone-Alps","Rio Grande do Sul":"Rio-Grande-do-Sul","Romandie":"Romandie","Ruse":"Ruse","Ryanggang":"Ryanggang","Saarland":"Saarland","Sabah":"Sabah","Salzburg":"Salzburg","Samogitia":"Samogitia","Santa Cruz":"Santa-Cruz","Sarawak":"Sarawak","Sardinia":"Sardinia","Saskatchewan":"Saskatchewan","Saxony":"Saxony","Saxony-Anhalt":"Saxony-Anhalt","Scania":"Scania","Schleswig-Holstein and Hamburg":"Schleswig-Holstein-and-Hamburg","Scotland":"Scotland","Semnan":"Semnan","Shaanxi":"Shaanxi","Shandong":"Shandong","Shanghai":"Shanghai","Shannon":"Shannon","Shanxi":"Shanxi","Sharjah":"Sharjah","Shikoku":"Shikoku","Sichuan":"Sichuan","Sicily":"Sicily","Silesia":"Silesia","Sinai":"Sinai","Sindh":"Sindh","Singapore City":"Singapore-City","Sistan and Baluchistan":"Sistan-Baluchistan","Siveria":"Siveria","Sjaelland":"Sjaelland","Slavonia":"Slavonia","Sloboda":"Sloboda","Slovenian Littoral":"Slovenian-Littoral","Smaland":"Smaland","Sofia":"Sofia","Sorlandet":"Sorlandet","South Australia":"South-Australia","South Carolina":"South-Carolina","South Dakota":"South-Dakota","South Dalmatia":"South-Dalmatia","South East Chaco":"South-East-Chaco","South East of England":"South-East-of-England","South Khorasan":"South-Khorasan","South West of England":"South-West-of-England","Southeast of Brazil":"Southeast-of-Brazil","Southeast of Ireland":"Southeast-of-Ireland","Southeast of Mexico":"Southeast-of-Mexico","Southeastern Anatolia":"Southeastern-Anatolia","Southern Basarabia":"Southern-Basarabia","Southern Bohemia":"Southern-Bohemia","Southern Cyprus":"Southern-Cyprus","Southern Finland":"Southern-Finland","Southern Great Plain":"Southern-Great-Plain","Southern Low Amazon":"Southern-Low-Amazon","Southern Netherlands":"Southern-Netherlands","Southern Serbia":"Southern-Serbia","Southern Taiwan":"Southern-Taiwan","Southern Thailand":"Southern-Thailand","Southern Transdanubia":"Southern-Transdanubia","Southwestern Iran":"Southwestern-Iran","Styria":"Styria","Styria and Carinthia":"Styria-Carinthia","Subcarpathia":"Subcarpathia","Sudovia":"Sudovia","Sulawesi":"Sulawesi","Sumadija":"Sumadija","Sumatra":"Sumatra","Svalbard & Jan Mayen":"Svalbard-Jan-Mayen","Svealand":"Svealand","Svizzera italiana":"Svizzera-italiana","Syddanmark":"Syddanmark","Tabuk":"Tabuk","Tamil Nadu":"Tamil-Nadu","Tasmania":"Tasmania","Taurida":"Taurida","Tel Aviv Center District":"Tel-Aviv-Center-District","Tennessee":"Tennessee","Texas":"Texas","Thessaly":"Thessaly","Thrace":"Thrace","Thuringia":"Thuringia","Tibet":"Tibet","Tohoku":"Tohoku","Transilvania":"Transilvania","Transnistria":"Transnistria","Trentino-South Tyrol":"Trentino-South-Tyrol","Trondelag":"Trondelag","Tuscany":"Tuscany","Tyrol":"Tyrol","Umbria":"Umbria","Umm al Quwain":"Umm-al-Quwain","Upper Austria":"Upper-Austria","Upper Carniola":"Upper-Carniola","Upper Egypt":"Upper-Egypt","Upper Normandy":"Upper-Normandy","Urals":"Urals","Utah":"Utah","Uttar Pradesh":"Uttar-Pradesh","Valencian Community":"Valencian","Valley of Mexico":"Valley-of-Mexico","Varna":"Varna","Veneto":"Veneto","Venezuelan Andean":"Venezuelan-Andean","Venezuelan Capital":"Venezuelan-Capital","Vermont":"Vermont","Vestlandet":"Vestlandet","Victoria":"Victoria","Vidin":"Vidin","Vidzeme":"Vidzeme","Virginia":"Virginia","Visayas":"Visayas","Vitsebskaya":"Vitsebskaya","Vojvodina":"Vojvodina","Volga":"Volga","Volga Vyatka":"Volga-Vyatka","Volhynia":"Volhynia","Vorarlberg":"Vorarlberg","Wales":"Wales","Wallonia":"Wallonia","Washington":"Washington","Wellington":"Wellington","West Bengal":"West-Bengal","West Midlands":"West-Midlands","West Srpska Republic":"West-Srpska-Republic","West Virginia":"West-Virginia","Western Australia":"Western-Australia","Western Cape":"Western-Cape","Western Desert":"Western-Desert","Western Finland":"Western-Finland","Western Macedonia":"Western-Macedonia","Western Netherlands":"Western-Netherlands","Western Serbia":"Western-Serbia","Western Siberia":"Western-Siberia","Western Slovakia":"Western-Slovakia","Western Transdanubia":"Western-Transdanubia","Wisconsin":"Wisconsin","Wyoming":"Wyoming","Xinjiang":"Xinjiang","Yazd":"Yazd","Yorkshire & Humberside":"Yorkshire-Humberside","Yukon":"Yukon","Yunnan":"Yunnan","Zaporozhia":"Zaporozhia","Zemgale":"Zemgale","Zhejiang":"Zhejiang","Zona Austral":"Zona-Austral","Zona Central":"Zona-Central","Zona Sur":"Zona-Sur","Zulian":"Zulian"};
var link_region = {"Abruzzo":"Abruzzo","Abu-Dhabi":"Abu Dhabi","Aegean-Coast-of-Turkey":"Aegean Coast of Turkey","Aegean-Islands":"Aegean Islands","Ajman":"Ajman","Al-Bahah":"Al Bahah","Al-Jawf":"Al Jawf","Al-Madinah":"Al Madinah","Al-Qasim":"Al Qasim","Al-Riyadh":"Al Riyadh","Alabama":"Alabama","Aland":"Aland","Alaska":"Alaska","Alberta":"Alberta","Alentejo":"Alentejo","Algarve":"Algarve","Alsace":"Alsace","Amazonica":"Amazonica","Andalucia":"Andalucia","Andhra-Pradesh":"Andhra Pradesh","Andina":"Andina","Anhui":"Anhui","Aosta-Valley":"Aosta Valley","Apulia":"Apulia","Aquitaine":"Aquitaine","Aragon":"Aragon","Argentine-Northwest":"Argentine Northwest","Arizona":"Arizona","Arkansas":"Arkansas","Asir":"Asir","Asturias":"Asturias","Attica":"Attica","Auckland":"Auckland","Auvergne":"Auvergne","Azores":"Azores","Baden-Wurttemberg":"Baden-Wurttemberg","Baja":"Baja","Balearic-Islands":"Balearic Islands","Balochistan":"Balochistan","Banat":"Banat","Basilicata":"Basilicata","Basque-Country":"Basque Country","Bassarabia":"Bassarabia","Bavaria":"Bavaria","Beersheba-South-District":"Beersheba South District","Beijing":"Beijing","Belgrade":"Belgrade","Beni-and-Cochabamba":"Beni and Cochabamba","Bihar":"Bihar","Black-Sea-Coast-of-Turkey":"Black Sea Coast of Turkey","Bohus":"Bohus","Bolivian-Altiplano":"Bolivian Altiplano","Brandenburg-and-Berlin":"Brandenburg and Berlin","Bratislava":"Bratislava","Brestskaya":"Brestskaya","British-Columbia":"British Columbia","Brittany":"Brittany","Brussels":"Brussels","Br?ko-District":"Br?ko District","Bucovina":"Bucovina","Bukovina":"Bukovina","Burgas":"Burgas","Burgenland":"Burgenland","Burgundy":"Burgundy","Calabria":"Calabria","California":"California","Campania":"Campania","Canary-Islands":"Canary Islands","Cantabria":"Cantabria","Canterbury":"Canterbury","Caribe-e-Insular":"Caribe e Insular","Carinthia":"Carinthia","Castilla-La-Mancha":"Castilla La Mancha","Castilla-Leon":"Castilla y Leon","Catalonia":"Catalonia","Center-West-of-Brazil":"Center West of Brazil","Central-Anatolia":"Central Anatolia","Central-Black-Earth":"Central Black Earth","Central-Croatia":"Central Croatia","Central-East-Chaco":"Central East Chaco","Central-Greece":"Central Greece","Central-Hungary":"Central Hungary","Central-Montenegro":"Central Montenegro","Central-Slovakia":"Central Slovakia","Central-Taiwan":"Central Taiwan","Central-Thailand":"Central Thailand","Central-Transdanubia":"Central Transdanubia","Central-Venezuela":"Central Venezuela","Central-Western-Venezuela":"Central Western Venezuela","Centro":"Centro","Chagang":"Chagang","Champagne-Ardenne":"Champagne Ardenne","Charrua":"Charrua","Chhattisgarh":"Chhattisgarh","Chimor":"Chimor","Chisinau":"Chisinau","Chongqing":"Chongqing","Chubu":"Chubu","Chugoku":"Chugoku","Chungcheongbuk":"Chungcheongbuk-do","Chungcheongnam":"Chungcheongnam-do","Chuquisaca-and-Tarija":"Chuquisaca and Tarija","Colorado":"Colorado","Connecticut":"Connecticut","Cork-and-Kerry":"Cork and Kerry","Corsica":"Corsica","Crete":"Crete","Crisana":"Crisana","Cundiboyacense":"Cundiboyacense","Cuyo":"Cuyo","Dainava":"Dainava","Delaware":"Delaware","Deutschschweiz":"Deutschschweiz","District-of-Columbia":"District of Columbia","Dnipro":"Dnipro","Dobrogea":"Dobrogea","Donbas":"Donbas","Dubai":"Dubai","Dublin":"Dublin","East-Midlands":"East Midlands","East-Srpska-Republic":"East Srpska Republic","East-of-England":"East of England","Eastern-Anatolia":"Eastern Anatolia","Eastern-Cape":"Eastern Cape","Eastern-Finland":"Eastern Finland","Eastern-Macedonia":"Eastern Macedonia","Eastern-Netherlands":"Eastern Netherlands","Eastern-Province":"Eastern Province","Eastern-Serbia":"Eastern Serbia","Eastern-Siberia":"Eastern Siberia","Eastern-Slovakia":"Eastern Slovakia","Eastern-Taiwan":"Eastern Taiwan","Eastern-Thailand":"Eastern Thailand","Emilia-Romagna":"Emilia-Romagna","Epirus":"Epirus","Esfahan":"Esfahan","Extremadura":"Extremadura","Far-Eastern-Russia":"Far Eastern Russia","Fars":"Fars","Federation of BiH":"Federation of BiH","Flanders":"Flanders","Florida":"Florida","Franche-comte":"Franche-comte","Free-State":"Free State","Friuli-Venezia-Giulia":"Friuli-Venezia Giulia","Fujairah":"Fujairah","Fujian":"Fujian","Galicia-Spain":"Galicia","Galicia-and-Lodomeria":"Galicia and Lodomeria","Gangwon":"Gangwon-do","Gansu":"Gansu","Gauteng":"Gauteng","Georgia":"Georgia","Gotaland":"Gotaland","Gotland":"Gotland","Graubunden":"Graubunden","Great-Andes":"Great Andes","Great-Poland":"Great Poland","Guangdong":"Guangdong","Guangxi":"Guangxi","Guayana":"Guayana","Guizhou":"Guizhou","Gujarat":"Gujarat","Gulf-of-Mexico":"Gulf of Mexico","Gyeonggi":"Gyeonggi-do","Gyeongsangbuk":"Gyeongsangbuk-do","Gyeongsangnam":"Gyeongsangnam-do","Ha-il":"Ha'il","Haifa-district":"Haifa district","Hainan":"Hainan","Hamgyong":"Hamgyong","Hawaii":"Hawaii","Heilongjiang":"Heilongjiang","Henan":"Henan","Hesse":"Hesse","Hokkaido":"Hokkaido","Homelskaya":"Homelskaya","Hormozgan":"Hormozgan","Hovedstaden":"Hovedstaden","Hrodzienskaya":"Hrodzienskaya","Hubei":"Hubei","Hunan":"Hunan","Hwangae":"Hwangae","Idaho":"Idaho","Illinois":"Illinois","Indiana":"Indiana","Inner-Carniola":"Inner Carniola","Inner-Mongolia":"Inner Mongolia","Ionian-Islands":"Ionian Islands","Iowa":"Iowa","Istria-Kvarner":"Istria and Kvarner","Jammu-Kashmir":"Jammu and Kashmir","Jamtland-Harjedalen":"Jamtland Harjedalen","Java":"Java","Jeju":"Jeju","Jeollabuk":"Jeollabuk-do","Jeollanam":"Jeollanam-do","Jerusalem-district":"Jerusalem district","Jharkhand":"Jharkhand","Jiangsu":"Jiangsu","Jiangxi":"Jiangxi","Jilin":"Jilin","Jizan":"Jizan","Kalimantan":"Kalimantan","Kaliningrad":"Kaliningrad","Kangwon":"Kangwon","Kansas":"Kansas","Kanto":"Kanto","Karnataka":"Karnataka","Kentucky":"Kentucky","Kerala":"Kerala","Kerman-Province":"Kerman Province","Kesk-Eesti":"Kesk-Eesti","Kinki":"Kinki","Kirde-Eesti":"Kirde-Eesti","Kurzeme":"Kurzeme","KwaZulu-Natal":"KwaZulu Natal","Kyushu":"Kyushu","La-Rioja":"La Rioja","Laane-Eesti":"Laane-Eesti","Languedoc-Roussillon":"Languedoc Roussillon","Lapland":"Lapland","Latgale":"Latgale","Lazio":"Lazio","Leningrad-Oblast":"Leningrad Oblast","Lesser-Sunda-Islands":"Lesser Sunda Islands","Liaoning":"Liaoning","Liguria":"Liguria","Lika-Gorski-Kotar":"Lika and Gorski Kotar","Lima":"Lima","Limousin":"Limousin","Limpopo":"Limpopo","Lisboa":"Lisboa","Lithuania-Minor":"Lithuania Minor","Lithuanian-Highland":"Lithuanian Highland","Little-Poland":"Little Poland","Llanos":"Llanos","Loire-Valley":"Loire Valley","Lombardy":"Lombardy","London":"London","Lorraine":"Lorraine","Louisiana":"Louisiana","Louna-Eesti":"Louna-Eesti","Low-Andes":"Low Andes","Lower-Austria":"Lower Austria","Lower-Carniola":"Lower Carniola","Lower-Egypt":"Lower Egypt","Lower-Normandy":"Lower Normandy","Lower-Saxony-and-Bremen":"Lower Saxony and Bremen","Luzon":"Luzon","Macedonia":"Macedonia","Madeira":"Madeira","Madhya-Pradesh":"Madhya Pradesh","Madrid":"Madrid","Maharashtra":"Maharashtra","Mahilyowskaya":"Mahilyowskaya","Maine":"Maine","Makkah":"Makkah","Maluku-islands":"Maluku islands","Manitoba":"Manitoba","Maramures":"Maramures","Marche":"Marche","Marmara":"Marmara","Maryland":"Maryland","Massachusetts":"Massachusetts","Mazandaran-and-Golistan":"Mazandaran and Golistan","Mazovia":"Mazovia","Mazuria":"Mazuria","Mecklenburg":"Mecklenburg-Western Pomerania","Mediterranean-Coast-of-Turkey":"Mediterranean Coast of Turkey","Mesopotamia":"Mesopotamia","Michigan":"Michigan","Mid-Andes":"Mid Andes","Middle-Egypt":"Middle Egypt","Midi-Pyrenees":"Midi-Pyrenees","Midtjylland":"Midtjylland","Mindanao":"Mindanao","Minnesota":"Minnesota","Minskaya":"Minskaya","Mississippi":"Mississippi","Missouri":"Missouri","Moldova":"Moldova","Molise":"Molise","Montana":"Montana","Montenegrin-Coast":"Montenegrin Coast","Moravia":"Moravia","Moscow-and-Central-Russia":"Moscow and Central Russia","Mpumalanga":"Mpumalanga","Muntenia":"Muntenia","Murcia":"Murcia","Najran":"Najran","Navarra":"Navarra","Nazareth-North-District":"Nazareth North District","Nebraska":"Nebraska","Nevada":"Nevada","New-Brunswick":"New Brunswick","New-Hampshire":"New Hampshire","New-Jersey":"New Jersey","New-Mexico":"New Mexico","New-South-Wales":"New South Wales","New-York":"New York","Newfoundland":"Newfoundland and Labrador","Ningxia":"Ningxia","Nord-Norge":"Nord-Norge","Nordjylland":"Nordjylland","Norrland-Sameland":"Norrland and Sameland","Norte":"Norte","Norte-Chico":"Norte Chico","Norte-Grande":"Norte Grande","North Rhine-Westphalia":"North Rhine-Westphalia","North-Calais":"North Calais","North-Carolina":"North Carolina","North-Caucasus":"North Caucasus","North-Dakota":"North Dakota","North-Dalmatia":"North Dalmatia","North-East-of-England":"North East of England","North-Eastern-India":"North Eastern India","North-Eastern-Thailand":"North-Eastern Thailand","North-Eastern-Venezuela":"North Eastern Venezuela","North-Montenegrin-Mountains":"North Montenegrin Mountains","North-West-Frontier":"North-West Frontier Province","North-West-Province":"North West Province","North-West-of-England":"North West of England","North-of-Brazil":"North of Brazil","Northeast-of-Brazil":"Northeast of Brazil","Northeast-of-Ireland":"Northeast of Ireland","Northeast-of-Mexico":"Northeast of Mexico","Northern-Basarabia":"Northern Basarabia","Northern-Bohemia":"Northern Bohemia","Northern-Borders":"Northern Borders","Northern-Cape":"Northern Cape","Northern-Cyprus":"Northern Cyprus","Northern-Great-Plain":"Northern Great Plain","Northern-Hungary":"Northern Hungary","Northern-India":"Northern India","Northern-Ireland":"Northern Ireland","Northern-Low-Amazon":"Northern Low Amazon","Northern-Netherlands":"Northern Netherlands","Northern-Russia":"Northern Russia","Northern-Taiwan":"Northern Taiwan","Northern-Territory":"Northern Territory","Northern-Thailand":"Northern Thailand","Northwest-Croatia":"Northwest Croatia","Northwest-Territories":"Northwest Territories","Northwest-of-Ireland":"Northwest of Ireland","Northwest-of-Mexico":"Northwest of Mexico","Northwestern-Iran":"Northwestern Iran","Nova-Scotia":"Nova Scotia","Nunavut":"Nunavut","Oaxaca":"Oaxaca","Ohio":"Ohio","Oklahoma":"Oklahoma","Oltenia":"Oltenia","Ontario":"Ontario","Oregon":"Oregon","Orinoquia":"Orinoquia","Orissa":"Orissa","Ostlandet":"Ostlandet","Otago":"Otago","Oulu":"Oulu","Pacific-Coast-of-Mexico":"Pacific Coast of Mexico","Pacifica":"Pacifica","Palawan":"Palawan","Pampas":"Pampas","Pando":"Pando","Papua":"Papua","Parana-and-Santa-Catarina":"Parana and Santa Catarina","Paranena":"Paranena","Paris-Isle-of-France":"Paris Isle of France","Patagonia":"Patagonia","Pays-de-la-Loire":"Pays de la Loire","Peloponnese":"Peloponnese","Peninsular-Malaysia ":"Peninsular Malaysia ","Pennsylvania":"Pennsylvania","Picardy":"Picardy","Piedmont":"Piedmont","Plovdiv":"Plovdiv","Podolia":"Podolia","Pohja-Eesti":"Pohja-Eesti","Poitou-Charentes":"Poitou Charentes","Polisia":"Polisia","Pomerania":"Pomerania","Povardarie":"Povardarie","Prekmurje":"Prekmurje","Prince-Edward-Island":"Prince Edward Island","Provence-Alpes-Azur":"Provence Alpes Azur","Punjab":"Punjab","Pyongan":"Pyongan","Qinghai":"Qinghai","Quebec":"Quebec","Queensland":"Queensland","Rajasthan":"Rajasthan","Ras-al-Khaimah":"Ras al-Khaimah","Raska":"Raska","Razavi-Khorasan":"Razavi Khorasan","Red-Sea-Coast":"Red Sea Coast","Rhineland-Palatinate":"Rhineland-Palatinate","Rhode-Island":"Rhode Island","Rhone-Alps":"Rhone Alps","Rio-Grande-do-Sul":"Rio Grande do Sul","Romandie":"Romandie","Ruse":"Ruse","Ryanggang":"Ryanggang","Saarland":"Saarland","Sabah":"Sabah","Salzburg":"Salzburg","Samogitia":"Samogitia","Santa-Cruz":"Santa Cruz","Sarawak":"Sarawak","Sardinia":"Sardinia","Saskatchewan":"Saskatchewan","Saxony":"Saxony","Saxony-Anhalt":"Saxony-Anhalt","Scania":"Scania","Schleswig-Holstein-and-Hamburg":"Schleswig-Holstein and Hamburg","Scotland":"Scotland","Semnan":"Semnan","Shaanxi":"Shaanxi","Shandong":"Shandong","Shanghai":"Shanghai","Shannon":"Shannon","Shanxi":"Shanxi","Sharjah":"Sharjah","Shikoku":"Shikoku","Sichuan":"Sichuan","Sicily":"Sicily","Silesia":"Silesia","Sinai":"Sinai","Sindh":"Sindh","Singapore-City":"Singapore City","Sistan-Baluchistan":"Sistan and Baluchistan","Siveria":"Siveria","Sjaelland":"Sjaelland","Slavonia":"Slavonia","Sloboda":"Sloboda","Slovenian-Littoral":"Slovenian Littoral","Smaland":"Smaland","Sofia":"Sofia","Sorlandet":"Sorlandet","South-Australia":"South Australia","South-Carolina":"South Carolina","South-Dakota":"South Dakota","South-Dalmatia":"South Dalmatia","South-East-Chaco":"South East Chaco","South-East-of-England":"South East of England","South-Khorasan":"South Khorasan","South-West-of-England":"South West of England","Southeast-of-Brazil":"Southeast of Brazil","Southeast-of-Ireland":"Southeast of Ireland","Southeast-of-Mexico":"Southeast of Mexico","Southeastern-Anatolia":"Southeastern Anatolia","Southern-Basarabia":"Southern Basarabia","Southern-Bohemia":"Southern Bohemia","Southern-Cyprus":"Southern Cyprus","Southern-Finland":"Southern Finland","Southern-Great-Plain":"Southern Great Plain","Southern-Low-Amazon":"Southern Low Amazon","Southern-Netherlands":"Southern Netherlands","Southern-Serbia":"Southern Serbia","Southern-Taiwan":"Southern Taiwan","Southern-Thailand":"Southern Thailand","Southern-Transdanubia":"Southern Transdanubia","Southwestern-Iran":"Southwestern Iran","Styria":"Styria","Styria-Carinthia":"Styria and Carinthia","Subcarpathia":"Subcarpathia","Sudovia":"Sudovia","Sulawesi":"Sulawesi","Sumadija":"Sumadija","Sumatra":"Sumatra","Svalbard-Jan-Mayen":"Svalbard & Jan Mayen","Svealand":"Svealand","Svizzera-italiana":"Svizzera italiana","Syddanmark":"Syddanmark","Tabuk":"Tabuk","Tamil-Nadu":"Tamil Nadu","Tasmania":"Tasmania","Taurida":"Taurida","Tel-Aviv-Center-District":"Tel Aviv Center District","Tennessee":"Tennessee","Texas":"Texas","Thessaly":"Thessaly","Thrace":"Thrace","Thuringia":"Thuringia","Tibet":"Tibet","Tohoku":"Tohoku","Transilvania":"Transilvania","Transnistria":"Transnistria","Trentino-South-Tyrol":"Trentino-South Tyrol","Trondelag":"Trondelag","Tuscany":"Tuscany","Tyrol":"Tyrol","Umbria":"Umbria","Umm-al-Quwain":"Umm al Quwain","Upper-Austria":"Upper Austria","Upper-Carniola":"Upper Carniola","Upper-Egypt":"Upper Egypt","Upper-Normandy":"Upper Normandy","Urals":"Urals","Utah":"Utah","Uttar-Pradesh":"Uttar Pradesh","Valencian":"Valencian Community","Valley-of-Mexico":"Valley of Mexico","Varna":"Varna","Veneto":"Veneto","Venezuelan-Andean":"Venezuelan Andean","Venezuelan-Capital":"Venezuelan Capital","Vermont":"Vermont","Vestlandet":"Vestlandet","Victoria":"Victoria","Vidin":"Vidin","Vidzeme":"Vidzeme","Virginia":"Virginia","Visayas":"Visayas","Vitsebskaya":"Vitsebskaya","Vojvodina":"Vojvodina","Volga":"Volga","Volga-Vyatka":"Volga Vyatka","Volhynia":"Volhynia","Vorarlberg":"Vorarlberg","Wales":"Wales","Wallonia":"Wallonia","Washington":"Washington","Wellington":"Wellington","West-Bengal":"West Bengal","West-Midlands":"West Midlands","West-Srpska-Republic":"West Srpska Republic","West-Virginia":"West Virginia","Western-Australia":"Western Australia","Western-Cape":"Western Cape","Western-Desert":"Western Desert","Western-Finland":"Western Finland","Western-Macedonia":"Western Macedonia","Western-Netherlands":"Western Netherlands","Western-Serbia":"Western Serbia","Western-Siberia":"Western Siberia","Western-Slovakia":"Western Slovakia","Western-Transdanubia":"Western Transdanubia","Wisconsin":"Wisconsin","Wyoming":"Wyoming","Xinjiang":"Xinjiang","Yazd":"Yazd","Yorkshire-Humberside":"Yorkshire & Humberside","Yukon":"Yukon","Yunnan":"Yunnan","Zaporozhia":"Zaporozhia","Zemgale":"Zemgale","Zhejiang":"Zhejiang","Zona-Austral":"Zona Austral","Zona-Central":"Zona Central","Zona-Sur":"Zona Sur","Zulian":"Zulian"};
var region_id = {"Abruzzo":"259","Abu Dhabi":"736","Aegean Coast of Turkey":"512","Aegean Islands":"420","Ajman":"739","Al Bahah":"718","Al Jawf":"720","Al Madinah":"721","Al Qasim":"722","Al Riyadh":"717","Alabama":"40","Aland":"242","Alaska":"41","Alberta":"97","Alentejo":"160","Algarve":"161","Alsace":"185","Amazonica":"689","Andalucia":"167","Andhra Pradesh":"450","Andina":"690","Anhui":"361","Aosta Valley":"260","Apulia":"261","Aquitaine":"186","Aragon":"168","Argentine Northwest":"152","Arizona":"42","Arkansas":"43","Asir":"724","Asturias":"169","Attica":"418","Auckland":"713","Auvergne":"187","Azores":"162","Baden-Wurttemberg":"243","Baja":"116","Balearic Islands":"184","Balochistan":"492","Banat":"11","Basilicata":"262","Basque Country":"170","Bassarabia":"140","Bavaria":"244","Beersheba South District":"471","Beijing":"395","Belgrade":"635","Beni and Cochabamba":"678","Bihar":"458","Black Sea Coast of Turkey":"513","Bohus":"323","Bolivian Altiplano":"680","Brandenburg and Berlin":"246","Bratislava":"312","Brestskaya":"707","British Columbia":"103","Brittany":"188","Brussels":"228","Br?ko District":"651","Bucovina":"39","Bukovina":"137","Burgas":"349","Burgenland":"340","Burgundy":"189","Calabria":"263","California":"44","Campania":"264","Canary Islands":"183","Cantabria":"171","Canterbury":"715","Caribe e Insular":"691","Carinthia":"341","Castilla La Mancha":"181","Castilla y Leon":"173","Catalonia":"174","Center West of Brazil":"146","Central Anatolia":"514","Central Black Earth":"533","Central Croatia":"623","Central East Chaco":"676","Central Greece":"417","Central Hungary":"111","Central Montenegro":"699","Central Slovakia":"316","Central Taiwan":"702","Central Thailand":"507","Central Transdanubia":"110","Central Venezuela":"125","Central Western Venezuela":"126","Centro":"159","Chagang":"668","Champagne Ardenne":"191","Charrua":"674","Chhattisgarh":"455","Chimor":"685","Chisinau":"92","Chongqing":"396","Chubu":"487","Chugoku":"489","Chungcheongbuk-do":"521","Chungcheongnam-do":"522","Chuquisaca and Tarija":"677","Colorado":"45","Connecticut":"46","Cork and Kerry":"209","Corsica":"192","Crete":"422","Crisana":"36","Cundiboyacense":"694","Cuyo":"155","Dainava":"666","Delaware":"47","Deutschschweiz":"336","District of Columbia":"90","Dnipro":"138","Dobrogea":"3","Donbas":"143","Dubai":"737","Dublin":"208","East Midlands":"222","East Srpska Republic":"650","East of England":"224","Eastern Anatolia":"515","Eastern Cape":"497","Eastern Finland":"239","Eastern Macedonia":"697","Eastern Netherlands":"530","Eastern Province":"725","Eastern Serbia":"637","Eastern Siberia":"534","Eastern Slovakia":"319","Eastern Taiwan":"703","Eastern Thailand":"509","Emilia-Romagna":"265","Epirus":"416","Esfahan":"478","Extremadura":"175","Far Eastern Russia":"535","Fars":"479","Federation of BiH":"652","Flanders":"229","Florida":"48","Franche-comte":"193","Free State":"498","Friuli-Venezia Giulia":"266","Fujairah":"742","Fujian":"362","Galicia":"176","Galicia and Lodomeria":"133","Gangwon-do":"520","Gansu":"363","Gauteng":"499","Georgia":"49","Gotaland":"325","Gotland":"549","Graubunden":"339","Great Andes":"682","Great Poland":"426","Guangdong":"364","Guangxi":"390","Guayana":"127","Guizhou":"384","Gujarat":"448","Gulf of Mexico":"120","Gyeonggi-do":"519","Gyeongsangbuk-do":"525","Gyeongsangnam-do":"526","Ha'il":"723","Haifa district":"469","Hainan":"385","Hamgyong":"672","Hawaii":"50","Heilongjiang":"368","Henan":"386","Hesse":"249","Hokkaido":"484","Homelskaya":"708","Hormozgan":"480","Hovedstaden":"231","Hrodzienskaya":"709","Hubei":"370","Hunan":"371","Hwangae":"670","Idaho":"51","Illinois":"52","Indiana":"53","Inner Carniola":"581","Inner Mongolia":"391","Ionian Islands":"421","Iowa":"54","Istria and Kvarner":"626","Jammu and Kashmir":"561","Jamtland Harjedalen":"322","Java":"461","Jeju":"527","Jeollabuk-do":"523","Jeollanam-do":"524","Jerusalem district":"467","Jharkhand":"456","Jiangsu":"372","Jiangxi":"373","Jilin":"387","Jizan":"729","Kalimantan":"462","Kaliningrad":"543","Kangwon":"671","Kansas":"55","Kanto":"486","Karnataka":"451","Kentucky":"56","Kerala":"453","Kerman Province":"472","Kesk-Eesti":"656","Kinki":"488","Kirde-Eesti":"655","Kurzeme":"662","KwaZulu Natal":"500","Kyushu":"491","La Rioja":"179","Laane-Eesti":"657","Languedoc Roussillon":"194","Lapland":"241","Latgale":"660","Lazio":"267","Leningrad Oblast":"538","Lesser Sunda Islands":"463","Liaoning":"375","Liguria":"268","Lika and Gorski Kotar":"625","Lima":"688","Limousin":"195","Limpopo":"501","Lisboa":"157","Lithuania Minor":"663","Lithuanian Highland":"665","Little Poland":"425","Llanos":"129","Loire Valley":"190","Lombardy":"269","London":"216","Lorraine":"196","Louisiana":"57","Louna-Eesti":"658","Low Andes":"684","Lower Austria":"342","Lower Carniola":"611","Lower Egypt":"731","Lower Normandy":"197","Lower Saxony and Bremen":"251","Luzon":"644","Macedonia":"414","Madeira":"163","Madhya Pradesh":"447","Madrid":"166","Maharashtra":"449","Mahilyowskaya":"711","Maine":"58","Makkah":"728","Maluku islands":"465","Manitoba":"105","Maramures":"38","Marche":"270","Marmara":"516","Maryland":"59","Massachusetts":"60","Mazandaran and Golistan":"483","Mazovia":"424","Mazuria":"423","Mecklenburg-Western Pomerania":"250","Mediterranean Coast of Turkey":"517","Mesopotamia":"154","Michigan":"61","Mid Andes":"683","Middle Egypt":"733","Midi-Pyrenees":"198","Midtjylland":"232","Mindanao":"646","Minnesota":"62","Minskaya":"710","Mississippi":"63","Missouri":"64","Moldova":"37","Molise":"271","Montana":"65","Montenegrin Coast":"700","Moravia":"440","Moscow and Central Russia":"532","Mpumalanga":"502","Muntenia":"5","Murcia":"177","Najran":"727","Navarra":"178","Nazareth North District":"468","Nebraska":"66","Nevada":"67","New Brunswick":"98","New Hampshire":"68","New Jersey":"69","New Mexico":"70","New South Wales":"328","New York":"71","Newfoundland and Labrador":"102","Ningxia":"392","Nord-Norge":"291","Nordjylland":"233","Norrland and Sameland":"321","Norte":"158","Norte Chico":"630","Norte Grande":"629","North Calais":"207","North Carolina":"72","North Caucasus":"537","North Dakota":"73","North Dalmatia":"627","North East of England":"226","North Eastern India":"459","North Eastern Venezuela":"130","North Montenegrin Mountains":"698","North Rhine-Westphalia":"252","North West Province":"503","North West of England":"227","North of Brazil":"147","North-Eastern Thailand":"511","North-West Frontier Province":"493","Northeast of Brazil":"148","Northeast of Ireland":"215","Northeast of Mexico":"122","Northern Basarabia":"91","Northern Bohemia":"442","Northern Borders":"719","Northern Cape":"504","Northern Cyprus":"706","Northern Great Plain":"113","Northern Hungary":"112","Northern India":"443","Northern Ireland":"219","Northern Low Amazon":"686","Northern Netherlands":"531","Northern Russia":"536","Northern Taiwan":"701","Northern Territory":"334","Northern Thailand":"508","Northwest Croatia":"624","Northwest Territories":"106","Northwest of Ireland":"212","Northwest of Mexico":"117","Northwestern Iran":"482","Nova Scotia":"99","Nunavut":"107","Oaxaca":"119","Ohio":"74","Oklahoma":"75","Oltenia":"9","Ontario":"95","Oregon":"76","Orinoquia":"692","Orissa":"454","Ostlandet":"295","Otago":"716","Oulu":"240","Pacific Coast of Mexico":"118","Pacifica":"693","Palawan":"647","Pampas":"151","Pando":"681","Papua":"466","Parana and Santa Catarina":"150","Paranena":"675","Paris Isle of France":"199","Patagonia":"156","Pays de la Loire":"200","Peloponnese":"419","Peninsular Malaysia ":"643","Pennsylvania":"77","Picardy":"201","Piedmont":"272","Plovdiv":"353","Podolia":"136","Pohja-Eesti":"654","Poitou Charentes":"202","Polisia":"135","Pomerania":"306","Povardarie":"695","Prekmurje":"621","Prince Edward Island":"96","Provence Alpes Azur":"203","Punjab":"494","Pyongan":"669","Qinghai":"389","Quebec":"100","Queensland":"329","Rajasthan":"446","Ras al-Khaimah":"740","Raska":"639","Razavi Khorasan":"475","Red Sea Coast":"735","Rhineland-Palatinate":"253","Rhode Island":"78","Rhone Alps":"204","Rio Grande do Sul":"653","Romandie":"337","Ruse":"358","Ryanggang":"673","Saarland":"254","Sabah":"641","Salzburg":"344","Samogitia":"664","Santa Cruz":"679","Sarawak":"642","Sardinia":"273","Saskatchewan":"101","Saxony":"255","Saxony-Anhalt":"256","Scania":"324","Schleswig-Holstein and Hamburg":"257","Scotland":"217","Semnan":"477","Shaanxi":"377","Shandong":"378","Shanghai":"397","Shannon":"210","Shanxi":"379","Sharjah":"738","Shikoku":"490","Sichuan":"380","Sicily":"274","Silesia":"307","Sinai":"730","Sindh":"495","Singapore City":"648","Sistan and Baluchistan":"473","Siveria":"139","Sjaelland":"235","Slavonia":"622","Sloboda":"142","Slovenian Littoral":"571","Smaland":"326","Sofia":"355","Sorlandet":"292","South Australia":"330","South Carolina":"79","South Dakota":"80","South Dalmatia":"628","South East Chaco":"153","South East of England":"220","South Khorasan":"474","South West of England":"221","Southeast of Brazil":"149","Southeast of Ireland":"213","Southeast of Mexico":"121","Southeastern Anatolia":"518","Southern Basarabia":"93","Southern Bohemia":"437","Southern Cyprus":"705","Southern Finland":"237","Southern Great Plain":"114","Southern Low Amazon":"687","Southern Netherlands":"529","Southern Serbia":"640","Southern Taiwan":"704","Southern Thailand":"510","Southern Transdanubia":"109","Southwestern Iran":"481","Styria":"345","Styria and Carinthia":"601","Subcarpathia":"132","Sudovia":"667","Sulawesi":"464","Sumadija":"636","Sumatra":"460","Svalbard & Jan Mayen":"562","Svealand":"320","Svizzera italiana":"338","Syddanmark":"236","Tabuk":"726","Tamil Nadu":"452","Tasmania":"331","Taurida":"144","Tel Aviv Center District":"470","Tennessee":"81","Texas":"82","Thessaly":"415","Thrace":"413","Thuringia":"258","Tibet":"394","Tohoku":"485","Transilvania":"35","Transnistria":"94","Trentino-South Tyrol":"275","Trondelag":"293","Tuscany":"276","Tyrol":"346","Umbria":"277","Umm al Quwain":"741","Upper Austria":"343","Upper Carniola":"591","Upper Egypt":"734","Upper Normandy":"205","Urals":"540","Utah":"83","Uttar Pradesh":"445","Valencian Community":"180","Valley of Mexico":"115","Varna":"356","Veneto":"278","Venezuelan Andean":"123","Venezuelan Capital":"124","Vermont":"84","Vestlandet":"294","Victoria":"332","Vidin":"352","Vidzeme":"659","Virginia":"85","Visayas":"645","Vitsebskaya":"712","Vojvodina":"634","Volga":"544","Volga Vyatka":"541","Volhynia":"134","Vorarlberg":"347","Wales":"218","Wallonia":"230","Washington":"86","Wellington":"714","West Bengal":"457","West Midlands":"223","West Srpska Republic":"649","West Virginia":"87","Western Australia":"333","Western Cape":"505","Western Desert":"732","Western Finland":"238","Western Macedonia":"696","Western Netherlands":"528","Western Serbia":"638","Western Siberia":"542","Western Slovakia":"315","Western Transdanubia":"108","Wisconsin":"88","Wyoming":"89","Xinjiang":"393","Yazd":"476","Yorkshire & Humberside":"225","Yukon":"104","Yunnan":"381","Zaporozhia":"141","Zemgale":"661","Zhejiang":"382","Zona Austral":"633","Zona Central":"631","Zona Sur":"632","Zulian":"131"};
var id_region = {"3":"Dobrogea","5":"Muntenia","9":"Oltenia","11":"Banat","35":"Transilvania","36":"Crisana","37":"Moldova","38":"Maramures","39":"Bucovina","40":"Alabama","41":"Alaska","42":"Arizona","43":"Arkansas","44":"California","45":"Colorado","46":"Connecticut","47":"Delaware","48":"Florida","49":"Georgia","50":"Hawaii","51":"Idaho","52":"Illinois","53":"Indiana","54":"Iowa","55":"Kansas","56":"Kentucky","57":"Louisiana","58":"Maine","59":"Maryland","60":"Massachusetts","61":"Michigan","62":"Minnesota","63":"Mississippi","64":"Missouri","65":"Montana","66":"Nebraska","67":"Nevada","68":"New Hampshire","69":"New Jersey","70":"New Mexico","71":"New York","72":"North Carolina","73":"North Dakota","74":"Ohio","75":"Oklahoma","76":"Oregon","77":"Pennsylvania","78":"Rhode Island","79":"South Carolina","80":"South Dakota","81":"Tennessee","82":"Texas","83":"Utah","84":"Vermont","85":"Virginia","86":"Washington","87":"West Virginia","88":"Wisconsin","89":"Wyoming","90":"District of Columbia","91":"Northern Basarabia","92":"Chisinau","93":"Southern Basarabia","94":"Transnistria","95":"Ontario","96":"Prince Edward Island","97":"Alberta","98":"New Brunswick","99":"Nova Scotia","100":"Quebec","101":"Saskatchewan","102":"Newfoundland and Labrador","103":"British Columbia","104":"Yukon","105":"Manitoba","106":"Northwest Territories","107":"Nunavut","108":"Western Transdanubia","109":"Southern Transdanubia","110":"Central Transdanubia","111":"Central Hungary","112":"Northern Hungary","113":"Northern Great Plain","114":"Southern Great Plain","115":"Valley of Mexico","116":"Baja","117":"Northwest of Mexico","118":"Pacific Coast of Mexico","119":"Oaxaca","120":"Gulf of Mexico","121":"Southeast of Mexico","122":"Northeast of Mexico","123":"Venezuelan Andean","124":"Venezuelan Capital","125":"Central Venezuela","126":"Central Western Venezuela","127":"Guayana","129":"Llanos","130":"North Eastern Venezuela","131":"Zulian","132":"Subcarpathia","133":"Galicia and Lodomeria","134":"Volhynia","135":"Polisia","136":"Podolia","137":"Bukovina","138":"Dnipro","139":"Siveria","140":"Bassarabia","141":"Zaporozhia","142":"Sloboda","143":"Donbas","144":"Taurida","146":"Center West of Brazil","147":"North of Brazil","148":"Northeast of Brazil","149":"Southeast of Brazil","150":"Parana and Santa Catarina","151":"Pampas","152":"Argentine Northwest","153":"South East Chaco","154":"Mesopotamia","155":"Cuyo","156":"Patagonia","157":"Lisboa","158":"Norte","159":"Centro","160":"Alentejo","161":"Algarve","162":"Azores","163":"Madeira","166":"Madrid","167":"Andalucia","168":"Aragon","169":"Asturias","170":"Basque Country","171":"Cantabria","173":"Castilla y Leon","174":"Catalonia","175":"Extremadura","176":"Galicia","177":"Murcia","178":"Navarra","179":"La Rioja","180":"Valencian Community","181":"Castilla La Mancha","183":"Canary Islands","184":"Balearic Islands","185":"Alsace","186":"Aquitaine","187":"Auvergne","188":"Brittany","189":"Burgundy","190":"Loire Valley","191":"Champagne Ardenne","192":"Corsica","193":"Franche-comte","194":"Languedoc Roussillon","195":"Limousin","196":"Lorraine","197":"Lower Normandy","198":"Midi-Pyrenees","199":"Paris Isle of France","200":"Pays de la Loire","201":"Picardy","202":"Poitou Charentes","203":"Provence Alpes Azur","204":"Rhone Alps","205":"Upper Normandy","207":"North Calais","208":"Dublin","209":"Cork and Kerry","210":"Shannon","212":"Northwest of Ireland","213":"Southeast of Ireland","215":"Northeast of Ireland","216":"London","217":"Scotland","218":"Wales","219":"Northern Ireland","220":"South East of England","221":"South West of England","222":"East Midlands","223":"West Midlands","224":"East of England","225":"Yorkshire & Humberside","226":"North East of England","227":"North West of England","228":"Brussels","229":"Flanders","230":"Wallonia","231":"Hovedstaden","232":"Midtjylland","233":"Nordjylland","235":"Sjaelland","236":"Syddanmark","237":"Southern Finland","238":"Western Finland","239":"Eastern Finland","240":"Oulu","241":"Lapland","242":"Aland","243":"Baden-Wurttemberg","244":"Bavaria","246":"Brandenburg and Berlin","249":"Hesse","250":"Mecklenburg-Western Pomerania","251":"Lower Saxony and Bremen","252":"North Rhine-Westphalia","253":"Rhineland-Palatinate","254":"Saarland","255":"Saxony","256":"Saxony-Anhalt","257":"Schleswig-Holstein and Hamburg","258":"Thuringia","259":"Abruzzo","260":"Aosta Valley","261":"Apulia","262":"Basilicata","263":"Calabria","264":"Campania","265":"Emilia-Romagna","266":"Friuli-Venezia Giulia","267":"Lazio","268":"Liguria","269":"Lombardy","270":"Marche","271":"Molise","272":"Piedmont","273":"Sardinia","274":"Sicily","275":"Trentino-South Tyrol","276":"Tuscany","277":"Umbria","278":"Veneto","291":"Nord-Norge","292":"Sorlandet","293":"Trondelag","294":"Vestlandet","295":"Ostlandet","306":"Pomerania","307":"Silesia","312":"Bratislava","315":"Western Slovakia","316":"Central Slovakia","319":"Eastern Slovakia","320":"Svealand","321":"Norrland and Sameland","322":"Jamtland Harjedalen","323":"Bohus","324":"Scania","325":"Gotaland","326":"Smaland","328":"New South Wales","329":"Queensland","330":"South Australia","331":"Tasmania","332":"Victoria","333":"Western Australia","334":"Northern Territory","336":"Deutschschweiz","337":"Romandie","338":"Svizzera italiana","339":"Graubunden","340":"Burgenland","341":"Carinthia","342":"Lower Austria","343":"Upper Austria","344":"Salzburg","345":"Styria","346":"Tyrol","347":"Vorarlberg","349":"Burgas","352":"Vidin","353":"Plovdiv","355":"Sofia","356":"Varna","358":"Ruse","361":"Anhui","362":"Fujian","363":"Gansu","364":"Guangdong","368":"Heilongjiang","370":"Hubei","371":"Hunan","372":"Jiangsu","373":"Jiangxi","375":"Liaoning","377":"Shaanxi","378":"Shandong","379":"Shanxi","380":"Sichuan","381":"Yunnan","382":"Zhejiang","384":"Guizhou","385":"Hainan","386":"Henan","387":"Jilin","389":"Qinghai","390":"Guangxi","391":"Inner Mongolia","392":"Ningxia","393":"Xinjiang","394":"Tibet","395":"Beijing","396":"Chongqing","397":"Shanghai","413":"Thrace","414":"Macedonia","415":"Thessaly","416":"Epirus","417":"Central Greece","418":"Attica","419":"Peloponnese","420":"Aegean Islands","421":"Ionian Islands","422":"Crete","423":"Mazuria","424":"Mazovia","425":"Little Poland","426":"Great Poland","437":"Southern Bohemia","440":"Moravia","442":"Northern Bohemia","443":"Northern India","445":"Uttar Pradesh","446":"Rajasthan","447":"Madhya Pradesh","448":"Gujarat","449":"Maharashtra","450":"Andhra Pradesh","451":"Karnataka","452":"Tamil Nadu","453":"Kerala","454":"Orissa","455":"Chhattisgarh","456":"Jharkhand","457":"West Bengal","458":"Bihar","459":"North Eastern India","460":"Sumatra","461":"Java","462":"Kalimantan","463":"Lesser Sunda Islands","464":"Sulawesi","465":"Maluku islands","466":"Papua","467":"Jerusalem district","468":"Nazareth North District","469":"Haifa district","470":"Tel Aviv Center District","471":"Beersheba South District","472":"Kerman Province","473":"Sistan and Baluchistan","474":"South Khorasan","475":"Razavi Khorasan","476":"Yazd","477":"Semnan","478":"Esfahan","479":"Fars","480":"Hormozgan","481":"Southwestern Iran","482":"Northwestern Iran","483":"Mazandaran and Golistan","484":"Hokkaido","485":"Tohoku","486":"Kanto","487":"Chubu","488":"Kinki","489":"Chugoku","490":"Shikoku","491":"Kyushu","492":"Balochistan","493":"North-West Frontier Province","494":"Punjab","495":"Sindh","497":"Eastern Cape","498":"Free State","499":"Gauteng","500":"KwaZulu Natal","501":"Limpopo","502":"Mpumalanga","503":"North West Province","504":"Northern Cape","505":"Western Cape","507":"Central Thailand","508":"Northern Thailand","509":"Eastern Thailand","510":"Southern Thailand","511":"North-Eastern Thailand","512":"Aegean Coast of Turkey","513":"Black Sea Coast of Turkey","514":"Central Anatolia","515":"Eastern Anatolia","516":"Marmara","517":"Mediterranean Coast of Turkey","518":"Southeastern Anatolia","519":"Gyeonggi-do","520":"Gangwon-do","521":"Chungcheongbuk-do","522":"Chungcheongnam-do","523":"Jeollabuk-do","524":"Jeollanam-do","525":"Gyeongsangbuk-do","526":"Gyeongsangnam-do","527":"Jeju","528":"Western Netherlands","529":"Southern Netherlands","530":"Eastern Netherlands","531":"Northern Netherlands","532":"Moscow and Central Russia","533":"Central Black Earth","534":"Eastern Siberia","535":"Far Eastern Russia","536":"Northern Russia","537":"North Caucasus","538":"Leningrad Oblast","540":"Urals","541":"Volga Vyatka","542":"Western Siberia","543":"Kaliningrad","544":"Volga","549":"Gotland","561":"Jammu and Kashmir","562":"Svalbard & Jan Mayen","571":"Slovenian Littoral","581":"Inner Carniola","591":"Upper Carniola","601":"Styria and Carinthia","611":"Lower Carniola","621":"Prekmurje","622":"Slavonia","623":"Central Croatia","624":"Northwest Croatia","625":"Lika and Gorski Kotar","626":"Istria and Kvarner","627":"North Dalmatia","628":"South Dalmatia","629":"Norte Grande","630":"Norte Chico","631":"Zona Central","632":"Zona Sur","633":"Zona Austral","634":"Vojvodina","635":"Belgrade","636":"Sumadija","637":"Eastern Serbia","638":"Western Serbia","639":"Raska","640":"Southern Serbia","641":"Sabah","642":"Sarawak","643":"Peninsular Malaysia ","644":"Luzon","645":"Visayas","646":"Mindanao","647":"Palawan","648":"Singapore City","649":"West Srpska Republic","650":"East Srpska Republic","651":"Br?ko District","652":"Federation of BiH","653":"Rio Grande do Sul","654":"Pohja-Eesti","655":"Kirde-Eesti","656":"Kesk-Eesti","657":"Laane-Eesti","658":"Louna-Eesti","659":"Vidzeme","660":"Latgale","661":"Zemgale","662":"Kurzeme","663":"Lithuania Minor","664":"Samogitia","665":"Lithuanian Highland","666":"Dainava","667":"Sudovia","668":"Chagang","669":"Pyongan","670":"Hwangae","671":"Kangwon","672":"Hamgyong","673":"Ryanggang","674":"Charrua","675":"Paranena","676":"Central East Chaco","677":"Chuquisaca and Tarija","678":"Beni and Cochabamba","679":"Santa Cruz","680":"Bolivian Altiplano","681":"Pando","682":"Great Andes","683":"Mid Andes","684":"Low Andes","685":"Chimor","686":"Northern Low Amazon","687":"Southern Low Amazon","688":"Lima","689":"Amazonica","690":"Andina","691":"Caribe e Insular","692":"Orinoquia","693":"Pacifica","694":"Cundiboyacense","695":"Povardarie","696":"Western Macedonia","697":"Eastern Macedonia","698":"North Montenegrin Mountains","699":"Central Montenegro","700":"Montenegrin Coast","701":"Northern Taiwan","702":"Central Taiwan","703":"Eastern Taiwan","704":"Southern Taiwan","705":"Southern Cyprus","706":"Northern Cyprus","707":"Brestskaya","708":"Homelskaya","709":"Hrodzienskaya","710":"Minskaya","711":"Mahilyowskaya","712":"Vitsebskaya","713":"Auckland","714":"Wellington","715":"Canterbury","716":"Otago","717":"Al Riyadh","718":"Al Bahah","719":"Northern Borders","720":"Al Jawf","721":"Al Madinah","722":"Al Qasim","723":"Ha'il","724":"Asir","725":"Eastern Province","726":"Tabuk","727":"Najran","728":"Makkah","729":"Jizan","730":"Sinai","731":"Lower Egypt","732":"Western Desert","733":"Middle Egypt","734":"Upper Egypt","735":"Red Sea Coast","736":"Abu Dhabi","737":"Dubai","738":"Sharjah","739":"Ajman","740":"Ras al-Khaimah","741":"Umm al Quwain","742":"Fujairah"};
var region_resource = {"Abruzzo":"oil","Abu Dhabi":"oil","Aegean Coast of Turkey":"fruit","Aegean Islands":"fish","Ajman":"fish","Al Bahah":"oil","Al Jawf":"aluminium","Al Madinah":"oil","Al Qasim":"grain","Al Riyadh":"grain","Alabama":"fruit","Aland":"fish","Alaska":"oil","Alberta":"cattle","Alentejo":"grain","Algarve":"grain","Alsace":"iron","Amazonica":"rubber","Andalucia":"saltpeter","Andhra Pradesh":"iron","Andina":"iron","Anhui":"cattle","Aosta Valley":"fruit","Apulia":"fish","Aquitaine":"rubber","Aragon":"deer","Argentine Northwest":"iron","Arizona":"cattle","Arkansas":"grain","Asir":"oil","Asturias":"iron","Attica":"fruit","Auckland":"grain","Auvergne":"grain","Azores":"fish","Baden-Wurttemberg":"iron","Baja":"saltpeter","Balearic Islands":"fish","Balochistan":"iron","Banat":"cattle","Basilicata":"fish","Basque Country":"fish","Bassarabia":"fish","Bavaria":"iron","Beersheba South District":"saltpeter","Beijing":"fish","Belgrade":"fruit","Beni and Cochabamba":"fruit","Bihar":"cattle","Black Sea Coast of Turkey":"deer","Bohus":"aluminium","Bolivian Altiplano":"iron","Brandenburg and Berlin":"fruit","Bratislava":"grain","Brestskaya":"grain","British Columbia":"deer","Brittany":"fish","Brussels":"fruit","Br?ko District":"cattle","Bucovina":"deer","Bukovina":"iron","Burgas":"aluminium","Burgenland":"fruit","Burgundy":"grain","Calabria":"fish","California":"grain","Campania":"fish","Canary Islands":"fish","Cantabria":"fish","Canterbury":"iron","Caribe e Insular":"grain","Carinthia":"aluminium","Castilla La Mancha":"fruit","Castilla y Leon":"iron","Catalonia":"fish","Center West of Brazil":"grain","Central Anatolia":"saltpeter","Central Black Earth":"fruit","Central Croatia":"grain","Central East Chaco":"deer","Central Greece":"iron","Central Hungary":"aluminium","Central Montenegro":"fruit","Central Slovakia":"iron","Central Taiwan":"fish","Central Thailand":"fish","Central Transdanubia":"iron","Central Venezuela":"fish","Central Western Venezuela":"fish","Centro":"fruit","Chagang":"iron","Champagne Ardenne":"fruit","Charrua":"cattle","Chhattisgarh":"rubber","Chimor":"fish","Chisinau":"cattle","Chongqing":"cattle","Chubu":"deer","Chugoku":"fruit","Chungcheongbuk-do":"iron","Chungcheongnam-do":"grain","Chuquisaca and Tarija":"fruit","Colorado":"cattle","Connecticut":"aluminium","Cork and Kerry":"cattle","Corsica":"fish","Crete":"fish","Crisana":"grain","Cundiboyacense":"iron","Cuyo":"iron","Dainava":"iron","Delaware":"aluminium","Deutschschweiz":"iron","District of Columbia":"fruit","Dnipro":"grain","Dobrogea":"grain","Donbas":"iron","Dubai":"saltpeter","Dublin":"iron","East Midlands":"oil","East Srpska Republic":"cattle","East of England":"oil","Eastern Anatolia":"cattle","Eastern Cape":"deer","Eastern Finland":"aluminium","Eastern Macedonia":"cattle","Eastern Netherlands":"cattle","Eastern Province":"saltpeter","Eastern Serbia":"fruit","Eastern Siberia":"iron","Eastern Slovakia":"deer","Eastern Taiwan":"rubber","Eastern Thailand":"fish","Emilia-Romagna":"fruit","Epirus":"aluminium","Esfahan":"fruit","Extremadura":"fruit","Far Eastern Russia":"fish","Fars":"oil","Federation of BiH":"deer","Flanders":"fish","Florida":"fruit","Franche-comte":"fruit","Free State":"aluminium","Friuli-Venezia Giulia":"fruit","Fujairah":"fish","Fujian":"fish","Galicia":"fish","Galicia and Lodomeria":"iron","Gangwon-do":"iron","Gansu":"saltpeter","Gauteng":"fruit","Georgia":"fruit","Gotaland":"iron","Gotland":"cattle","Graubunden":"fruit","Great Andes":"iron","Great Poland":"grain","Guangdong":"oil","Guangxi":"fish","Guayana":"rubber","Guizhou":"cattle","Gujarat":"saltpeter","Gulf of Mexico":"fish","Gyeonggi-do":"grain","Gyeongsangbuk-do":"iron","Gyeongsangnam-do":"aluminium","Ha'il":"grain","Haifa district":"fish","Hainan":"fish","Hamgyong":"iron","Hawaii":"fruit","Heilongjiang":"iron","Henan":"cattle","Hesse":"aluminium","Hokkaido":"deer","Homelskaya":"deer","Hormozgan":"fish","Hovedstaden":"cattle","Hrodzienskaya":"fruit","Hubei":"cattle","Hunan":"cattle","Hwangae":"deer","Idaho":"cattle","Illinois":"oil","Indiana":"grain","Inner Carniola":"grain","Inner Mongolia":"cattle","Ionian Islands":"fish","Iowa":"grain","Istria and Kvarner":"grain","Jammu and Kashmir":"iron","Jamtland Harjedalen":"deer","Java":"cattle","Jeju":"grain","Jeollabuk-do":"grain","Jeollanam-do":"aluminium","Jerusalem district":"fruit","Jharkhand":"cattle","Jiangsu":"fish","Jiangxi":"cattle","Jilin":"cattle","Jizan":"oil","Kalimantan":"rubber","Kaliningrad":"fruit","Kangwon":"deer","Kansas":"cattle","Kanto":"aluminium","Karnataka":"rubber","Kentucky":"fruit","Kerala":"fish","Kerman Province":"fruit","Kesk-Eesti":"fruit","Kinki":"fruit","Kirde-Eesti":"oil","Kurzeme":"fish","KwaZulu Natal":"cattle","Kyushu":"fish","La Rioja":"deer","Laane-Eesti":"fish","Languedoc Roussillon":"fish","Lapland":"iron","Latgale":"cattle","Lazio":"fruit","Leningrad Oblast":"deer","Lesser Sunda Islands":"fish","Liaoning":"iron","Liguria":"fish","Lika and Gorski Kotar":"deer","Lima":"fish","Limousin":"grain","Limpopo":"fruit","Lisboa":"fish","Lithuania Minor":"fish","Lithuanian Highland":"grain","Little Poland":"deer","Llanos":"grain","Loire Valley":"grain","Lombardy":"fruit","London":"aluminium","Lorraine":"iron","Louisiana":"oil","Louna-Eesti":"fruit","Low Andes":"iron","Lower Austria":"fruit","Lower Carniola":"grain","Lower Egypt":"fruit","Lower Normandy":"fish","Lower Saxony and Bremen":"fish","Luzon":"fish","Macedonia":"fruit","Madeira":"fish","Madhya Pradesh":"cattle","Madrid":"fruit","Maharashtra":"fish","Mahilyowskaya":"fruit","Maine":"aluminium","Makkah":"oil","Maluku islands":"fish","Manitoba":"deer","Maramures":"deer","Marche":"oil","Marmara":"fruit","Maryland":"fruit","Massachusetts":"aluminium","Mazandaran and Golistan":"fruit","Mazovia":"deer","Mazuria":"grain","Mecklenburg-Western Pomerania":"fish","Mediterranean Coast of Turkey":"fruit","Mesopotamia":"aluminium","Michigan":"grain","Mid Andes":"fish","Middle Egypt":"cattle","Midi-Pyrenees":"grain","Midtjylland":"cattle","Mindanao":"iron","Minnesota":"grain","Minskaya":"grain","Mississippi":"fruit","Missouri":"cattle","Moldova":"cattle","Molise":"oil","Montana":"cattle","Montenegrin Coast":"fish","Moravia":"cattle","Moscow and Central Russia":"fruit","Mpumalanga":"cattle","Muntenia":"oil","Murcia":"fish","Najran":"saltpeter","Navarra":"deer","Nazareth North District":"fruit","Nebraska":"grain","Nevada":"cattle","New Brunswick":"cattle","New Hampshire":"aluminium","New Jersey":"aluminium","New Mexico":"cattle","New South Wales":"cattle","New York":"aluminium","Newfoundland and Labrador":"fish","Ningxia":"cattle","Nord-Norge":"fish","Nordjylland":"fish","Norrland and Sameland":"iron","Norte":"aluminium","Norte Chico":"iron","Norte Grande":"saltpeter","North Calais":"fruit","North Carolina":"fruit","North Caucasus":"oil","North Dakota":"cattle","North Dalmatia":"fish","North East of England":"fish","North Eastern India":"rubber","North Eastern Venezuela":"oil","North Montenegrin Mountains":"iron","North Rhine-Westphalia":"aluminium","North West Province":"saltpeter","North West of England":"iron","North of Brazil":"rubber","North-Eastern Thailand":"iron","North-West Frontier Province":"aluminium","Northeast of Brazil":"fish","Northeast of Ireland":"fruit","Northeast of Mexico":"fruit","Northern Basarabia":"deer","Northern Bohemia":"fruit","Northern Borders":"grain","Northern Cape":"saltpeter","Northern Cyprus":"grain","Northern Great Plain":"cattle","Northern Hungary":"iron","Northern India":"cattle","Northern Ireland":"fish","Northern Low Amazon":"oil","Northern Netherlands":"fish","Northern Russia":"fish","Northern Taiwan":"fish","Northern Territory":"saltpeter","Northern Thailand":"iron","Northwest Croatia":"grain","Northwest Territories":"fish","Northwest of Ireland":"cattle","Northwest of Mexico":"saltpeter","Northwestern Iran":"fruit","Nova Scotia":"fish","Nunavut":"fish","Oaxaca":"fish","Ohio":"grain","Oklahoma":"cattle","Oltenia":"grain","Ontario":"aluminium","Oregon":"cattle","Orinoquia":"fruit","Orissa":"fish","Ostlandet":"cattle","Otago":"iron","Oulu":"iron","Pacific Coast of Mexico":"fruit","Pacifica":"grain","Palawan":"oil","Pampas":"cattle","Pando":"fruit","Papua":"rubber","Parana and Santa Catarina":"iron","Paranena":"cattle","Paris Isle of France":"grain","Patagonia":"fish","Pays de la Loire":"fish","Peloponnese":"iron","Peninsular Malaysia ":"oil","Pennsylvania":"fruit","Picardy":"fruit","Piedmont":"fruit","Plovdiv":"iron","Podolia":"iron","Pohja-Eesti":"fish","Poitou Charentes":"rubber","Polisia":"grain","Pomerania":"fish","Povardarie":"aluminium","Prekmurje":"aluminium","Prince Edward Island":"deer","Provence Alpes Azur":"fish","Punjab":"grain","Pyongan":"cattle","Qinghai":"saltpeter","Quebec":"iron","Queensland":"rubber","Rajasthan":"saltpeter","Ras al-Khaimah":"fish","Raska":"aluminium","Razavi Khorasan":"fruit","Red Sea Coast":"fruit","Rhineland-Palatinate":"aluminium","Rhode Island":"aluminium","Rhone Alps":"fruit","Rio Grande do Sul":"iron","Romandie":"cattle","Ruse":"grain","Ryanggang":"iron","Saarland":"aluminium","Sabah":"fruit","Salzburg":"aluminium","Samogitia":"grain","Santa Cruz":"rubber","Sarawak":"rubber","Sardinia":"fish","Saskatchewan":"cattle","Saxony":"fruit","Saxony-Anhalt":"fruit","Scania":"aluminium","Schleswig-Holstein and Hamburg":"fish","Scotland":"cattle","Semnan":"saltpeter","Shaanxi":"cattle","Shandong":"oil","Shanghai":"fish","Shannon":"fruit","Shanxi":"cattle","Sharjah":"saltpeter","Shikoku":"aluminium","Sichuan":"cattle","Sicily":"fish","Silesia":"saltpeter","Sinai":"fruit","Sindh":"fruit","Singapore City":"fish","Sistan and Baluchistan":"oil","Siveria":"grain","Sjaelland":"fish","Slavonia":"cattle","Sloboda":"grain","Slovenian Littoral":"aluminium","Smaland":"cattle","Sofia":"iron","Sorlandet":"cattle","South Australia":"grain","South Carolina":"fruit","South Dakota":"cattle","South Dalmatia":"fish","South East Chaco":"cattle","South East of England":"cattle","South Khorasan":"saltpeter","South West of England":"fish","Southeast of Brazil":"fruit","Southeast of Ireland":"iron","Southeast of Mexico":"rubber","Southeastern Anatolia":"cattle","Southern Basarabia":"grain","Southern Bohemia":"iron","Southern Cyprus":"fish","Southern Finland":"aluminium","Southern Great Plain":"fruit","Southern Low Amazon":"oil","Southern Netherlands":"cattle","Southern Serbia":"aluminium","Southern Taiwan":"fish","Southern Thailand":"rubber","Southern Transdanubia":"fruit","Southwestern Iran":"oil","Styria":"aluminium","Styria and Carinthia":"deer","Subcarpathia":"iron","Sudovia":"grain","Sulawesi":"cattle","Sumadija":"iron","Sumatra":"oil","Svalbard & Jan Mayen":"fish","Svealand":"deer","Svizzera italiana":"cattle","Syddanmark":"aluminium","Tabuk":"aluminium","Tamil Nadu":"fish","Tasmania":"cattle","Taurida":"saltpeter","Tel Aviv Center District":"fish","Tennessee":"fruit","Texas":"oil","Thessaly":"aluminium","Thrace":"fruit","Thuringia":"aluminium","Tibet":"cattle","Tohoku":"fish","Transilvania":"cattle","Transnistria":"grain","Trentino-South Tyrol":"fruit","Trondelag":"oil","Tuscany":"saltpeter","Tyrol":"deer","Umbria":"fruit","Umm al Quwain":"iron","Upper Austria":"fruit","Upper Carniola":"aluminium","Upper Egypt":"iron","Upper Normandy":"fish","Urals":"iron","Utah":"cattle","Uttar Pradesh":"cattle","Valencian Community":"fish","Valley of Mexico":"fruit","Varna":"grain","Veneto":"fruit","Venezuelan Andean":"grain","Venezuelan Capital":"oil","Vermont":"aluminium","Vestlandet":"oil","Victoria":"aluminium","Vidin":"cattle","Vidzeme":"iron","Virginia":"fruit","Visayas":"fish","Vitsebskaya":"fruit","Vojvodina":"cattle","Volga":"fruit","Volga Vyatka":"deer","Volhynia":"grain","Vorarlberg":"deer","Wales":"iron","Wallonia":"iron","Washington":"cattle","Wellington":"deer","West Bengal":"cattle","West Midlands":"iron","West Srpska Republic":"grain","West Virginia":"grain","Western Australia":"saltpeter","Western Cape":"aluminium","Western Desert":"oil","Western Finland":"fish","Western Macedonia":"fruit","Western Netherlands":"oil","Western Serbia":"iron","Western Siberia":"oil","Western Slovakia":"grain","Western Transdanubia":"aluminium","Wisconsin":"grain","Wyoming":"cattle","Xinjiang":"saltpeter","Yazd":"fruit","Yorkshire & Humberside":"fish","Yukon":"aluminium","Yunnan":"cattle","Zaporozhia":"fish","Zemgale":"cattle","Zhejiang":"fish","Zona Austral":"fish","Zona Central":"deer","Zona Sur":"fish","Zulian":"oil"};
var id_indtype = {'1' : 'food', '2' : 'weapon', '7' : 'grain', '8' : 'fruit', '9' : 'fish', '10' : 'cattle', '11' : 'deer', '12' : 'iron', '13' : 'oil', '14' : 'aluminium', '15' : 'saltpeter', '16' : 'rubber'};
var business_modifier = {'food' : '40', 'weapon' : '40', 'grain' : '15', 'iron' : '15', 'fruit' : '30', 'oil' : '30', 'fish' : '50', 'aluminium' : '50', 'cattle' : '70', 'saltpeter' : '70', 'deer' : '100', 'rubber' : '100'};

var currentHealth = parseFloat($('#current_health').html());

var eRAopt = {'lang': 'en'};
var eRAmenu = {'menu1': {'title': 'eRA', 'lnk': 'http://userscripts.org/scripts/show/80226', 'target': true}};
var eRAacc = {'Gold': '0.00'};
var eRAcomp = {'day': 0};
var eRAexch = {'RSD': 0};
var eRAinflu = {};
var eRAtax = {'Serbia' : {'1' : {'vat' : '15', 'imp' : '5'}, '2' : {'vat' : '15', 'imp' : '5'}, '3' : {'vat' : '15', 'imp' : '5'}, '4' : {'vat' : '15', 'imp' : '5'}, '5' : {'vat' : '15', 'imp' : '5'}, '10' : {'vat' : '15', 'imp' : '5'}, '11' : {'vat' : '15', 'imp' : '5'}, '13' : {'vat' : '15', 'imp' : '5'}, '14' : {'vat' : '15', 'imp' : '5'}, '15' : {'vat' : '15', 'imp' : '5'}}};
var eRAne = {};
var eRAtime = {};
var eRAdata = {};
var eRAoldnews = {};
var eRAsubs = {};
var eRAland = {};
// ---------------------------------------------------------------------------------------------------------------------

// -- Common functions -------------------------------------------------------------------------------------------------
var getJSON = function(jsonstr,key) {
	var index = jsonstr.indexOf(key);
	if(index == -1) {
		return '';
	}
	var startIndex = index + key.length + 3;
	var endIndex = jsonstr.indexOf('\"' , startIndex);
	if(endIndex == -1) {
		return '';
	}
	return jsonstr.substring(startIndex,endIndex);
};

Function.prototype.bind = function( thisObject ) {
  var method = this;
  var oldargs = [].slice.call( arguments, 1 );
  return function () {
    var newargs = [].slice.call( arguments );
    return method.apply( thisObject, oldargs.concat( newargs ));
  };
}

Object.size = function(obj) {
    var size = 0, key;
    for (key in obj) {
        if (obj.hasOwnProperty(key)) size++;
    }
    return size;
};

function contains(a, obj) {
  var e = a.length;
  while (e--) {
    if (a[e] === obj) {
      return true;
    }
  }
  return false;
}

jQuery.fn.contentChange = function(callback) {
	var elms = jQuery(this);
	elms.each(
		function(i) {
			var elm = jQuery(this);
			elm.data("lastContents", elm.html());
			window.watchContentChange = window.watchContentChange ? window.watchContentChange : [];
			window.watchContentChange.push({"element": elm, "callback": callback});
		}
	)
	return elms;
}
setInterval(function() {
	if(window.watchContentChange) {
		for(i in window.watchContentChange) {
			if(window.watchContentChange[i].element.data("lastContents") != window.watchContentChange[i].element.html()) {
				window.watchContentChange[i].callback.apply(window.watchContentChange[i].element);
				window.watchContentChange[i].element.data("lastContents", window.watchContentChange[i].element.html())
			};
		}
	}
},500);

jQuery.fn.attrChange = function(callback) {
	var elemen = jQuery(this);
	elemen.each(
		function(f) {
			var elmn = jQuery(this);
			elmn.data("lastAttribute", elmn.attr('original-title'));
			window.watchAttributeChange = window.watchAttributeChange ? window.watchAttributeChange : [];
			window.watchAttributeChange.push({"element": elmn, "callback": callback});
		}
	)
	return elemen;
}
setInterval(function() {
	if(window.watchAttributeChange) {
		for(f in window.watchAttributeChange) {
			if(window.watchAttributeChange[f].element.data("lastAttribute") != window.watchAttributeChange[f].element.attr('original-title')) {
				window.watchAttributeChange[f].callback.apply(window.watchAttributeChange[f].element);
				window.watchAttributeChange[f].element.data("lastAttribute", window.watchAttributeChange[f].element.attr('original-title'))
			};
		}
	}
},500);

jQuery.fn.cssChange = function(callback) {
	var element = jQuery(this);
	element.each(
		function(e) {
			var elmnt = jQuery(this);
			elmnt.data("lastStyle", elmnt.css('background-position'));
			window.watchStyleChange = window.watchStyleChange ? window.watchStyleChange : [];
			window.watchStyleChange.push({"element": elmnt, "callback": callback});
		}
	)
	return element;
}
setInterval(function() {
	if(window.watchStyleChange) {
		for(e in window.watchStyleChange) {
			if(window.watchStyleChange[e].element.data("lastStyle") != window.watchStyleChange[e].element.css('background-position')) {
				window.watchStyleChange[e].callback.apply(window.watchStyleChange[e].element);
				window.watchStyleChange[e].element.data("lastStyle", window.watchStyleChange[e].element.css('background-position'))
			};
		}
	}
},500);

jQuery.fn.visibilityChange = function(callback) {
	var ele = jQuery(this);
	ele.each(
		function(e) {
			var el = jQuery(this);
			el.data("lastStyle", el.css('display'));
			window.watchVisibilityChange = window.watchVisibilityChange ? window.watchVisibilityChange : [];
			window.watchVisibilityChange.push({"element": el, "callback": callback});
		}
	)
	return ele;
}
setInterval(function() {
	if(window.watchVisibilityChange) {
		for(e in window.watchVisibilityChange) {
			if(window.watchVisibilityChange[e].element.data("lastStyle") != window.watchVisibilityChange[e].element.css('display')) {
				window.watchVisibilityChange[e].callback.apply(window.watchVisibilityChange[e].element);
				window.watchVisibilityChange[e].element.data("lastStyle", window.watchVisibilityChange[e].element.css('display'))
			};
		}
	}
},500);

function fixString(string) {
	string = new String(string);
	string = string.replace(/^\s+|\s+$/g, '');
	string = string.replace(/(\r\n|\n|\r)/gm,"");
	var intIndexOfMatch = string.indexOf("		");
	while (intIndexOfMatch != -1) {
		string = string.replace( "		", "	" )
		intIndexOfMatch = string.indexOf( "		" );
	}
	string = string.replace(/	/g, "/");
	
	return(string);
}

function fixString2(string) {
	string = new String(string);
	string = string.replace(/^\s+|\s+$/g, '');
	string = string.replace(/(\r\n|\n|\r)/gm,"");
	var intIndexOfMatch = string.indexOf("		");
	while (intIndexOfMatch != -1) {
		string = string.replace( "		", "	" )
		intIndexOfMatch = string.indexOf( "		" );
	}
	string = string.replace(/	/g, "");
	
	return(string);
}

function mathRound(number, decimal) {
	if (decimal == 0) {
		var value = Math.round(number);
	} else if (decimal == 1) {
		var value = Math.round(number * 10) / 10;
	} else if (decimal == 2) {
		var value = Math.round(number * 100) / 100;
	} else if (decimal == 3) {
		var value = Math.round(number * 1000) / 1000;
	} else if (decimal == 4) {
		var value = Math.round(number * 10000) / 10000;
	} else if (decimal == 5) {
		var value = Math.round(number * 100000) / 100000;
	}
	return (value);
}

function mathFloor(number, decimal) {
	if (decimal == 0) {
		var value = Math.floor(number);
	} else if (decimal == 1) {
		var value = Math.floor(number * 10) / 10;
	} else if (decimal == 2) {
		var value = Math.floor(number * 100) / 100;
	} else if (decimal == 3) {
		var value = Math.floor(number * 1000) / 1000;
	} else if (decimal == 4) {
		var value = Math.floor(number * 10000) / 10000;
	} else if (decimal == 5) {
		var value = Math.floor(number * 100000) / 100000;
	}
	return (value);
}

function formatNumber(num) {
	var x = Math.round(num);
	
	var y = ('' + Math.abs(x)).split('');
	var z = y.length;
	
	while (z > 3) {
		z -= 3;
		y.splice(z, 0, ',');
	}
	
	var r = y.join('');
	return r;
}

function colorChoose(number){
    if (parseFloat(number) < 0) {
		return 'red';
	} else {
		return '#87AE09';
	}
}

function removeArrayElement(arrayName, arrayElement) {
	for (var i=0; i < arrayName.length; i++) { 
		if (arrayName[i] == arrayElement) {
			arrayName.splice(i,1);
		}
	}
}

function readSettings(name) {
	if (name == 'options') {
		var optionString = GM_getValue(document.userid + '.Options');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			if (options['opt1'] == true || options['opt1'] == false) {
				GM_deleteValue(document.userid + '.Options');
				eRAopt['lang'] = LANG;
			} else {
				for(var op in options) {
					eRAopt[op] = options[op];
				}
			}
		} else {
			eRAopt['lang'] = LANG;
		}
	} else if (name == 'menu') {
		var optionString = GM_getValue(document.userid + '.Menu');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for(var op in options) {
				eRAmenu[op] = options[op];
			}
		} else {
			eRAmenu['menu1']['title'] = 'eRA';
			eRAmenu['menu1']['lnk'] = 'http://userscripts.org/scripts/show/80226';
			eRAmenu['menu1']['target'] = true
		}
	} else if (name == 'accounts') {
		var optionString = GM_getValue(document.userid + '.Accounts');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for(var op in options) {
				eRAacc[op] = options[op];
			}
		} else {
			eRAacc['Gold'] = '0.00';
		}
	} else if (name == 'company') {
		var optionString = GM_getValue(document.userid + '.Company');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for(var op in options) {
				eRAcomp[op] = options[op];
			}
		} else {
			eRAcomp['day'] = 1000;
		}
	} else if (name == 'exchange') {
		var optionString = GM_getValue(document.userid + '.exchangeRate');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for(var op in options) {
				eRAexch[op] = options[op];
			}
		} else {
			eRAexch['Gold'] = '0.00';
		}
	} else if (name == 'taxes') {
		var optionString = GM_getValue(document.userid + '.taxRates');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for(var op in options) {
				eRAtax[op] = options[op];
			}
		} else {
			eRAtax['Serbia'] = '0';
		}
	} else if (name == 'influence') {
		var optionString = GM_getValue(document.userid + '.Influence');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for(var op in options) {
				eRAinflu[op] = options[op];
			}
		} else {
			eRAinflu = {};
		}
	} else if (name == 'natural') {
		var optionString = GM_getValue(document.userid + '.Natural');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for(var op in options) {
				eRAne[op] = options[op];
			}
		} else {
			eRAne = {};
		}
	} else if (name == 'time') {
		var optionString = GM_getValue(document.userid + '.Time');
		if (optionString != null) {
			eRAtime = optionString;
		} else {
			eRAtime = 0;
		}
	} else if (name == 'data') {
		var optionString = GM_getValue(document.userid + '.Data');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for(var op in options) {
				eRAdata[op] = options[op];
			}
		} else {
			eRAdata = {};
		}
	} else if (name == 'newsdata') {
		var optionString = GM_getValue(document.userid + '.OldNews');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for(var op in options) {
				eRAoldnews[op] = options[op];
			}
		} else {
			eRAoldnews = {};
		}
	} else if (name == 'subscriptions') {
		var optionString = GM_getValue(document.userid + '.Subs');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for(var op in options) {
				eRAsubs[op] = options[op];
			}
		} else {
			eRAsubs = {};
		}
	} else if (name == 'myland') {
		var optionString = GM_getValue(document.userid + '.Land');
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for(var op in options) {
				eRAland[op] = options[op];
			}
		} else {
			eRAland = {};
		}
	}
}

function writeSettings(pref, value) {
	GM_setValue(pref, $.toJSON(value));
}

function extractUrl(input) {
	return input.replace(/"/g,"").replace(/url\(|\)$/ig, "");
}

function findElement(searchStr, arr) {
	for (var i in arr) {
		var sString = new RegExp('^' + searchStr, "g");
		if(i.match(sString) != null) {
			return (i);
		}
	}
}

function sortObj(arr){
	var sortedKeys = new Array();
	var sortedObj = {};
	
	for (var i in arr){
		sortedKeys.push(i);
	}
	sortedKeys.sort();
	
	for (var i in sortedKeys){
		sortedObj[sortedKeys[i]] = arr[sortedKeys[i]];
	}
	return sortedObj;
}

function geteDay() {
	var serverHours = $('#live_time').html().split(':')[0];
	var serverMinutes = $('#live_time').html().split(':')[1];
	
	var todayDate = new Date()
	var todayYear = todayDate.getUTCFullYear();
	var todayMonth = todayDate.getUTCMonth();
	var todayDay = todayDate.getUTCDate();
	todayDate = Date.UTC(todayYear, todayMonth, todayDay, serverHours, serverMinutes, 0, 0);
	
	var startDate = Date.UTC(2007, 10, 20, 0, 0, 0, 0);
	
	var eDay = todayDate - startDate;
	eDay = Math.floor(eDay / 1000 / 60 / 60 / 24);
	
	//alert(new Date(todayDate) + ' | ' + new Date(startDate) + ' | ' + eDay);
	
	return (eDay);
}

function cleanSettings() {
	
	if (!$.browser.mozilla) {
		return;
	}
	
	var keys = GM_listValues();
	for (var i = 0, key = null; key = keys[i]; i++) {
		if(key.indexOf('undefined') > -1) {
			GM_deleteValue(key);
		}
		var optionString = GM_getValue(key);
		if (optionString != null) {
			var options = eval('(' + optionString + ')');
			for (var op in options) {
				var eRAtemp = {};
				eRAtemp[op] = options[op];
				
				if (op == 'undefined') {
					delete eRAtemp[op];
					writeSettings(key, eRAtemp);
				}
			}
		}
	}
}

function clearSelection() {
    if(document.selection && document.selection.empty) {
        document.selection.empty();
    } else if(window.getSelection) {
        var sel = window.getSelection();
        sel.removeAllRanges();
    }
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Options tool -----------------------------------------------------------------------------------------------------
function getVersion() {
	if (!$.browser.mozilla) {
		return;
	}
	
	GM_xmlhttpRequest({
		method: 'GET',
		url: 'http://userscripts.org/scripts/show/80226',
		onload: function(responseDetails) {
			var currVersion = VERSION.replace(/\./gi, '');
			var newVersion = $(responseDetails.responseText).find('#summary').html().split('<b>Version:</b>')[1].replace(/^\s+|\s+$/g, '').split('\n')[0];
			var nVersion = newVersion.replace(/\./gi, '');
			if (parseFloat(nVersion) > parseFloat(currVersion)) {
				$('.versionHolder').html('<a title="Update available! New version: v ' + newVersion + '" href="http://userscripts.org/scripts/show/80226" target="_blank" style="color: #ff0000; font-weight: bold;">v ' + VERSION + '</a>');
			}
		}
	});
}

function createSidebar() {
	readSettings('options');
	readSettings('menu');
	readSettings('influence');
	
	if (!eRAmenu['menu2']) {
		var menuTitle1 = GM_getValue(document.userid + '.menuTitle1', null);
		var menuLink1 = GM_getValue(document.userid + '.menuLink1', null);
		var menuTarget1 = GM_getValue(document.userid + '.menuTarget1', null);
		eRAmenu['menu1'] = {title: menuTitle1, lnk: menuLink1, target: menuTarget1};
		var menuTitle2 = GM_getValue(document.userid + '.menuTitle2', null);
		var menuLink2 = GM_getValue(document.userid + '.menuLink2', null);
		var menuTarget2 = GM_getValue(document.userid + '.menuTarget2', null);
		eRAmenu['menu2'] = {title: menuTitle2, lnk: menuLink2, target: menuTarget2};
		var menuTitle3 = GM_getValue(document.userid + '.menuTitle3', null);
		var menuLink3 = GM_getValue(document.userid + '.menuLink3', null);
		var menuTarget3 = GM_getValue(document.userid + '.menuTarget3', null);
		eRAmenu['menu3'] = {title: menuTitle3, lnk: menuLink3, target: menuTarget3};
		var menuTitle4 = GM_getValue(document.userid + '.menuTitle4', null);
		var menuLink4 = GM_getValue(document.userid + '.menuLink4', null);
		var menuTarget4 = GM_getValue(document.userid + '.menuTarget4', null);
		eRAmenu['menu4'] = {title: menuTitle4, lnk: menuLink4, target: menuTarget4};
		var menuTitle5 = GM_getValue(document.userid + '.menuTitle5', null);
		var menuLink5 = GM_getValue(document.userid + '.menuLink5', null);
		var menuTarget5 = GM_getValue(document.userid + '.menuTarget5', null);
		eRAmenu['menu5'] = {title: menuTitle5, lnk: menuLink5, target: menuTarget5};
		var menuTitle6 = GM_getValue(document.userid + '.menuTitle6', null);
		var menuLink6 = GM_getValue(document.userid + '.menuLink6', null);
		var menuTarget6 = GM_getValue(document.userid + '.menuTarget6', null);
		eRAmenu['menu6'] = {title: menuTitle6, lnk: menuLink6, target: menuTarget6};
		var menuTitle7 = GM_getValue(document.userid + '.menuTitle7', null);
		var menuLink7 = GM_getValue(document.userid + '.menuLink7', null);
		var menuTarget7 = GM_getValue(document.userid + '.menuTarget7', null);
		eRAmenu['menu7'] = {title: menuTitle7, lnk: menuLink7, target: menuTarget7};
		var menuTitle8 = GM_getValue(document.userid + '.menuTitle8', null);
		var menuLink8 = GM_getValue(document.userid + '.menuLink8', null);
		var menuTarget8 = GM_getValue(document.userid + '.menuTarget8', null);
		eRAmenu['menu8'] = {title: menuTitle8, lnk: menuLink8, target: menuTarget8};
		
		var menuTopTitle1 = GM_getValue(document.userid + '.menuTopTitle1', null);
		var menuTopLink1 = GM_getValue(document.userid + '.menuTopLink1', null);
		var menuTopTarget1 = GM_getValue(document.userid + '.menuTopTarget1', null);
		eRAmenu['menutop1'] = {title: menuTopTitle1, lnk: menuTopLink1, target: menuTopTarget1};
		var menuTopTitle2 = GM_getValue(document.userid + '.menuTopTitle2', null);
		var menuTopLink2 = GM_getValue(document.userid + '.menuTopLink2', null);
		var menuTopTarget2 = GM_getValue(document.userid + '.menuTopTarget2', null);
		eRAmenu['menutop2'] = {title: menuTopTitle2, lnk: menuTopLink2, target: menuTopTarget2};
		var menuTopTitle3 = GM_getValue(document.userid + '.menuTopTitle3', null);
		var menuTopLink3 = GM_getValue(document.userid + '.menuTopLink3', null);
		var menuTopTarget3 = GM_getValue(document.userid + '.menuTopTarget3', null);
		eRAmenu['menutop3'] = {title: menuTopTitle3, lnk: menuTopLink3, target: menuTopTarget3};
		var menuTopTitle4 = GM_getValue(document.userid + '.menuTopTitle4', null);
		var menuTopLink4 = GM_getValue(document.userid + '.menuTopLink4', null);
		var menuTopTarget4 = GM_getValue(document.userid + '.menuTopTarget4', null);
		eRAmenu['menutop4'] = {title: menuTopTitle4, lnk: menuTopLink4, target: menuTopTarget4};
		var menuTopTitle5 = GM_getValue(document.userid + '.menuTopTitle5', null);
		var menuTopLink5 = GM_getValue(document.userid + '.menuTopLink5', null);
		var menuTopTarget5 = GM_getValue(document.userid + '.menuTopTarget5', null);
		eRAmenu['menutop5'] = {title: menuTopTitle5, lnk: menuTopLink5, target: menuTopTarget5};
		var menuTopTitle6 = GM_getValue(document.userid + '.menuTopTitle6', null);
		var menuTopLink6 = GM_getValue(document.userid + '.menuTopLink6', null);
		var menuTopTarget6 = GM_getValue(document.userid + '.menuTopTarget6', null);
		eRAmenu['menutop6'] = {title: menuTopTitle6, lnk: menuTopLink6, target: menuTopTarget6};
		var menuTopTitle7 = GM_getValue(document.userid + '.menuTopTitle7', null);
		var menuTopLink7 = GM_getValue(document.userid + '.menuTopLink7', null);
		var menuTopTarget7 = GM_getValue(document.userid + '.menuTopTarget7', null);
		eRAmenu['menutop7'] = {title: menuTopTitle7, lnk: menuTopLink7, target: menuTopTarget7};
		var menuTopTitle8 = GM_getValue(document.userid + '.menuTopTitle8', null);
		var menuTopLink8 = GM_getValue(document.userid + '.menuTopLink8', null);
		var menuTopTarget8 = GM_getValue(document.userid + '.menuTopTarget8', null);
		eRAmenu['menutop8'] = {title: menuTopTitle8, lnk: menuTopLink8, target: menuTopTarget8};
		
		writeSettings(document.userid + '.Menu', eRAmenu);
	}
	
	if(eRAopt['lang'] == undefined) {
		eRAopt['lang'] = 'en';
		var langSelected = 'en';
	} else {
		var langSelected = eRAopt['lang'];
	}
	
	var isCit = $('.user_level b').html();
	
	if (isCit != 'Or') {
		var eToday = parseFloat($('.eday strong').html().replace(/,/gi, ''));
		
		if (eRAinflu[eToday] == undefined) {
			eRAinflu[eToday] = {};
			eRAinflu[eToday]['Hits'] = 0;
			eRAinflu[eToday]['Kills'] = 0;
			eRAinflu[eToday]['Influence'] = 0;
		}
		
		for (var i = 1; i < 10; i++) {
			var cDay = eToday - i;
			
			if (eRAinflu[cDay] == undefined) {
				eRAinflu[cDay] = {};
				eRAinflu[cDay]['Hits'] = 0;
				eRAinflu[cDay]['Kills'] = 0;
				eRAinflu[cDay]['Influence'] = 0;
			}
		}
		
		for (var i = eToday - 9; i < eToday; i++) {
			if (eRAinflu[i]['Hits'] == undefined) {
				eRAinflu[i]['Hits'] = 0;
			}
		}
		
		for (var i = 0; i < eToday - 9; i++) {
			if (eRAinflu[i] != undefined) {
				delete eRAinflu[i];
			}
		}
		writeSettings(document.userid + '.Influence', eRAinflu);
	}
	
	var infoContent = '<span class="menuWindowHeader">&nbsp;</span>' +
							'<table border="0" cellspacing="5px" cellpadding="5px">' +
								'<tr>' +
									'<td>作者: <strong>Roktaal</strong><img src="' + authLogo + '"></td>' +
								'</tr>' +
								'<tr>' +
									'<td>協作者: <strong>asylume & frimen</strong></td>' +
								'</tr>' +
								'<tr>' +
									'<td>測試員: <strong>ThomasRed</strong></td>' +
								'</tr>' +
								'<tr>' +
									'<td>版本: <strong>v' + VERSION + '</strong></td>' +
								'</tr>' +
								'<tr>' +
									'<td>版本發行日: <strong>' + RELEASE_DAY + '</strong></td>' +
								'</tr>' +
								'<tr>' +
									'<td>特別感謝: <strong>SJeB, Veljkokg, nolf, ziloslav, Brdar Dragan, drcika, Boolee, Denis Cicic, hapf, Leroy Combs, Basowy and many others.</strong></td>' +
								'</tr>' +
								'<tr>' +
									'<td align="center"><i>This software is donationware. You are welcome to donate eRepublik in-game gold to author of this script.  Amount of gold is up to you and it reflects what you think author deserves for the effort of contributing to the eRepublik community. Software is provided \'AS IS\' and without any warranty. Use on your own responsibility.</i></td>' +
								'</tr>' +
							'</table>';
	
	var optionsLanguage = '<div id="optionsLanguage" class="optionsLanguageTable">' +
							'<div class="optionsLanguageRow">' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="en" id="en" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="fr" id="fr" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="de" id="de" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="hu" id="hu" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="it" id="it" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="pt-pt" id="pt-pt" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="ro" id="ro" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="ru" id="ru" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="es" id="es" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="sv" id="sv" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="pl" id="pl" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="gr" id="gr" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="hr" id="hr" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="bg" id="bg" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="sr" id="sr" style="cursor: pointer;"></div>' +
								'<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="tr" id="tr" style="cursor: pointer;"></div>' +
                                                                '<div class="optionsLanguageCell"><input type="radio" name="langSelGroup" value="zh-TW" id="zh-TW" style="cursor: pointer;"></div>' +
							'</div>' +
							'<div class="optionsLanguageRow">' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/United-Kingdom.png" alt="English" title="English"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/France.png" alt="Français" title="Français"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Germany.png" alt="Deutsch" title="Deutsch"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Hungary.png" alt="Magyar" title="Magyar"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Italy.png" alt="Italiano" title="Italiano"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Portugal.png" alt="Portugues" title="Portugues"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Romania.png" alt="Româna" title="Româna"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Russia.png" alt="Русский" title="Русский"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Spain.png" alt="Español" title="Español"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Sweden.png" alt="Svenska" title="Svenska"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Poland.png" alt="Polski" title="Polski"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Greece.png" alt="Ελληνικά" title="Ελληνικά"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Croatia.png" alt="Hrvatski" title="Hrvatski"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Bulgaria.png" alt="Български" title="Български"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Serbia.png" alt="Српски" title="Српски"></div>' +
								'<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Turkey.png" alt="Türkçe" title="Türkçe"></div>' +
                                                                '<div class="optionsLanguageCell"><img src="http://www.erepublik.com/images/flags_png/S/Republic-of-China-Taiwan.png" alt="Taiwan" title="Taiwan"></div>' +
							'</div>' +
						'</div>';
	
	var sizeFix = $.browser.mozilla ? (oldFirefox || navigator.oscpu.indexOf('NT') > -1 && navigator.oscpu.indexOf('5.1') > -1 ? 80 : 85) : 77;
	
	function getTopMenu(number) {
		string = '<div class="menuWindowContentRow">' +
					'<div class="menuWindowContentCell">' + number + '</div>' +
					'<div class="menuWindowContentCell"><input id="menuTopTitle_' + number + '" type="text" size="20"></div>' +
					'<div class="menuWindowContentCell"><input id="menuTopLink_' + number + '" type="text" size="' + sizeFix + '"></div>' +
					'<div class="menuWindowContentCell"><input id="menuTopTarget_' + number + '" type="checkbox" title="在新視窗開啟?"></div>' +
				'</div>';
		return(string);
	}
	
	function getMenu(number) {
		string = '<div class="menuWindowContentRow">' +
					'<div class="menuWindowContentCell">' + number + '</div>' +
					'<div class="menuWindowContentCell"><input id="menuTitle_' + number + '" type="text" size="20"></div>' +
					'<div class="menuWindowContentCell"><input id="menuLink_' + number + '" type="text" size="' + sizeFix + '"></div>' +
					'<div class="menuWindowContentCell"><input id="menuTarget_' + number + '" type="checkbox" title="在新視窗開啟?"></div>' +
				'</div>';
		return(string);
	}
							
	$('#content').css('float', 'right');
	
	$('#content').after('<div class="optionsHolder">' +
							'<div id="optionsContent" class="optionsContent">&nbsp;</div>' +
							'<div class="versionHolder">v ' + VERSION + '</div>' +
							'<span class="infoHolder">' +
								'<div class="infoContent">' + infoContent + '</div>' +
							'</span>' +
						'</div>');
	
	$('#optionsContent').live('click', function(e) {
		e.stopPropagation();
		
		if($('#optionsContentMain').length == 0) {
			$('body').append('<div id="optionsContentMain" class="optionsContentMain">' +
								'<div class="optionsInnerHeader">' +
									'<a id="optionsInnerClose" class="closeButton" title="Close" href="javascript:;">&nbsp;</a>' +
								'</div>' +
								'<div class="optionsInnerContent">' +
									'<div class="optionsInnerItem">' +
										'<div class="optionsInnerItemLabel">公司管理工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="company" type="checkbox" id="opt1" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItemRight">' +
										'<div class="optionsInnerItemLabel">匯市工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="mmarket" type="checkbox" id="opt2" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItem">' +
										'<div class="optionsInnerItemLabel">市場工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="market" type="checkbox" id="opt3" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItemRight">' +
										'<div class="optionsInnerItemLabel">公民搜尋自動轉跳 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="search" type="checkbox" id="opt4" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItem">' +
										'<div class="optionsInnerItemLabel">戰場介面加強工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="battlefield" type="checkbox" id="opt5" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItemRight">' +
										'<div class="optionsInnerItemLabel">側欄工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="sidebar" type="checkbox" id="opt6" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItem">' +
										'<div class="optionsInnerItemLabel">個人資料頁加強工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="profile" type="checkbox" id="opt7" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItemRight">' +
										'<div class="optionsInnerItemLabel">選舉統計工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="elections" type="checkbox" id="opt8" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItem">' +
										'<div class="optionsInnerItemLabel">倉庫工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="inventory" type="checkbox" id="opt9" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItemRight">' +
										'<div class="optionsInnerItemLabel">倉庫稅收檢視工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="taxes" type="checkbox" id="opt10" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItem">' +
										'<div class="optionsInnerItemLabel">登出按鈕提示 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="logout" type="checkbox" id="opt11" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItemRight">' +
										'<div class="optionsInnerItemLabel">熱門新聞工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="topnews" type="checkbox" id="opt12" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItem">' +
										'<div class="optionsInnerItemLabel">新聞報紙工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="news" type="checkbox" id="opt13" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItemRight">' +
										'<div class="optionsInnerItemLabel">新聞目錄補充 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="categories" type="checkbox" id="opt14" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItem">' +
										'<div class="optionsInnerItemLabel">首頁軍事事件工具 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="milevents" type="checkbox" id="opt15" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItemRight">' +
										'<div class="optionsInnerItemLabel">移除新聞分類 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="removecat" type="checkbox" id="opt16" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItem">' +
										'<div class="optionsInnerItemLabel">側欄訂閱圖示 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="subs" type="checkbox" id="opt17" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItemRight">' +
										'<div class="optionsInnerItemLabel">My Land的公司名稱顯示 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="cnames" type="checkbox" id="opt18" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItem">' +
										'<div class="optionsInnerItemLabel">移除 PHP Developer 的廣告 </div>' +
										'<div style="float: left; line-height: 20px; margin-right: 10px;">' +
											'<input desc="devad" type="checkbox" id="opt19" style="margin-top: 7px; cursor: pointer;">' +
										'</div>' +
									'</div>' +
									'<div class="optionsInnerItem" style="text-align: center; float: none; width: 100%;">' +
										'<div id="customQuickLinks" class="optionsInnerItemLabel_QuickLinks">個人自訂連結區</div>' +
									'</div>' +
									'<div class="optionsInnerItem" style="text-align: center; float: none; width: 100%;">' +
										'<div class="optionsInnerItemLabel" style="margin-right: 0; margin-bottom: 2px; margin-left: 0px; padding-top: 3px; width: 100%; border-top: 1px solid #CCCCCC;">請選擇新聞文章翻譯器主要語言選項</div>' +
										optionsLanguage +
									'</div>' +
								'</div>' +
								'<div class="optionsInnerVersion">v' + VERSION + '</div>' +
								'<div class="optionsInnerFooter">注意: 請在改完選項後重新整理網頁，才能套用新的設定。</div>' +
							'</div>');
			
			$('#optionsContentMain').css('display', 'block');
			
			$('#optionsInnerClose').live('click', function(e) {
				e.stopPropagation();
				$('#optionsContentMain').remove();
			});
			
			$('input[id*="opt"]').each(function() {
				var numbId = $(this).attr('id').replace('opt', '');
				var optName = $(this).attr('desc')
				if (eRAopt[optName] == null) {
					if (optName == 'removecat' || optName == 'devad') {
						eRAopt[optName] = false;
						writeSettings(document.userid + '.Options', eRAopt);
						$(this).attr('checked', false);
					} else {
						eRAopt[optName] = true;
						writeSettings(document.userid + '.Options', eRAopt);
						$(this).attr('checked', true);
					}
				} else {
					$(this).attr('checked', eRAopt[optName]);
				}
				$(this).change(function() {
					eRAopt[optName] = $(this).attr('checked');
					writeSettings(document.userid + '.Options', eRAopt);
				});
			});
			
			$('#optionsLanguage input[id^="' + langSelected + '"]').attr('checked', 'checked');
	
			$('#optionsLanguage input').change(function() {
				var newLangSelected = $(this).attr('id');
				eRAopt['lang'] = newLangSelected
				writeSettings(document.userid + '.Options', eRAopt);
			});
			
			$('#customQuickLinks').click(function() {
				if ($('#menuWindow').length == 0) {
					$('#optionsContentMain').remove();
					$('#content').append('<div id="menuWindow" class="menuWindow">' +
										'<span class="menuWindowHeader">' +
											'<a id="windowClose" class="closeButton" title="Close" href="javascript:;">&nbsp;</a>' +
										'</span>' +
										'<span class="menuWindowContent">' +
											'<div>' +
												'<div style="background-color: #666666; color: #e2e2e2; padding: 2px;">' +
													'<input desc="menu1" type="checkbox" id="opt6_1" style="margin-bottom: 2px; margin-left: 2px; vertical-align: middle;"> 按此顯示頁面最上方的自訂連結區' +
												'</div>' +
											'</div>' +
											'<div class="menuWindowContentTable">' +
												'<div class="menuWindowContentRow">' +
													'<div class="menuWindowContentCell">&nbsp;</div>' +
													'<div class="menuWindowContentCell">Title</div>' +
													'<div class="menuWindowContentCell">Link</div>' +
													'<div class="menuWindowContentCell">&nbsp;</div>' +
												'</div>' +
												getTopMenu('1') +
												getTopMenu('2') +
												getTopMenu('3') +
												getTopMenu('4') +
												getTopMenu('5') +
												getTopMenu('6') +
												getTopMenu('7') +
												getTopMenu('8') +
												'<div class="menuWindowContentRow">' +
													'<div class="menuWindowContentCell"></div>' +
													'<div class="menuWindowContentCell">&nbsp;</div>' +
													'<div class="menuWindowContentCell">&nbsp;</div>' +
													'<div class="menuWindowContentCell">&nbsp;</div>' +
												'</div>' +
											'</div>' +
											'<div>' +
												'<div style="background-color: #666666; color: #e2e2e2; margin-top: 5px; padding: 2px;">' +
													'<input desc="menu2" type="checkbox" id="opt6_2" style="margin-bottom: 2px; margin-left: 2px; vertical-align: middle;"> 按此顯示主目錄選單下方的自訂連結區' +
												'</div>' +
											'</div>' +
											'<div class="menuWindowContentTable">' +
												'<div class="menuWindowContentRow">' +
													'<div class="menuWindowContentCell">&nbsp;</div>' +
													'<div class="menuWindowContentCell">Title</div>' +
													'<div class="menuWindowContentCell">Link</div>' +
													'<div class="menuWindowContentCell">&nbsp;</div>' +
												'</div>' +
												getMenu('1') +
												getMenu('2') +
												getMenu('3') +
												getMenu('4') +
												getMenu('5') +
												getMenu('6') +
												getMenu('7') +
												getMenu('8') +
											'</div>' +
										'</span>' +
									'</div>');
					
					$('#menuTitle_1').val(eRAmenu['menu1'].title);
					$('#menuLink_1').val(eRAmenu['menu1'].lnk);
					$('#menuTarget_1').attr('checked', eRAmenu['menu1'].target == null ? false : eRAmenu['menu1'].target);
					$('#menuTitle_2').val(eRAmenu['menu2'].title);
					$('#menuLink_2').val(eRAmenu['menu2'].lnk);
					$('#menuTarget_2').attr('checked', eRAmenu['menu2'].target == null ? false : eRAmenu['menu2'].target);
					$('#menuTitle_3').val(eRAmenu['menu3'].title);
					$('#menuLink_3').val(eRAmenu['menu3'].lnk);
					$('#menuTarget_3').attr('checked', eRAmenu['menu3'].target == null ? false : eRAmenu['menu3'].target);
					$('#menuTitle_4').val(eRAmenu['menu4'].title);
					$('#menuLink_4').val(eRAmenu['menu4'].lnk);
					$('#menuTarget_4').attr('checked', eRAmenu['menu4'].target == null ? false : eRAmenu['menu4'].target);
					$('#menuTitle_5').val(eRAmenu['menu5'].title);
					$('#menuLink_5').val(eRAmenu['menu5'].lnk);
					$('#menuTarget_5').attr('checked', eRAmenu['menu5'].target == null ? false : eRAmenu['menu5'].target);
					$('#menuTitle_6').val(eRAmenu['menu6'].title);
					$('#menuLink_6').val(eRAmenu['menu6'].lnk);
					$('#menuTarget_6').attr('checked', eRAmenu['menu6'].target == null ? false : eRAmenu['menu6'].target);
					$('#menuTitle_7').val(eRAmenu['menu7'].title);
					$('#menuLink_7').val(eRAmenu['menu7'].lnk);
					$('#menuTarget_7').attr('checked', eRAmenu['menu7'].target == null ? false : eRAmenu['menu7'].target);
					$('#menuTitle_8').val(eRAmenu['menu8'].title);
					$('#menuLink_8').val(eRAmenu['menu8'].lnk);
					$('#menuTarget_8').attr('checked', eRAmenu['menu8'].target == null ? false : eRAmenu['menu8'].target);
					
					$('#menuTopTitle_1').val(eRAmenu['menutop1'].title);
					$('#menuTopLink_1').val(eRAmenu['menutop1'].lnk);
					$('#menuTopTarget_1').attr('checked', eRAmenu['menutop1'].target == null ? false : eRAmenu['menutop1'].target);
					$('#menuTopTitle_2').val(eRAmenu['menutop2'].title);
					$('#menuTopLink_2').val(eRAmenu['menutop2'].lnk);
					$('#menuTopTarget_2').attr('checked', eRAmenu['menutop2'].target == null ? false : eRAmenu['menutop2'].target);
					$('#menuTopTitle_3').val(eRAmenu['menutop3'].title);
					$('#menuTopLink_3').val(eRAmenu['menutop3'].lnk);
					$('#menuTopTarget_3').attr('checked', eRAmenu['menutop3'].target == null ? false : eRAmenu['menutop3'].target);
					$('#menuTopTitle_4').val(eRAmenu['menutop4'].title);
					$('#menuTopLink_4').val(eRAmenu['menutop4'].lnk);
					$('#menuTopTarget_4').attr('checked', eRAmenu['menutop4'].target == null ? false : eRAmenu['menutop4'].target);
					$('#menuTopTitle_5').val(eRAmenu['menutop5'].title);
					$('#menuTopLink_5').val(eRAmenu['menutop5'].lnk);
					$('#menuTopTarget_5').attr('checked', eRAmenu['menutop5'].target == null ? false : eRAmenu['menutop5'].target);
					$('#menuTopTitle_6').val(eRAmenu['menutop6'].title);
					$('#menuTopLink_6').val(eRAmenu['menutop6'].lnk);
					$('#menuTopTarget_6').attr('checked', eRAmenu['menutop6'].target == null ? false : eRAmenu['menutop6'].target);
					$('#menuTopTitle_7').val(eRAmenu['menutop7'].title);
					$('#menuTopLink_7').val(eRAmenu['menutop7'].lnk);
					$('#menuTopTarget_7').attr('checked', eRAmenu['menutop7'].target == null ? false : eRAmenu['menutop7'].target);
					$('#menuTopTitle_8').val(eRAmenu['menutop8'].title);
					$('#menuTopLink_8').val(eRAmenu['menutop8'].lnk);
					$('#menuTopTarget_8').attr('checked', eRAmenu['menutop8'].target == null ? false : eRAmenu['menutop8'].target);
					
					$('input[id*="opt"]').each(function() {
						var numbId = $(this).attr('id').replace('opt', '');
						var optName = $(this).attr('desc')
						if (eRAopt[optName] == null) {
							eRAopt[optName] = true;
							writeSettings(document.userid + '.Options', eRAopt);
							$(this).attr('checked', true);
						} else {
							$(this).attr('checked', eRAopt[optName]);
						}
						$(this).change(function() {
							eRAopt[optName] = $(this).attr('checked');
							writeSettings(document.userid + '.Options', eRAopt);
						});
					});
					
					$('input[id*="menuTitle"]').each(function() {
						var numbId = $(this).attr('id').split('_')[1];
						$(this).change(function() {
							eRAmenu['menu' + numbId].title = $(this).val();
							writeSettings(document.userid + '.Menu', eRAmenu);
						});
					});
					
					$('input[id*="menuLink"]').each(function() {
						var numbId = $(this).attr('id').split('_')[1];
						$(this).change(function() {
							eRAmenu['menu' + numbId].lnk = $(this).val();
							writeSettings(document.userid + '.Menu', eRAmenu);
						});
					});
					
					$('input[id*="menuTarget"]').each(function() {
						var numbId = $(this).attr('id').split('_')[1];
						$(this).change(function() {
							eRAmenu['menu' + numbId].target = $(this).attr('checked');
							writeSettings(document.userid + '.Menu', eRAmenu);
						});
					});
					
					$('input[id*="menuTopTitle"]').each(function() {
						var numbId = $(this).attr('id').split('_')[1];
						$(this).change(function() {
							eRAmenu['menutop' + numbId].title = $(this).val();
							writeSettings(document.userid + '.Menu', eRAmenu);
						});
					});
					
					$('input[id*="menuTopLink"]').each(function() {
						var numbId = $(this).attr('id').split('_')[1];
						$(this).change(function() {
							eRAmenu['menutop' + numbId].lnk = $(this).val();
							writeSettings(document.userid + '.Menu', eRAmenu);
						});
					});
					
					$('input[id*="menuTopTarget"]').each(function() {
						var numbId = $(this).attr('id').split('_')[1];
						$(this).change(function() {
							eRAmenu['menutop' + numbId].target = $(this).attr('checked');
							writeSettings(document.userid + '.Menu', eRAmenu);
						});
					});
					
					$('#windowClose').click(function() {
						$('#menuWindow').remove();
					});
						
					$('#menuWindow').css('display', 'block');
				} else {
					$('#menuWindow').remove();
				}
			});
		} else {
			$('#optionsContentMain').remove();
		}
	});
	
	getVersion();
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Company ----------------------------------------------------------------------------------------------------------
function getCompanyData(){
	if (eRAopt['company'] == false) {
		return;
	}
	
	if ($('.manage_company').length == 0) {
		return;
	}
	
	readSettings('company');
	
	$('.ecur').css('margin-left', '-28px');
	$('.internal_content').css('position', 'relative');
	
	var cId = $('.product_attributes').attr('id').split('_')[1];
	var compDetailUrl = $('#company_header a:eq(0)').attr('href');
	var productType = $('#product_tooltip').attr('src').split('/')[6];
	var c = $('.infos .country img').attr('src').split('/')[6].split('.')[0];
	var ecur = country_currency[c];
	
	$('.internal_content').prepend('<div id="loadingHolder" class="loadingHolder">' +
										'<table width="100%">' +
											'<tr height="180px" align="center">' +
												'<td style="color: #666666; font-size: 14px; font-weight: bold;">資料載入中, 請稍等...<br/><br/><br/><img src="http://www.erepublik.com/images/parts/ajax-loader.gif"/></td>' +
											'</tr>' +
										'</table>' +
									'</div>');
	
	if(productType == 7 || productType == 12) {
		var raw_td = '<td valign="top" width="132px" style="border-bottom: 0px; padding: 0px !important;">' +
						'<div class="left">' +
							'<p class="regular">&nbsp;</p>' +
						'</div>' +
					'</td>';
	} else {
		var raw_td = '<td valign="top" width="132px" style="border-bottom: 0px; padding: 0px !important;">' +
						'<div class="left">' +
							'<p class="regular">原料花費</p>' +
							'<p class="special">' +
								'<span id="raw_cost">0.00 ' + ecur + '</span>' +
							'</p>' +
							'<p class="currency" style="font-size: 12px;">' +
								'<span id="raw_cost_gold">0.000</span>' +
								'<span> GOLD</span>' +
							'</p>' +
							'<p class="currency" style="font-size: 12px;">' +
								'<span id="raw_needed">0</span>' +
								'<span> 需要支原料</span>' +
							'</p>' +
						'</div>' +
					'</td>';
	}
	
	$('.internal_content').prepend('<div class="profitTable">' +
										'<table>' +
											'<tr height="100px" align="center">' +
												'<td>' +
													'<table style="margin-left: 30px">' +
														'<tr>' +
															'<td valign="top" width="132px" style="border-bottom: 0px; padding: 0px !important;">' +
																'<div class="left">' +
																	'<p class="regular">總生產力</p>' +
																	'<p class="special">' +
																		'<span id="total_productivity">0</span>' +
																		'<span> 產品數</span>' +
																	'</p>' +
																'</div>' +
															'</td>' +
															raw_td +
															'<td valign="top" width="132px" style="border-bottom: 0px; padding: 0px !important;">' +
																'<div class="left">' +
																	'<p class="regular">薪水支出</p>' +
																	'<p class="special">' +
																		'<span id="total_salary">0.00 ' + ecur + '</span>' +
																	'</p>' +
																	'<p class="currency" style="font-size: 12px;">' +
																		'<span id="total_salary_gold">0.000</span>' +
																		'<span> GOLD</span>' +
																	'</p>' +
																'</div>' +
															'</td>' +
															'<td valign="top" width="142px" style="border-bottom: 0px; padding: 0px !important;">' +
																'<div class="left">' +
																	'<p class="regular">總支出</p>' +
																	'<p class="special">' +
																		'<span id="total_cost">0.00 ' + ecur + '</span>' +
																	'</p>' +
																	'<p class="currency" style="font-size: 12px;">' +
																		'<span id="total_cost_gold">0.000</span>' +
																		'<span> GOLD</span>' +
																	'</p>' +
																	'<p class="currency" style="font-size: 12px;">' +
																		'<span id="total_cost_per_product">0.00 ' + ecur + '</span>' +
																		'<span> / 每單位生產力</span>' +
																	'</p>' +
																	'<p class="currency" style="font-size: 12px;">' +
																		'<span id="total_cost_per_product_gold">0.000</span>' +
																		'<span> GOLD / 每單位生產力</span>' +
																	'</p>' +
																'</div>' +
															'</td>' +
															'<td valign="top" width="132px" style="border-bottom: 0px; padding: 0px !important;">' +
																'<div class="left">' +
																	'<p class="regular">每日盈利</p>' +
																	'<p class="special">' +
																		'<span id="profit">0.00 ' + ecur + '</span>' +
																	'</p>' +
																	'<p class="currency" style="font-size: 12px;">' +
																		'<span id="profit_gold">0.000</span>' +
																		'<span> GOLD</span>' +
																	'</p>' +
																	'<p class="currency" style="font-size: 12px;">' +
																		'<span id="per_product">0.00 ' + ecur + '</span>' +
																		'<span> / 每單位生產力</span>' +
																	'</p>' +
																	'<p class="currency" style="font-size: 12px;">' +
																		'<span id="per_product_gold">0.000</span>' +
																		'<span> GOLD / 每單位生產力</span>' +
																	'</p>' +
																'</div>' +
															'</td>' +
														'</tr>' +
													'</table>' +
												'</td>' +
											'</tr>' +
										'</table>');
	
	if(productType == 7 || productType == 12) {
		$('.internal_content').prepend('<table>' +
											'<tr height="80px">' +
												'<td style="padding: 0px 0px 10px 0px !important;">' +
													'<table>' +
														'<tr>' +
															'<td width="153px" style="border-bottom: 0px;">&nbsp;</td>' +
															'<td width="172px" class="el_salary" style="font-size: 12px; text-align: center; border-bottom: 0px;">產品價格</td>' +
															'<td width="172px" class="el_salary" style="font-size: 12px; text-align: center; border-bottom: 0px;">&nbsp;</td>' +
															'<td width="193px" style="border-bottom: 0px;">&nbsp;</td>' +
														'</tr>' +
														'<tr>' +
															'<td style="border-bottom: 0px;">&nbsp;</td>' +
															'<td class="el_salary" style="text-align: center; border-bottom: 0px;">' +
																'<input type="text" id="real_price" class="sallary_field" style="float: none; font-size: 18px; width: 70px; padding: 2px 50px 2px 2px;"></input>' +
																'<span class="ecur" style="float: none; font-size: 18px; margin-left: -47px;">' + ecur + '</span>' +
																'<p class="currency" style="font-size: 12px;">' +
																	'<span id="real_price_gold">0.000</span>' +
																	'<span> GOLD</span>' +
																'</p>' +
															'</td>' +
															'<td class="el_salary" style="text-align: center; border-bottom: 0px;">&nbsp;</td>' +
															'<td style="border-bottom: 0px;">&nbsp;</td>' +
														'</tr>' +
													'</table>' +
												'</td>' +
											'</tr>' +
										'</table>');
	} else {
		$('.internal_content').prepend('<table>' +
											'<tr height="80px">' +
												'<td colspan="6" style="padding: 0px 0px 10px 0px !important;">' +
													'<table>' +
														'<tr>' +
															'<td width="153px" style="border-bottom: 0px;">&nbsp;</td>' +
															'<td width="172px" class="el_salary" style="font-size: 12px; text-align: center; border-bottom: 0px;">產品價格</td>' +
															'<td width="172px" class="el_salary" style="font-size: 12px; text-align: center; border-bottom: 0px;">原料價格</td>' +
															'<td width="193px" style="border-bottom: 0px;">&nbsp;</td>' +
														'</tr>' +
														'<tr>' +
															'<td style="border-bottom: 0px;">&nbsp;</td>' +
															'<td class="el_salary" style="text-align: center; border-bottom: 0px;">' +
																'<input type="text" id="real_price" class="sallary_field" style="float: none; font-size: 18px; width: 70px; padding: 2px 50px 2px 2px;"></input>' +
																'<span class="ecur" style="float: none; font-size: 18px; margin-left: -47px;">' + ecur + '</span>' +
																'<p class="currency" style="font-size: 12px;">' +
																	'<span id="real_price_gold">0.000</span>' +
																	'<span> GOLD</span>' +
																'</p>' +
															'</td>' +
															'<td class="el_salary" style="text-align:center; border-bottom: 0px;">' +
																'<input type="text" id="real_raw_price" class="sallary_field" style="float: none; font-size: 18px; width: 70px; padding: 2px 50px 2px 2px;"></input>' +
																'<span class="ecur" style="float: none; font-size: 18px; margin-left: -47px;">' + ecur + '</span>' +
																'<p class="currency" style="font-size: 12px;">' +
																	'<span id="real_raw_price_gold">0.000</span>' +
																	'<span> GOLD</span>' +
																'</p>' +
															'</td>' +
															'<td style="border-bottom: 0px;">&nbsp;</td>' +
														'</tr>' +
													'</table>' +
												'</td>' +
											'</tr>' +
										'</table>');
	}
	
	var compData = null;
	
	if (eRAcomp[cId] == undefined) {
		eRAcomp[cId] = {};
	}
	eRAcomp[cId].exchange = {};
	writeSettings(document.userid + '.Company', eRAcomp);
	
	var prepared = new Array();
	
	function run(variable) {
		prepared[variable] = true;
		
		if (prepared['exchange']) {
			$('#loadingHolder').animate({ 'opacity': '0' }, 1000, function() {
				$('.internal_content').css('position', '');
				$('#loadingHolder').remove();
			});
			
			calcUserProfit();
		}
	}
	
	GM_xmlhttpRequest({
		method: 'GET',
		url: 'http://www.erepublik.com/en/exchange/listOffers?select_page=select&buy_currency_history_id=buy_currencies=' + country_id[c.toLowerCase()] + '&sell_currency_history_id=sell_currencies=62&account_type=citizen-&action_path=listOffers&page=page=1',
		onload: function(response) {
			eRAcomp[cId].exchange[country_currency[c]] = $(response.responseText).find('.special').eq(2).text();
			writeSettings(document.userid + '.Company', eRAcomp);
				
			run('exchange');
		}
	});
	
	if(!$.browser.mozilla) $('div[class="internal_content"] table:first span[class="ecur"]').css('font-size', '17px').css('margin-left', '-43px'); // frimen
}

function reCalc(prodLevel, f_total_productivity, product_price, f_total_salary, rawPerProd, f_total_salary, ecur, ex_rate, f_total_cost, raw_price, tax_rate) {
	if (prodLevel == -1) {
		var fProfit = f_total_productivity * (product_price / (1 + tax_rate / 100)) - f_total_salary;
		
		$('#real_price_gold').html(mathRound((product_price / (1 + tax_rate / 100)) * ex_rate, 5).toFixed(5));
		
		$('#total_productivity').html(mathRound(f_total_productivity, 0).toFixed(0));
		
		$('#total_salary').html(mathRound(f_total_salary, 2).toFixed(2) + ' ' + ecur);
		$('#total_salary_gold').html(mathRound(f_total_salary * ex_rate, 5).toFixed(5));
		
		$('#profit').html(mathRound(fProfit, 2).toFixed(2) + ' ' + ecur);
		$('#profit').css('color', colorChoose(mathRound(fProfit, 2).toFixed(2)));
		$('#profit_gold').html(mathRound(fProfit * ex_rate, 5).toFixed(5));
		$('#per_product').html(mathRound(f_total_productivity ? fProfit / f_total_productivity : 0, 2).toFixed(2) + ' ' + ecur); // frimen
		$('#per_product_gold').html(mathRound((f_total_productivity ? fProfit / f_total_productivity : 0) * ex_rate, 5).toFixed(5)); // frimen
		
		$('#total_cost').html(mathRound(f_total_cost, 2).toFixed(2) + ' ' + ecur);
		$('#total_cost_gold').html(mathRound(f_total_cost * ex_rate, 5).toFixed(5));
		$('#total_cost_per_product').html(mathRound(f_total_productivity ? f_total_cost / f_total_productivity : 0, 2).toFixed(2) + ' ' + ecur); // frimen
		$('#total_cost_per_product_gold').html(mathRound((f_total_productivity ? f_total_cost / f_total_productivity : 0) * ex_rate, 5).toFixed(5)); // frimen
	} else {
		var pUnits = f_total_productivity
		var rawCost = pUnits * rawPerProd * raw_price;
		var fProfit = pUnits * (product_price / (1 + tax_rate / 100)) - f_total_salary - rawCost;

		$('#real_price_gold').html(mathRound((product_price / (1 + tax_rate / 100)) * ex_rate, 5).toFixed(5));
		$('#real_raw_price_gold').html(mathRound(raw_price * ex_rate, 5).toFixed(5));
		
		$('#total_productivity').html(mathRound(f_total_productivity, 0).toFixed(0));
		
		$('#raw_cost').html(mathRound(pUnits * rawPerProd * raw_price, 2).toFixed(2) + ' '+ecur);
		$('#raw_cost_gold').html(mathRound(pUnits * rawPerProd * raw_price * ex_rate, 5).toFixed(5));
		$('#raw_needed').html(mathRound(pUnits * rawPerProd, 2).toFixed(2));
		
		$('#total_salary').html(mathRound(f_total_salary, 2).toFixed(2) + ' ' + ecur);
		$('#total_salary_gold').html(mathRound(f_total_salary * ex_rate, 5).toFixed(5));
		
		$('#profit').html(mathRound(fProfit, 2).toFixed(2) + ' ' + ecur);
		$('#profit').css('color', colorChoose(mathRound(fProfit, 2).toFixed(2)));
		$('#profit_gold').html(mathRound(fProfit * ex_rate, 5).toFixed(5));
		$('#per_product').html(mathRound(pUnits ? fProfit / pUnits : 0, 2).toFixed(2) + ' ' + ecur); // frimen
		$('#per_product_gold').html(mathRound((pUnits ? fProfit / pUnits : 0) * ex_rate, 5).toFixed(5)); // frimen
		
		$('#total_cost').html(mathRound(f_total_cost, 2).toFixed(2) + ' ' + ecur);
		$('#total_cost_gold').html(mathRound(f_total_cost * ex_rate, 5).toFixed(5));
		$('#total_cost_per_product').html(mathRound(pUnits ? f_total_cost / pUnits : 0, 2).toFixed(2) + ' ' + ecur); // frimen
		$('#total_cost_per_product_gold').html(mathRound((pUnits ? f_total_cost / pUnits : 0) * ex_rate, 5).toFixed(5)); // frimen
	}
}

function calcUserProfit(){
	readSettings('company');
	readSettings('taxes');
	
	var rowCount = $('#employee_list >table >tbody >tr').length;
	var companyId = $('.product_attributes').attr('id').split('_')[1];
	var ecur = $('.ecur').eq(0).text();
	
	var prodType = $('#product_tooltip').attr('src').split('/')[6];
	
	var eToday = parseFloat($('.eday strong').html().replace(/,/gi, ''));
	var eTodayIndex = (eToday - 965) % 7;
	
	var prodLevel = 1;
	var rawPerProd = 1;
	
	var tax_rate = parseFloat(eRAtax[currency_country[ecur]][prodType].vat); //Original Price = Total Price / (1 + Tax Rate / 100)
	
	if (eRAcomp[companyId].unitprice == undefined) {
		var product_price = 0;
	} else {
		var product_price = parseFloat(eRAcomp[companyId].unitprice);
	}
	if (eRAcomp[companyId].rawprice == undefined) {
		var raw_price = 0;
	} else {
		var raw_price = parseFloat(eRAcomp[companyId].rawprice);
	}
	var ex_rate = eRAcomp[companyId].exchange[ecur];

	var f_total_productivity = 0;
	var f_salary = 0;
	var f_total_salary = 0;
	var f_profit = 0;
	var f_total_profit = 0;
	var f_prodCount = 0;
	var f_cost = 0;
	var f_total_cost = 0;

	$('.el_mainh').append('<th class="el_employee" style="padding: 3px 10px 3px 5px; width: 50px;">盈利</th>');
	$('.el_days').append('<th>&nbsp;</th>');
	$('#employee_list table tbody tr .el_salary').each(function(index, ele) {
		var profileId = $('.el_img').eq(index).attr('href');
		profileId = profileId.substring(profileId.lastIndexOf('/') + 1);
		$('.el_img').eq(index).after('<div style="padding-top: 6px;">' +
										'<a href="http://economy.erepublik.com/' + document.language + '/citizen/donate/' + profileId + '" style="margin-right: 3px;">' +
											'<img title="Donate丟東西" src="' + iconDonate + '" style="border: none;">' +
										'</a>' +
										'<a href="http://www.erepublik.com/' + document.language + '/main/messages-compose/' + profileId + '">' +
											'<img title="Send message寄送訊息" src="' + iconMessage + '" style="border: none;">' +
										'</a>' +
									'</div>');
		$(this).after('<td class="profitHolder" style="padding: 3px 0px 3px 5px;"></td>');
	});
	
	if(prodType == 7 || prodType == 12) {
		prodLevel = -1;
	} else {
		prodLevel = $('.product_type').attr('quality')
		
		if(prodType == 1) {
			rawPerProd = parseFloat(prodLevel);
		} else if(prodType == 2) {
			rawPerProd = parseFloat(prodLevel) * 10;
		}
	}
	
	if (eRAcomp['day'] != eToday) {
		eRAcomp['day'] = eToday;
		writeSettings(document.userid + '.Company', eRAcomp);
	}
	
	if(prodType == 7 || prodType == 12) {
		$('#real_price').val(mathRound(product_price, 3).toFixed(3));
	} else {
		$('#real_price').val(mathRound(product_price, 3).toFixed(3));
		$('#real_raw_price').val(mathRound(raw_price, 3).toFixed(3));
	}
	
	// calculate profit for each employee
	$('#employee_list table tbody tr .el_salary').each(function(index, ele) {
		var workerData = null;

		$('.profitHolder').eq(index).html('');
		
		var profileId = $('.el_img').eq(index).attr('href');
		profileId = profileId.substring(profileId.lastIndexOf('/') + 1);
		var salary = $(this).find('input').val();
		
		if (eRAcomp[companyId].workersalary == undefined) {
			eRAcomp[companyId].workersalary = {}
		}
		eRAcomp[companyId].workersalary[profileId] = salary;
		writeSettings(document.userid + '.Company', eRAcomp);
		
		if(prodLevel == -1) {
			var workResultTD = $('.el_day').eq(index * 7 + eTodayIndex);
			
			if (workResultTD.text() != '') {
				f_prodCount = $('strong', workResultTD).text();
				f_profit = f_prodCount * (product_price / (1 + tax_rate / 100)) - parseFloat(salary);
				f_cost = parseFloat(salary);
				
				$('.profitHolder').eq(index).append('<strong style="font-size: 11px; color:' + colorChoose(f_profit) + '" id="f_profit_' + profileId + '" title="Profit by the fact">&nbsp;&nbsp;' + mathRound(f_profit, 2).toFixed(2) + '</strong><br/>');
				
				f_total_profit += f_profit;
				f_total_productivity += parseFloat(f_prodCount);
				f_total_salary += parseFloat(salary);
				f_total_cost += f_cost;
			} else {
				$('.profitHolder').eq(index).append('&nbsp;&nbsp;&nbsp;&mdash;&nbsp;&nbsp;<br/>');
			}
		} else {
			var workResultTD = $('.el_day').eq(index * 7 + eTodayIndex);
		
			if(workResultTD.text() != '') {
				f_prodCount = $('strong', workResultTD).text();
				f_profit = f_prodCount * (product_price / (1 + tax_rate / 100)) - parseFloat(salary) - (f_prodCount * rawPerProd) * raw_price;
				f_cost = parseFloat(salary) + (f_prodCount * rawPerProd) * raw_price;
				
				$('.profitHolder').eq(index).append('<strong style="font-size: 11px; color:' + colorChoose(f_profit) + '" id="f_profit_' + profileId + '" title="Profit by the fact">&nbsp;&nbsp;' + mathRound(f_profit, 2).toFixed(2) + '</strong><br/>');
				
				f_total_profit += f_profit;
				f_total_productivity += parseFloat(f_prodCount);
				f_total_salary += parseFloat(salary);
				f_total_cost += f_cost
			} else {
				$('.profitHolder').eq(index).append('&nbsp;&nbsp;&nbsp;&mdash;&nbsp;&nbsp;<br/>');
			}
		}
		reCalc(prodLevel, f_total_productivity, product_price, f_total_salary, rawPerProd, f_total_salary, ecur, ex_rate, f_total_cost, raw_price, tax_rate);
	});
	
// Live functions
	$('#employee_list table tbody tr .el_salary input[id^="salary_"]').live('keyup', function() {
		product_price = parseFloat( $('#real_price').val() );
		if (parseFloat( $('#real_raw_price').val() ) != null || parseFloat( $('#real_raw_price').val() ) != undefined || parseFloat( $('#real_raw_price').val() ) != '') {
			raw_price = parseFloat( $('#real_raw_price').val() );
		} else {
			raw_price = 0;
		}
		
        var workerId = $(this).attr('id').split('_')[1];
		var oldSalary = parseFloat(eRAcomp[companyId].workersalary[workerId]);
		var newSalary = $(this).val();
		
		if (isNaN($(this).val()) || $(this).val() == '') {
			$(this).val(oldSalary);
			newSalary = oldSalary;
		}
		
		eRAcomp[companyId].workersalary[workerId] = newSalary;
		writeSettings(document.userid + '.Company', eRAcomp);
				
		if (prodLevel == -1) {
			var workResultTD = $(this).parent().parent().parent().find('.el_day').eq(eTodayIndex);
			
			if(workResultTD.text() != '') {
				f_prodCount = $('strong', workResultTD).text();
				var old_f_profit = f_prodCount * (parseFloat( $('#real_price').val() ) / (1 + tax_rate / 100)) - parseFloat(oldSalary);
				f_profit = f_prodCount * (parseFloat( $('#real_price').val() ) / (1 + tax_rate / 100)) - parseFloat(newSalary);
				
				$('strong[id="f_profit_' + workerId + '"]').css('color', colorChoose(f_profit));
				$('strong[id="f_profit_' + workerId + '"]').html('&nbsp;&nbsp;' + mathRound(f_profit, 2).toFixed(2));
				
				f_total_profit = f_total_profit - old_f_profit + f_profit;
				f_total_salary = f_total_salary - parseFloat(oldSalary) + parseFloat(newSalary);
				f_total_cost = f_total_cost - parseFloat(oldSalary) + parseFloat(newSalary);
			}
		} else {
			var workResultTD = $(this).parent().parent().parent().find('.el_day').eq(eTodayIndex);
			
			if(workResultTD.text() != '') {
				f_prodCount = $('strong', workResultTD).text();
				var old_f_profit = f_prodCount * (parseFloat( $('#real_price').val() ) / (1 + tax_rate / 100)) - parseFloat(oldSalary) - (f_prodCount * rawPerProd) * parseFloat( $('#real_raw_price').val() );
				f_profit = f_prodCount * (parseFloat( $('#real_price').val() ) / (1 + tax_rate / 100)) - parseFloat(newSalary) - (f_prodCount * rawPerProd) * parseFloat( $('#real_raw_price').val() );
				
				$('strong[id="f_profit_' + workerId + '"]').css('color', colorChoose(f_profit));
				$('strong[id="f_profit_' + workerId + '"]').html('&nbsp;&nbsp;' + mathRound(f_profit, 2).toFixed(2));
				
				f_total_profit = f_total_profit - old_f_profit + f_profit;
				f_total_salary = f_total_salary - parseFloat(oldSalary) + parseFloat(newSalary);
				f_total_cost = f_total_cost - parseFloat(oldSalary) + parseFloat(newSalary);
			}
		}
		
		reCalc(prodLevel, f_total_productivity, product_price, f_total_salary, rawPerProd, f_total_salary, ecur, ex_rate, f_total_cost, raw_price, tax_rate);
		
        return false;
    });

	$('#real_price').live('keyup', function(){
		if (isNaN($(this).val()) || $(this).val() == '') {
			$(this).val(eRAcomp[companyId].unitprice);
		}
		
		product_price = parseFloat( $('#real_price').val() );
		if (parseFloat( $('#real_raw_price').val() ) != null || parseFloat( $('#real_raw_price').val() ) != undefined || parseFloat( $('#real_raw_price').val() ) != '') {
			raw_price = parseFloat( $('#real_raw_price').val() );
		} else {
			raw_price = 0;
		}
		
		eRAcomp[companyId].unitprice = $('#real_price').val();
		writeSettings(document.userid + '.Company', eRAcomp);
		
		$('#employee_list table tbody tr .el_salary').each(function(index, ele) {
			var profileId = $('.el_img').eq(index).attr('href');
			profileId = profileId.substring(profileId.lastIndexOf('/') + 1);
			var salary = $(this).find('input').val();
			
			if (prodLevel == -1) {
				var workResultTD = $('.el_day').eq(index * 7 + eTodayIndex);
				
				if(workResultTD.text() != '') {
					f_prodCount = $('strong', workResultTD).text();
					f_profit = f_prodCount * (parseFloat( $('#real_price').val() ) / (1 + tax_rate / 100)) - parseFloat(salary);
					
					$('strong[id="f_profit_' + profileId + '"]').css('color', colorChoose(f_profit));
					$('strong[id="f_profit_' + profileId + '"]').html('&nbsp;&nbsp;' + mathRound(f_profit, 2).toFixed(2));
				}
			} else {
				var workResultTD = $('.el_day').eq(index * 7 + eTodayIndex);
		
				if(workResultTD.text() != '') {
					f_prodCount = $('strong', workResultTD).text();
					f_profit = f_prodCount * (parseFloat( $('#real_price').val() ) / (1 + tax_rate / 100)) - parseFloat(salary) - (f_prodCount * rawPerProd) * parseFloat( $('#real_raw_price').val() );
					
					$('strong[id="f_profit_' + profileId + '"]').css('color', colorChoose(f_profit));
					$('strong[id="f_profit_' + profileId + '"]').html('&nbsp;&nbsp;' + mathRound(f_profit, 2).toFixed(2));
				}
			}
		});
		
		reCalc(prodLevel, f_total_productivity, product_price, f_total_salary, rawPerProd, f_total_salary, ecur, ex_rate, f_total_cost, raw_price, tax_rate);
		
		return false;
    });
	
	$('#real_raw_price').live('keyup', function(){
		if (isNaN($(this).val()) || $(this).val() == '') {
			$(this).val(eRAcomp[companyId].rawprice);
		}
		
		var old_raw_price = parseFloat(eRAcomp[companyId].rawprice);
		product_price = parseFloat( $('#real_price').val() );
		if (parseFloat( $('#real_raw_price').val() ) != null || parseFloat( $('#real_raw_price').val() ) != undefined || parseFloat( $('#real_raw_price').val() ) != '') {
			raw_price = parseFloat( $('#real_raw_price').val() );
		} else {
			raw_price = 0;
		}
		
		eRAcomp[companyId].rawprice = $('#real_raw_price').val();
		writeSettings(document.userid + '.Company', eRAcomp);
		
		$('#employee_list table tbody tr .el_salary').each(function(index, ele) {
			var profileId = $('.el_img').eq(index).attr('href');
			profileId = profileId.substring(profileId.lastIndexOf('/') + 1);
			var salary = $(this).find('input').val();
			
			var workResultTD = $('.el_day').eq(index * 7 + eTodayIndex);
	
			if(workResultTD.text() != '') {
				f_prodCount = $('strong', workResultTD).text();
				var old_f_profit = f_prodCount * (parseFloat( $('#real_price').val() ) / (1 + tax_rate / 100)) - parseFloat(salary) - (f_prodCount * rawPerProd) * old_raw_price;
				f_profit = f_prodCount * (parseFloat( $('#real_price').val() ) / (1 + tax_rate / 100)) - parseFloat(salary) - (f_prodCount * rawPerProd) * parseFloat( $('#real_raw_price').val() );
				var old_f_cost = parseFloat(salary) + (f_prodCount * rawPerProd) * old_raw_price;
				f_cost = parseFloat(salary) + (f_prodCount * rawPerProd) * raw_price;
				
				$('strong[id="f_profit_' + profileId + '"]').css('color', colorChoose(f_profit));
				$('strong[id="f_profit_' + profileId + '"]').html('&nbsp;&nbsp;' + mathRound(f_profit, 2).toFixed(2));
				
				f_total_profit = f_total_profit - old_f_profit + f_profit;
				f_total_cost = f_total_cost - parseFloat(old_f_cost) + parseFloat(f_cost);
			}
		});
		
		reCalc(prodLevel, f_total_productivity, product_price, f_total_salary, rawPerProd, f_total_salary, ecur, ex_rate, f_total_cost, raw_price, tax_rate);
		
        return false;
    });
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Monetary market --------------------------------------------------------------------------------------------------
function createMonMarketSwitch() {
	if (eRAopt['mmarket'] == false) {
		return;
	}
	
	if($('#currency_switch').size() <= 0) {
		var changeLink = '<a id="currency_switch" href="javascript:void(0)" style="display: block; position: relative; left: 10px; top: -20px;"><img src="http://www.erepublik.com/images/parts/icon_show-off.gif"/>&nbsp;&nbsp;交換貨幣</a>';
		$('#filters .rightfilters').append(changeLink);
		var startingLink = window.location.href.split('#')[0];
		var curLink = $('#buy_selector').attr('href').split('=');
		var newLink = startingLink + '#buy_currencies=' + curLink[2].substring(0, curLink[2].indexOf(';')) + ';sell_currencies=' + curLink[1].substring(0, curLink[1].indexOf(';')) + ';page=1';
		$.browser.mozilla ? $('#currency_switch').attr('href', newLink) : $('#currency_switch').attr('href', newLink.replace('http://www.', 'http://')); // frimen
	}
	
	window.setTimeout(createMonMarketSwitch, 500);
	calculateCounterExchangeRate();
	createButtons()
	calculateTotals();
}

function createButtons() {
	if ($('input[id*="allButton_"]').size() <= 0) {
		if (location.href.split('/')[5] == undefined) {
			$('#table_list_offers th:eq(0)').attr('width', '180');
			$('#table_list_offers th:last').attr('width', '270');
			$('input[id*="submit_form_accept_"]').each(function() {
				var mmId = $(this).attr('id').split('_')[3];
				
				$(this).before('<input type="button" class="mMarketButton" value="All" id="allButton_' + mmId + '">&nbsp;<input type="button" class="mMarketButton" value="Max" id="maxButton_' + mmId + '">&nbsp;');
			});
			
			$('input[id^="allButton_"]').click(function() {
				var allAmount = parseFloat($(this).parent().parent().find('span[id*="initial_amount_"]').text());
				var exRate = parseFloat($(this).parent().parent().find('span[id^="exchange_value_amount_"]').text());
                var currToBuy = $('#currency_account_for_buy').html();
                var currToSell = $('#currency_account_for_sell').html();

                if(currToBuy == 'GOLD' && allAmount > 10) allAmount = 10;
                else if(currToSell == 'GOLD' && allAmount > 10 / exRate) allAmount = 10 / exRate;                				
				$(this).parent().find('input[id*="form_amount_accept_"]').attr('value', allAmount);
			});
			
			$('input[id^="maxButton_"]').click(function() {
                var currToBuy = $('#currency_account_for_buy').html();
                var currToSell = $('#currency_account_for_sell').html();
				var mmCurrency = $(this).parent().parent().find('.currency').eq(2).text()
				if (mmCurrency == 'GOLD') {
					mmCurrency = 'Gold';
				}
				var userMoney = eRAacc[mmCurrency];
				var maxAmount = parseFloat($(this).parent().parent().find('span[id*="initial_amount_"]').text());
				var exRate = parseFloat($(this).parent().parent().find('span[id^="exchange_value_amount_"]').text());
				
				var finalAmount = mathFloor(parseFloat(userMoney) / parseFloat(exRate), 2).toFixed(2);

                if(currToBuy == 'GOLD' && maxAmount > 10) maxAmount = 10;
                else if(currToSell == 'GOLD' && maxAmount > 10 / exRate) maxAmount = 10 / exRate;
				
				if (finalAmount > maxAmount) {
					$(this).parent().find('input[id*="form_amount_accept_"]').attr('value', maxAmount);
				} else {
					$(this).parent().find('input[id*="form_amount_accept_"]').attr('value', finalAmount);
				}
			});
		}
	}
}

function calculateCounterExchangeRate() {
	$('span[id^="exchange_value_amount_"]').each(function(i) {
		var xChangeRate = $(this).text();
		var counterXRate = Math.round(100000 / xChangeRate) / 100000;
		
		$(this).attr('title', '1 ' + $(this).parent().find('.currency').eq(1).text() + ' = ' + counterXRate + ' ' + $(this).parent().find('.currency').eq(0).text());
		$(this).css('cursor', 'default');
	});
}

function calculateTotals() {
    var totalAmmount = 0;
	var offerList = $('span[id^="initial_amount_"]');
	
	for (var i = 0; i < offerList.length; i++) {
        totalAmmount += parseFloat(offerList[i].innerHTML);
    }
	
	if (totalAmmount > 0) {
		var currencyTag = $('span[id^="initial_amount_"]').eq(0).parent().find('.currency').html();
		if ($('#totalHolder').length == 0) {
			$('#table_list_offers tr:last').after('<tr><td id="totalHolder"><span class="fakeheight">總共</span></td><td id="totalValue" colspan="3"><span class="special green">' + mathRound(totalAmmount, 2).toFixed(2) + '</span><span class="currency"> ' + currencyTag + '</span></td></tr>');
		} else {
			$('#totalValue').html('<span class="special green">' + mathRound(totalAmmount, 2).toFixed(2) + '</span><span class="currency"> ' + currencyTag + '</span>');
		}
	}
}

function exchangeLink() {
	$('input[id^="submit_form_edit"]').click(function() {
		window.setTimeout(exchangeLink, 2000);
	});
	
	$('a[id^="delete_form_edit"]').click(function() {
		window.setTimeout(exchangeLink, 2000);
	});
	
	// frimen - start
    var cycles = 0;	
    var exchInt = setInterval(function(){
        cycles += 1;
 
        $('#table_list_offers tbody tr').each(function(e) {
            currency1 = fixString2($(this).find('span.currency.forminfo').eq(0).text());
            currency2 = fixString2($(this).find('span.currency.forminfo').eq(1).text());
            if (currency1.length > 0) {
                currency1id = country_id[currency_country[currency1].toLowerCase()];
                currency2id = country_id[currency_country[currency2].toLowerCase()];
                if ($(this).find('a#exchButt').length < 1) {
                    $(this).find('input:eq(0)').parent().prev().append('<a id="exchButt" href="http://www.erepublik.com/' + document.language + '/exchange?account_type=citizen-#buy_currencies=' + currency1id + ';sell_currencies=' + currency2id + ';page=1" title="Check market" style="float: right; margin: 2px;" class="marketbtn">檢查</a>');
                }
            }
        });
 
        if(cycles == 4){clearInterval(exchInt);}
    }, 1000);
    // frimen - end
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Improved sidebar -------------------------------------------------------------------------------------------------
var storageMain;
var inventoryMain;
var rawMain;
var marketMain;
var marketMa;
var taxMain;
var citizenMain;
var monetaryMain;
var accountHolder;

function prepareSidebarData() {
	readSettings('time');
	readSettings('data');
	
	if (eRAopt['sidebar'] == false) {
		return;
	}
	
	var currentTime = new Date();

	$('#point').remove();
	
	var prepared = new Array();
	
	function run(variable) {
		prepared[variable] = true;
		
		if (prepared['inventory'] && prepared['accountHolder'] && prepared['monetary']) {
			saveTaxes();
			getHealth();
			improveMoneyDisplay();
			miniInventory();
			miniMonetary();
		}
	}
	
	function runRequests() {
		GM_xmlhttpRequest({
			method: 'GET',
			url: 'http://www.erepublik.com/en/economy/inventory',
			onload: function(response) {
				try {
					storageMain = $(response.responseText).find('#inventory_overview strong:eq(0)').html();
					
					inventoryMain = response.responseText;
					inventoryMain = fixString2(inventoryMain.split('class="product_list">')[1].split('</ul>')[0].replace(/style=\"display:none\"/gi, '').replace(/<img.*?\/>/gi, '').replace(/<strong.*?>/gi, '').replace(/<\/strong.*?>/gi, ''));
					inventoryMain = inventoryMain.replace(/<li industry=\"/gi, '').replace(/\" quality=\"/gi, '|').replace(/\" >/gi, '|').replace(/<\/li>/gi, '/').replace('&nbsp;&nbsp;', '').replace(/ /gi, '').replace(/,/gi, '');
					inventoryMain = inventoryMain.substr(0, inventoryMain.length - 1);
					
					rawMain = response.responseText;
					rawMain = fixString2(rawMain.split('class="item_mask">')[2].split('</ul>')[0].replace(/<img.*?\/>/gi, '').replace(/<ul>/gi, '').replace(/<li.*?>/gi, '').replace(/<\/li>/gi, '').replace(/<\/strong>/gi, '/').replace(/<strong id="stock_/gi, '').replace(/_.*?>/gi, '|').replace(/,/gi, ''));
					rawMain = rawMain.substr(0, rawMain.length - 1);
					
					marketMain = $(response.responseText).find('#sell_offers').html();
					
					taxMain = response.responseText;
					taxMain = fixString2(taxMain.split('countryList = ')[1].split(';')[0]);
					
					citizenMain = response.responseText;
					citizenMain = fixString2(citizenMain.split('citizenshipCountry = ')[1].split(';')[0]);
					
					eRAdata['storageMain'] = storageMain;
					eRAdata['inventoryMain'] = inventoryMain;
					eRAdata['rawMain'] = rawMain;
					eRAdata['marketMain'] = marketMain;
					eRAdata['taxMain'] = taxMain;
					eRAdata['citizenMain'] = citizenMain;
					writeSettings(document.userid + '.Data', eRAdata);
					
					run('inventory');
				} catch(err) { }
			}
		});
		
		GM_xmlhttpRequest({
			method: 'GET',
			url: 'http://economy.erepublik.com/en/accounts/' + document.userid,
			onload: function(response) {
				try {
					accountHolder = response.responseText;
					accountHolder = fixString2(accountHolder.split('id="allaccounts">')[1].split('						</div>')[0].replace(/<.*?push_left">/gi, '/').replace(/<.*?push_right">/gi, '|'));
					accountHolder = accountHolder.replace(/<a.*?\/a>/gi, '');
					accountHolder = accountHolder.replace(/<.*?>/gi, '').replace('&nbsp;&nbsp;', '').replace(/ /gi, '');
					accountHolder = accountHolder.substr(1, accountHolder.length);
					accountHolder = accountHolder.split('&nbsp;')[0];
					
					eRAdata['accountHolder'] = accountHolder;
					writeSettings(document.userid + '.Data', eRAdata);
					
					run('accountHolder');
				} catch(err) { }
			}
		});
		
		GM_xmlhttpRequest({
			method: 'GET',
			url: 'http://www.erepublik.com/en/exchange/listMyOffers?select_page=select_my_offers&buy_currency_history_id=0&sell_currency_history_id=0&account_type=citizen-&action_path=listMyOffers&page=page%3D1',
			onload: function(response) {
				monetaryMain = $(response.responseText).find('#table_list_offers').html();
				
				eRAdata['monetaryMain'] = monetaryMain;
				writeSettings(document.userid + '.Data', eRAdata);
				
				run('monetary')
			}
		});
	}
	
	if (eRAtime == undefined) {
		eRAtime = currentTime.getTime();
		writeSettings(document.userid + '.Time', eRAtime);
			
		runRequests();
	} else {
		var currTimeStamp = currentTime.getTime();
		var timeStamp = parseFloat(eRAtime) + 30000;
		
		if (currTimeStamp >= timeStamp || eRAdata['storageMain'] == undefined || eRAdata['storageMain'] == '') {
			eRAtime = currentTime.getTime();
			writeSettings(document.userid + '.Time', eRAtime);
				
			runRequests();
		} else {
			storageMain = eRAdata['storageMain'];
			inventoryMain = eRAdata['inventoryMain'];
			rawMain = eRAdata['rawMain'];
			marketMain = eRAdata['marketMain'];
			taxMain = eRAdata['taxMain'];
			accountHolder = eRAdata['accountHolder'];
			monetaryMain = eRAdata['monetaryMain'];
			citizenMain = eRAdata['citizenMain'];
			
			saveTaxes();
			getHealth();
			improveMoneyDisplay();
			miniInventory();
			miniMonetary();
		}
	}
}

var healthGain = 0;
	
function getHealth() {
	var healthHouseGain = 0;
	var dailyLoss = 0;
	var newHealth = 0;
	var houseImg = 'http://www.erepublik.com/images/icons/industry/4/default.png'
	
	var isCit = $('.user_level b').html();
	
	if (isCit != 'Or') {
		var objectIndustry;
		var objectQuality;
		var objectCount;
		var oldObjectQuality = 0;
		
		var gotHouseData = false;
		
		for (var a = 0; a < inventoryMain.split('/').length; a++) {
			objectIndustry = inventoryMain.split('/')[a].split('|')[0];
			objectQuality = inventoryMain.split('/')[a].split('|')[1];
			objectCount = inventoryMain.split('/')[a].split('|')[2];
			
			if (objectIndustry == '4') {
				if (objectCount > 0) {
					if (objectQuality > oldObjectQuality) {
						oldObjectQuality = objectQuality;
						houseImg = 'http://www.erepublik.com/images/icons/industry/4/q' + objectQuality + '.png'
						healthHouseGain = parseFloat(objectQuality) * 10;
						gotHouseData = true;
					}
				}
			}
		}
		
		if(gotHouseData == false) {
			healthHouseGain = 0;
		}
		
		function preformatData() {
			if(currentHealth <= 10) {
				healthGain = mathRound(parseFloat(healthHouseGain) - 1, 0).toFixed(0);
				dailyLoss = '-' + 1;
			} else if (currentHealth > 10 && currentHealth <= 50) {
				healthGain = mathRound(parseFloat(healthHouseGain) - 2, 0).toFixed(0);
				dailyLoss = '-' + 2;
			} else if (currentHealth > 50 && currentHealth <= 80) {
				healthGain = mathRound(parseFloat(healthHouseGain) - 3, 0).toFixed(0);
				dailyLoss = '-' + 3;
			} else if (currentHealth > 80 && currentHealth <= 100) {
				healthGain = mathRound(parseFloat(healthHouseGain) - 4, 0).toFixed(0);
				dailyLoss = '-' + 4;
			}
			
			newHealth = mathRound(currentHealth + parseFloat(healthGain), 0).toFixed(0);
			
			if(newHealth > 100) {
				newHealth = '100';
			}
			
			if(healthGain < 0) {
				healthGain = parseFloat(healthGain).toFixed(0);
			} else {
				healthGain = '+' + parseFloat(healthGain).toFixed(0);
			}
			
			if(healthHouseGain > 0) {
				healthHouseGain = '+' + parseFloat(healthHouseGain).toFixed(0);
			} else {
				healthHouseGain = parseFloat(healthHouseGain).toFixed(0);
			}
		}
		preformatData();
		
        $('#large_sidebar').append(   '<div id="tomorrow_health" class="simple_yellow" style="width: 250px; display: none;">' +
                                        '<img src="http://www.erepublik.com/images/modules/sidebar/yellow_arrow_tip.png" class="tip" alt="" />' +
										'<p style="margin-bottom: 8px;">每天減少的體力由你換日時的體力來決定.</p>' +
                                        '<p style="margin-bottom: 0px;">換日後的體力: <strong>' + newHealth + '</strong> 點體力<img class="mini_health" src="http://www.erepublik.com/images/modules/_icons/mini_health.png" alt="" style="margin-left: 5px; vertical-align: middle;"></p>' +
                                    '</div>');
		
		function sidebarTooltip(trigg, toolt){
			$(trigg).hover(
				function() { $(toolt).css({ display: "block" }); },
				function() { $(toolt).css({ display: "none" }); }
			);
			$(trigg).mousemove(function(e) {
				var mx = e.pageX - 10;
				var my = e.pageY + 25;
				$(toolt).css({ top: my, left: mx });
			});
		}

        sidebarTooltip('#current_health', '#tomorrow_health');
		
		$('#current_health').contentChange(function() {
			currentHealth = parseFloat($('#current_health').html());
			
			preformatData();
			
            $('#tomorrow_health strong').html(newHealth);
		});
	}
}

function improveMoneyDisplay() {
	var goldAmmount;
	var naturalAmmount;
	var accountCurr;
	var accountAmmount;
	
	if ($('.currency_amount a img').attr('title') != '') {
		var naturalCurrency = $('.currency_amount a img').attr('title');
	} else {
		var naturalCurrency = country_currency[$('.currency_amount a img').attr('src').split('/')[6].split('.')[0]];
	}
	
	var citizenCurrency = country_currency[id_country[fixString2(eRAdata['citizenMain'])]];
	
	for(var x = 0; x < accountHolder.split('/').length; x++) {
		accountCurr = accountHolder.split('/')[x].split('|')[0];
		accountAmmount = accountHolder.split('/')[x].split('|')[1];
		
		eRAacc[accountCurr] = accountAmmount;
		writeSettings(document.userid + '.Accounts', eRAacc);
	}
	
	$('#side_bar_gold_account_value').html(eRAacc['Gold']);
	$('.currency_amount strong').html(eRAacc[naturalCurrency]);
	if ($('.citizenship_currency_amount').length > 0) {
		$('.citizenship_currency_amount strong').html(eRAacc[citizenCurrency]);
	}
	
	for (var x = 0; x < accountHolder.split('/').length; x++) {
		accountCurr = accountHolder.split('/')[x].split('|')[0];
		accountAmmount = accountHolder.split('/')[x].split('|')[1];
		
		if(accountCurr != "Gold" && accountAmmount > 0.01) {
			if(accountCurr != naturalCurrency && accountCurr != citizenCurrency) {
				
				$('.user_finances').append('<div class="currencyOther">' +
												'<a href="http://economy.erepublik.com/' + document.language + '/accounts/' + document.userid + '">' +
													'<img title="' + accountCurr + '" alt="' + accountCurr + '" src="http://www.erepublik.com/images/flags_png/S/' + currency_country[accountCurr] + '.png">' +
													'<strong>' + accountAmmount + '</strong>&nbsp;<span>' + accountCurr + '</span>' +
												'</a>' +
											'</div>');
			}
		}
	}
	
	$('.currencyOther:last').css('border-bottom', 'none');
	
	$('#side_bar_gold_account_value').contentChange(function() {
		$(this).html(eRAacc['Gold']);
	});
	
	$('.user_finances').live('mouseover mouseout', function(event) {
		if (event.type == 'mouseover') {
			if ($('.citizenship_currency_amount').length > 0) {
				$('.citizenship_currency_amount').css('border-bottom', '1px solid #DEDEDE');
			} else {
				$('.currency_amount').css('border-bottom', '1px solid #DEDEDE');
			}
		} else {
			if ($('.citizenship_currency_amount').length > 0) {
				$('.citizenship_currency_amount').css('border-bottom', 'none');
			} else {
				$('.currency_amount').css('border-bottom', 'none');
			}
		}
	});
}

function miniInventory() {
	var itemIndustry;
	var itemQuality;
	var itemCount;
	var itemPresent = false;
	
	var rawIndustry;
	var rawCount;
	var rawPresent = false;
	
	var marketPresent = false;
	
	for (var a = 0; a < inventoryMain.split('/').length; a++) {
		itemCount = inventoryMain.split('/')[a].split('|')[2];
		
		if (itemCount > 0) {
			itemPresent = true;
		}
	}
	
	for (var a = 0; a < rawMain.split('/').length; a++) {
		rawCount = rawMain.split('/')[a].split('|')[1];
		
		if (rawCount > 0) {
			itemPresent = true;
		}
	}
	
	if ($(marketMain).find('[id*="offer_"]').html() != undefined) {
		marketPresent = true;
	}
	
	$('.optionsHolder').before('<a href="http://www.erepublik.com/' + document.language + '/economy/inventory"><div class="inventoryHolder"><div style="text-align: center; display: block; float: left; color: #b4b4b4; width: 100%; margin-bottom: 3px;">倉庫 ' + fixString2(storageMain) + '</div></div></a>');
	
	if (itemPresent == true) {
		$('.inventoryHolder').append('<div id="miniInventory1" class="miniInventoryHolder"></div>');
	}
	
	if (marketPresent == true) {
		$('.inventoryHolder').append('<div style="text-align: center; display: block; float: left; color: #b4b4b4; width: 100%; margin-bottom: 3px;">於市場上的</div>' +
										'<div id="miniInventory3" class="miniInventoryHolder"></div>');
	}
	
	for (var a = 0; a < inventoryMain.split('/').length; a++) {
		itemIndustry = inventoryMain.split('/')[a].split('|')[0];
		itemQuality = inventoryMain.split('/')[a].split('|')[1];
		itemCount = inventoryMain.split('/')[a].split('|')[2];
		
		if (itemCount > 0) {
			$('#miniInventory1').append('<div class="itemCountHolder">' +
											'<img src="http://www.erepublik.com/images/icons/industry/' + itemIndustry + '/q' + itemQuality + '.png">' +
											'<strong style="color: #585858; font-size: 12px; text-shadow: 0 1px 0 #FFFFFF; font-weight: bold;">' + itemCount + '</strong>' +
										'</div>');
		}
	}
	
	for (var a = 0; a < rawMain.split('/').length; a++) {
		rawIndustry = rawMain.split('/')[a].split('|')[0];
		rawCount = rawMain.split('/')[a].split('|')[1];
		
		if (rawCount > 0) {
			$('#miniInventory1').append('<div class="itemCountHolder">' +
											'<img src="http://www.erepublik.com/images/icons/industry/' + rawIndustry + '/default.png">' +
											'<strong style="color: #585858; font-size: 12px; text-shadow: 0 1px 0 #FFFFFF; font-weight: bold;">' + rawCount + '</strong>' +
										'</div>');
		}
	}
	
	var citizenshipCountry = id_country[fixString2(eRAdata['citizenMain'])];
	readSettings('exchange');
	readSettings('taxes');
	
	$(marketMain).find('[id*="offer_"]').each(function() {
		var marIdent = $(this).attr('id').split('_')[1];
		var offImage = $(this).find('.offer_image').attr('src');
		var offInd = offImage.split('/')[6];
		var offQual = offImage.split('/')[7].split('_')[0];
		if (offQual != 'default') {
			offQual = offQual.replace('q', '');
		} else {
			offQual = '0';
		}
		var offQuant = $(this).find('.offer_amount').html().replace(/,/gi, '');
		var offPrice = $(this).find('.offer_price strong').html().replace(/,/gi, '');
		var offCountr = $(this).find('.offer_flag').attr('src').split('/')[6].split('.')[0];
		
		var offVat = parseFloat(eRAtax[offCountr][offInd].vat);
		var offImp = parseFloat(eRAtax[offCountr][offInd].imp);
		var offExch = parseFloat(eRAexch[country_currency[offCountr]]);
		
		if (offCountr == citizenshipCountry) {
			var offPriceTax = mathRound(parseFloat(offPrice) / (1 + offVat / 100), 2).toFixed(2);
			var tOfferVal = mathRound(offQuant * mathRound(parseFloat(offPrice) / (1 + offVat / 100), 2).toFixed(2), 2).toFixed(2);
		} else {
			var offPriceTax = mathRound(parseFloat(offPrice) / (1 + (offVat + offImp) / 100), 2).toFixed(2);
			var tOfferVal = mathRound(offQuant * mathRound(parseFloat(offPrice) / (1 + (offVat + offImp) / 100), 2).toFixed(2), 2).toFixed(2);
		}
		
		var offPriceTaxG = mathRound(offPriceTax * offExch, 4).toFixed(4);
		var tOfferValG = mathRound(tOfferVal * offExch, 4).toFixed(4);
		
		if (offQual > 0) {
			offImage = '<img src="http://www.erepublik.com/images/icons/industry/' + offInd + '/q' + offQual + '.png">';
		} else {
			offImage = '<img src="http://www.erepublik.com/images/icons/industry/' + offInd + '/default.png">';
		}
		
		$('#miniInventory3').append('<div id="itemCountHolder_' + marIdent + '" class="itemCountHolder">' +
										offImage +
										'<strong style="color: #585858; font-size: 12px; text-shadow: 0 1px 0 #FFFFFF; font-weight: bold;">' + offQuant + '</strong>' +
										'<img style="float: right; margin-right: 3px; margin-left: 3px; margin-top: 5px; height: 16px; width: 16px;" title="' + country_currency[offCountr] + '" alt="' + country_currency[offCountr] + '" src="http://www.erepublik.com/images/flags_png/S/' + offCountr + '.png">' +
										'<span style="float: right; font-size: 11px; color: grey;">' + offPrice + '</span>' +
									'</div>' +
									'<div id="marketDropHolder_' + marIdent + '" class="marketDropHolder">' +
									
										'<img style="float: right; margin-right: 3px; margin-left: 3px; margin-top: 5px; height: 16px; width: 16px;" title="Gold" alt="Gold" src="http://www.erepublik.com/images/modules/_icons/gold.png">' +
										'<span style="float: right; font-size: 11px; color: grey; margin-left: 5px;">' + offPriceTaxG + '</span>' +
										'<img style="float: right; margin-right: 3px; margin-left: 3px; margin-top: 5px; height: 16px; width: 16px;" title="' + country_currency[offCountr] + '" alt="' + country_currency[offCountr] + '" src="http://www.erepublik.com/images/flags_png/S/' + offCountr + '.png">' +
										'<span style="float: right; font-size: 11px; color: grey;">' + offPriceTax + '</span>' +
										
										'<img style="float: right; margin-right: 3px; margin-left: 3px; margin-top: 5px; height: 16px; width: 16px; clear: both;" title="Gold" alt="Gold" src="http://www.erepublik.com/images/modules/_icons/gold.png">' +
										'<span style="float: right; font-size: 11px; color: grey; margin-left: 5px;">' + tOfferValG + '</span>' +
										'<img style="float: right; margin-right: 3px; margin-left: 3px; margin-top: 5px; height: 16px; width: 16px;" title="' + country_currency[offCountr] + '" alt="' + country_currency[offCountr] + '" src="http://www.erepublik.com/images/flags_png/S/' + offCountr + '.png">' +
										'<span style="float: right; font-size: 11px; color: grey;">' + tOfferVal + '</span>' +
										
									'</div>');
	});
	
	$('#miniInventory1 div:last').css('border-bottom', 'none');
	$('#miniInventory3 .itemCountHolder:last').css('border-bottom', 'none');
	$('#miniInventory3 .marketDropHolder:last').css('border-bottom', 'none');
	
	$('div[id*="itemCountHolder_"]').live('mouseover mouseout', function(event) {
		var thisId = $(this).attr('id').split('_')[1];
		if (event.type == 'mouseover') {
			$(this).css('border-bottom', '1px solid #DEDEDE');
			$(this).parent().find('div[id*="marketDropHolder_' + thisId + '"]').css('display', 'block');
		} else {
			$('#miniInventory3 .itemCountHolder:last').css('border-bottom', 'none');
			$('#miniInventory3 .marketDropHolder:last').css('border-bottom', 'none');
			$(this).parent().find('div[id*="marketDropHolder_' + thisId + '"]').css('display', 'none');
		}
	});
}

function miniMonetary() {
	if(!$(monetaryMain).find('input[id*="form_amount_edit_"]').length) {
		return;
	}
	
	var monAmount;
	var monCurr;
	var monExchAmount;
	var monExchCurr;
	
	$('.optionsHolder').before('<a href="http://www.erepublik.com/' + document.language + '/exchange"><div class="inventoryHolder"><div style="text-align: center; display: block; float: left; color: #b4b4b4; width: 100%; margin-bottom: 3px;">匯市</div><div id="miniMonetary1" class="miniInventoryHolder"></div></div></a>');
	
	$(monetaryMain).find('input[id*="form_amount_edit_"]').each(function() {
		monId = $(this).attr('id').split('_')[3];
		monAmount = $(this).val();
		monCurr = fixString2($(this).parent().find('.currency.forminfo').html());
		monExchAmount = $(this).parent().next().find('input[id*="form_exchange_rate_edit_"]').val();
		monExchCurr = fixString2($(this).parent().next().find('.currency.forminfo').html());
		
		monAmount = parseFloat(monAmount).toFixed(2);
		monExchAmount = parseFloat(monExchAmount).toFixed(3);
		
		monTotalValue = mathRound(monAmount * monExchAmount, 3).toFixed(3);
		
		if (monCurr == 'GOLD') {
			var monCurrIcon = '<img title="Gold" alt="Gold" src="http://www.erepublik.com/images/modules/_icons/gold.png">';
		} else {
			var monCurrIcon = '<img title="' + monCurr + '" alt="' + monCurr + '" src="http://www.erepublik.com/images/flags_png/S/' + currency_country[monCurr] + '.png">';
		}
		
		if (monExchCurr == 'GOLD') {
			var monExchCurrIcon = '<img title="Gold" alt="Gold" src="http://www.erepublik.com/images/modules/_icons/gold.png" style="float: right; margin-left: 6px; margin-right: 1px; margin-top: 6px;">';
		} else {
			var monExchCurrIcon = '<img title="' + monExchCurr + '" alt="' + monExchCurr + '" src="http://www.erepublik.com/images/flags_png/S/' + currency_country[monExchCurr] + '.png" style="float: right; margin-left: 6px; margin-right: 1px; margin-top: 6px;">';
		}
		
		$('#miniMonetary1').append('<div id="monCountHolder_' + monId + '" class="monCountHolder">' +
										monCurrIcon +
										'<strong style="color: #585858; font-size: 12px; text-shadow: 0 1px 0 #FFFFFF; font-weight: bold; float: left;">' + monAmount + '</strong>' +
										monExchCurrIcon +
										'<span style="color: grey; font-size: 11px; text-shadow: 0 1px 0 #FFFFFF; float: right;">' + monExchAmount + '</strong>' +
									'</div>' +
									'<div id="monDropHolder_' + monId + '" class="monDropHolder">' +
										monExchCurrIcon +
										'<span style="float: right; font-size: 11px; color: grey; margin-left: 5px;">' + monTotalValue + '</span>' +
									'</div>');
	});
	
	$('#miniMonetary1 .monCountHolder:last').css('border-bottom', 'none');
	$('#miniMonetary1 .monDropHolder:last').css('border-bottom', 'none');
	
	$('div[id*="monCountHolder_"]').live('mouseover mouseout', function(event) {
		var thisId = $(this).attr('id').split('_')[1];
		if (event.type == 'mouseover') {
			$(this).css('border-bottom', '1px solid #DEDEDE');
			$(this).parent().find('div[id*="monDropHolder_' + thisId + '"]').css('display', 'block');
		} else {
			$('#miniMonetary1 .monCountHolder:last').css('border-bottom', 'none');
			$('#miniMonetary1 .monDropHolder:last').css('border-bottom', 'none');
			$(this).parent().find('div[id*="monDropHolder_' + thisId + '"]').css('display', 'none');
		}
	});
}

function saveTaxes() {
	var taxInfo = eval('(' + taxMain + ')');
	var countryIdent;
	
	eRAtax = {}
	
	for (x in country_id) {
		countryIdent = country_id[x] + '';
		
		if (countryIdent != "62") {
			if (taxInfo[countryIdent].taxes != '0') {
				eRAtax[id_country[countryIdent]] = {}
				eRAtax[id_country[countryIdent]]['1'] = {}
				eRAtax[id_country[countryIdent]]['2'] = {}
				eRAtax[id_country[countryIdent]]['3'] = {}
				eRAtax[id_country[countryIdent]]['4'] = {}
				eRAtax[id_country[countryIdent]]['5'] = {}
				eRAtax[id_country[countryIdent]]['6'] = {}
				eRAtax[id_country[countryIdent]]['7'] = {}
				eRAtax[id_country[countryIdent]]['12'] = {}
				eRAtax[id_country[countryIdent]]['1'].vat = taxInfo[countryIdent].taxes['1'].value_added_tax;
				eRAtax[id_country[countryIdent]]['1'].imp = taxInfo[countryIdent].taxes['1'].import_tax;
				eRAtax[id_country[countryIdent]]['2'].vat = taxInfo[countryIdent].taxes['2'].value_added_tax;
				eRAtax[id_country[countryIdent]]['2'].imp = taxInfo[countryIdent].taxes['2'].import_tax;
				eRAtax[id_country[countryIdent]]['3'].vat = taxInfo[countryIdent].taxes['3'].value_added_tax;
				eRAtax[id_country[countryIdent]]['3'].imp = taxInfo[countryIdent].taxes['3'].import_tax;
				eRAtax[id_country[countryIdent]]['4'].vat = taxInfo[countryIdent].taxes['4'].value_added_tax;
				eRAtax[id_country[countryIdent]]['4'].imp = taxInfo[countryIdent].taxes['4'].import_tax;
				eRAtax[id_country[countryIdent]]['5'].vat = taxInfo[countryIdent].taxes['5'].value_added_tax;
				eRAtax[id_country[countryIdent]]['5'].imp = taxInfo[countryIdent].taxes['5'].import_tax;
				eRAtax[id_country[countryIdent]]['6'].vat = taxInfo[countryIdent].taxes['6'].value_added_tax;
				eRAtax[id_country[countryIdent]]['6'].imp = taxInfo[countryIdent].taxes['6'].import_tax;
				eRAtax[id_country[countryIdent]]['7'].vat = taxInfo[countryIdent].taxes['7'].value_added_tax;
				eRAtax[id_country[countryIdent]]['7'].imp = taxInfo[countryIdent].taxes['7'].import_tax;
				eRAtax[id_country[countryIdent]]['12'].vat = taxInfo[countryIdent].taxes['12'].value_added_tax;
				eRAtax[id_country[countryIdent]]['12'].imp = taxInfo[countryIdent].taxes['12'].import_tax;
				writeSettings(document.userid + '.taxRates', eRAtax);
			}
		}
	}
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Market -----------------------------------------------------------------------------------------------------------
function enchanceMarket() {
	if (eRAopt['market'] == false || location.href.split('/')[5] == 'company') {
		return;
	}
	
	readSettings('accounts');
	
	var marketLocation = country_id[$('.textTitle img:eq(0)').attr('src').split('/')[6].split('.')[0].toLowerCase()];
	
	var country = id_country[marketLocation];
	var currency = country_currency[country];
	var recItem;
	var basePrice;
	var newPrice;
	var marketIndustry = window.location.href.split('/')[6];
	var marketQuality = window.location.href.split('/')[7];
	
	if (marketIndustry == "1") {
		$('th[class*="m_price"]').after('<th>Price/1HP	</th>');
	}
	
	if (!marketQuality) {
		marketQuality = parseFloat($('span[class="solid health"] strong').html()) / 2;
	}
	
	GM_xmlhttpRequest({
		method: 'GET',
		url: 'http://www.erepublik.com/en/exchange/listOffers?select_page=select&buy_currency_history_id=buy_currencies=' + marketLocation + '&sell_currency_history_id=sell_currencies=62&account_type=citizen-&action_path=listOffers&page=page=1',
		onload: function(response) {
			recItem = $(response.responseText).find('.special').eq(2).text();
			
			if (window.location.href.split('/')[5] != 'company') {
				$('td[class*="m_price"], td[class*="jm_salary"]').each(function() {
					basePrice = $(this).find('strong').eq(0).text() + $(this).find('sup').text();
					
					newPrice = parseFloat(basePrice.split(' ')[0]) * parseFloat(recItem);
					newPrice = mathRound(newPrice, 5).toFixed(5);
					newPrice = newPrice + '';
					newPrice = newPrice.split('.');
					
					//alert(newPrice);
					
					hpPrice = parseFloat(basePrice.split(' ')[0]) / (parseFloat(marketQuality) * 2);
					hpPrice = mathRound(hpPrice, 5).toFixed(5);
					hpPrice = hpPrice + '';
					hpPrice = hpPrice.split('.');
					
					hpPriceG = parseFloat(newPrice[0] + '.' + newPrice[1]) / (parseFloat(marketQuality) * 2);
					hpPriceG = mathRound(hpPriceG, 5).toFixed(5);
					hpPriceG = hpPriceG + '';
					hpPriceG = hpPriceG.split('.');
					
					$(this).append('<br/>' +
								   '<strong style="color: #a2a2a2;">' + newPrice[0] + '</strong>' +
								   '<sup style="color: #a2a2a2;">.' + newPrice[1] + ' <strong>GOLD</strong></sup>');
					
					if (marketIndustry == "1") {
						$(this).after('<td class="m_price stprice">' +
									  		'<strong>' + hpPrice[0] + '</strong>' +
											'<sup>.' + hpPrice[1] + ' <strong>' + basePrice.split(' ')[1] +'</strong></sup>' +
											'<br/>' +
											'<strong style="color: #a2a2a2;">' + hpPriceG[0] + '</strong>' +
											'<sup style="color: #a2a2a2;">.' + hpPriceG[1] + ' <strong>GOLD</strong></sup>' +
										'</td>');
					}
				});
				
				var completeArray = {};
				var tAm = 0;
				var tVal = 0;
				$('td[class*="m_stock"]').each(function() {
					var tPrice = $(this).parent().find('.m_price strong:eq(0)').text() + $(this).parent().find('.m_price sup:eq(0)').text().split(' ')[0];
					var tQuant = fixString2($(this).text());
					
					if (completeArray[tPrice] != undefined) {
						completeArray[tPrice] = parseFloat(completeArray[tPrice]) + parseFloat(tQuant);
					} else {
						completeArray[tPrice] = tQuant;
					}
				});
				
				sortObj(completeArray);
				var tableAddendum = '';
				for (var x in completeArray) {
					tAm += parseFloat(completeArray[x]);
					tVal += parseFloat(x) * parseFloat(completeArray[x]);
					
					if (marketIndustry == "1") {
						if ($('th[class*="m_quantity"]').length == 0) {
							tableAddendum += '<tr>' +
												'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 2px 0; cursor: default; border-bottom: none;">&nbsp;</td>' +
												'<td style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 10px 5px 0px; text-indent: 5px; width: 50px; cursor: default; border-bottom: none;">' + completeArray[x] + '</td>' +
												'<td style="background: none repeat scroll 0 0 #FFFFEC; border-left: 1px solid #F7F4E1; border-bottom: none; padding: 5px 0px 5px 10px; width: 100px; cursor: default;">' +
													'<strong style="font-size: 18px; font-weight: normal;">' + x.split('.')[0] + '</strong>' +
													'<sup>.' + x.split('.')[1] + ' <strong>' + $('td.m_price:eq(0) sup:eq(0)').text().split(' ')[1] + '</strong></sup>' +
												'</td>' +
												'<td style="background: none repeat scroll 0 0 #FFFFEC; padding: 2px 0; cursor: default; border-bottom: none;">&nbsp;</td>' +
											'</tr>';
						} else {
							tableAddendum += '<tr>' +
												'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 2px 0; cursor: default; border-bottom: none;">&nbsp;</td>' +
												'<td style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 10px 5px 0px; text-indent: 5px; width: 50px; cursor: default; border-bottom: none;">' + completeArray[x] + '</td>' +
												'<td style="background: none repeat scroll 0 0 #FFFFEC; border-left: 1px solid #F7F4E1; border-bottom: none; padding: 5px 0px 5px 10px; width: 100px; cursor: default;">' +
													'<strong style="font-size: 18px; font-weight: normal;">' + x.split('.')[0] + '</strong>' +
													'<sup>.' + x.split('.')[1] + ' <strong>' + $('td.m_price:eq(0) sup:eq(0)').text().split(' ')[1] + '</strong></sup>' +
												'</td>' +
												'<td colspan="3" style="background: none repeat scroll 0 0 #FFFFEC; padding: 2px 0; cursor: default; border-bottom: none;">&nbsp;</td>' +
											'</tr>';
						}
					} else {
						if ($('th[class*="m_quantity"]').length == 0) {
							tableAddendum += '<tr>' +
												'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 2px 0; cursor: default; border-bottom: none;">&nbsp;</td>' +
												'<td style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 10px 5px 0px; text-indent: 5px; width: 50px; cursor: default; border-bottom: none;">' + completeArray[x] + '</td>' +
												'<td style="background: none repeat scroll 0 0 #FFFFEC; border-left: 1px solid #F7F4E1; border-bottom: none; padding: 5px 0px 5px 10px; width: 100px; cursor: default;">' +
													'<strong style="font-size: 18px; font-weight: normal;">' + x.split('.')[0] + '</strong>' +
													'<sup>.' + x.split('.')[1] + ' <strong>' + $('td.m_price:eq(0) sup:eq(0)').text().split(' ')[1] + '</strong></sup>' +
												'</td>' +
												//'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 2px 0; cursor: default; border-bottom: none;">&nbsp;</td>' +
											'</tr>';
						} else {
							tableAddendum += '<tr>' +
												'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 2px 0; cursor: default; border-bottom: none;">&nbsp;</td>' +
												'<td style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 10px 5px 0px; text-indent: 5px; width: 50px; cursor: default; border-bottom: none;">' + completeArray[x] + '</td>' +
												'<td style="background: none repeat scroll 0 0 #FFFFEC; border-left: 1px solid #F7F4E1; border-bottom: none; padding: 5px 0px 5px 10px; width: 100px; cursor: default;">' +
													'<strong style="font-size: 18px; font-weight: normal;">' + x.split('.')[0] + '</strong>' +
													'<sup>.' + x.split('.')[1] + ' <strong>' + $('td.m_price:eq(0) sup:eq(0)').text().split(' ')[1] + '</strong></sup>' +
												'</td>' +
												'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 2px 0; cursor: default; border-bottom: none;">&nbsp;</td>' +
											'</tr>';
						}
					}
				}
				if (marketIndustry == "1") {
					if ($('th[class*="m_quantity"]').length == 0) {
						tableAddendum += '<tr>' +
											'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 0; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">&nbsp;</td>' +
											'<td style="background: none repeat scroll 0 0 #FFFFEC; padding: 10px 10px 10px 0px; text-indent: 5px; width: 50px; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">' + tAm + '</td>' +
											'<td style="background: none repeat scroll 0 0 #FFFFEC; border-left: 1px solid #F7F4E1; border-bottom: none; border-top: 1px solid #CCCCCC; padding: 10px 0px 10px 10px; width: 100px; cursor: default;">' +
												'<strong style="font-size: 18px; font-weight: normal;">' + mathRound(tVal, 2).toFixed(2).split('.')[0] + '</strong>' +
												'<sup>.' + mathRound(tVal, 2).toFixed(2).split('.')[1] + ' <strong>' + $('td.m_price:eq(0) sup:eq(0)').text().split(' ')[1] + '</strong></sup>' +
												'<br/>' +
												'<strong style="font-size: 18px; font-weight: normal; color: #a2a2a2;">' + mathRound(tVal * parseFloat(recItem), 5).toFixed(5).split('.')[0] + '</strong>' +
												'<sup style="color: #a2a2a2;">.' + mathRound(tVal * parseFloat(recItem), 5).toFixed(5).split('.')[1] + ' <strong>GOLD</strong></sup>' +
											'</td>' +
											'<td style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 0; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">&nbsp;</td>' +
										'</tr>';
					} else {
						tableAddendum += '<tr>' +
											'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 0; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">&nbsp;</td>' +
											'<td style="background: none repeat scroll 0 0 #FFFFEC; padding: 10px 10px 10px 0px; text-indent: 5px; width: 50px; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">' + tAm + '</td>' +
											'<td style="background: none repeat scroll 0 0 #FFFFEC; border-left: 1px solid #F7F4E1; border-bottom: none; border-top: 1px solid #CCCCCC; padding: 10px 0px 10px 10px; width: 100px; cursor: default;">' +
												'<strong style="font-size: 18px; font-weight: normal;">' + mathRound(tVal, 2).toFixed(2).split('.')[0] + '</strong>' +
												'<sup>.' + mathRound(tVal, 2).toFixed(2).split('.')[1] + ' <strong>' + $('td.m_price:eq(0) sup:eq(0)').text().split(' ')[1] + '</strong></sup>' +
												'<br/>' +
												'<strong style="font-size: 18px; font-weight: normal; color: #a2a2a2;">' + mathRound(tVal * parseFloat(recItem), 5).toFixed(5).split('.')[0] + '</strong>' +
												'<sup style="color: #a2a2a2;">.' + mathRound(tVal * parseFloat(recItem), 5).toFixed(5).split('.')[1] + ' <strong>GOLD</strong></sup>' +
											'</td>' +
											'<td colspan="3" style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 0; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">&nbsp;</td>' +
										'</tr>';
					}
				} else {
					if ($('th[class*="m_quantity"]').length == 0) {
						tableAddendum += '<tr>' +
											'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 0; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">&nbsp;</td>' +
											'<td style="background: none repeat scroll 0 0 #FFFFEC; padding: 10px 10px 10px 0px; text-indent: 5px; width: 50px; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">' + tAm + '</td>' +
											'<td style="background: none repeat scroll 0 0 #FFFFEC; border-left: 1px solid #F7F4E1; border-bottom: none; border-top: 1px solid #CCCCCC; padding: 10px 0px 10px 10px; width: 100px; cursor: default;">' +
												'<strong style="font-size: 18px; font-weight: normal;">' + mathRound(tVal, 2).toFixed(2).split('.')[0] + '</strong>' +
												'<sup>.' + mathRound(tVal, 2).toFixed(2).split('.')[1] + ' <strong>' + $('td.m_price:eq(0) sup:eq(0)').text().split(' ')[1] + '</strong></sup>' +
												'<br/>' +
												'<strong style="font-size: 18px; font-weight: normal; color: #a2a2a2;">' + mathRound(tVal * parseFloat(recItem), 5).toFixed(5).split('.')[0] + '</strong>' +
												'<sup style="color: #a2a2a2;">.' + mathRound(tVal * parseFloat(recItem), 5).toFixed(5).split('.')[1] + ' <strong>GOLD</strong></sup>' +
											'</td>' +
											//'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 0; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">&nbsp;</td>' +
										'</tr>';
					} else {
						tableAddendum += '<tr>' +
											'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 0; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">&nbsp;</td>' +
											'<td style="background: none repeat scroll 0 0 #FFFFEC; padding: 10px 10px 10px 0px; text-indent: 5px; width: 50px; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">' + tAm + '</td>' +
											'<td style="background: none repeat scroll 0 0 #FFFFEC; border-left: 1px solid #F7F4E1; border-bottom: none; border-top: 1px solid #CCCCCC; padding: 10px 0px 10px 10px; width: 100px; cursor: default;">' +
												'<strong style="font-size: 18px; font-weight: normal;">' + mathRound(tVal, 2).toFixed(2).split('.')[0] + '</strong>' +
												'<sup>.' + mathRound(tVal, 2).toFixed(2).split('.')[1] + ' <strong>' + $('td.m_price:eq(0) sup:eq(0)').text().split(' ')[1] + '</strong></sup>' +
												'<br/>' +
												'<strong style="font-size: 18px; font-weight: normal; color: #a2a2a2;">' + mathRound(tVal * parseFloat(recItem), 5).toFixed(5).split('.')[0] + '</strong>' +
												'<sup style="color: #a2a2a2;">.' + mathRound(tVal * parseFloat(recItem), 5).toFixed(5).split('.')[1] + ' <strong>GOLD</strong></sup>' +
											'</td>' +
											'<td colspan="2" style="background: none repeat scroll 0 0 #FFFFEC; padding: 5px 0; cursor: default; border-bottom: none; border-top: 1px solid #CCCCCC;">&nbsp;</td>' +
										'</tr>';
					}
				}
								
				$('td[id*="productId_"]:last').parent().after(tableAddendum);
			}
		}
	});
	
	$('td[class*="m_price"]').each(function() {
		var marketId = $(this).parent().find('.m_buy a').attr('id');
		
		$(this).parent().find('.m_buy').prepend('<a id="allButton_' + marketId + '" title="Select all" class="f_light_blue_big buyOffer" href="javascript:;"><span style="margin-right: 8px; padding-left: 8px;">全部</span></a>&nbsp;&nbsp;<a id="maxButton_' + marketId + '" title="Select max" class="f_light_blue_big buyOffer" href="javascript:;" style="margin-left: 2px; margin-bottom: 2px;"><span style="margin-right: 8px; padding-left: 8px;">最多</span></a>&nbsp;');
	});
	
	$('td[class*="m_quantity"]').each(function() {
		var quantityId = $(this).find('input').attr('id').split('_')[1];
		var quantityPrice = $(this).parent().find('.m_price strong:eq(0)').text() + $(this).parent().find('.m_price sup:eq(0)').text().split(' ')[0];
		
		$(this).append('<br/><span style="font-size: 10px;" id="value_' + quantityId + '">' + parseFloat(quantityPrice).toFixed(2) + '</span>');
	});
	
	$('td[class*="m_quantity"] input').live('keyup', function() {
		var quantId = $(this).attr('id').split('_')[1];
		var quantValue = $(this).val();
		var quantPrice = $(this).parent().parent().find('.m_price strong:eq(0)').text() + $(this).parent().parent().find('.m_price sup:eq(0)').text().split(' ')[0];
		
		$('#value_' + quantId).html(mathRound(quantValue * parseFloat(quantPrice), 2).toFixed(2));
	});
	
	$('a[id^="allButton_"]').click(function() {
		var marId = $(this).attr('id').split('_')[1];
		var allAmount = fixString2($(this).parent().parent().find('.m_stock').text());
		var unitPrice = $(this).parent().parent().find('.m_price strong:eq(0)').text() + $(this).parent().parent().find('.m_price sup:eq(0)').text().split(' ')[0];
		
		$(this).parent().parent().find('.m_quantity input').attr('value', allAmount);
		$('#value_' + marId).html(mathRound(allAmount * parseFloat(unitPrice), 2).toFixed(2));
	});
	
	$('a[id^="maxButton_"]').click(function() {
		var userMoney = eRAacc[currency];
		var marId = $(this).attr('id').split('_')[1];
		var maxAmount = fixString2($(this).parent().parent().find('.m_stock').text());
		var unitPrice = $(this).parent().parent().find('.m_price strong:eq(0)').text() + $(this).parent().parent().find('.m_price sup:eq(0)').text().split(' ')[0];
		
		var finalAmount = Math.floor(parseFloat(userMoney) / parseFloat(unitPrice));
		
		if (finalAmount > parseFloat(maxAmount)) {
			$(this).parent().parent().find('.m_quantity input').attr('value', maxAmount);
			$('#value_' + marId).html(mathRound(maxAmount * parseFloat(unitPrice), 2).toFixed(2));
		} else {
			$(this).parent().parent().find('.m_quantity input').attr('value', finalAmount);
			$('#value_' + marId).html(mathRound(finalAmount * parseFloat(unitPrice), 2).toFixed(2));
		}
	});
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Custom menu ------------------------------------------------------------------------------------------------------
function createMenu() {
	readSettings('menu');
	
	if (eRAopt['menu1'] == true) {
		$('body').addClass('bodyImportant');
		
		$('#container').prepend('<div id="customTopMenu" class="customMenuHolder">' +
									'<div id="menuTopElement1" class="customMenuElemHolder"></div>' +
									'<div id="menuTopElement2" class="customMenuElemHolder"></div>' +
									'<div id="menuTopElement3" class="customMenuElemHolder"></div>' +
									'<div id="menuTopElement4" class="customMenuElemHolder"></div>' +
									'<div id="menuTopElement5" class="customMenuElemHolder"></div>' +
									'<div id="menuTopElement6" class="customMenuElemHolder"></div>' +
									'<div id="menuTopElement7" class="customMenuElemHolder"></div>' +
									'<div id="menuTopElement8" class="customMenuElemHolder"></div>' +
								'</div>');
		
		if (eRAmenu['menutop1'].title != null && eRAmenu['menutop1'].title.length > 1 && eRAmenu['menutop1'].lnk != null && eRAmenu['menutop1'].lnk.length > 1) {
			if (eRAmenu['menutop1'].target == true) {
				$('#menuTopElement1').html('<a href="' + eRAmenu['menutop1'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menutop1'].title + '</div></a>');
			} else {
				$('#menuTopElement1').html('<a href="' + eRAmenu['menutop1'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menutop1'].title + '</div></a>');
			}
		} else {
			$('#menuTopElement1').html('<a id="addTopLinkHere_1" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menutop2'].title != null && eRAmenu['menutop2'].title.length > 1 && eRAmenu['menutop2'].lnk != null && eRAmenu['menutop2'].lnk.length > 1) {
			if (eRAmenu['menutop2'].target == true) {
				$('#menuTopElement2').html('<a href="' + eRAmenu['menutop2'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menutop2'].title + '</div></a>');
			} else {
				$('#menuTopElement2').html('<a href="' + eRAmenu['menutop2'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menutop2'].title + '</div></a>');
			}
		} else {
			$('#menuTopElement2').html('<a id="addTopLinkHere_2" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menutop3'].title != null && eRAmenu['menutop3'].title.length > 1 && eRAmenu['menutop3'].lnk != null && eRAmenu['menutop3'].lnk.length > 1) {
			if (eRAmenu['menutop3'].target == true) {
				$('#menuTopElement3').html('<a href="' + eRAmenu['menutop3'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menutop3'].title + '</div></a>');
			} else {
				$('#menuTopElement3').html('<a href="' + eRAmenu['menutop3'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menutop3'].title + '</div></a>');
			}
		} else {
			$('#menuTopElement3').html('<a id="addTopLinkHere_3" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menutop4'].title != null && eRAmenu['menutop4'].title.length > 1 && eRAmenu['menutop4'].lnk != null && eRAmenu['menutop4'].lnk.length > 1) {
			if (eRAmenu['menutop4'].target == true) {
				$('#menuTopElement4').html('<a href="' + eRAmenu['menutop4'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menutop4'].title + '</div></a>');
			} else {
				$('#menuTopElement4').html('<a href="' + eRAmenu['menutop4'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menutop4'].title + '</div></a>');
			}
		} else {
			$('#menuTopElement4').html('<a id="addTopLinkHere_4" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menutop5'].title != null && eRAmenu['menutop5'].title.length > 1 && eRAmenu['menutop5'].lnk != null && eRAmenu['menutop5'].lnk.length > 1) {
			if (eRAmenu['menutop5'].target == true) {
				$('#menuTopElement5').html('<a href="' + eRAmenu['menutop5'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menutop5'].title + '</div></a>');
			} else {
				$('#menuTopElement5').html('<a href="' + eRAmenu['menutop5'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menutop5'].title + '</div></a>');
			}
		} else {
			$('#menuTopElement5').html('<a id="addTopLinkHere_5" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menutop6'].title != null && eRAmenu['menutop6'].title.length > 1 && eRAmenu['menutop6'].lnk != null && eRAmenu['menutop6'].lnk.length > 1) {
			if (eRAmenu['menutop6'].target == true) {
				$('#menuTopElement6').html('<a href="' + eRAmenu['menutop6'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menutop6'].title + '</div></a>');
			} else {
				$('#menuTopElement6').html('<a href="' + eRAmenu['menutop6'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menutop6'].title + '</div></a>');
			}
		} else {
			$('#menuTopElement6').html('<a id="addTopLinkHere_6" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menutop7'].title != null && eRAmenu['menutop7'].title.length > 1 && eRAmenu['menutop7'].lnk != null && eRAmenu['menutop7'].lnk.length > 1) {
			if (eRAmenu['menutop7'].target == true) {
				$('#menuTopElement7').html('<a href="' + eRAmenu['menutop7'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menutop7'].title + '</div></a>');
			} else {
				$('#menuTopElement7').html('<a href="' + eRAmenu['menutop7'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menutop7'].title + '</div></a>');
			}
		} else {
			$('#menuTopElement7').html('<a id="addTopLinkHere_7" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menutop8'].title != null && eRAmenu['menutop8'].title.length > 1 && eRAmenu['menutop8'].lnk != null && eRAmenu['menutop8'].lnk.length > 1) {
			if (eRAmenu['menutop8'].target == true) {
				$('#menuTopElement8').html('<a href="' + eRAmenu['menutop8'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menutop8'].title + '</div></a>');
			} else {
				$('#menuTopElement8').html('<a href="' + eRAmenu['menutop8'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menutop8'].title + '</div></a>');
			}
		} else {
			$('#menuTopElement8').html('<a id="addTopLinkHere_8" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		
		$('a[id*="addTopLinkHere"]').live('click', function() {
			var linkIdNumber = $(this).attr('id').split('_')[1];
			
			$('#content').append('<div id="customMenuTopPrompt_' + linkIdNumber + '" class="customMenuPrompt">' +
									'<span class="menuWindowHeader">' +
										'<a id="customMenuTopPromptClose_' + linkIdNumber + '" class="closeButton" title="Close" href="javascript:;">&nbsp;</a>' +
									'</span>' +
									'<span style="float: left; margin-left: 5%; margin-right: 5%; margin-top: 10px; padding: 5px; width: 90%;">' +
										'<div style="display: block; font-size: 16px; height: 35px; padding-bottom: 10px; text-align: center; vertical-align: middle; width: 100%;">Please enter desired link title<br>and choose if you want to open it in new tab.</div>' +
										'<div class="menuWindowContentTable">' +
											'<div class="menuWindowContentRow">' +
												'<div class="menuWindowContentCell">標題</div>' +
												'<div class="menuWindowContentCell">&nbsp;</div>' +
											'</div>' +
											'<div class="menuWindowContentRow">' +
												'<div class="menuWindowContentCell"><input id="customMenuTopPromptName_' + linkIdNumber + '" type="text" size="50"></div>' +
												'<div class="menuWindowContentCell"><input id="customMenuTopPromptTarget_' + linkIdNumber + '" type="checkbox" title="Open link in new tab?"></div>' +
											'</div>' +
										'</div>' +
										'<div style="display: block; font-size: 16px; height: 35px; padding-bottom: 10px; text-align: center; vertical-align: middle; width: 100%;">' +
											'<a id="customMenuTopPromptSubmit_' + linkIdNumber + '" title="Submit" class="fluid_blue_raised_medium" style="display: inline; left: 95px; margin-top: 15px; margin-right: 15px;">' +
												'<span style="font-size: 10px; text-align: center;">送出</span>' +
											'</a>' +
											'<a id="customMenuTopPromptCancel_' + linkIdNumber + '" title="Cancel" class="fluid_red_small" style="display: inline; left: 95px; margin-top: 15px;">' +
												'<span style="font-size: 10px; text-align: center;">取消</span>' +
											'</a>' +
										'</div>' +
									'</span>' +
								'</div>');
			
			$('#customMenuTopPrompt_' + linkIdNumber).css('display', 'block');
			
			$('a[id*="customMenuTopPromptClose"]').each(function() {
				var closeId = $(this).attr('id').split('_')[1];
				$(this).click(function() {
					$('#customMenuTopPromptName_' + closeId).val('');
					$('#customMenuTopPromptTarget_' + closeId).attr('checked', false);
					
					$('#customMenuTopPrompt_' + closeId).remove();
				});
			});
				
			$('a[id*="customMenuTopPromptSubmit"]').live('click', function() {
				var linkIdNumber = $(this).attr('id').split('_')[1];
				var thisLink = document.location.href;
				var thisName = null;
				var thisTarget = null;
				
				if($('#customMenuTopPromptName_' + linkIdNumber) != null) {
					thisName = $('#customMenuTopPromptName_' + linkIdNumber).val();
					thisTarget = $('#customMenuTopPromptTarget_' + linkIdNumber).attr('checked');
					
					eRAmenu['menutop' + linkIdNumber] = {title: thisName, lnk: thisLink, target: thisTarget};
					writeSettings(document.userid + '.Menu', eRAmenu);
					
					$('#customMenuTopPrompt_' + linkIdNumber).remove();
				}
			});
			
			$('a[id*="customMenuTopPromptCancel"]').live('click', function() {
				var linkIdNumber = $(this).attr('id').split('_')[1];
				
				$('#customMenuTopPromptName_' + linkIdNumber).val('');
				$('#customMenuTopPromptTarget_' + linkIdNumber).attr('checked', false);
				
				$('#customMenuTopPrompt_' + linkIdNumber).remove();
			});
		});
	}
	
	if (eRAopt['menu2'] == true) {
		
		$('#menu').append('<div id="customBottomMenu" class="customMenuHolder">' +
							'<div id="menuElement1" class="customMenuElemHolder"></div>' +
							'<div id="menuElement2" class="customMenuElemHolder"></div>' +
							'<div id="menuElement3" class="customMenuElemHolder"></div>' +
							'<div id="menuElement4" class="customMenuElemHolder"></div>' +
							'<div id="menuElement5" class="customMenuElemHolder"></div>' +
							'<div id="menuElement6" class="customMenuElemHolder"></div>' +
							'<div id="menuElement7" class="customMenuElemHolder"></div>' +
							'<div id="menuElement8" class="customMenuElemHolder"></div>' +
						'</div>');
		
		if (eRAmenu['menu1'].title != null && eRAmenu['menu1'].title.length > 1 && eRAmenu['menu1'].lnk != null && eRAmenu['menu1'].lnk.length > 1) {
			if (eRAmenu['menu1'].target == true) {
				$('#menuElement1').html('<a href="' + eRAmenu['menu1'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menu1'].title + '</div></a>');
			} else {
				$('#menuElement1').html('<a href="' + eRAmenu['menu1'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menu1'].title + '</div></a>');
			}
		} else {
			$('#menuElement1').html('<a id="addLinkHere_1" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menu2'].title != null && eRAmenu['menu2'].title.length > 1 && eRAmenu['menu2'].lnk != null && eRAmenu['menu2'].lnk.length > 1) {
			if (eRAmenu['menu2'].target == true) {
				$('#menuElement2').html('<a href="' + eRAmenu['menu2'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menu2'].title + '</div></a>');
			} else {
				$('#menuElement2').html('<a href="' + eRAmenu['menu2'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menu2'].title + '</div></a>');
			}
		} else {
			$('#menuElement2').html('<a id="addLinkHere_2" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menu3'].title != null && eRAmenu['menu3'].title.length > 1 && eRAmenu['menu3'].lnk != null && eRAmenu['menu3'].lnk.length > 1) {
			if (eRAmenu['menu3'].target == true) {
				$('#menuElement3').html('<a href="' + eRAmenu['menu3'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menu3'].title + '</div></a>');
			} else {
				$('#menuElement3').html('<a href="' + eRAmenu['menu3'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menu3'].title + '</div></a>');
			}
		} else {
			$('#menuElement3').html('<a id="addLinkHere_3" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menu4'].title != null && eRAmenu['menu4'].title.length > 1 && eRAmenu['menu4'].lnk != null && eRAmenu['menu4'].lnk.length > 1) {
			if (eRAmenu['menu4'].target == true) {
				$('#menuElement4').html('<a href="' + eRAmenu['menu4'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menu4'].title + '</div></a>');
			} else {
				$('#menuElement4').html('<a href="' + eRAmenu['menu4'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menu4'].title + '</div></a>');
			}
		} else {
			$('#menuElement4').html('<a id="addLinkHere_4" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menu5'].title != null && eRAmenu['menu5'].title.length > 1 && eRAmenu['menu5'].lnk != null && eRAmenu['menu5'].lnk.length > 1) {
			if (eRAmenu['menu5'].target == true) {
				$('#menuElement5').html('<a href="' + eRAmenu['menu5'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menu5'].title + '</div></a>');
			} else {
				$('#menuElement5').html('<a href="' + eRAmenu['menu5'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menu5'].title + '</div></a>');
			}
		} else {
			$('#menuElement5').html('<a id="addLinkHere_5" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menu6'].title != null && eRAmenu['menu6'].title.length > 1 && eRAmenu['menu6'].lnk != null && eRAmenu['menu6'].lnk.length > 1) {
			if (eRAmenu['menu6'].target == true) {
				$('#menuElement6').html('<a href="' + eRAmenu['menu6'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menu6'].title + '</div></a>');
			} else {
				$('#menuElement6').html('<a href="' + eRAmenu['menu6'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menu6'].title + '</div></a>');
			}
		} else {
			$('#menuElement6').html('<a id="addLinkHere_6" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menu7'].title != null && eRAmenu['menu7'].title.length > 1 && eRAmenu['menu7'].lnk != null && eRAmenu['menu7'].lnk.length > 1) {
			if (eRAmenu['menu7'].target == true) {
				$('#menuElement7').html('<a href="' + eRAmenu['menu7'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menu7'].title + '</div></a>');
			} else {
				$('#menuElement7').html('<a href="' + eRAmenu['menu7'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menu7'].title + '</div></a>');
			}
		} else {
			$('#menuElement7').html('<a id="addLinkHere_7" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		if (eRAmenu['menu8'].title != null && eRAmenu['menu8'].title.length > 1 && eRAmenu['menu8'].lnk != null && eRAmenu['menu8'].lnk.length > 1) {
			if (eRAmenu['menu8'].target == true) {
				$('#menuElement8').html('<a href="' + eRAmenu['menu8'].lnk + '" target="_blank"><div class="customMenuElement">' + eRAmenu['menu8'].title + '</div></a>');
			} else {
				$('#menuElement8').html('<a href="' + eRAmenu['menu8'].lnk + '" target="_self"><div class="customMenuElement">' + eRAmenu['menu8'].title + '</div></a>');
			}
		} else {
			$('#menuElement8').html('<a id="addLinkHere_8" title="Add current page" href="javascript:;" target="_self"><div class="customMenuElementAdd">+</div></a>');
		}
		
		$('a[id*="addLinkHere"]').live('click', function() {
			var linkIdNumber = $(this).attr('id').split('_')[1];
			
			$('#content').append('<div id="customMenuPrompt_' + linkIdNumber + '" class="customMenuPrompt">' +
									'<span class="menuWindowHeader">' +
										'<a id="customMenuPromptClose_' + linkIdNumber + '" class="closeButton" title="Close" href="javascript:;">&nbsp;</a>' +
									'</span>' +
									'<span style="float: left; margin-left: 5%; margin-right: 5%; margin-top: 10px; padding: 5px; width: 90%;">' +
										'<div style="display: block; font-size: 16px; height: 35px; padding-bottom: 10px; text-align: center; vertical-align: middle; width: 100%;">Please enter desired link title<br>and choose if you want to open it in new tab.</div>' +
										'<div class="menuWindowContentTable">' +
											'<div class="menuWindowContentRow">' +
												'<div class="menuWindowContentCell">標題</div>' +
												'<div class="menuWindowContentCell">&nbsp;</div>' +
											'</div>' +
											'<div class="menuWindowContentRow">' +
												'<div class="menuWindowContentCell"><input id="customMenuPromptName_' + linkIdNumber + '" type="text" size="50"></div>' +
												'<div class="menuWindowContentCell"><input id="customMenuPromptTarget_' + linkIdNumber + '" type="checkbox" title="Open link in new tab?"></div>' +
											'</div>' +
										'</div>' +
										'<div style="display: block; font-size: 16px; height: 35px; padding-bottom: 10px; text-align: center; vertical-align: middle; width: 100%;">' +
											'<a id="customMenuPromptSubmit_' + linkIdNumber + '" title="Submit" class="fluid_blue_raised_medium" style="display: inline; left: 95px; margin-top: 15px; margin-right: 15px;">' +
												'<span style="font-size: 10px; text-align: center;">送出</span>' +
											'</a>' +
											'<a id="customMenuPromptCancel_' + linkIdNumber + '" title="Cancel" class="fluid_red_small" style="display: inline; left: 95px; margin-top: 15px;">' +
												'<span style="font-size: 10px; text-align: center;">取消</span>' +
											'</a>' +
										'</div>' +
									'</span>' +
								'</div>');
			
			$('#customMenuPrompt_' + linkIdNumber).css('display', 'block');
			
			$('a[id*="customMenuPromptClose"]').each(function() {
				var closeId = $(this).attr('id').split('_')[1];
				$(this).click(function() {
					$('#customMenuPromptName_' + closeId).val('');
					$('#customMenuPromptTarget_' + closeId).attr('checked', false);
					
					$('#customMenuPrompt_' + closeId).remove();
				});
			});
			
			$('a[id*="customMenuPromptSubmit"]').live('click', function() {
				var linkIdNumber = $(this).attr('id').split('_')[1];
				var thisLink = document.location.href;
				var thisName = null;
				var thisTarget = null;
				
				if($('#customMenuPromptName_' + linkIdNumber) != null) {
					thisName = $('#customMenuPromptName_' + linkIdNumber).val();
					thisTarget = $('#customMenuPromptTarget_' + linkIdNumber).attr('checked');
					
					eRAmenu['menu' + linkIdNumber] = {title: thisName, lnk: thisLink, target: thisTarget};
					writeSettings(document.userid + '.Menu', eRAmenu);
					
					$('#customMenuPrompt_' + linkIdNumber).remove();
				}
			});
			
			$('a[id*="customMenuPromptCancel"]').live('click', function() {
				var linkIdNumber = $(this).attr('id').split('_')[1];
				
				$('#customMenuPromptName_' + linkIdNumber).val('');
				$('#customMenuPromptTarget_' + linkIdNumber).attr('checked', false);
				
				$('#customMenuPrompt_' + linkIdNumber).remove();
			});
		});
	}
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Search redirect --------------------------------------------------------------------------------------------------
function searchRedirect() {
	if (eRAopt['search'] == false) {
		return;
	}
	
	var entities = document.getElementsByClassName("entity")
	if (entities.length == 1) {
		entities[0].parentNode.parentNode.parentNode.innerHTML += "<tr><td colspan='4' style='text-align:center;padding:10px'>跳轉中...</td></tr>"
		location.assign(entities[0].getElementsByTagName("a")[0].href);
	}
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Article comments -------------------------------------------------------------------------------------------------
function changeComments() {
	if (eRAopt['news'] == false) {
		return;
	}
	
	var removedCount = 0;
	
	$('body#newspaper ul.tabs li a span').css('padding', '0px 10px');
	$('body#newspaper ul.tabs li a span').css('width', '150px');
	
	var commentsText = $('#comments_button_on span').text();
	commentsText = commentsText.replace(/\s/g, '/');
	var numberOfComments = commentsText.split('/')[1];
	numberOfComments = numberOfComments.substring(1, numberOfComments.length - 1);
	
	/*var trackbacksText = $('#trackbacks_button_on span').text();
	trackbacksText = trackbacksText.replace(/\s/g, '/');
	var numberOfTrackbacks = trackbacksText.split('/')[1];
	numberOfTrackbacks = numberOfTrackbacks.substring(1, numberOfTrackbacks.length - 1);*/
    // frimen
	
	var currNumComments = $('input#NumberOfComments').val();
	$('input#NumberOfComments').val(currNumComments - removedCount);
	
	$('#comments_button_on span').html(numberOfComments + ' Comments');
	$('#comments_button_off span').html(numberOfComments + ' Comments');
	
	/*$('#trackbacks_button_on span').html(numberOfTrackbacks + ' Trackbacks');
	$('#trackbacks_button_off span').html(numberOfTrackbacks + ' Trackbacks');*/
    // frimen
	
	var oldWidth = $('#article_comment').css('width');
	var oldHeight = $('#article_comment').css('height');
	$('#article_comment').css('margin-bottom', '0px');
	$('#article_comment').attr('class', 'resizable');
	$('#article_comment').parent().css('height', 'auto');
	$('#article_comment').css('width', oldWidth);
	$('#article_comment').css('height', oldHeight);
	$('#article_comment').css('font-family', 'Arial,Helvetica,sans-serif');
	$('#article_comment').css('font-size', '13px');
	
	textareaAttach();
	
	// time stamp
	
	var today = $('.eday strong').html().replace(/,/gi, '');
	if (today) {
		var timeNow = $('#live_time').text().split(':');
		var totalTimeNow = (parseInt(today, 10) * 1440) + (parseInt(timeNow[0], 10) * 60) + parseInt(timeNow[1], 10);
		
		$('#comments_div .articlecomments').each(function() {
			var commentTimestamp = $(this).find('.article_comment_posted_at').text().split(' ');
			
			var commentDay = commentTimestamp[1].replace(/,/gi, '');
			var commentTime = commentTimestamp[2].split(':');
			
			var totalTimeCom = (parseInt(commentDay, 10) * 1440) + (parseInt(commentTime[0], 10) * 60) + parseInt(commentTime[1], 10);
			var totalMinutes = totalTimeNow - totalTimeCom;
	 		
			var showText = '';
			var comYears = Math.floor(totalMinutes / 525600);
			if (comYears > 0) {
				showText = '超過一年以上';
			} else {
				var comDays = Math.floor(totalMinutes / 1440);
				showText = (comDays > 0) ? comDays + 'd ' : '';
				var comHours = Math.floor((totalMinutes - (comDays * 1440)) / 60);
				showText += (comHours > 0) ? comHours + 'h ' : '';
				var comMinutes = Math.floor(totalMinutes - (comDays * 1440) - (comHours * 60));
				if (totalMinutes > 0) {
					showText += (comMinutes > 0) ? comMinutes + 'm' : '';
				} else {
					showText += 'less then min.';
				}
			}
			$(this).find('.article_comment_posted_at').css({'display':'block','float':'left'}).append('<br /><div style="font-size: 10px; padding-top: 3px;"> ' + showText + ' ago</div>');
		});
	}
}

function textareaAttach() {
	var iLastMousePos = 0;
	var iMin = 115;
	var grip;
	
	$('textarea.resizable:not(.processed)').each(function() {
		var textarea = $(this).addClass('processed'), staticOffset = null;
		
		$(this).wrap('<div class="resizable-textarea"><span></span></div>')
			.parent().append($('<div class="grippie"></div>').mousedown(startDrag));
	
		var grippie = $('div.grippie', $(this).parent())[0];
		grippie.style.marginRight = (grippie.offsetWidth - $(this)[0].offsetWidth) + 'px';
	
		function startDrag(e) {
			iLastMousePos = mousePosition(e).y;
			staticOffset = textarea.height() - iLastMousePos;
			textarea.css('opacity', 0.25);
			$(document).mousemove(performDrag).mouseup(endDrag);
			return false;
		}
	
		function performDrag(e) {
			var iThisMousePos = mousePosition(e).y;
			var iMousePos = staticOffset + iThisMousePos;
			if (iLastMousePos >= (iThisMousePos)) {
				iMousePos -= 5;
			}
			iLastMousePos = iThisMousePos;
			iMousePos = Math.max(iMin, iMousePos);
			textarea.height(iMousePos + 'px');
			if (iMousePos < iMin) {
				endDrag(e);
			}
			return false;
		}
	
		function endDrag(e) {
			$(document).unbind('mousemove', performDrag).unbind('mouseup', endDrag);
			textarea.css('opacity', 1);
			textarea.focus();
			textarea = null;
			staticOffset = null;
			iLastMousePos = 0;
			return false;
		}
		
		function mousePosition(e) {
			return { x: e.clientX + document.documentElement.scrollLeft, y: e.clientY + document.documentElement.scrollTop };
		};
	});
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Translator -------------------------------------------------------------------------------------------------------
function addTranslate() {
	if (eRAopt['news'] == false) {
		return;
	}
	
	var translated = '';
	var arrToTranslate = null;
	
	var tr = null;
	
	var langTransCountry = eRAopt['lang']
	
	var langTransArray = {"en":"United-Kingdom", "fr":"France", "de":"Germany", "hu":"Hungary", "it":"Italy", "pt-pt":"Portugal", "ro":"Romania", "ru":"Russia", "es":"Spain", "sv":"Sweden", "pl":"Poland", "gr":"Greece", "hr":"Croatia", "bg":"Bulgaria", "sr":"Serbia", "tr":"Turkey"};
	
	$('.article .articlecontent .largepadded').each(function(i) {
		$(this).append('<a title="Translate" id="translate_news_' + i + '" href="#" style="border-radius: 5px 5px 5px 5px; border: 1px solid darkGray; float: right; margin-top: 5px; padding: 5px;"><img src="' + translateIcon + '"><div id="transLangFlag" style="margin-top: 2px; text-align: center;"><img src="http://www.erepublik.com/images/flags/S/' + langTransArray[langTransCountry] + '.gif"></div></a>');
		
		$('#translate_news_' + i).click(function() {
			$('#translate_news_' + i).attr('title', 'Undo translate');
			$('#translate_news_' + i).click(function() { location.reload(); });
			
			tr = new Translator(doTranslate);
			tr.sync = false;
			tr.traverse($("div.article div.articlecontent")[i]);
			if($.browser.mozilla) tr.traverse($("#comments_div")[i]); // frimen;
		});
	});
}

function arrSplit(strToSplit, arrToSave) {
	var arr = strToSplit.split(" ");
	var str500 = '';
	for (var i = 0; i < arr.length; i++) {
		arr[i] = encodeURIComponent(arr[i]);
		if (str500.length + arr[i].length < 497) {
			str500 += '%20'  + arr[i];
			if (i == arr.length - 1) {
				arrToSave.push(str500);
			}
		} else {
			arrToSave.push(str500);
			str500 = arr[i];
		}
	}
	return (arrToSave.length);
}

function doTranslate(text, replace) {
	var strArray = new Array();
	var arrSize = arrSplit(text, strArray);
	
	langTranslate = eRAopt['lang']
	
	doRequest(strArray, 0, 0, replace, langTranslate);
}

function doRequest(arr, i, count, rep, lang) {
	
	if (arr[i] == undefined) {
		return;
	}
		
	GM_xmlhttpRequest({
		method: 'GET',
		url: 'http://ajax.googleapis.com/ajax/services/language/translate?v=1.0&langpair=%7C' + lang + '&q=' + arr[i],
		onload: function(response) {
			var jsonObj = eval('(' + decodeURIComponent(response.responseText.replace(/%/g, "%25")) + ')');

			if (jsonObj["responseData"] != null) {
				arr[i] = ' ' + ((jsonObj["responseData"]["translatedText"])) + ' ';
			} else {
				arr[i] = ' ';
			}
				
			count++;

			if (count < arr.length) {
				doRequest(arr, i + 1, count, rep, lang);
			} else {
				rep(decodeHTMLEntities(arr.join(' ')));
			}		
		}
	});
}

function decodeHTMLEntities(strToDecode) {
	var entities = [
		{e: /&quot;/g,	r: '"'},
		{e: /&apos;/g,	r: "'"},
		{e: /&gt;/g,	r: ">"},
		{e: /&lt;/g,	r: "<"},
		{e: /&#39;/g,	r: "'"},
		{e: /&amp;/g,	r: '&'}	];
	
	entities.forEach(function (p) {
		strToDecode = strToDecode.replace(p.e, p.r);
	});
	
	return (strToDecode);
}

/**
 * Translator
 * Copyright (c) 2008 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Licensed under BSD (http://www.opensource.org/licenses/bsd-license.php)
 * Date: 5/26/2008
 *
 * @projectDescription JS Class to translate text nodes.
 * @author Ariel Flesler
 * @version 1.0.1
 */
 
/**
 * The constructor must receive the parsing function, which will get the text as parameter
 * To use it, call the method .traverse() on the starting (root) node.
 * If the parsing is asynchronous (f.e AJAX), set sync to false on the instance.
 * When doing so, the parser function receives an extra argument, which is a function
 * that must be called passing it the parsed text.
 */
function Translator( parser, filter ) {
	this.parse = parser; // function that parses the original string
	this.filter = filter; // optional filtering function that receives the node, and returns true/false
};
Translator.prototype = {
	translate:function( old ) { // translates a text node
		if( this.sync ) {
			this.replace( old, this.parse(old.nodeValue) );
		} else {
			var self = this;
			this.parse( old.nodeValue, function( text ) {
				self.replace( old, text );
			});
		}
	},
	makeNode:function( data ) {
		if( data && data.split ) { // replacing for a string
			data = document.createTextNode(data);
		}
		return data;
	},
	replace:function( old, text ) { // Replaces a text node with a new (string) text or another node
		if( text != null && text != old.nodeValue ) {
			var parent = old.parentNode;
			if ( text.splice ) { // Array
				for( var i = 0, l = text.length - 1; i < l; ) {
					parent.insertBefore( this.makeNode(text[i++]), old );
				}
				text = this.makeNode(text[l] || ''); // Last
			} else {
				text = this.makeNode(text);
			}
			parent.replaceChild( text, old );
		}
	},
	valid:/\S/, // Used to skip empty text nodes (modify at your own risk)
	sync:true, // If the parsing requires a callback, set to false
	traverse:function( root ) { // Goes (recursively) thru the text nodes of the root, translating
		var children = root.childNodes,
		l = children.length,
		c = children.length,
		node;
		
		while( l-- ) {
			node = children[c - l - 1];
			if( node.nodeType == 3 ) { // Text node
				if( this.valid.test(node.nodeValue) ) { // Skip empty text nodes
					this.translate( node );
				}
			} else if( node.nodeType == 1 && (!this.filter || this.filter(node)) ) { // Element node
				this.traverse( node );
			}
		}
	}
};
// ---------------------------------------------------------------------------------------------------------------------

// -- Better messages --------------------------------------------------------------------------------------------------
function fixMessages() {
	$('.message_listing .break-word').each(function() {
		$(this).css('width', '531px');
		if ($.browser.mozilla) {
			$(this).textOverflow();
		} else {
			$(this).css({'whiteSpace' : 'nowrap', 'overflow' : 'hidden', 'textOverflow' : 'ellipsis'});
		}
	});
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Elections --------------------------------------------------------------------------------------------------------
function improveElections() {
	if (eRAopt['elections'] == false) {
		return;
	}
	
	var voteWinnerCount = $('.vote_block:eq(0) p').html().split('<br>');
	var voteWinnerNumber = voteWinnerCount[0].split(' ')[0];
	
	$('.vote_block').each(function() {
		$(this).find('p').css('margin-top', '9px');
		var voteCount = $(this).find('p').html().split('<br>');
		var voteNumber = voteCount[0].split(' ')[0];
		var voteDiff = parseFloat(voteNumber) - parseFloat(voteWinnerNumber);
		if (voteDiff < 0) {
			$(this).find('p').html(voteCount[0] + '<br><small>' + voteDiff + '</small><br>' + voteCount[1])
		} else {
			$(this).find('p').html(voteCount[0] + '<br><small>&mdash;</small><br>' + voteCount[1])
		}
	});
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Battlefield ------------------------------------------------------------------------------------------------------
function improveBattlefield() {
	if (eRAopt['battlefield'] == false) {
		return;
	}
	
	var script = document.createElement('script');
	script.type  = 'text/javascript';
	script.text  = 'function globalTick() { }';
	document.getElementsByTagName('head')[0].appendChild(script);
	
	var eToday = parseFloat($('.eday strong').html().replace(/,/gi, ''));

	var userCountry = id_country[fixString2(citizenMain)];
	readSettings('influence');
	readSettings('natural');
	
	if (eRAinflu[eToday] == undefined) {
		eRAinflu[eToday] = {};
		eRAinflu[eToday]['Hits'] = 0;
		eRAinflu[eToday]['Kills'] = 0;
		eRAinflu[eToday]['Influence'] = 0;
	}
	
	var regionName = $('#pvp_header h2:eq(0)').text();
	var regionFullName = findElement(regionName.replace(/\./gi, ''), region_link)
		
	$('#pvp_header h2:eq(0)').replaceWith('<a class="regionLink" title="' + regionFullName + '" href="http://www.erepublik.com/' + document.language + '/region/' + region_link[regionFullName] + '" target="_blank"><h2 style="color: #3C8FA7 !important;">' + regionName + '</h2></a>');
	
	var myCountry = $('div[class*="country left_side"] h3').html();
	var vsCountry = $('div[class*="country right_side"] h3').html();
	
	if (myCountry.indexOf('Resistance') == -1 && vsCountry.indexOf('Resistance') == -1 && myCountry == userCountry && vsCountry == eRAne['Enemy']) {
		$('div[class*="country right_side"] a img').after('<img alt="" title="Natural enemy" src="' + neIcon + '" style="margin-top: -2px; position: absolute; margin-left: -9px;">');
	}
	
	$('#blue_domination').css('opacity', '0'); // frimen
	$('#red_domination').css('opacity', '0'); // frimen
	
	$('.progress').each(function() {
		$(this).css({'text-align': 'center', 'overflow': 'visible'});
	});
	
	$('#player_loss').css('top', '-25px');
	$('#enemy_loss').css('top', '-25px');
	
	if($('#player_life').length) {
		var playerHealth = $('#player_life').attr('title').split(' ')[2];
		
		var playerStrength = mathRound(parseFloat($('#pvp_battle_area .player.left_side .info #fighter_skill').text().replace(/,/gi, '')), 0).toFixed(0);
		var enemyStrength = mathRound(parseFloat($('#pvp_battle_area .player.right_side .info #enemy_skill').text().replace(/,/gi, '')), 0).toFixed(0);
		var playerWeaponPower = parseFloat($('#scroller div span img').attr('src').split('/')[5].split('_q')[1].split('.')[0]) * 20;
		var enemyWeaponPower = parseFloat($('#enemy_weapon').attr('src').split('/')[5].split('_q')[1].split('.')[0]) * 20;
		
		if ($('#enemy_life').attr('title').split(' ')[2].length == 0) {
			var enemyHealth = $('#enemy_life').attr('original-title').split(' ')[2];
		} else {
			var enemyHealth = $('#enemy_life').attr('title').split(' ')[2];
		}
		$('#player_life').after('<div id="playerHealth" class="battleHealth">' + parseFloat(playerHealth).toFixed(2) + '</div>');
		$('#enemy_life').after('<div id="enemyHealth" class="battleHealth">' + parseFloat(enemyHealth).toFixed(2) + '</div>');
		
		var hitsNeeded = Math.ceil(parseFloat(enemyHealth) / mathRound((60 + ((playerStrength - enemyStrength) / 10)) * (0.5 + (playerWeaponPower - enemyWeaponPower) / 400), 0));
		
		$('#pvp_battle_area .player.right_side').prepend('<div class="hitsNeededHolder"><div class="hitsNeededTitle">需要擊斃次數</div><div id="hitsNeeded" class="hitsNeededNumber">' + hitsNeeded + '</div></div>');
		
		$('#player_life, #enemy_life').attrChange(function() {
			if($('#player_life').attr('original-title') != undefined) {
				playerHealth = $('#player_life').attr('original-title').split(' ')[2];
			} else {
				playerHealth = $('#player_life').attr('title').split(' ')[2];
			}
			if ($('#enemy_life').attr('original-title') != undefined) {
				enemyHealth = $('#enemy_life').attr('original-title').split(' ')[2];
			} else {
				enemyHealth = $('#enemy_life').attr('title').split(' ')[2];
			}
			$('#playerHealth').animate({'opacity': '0'}, 'fast').text(parseFloat(playerHealth).toFixed(2)).animate({'opacity': '1'}, 'fast');
			$('#enemyHealth').animate({'opacity': '0'}, 'fast').text(parseFloat(enemyHealth).toFixed(2)).animate({'opacity': '1'}, 'fast');
			
			setTimeout(function(){
				playerWeaponPower = parseFloat($('#scroller div span img').attr('src').split('/')[5].split('_q')[1].split('.')[0]) * 20;
				enemyWeaponPower = parseFloat($('#enemy_weapon').attr('src').split('/')[5].split('_q')[1].split('.')[0]) * 20;
				
				hitsNeeded = Math.ceil(parseFloat(enemyHealth) / mathRound((60 + ((playerStrength - enemyStrength) / 10)) * (0.5 + (playerWeaponPower - enemyWeaponPower) / 400), 0));
			
				$('#hitsNeeded').html(hitsNeeded);
			}, 1000);
		});
	}

	//show exact percentages
    // frimen - start
	setTimeout(function(){
        $('.domibar').prepend('<strong id="blue_domination_f" class="left_side"></strong><strong id="red_domination_f" class="right_side"></strong>');
        exactDomination = parseFloat($('.domibar').css('background-position'));
		$('#blue_domination_f').text(mathRound(100 - exactDomination, 2).toFixed(2) + '%');
        $('#red_domination_f').text(mathRound(exactDomination, 2).toFixed(2) + '%');
        $('#blue_domination_f').css('opacity', '0').animate({'opacity': '1'}, 'fast');
        $('#red_domination_f').css('opacity', '0').animate({'opacity': '1'}, 'fast');
    }, 1000);
	
	$('.domibar').cssChange(function(){
		exactDomination = parseFloat($('.domibar').css('background-position'));
        $('#blue_domination_f').text(mathRound(100 - exactDomination, 2).toFixed(2) + '%');
        $('#red_domination_f').text(mathRound(exactDomination, 2).toFixed(2) + '%');
	});
    // frimen - end
	
	saveInfluence();
}

function saveInfluence() {
	var eToday = parseFloat($('.eday strong').html().replace(/,/gi, ''));
	$('#enemy_defeated a#add_damage_btn').live('mouseup', function() {
		readSettings('influence');
		
		if($('#enemy_defeated .content #war_influence_natural_enemy').text().split(' ')[1] != '10%') {
			var fightInfluence = parseFloat($('#enemy_defeated .content #war_influence').text().split(' ')[1]) + parseFloat($('#enemy_defeated .content #war_influence_natural_enemy').text().split(' ')[1]);
		} else {
			var fightInfluence = parseFloat($('#enemy_defeated .content #war_influence').text().split(' ')[1]);
		}
		eRAinflu[eToday]['Hits'] = parseFloat(eRAinflu[eToday]['Hits']) + parseFloat($('#enemy_defeated .content #xp_points').text().split(' ')[1]) + '';
		eRAinflu[eToday]['Kills'] = parseFloat(eRAinflu[eToday]['Kills']) + 1 + '';
		eRAinflu[eToday]['Influence'] = parseFloat(eRAinflu[eToday]['Influence']) + fightInfluence + '';
		
		writeSettings(document.userid + '.Influence', eRAinflu);
		
		$('#enemy_defeated a#add_damage_btn').die('mouseup');
		setTimeout(saveInfluence, 2000);
	});
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Inventory --------------------------------------------------------------------------------------------------------
function prepareInventory() {
	document.countries = []
	$('#market_licenses_select .ml_repeat li').each(function() {
		var c = $(this).find('img').attr('src').split('/')[6].split('.')[0];
		document.countries.push(c);
	});
	getInvExchange()
	betterInventory();
}

function getInvExchange() {	
	var exchItem;
	
	eRAexch = {};
	
	for (var x = 0; x < document.countries.length; x++) {
		GM_xmlhttpRequest({
			method: 'GET',
			url: 'http://www.erepublik.com/en/exchange/listOffers?select_page=select&buy_currency_history_id=buy_currencies=' + country_id[document.countries[x].toLowerCase()] + '&sell_currency_history_id=sell_currencies=62&account_type=citizen-&action_path=listOffers&page=page=1',
			onload: function(response) {
				exchItem = $(response.responseText).find('.special').eq(2).text();
				
				eRAexch[country_currency[document.countries[this.idx]]] = exchItem;
				writeSettings(document.userid + '.exchangeRate', eRAexch);
			}.bind({idx:x})
		});
	}
}

function betterInventory() {
	if (eRAopt['inventory'] == false) {
		return;
	}
	
	readSettings('exchange');
	readSettings('taxes');
	
	var citCountry = fixString2($('#content script:last').text().split('var ')[5].replace('citizenshipCountry = ', '').replace(';', ''));
	
	$('.ml_selector, .sell_selector').live('click', function() {
		$('#sell_price').trigger('recalc'); 
		totalRow();
	});
	
	// initialize w/o Tax below unit price input
	$('.offers_price').css('height', '110px');
//	$('#tax').css('top', '57px');
	
	var initValue = parseFloat($('#sell_price').val());
	var initTax = parseFloat($('#tax').text().split(' ')[3]);
	var initCurr = $('#sell_currency').text();
	var initPrice = mathRound(isNaN(initValue) ? 0 : initValue - initTax, 2).toFixed(2);
	// end;
	
	// initialize Pirce / unit w/o Tax column
	$('.offers_product').css('width', '70px');
	$('.offers_quantity').css('width', '100px');
	$('.offers_price').css('width', '150px');
	$('.offers_markete').css('width', '70px');
	$('.buy_market_license td').attr('colspan', '7');
	$('.offers_price').after(
		'<th id="priceWithoutTax" class="offers_price" style="width: 100px; padding-left: 0px;">' +
			'<div class="relative">' +
				'<strong style="text-align: center; margin-bottom: 3px; margin-top: -45px;">價格 / 每個<br/>w/o 稅</strong>' +
			'</div>' +
		'</th>'
	);
	
	$('#priceWithoutTax div').append('<small id="wtax" style="top: -7px;">' + initPrice + ' ' + initCurr + '</small><small id="wtaxG" style="font-size: 10px; top: -7px;"><br />' + mathRound(initPrice * parseFloat(eRAexch[initCurr]), 4).toFixed(4) + ' GOLD</small>');
	
	// initialize Total value w/o Tax column
	$('#priceWithoutTax').after(
		'<th id="totalValue" class="offers_price" style="width: 110px; padding-left: 0px;">' +
			'<div class="relative">' +
				'<strong style="text-align: center; margin-bottom: 3px; margin-top: -45px;">總價值<br/>w/o 稅</strong>' +
			'</div>' +
		'</th>'
	);
	
	// initialize live Total value w/o Tax calculation
	var initAmount = parseFloat($('#sell_amount').val());
	var initTotalPrice = mathRound(isNaN(initAmount) ? initPrice : initAmount * initPrice, 2).toFixed(2);
	
	$('#totalValue div').append('<small id="tvwotax" style="top: -7px;">' + initTotalPrice + ' ' + initCurr + '</small><small id="tvwotaxG" style="font-size: 10px; top: -7px;"><br />' + mathRound(initTotalPrice * parseFloat(eRAexch[initCurr]), 4).toFixed(4) + ' GOLD</small>');
	// end;
	
	// recalculate w/o Tax below unit price input
	$('#sell_price').live('keyup recalc', function() {
		var itmValue = parseFloat($(this).val());
		var itmTax = parseFloat($('#tax').text().split(' ')[3]);
		var itmCurr = $('#sell_currency').text();
		var itmPrice = mathRound(isNaN(itmValue) ? 0 : itmValue - itmTax, 2).toFixed(2);
		
		$('#wtax').html(itmPrice + ' ' + itmCurr);
		$('#wtaxG').html('<br />' + mathRound(itmPrice * parseFloat(eRAexch[itmCurr]), 4).toFixed(4) + ' GOLD');
		$('#sell_amount').trigger('recalc');
	});
	
	// recalculate live Total value w/o Tax
	$('#sell_amount').live('keyup recalc', function() {
		var itmAmount = parseFloat($('#sell_amount').val());
		var itmPrice = parseFloat($('#wtax').html().split(' ')[0]);
		var itmCurr = $('#sell_currency').text();
		var itmTotalPrice = mathRound((isNaN(itmAmount) ? 0 : itmAmount) * (isNaN(itmPrice) ? 0 : itmPrice), 2).toFixed(2);
		
		$('#tvwotax').html(itmTotalPrice + ' ' + itmCurr);
		$('#tvwotaxG').html('<br />' + mathRound(itmTotalPrice * parseFloat(eRAexch[itmCurr]), 4).toFixed(4) + ' GOLD');
	});
	
	$('#big_notifiers').css('padding-top', '15px').css('padding-bottom', '5px'); // frimen
	
	// frimen - start
	setInterval(function(){
		var exchRateCit = parseFloat(eRAexch[country_currency[id_country[citCountry]]]);
		
		$('.delete_offer').css('opacity', '1');
		
		$('#sell_offers table tbody tr:gt(0)').each(function() {
			var offId = $(this).attr('id').split('_')[1];
			$('#' + $(this).attr('id') + ' [id^="gPrice_"], #' + $(this).attr('id') + ' [id^="priceCit_"], #' + $(this).attr('id') + ' [id^="basePrice_"], #' + $(this).attr('id') + ' [id^="basePriceG_"], #' + $(this).attr('id') + ' [id^="basePriceC_"], #' + $(this).attr('id') + ' [id^="totValue_"], #' + $(this).attr('id') + ' [id^="totValueG_"]').attr('id', function(index, attr){return $(this).attr('id').split('_')[0] + '_' + offId;});
			
			if ($(this).find('.offer_flag').attr('src').split('/')[6] != undefined) {
				var offCountryCode = country_currency[$(this).find('.offer_flag').attr('src').split('/')[6].split('.')[0]];
				var offCountry = country_id[$(this).find('.offer_flag').attr('src').split('/')[6].split('.')[0].toLowerCase()];
			} else {
				var offCountryCode = country_currency[$(this).find('.offer_flag').attr('src').split('/')[4].split('.')[0]];
				var offCountry = country_id[$(this).find('.offer_flag').attr('src').split('/')[4].split('.')[0].toLowerCase()];
			}
			
			var offIndustry = $(this).find('.offer_image').attr('src').split('/')[6];
			
			if (parseFloat(offIndustry) > 0 && parseFloat(offIndustry) < 7) {
				var offQuality = $(this).find('.offer_image').attr('src').split('/')[7].split('_')[0].replace('q', '');
			} else {
				var offQuality = "1";
			}
			
			var taxVat = parseFloat(eRAtax[id_country[offCountry]][offIndustry].vat); //Original Price = Total Price / (1 + Tax Rate / 100)
			var taxImp = parseFloat(eRAtax[id_country[offCountry]][offIndustry].imp); //Original Price = Total Price / (1 + Tax Rate / 100)
			var exchRate = parseFloat(eRAexch[offCountryCode]);
			
			var buttPresent = $(this).find('#goto_offer');
			var basePrice = parseFloat($(this).find('.offer_price strong').text().replace(/,/gi, ''));
			var goldPrice = mathRound(parseFloat(basePrice) * exchRate, 4).toFixed(4);
			
			var offAmount = parseFloat($(this).find('.offer_amount').text().replace(/,/gi, ''));
			
			if (buttPresent.length == 0) {
				$(this).find('.delete_offer').before('<a title="Visit market" target="_blank" class="fluid_blue_dark_small" style="padding-left: 3px;" id="visit_market" href="http://economy.erepublik.com/' + document.language + '/market/' + offCountry + '/' + offIndustry + '/' + offQuality + '/citizen/0/price_asc/1">' +
													 	'<span>M</span>' +
													'</a>' +
													'<a title="Show offer on market" id="goto_offer" href="http://economy.erepublik.com/' + document.language + '/market/offer/' + offId + '">' +
														'<img style="padding-left: 10px;" src="' + iconOffer + '">' +
													'</a>');
			} else {
				$(this).find('#goto_offer').attr('href', 'http://economy.erepublik.com/' + document.language + '/market/offer/' + offId);
			}
			
			if(offCountry == citCountry) {
				if ($('#gPrice_' + offId).length == 0) {
					$(this).find('.offer_price').append('<br/>' +
														'<strong id="gPrice_' + offId + '" style="color: #B2B2B2; font-size: 10px;">' + goldPrice + '</strong>' +
														'<span style="color: #B2B2B2; font-size: 10px;">&nbsp;GOLD</span>');
				} else {
					$('#gPrice_' + offId).html(goldPrice);
				}
			} else {
				if ($('#gPrice_' + offId).length == 0) {
					$(this).find('.offer_price').append('<br/>' +
														'<strong id="gPrice_' + offId + '" style="color: #B2B2B2; font-size: 10px;">' + goldPrice + '</strong>' +
														'<span style="color: #B2B2B2; font-size: 10px;">&nbsp;GOLD</span>' +
														'<br/>' +
														'<strong id="priceCit_' + offId + '" style="color: #B2B2B2; font-size: 10px;">' + mathRound(goldPrice / exchRateCit, 2).toFixed(2) + '</strong>' +
														'<span style="color: #B2B2B2; font-size: 10px;">&nbsp;' + country_currency[id_country[citCountry]] + '</span>');
				} else {
					$('#gPrice_' + offId).html(goldPrice);
					$('#priceCit_' + offId).html(mathRound(goldPrice / exchRateCit, 2).toFixed(2));
				}
			}
			
			if(offCountry == citCountry) {
				if ($('#basePrice_' + offId).length == 0) {
					$(this).find('.offer_price').after('<td style="border-top: 1px solid #E2F3F9; color: #5E5E5E; padding: 5px 0px 5px 0px;">' +
													   		'<strong id="basePrice_' + offId + '">' + mathRound(basePrice / (1 + taxVat / 100), 2).toFixed(2) + '</strong>&nbsp;' + offCountryCode + '<br>' +
															'<strong id="basePriceG_' + offId + '" style="color: #B2B2B2; font-size: 10px;">' + mathRound((basePrice / (1 + taxVat / 100)) * exchRate, 4).toFixed(4) + '</strong>' +
															'<span style="color: #B2B2B2; font-size: 10px;">&nbsp;GOLD</span>' +
														'</td>');
				} else {
					$('#basePrice_' + offId).html(mathRound(basePrice / (1 + taxVat / 100), 2).toFixed(2));
					$('#basePriceG_' + offId).html(mathRound((basePrice / (1 + taxVat / 100)) * exchRate, 4).toFixed(4));
				}
			} else {
				if ($('#basePrice_' + offId).length == 0) {
					$(this).find('.offer_price').after('<td style="border-top: 1px solid #E2F3F9; color: #5E5E5E; padding: 5px 0px 5px 0px;">' +
													   		'<strong id="basePrice_' + offId + '">' + mathRound(basePrice / (1 + (taxVat + taxImp) / 100), 2).toFixed(2) + '</strong>&nbsp;' + offCountryCode + '<br>' +
															'<strong id="basePriceG_' + offId + '" style="color: #B2B2B2; font-size: 10px;">' + mathRound((basePrice / (1 + (taxVat + taxImp) / 100)) * exchRate, 4).toFixed(4) + '</strong>' +
															'<span style="color: #B2B2B2; font-size: 10px;">&nbsp;GOLD</span>' +
															'<br>' +
															'<strong id="basePriceC_' + offId + '" style="color: #B2B2B2; font-size: 10px;">' + mathRound(((basePrice / (1 + (taxVat + taxImp) / 100)) * exchRate) / exchRateCit, 4).toFixed(4) + '</strong>' +
															'<span style="color: #B2B2B2; font-size: 10px;">&nbsp;' + country_currency[id_country[citCountry]] + '</span>' +
														'</td>');
				} else {
					$('#basePrice_' + offId).html(mathRound(basePrice / (1 + (taxVat + taxImp) / 100), 2).toFixed(2));
					$('#basePriceG_' + offId).html(mathRound((basePrice / (1 + (taxVat + taxImp) / 100)) * exchRate, 4).toFixed(4));
					$('#basePriceC_' + offId).html(mathRound(((basePrice / (1 + (taxVat + taxImp) / 100)) * exchRate) / exchRateCit, 2).toFixed(2));
				}
			}
			
			if(offCountry == citCountry) {
				if ($('#totValue_' + offId).length == 0) {
					$(this).find('#basePrice_' + offId).parent().after('<td style="border-top: 1px solid #E2F3F9; color: #5E5E5E; padding: 5px 0px 5px 0px;">' +
																			'<strong id="totValue_' + offId + '">' + mathRound(offAmount * (basePrice / (1 + taxVat / 100)), 2).toFixed(2) + '</strong>&nbsp;' + offCountryCode + '<br>' +
																			'<strong id="totValueG_' + offId + '" style="color: #B2B2B2; font-size: 10px;">' + mathRound(offAmount * (basePrice / (1 + taxVat / 100) * exchRate), 4).toFixed(4) + '</strong>' +
																			'<span style="color: #B2B2B2; font-size: 10px;">&nbsp;GOLD</span>' +
																		'</td>');
				} else {
					$('#totValue_' + offId).html(mathRound(offAmount * (basePrice / (1 + taxVat / 100)), 2).toFixed(2));
					$('#totValueG_' + offId).html(mathRound(offAmount * (basePrice / (1 + taxVat / 100) * exchRate), 4).toFixed(4));
				}
			} else {
				if ($('#totValue_' + offId).length == 0) {
					$(this).find('#basePrice_' + offId).parent().after('<td style="border-top: 1px solid #E2F3F9; color: #5E5E5E; padding: 5px 0px 5px 0px;">' +
																			'<strong id="totValue_' + offId + '">' + mathRound(offAmount * (basePrice / (1 + (taxVat + taxImp) / 100)), 2).toFixed(2) + '</strong>&nbsp;' + offCountryCode + '<br>' +
																			'<strong id="totValueG_' + offId + '" style="color: #B2B2B2; font-size: 10px;">' + mathRound(offAmount * (basePrice / (1 + (taxVat + taxImp) / 100) * exchRate), 4).toFixed(4) + '</strong>' +
																			'<span style="color: #B2B2B2; font-size: 10px;">&nbsp;GOLD</span>' +
																			'<br>' +
																			'<strong id="totValueC_' + offId + '" style="color: #B2B2B2; font-size: 10px;">' + mathRound((offAmount * (basePrice / (1 + (taxVat + taxImp) / 100) * exchRate) / exchRateCit), 2).toFixed(2) + '</strong>' +
																			'<span style="color: #B2B2B2; font-size: 10px;">&nbsp;' + country_currency[id_country[citCountry]] + '</span>' +
																		'</td>');
				} else {
					$('#totValue_' + offId).html(mathRound(offAmount * (basePrice / (1 + (taxVat + taxImp) / 100)), 2).toFixed(2));
					$('#totValueG_' + offId).html(mathRound(offAmount * (basePrice / (1 + (taxVat + taxImp) / 100) * exchRate), 4).toFixed(4));
					$('#totValueC_' + offId).html(mathRound((offAmount * (basePrice / (1 + (taxVat + taxImp) / 100) * exchRate) / exchRateCit), 2).toFixed(2));
				}
			}
		});
		totalRow();
    }, 500);
    // frimen - end
	$('.delete_offer').live('click', function() {
		totalRow();
	});
}

function totalRow() {
	var cCountry = fixString2($('#content script:last').text().split('var ')[5].replace('citizenshipCountry = ', '').replace(';', ''));
	var eRateCit = parseFloat(eRAexch[country_currency[id_country[cCountry]]]);
	var sumValue = 0;
	
	$('#sell_offers table tbody tr:gt(0)').each(function() {
		if ($(this).find('.offer_flag').attr('src').split('/')[6] != undefined) {
			var oCountryCode = country_currency[$(this).find('.offer_flag').attr('src').split('/')[6].split('.')[0]];
			var oCountry = country_id[$(this).find('.offer_flag').attr('src').split('/')[6].split('.')[0].toLowerCase()];
		} else {
			var oCountryCode = country_currency[$(this).find('.offer_flag').attr('src').split('/')[4].split('.')[0]];
			var oCountry = country_id[$(this).find('.offer_flag').attr('src').split('/')[4].split('.')[0].toLowerCase()];
		}
		var oIndustry = $(this).find('.offer_image').attr('src').split('/')[6];
		var tVat = parseFloat(eRAtax[id_country[oCountry]][oIndustry].vat);
		var tImp = parseFloat(eRAtax[id_country[oCountry]][oIndustry].imp);
		var eRate = parseFloat(eRAexch[oCountryCode]);
		var bPrice = parseFloat($(this).find('.offer_price strong').text().replace(/,/gi, ''));
		var oAmount = parseFloat($(this).find('.offer_amount').text().replace(/,/gi, ''));
		
		if ($(this).css('display') != 'none') {
			if (oCountry == cCountry) {
				sumValue += mathRound(oAmount * (bPrice / (1 + tVat / 100)), 2);
			} else {
				sumValue += mathRound((oAmount * (bPrice / (1 + (tVat + tImp) / 100) * eRate) / eRateCit), 2);
			}
		}
	});
	
	if ($('#marketTotals').length == 0) {
		$('#sell_offers table').append('<tfoot>' +
											'<tr style="background: none repeat scroll 0 0 #F7FCFF;">' +
												'<td colspan="4">&nbsp;</td>' +
												'<td id="marketTotals" style="border-top: 1px solid #E2F3F9; color: #5E5E5E; padding: 5px 0;">' +
													'<strong>' + mathRound(sumValue, 2).toFixed(2) + '</strong>&nbsp;' + country_currency[id_country[cCountry]] + '<br>' +
													'<strong style="color: #B2B2B2; font-size: 10px;">' + mathRound(sumValue * eRateCit, 4).toFixed(4) + '</strong>' +
													'<span style="color: #B2B2B2; font-size: 10px;">&nbsp;GOLD</span>' +
												'</td>' +
												'<td colspan="2">&nbsp;</td>' +
											'</tr>' +
										'</tfoot>');
	} else {
		$('#marketTotals').html('<strong>' + mathRound(sumValue, 2).toFixed(2) + '</strong>&nbsp;' + country_currency[id_country[cCountry]] + '<br>' +
								'<strong style="color: #B2B2B2; font-size: 10px;">' + mathRound(sumValue * eRateCit, 4).toFixed(4) + '</strong>' +
								'<span style="color: #B2B2B2; font-size: 10px;">&nbsp;GOLD</span>');
	}
}

function taxTable() {
	if (eRAopt['taxes'] == false) {
		return;
	}
	
	var taxData = fixString2($('#content script:last').text().split('var ')[4].replace('countryList = ', '').replace(';', ''));
	taxData = eval('(' + taxData + ')');
	var citizenCountry = fixString2($('#content script:last').text().split('var ')[5].replace('citizenshipCountry = ', '').replace(';', ''));
	
	$('#sell_offers').after('<div class="taxTbl" style="display: block;">' +
								'<table id="taxTable" width="100%">' +
									'<thead>' +
										'<tr>' +
											'<th style="height: 40px; text-align: center; padding-left: 0px;">&nbsp;</th>' +
											'<th style="height: 40px; text-align: center; padding-left: 0px;"><img width="35px" height="35px" src="http://www.erepublik.com/images/icons/industry/1/q5.png"></th>' +
											'<th style="height: 40px; text-align: center; padding-left: 0px;"><img width="35px" height="35px" src="http://www.erepublik.com/images/icons/industry/2/q5.png"></th>' +
											'<th style="height: 40px; text-align: center; padding-left: 0px;"><img width="35px" height="35px" src="http://www.erepublik.com/images/icons/industry/3/q5.png"></th>' +
											'<th style="height: 40px; text-align: center; padding-left: 0px;"><img width="35px" height="35px" src="http://www.erepublik.com/images/icons/industry/4/q5.png"></th>' +
											'<th style="height: 40px; text-align: center; padding-left: 0px;"><img width="35px" height="35px" src="http://www.erepublik.com/images/icons/industry/5/q5.png"></th>' +
											'<th style="height: 40px; text-align: center; padding-left: 0px;"><img width="35px" height="35px" src="http://www.erepublik.com/images/icons/industry/6/default.png"></th>' +
											'<th style="height: 40px; text-align: center; padding-left: 0px;"><img width="35px" height="35px" src="http://www.erepublik.com/images/icons/industry/7/default.png"></th>' +
											'<th style="height: 40px; text-align: center; padding-left: 0px;"><img width="35px" height="35px" src="http://www.erepublik.com/images/icons/industry/12/default.png"></th>' +
										'</tr>' +
									'</thead>' +
									'<tbody></tbody>' +
								'</table>' +
							'</div>');
	
	$('#market_licenses_select .ml_repeat li').each(function() {
		var countrCode = country_id[$(this).find('img').attr('src').split('/')[6].split('.')[0].toLowerCase()];
		var countrName = $(this).find('img').attr('alt');
		var countrFlag = $(this).find('img').attr('src');
		
		if (countrCode == citizenCountry) {
			var taxSum1 = parseFloat(taxData[countrCode].taxes["1"].value_added_tax);
			var taxSum2 = parseFloat(taxData[countrCode].taxes["2"].value_added_tax);
			var taxSum3 = parseFloat(taxData[countrCode].taxes["3"].value_added_tax);
			var taxSum4 = parseFloat(taxData[countrCode].taxes["4"].value_added_tax);
			var taxSum5 = parseFloat(taxData[countrCode].taxes["5"].value_added_tax);
			var taxSum6 = parseFloat(taxData[countrCode].taxes["6"].value_added_tax);
			var taxSum7 = parseFloat(taxData[countrCode].taxes["7"].value_added_tax);
			var taxSum12 = parseFloat(taxData[countrCode].taxes["12"].value_added_tax);
		} else {
			var taxSum1 = parseFloat(taxData[countrCode].taxes["1"].value_added_tax) + parseFloat(taxData[countrCode].taxes["1"].import_tax);
			var taxSum2 = parseFloat(taxData[countrCode].taxes["2"].value_added_tax) + parseFloat(taxData[countrCode].taxes["2"].import_tax);
			var taxSum3 = parseFloat(taxData[countrCode].taxes["3"].value_added_tax) + parseFloat(taxData[countrCode].taxes["3"].import_tax);
			var taxSum4 = parseFloat(taxData[countrCode].taxes["4"].value_added_tax) + parseFloat(taxData[countrCode].taxes["4"].import_tax);
			var taxSum5 = parseFloat(taxData[countrCode].taxes["5"].value_added_tax) + parseFloat(taxData[countrCode].taxes["5"].import_tax);
			var taxSum6 = parseFloat(taxData[countrCode].taxes["6"].value_added_tax) + parseFloat(taxData[countrCode].taxes["6"].import_tax);
			var taxSum7 = parseFloat(taxData[countrCode].taxes["7"].value_added_tax) + parseFloat(taxData[countrCode].taxes["7"].import_tax);
			var taxSum12 = parseFloat(taxData[countrCode].taxes["12"].value_added_tax) + parseFloat(taxData[countrCode].taxes["12"].import_tax);
		}
		
		function generateItem(industry, quality) {
			var genItem = '<a href="http://economy.erepublik.com/' + document.language + '/market/' + countrCode + '/' + industry + '/' + quality + '/citizen/0/price_asc/1" target="_blank"><div class="taxLinkItem">Q' + quality + '</div></a>';
			return (genItem);
		}
		
		$('#taxTable tbody').append('<tr>' +
										'<td style="padding-left: 5px;"><img style="vertical-align: top;" src="' + countrFlag + '"> ' + countrName + '</td>' +
										'<td class="taxLink" style="text-align: center; padding-left: 0px;">' +
											'<div class="taxLinkHolder">' +
												'<div class="taxLinkItemTransparent">&nbsp;</div>' +
												generateItem(1, 1) +
												generateItem(1, 2) +
												generateItem(1, 3) +
												generateItem(1, 4) +
												generateItem(1, 5) +
											'</div>' +
											'<span>' + taxSum1 + '%</span>' +
										'</td>' +
										'<td class="taxLink" style="text-align: center; padding-left: 0px;">' +
											'<div class="taxLinkHolder">' +
												'<div class="taxLinkItemTransparent">&nbsp;</div>' +
												generateItem(2, 1) +
												generateItem(2, 2) +
												generateItem(2, 3) +
												generateItem(2, 4) +
												generateItem(2, 5) +
											'</div>' +
											'<span>' + taxSum2 + '%</span>' +
										'</td>' +
										'<td class="taxLink" style="text-align: center; padding-left: 0px;">' +
											'<div class="taxLinkHolder">' +
												'<div class="taxLinkItemTransparent">&nbsp;</div>' +
												generateItem(3, 1) +
												generateItem(3, 2) +
												generateItem(3, 3) +
												generateItem(3, 4) +
												generateItem(3, 5) +
											'</div>' +

											'<span>' + taxSum3 + '%</span>' +
										'</td>' +
										'<td class="taxLink" style="text-align: center; padding-left: 0px;">' +
											'<div class="taxLinkHolder">' +
												'<div class="taxLinkItemTransparent">&nbsp;</div>' +
												generateItem(4, 1) +
												generateItem(4, 2) +
												generateItem(4, 3) +
												generateItem(4, 4) +
												generateItem(4, 5) +
											'</div>' +
											'<span>' + taxSum4 + '%</span>' +
										'</td>' +
										'<td class="taxLink" style="text-align: center; padding-left: 0px;">' +
											'<div class="taxLinkHolder">' +
												'<div class="taxLinkItemTransparent">&nbsp;</div>' +
												generateItem(5, 1) +
												generateItem(5, 2) +
												generateItem(5, 3) +
												generateItem(5, 4) +
												generateItem(5, 5) +
											'</div>' +
											'<span>' + taxSum5 + '%</span>' +
										'</td>' +
										'<td class="taxLink" style="text-align: center; padding-left: 0px;">' +
											'<div class="taxLinkHolder">' +
												'<div class="taxLinkItemTransparent">&nbsp;</div>' +
												generateItem(6, 1) +
												generateItem(6, 2) +
												generateItem(6, 3) +
												generateItem(6, 4) +
												generateItem(6, 5) +
											'</div>' +
											'<span>' + taxSum6 + '%</span>' +
										'</td>' +
										'<td class="taxLink" style="text-align: center; padding-left: 0px;">' +
											'<a href="http://economy.erepublik.com/' + document.language + '/market/' + countrCode + '/7/1/citizen/0/price_asc/1" target="_blank">' + taxSum7 + '%</a>' +
										'</td>' +
										'<td class="taxLink" style="text-align: center; padding-left: 0px;">' +
											'<a href="http://economy.erepublik.com/' + document.language + '/market/' + countrCode + '/12/1/citizen/0/price_asc/1" target="_blank">' + taxSum12 + '%</a>' +
										'</td>' +
									'</tr>');
	});
	
	$('#taxTable tbody td').each(function() {
		var cellWidth = $(this).width();
		$(this).find('.taxLinkHolder').width(cellWidth - 4);
	});
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Profile ----------------------------------------------------------------------------------------------------------
function calcInflu(rank, strength, weapon) {
	var totalInflu = Math.floor(((rank - 1) / 20 + 0.3) * ((strength / 10) + 40) * (1 + weapon / 100));
	
	return (totalInflu);
}

function calcTraining(current, next, booster, friends, nenemy) {
	if (nenemy == true) {
		nenemy = 1;
	} else {
		nenemy = 0;
	}
	
	var gainAmount = 6 + (5 * (parseFloat(booster) / 100)) + (5 * (parseFloat(friends) * 0.1)) + (5 * (nenemy / 10));
	var amountLeft = parseFloat(next) - parseFloat(current);
	
	return(Math.floor(amountLeft / gainAmount) + 1);
}

function calcRank(rankleft, rank, strength, numhits, natenemy, weapon, booster, friends) {
	if (natenemy) {
		var rankGain = numhits * Math.floor(((rank - 1) / 20 + 0.3) * ((strength / 10) + 40) * (1 + weapon * 20 / 100)) * 1.1 * 0.1;
	} else {
		var rankGain = numhits * Math.floor(((rank - 1) / 20 + 0.3) * ((strength / 10) + 40) * (1 + weapon * 20 / 100)) * 0.1;
	}
	
	var dLeft = Math.ceil(rankleft / rankGain) - 1;
	
	var nextDayStrength = strength;
	if (natenemy) {
		var nenemy = 1;
	} else {
		var nenemy = 0;
	}
	var dayGet = 0;
	var rPointsNeeded = rankleft;
	var lastHitsNeeded;
	
	for (var x = 0; x <= dLeft; x++) {
		if (x > 0) {
			nextDayStrength += 6 + (5 * (parseFloat(booster) / 100)) + (5 * (parseFloat(friends) * 0.1)) + (5 * (nenemy / 10));
		}
		
		if (natenemy) {
			rankGain = numhits * Math.floor(((rank - 1) / 20 + 0.3) * ((nextDayStrength / 10) + 40) * (1 + weapon * 20 / 100)) * 1.1 * 0.1;
		} else {
			rankGain = numhits * Math.floor(((rank - 1) / 20 + 0.3) * ((nextDayStrength / 10) + 40) * (1 + weapon * 20 / 100)) * 0.1;
		}
		
		if (rankGain > rPointsNeeded) {
			if (natenemy) {
				lastHitsNeeded = Math.ceil(rPointsNeeded / (Math.floor(((rank - 1) / 20 + 0.3) * ((nextDayStrength / 10) + 40) * (1 + weapon * 20 / 100)) * 1.1 * 0.1));
				dayGet = x;
				break;
			} else {
				lastHitsNeeded = Math.ceil(rPointsNeeded / (Math.floor(((rank - 1) / 20 + 0.3) * ((nextDayStrength / 10) + 40) * (1 + weapon * 20 / 100)) * 0.1));
				dayGet = x;
				break;
			}
		} else {
			rPointsNeeded = rPointsNeeded - rankGain;
		}
	}
	
	var hitsNeeded = dayGet * numhits + lastHitsNeeded;
	
	return [dayGet, hitsNeeded];
}

function improveProfile() {
	if (eRAopt['profile'] == false) {
		return;
	}
	
	$('.citizen_military:eq(1)').after('<div class="clear"></div>' +
									   '<h3 style="margin-bottom: 0px">超級戰士章計算器</h3>' +
									   
									   '<div style="line-height: 44px; color: #666666; float: left; font-size: 11px; margin-left: 10px;">加速器</div>' +
									   '<div class="influValueHolder"><select id="strBooster" name="strBooster" class="influValue" style="text-align: left; width: 60px; margin-left: 4px; height: 24px; padding-left: 2px;"><option value="10" selected="selected" style="padding: 4px;">10%</option><option value="50" style="padding: 4px;">50%</option><option value="100" style="padding: 4px;">100%</option><option value="200" style="padding: 4px;">200%</option></select></div>' +
									   
									   '<div style="line-height: 44px; color: #666666; float: left; font-size: 11px; margin-left: 10px;">下線</div>' +
									   '<div class="influValueHolder"><select id="strFriends" name="strFriends" class="influValue" style="text-align: left; width: 50px; margin-left: 4px; height: 24px; padding-left: 4px;"><option value="0" selected="selected" style="padding: 4px;">0</option><option value="1" style="padding: 4px;">1</option><option value="2" style="padding: 4px;">2</option></select></div>' +
									   
									   '<div style="line-height: 44px; color: #666666; float: left; font-size: 11px; margin-left: 10px;">天敵</div>' +
									   '<div class="influNaturalHolder"><input type="checkbox" id="strNatural" class="influCheckbox"></div>' +
									   
									   '<div id="daysLeft" style="line-height: 44px; color: #666666; float: right; font-size: 11px; margin-right: 5px;">下一個獎章於 0 天內 (0.00 Gold)</div>');
	
	var currentStr = $('.citizen_military:eq(0) h4').text().replace(/,/gi, '').replace(/^\s+|\s+$/g, '');
	var nextStr = $('.citizen_military:eq(0) .stat strong:eq(0)').text().split(' / ')[1].replace(/,/gi, '');
	var boosterStr = $('#strBooster').val();
	var friendsStr = $('#strFriends').val();
	var naturalStr = $('#strNatural').attr('checked');
	
	var boosterCost = {'10':'0', '50':'0.19', '100':'1.49', '200':'1.79'};
	
	var daysLeft = calcTraining(currentStr, nextStr, boosterStr, friendsStr, naturalStr);
	var trainCost = mathRound(parseFloat(boosterCost[boosterStr]) * daysLeft, 2).toFixed(2);
	
	$('#daysLeft').html('下一個獎章於 ' + daysLeft + ' 天後 (' + trainCost + ' Gold)');
	
	$('#strBooster').change(function() {
		boosterStr = $(this).val();
		friendsStr = $('#strFriends').val();
		naturalStr = $('#strNatural').attr('checked');
		
		daysLeft = calcTraining(currentStr, nextStr, boosterStr, friendsStr, naturalStr);
		trainCost = mathRound(parseFloat(boosterCost[boosterStr]) * daysLeft, 2).toFixed(2);
		
		$('#daysLeft').html('下一個獎章於 ' + daysLeft + ' 天後 (' + trainCost + ' Gold)');
	});
	
	$('#strFriends').change(function() {
		boosterStr = $('#strBooster').val();
		friendsStr = $(this).val();
		naturalStr = $('#strNatural').attr('checked');
		
		daysLeft = calcTraining(currentStr, nextStr, boosterStr, friendsStr, naturalStr);
		trainCost = mathRound(parseFloat(boosterCost[boosterStr]) * daysLeft, 2).toFixed(2);
		
		$('#daysLeft').html('下一個獎章於 ' + daysLeft + ' 天後 (' + trainCost + ' Gold)');
	});
	
	$('#strNatural').change(function() {
		boosterStr = $('#strBooster').val();
		friendsStr = $('#strFriends').val();
		naturalStr = $(this).attr('checked');
		
		daysLeft = calcTraining(currentStr, nextStr, boosterStr, friendsStr, naturalStr);
		trainCost = mathRound(parseFloat(boosterCost[boosterStr]) * daysLeft, 2).toFixed(2);
		
		$('#daysLeft').html('下一個獎章於 ' + daysLeft + ' days (' + trainCost + ' Gold)');
	});
	
	var citizenStrength = parseFloat($('.citizen_military:eq(0) h4').text().replace(/,/gi, '').replace(/^\s+|\s+$/g, ''));
	var currentRank = parseFloat($('.citizen_military:eq(1) .stat small:eq(1) strong').html().split(' / ')[0].replace(/,/gi, ''));
	var nextRank = parseFloat($('.citizen_military:eq(1) .stat small:eq(1) strong').html().split(' / ')[1].replace(/,/gi, ''));
	var citizenRank = rank_id[$('.citizen_military:eq(1) h4 a').text().replace(' *', '*').replace(/^\s+|\s+$/g, '').toLowerCase()];
	
	var rankPointsLeft = nextRank - currentRank;
	
	var totalInf0 = calcInflu(citizenRank, citizenStrength, 0);
	var totalInf1 = calcInflu(citizenRank, citizenStrength, 20);
	var totalInf2 = calcInflu(citizenRank, citizenStrength, 40);
	var totalInf3 = calcInflu(citizenRank, citizenStrength, 60);
	var totalInf4 = calcInflu(citizenRank, citizenStrength, 80);
	var totalInf5 = calcInflu(citizenRank, citizenStrength, 100);
	
	$('#daysLeft').after('<div class="clear"></div>' +
							'<h3 style="margin-bottom: 0px; margin-top: 15px;">軍階計算器</h3>' +
							
							'<div style="line-height: 44px; color: #666666; float: left; font-size: 11px; margin-left: 10px;">攻擊次數 / 天</div>' +
							'<div class="influValueHolder"><input type="text" id="rankHits" value="1" class="influValue"></div>' +
							
							'<div style="line-height: 44px; color: #666666; float: left; font-size: 11px;">武器</div>' +
							'<div class="influValueHolder"><select id="rankWeapon" name="rankWeapon" class="influValue" style="text-align: left; width: 50px; margin-left: 4px; height: 24px; padding-left: 4px;"><option value="0" selected="selected" style="padding: 4px;">Q0</option><option value="1" style="padding: 4px;">Q1</option><option value="2" style="padding: 4px;">Q2</option><option value="3" style="padding: 4px;">Q3</option><option value="4" style="padding: 4px;">Q4</option><option value="5" style="padding: 4px;">Q5</option></select></div>' +
							
							'<div style="line-height: 44px; color: #666666; float: left; font-size: 11px;">加速器</div>' +
							'<div class="influValueHolder"><select id="rankBooster" name="rankBooster" class="influValue" style="text-align: left; width: 60px; margin-left: 4px; height: 24px; padding-left: 2px;"><option value="10" selected="selected" style="padding: 4px;">10%</option><option value="50" style="padding: 4px;">50%</option><option value="100" style="padding: 4px;">100%</option><option value="200" style="padding: 4px;">200%</option></select></div>' +
							
							'<div style="line-height: 44px; color: #666666; float: left; font-size: 11px;">下線</div>' +
							'<div id="rankFriendsHolder" class="influValueHolder"><select id="rankFriends" name="rankFriends" class="influValue" style="text-align: left; width: 50px; margin-left: 4px; height: 24px; padding-left: 4px;"><option value="0" selected="selected" style="padding: 4px;">0</option><option value="1" style="padding: 4px;">1</option><option value="2" style="padding: 4px;">2</option></select></div>' +
							
							'<div style="line-height: 44px; color: #666666; float: left; font-size: 11px;">天敵</div>' +
							'<div class="influNaturalHolder"><input type="checkbox" id="rankNatural" class="influCheckbox"></div>' +
							
							'<div id="rankDaysLeft" style="line-height: 44px; color: #666666; float: right; font-size: 11px; margin-right: 5px;">距離0天提升至下一個軍階。 需要攻擊0次。 訓練花費 0.00 Gold</div>');
	
	var rankBooster = $('#rankBooster').val();
	var rankFriends = $('#rankFriends').val();
	
	var rankDays = calcRank(rankPointsLeft, citizenRank, citizenStrength, 1, false, 0, rankBooster, rankFriends);
	
	if (rankDays[0] == 0) {
		$('#rankDaysLeft').html('今天升軍階還需要打 ' + rankDays[1] + ' 下。 訓練花費 ' + mathRound(parseFloat(boosterCost[rankBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
	} else {
		$('#rankDaysLeft').html('升級至下一個軍階要 ' + rankDays[0] + ' 天後。 需攻擊 ' + rankDays[1] + '次。 訓練花費 ' + mathRound(parseFloat(boosterCost[rankBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
	}
	
	$('#rankWeapon').change(function() {
		var nHits = parseFloat($('#rankHits').val());
		if (isNaN(nHits) || nHits == '') {
			nHits = 1;
		}
		var cStatus = $('#rankNatural').attr('checked');
		var rWeapon = parseFloat($(this).val());
		var rBooster = $('#rankBooster').val();
		var rFriends = $('#rankFriends').val();
		
		var rankDays = calcRank(rankPointsLeft, citizenRank, citizenStrength, nHits, cStatus, rWeapon, rBooster, rFriends);
		
		if (rankDays[0] == 0) {
			$('#rankDaysLeft').html('今天升軍階還需要打 ' + rankDays[1] + '下。 訓練花費 ' + mathRound(parseFloat(boosterCost[rBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
		} else {
			$('#rankDaysLeft').html('升級至下一個軍階要 ' + rankDays[0] + ' 天後。 需攻擊 ' + rankDays[1] + '次。 訓練花費 ' + mathRound(parseFloat(boosterCost[rBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
		}
	});
	
	$('#rankNatural').change(function() {
		var nHits = parseFloat($('#rankHits').val());
		if (isNaN(nHits) || nHits == '') {
			nHits = 1;
		}
		var cStatus = $(this).attr('checked');
		var rWeapon = parseFloat($('#rankWeapon').val());
		var rBooster = $('#rankBooster').val();
		var rFriends = $('#rankFriends').val();
		
		var rankDays = calcRank(rankPointsLeft, citizenRank, citizenStrength, nHits, cStatus, rWeapon, rBooster, rFriends);
		
		if (rankDays[0] == 0) {
			$('#rankDaysLeft').html('今天升軍階還需要打 ' + rankDays[1] + '下。 訓練花費 ' + mathRound(parseFloat(boosterCost[rBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
		} else {
			$('#rankDaysLeft').html('升級至下一個軍階要 ' + rankDays[0] + ' 天後。 需攻擊 ' + rankDays[1] + '次。 訓練花費 ' + mathRound(parseFloat(boosterCost[rBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
		}
	});
	
	$('#rankHits').live('keyup', function() {
		var nHits = parseFloat($(this).val());
		if (isNaN(nHits) || nHits == '') {
			nHits = 1;
		}
		var cStatus = $('#rankNatural').attr('checked');
		var rWeapon = parseFloat($('#rankWeapon').val());
		var rBooster = $('#rankBooster').val();
		var rFriends = $('#rankFriends').val();
		
		var rankDays = calcRank(rankPointsLeft, citizenRank, citizenStrength, nHits, cStatus, rWeapon, rBooster, rFriends);
		
		if (rankDays[0] == 0) {
			$('#rankDaysLeft').html('今天升軍階還需要打 ' + rankDays[1] + '下。 訓練花費 ' + mathRound(parseFloat(boosterCost[rBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
		} else {
			$('#rankDaysLeft').html('升級至下一個軍階要 ' + rankDays[0] + ' 天後。 需攻擊 ' + rankDays[1] + '次。 訓練花費 ' + mathRound(parseFloat(boosterCost[rBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
		}
	});
	
	$('#rankBooster').change(function() {
		var nHits = parseFloat($('#rankHits').val());
		if (isNaN(nHits) || nHits == '') {
			nHits = 1;
		}
		var cStatus = $('#rankNatural').attr('checked');
		var rWeapon = parseFloat($('#rankWeapon').val());
		var rBooster = $(this).val();
		var rFriends = $('#rankFriends').val();
		
		var rankDays = calcRank(rankPointsLeft, citizenRank, citizenStrength, nHits, cStatus, rWeapon, rBooster, rFriends);
		
		if (rankDays[0] == 0) {
			$('#rankDaysLeft').html('今天升軍階還需要打 ' + rankDays[1] + '下。 訓練花費 ' + mathRound(parseFloat(boosterCost[rBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
		} else {
			$('#rankDaysLeft').html('升級至下一個軍階要 ' + rankDays[0] + ' 天後。 需攻擊 ' + rankDays[1] + '下。 訓練花費 ' + mathRound(parseFloat(boosterCost[rBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
		}
	});
	
	$('#rankFriends').change(function() {
		var nHits = parseFloat($('#rankHits').val());
		if (isNaN(nHits) || nHits == '') {
			nHits = 1;
		}
		var cStatus = $('#rankNatural').attr('checked');
		var rWeapon = parseFloat($('#rankWeapon').val());
		var rBooster = $('#rankBooster').val();
		var rFriends = $(this).val();
		
		var rankDays = calcRank(rankPointsLeft, citizenRank, citizenStrength, nHits, cStatus, rWeapon, rBooster, rFriends);
		
		if (rankDays[0] == 0) {
			$('#rankDaysLeft').html('今天升軍階還需要打 ' + rankDays[1] + '下。 訓練花費 ' + mathRound(parseFloat(boosterCost[rBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
		} else {
			$('#rankDaysLeft').html('升級至下一個軍階要 ' + rankDays[0] + ' 天後。 需攻擊 ' + rankDays[1] + '下。 訓練花費 ' + mathRound(parseFloat(boosterCost[rBooster]) * rankDays[0], 2).toFixed(2) + ' Gold');
		}
	});
	
	$('#rankDaysLeft').after('<div class="clear"></div>' +
										'<h3 style="margin-bottom: 0px; margin-top: 15px;">影響力計算</h3>' +
										
										'<div style="line-height: 44px; color: #666666; float: left; font-size: 11px; margin-left: 10px;">攻擊次數</div>' +
										'<div class="influValueHolder"><input type="text" id="influValue" value="1" class="influValue"></div>' +
										'<div style="line-height: 44px; color: #666666; float: left; font-size: 11px; margin-left: 10px;">天敵</div>' +
										'<div class="influNaturalHolder"><input type="checkbox" id="influNatural" class="influCheckbox"></div>' +
										
										'<div style="line-height: 44px; color: #666666; float: right; font-size: 11px; margin-right: 5px;">Gold</div>' +
										'<div class="influGoldHolder"><input type="text" id="influGoldValue" value="0.00" class="influValue"></div>' +
										'<div style="margin-top: 15px; color: #666666; float: right; font-size: 11px; margin-left: 3px; margin-right: 5px;">體力包花費\'s' +
										'<div id="influNote" style="line-height: 9px; color: #bbbbbb; font-size: 9px; text-align: center;">(Based on 37 ff hits)</div></div>' +
										
										'<div id="influResults" class="citizen_military">' +
											'<table class="influTable">' +
												'<tr>' +
													'<td class="influImageCell" style="width: 46px;"><img class="influImage" src="http://www.erepublik.com/images/icons/industry/2/q1.png" style="opacity: 0.3; margin-left: 6px;"></td>' +
													'<td id="influValueCell_0" class="influValueCell">' + totalInf0 + '</td>' +
													'<td class="influImageCell"><img class="influImage" src="http://www.erepublik.com/images/icons/industry/2/q1.png"></td>' +
													'<td id="influValueCell_1" class="influValueCell">' + totalInf1 + '</td>' +
													'<td class="influImageCell"><img class="influImage" src="http://www.erepublik.com/images/icons/industry/2/q2.png"></td>' +
													'<td id="influValueCell_2" class="influValueCell">' + totalInf2 + '</td>' +
													'<td class="influImageCell"><img class="influImage" src="http://www.erepublik.com/images/icons/industry/2/q3.png"></td>' +
													'<td id="influValueCell_3" class="influValueCell">' + totalInf3 + '</td>' +
													'<td class="influImageCell"><img class="influImage" src="http://www.erepublik.com/images/icons/industry/2/q4.png"></td>' +
													'<td id="influValueCell_4" class="influValueCell">' + totalInf4 + '</td>' +
													'<td class="influImageCell"><img class="influImage" src="http://www.erepublik.com/images/icons/industry/2/q5.png"></td>' +
													'<td id="influValueCell_5" class="influValueCell">' + totalInf5 + '</td>' +
												'</tr>' +
											'</table>' +
										'</div>');
	
	$('#influNatural').change(function() {
		var numHits = parseFloat($('#influValue').val());
		if (isNaN(numHits) || numHits == '') {
			numHits = 1;
		}
		var checkStatus = $(this).attr('checked');
		if (checkStatus == true) {
			$('#influValueCell_0').text(mathRound(totalInf0 * numHits * 1.1, 0));
			$('#influValueCell_1').text(mathRound(totalInf1 * numHits * 1.1, 0));
			$('#influValueCell_2').text(mathRound(totalInf2 * numHits * 1.1, 0));
			$('#influValueCell_3').text(mathRound(totalInf3 * numHits * 1.1, 0));
			$('#influValueCell_4').text(mathRound(totalInf4 * numHits * 1.1, 0));
			$('#influValueCell_5').text(mathRound(totalInf5 * numHits * 1.1, 0));
		} else {
			$('#influValueCell_0').text(totalInf0 * numHits);
			$('#influValueCell_1').text(totalInf1 * numHits);
			$('#influValueCell_2').text(totalInf2 * numHits);
			$('#influValueCell_3').text(totalInf3 * numHits);
			$('#influValueCell_4').text(totalInf4 * numHits);
			$('#influValueCell_5').text(totalInf5 * numHits);
		}
	});
	
	$('#influValue').live('keyup', function() {
		var numHits = parseFloat($(this).val());
		if (isNaN(numHits) || numHits == '') {
			numHits = 1;
		}
		var checkStatus = $('#influNatural').attr('checked');
		if (checkStatus == true) {
			$('#influValueCell_0').text(mathRound(totalInf0 * numHits * 1.1, 0));
			$('#influValueCell_1').text(mathRound(totalInf1 * numHits * 1.1, 0));
			$('#influValueCell_2').text(mathRound(totalInf2 * numHits * 1.1, 0));
			$('#influValueCell_3').text(mathRound(totalInf3 * numHits * 1.1, 0));
			$('#influValueCell_4').text(mathRound(totalInf4 * numHits * 1.1, 0));
			$('#influValueCell_5').text(mathRound(totalInf5 * numHits * 1.1, 0));
		} else {
			$('#influValueCell_0').text(totalInf0 * numHits);
			$('#influValueCell_1').text(totalInf1 * numHits);
			$('#influValueCell_2').text(totalInf2 * numHits);
			$('#influValueCell_3').text(totalInf3 * numHits);
			$('#influValueCell_4').text(totalInf4 * numHits);
			$('#influValueCell_5').text(totalInf5 * numHits);
		}
		
		if (numHits > 37) {
			$('#influGoldValue').val(mathRound((numHits - 37) * 0.5, 2).toFixed(2));
		} else {
			$('#influGoldValue').val('0.00');
		}
	});
	
	$('#influGoldValue').live('keyup', function() {
		if (isNaN($(this).val()) || $(this).val() == '') {
			$(this).val('0.00')
		}
		
		var numHits = 1;
		if (mathRound($(this).val(), 2) > 0.49) {
			numHits = Math.floor(parseFloat($(this).val()) / 0.5 + 37);
		}
		if (isNaN(numHits) || numHits == '') {
			numHits = 1;
		}
		var checkStatus = $('#influNatural').attr('checked');
		if (checkStatus == true) {
			$('#influValueCell_0').text(mathRound(totalInf0 * numHits * 1.1, 0));
			$('#influValueCell_1').text(mathRound(totalInf1 * numHits * 1.1, 0));
			$('#influValueCell_2').text(mathRound(totalInf2 * numHits * 1.1, 0));
			$('#influValueCell_3').text(mathRound(totalInf3 * numHits * 1.1, 0));
			$('#influValueCell_4').text(mathRound(totalInf4 * numHits * 1.1, 0));
			$('#influValueCell_5').text(mathRound(totalInf5 * numHits * 1.1, 0));
		} else {
			$('#influValueCell_0').text(totalInf0 * numHits);
			$('#influValueCell_1').text(totalInf1 * numHits);
			$('#influValueCell_2').text(totalInf2 * numHits);
			$('#influValueCell_3').text(totalInf3 * numHits);
			$('#influValueCell_4').text(totalInf4 * numHits);
			$('#influValueCell_5').text(totalInf5 * numHits);
		}
		
		$('#influValue').val(numHits);
	});
	
	$('#influGoldValue').live('focusout', function() {
		if (isNaN($(this).val()) || $(this).val() == '') {
			$(this).val('0.00')
		}
		$(this).val(mathRound($(this).val(), 2).toFixed(2))
	});
	
	if(document.userid == window.location.href.split('/')[6]) {
		var eToday = parseFloat($('.eday strong').html().replace(/,/gi, ''));
		var hitsTotal = 0;
		var killsTotal = 0;
		var influTotal = 0;
		var rankTotal = 0;
		readSettings('influence');
		
		if (eRAinflu[eToday] == undefined) {
			eRAinflu[eToday] = {};
			eRAinflu[eToday]['Hits'] = 0;
			eRAinflu[eToday]['Kills'] = 0;
			eRAinflu[eToday]['Influence'] = 0;
		}
		
		if (parseFloat(eRAinflu[eToday]['Influence']) != 0 && parseFloat(eRAinflu[eToday]['Influence']) != undefined) {
			var avHit = mathRound(parseFloat(eRAinflu[eToday]['Influence']) / parseFloat(eRAinflu[eToday]['Hits']), 0).toFixed(0);
		} else {
			var avHit = 0;
		}
		
		var influRow0 = '<tr class="current">' +
							'<td style="color: #666666; font-size: 11px; width: 230px; padding-left: 10px;">' + eToday + '</td>' +
							'<td style="color: #666666; font-size: 11px; width: 50px;">' + eRAinflu[eToday]['Hits'] + '</td>' +
							'<td style="color: #666666; font-size: 11px; width: 50px;">' + eRAinflu[eToday]['Kills'] + '</td>' +
							'<td style="color: #666666; font-size: 11px; width: 70px;">' + eRAinflu[eToday]['Influence'] + '</td>' +
							'<td style="color: #666666; font-size: 11px; width: 50px;">' + mathRound(parseFloat(eRAinflu[eToday]['Influence']) * 0.1, 0).toFixed(0) + '</td>' +
							'<td style="color: #666666; font-size: 11px; width: 50px;">' + avHit + '</td>' +
						'</tr>';
		
		var influ0 = eRAinflu[eToday]['Influence'];
		var influ1 = eRAinflu[eToday - 1]['Influence'];
		var influ2 = eRAinflu[eToday - 2]['Influence'];
		var influ3 = eRAinflu[eToday - 3]['Influence'];
		var influ4 = eRAinflu[eToday - 4]['Influence'];
		var influ5 = eRAinflu[eToday - 5]['Influence'];
		var influ6 = eRAinflu[eToday - 6]['Influence'];
		var influ7 = eRAinflu[eToday - 7]['Influence'];
		var influ8 = eRAinflu[eToday - 8]['Influence'];
		var influ9 = eRAinflu[eToday - 9]['Influence'];
		
		var influArray = [influ0, influ1, influ2, influ3, influ4, influ5, influ6, influ7, influ8, influ9];
		
		var min_value = parseFloat(influ0);
		for(var i = 0; i < influArray.length; i++) {
			if(parseFloat(influArray[i]) <= min_value) {
				min_value = parseFloat(influArray[i]);
			}
		}
		
		if (min_value > 0) {
			min_value = (Math.floor(min_value * 0.95 / 1000) * 1000).toFixed(0);
		}
		
		influ0 = parseFloat(influ0) - min_value;
		influ1 = parseFloat(influ1) - min_value;
		influ2 = parseFloat(influ2) - min_value;
		influ3 = parseFloat(influ3) - min_value;
		influ4 = parseFloat(influ4) - min_value;
		influ5 = parseFloat(influ5) - min_value;
		influ6 = parseFloat(influ6) - min_value;
		influ7 = parseFloat(influ7) - min_value;
		influ8 = parseFloat(influ8) - min_value;
		influ9 = parseFloat(influ9) - min_value;
		
		influArray = [influ0, influ1, influ2, influ3, influ4, influ5, influ6, influ7, influ8, influ9];
		
		var max_value = parseFloat(influ0);
		for(var i = 0; i < influArray.length; i++) {
			if (parseFloat(influArray[i]) >= max_value) {
				max_value = parseFloat(influArray[i]);
			}
		}
		
		if (max_value > 0) {
			max_value = (Math.floor(max_value * 1.2 / 1000) * 1000).toFixed(0);
		}
		
		influ0 = mathRound((influ0 / max_value) * 100, 0).toFixed(0);
		influ1 = mathRound((influ1 / max_value) * 100, 0).toFixed(0);
		influ2 = mathRound((influ2 / max_value) * 100, 0).toFixed(0);
		influ3 = mathRound((influ3 / max_value) * 100, 0).toFixed(0);
		influ4 = mathRound((influ4 / max_value) * 100, 0).toFixed(0);
		influ5 = mathRound((influ5 / max_value) * 100, 0).toFixed(0);
		influ6 = mathRound((influ6 / max_value) * 100, 0).toFixed(0);
		influ7 = mathRound((influ7 / max_value) * 100, 0).toFixed(0);
		influ8 = mathRound((influ8 / max_value) * 100, 0).toFixed(0);
		influ9 = mathRound((influ9 / max_value) * 100, 0).toFixed(0);
		
		var mInflu0 = eRAinflu[eToday]['Influence'];
		var mInflu1 = eRAinflu[eToday - 1]['Influence'];
		var mInflu2 = eRAinflu[eToday - 2]['Influence'];
		var mInflu3 = eRAinflu[eToday - 3]['Influence'];
		var mInflu4 = eRAinflu[eToday - 4]['Influence'];
		var mInflu5 = eRAinflu[eToday - 5]['Influence'];
		var mInflu6 = eRAinflu[eToday - 6]['Influence'];
		var mInflu7 = eRAinflu[eToday - 7]['Influence'];
		var mInflu8 = eRAinflu[eToday - 8]['Influence'];
		var mInflu9 = eRAinflu[eToday - 9]['Influence'];
		
		influArray = [mInflu0, mInflu1, mInflu2, mInflu3, mInflu4, mInflu5, mInflu6, mInflu7, mInflu8, mInflu9];
		
		var max_value = parseFloat(mInflu0);
		for(var i = 0; i < influArray.length; i++) {
			if(parseFloat(influArray[i]) >= max_value) {
				max_value = parseFloat(influArray[i]);
			}
		}
		
		if (max_value > 0) {
			max_value = (Math.floor(max_value * 1.2 / 1000) * 1000).toFixed(0);
		}
		
		var tInflu0 = eRAinflu[eToday]['Influence'];
		var tInflu1 = eRAinflu[eToday - 1]['Influence'];
		var tInflu2 = eRAinflu[eToday - 2]['Influence'];
		var tInflu3 = eRAinflu[eToday - 3]['Influence'];
		var tInflu4 = eRAinflu[eToday - 4]['Influence'];
		var tInflu5 = eRAinflu[eToday - 5]['Influence'];
		var tInflu6 = eRAinflu[eToday - 6]['Influence'];
		var tInflu7 = eRAinflu[eToday - 7]['Influence'];
		var tInflu8 = eRAinflu[eToday - 8]['Influence'];
		var tInflu9 = eRAinflu[eToday - 9]['Influence'];
		
		$('#influResults').after('<div class="clear"></div>' +
								 '<h3>已輸出影響力</h3>' +
								  '<table id="influTable" border="0" width="100%" class="details">' +
										'<thead>' +
											'<tr>' +
												'<th style="padding-left: 10px;">eDay</th>' +
												'<th>攻擊數 </th>' +
												'<th>殺敵數</th>' +
												'<th>影響力</th>' +
												'<th>軍階</th>' +
												'<th>平均影響力</th>' +
											'</tr>' +
										'</thead>' +
										'<tbody>' +
											influRow0 +  			
										'</tbody>' +
									'</table>' +
									'<div class="clear"></div>' +
									'<div id="influChart">' +
										'<img src="http://chart.googleapis.com/chart?cht=lc&chs=504x100&chd=t:' + influ9 + ',' + influ8 + ',' + influ7 + ',' + influ6 + ',' + influ5 + ',' + influ4 + ',' + influ3 + ',' + influ2 + ',' + influ1 + ',' + influ0 + '&chco=999999&chf=c,s,fafcf7&chxs=0,999999,10,0,lt,999999,e4fad3|1,999999,10,0,lt,999999,e4fad3&chm=t' + tInflu9 + ',999999,0,0,9,,hv|t' + tInflu8 + ',999999,0,1,9,,hv|t' + tInflu7 + ',999999,0,2,9,,hv|t' + tInflu6 + ',999999,0,3,9,,hv|t' + tInflu5 + ',999999,0,4,9,,hv|t' + tInflu4 + ',999999,0,5,9,,hv|t' + tInflu3 + ',999999,0,6,9,,hv|t' + tInflu2 + ',999999,0,7,9,,hv|t' + tInflu1 + ',999999,0,8,9,,hv|t' + tInflu0 + ',999999,0,9,9,,hv|o,999999,0,-1,4&chxt=x,y&chxl=0:|' + parseFloat(eToday - 9) + '|' + parseFloat(eToday - 8) + '|' + parseFloat(eToday - 7) + '|' + parseFloat(eToday - 6) + '|' + parseFloat(eToday - 5) + '|' + parseFloat(eToday - 4) + '|' + parseFloat(eToday - 3) + '|' + parseFloat(eToday - 2) + '|' + parseFloat(eToday - 1) + '|' + parseFloat(eToday) + '|1:|' + mathRound(min_value, 0).toFixed(0) + '|' + mathRound(max_value, 0).toFixed(0) + '" style="float: left; border: 1px solid #e4fad3; padding: 15px 2px 2px; border-radius: 5px 5px 5px 5px;">' +
									'</div>');
		
		hitsTotal += parseFloat(eRAinflu[eToday]['Hits']);
		killsTotal += parseFloat(eRAinflu[eToday]['Kills']);
		influTotal += parseFloat(eRAinflu[eToday]['Influence']);
		rankTotal += parseFloat(eRAinflu[eToday]['Influence']) * 0.1;
		
		var influRow1 = ''
		
		for (var i = 1; i < 5; i++) {
			var cDay = eToday - i;
			
			if (eRAinflu[cDay] == undefined) {
				eRAinflu[cDay] = {};
				eRAinflu[cDay]['Hits'] = 0;
				eRAinflu[cDay]['Kills'] = 0;
				eRAinflu[cDay]['Influence'] = 0;
			}
			
			if (parseFloat(eRAinflu[cDay]['Influence']) != 0 && parseFloat(eRAinflu[cDay]['Influence']) != undefined) {
				var avHitB = mathRound(parseFloat(eRAinflu[cDay]['Influence']) / parseFloat(eRAinflu[cDay]['Hits']), 0).toFixed(0);
			} else {
				var avHitB = 0;
			}
			
			influRow1 += '<tr class="current">' +
								'<td style="color: #999999; font-size: 11px; width: 230px; padding-left: 10px;">' + cDay + '</td>' +
								'<td style="color: #999999; font-size: 11px;">' + eRAinflu[cDay]['Hits'] + '</td>' +
								'<td style="color: #999999; font-size: 11px;">' + eRAinflu[cDay]['Kills'] + '</td>' +
								'<td style="color: #999999; font-size: 11px; width: 70px;">' + eRAinflu[cDay]['Influence'] + '</td>' +
								'<td style="color: #999999; font-size: 11px; width: 50px;">' + mathRound(parseFloat(eRAinflu[cDay]['Influence']) * 0.1, 0).toFixed(0) + '</td>' +
								'<td style="color: #999999; font-size: 11px; width: 50px;">' + avHitB + '</td>' +
							'</tr>';
			
			hitsTotal += parseFloat(eRAinflu[cDay]['Hits']);
			killsTotal += parseFloat(eRAinflu[cDay]['Kills']);
			influTotal += parseFloat(eRAinflu[cDay]['Influence']);
			rankTotal += parseFloat(eRAinflu[cDay]['Influence']) * 0.1;
		}
		
		influRow1 += '<tr class="current" style="font-weight: bold;">' +
						'<td style="color: #999999; font-size: 11px; width: 230px; padding-right: 30px; text-align: right;">總共</td>' +
						'<td style="color: #999999; font-size: 11px;">' + hitsTotal + '</td>' +
						'<td style="color: #999999; font-size: 11px;">' + killsTotal + '</td>' +
						'<td style="color: #999999; font-size: 11px; width: 70px;">' + influTotal + '</td>' +
						'<td style="color: #999999; font-size: 11px; width: 50px;">' + mathRound(rankTotal, 0).toFixed(0) + '</td>' +
						'<td style="color: #999999; font-size: 11px; width: 50px;">&nbsp;</td>' +
					'</tr>' +
					'<tr class="current" style="font-weight: bold;">' +
						'<td style="color: #999999; font-size: 11px; width: 230px; padding-right: 30px; text-align: right;">平均</td>' +
						'<td style="color: #999999; font-size: 11px;">' + mathRound(hitsTotal / 5, 0).toFixed(0) + '</td>' +
						'<td style="color: #999999; font-size: 11px;">' + mathRound(killsTotal / 5, 0).toFixed(0) + '</td>' +
						'<td style="color: #999999; font-size: 11px; width: 70px;">' + mathRound(influTotal / 5, 0).toFixed(0) + '</td>' +
						'<td style="color: #999999; font-size: 11px; width: 50px;">' + mathRound(rankTotal / 5, 0).toFixed(0) + '</td>' +
						'<td style="color: #999999; font-size: 11px; width: 50px;">&nbsp;</td>' +
					'</tr>';
		
		$('#influTable > tbody:last').append(influRow1);
	}
	
	fixAvatar();
}

function fixAvatar() {
	var avatarLink = extractUrl($('.citizen_avatar').css('background-image')).split('_')[0] + '.jpg';
	$('.citizen_avatar').wrap('<a href="' + avatarLink + '" target="_blank" />');
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Logout button ----------------------------------------------------------------------------------------------------
function changeLogout() {
	if (eRAopt['logout'] == false) {
		return;
	}
	
	$('a[class*="logout"]').removeClass('logout').addClass('newLogout');
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Work -------------------------------------------------------------------------------------------------------------
function improveWork() {
	if (window.location.href.split('/')[5] == 'results') {
		return;
	}
	
	var barWidth = $('.skill_tracker .tracks .progress').css('width').split('px')[0];//489
	
	if(barWidth > 489) {
		$('.skill_tracker .tracks .progress').css('width', '489px');
	}
}
// ---------------------------------------------------------------------------------------------------------------------

// -- News Categories --------------------------------------------------------------------------------------------------
function newsCategories() {
	if ($('#news').html() == undefined) {
		return;
	}
	
	if (eRAopt['removecat'] == true) {
		$('#news').remove();
		return;
	}
	
	if (eRAopt['categories'] == false) {
		return;
	}
	
	var countryName = $('.user_country img').attr('src').split('/')[4].split('.')[0];
	
	$('#articles div:eq(0)').append('<a class="mbutton" href="/' + document.language + '/news/rated/all">' +
										'<img alt="" src="' + topRatedCat + '">' +
										'<span>熱門新聞</span>' +
									'</a>' +
									'<a class="mbutton" href="/' + document.language + '/news/latest/all/' + countryName + '/1">' +
										'<img alt="" src="' + latestCat + '">' +
										'<span>最新報紙</span>' +
									'</a>' +
									'<a class="mbutton" href="/' + document.language + '/news/international">' +
										'<img alt="" src="' + internationalCat +'">' +
										'<span>國際焦點</span>' +
									'</a>');
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Region Links -----------------------------------------------------------------------------------------------------
function linkRegions() {
	$('#battle_listing li').each(function() {
		var regionName = $(this).find('strong').eq(0).text();
		var regionFullName = findElement(regionName.replace(/\./gi, ''), region_link)
		
		$(this).find('strong').eq(0).html('<a class="regionLink" title="' + regionFullName + '" href="http://www.erepublik.com/' + document.language + '/region/' + region_link[regionFullName] + '" target="_blank">' + regionName + '</a>');
	});
}

function linksOnShow() {
    var regionName = $('[class="listing resistance"] strong').text();
    var regionFullName = findElement(regionName.replace(/\./gi, ''), region_link);

    $('[class="listing resistance"] strong').html('<a style="color: #0084C0;" title="' + regionFullName + '" href="http://www.erepublik.com/' + document.language + '/region/' + region_link[regionFullName] + '" target="_blank">' + regionName + '</a>');
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Natural enemy ----------------------------------------------------------------------------------------------------
var neCountry;

function getNaturalEnemy() {
	readSettings('natural');
	readSettings('time');
	readSettings('data');
	
	var userCountry = id_country[fixString2(eRAdata['citizenMain'])];
	var currentTime = new Date();
	
	var prepared = new Array();
	
	function run(variable) {
		prepared[variable] = true;
		
		if (prepared['natural']) {
			changeFlags();
		}
	}
	
	function dataGet() {
		GM_xmlhttpRequest({
			method: 'GET',
			url: 'http://www.erepublik.com/' + document.language + '/country/military/' + userCountry,
			onload: function(response) {
				neCountry = fixString2($(response.responseText).find('.indent:eq(0) .attacker .nameholder a').text());
				
				eRAne = {};
				eRAne['Time'] = currentTime.getTime();
				eRAne['Enemy'] = neCountry;
				writeSettings(document.userid + '.Natural', eRAne);
				
				run('natural');
			}
		});
	}
	
	if (eRAne['Time'] == undefined) {
		eRAne['Time'] = currentTime.getTime();
		writeSettings(document.userid + '.Natural', eRAne);
		
		dataGet();
	} else {
		var currTimeStamp = currentTime.getTime();
		var timeStamp = parseFloat(eRAne['Time']) + 3600000;
		
		if (currTimeStamp >= timeStamp || eRAne['Enemy'] == undefined || eRAne['Enemy'] == '') {
			dataGet();
		} else {
			neCountry = eRAne['Enemy'];
			
			changeFlags();
		}
	}
}

function changeFlags() {
	readSettings('data');
	var userCountry = id_country[fixString2(eRAdata['citizenMain'])];
	$('.side_flags').each(function() {
		var flagName = $(this).attr('title');
		if (flagName == userCountry) {
			$(this).parent().find('img[title*="' + neCountry + '"]').each(function() {
				if ($(this).parent().find('img[class*="resistance_sign"]').attr('title') == undefined) {
					$(this).after('<img alt="" title="Natural enemy" src="' + neIcon + '" style="margin-top: 8px; margin-left: -30px;">');
				}
			});
		}
	});
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Top news ---------------------------------------------------------------------------------------------------------
var localNewsMain;
var interNewsMain;
var latestNewsMain;

function getOldLatest() {
	if (eRAopt['topnews'] == false || $('#battle_listing').html() == undefined || window.location.href.split('/')[5] == 'campaigns') {
		return;
	}
	
	readSettings('newsdata');
	
	var currentTime = new Date();
	var countryName = id_country[fixString2(eRAdata['citizenMain'])];
	//var countryName = $('.user_country img').attr('src').split('/')[4].split('.')[0];
	
	var prepared = new Array();
	
	function run(variable) {
		prepared[variable] = true;
		
		if (prepared['localnews'] && prepared['internews'] && prepared['latestnews']) {
			addOldNews();
		}
	}
	
	function newsGet() {
		if (!prepared['localnews']) {
			GM_xmlhttpRequest({
				method: 'GET',
				url: 'http://www.erepublik.com/' + document.language + '/news/rated/all',
				onload: function(response) {
					localNewsMain = $(response.responseText).find('#content').html();
					
					if ($(localNewsMain).find('.errtxt .title').html() == 'Oops, something went wrong.') {
						newsGet();
					} else {
						eRAoldnews['Local'] = localNewsMain;
						writeSettings(document.userid + '.OldNews', eRAoldnews);
						
						run('localnews');
					}
				}
			});
		}
		
		if (!prepared['internews']) {
			GM_xmlhttpRequest({
				method: 'GET',
				url: 'http://www.erepublik.com/' + document.language + '/news/international',
				onload: function(response) {
					interNewsMain = $(response.responseText).find('#content').html();
					
					if ($(interNewsMain).find('.errtxt .title').html() == 'Oops, something went wrong.') {
						newsGet();
					} else {
						eRAoldnews['International'] = interNewsMain;
						writeSettings(document.userid + '.OldNews', eRAoldnews);
						
						run('internews');
					}
				}
			});
		}
		
		if (!prepared['latestnews']) {
			GM_xmlhttpRequest({
				method: 'GET',
				url: 'http://www.erepublik.com/' + document.language + '/news/latest/all/' + countryName + '/1',
				onload: function(response) {
					latestNewsMain = $(response.responseText).find('#content').html();
					
					if ($(latestNewsMain).find('.errtxt .title').html() == 'Oops, something went wrong.') {
						newsGet();
					} else {
						eRAoldnews['Latest'] = latestNewsMain;
						writeSettings(document.userid + '.OldNews', eRAoldnews);
						
						run('latestnews');
					}
				}
			});
		}
	}
	
	if (eRAoldnews['Time'] == undefined) {
		eRAoldnews = {};
		eRAoldnews['Time'] = currentTime.getTime();
		writeSettings(document.userid + '.OldNews', eRAoldnews);
		
		newsGet();
	} else {
		var currTimeStamp = currentTime.getTime();
		var timeStamp = parseFloat(eRAoldnews['Time']) + 600000;
		
		if (currTimeStamp >= timeStamp || eRAoldnews['Latest'] == undefined || eRAoldnews['Latest'] == '') {
			eRAoldnews = {};
			eRAoldnews['Time'] = currentTime.getTime();
			writeSettings(document.userid + '.OldNews', eRAoldnews);
				
			newsGet();
		} else {
			localNewsMain = eRAoldnews['Local'];
			interNewsMain = eRAoldnews['International'];
			latestNewsMain = eRAoldnews['Latest'];
			
			addOldNews();
		}
	}
}

function addOldNews() {
	var countryName = id_country[fixString2(eRAdata['citizenMain'])];
//	var countryName = $('.user_country img').attr('src').split('/')[4].split('.')[0];
	var newsItem;
	var newsColection = '<div id="topnews" class="box" style="margin-bottom: 0px;">' +
							'<div class="title" style="border-bottom: none; margin-bottom: 0px;">' +
								'<h1 class="sIFR-replaced">' +
									'<span class="sIFR-alternate">News</span>' +
								'</h1>' +
							'</div>' +
							'<div class="oldNewsSwitchHolder">' +
								'<div id="localSwitch" class="oldNewsSwitchActive" style="width: 95px;">熱門</div>' +
								'<div id="interSwitch" class="oldNewsSwitch" style="width: 120px;">國際關注</div>' +
								'<div id="latestSwitch" class="oldNewsSwitch" style="width: 100px;">最新報紙</div>' +
							'</div>' +
							'<div id="localNewsHolder" style="display: block;">';
	var newsCount = 1;
	
	$(localNewsMain).filter('[class="holder bordersep"]').each(function() {
		if (newsCount < 6) {
			newsItem = '<div class="topNewsItem">' + $(this).html().split('<div class="newspaperinf goright">')[0] + '</div>';
			newsColection += newsItem;
			newsCount++
		}
	});
	
	newsColection += '<div style="float: left; margin: 0 0 15px;"><a id="topLocalNews" class="greyButton" title="Top local news" href="http://www.erepublik.com/' + document.language + '/news/rated/all"><span>本國最熱門</span></a></div></div><div id="interNewsHolder" style="display: none;">';
	
	var interCount = 1;
	
	$(interNewsMain).filter('[class="holder bordersep"]').each(function() {
		if (interCount < 6) {
			newsItem = '<div class="topNewsItem">' + $(this).html().split('<div class="newspaperinf goright">')[0] + '</div>';
			newsColection += newsItem;
			interCount++
		}
	});
	
	newsColection += '<div style="float: left; margin: 0 0 15px;"><a id="topInterNews" class="greyButton" title="Top international news" href="http://www.erepublik.com/' + document.language + '/news/international"><span>國際關注</span></a></div></div><div id="latestNewsHolder" style="display: none;">';
	
	var latestCount = 1;
	
	$(latestNewsMain).filter('[class="holder bordersep"]').each(function() {
		if (latestCount < 6) {
			newsItem = '<div class="topNewsItem">' + $(this).html().split('<div class="newspaperinf goright">')[0] + '</div>';
			newsColection += newsItem;
			latestCount++
		}
	});
	
	newsColection += '<div style="float: left; margin: 0 0 15px;"><a id="latestNews" class="greyButton" title="Latest news" href="http://www.erepublik.com/' + document.language + '/news/latest/all/' + countryName + '/1"><span>最新報紙</span></a></div></div>';
	
	if ($('#militaryEvents').html() != undefined) {
		$('#militaryEvents').after(newsColection);
	} else {
		$('#battle_listing').after(newsColection);
	}
	
	$('#localSwitch').click(function() {
		$('#interNewsHolder').css('display', 'none');
		$('#latestNewsHolder').css('display', 'none');
		$('#localNewsHolder').css('display', 'block');
		
		$(this).removeClass('oldNewsSwitch');
		$(this).addClass('oldNewsSwitchActive');
		$('#interSwitch').removeClass('oldNewsSwitchActive');
		$('#interSwitch').addClass('oldNewsSwitch');
		$('#latestSwitch').removeClass('oldNewsSwitchActive');
		$('#latestSwitch').addClass('oldNewsSwitch');
		
		$('#localNewsHolder div[class*="box goleft"]').each(function() {
			if ($.browser.mozilla) {
				$(this).find('.item .holder p a').textOverflow();
			} else {
				$(this).find('.item .holder p').css({'whiteSpace' : 'nowrap', 'overflow' : 'hidden', 'textOverflow' : 'ellipsis'});
			}
		});
	});
	
	$('#interSwitch').click(function() {
		$('#localNewsHolder').css('display', 'none');
		$('#latestNewsHolder').css('display', 'none');
		$('#interNewsHolder').css('display', 'block');
		
		$(this).removeClass('oldNewsSwitch');
		$(this).addClass('oldNewsSwitchActive');
		$('#localSwitch').removeClass('oldNewsSwitchActive');
		$('#localSwitch').addClass('oldNewsSwitch');
		$('#latestSwitch').removeClass('oldNewsSwitchActive');
		$('#latestSwitch').addClass('oldNewsSwitch');
		
		$('#interNewsHolder div[class*="box goleft"]').each(function() {
			if ($.browser.mozilla) {
				$(this).find('.item .holder p a').textOverflow();
			} else {
				$(this).find('.item .holder p').css({'whiteSpace' : 'nowrap', 'overflow' : 'hidden', 'textOverflow' : 'ellipsis'});
			}
		});
	});
	
	$('#latestSwitch').click(function() {
		$('#interNewsHolder').css('display', 'none');
		$('#localNewsHolder').css('display', 'none');
		$('#latestNewsHolder').css('display', 'block');
		
		$(this).removeClass('oldNewsSwitch');
		$(this).addClass('oldNewsSwitchActive');
		$('#interSwitch').removeClass('oldNewsSwitchActive');
		$('#interSwitch').addClass('oldNewsSwitch');
		$('#localSwitch').removeClass('oldNewsSwitchActive');
		$('#localSwitch').addClass('oldNewsSwitch');
		
		$('#latestNewsHolder div[class*="box goleft"]').each(function() {
			if ($.browser.mozilla) {
				$(this).find('.item .holder p a').textOverflow();
			} else {
				$(this).find('.item .holder p').css({'whiteSpace' : 'nowrap', 'overflow' : 'hidden', 'textOverflow' : 'ellipsis'});
			}
		});
	});
	
	$('#localNewsHolder div[class*="box goleft"]').each(function() {
		$(this).css('width', '333px');
		$(this).css('margin-bottom', '0px');
		$(this).css('padding-bottom', '0px');
		$(this).find('.item').css('width', '333px');
		$(this).find('.item').css('margin-bottom', '0px');
		$(this).find('.item .rankholder').css('background', 'url("' + oldNewsVotesBack + '") no-repeat scroll 0 0px transparent');
		$(this).find('.item .holder').css('width', '273px');
		$(this).find('.item .holder p').css('width', '273px');
		if ($.browser.mozilla) {
			$(this).find('.item .holder p a').textOverflow();
		} else {
			$(this).find('.item .holder p').css({'whiteSpace' : 'nowrap', 'overflow' : 'hidden', 'textOverflow' : 'ellipsis'});
		}
		$(this).find('.item .holder .article_details').css('width', '273px');
		$(this).find('.item .holder .article_details small:eq(2)').remove();
		$(this).find('.item .holder .article_details small:eq(1)').remove();
		$(this).find('.item .holder .article_details span:eq(2)').remove();
		$(this).find('.item .holder .article_details span:eq(1)').remove();
		$(this).find('.item .holder .article_details span:eq(0)').remove();
	});
	
	$('#interNewsHolder div[class*="box goleft"]').each(function() {
		$(this).css('width', '333px');
		$(this).css('margin-bottom', '0px');
		$(this).css('padding-bottom', '0px');
		$(this).find('.item').css('width', '333px');
		$(this).find('.item').css('margin-bottom', '0px');
		$(this).find('.item .rankholder').css('background', 'url("' + oldNewsVotesBack + '") no-repeat scroll 0 0px transparent');
		$(this).find('.item .holder').css('width', '273px');
		$(this).find('.item .holder p').css('width', '273px');
		if ($.browser.mozilla) {
			$(this).find('.item .holder p a').textOverflow();
		} else {
			$(this).find('.item .holder p').css({'whiteSpace' : 'nowrap', 'overflow' : 'hidden', 'textOverflow' : 'ellipsis'});
		}
		$(this).find('.item .holder .article_details').css('width', '273px');
		$(this).find('.item .holder .article_details small:eq(1)').remove();
		$(this).find('.item .holder .article_details span:eq(1)').remove();
	});
	
	$('#latestNewsHolder div[class*="box goleft"]').each(function() {
		$(this).css('width', '333px');
		$(this).css('margin-bottom', '0px');
		$(this).css('padding-bottom', '0px');
		$(this).find('.item').css('width', '333px');
		$(this).find('.item').css('margin-bottom', '0px');
		$(this).find('.item .rankholder').css('background', 'url("' + oldNewsVotesBack + '") no-repeat scroll 0 0px transparent');
		$(this).find('.item .holder').css('width', '273px');
		$(this).find('.item .holder p').css('width', '273px');
		if ($.browser.mozilla) {
			$(this).find('.item .holder p a').textOverflow();
		} else {
			$(this).find('.item .holder p').css({'whiteSpace' : 'nowrap', 'overflow' : 'hidden', 'textOverflow' : 'ellipsis'});
		}
		$(this).find('.item .holder .article_details').css('width', '273px');
		$(this).find('.item .holder .article_details small:eq(2)').remove();
		$(this).find('.item .holder .article_details small:eq(1)').remove();
		$(this).find('.item .holder .article_details span:eq(2)').remove();
		$(this).find('.item .holder .article_details span:eq(1)').remove();
		$(this).find('.item .holder .article_details span:eq(0)').remove();
	});
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Military events feeds --------------------------------------------------------------------------------------------
function getMilitaryEvents() {
	if (eRAopt['milevents'] == false || $('#battle_listing').html() == undefined || window.location.href.split('/')[5] == 'campaigns') {
		return;
	}
	
	GM_xmlhttpRequest({
		method: 'GET',
		url: 'http://www.erepublik.com/rss/allMilitaryEvents',
		onload: function(response) {
			var eventsData = $(response.responseText);
			
			var dataColection = '<div id="militaryEvents" style="clear: both; float: left; margin-bottom: 10px;">' +
									'<div class="title" style="border-bottom: none; margin-bottom: 10px;">' +
										'<h1 class="sIFR-replaced">' +
											'<span class="sIFR-alternate">Military Events</span>' +
										'</h1>' +
									'</div>' +
									'<div id="eventsHolder" class="eventsHolder" style="display: block;">';
			
			$(eventsData).find('entry').each(function() {
				var eventTitle = $(this).find('title').html();
				
				var serverDay = $('.eday strong').html().replace(/,/gi, '');
				var serverHours = $('#live_time').html().split(':')[0];
				var serverMinutes = $('#live_time').html().split(':')[1];
				var startDate = Date.UTC(2007, 10, 20, 0, 0, 0, 0);
				var serverDate = startDate + serverDay * 86400000 + serverHours * 3600000 + serverMinutes * 60000;
				
				var eventYear = $(this).find('updated').html().split('T')[0].split('-')[0];
				var eventMonth = $(this).find('updated').html().split('T')[0].split('-')[1];
				var eventDay = $(this).find('updated').html().split('T')[0].split('-')[2];
				var eventHours = $(this).find('updated').html().split('T')[1].split('Z')[0].split(':')[0];
				var eventMinutes = $(this).find('updated').html().split('T')[1].split('Z')[0].split(':')[1];
				var eventDate = Date.UTC(eventYear, parseFloat(eventMonth) - 1, eventDay, eventHours, eventMinutes, 0, 0);
				
				var timePassed = serverDate - eventDate;
				
				var minutesPassed = Math.floor(timePassed / 60000);
				var hoursPassed = Math.floor(timePassed / 3600000);
				
				if (hoursPassed > 24) {
					if (hoursPassed < 48) {
						var timeString = '昨天';
					} else {
						var timeString = '超過一年以上';
					}
				} else {
					if (hoursPassed > 0) {
						if (hoursPassed < 2) {
							var timeString = hoursPassed + ' 小時之前';
						} else {
							var timeString = hoursPassed + ' 小時之前';
						}
					} else {
						if (minutesPassed > 0) {
							if (minutesPassed < 2) {
								var timeString = minutesPassed + ' 分鐘之前';
							} else {
								var timeString = minutesPassed + ' 分鐘之前';
							}
						} else {
							var timeString = '小於一分鐘之前';
						}
					}
				}
				
				var eventsItem = '<div class="eventsItem"><div class="eventsIcon">&nbsp;</div><div class="eventsDetailHolder"><p class="eventsTitle">' + eventTitle + '</p><div class="eventsDetails">' + timeString + '</div></div></div>';
				dataColection += eventsItem;
			});
			
			dataColection += '</div><div style="clear: both; float: left;"><a id="moreEvents" class="grey_arrow_down_medium" title="More events"><span>更多</span></a><a id="lessEvents" class="greyButtonArrowUp" title=""><span>&nbsp;</span></a></div>';
			
			if ($('#topnews').html() != undefined) {
				$('#topnews').before(dataColection);
			} else {
				$('#battle_listing').after(dataColection);
			}
			
			$('#militaryEvents .eventsItem').each(function() {
				var eventTitle = $(this).find('.eventsTitle').html();
				if (eventTitle.indexOf('signed an alliance') != -1) {
					$(this).find('.eventsIcon').css('background-position', '0 -39px');
				} else if (eventTitle.indexOf('signed peace') != -1) {
					$(this).find('.eventsIcon').css('background-position', '0 -117px');
				} else if (eventTitle.indexOf('was conquered') != -1) {
					$(this).find('.eventsIcon').css('background-position', '0 -156px');
				} else if (eventTitle.indexOf('was secured') != -1) {
					$(this).find('.eventsIcon').css('background-position', '0 -195px');
				} else if (eventTitle.indexOf('A resistance') != -1) {
					$(this).find('.eventsIcon').css('background-position', '0 -234px');
				} else if (eventTitle.indexOf('attacked') != -1) {
					$(this).find('.eventsIcon').css('background-position', '0 -273px');
				}
			});
			
			$('#militaryEvents .eventsItem:gt(2)').each(function() {
				$(this).css('display', 'none');
			});
			
			$('#moreEvents').click(function() {
				var itemCount = 0;
				$('#militaryEvents .eventsItem[style*="display: none"]').each(function() {
					if (itemCount < 5) {
						$(this).show();
						itemCount++
					}
				});
			});
			
			$('#lessEvents').click(function() {
				$('#militaryEvents .eventsItem:gt(2)').each(function() {
					$(this).hide();
				});
			});
		}
	});
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Subscriptions icon -----------------------------------------------------------------------------------------------
var subsMain;
var oldSubsMain;

function getSubs() {
	if (eRAopt['subs'] == false) {
		return;
	}
	
	readSettings('subscriptions');
	
	if (eRAsubs['Subs'] == undefined || eRAsubs['Subs'] == '') {
		oldSubsMain = '';
	} else {
		oldSubsMain = eRAsubs['Subs'];
	}
						
	var currentTime = new Date();
	
	var prepared = new Array();
	
	function run(variable) {
		prepared[variable] = true;
		
		if (prepared['subs']) {
			addSubsIcon();
		}
	}
	
	function subsGet() {
		if (!prepared['localnews']) {
			GM_xmlhttpRequest({
				method: 'GET',
				url: 'http://www.erepublik.com/' + document.language + '/news/subscriptions',
				onload: function(response) {
					subsMain = $(response.responseText).find('#content').html();
					
					if ($(subsMain).find('.errtxt .title').html() == 'Oops, something went wrong.') {
						subsGet();
					} else {
						subsMain = $(subsMain).filter('[class="holder bordersep"]').eq(0).find('.holder:eq(0) p a').html();
						if (subsMain == null) {
							subsMain = '';
						}
						eRAsubs['Subs'] = subsMain;
						writeSettings(document.userid + '.Subs', eRAsubs);
						
						run('subs');
					}

				}
			});
		}
	}
	
	if (eRAsubs['Time'] == undefined) {
		eRAsubs = {};
		eRAsubs['Time'] = currentTime.getTime();
		writeSettings(document.userid + '.Subs', eRAsubs);
		
		subsGet();
	} else {
		var currTimeStamp = currentTime.getTime();
		var timeStamp = parseFloat(eRAsubs['Time']) + 300000;
		
		if (currTimeStamp >= timeStamp || eRAsubs['Subs'] == undefined || eRAsubs['Subs'] == '') {
			eRAsubs = {};
			eRAsubs['Time'] = currentTime.getTime();
			writeSettings(document.userid + '.Subs', eRAsubs);
				
			subsGet();
		} else {
			subsMain = eRAsubs['Subs'];
			
			addSubsIcon();
		}
	}
}

function addSubsIcon() {
	$('.user_notify a:eq(0)').css('left', '15px');
	$('.user_notify a:eq(1)').css('left', '68px');
	
	if(oldSubsMain == subsMain) {
		$('.user_notify').append('<a class="notify" title="Subscriptions" href="http://www.erepublik.com/' + document.language + '/news/subscriptions" style="left: 121px;"><img alt="" src="' + subsIconOff + '"></a>');
	} else {
		$('.user_notify').append('<a class="notify" title="Subscriptions" href="http://www.erepublik.com/' + document.language + '/news/subscriptions" style="left: 121px;"><img alt="" src="' + subsIconOn + '"></a>');
	}
}
// ---------------------------------------------------------------------------------------------------------------------

// -- Improve shouts ---------------------------------------------------------------------------------------------------
function improveShouts() {
	/*
	if (eRAopt['shouts'] == false) {
		return;
	}
	*/
	$('.previous_posts').append('<a id="lessPosts" class="greyButtonArrowUp" title=""><span>&nbsp;</span></a>');
	
	$('#lessPosts').click(function() {
		$('.wall_post_list li:gt(9)').each(function() {
			$(this).hide();
		});
	});
}
// ---------------------------------------------------------------------------------------------------------------------

// -- My land ----------------------------------------------------------------------------------------------------------
function improveLand() {
	if (document.location.href.split('/')[6] != document.userid) {
		return;
	}
	
	readSettings('myland');
	
	$('.land_holder li:gt(2)').each(function() {
		var buildingId = $(this).find('.detail_holder .detail_content .inside a:eq(0)').attr('companyid');
		if (buildingId != undefined) {
			$(this).find('.detail_holder .detail_content .inside').append('<a id="hideBuilding_' + buildingId + '" class="hideBuildingButton"><div class="newTipsy"><div class="newTipsy-arrow">&nbsp;</div><div class="newTipsy-inner">Hide building</div></div></a>');
			
			if (eRAopt['cnames'] != false) {
				var buildingName = $(this).find('.detail_holder .detail_content .inside a:eq(0)').attr('original-title').replace('Work at ', '').replace('View results for ', '');
				$(this).append('<div class="nameTablet">' + buildingName + '</div>');
			}
		}
	});
	
	$('a[id*="hideBuilding_"]').live('mouseup', function() {
		var buildId = $(this).attr('id').split('_')[1];
		eRAland[buildId] = true;
		writeSettings(document.userid + '.Land', eRAland);
		
		$(this).parent().parent().parent().parent().parent().parent().parent().parent().hide();
	});
	
	$('#content h1').after('<div style="float: right; position: relative; margin-top: -35px;"><a id="showAllBuildings" class="greyButton"><span>Show all buildings</span></a></div>');
	
	$('#showAllBuildings').click(function() {
		$('.land_holder li:gt(2)').each(function() {
			eRAland = {};
			writeSettings(document.userid + '.Land', eRAland);
			
			$(this).show();
		});
	});
	
	for (var x in eRAland) {
		if (eRAland[x] == true) {
			$('a[id*="hideBuilding_' + x + '"]').parent().parent().parent().parent().parent().parent().parent().parent().hide();
		}
	}
}
// ---------------------------------------------------------------------------------------------------------------------

function Main() {
	

    document.language = window.location.href.split('/')[3].split('?')[0];
	
	$('#miniprofile .avatarholder .backwhite').css('background-color', 'white');
	$('#account_validation').css('display', 'none');
	$('#citizen_feed h6 em').css('color', 'black');
	
	if($('#battle_listing .victory_listing').html() != undefined) {
		$('#battle_listing .victory_listing .victory_flag').each(function() {
			$(this).css('padding-left', '57px');
		});
		
		$('#battle_listing .rest').html('<a id="militaryCampaigns" class="greyButton" title="Military campaigns" href="http://www.erepublik.com/' + document.language + '/military/campaigns"><span>軍事戰役</span></a>' +
										'<a id="latestEvents" class="greyButton" title="Latest events" href="http://www.erepublik.com/' + document.language + '/news/military"><span>最新事件</span></a>');
	}
	
	document.userid = $('#large_sidebar .user_section a:eq(0)').attr('href').split('/')[6] != undefined ? $('#large_sidebar .user_section a:eq(0)').attr('href').split('/')[6] : $('#large_sidebar .user_section a:eq(0)').attr('href').split('/')[4];
	
	
	cleanSettings();
	createSidebar();
	createMenu();
	prepareSidebarData();
	changeLogout();
	linkRegions();
	getNaturalEnemy();
	newsCategories();
	getOldLatest();
	getMilitaryEvents();
	getSubs();
	improveShouts()
	
	var pagesFunctions = [
		{p: 'company/employees/', f: getCompanyData},
		{p: 'exchange', f: createMonMarketSwitch},
		{p: 'exchange/myOffers', f: exchangeLink},
		{p: 'market', f: enchanceMarket},
		{p: 'search/', f: searchRedirect},
		{p: 'economy/inventory', f: prepareInventory},
		{p: 'economy/inventory', f: taxTable},
		{p: 'article/', f: changeComments},
		{p: 'article/', f: addTranslate},
		{p: 'newspaper/', f: addTranslate},
		{p: 'elections/', f: improveElections},
		{p: 'military/battlefield/', f: improveBattlefield},
		{p: 'citizen/profile/', f: improveProfile},
		{p: 'work', f: improveWork},
		{p: 'wars/show', f: linksOnShow},
		{p: 'main/messages-inbox', f: fixMessages},
		{p: 'land/overview', f: improveLand}
	];

	pagesFunctions.forEach(function(v) {
		if (location.href.substr(location.href.indexOf('/', location.href.indexOf('/') + 2) + 1 + document.language.length + 1).substr(0, v.p.length) == v.p) {
			v.f();
		}
	});
		readSettings('options'); 
		var devAd = $('.user_notify a[href="http://jobs.erepublik.com/position/Rockstar-Php-Web-Developer--1"]');
		devAd.length && (eRAopt['devad'] === true && devAd.remove() || devAd.insertAfter('#content') && devAd.removeAttr('style') && devAd.attr('target', '_blank') && devAd.find('img').css('margin-top', '6px').css('clear', 'left').css('float', 'left'));
 
}
