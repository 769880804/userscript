// ==UserScript==
// @name           Netflix Links on Listal
// @namespace 
// @description    Adds a link to Listal so users can add a movie to their Netflix Queue
// @include        http://www.listal.com/movie/*
// @exclude        http://www.listal.com/movie/*/*
// ==/UserScript==
//


var movieTitle;
movieTitle = document.title;
movieTitle = movieTitle.replace(/Movie Reviews,.*/,"");


var origTitle = document.getElementsByTagName("h1")[0];


if (origTitle) {
    var myImage = document.createElement('img');
    myImage.src ="data:image/gif,GIF89a2%002%00%F7%00%00%F44%24%F2-%1CFCBTab%C21%24%C4)%1C777%22%22%22%C6%B8%B7*%07%04%C36*%0A%11%11%9B%A6%A7%D9%DA%DA%B8%B9%B9%B5C9%FC.%1C%FC7%26%DD)%19%11%19%1A%D1%CA%CA%C9%CA%CA%BE*%1D%FF8%26%A6%1D%11c%0D%06ntu%A9%A9%A9%BD2%26%A3%20%15%AA%22%17%BA%C7%C8%C9(%1A%D12%24d%15%0E%B5ZR%CD%CD%CDt%7D~%DA1%22%CA%BB%BA%F76%25%F65%25%C1)%1D6CE3%03%01%E01%22%DA-%1E%17%24%25%D2%D8%D9%FB7%26%D5%2F!%BE5)%BA%C0%C1%02%02%02%EF4%24%B9G%3D%C46*%F96%26%D4%26%17C%04%00%9C!%16o%12%0A%9B%1B%0F%E5%E5%E5%DD%E6%E7Y%0C%06%C9%D3%D4%C8%CE%CFK%06%00%F63%23%EA3%23%CD-%1F%CB%25%17%D2%2F!%FF3!%3D%19%16%E42%23%BB0%24%04%0C%0CU%12%0CGUV%AF%1F%12%FB6%25%E92%23%CB4'%BA0%23%1E%01%00t%0F%07%F0M%3F%EFE6%F04%24%ED4%24%F53%22%F15%24%F53%23%F35%25%FC2%20%C8%D2%D3%CC%C0%BF%F42%22%F25%25%F14%24%F05%24%F25%24%F35%24%EFD5%E3%E9%EA%DB%DC%DC%F15%25%F43%23%F34%24%E0.%1F%E62%23%F34%23bbbAQS%CE%C9%C83%12%0F%DF%E5%E6%B7%406yut%F0H9%8D%93%94%B0%25%19%BE%26%19%F0(%17%FF5%23%D9'%18IWXB%18%14%F86%25%CB%BC%BB%FB0%1E%D2%D2%D3%8C%90%90%A9%A0%A0%CE4'%97%9E%9E%98%99%99%2B..CST%F1%5BN%E40!%B9%2F%24%E1%E7%E7)%1A%19wpo%ED3%24%A3LE%81%8E%8FK%10%0A%F33%23%07%0F%10%7C%82%83%DF%DF%DF%C2%C2%C2%E0%E2%E2cB%40%E6-%1D%F56%25%C6%2C%1F%F2_R%DC%E1%E2%B9%BF%C0%B4!%14%C7%A8%A5%B7(%1C6%3F%40%BD%C3%C4%BF%C5%C6%E5(%17%E9'%17%B7%5EW%FF%3A(%CA%2B%1D%CF)%1B%85%90%91%A6%9A%99HSTLXY%97%AC%AE%FD7%26%C7(%1B%D5%E5%E7%EF2%22%B7%5BT%83%18%0E%D4%D5%D5%95%1F%16%C2%B2%B1%B6%C2%C2%D5'%18%EF%EF%F0%88%88%88%CA%BE%BD%ACRJD%0F%0BB%22%1F%BB%80%7B%AC%AC%AC%8Bxv%5B%2C(%60%20%1B%7D%20%18%F5*%19%F5.%1Dwlk%F82%20%B7%5BS%F24%24%B9jc%7C%11%08%E0)%19pxx%D8%DE%DF%C5%98%94%C2%C9%C9%C0%CB%CC%C1%CC%CD%90%7F%7D%CF%CF%CFXZZ%A3%B6%B7%8C%95%95%AF%A4%A3djj%D7(%19%CE0%22%EB0%20pba%87%8A%8B%AA%26%1A%DE%E7%E7%C5%BB%BAPQQ%D3%D4%D4%2F%3E%3F%5B%1F%1A%A9%A0%9F%E0%E9%EA%F1%5CO%DF2%22%BA%C8%C9%BD%CA%CC%F1XK%C5-%20%3BDEm%17%10%E71%22%B0%BC%BD%B4%BE%BEqrrrww%F0I%3A%EE4%24%FF%FF%FF!%F9%04%00%00%00%00%00%2C%00%00%00%002%002%00%00%08%FF%00%FF%09%1CH%B0%A0%C1%83%08%13*%5C%C8%B0%A1%C3%87%10%23J%9CH%B1%A2%C5%8B%183j%DC%C8%B1%A3%C7%8F%20C%8A%1CIRd%A3~XR%AA%5C%C9%B2%A5%CB%970%B1%F4%0B%95%C6%9F%CD%9B8s%EA%DC%C9%B3%E7%CD%3CY%7C%0A%1DJ%D4f%BF%A0E%93*5%8A%D4f%19.m%BEx9%B3%C5%86%971%5Elh%B9%3A%06%80%3F%ABc%DA%D8%D8%12%ADH%17%A7f%ABzq%13%C7%8B%99%9CGoji%C1%81%80%89%26%F1PL!%80%83J%0A%268%14(%08%91%C2%08%01%05T%D0%9C%91%D1%C4%C8%17-%26%AA0I%01%87C%92q%04%CAh%C1%19%D7f%91G%D96%14%D3%B7%C4%858w%40%AAM%AB%C7%40%14%0C%01Q%24%C4%02R%A2%07%A1a%B4%2C%E1%7B%F6%C0%5B%A07%7F%C0%95C%06%2B%C3%17%1B7%3B%FB%E3%D2%C4%CE%9AE%0D%16t%90%20%26%5C%0DKp%DA%0D%E9VC%04%B5%13%1Aj%10%FF%0B%90K%5E%8D%02%60n%08q%E2%A1%CF%B5o%1B%AAY1r%96%E9M.%1C%60%FC%10%B0N%3Au(D%08%92%02%12t%AC%10D%17%3A%9C0%C0%0E(%040%C2%07%E7%A5%17%06%7B%10H%E3K%05%F6%EC%20%08gMq1C*%BB%C8%C1%8D%7Fb%00x%01%00%20P%B0B%06%17%24%B8%E0%05%0EB%88%DE%0D%13z%A0%C4%03%40%FC0A%0F1px%DF%0C48%10%0C%09%FE!%00%89%24%3EH%91%E2%8A-%F6%A2%06%1E%3E%10%F2%60%844%B2%E7%07%07j%ACQ%03%0F%3D%26%D7%E1%0C%A3(rL%05%FE%09c%CE%04%09%A0%A8%22%8B%3A%20%60%08%9A%01%40%23%A3%84%EC)q%C7%3B%9C%2C%C0%C7%86%5E%FE%88%CA%3E%15%109%9D%18%B3%B0p%84%1BK%B2%A9%A0%A11RY%23%04%ACh%B3%CE%22%18%E4%E0%A3M%1Eb%A3%8E%26k%602(%20D%B4%A2%26%93%3A%0C2%00%110%8E0O%0D*(Q%A5%07%CC%18%FF%C3%C0%26%B2%5CQ%CB%A5%CB%CD0%84%01%3F%00%E3%A9%04%E9X%E3L%14R%D8%E2%00%3B%2C%FEr%08%23%3B%E4%D0%0C%25%B7%D0%90%8C*%EA%B1%B7J)%99lP%C2%0E%5D%DA%E7%D9%0C%F9%1C%A0G%225t%60C's%BC%90%00%0AF(S%C3%3D%B5%9C%B1L%0DO%08hA%24%2F%D4%C0%0B%22%06%D4%B0%87'%DB%9C%C2O%25VL%B2%99%B7%FE%A0a%C2%125%04aE%02%A6%D4%82%C4%15%BA%9C%E3%CF%17%E4X%20%83%19f%5C%E2%8A%0C%9B%A5%F0J%07%3C%80%22%05%06O%80%12%03)V%10SG%0DI%7C%D1%A7M%5B%7C%F1%86%0A%FE%D0%D7E%CD%B5D%C0%A7%16(%90%B1%C5W%9F%C8l%D3%171%C4%F0%C5%16(D%C0%C6%16%82%C0%E1%88%0B%BC%C8%40%C6%CC7%91%81%82%16f%1C%BC%94Ol%94AF%0C%3Bc%FD%F5%D9%3C)%87%F6%DA%9C%D5%C4%F6%DBF%D1%93E%3Ft%D7m%F7%DDx%E7%AD%F7%DEG%C1%15S%D2%DF%80%07.%F8%E0%84%17n%F8%E1%88'%AE%F8%E2%82%07%04%00%3B";
    var link = document.createElement('a');
    link.setAttribute('href', makeNetflixUrl(movieTitle));
    link.setAttribute('style', 'color:#cc0000; padding-left:10px');

    var label = document.createTextNode( " Add To Netflix" );
    link.appendChild(myImage);
    link.appendChild(label);
    origTitle.parentNode.insertBefore(link, origTitle.nextSibling);
}

function makeNetflixUrl(movietitle) {
    var Netflixurl = 'http://www.netflix.com/Search?v1='+ escape(movietitle);
    return Netflixurl;
}
