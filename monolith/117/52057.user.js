// ==UserScript==
// @name           4chan spoiler image fix
// @namespace      http://stricklandpropane.org
// @description    Returns spoiler images to their classic, not horrible versions.
// @include        http://zip.4chan.org/a/*
// @include		   http://zip.4chan.org/v/*
// ==/UserScript==
var oldspoiler = new Object(); 
oldspoiler.src = 'data:image/png;base64,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';
var imageList = new Object();
imageList["http://static.4chan.org/image/spoiler-v.png"] = {remove: false, newimage:oldspoiler.src};
imageList["http://static.4chan.org/image/spoiler-a.png"] = {remove: false, newimage:oldspoiler.src};

var images = document.evaluate('//img', document, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);

for (var i = 0; i < images.snapshotLength; i++) {
var img = images.snapshotItem(i);
if (imageList[img.src]) {
img.src = imageList[img.src].newimage;
}
} 