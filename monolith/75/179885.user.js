// ==UserScript==
// @name	  MUDO for Wojsko Polskie
// @version  	  1.0
// @author	  scyzoryck
// @namespace	  mudo_wp
// @description	  Wojsko Polsko
// @include       http*://*.erepublik.com/*
// ==/UserScript==
function addGlobalStyle(a){$j("head").append($j("<style/>",{type:"text/css",text:a}));}function mudolist(){$j.getJSON("http://80.53.102.6:8080/saori/mudo.json?callback=?",function(e){$j("#rw_pop").before("<h4>"+'MUDO for Wojsko Polskie</h4><ul id="mudoWP"></ul>');for(var f=0;f<e.mudo_list.length;f++){var d="";var c=e.mudo_list[f].battle_side1;if(e.mudo_list[f].battle_side1.search("Resistance")===0){c=e.mudo_list[f].battle_side1.replace("Resistance Force of ","");d='<img class="resistance_sign one" src="http://s3.www.erepublik.net/images/modules/_icons/small_resistance.png" title="'+e.mudo_list[f].battle_side1+'"/>';}var b="";var a=e.mudo_list[f].battle_side2;if(e.mudo_list[f].battle_side2.search("Resistance")===0){a=e.mudo_list[f].battle_side2.replace("Resistance Force of ","");b='<img class="resistance_sign one" src="http://s3.www.erepublik.net/images/modules/_icons/small_resistance.png" title="'+e.mudo_list[f].battle_side2+'" style="left: 70px;" />';}$j("#mudoWP").append('<li id="mudo-'+e.mudo_list[f].battle_id+'"><img class="side_flags" src="http://s1.www.erepublik.net/images/flags_png/M/'+c.replace(/\ /g,"-")+'.png" alt="'+c+'" title="'+c+'" />'+d+'<small>vs</small><img class="side_flags" src="http://s2.www.erepublik.net/images/flags_png/M/'+a.replace(/\ /g,"-")+'.png" alt="'+a+'" title="'+a+'" />'+b+"<strong>"+e.mudo_list[f].battle_region+'</strong><a href="en/military/battlefield/'+e.mudo_list[f].battle_id+'" title="" class="fight_button"><span>Fight</span></a></li></ul>');}});}function campaignsmudo(){$j.getJSON("http://80.53.102.6:8080/saori/mudo.json?callback=?",function(b){for(var c=0;c<b.mudo_list.length;c++){if($j("#battle-"+b.mudo_list[c].battle_id).css("background-color")=="rgb(255, 240, 192)"){var a="rgb(245, 223, 153)";}else{var a="rgb(224, 237, 212)";}$j("#battle-"+b.mudo_list[c].battle_id).append('<div class="mudoWP" style="background-color: '+a+'"><span>MUDO</span></div>');}addGlobalStyle(".mudoWP {height:23px; padding: 0px 5px; float:right; margin:10px 5px; font-weight:bold; border-radius:5px 5px 5px 5px; color:rgb(90, 137, 49); border: 1px outset white;line-height:23px;font-size:15px}");});}$j("document").ready(function(){var a=location.pathname.substr(3);if(a==""){mudolist();}else{if(a=="/military/campaigns"){campaignsmudo();}}addGlobalStyle("#notification_area {display:none;}");});