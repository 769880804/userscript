// ==UserScript==
// @name           Vkontakte video downloader 
// @namespace      http://vkontakte.ru/video*
// @description    add button to download video from vkontakte.ru work with firefox, opera and google chrome
// @version        1.17
// @include        http://vkontakte.ru/video*
// @include        http://vk.com/video*
// @match        http://vkontakte.ru/video*
// ==/UserScript==

// $Id: vkontakte_video.user.js,v 1.17 2010/07/21 16:27:24 green Exp $
// up

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('f((/c-(\\d+)l(\\d+)/.3(v.i))||(/c(\\d+)l(\\d+)/.3(v.i))){2 8=9.F.h;2 7=\'\';2 6=/"6":.(.*?).,/.3(8);2 e=/"e":.(.*?).,/.3(8);2 b=/"b":.(.*?).,/.3(8);2 5=/"5":.(.*?).,/.3(8);2 j=/"J":(.*?),/.3(8);f(/-$/.3(6[1])){7="m://"+5[1]+"/A/K/"+6[1]+e[1]+".L.q"}r{5[1]=5[1].M(/\\\\/g,"");f(/0/.3(j[1])){7=5[1]+"u"+b[1]+"/c/"+6[1]+".q"}r{7=5[1]+"u"+b[1]+"/c/"+6[1]+".x.N"}}2 4=9.t("a");4.s("p",7);4.h="<y>[o z]";9.n("k").w(4);2 4=9.t("a");4.s("p","m://B.I?u="+7);4.h="[o C/H/D/G/E]";9.n("k").w(4)}',50,50,'||var|exec|addon|host|vtag|url|allText|document||uid|video||vkid|if||innerHTML|location|noflv|bigSummary|_|http|getElementById|download|href|flv|else|setAttribute|createElement||window|appendChild|240|br|FLV|assets|vixy|AVI|MP4|3GP|documentElement|MP3|MOV|net|no_flv|videos|vk|replace|mp4'.split('|'),0,{}))