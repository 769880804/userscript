// ==UserScript==
// @name           Suggest DD
// @namespace      http://solitude12.deviantart.com
// @description    Allows you to suggest daily deviations from the deviation page
// @include        http://*.deviantart.com/*
// ==/UserScript==

/*
 * Author: Solitude12
 * Date: (0.5 - Feb 26, 2009) (0.5b - June 2, 2009) (0.5c - August 13, 2009) (0.5 c2 - September 16, 2009) (0.5d - November 23, 2009)
 		 (0.6 - Jan 31, 2010) (0.6a - March 26, 2010)
		 
		 (0.7 Beta [journal] Release - June 20, 2010 - Thank you beta testers!)
		 (0.7 Public [deviation] Release - July 24, 2010)
		 
		 (0.7a - Fixes for Beta Testing layout [should still work for non-testers as well])
 * Version: 0.7a
 *
 * Copyright Â© Solitude12 - http://solitude12.deviantart.com/
 * Please do not redistribute any part of this code without
 * permission of Solitude12.
 *
 */

/*
 *
 * Huge Help From electricnet (as always)! Give him lots of love!
 *
*/

var dialogCreated=false;
var SCRIPT_VERSION="0.7a";

var scripturl = "http://solitude.24bps.com/SuggestDD/drag_new.js"; //drag
dragscript=document.createElement('script');
dragscript.src=scripturl+"?"+new Date().getDate();
document.getElementsByTagName('head')[0].appendChild(dragscript);

var base = [];
var orig = [];
base[0]="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGjSURBVHja7NNBDQAwCACxMVN7LYjGIAZQQFoJl1y8/HWA0ZUADAIGAYOAQcAgYBAwCBgEDAIYBAwCBgGDgEHAIGAQMAgYBAwCGAQMAgYBg4BBwCBgEDAIGAQwCBgEDAIGAYOAQcAgYBAwCBgEMAgYBAwCBgGDgEHAIGAQMAhgEDAIGAQMAgYBg4BBwCBgEDAIYBAwCBgEDAIGAYOAQcAgYBDAIGAQMAgYBAwCBgGDgEHAIGAQwCBgEDAIGAQMAgYBg4BBwCBgEAnAIGAQMAgYBAwCBgGDgEHAIIBBwCBgEDAIGAQMAgYBg4BBwCCAQcAgYBAwCBgEDAIGAYOAQQCDgEHAIGAQMAgYBAwCBgGDgEEAg4BBwCBgEDAIGAQMAgYBgwAGAYOAQcAgYBAwCBgEDAIGAYMABgGDgEHAIGAQMAgYBAwCBgEMAgYBg4BBwCBgEDAIGAQMAgYBDAIGAYOAQcAgYBAwCBgEDAIGkQAMAgYBg4BBwCBgEDAIGAQMAhgEDAIGAYOAQcAgYBAwCBgEDAIYBAwCBgGDgEHAIGAQ2KgFGAC/igL21a8GYwAAAABJRU5ErkJggg%3D%3D";
orig[0]="http://st.deviantart.com/styles/minimal/minish/bg-fade.png";
base[1]="data:image/gif;base64,R0lGODlhDwAPAJEAAP////X09EdSS////yH5BAEHAAMALAAAAAAPAA8AAAIrnC2Zx6O/GJxnWpRAUAEox2lCt1mjJpoJqa5oabHsp6TnB7ZC1TZqw8MdCgA7";
orig[1]="";
base[2]="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC7mlDQ1BJQ0MgUHJvZmlsZQAAeAGFVM9rE0EU/jZuqdAiCFprDrJ4kCJJWatoRdQ2/RFiawzbH7ZFkGQzSdZuNuvuJrWliOTi0SreRe2hB/+AHnrwZC9KhVpFKN6rKGKhFy3xzW5MtqXqwM5+8943731vdt8ADXLSNPWABOQNx1KiEWlsfEJq/IgAjqIJQTQlVdvsTiQGQYNz+Xvn2HoPgVtWw3v7d7J3rZrStpoHhP1A4Eea2Sqw7xdxClkSAog836Epx3QI3+PY8uyPOU55eMG1Dys9xFkifEA1Lc5/TbhTzSXTQINIOJT1cVI+nNeLlNcdB2luZsbIEL1PkKa7zO6rYqGcTvYOkL2d9H5Os94+wiHCCxmtP0a4jZ71jNU/4mHhpObEhj0cGDX0+GAVtxqp+DXCFF8QTSeiVHHZLg3xmK79VvJKgnCQOMpkYYBzWkhP10xu+LqHBX0m1xOv4ndWUeF5jxNn3tTd70XaAq8wDh0MGgyaDUhQEEUEYZiwUECGPBoxNLJyPyOrBhuTezJ1JGq7dGJEsUF7Ntw9t1Gk3Tz+KCJxlEO1CJL8Qf4qr8lP5Xn5y1yw2Fb3lK2bmrry4DvF5Zm5Gh7X08jjc01efJXUdpNXR5aseXq8muwaP+xXlzHmgjWPxHOw+/EtX5XMlymMFMXjVfPqS4R1WjE3359sfzs94i7PLrXWc62JizdWm5dn/WpI++6qvJPmVflPXvXx/GfNxGPiKTEmdornIYmXxS7xkthLqwviYG3HCJ2VhinSbZH6JNVgYJq89S9dP1t4vUZ/DPVRlBnM0lSJ93/CKmQ0nbkOb/qP28f8F+T3iuefKAIvbODImbptU3HvEKFlpW5zrgIXv9F98LZua6N+OPwEWDyrFq1SNZ8gvAEcdod6HugpmNOWls05Uocsn5O66cpiUsxQ20NSUtcl12VLFrOZVWLpdtiZ0x1uHKE5QvfEp0plk/qv8RGw/bBS+fmsUtl+ThrWgZf6b8C8/UXAeIuJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEklEQVQ4y52SXUsCQRSG599IPzG86S94oYZKuguKeiNrKC6iCCobfmBW7OBCRYJmkMVeKOzVWzuwwzQ6jDnwXp3zPudjDgFARP0+iJLjB/mysdVr/pEOxM31Vg1BEGC338H3faaPz3esNysWU0E4QDTHLmJMy9UbvOcFHuiTGsCq2xY3f31vOaDdszFz53CmI2UXJJpbrCyrO+joAeG8KsCNmdMDXpavoJ6Lpt3gRrNoMnMqm1QDoiW63iMm91M44wEHZPMZVK0KzIqh/4WwwvCuj07fZl1c59JIpBMwygVeXdmBeEhhcqTbtsWN8atLUEoPIOSUU44A4SgyhOhuXQQfg5wMUEH+BRAhpWrpPIC8px+lBJd4NAeDIQAAAABJRU5ErkJggg%3D%3D";
orig[2]="http://imgur.com/E6vFe.png";
base[3]="data:image/gif;base64,R0lGODlhDwAPAPcDAMXV0PX09P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAAPAA8AAAhIAAcIFAigYMGBCAcYXHgQIcOHAx9KJFhQQACDAQQYVIjRIoCMFyV+tOhRZEGQJk+SDCkRJcqNBkuO3MgxJYCIKROaTIiT5sCAADs%3D";
orig[3]="http://st.deviantart.com/styles/minimal/minish/close.gif";
base[4]="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC7mlDQ1BJQ0MgUHJvZmlsZQAAeAGFVM9rE0EU/jZuqdAiCFprDrJ4kCJJWatoRdQ2/RFiawzbH7ZFkGQzSdZuNuvuJrWliOTi0SreRe2hB/+AHnrwZC9KhVpFKN6rKGKhFy3xzW5MtqXqwM5+8943731vdt8ADXLSNPWABOQNx1KiEWlsfEJq/IgAjqIJQTQlVdvsTiQGQYNz+Xvn2HoPgVtWw3v7d7J3rZrStpoHhP1A4Eea2Sqw7xdxClkSAog836Epx3QI3+PY8uyPOU55eMG1Dys9xFkifEA1Lc5/TbhTzSXTQINIOJT1cVI+nNeLlNcdB2luZsbIEL1PkKa7zO6rYqGcTvYOkL2d9H5Os94+wiHCCxmtP0a4jZ71jNU/4mHhpObEhj0cGDX0+GAVtxqp+DXCFF8QTSeiVHHZLg3xmK79VvJKgnCQOMpkYYBzWkhP10xu+LqHBX0m1xOv4ndWUeF5jxNn3tTd70XaAq8wDh0MGgyaDUhQEEUEYZiwUECGPBoxNLJyPyOrBhuTezJ1JGq7dGJEsUF7Ntw9t1Gk3Tz+KCJxlEO1CJL8Qf4qr8lP5Xn5y1yw2Fb3lK2bmrry4DvF5Zm5Gh7X08jjc01efJXUdpNXR5aseXq8muwaP+xXlzHmgjWPxHOw+/EtX5XMlymMFMXjVfPqS4R1WjE3359sfzs94i7PLrXWc62JizdWm5dn/WpI++6qvJPmVflPXvXx/GfNxGPiKTEmdornIYmXxS7xkthLqwviYG3HCJ2VhinSbZH6JNVgYJq89S9dP1t4vUZ/DPVRlBnM0lSJ93/CKmQ0nbkOb/qP28f8F+T3iuefKAIvbODImbptU3HvEKFlpW5zrgIXv9F98LZua6N+OPwEWDyrFq1SNZ8gvAEcdod6HugpmNOWls05Uocsn5O66cpiUsxQ20NSUtcl12VLFrOZVWLpdtiZ0x1uHKE5QvfEp0plk/qv8RGw/bBS+fmsUtl+ThrWgZf6b8C8/UXAeIuJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABE0lEQVQ4y52SzWoCMRSF8zbSR5Ru+hbtQkodUJwRtP5UCOIgaLHYiq3KhA6oVLBaqD+zUJjVsQlE09EQ28BZ5Z7vntxcAoCo+jlQFb0/qo8aq3X6SybQ3lykBYRhiM12gyAIhL6+Z/icT8WdDrIHqOZVsBbmyfQD/vAdPTbQA2R3aV6uFqLraDIG8z10vTe0Om1tCiLfzc2xi9hJuc2aGcAj6wDJzJ0ZICNX6APuK3k4BRtWysKtlcBN4loPkEP0/D5eXjtoPTdFZOqWDyA7af4F3uHxqYFag4oUuVIWmXxKmGV3bQJ1kXixVKl6MF5excEYO4KQc1ZZAniaKISYdl0Fn4KcDdBB/gRQIWkn/T9AdE47amqomaBBqrEAAAAASUVORK5CYII%3D";
orig[4]="http://i.imgur.com/Hp0t9.png";
base[5]="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABVCAYAAAC/xEFcAAAABHNCSVQICAgIfAhkiAAAMiNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBGaXJld29ya3MgQ1M1IDExLjAuMC40ODQgTWFjaW50b3NoPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDEwLTA3LTAzVDE5OjU5OjMxWjwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDEwLTA3LTAzVDIwOjE2OjQ3WjwveG1wOk1vZGlmeURhdGU+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PpBnLOcAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAAdj0lEQVR42nXd+a9nZ13A8bntTGfav9aoP4hGokYSNEoIEcE9GpeIghh3498gKshiWcrSUmgEW9q5sx/P58x5f3n1yeWb3Nx7z/csz/PZ93P15NG/bi/eeenWsyePb71w+/at7enTW1cvvHDr1rbdms+2/766urr16NGjWy/dvXtr//LWk0cPb7344ou3nj17dvzcuXPnOG/OmeO3X7r7/H77fZ48eXJcP8ef7veen5deeuk43v3nHnfv3Tv+f/L48eWcOT73uNqv3f95voZ7Lx/Pn3PmM9/f2c99+ODBcc3cb/bxaP/f587nzr7+jrfuub513d6vm2sfXl/fuvvyK7ceP3xwXDfHHz9+vp/jnvt1s573fQZGDx9e1jCfuec8f9Z9d2D3fMHHGgaWTx7/GEbzmXOvHtz/h20eOBfPjWaRc0LA354++TFCTkDOuXOjFhvSZtFzzjz02X7ebHqOz/e35/j7d7Bv6ulzoN++cyDwQMh+3axhrmsDT/f7DtEMgI5F799FNCG0DUUYs45ZzxwL6Lf3+4a4QfLjHYB37t7b7/+ckB7u/x8Ivnv3WH/7mTXNPo81vfDiAZP5bv6f658T851zX9uB0PmuNYSgkDD3EonzzHn+cejh9T9uF2ocbA6W9wu3k/qHGoZrjsXtVNzfc5N5UDeaYwcVAsyQEed0/MV9QQ/2Rc9zo6IW3uICYki9I0L38x7sgI0z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%3D%3D";
orig[5]="http://i.imgur.com/5AanI.png";


/*Styles*/
GM_addStyle(
	"#SuggestDD_Darker {"+
		"position:fixed;"+
		"top:0px;"+
		"left:0px;"+
		"bottom:0px;"+
		"right:0px;"+
		"background-image:url('"+base[0]+"');"+
		"z-index:225;"+
	"}"+
	"#SuggestDD_Dialog_Popup {"+
		"position:fixed;"+
		//"min-width:650px;"+
		//"min-height:400px;"+
		"margin:0px auto;"+		
		"border:3px solid #242F20;"+
		"-moz-border-radius:8px;"+
		"background:#D3DFD1;"+
		"color:#121516 !important;"+
		"top:50%;"+
		"left:50%;"+
		"right:auto;"+
		"bottom:auto;"+
		"margin-left:-325px;"+
		"margin-top:-200px;"+
		"padding:0px;"+
		"z-index:226;"+
	//	"overflow:hidden;"+
	"}"+
	"#SuggestDD_Dialog_Insides {"+
		"margin:90px 20px 20px 20px;"+
	//	"height:345px;"+
		"width:405px;"+
	//	"overflow:auto;"+
		"float:left;"+
	"}"+
	"#SuggestDD_Dialog_Header {"+
		"position:absolute !important;"+
		"top:0;"+
		"left:0;"+
		"right:0;"+
		"padding:20px 15px;"+
		"-moz-border-radius:8px 8px 0px 0px;"+
		"-moz-box-shadow:0 1px 0 rgba(255, 255, 255, 0.5);"+
		"background:-moz-linear-gradient(-90deg, #D3DFD1, #B9CFB5) repeat scroll 0 0 transparent;"+
		"border-bottom:1px solid #9BB098;"+
		"border-top:1px solid #E2EFE0;"+
		"font:24px \"Trebuchet MS\", sans-serif;"+
		"letter-spacing:-1px;"+
		"text-align:center;"+
	"}"+
	"#SuggestDD_Dialog_Header.special100 {"+
		"-moz-box-shadow:0 1px 0 rgba(255, 255, 255, 0.5);"+
		"background:url("+base[5]+") repeat-x center center #D5D173;"+
		"border-bottom:1px solid #9BB098;"+
		"border-top:1px solid #FEFEF2;"+
	"}"+
	"#SuggestDD_Dialog_Version {"+
		"position:absolute !important;"+
		"bottom:5px;"+
		"left:5px;"+
		"font-size:10px !important;"+
		"color:#708F6B;"+
	"}"+
	"#SuggestDD_Dialog_Version a {"+
		"padding:2px;"+
		"display:inline-block;"+
	"}"+
	"#SuggestDD_Dialog_Updates a { "+
		"background:#19ACCF;"+
		"border:1px solid #19ACCF;"+
		"color:#FFF;"+
		"padding:1px 2px;"+
		"text-decoration:none;"+
		"display:inline-block;"+
		"font-style:normal;"+
		"-moz-border-radius: 3px !important;"+
	"}"+
	"#SuggestDD_Dialog_Updates a:hover { "+
		"border-color: #00748F;"+
	"}"+
	"#SuggestDD_Dialog_close { "+
		"width: 17px;"+
		"height: 17px;"+
		"background:transparent url("+base[1]+") no-repeat;"+
		"position: absolute;"+
		"right: 10px;"+
		"top: 10px;"+
		"cursor: pointer;"+
	"}"+
	"#SuggestDD_Dialog_Cancel, #SuggestDD_Dialog_Apply, #SuggestDD_Dialog_Apply_suggesting  {"+
		"float:right;"+
		"text-decoration:none !important;"+
		"cursor:pointer !important;"+
		"display:inline-block;"+
		"margin-top:0px !important;"+
		"margin-bottom:0px !important;"+
	"}"+
	"#SuggestDD_Dialog_Apply, #SuggestDD_Dialog_Apply_suggesting { "+
		"color:#FFF !important;"+
		"margin-right:6px !important;"+
	"}"+
	"#SuggestDD_Dialog_Apply_suggesting { "+
		"opacity:0.5;"+
		"cursor:default !important;"+
	"}"+
	"#SuggestDD_Dialog_Insides a.smbutton span {"+
		"line-height:1.0em;"+
	"}"+
	"#SuggestDD_Dialog_Insides hr {"+
		"border:0px;"+
		"border-top:1px solid #93A98F;"+
		"border-bottom:1px solid #E9EFE8;"+
		"height:1px;"+
		"margin:10px 0px;"+
	"}"+
	"#SuggestDD_Dialog_Insides textarea {"+
		"-moz-border-radius: 4px !important;"+
		"border:1px solid #93A98F;"+
		"padding:4px;"+
		"font-size:12px;"+
		"font-family:Verdana;"+
		"margin:1px;"+
		"width:393px;"+
	"}"+
	"#SuggestDD_Dialog_Insides textarea:focus {"+
		"border:2px solid #0093B6 !important;"+ 
		"margin:0px;"+
	"}"+
	"#SuggestDD_Dialog_Insides strong {"+
		"margin-bottom:5px;"+
		"display:block;"+
	"}"+
	"#SuggestDD_Dialog_Insides .smalls {"+
		"font-size:11px;"+
		"color:#708F6B;"+
		"margin:3px 0px;"+
	"}"+
	"#SuggestDD_Dialog_Insides .smalls strong {"+
		"display:block;"+
		"margin-bottom:4px;"+
	"}"+
	"#SuggestDD_Dialog_Insides .smalls strong span {"+
		"font-weight:normal !important;"+
		"color:#859F81;"+
		"display:inline;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev {"+
		"display:inline-block !important;"+
		"float:left !important;"+
		"margin:95px 0px 15px 20px;"+
		"text-align:center;"+
		"min-width:90px;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Preview img.smshadow {"+
		"-moz-box-shadow:rgba(0, 0, 0, 0.496094) 0px 3px 6px, rgba(0, 0, 0, 0.398438) 0px 0px 2px, rgba(0, 0, 0, 0.296875) 0px 1px 1px;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Preview img.smshadow.small {"+
		"background:#D3DFD1 !important;"+
		"-moz-box-shadow:rgba(0, 0, 0, 0.496094) 0px 3px 6px, rgba(0, 0, 0, 0.398438) 0px 0px 2px, rgba(0, 0, 0, 0.296875) 0px 1px 1px;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Preview img.smshadow.highlight {"+
		"-moz-box-shadow:rgba(0,147,182, 0.496094) 0px 3px 6px, rgba(0,147,182, 0.398438) 0px 0px 2px, rgba(0,147,182, 0.296875) 0px 1px 1px;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev .tools {"+
		"margin-top:20px;"+
		"margin-bottom:20px;"+
		"text-align:center;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev .tools span {"+
		"background:#BDD1B4;"+
		"-moz-border-radius:8px !important;"+
		"padding:8px !important;"+
		"font:20px \"Trebuchet MS\", sans-serif;"+
		"letter-spacing:-1px;"+
		"display:inline-block;"+
		"max-height:40px;"+
		"min-width:24px;"+
		"text-align:center;"+
		"border:1px solid #BDD1B4;"+
		"cursor:pointer !important;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev .tools span.special100 {"+
		"background:-moz-linear-gradient(-90deg, #FDFBBB, #D5D173) repeat scroll 0 0 transparent;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev .tools span:hover {"+		
		"border:1px solid #93A98F !important;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev .tools span.special100:hover {"+
		"border:1px solid #AFAC83;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev .tools span b {"+
		"font-weight:normal;"+
		"font-size:12px;"+
		"vertical-align:top;"+
		"display:inline-block;"+
	"}"+
	"#SuggestDD_PreviousSuggestions, #SuggestDD_Options_Popup {"+
		"display:none;"+
		"position:absolute;"+
		"background:#B9CFB5;"+
		"top:85px;"+
		"bottom:10px;"+
		"right:10px;"+
		"left:10px;"+
		"-moz-border-radius:8px;"+
		"padding:10px;"+
		"overflow:auto;"+
		
	"}"+
	"#SuggestDD_PreviousSuggestions img.smshadow {"+
		"margin:5px;"+
		"-moz-box-shadow:rgba(0, 0, 0, 0.496094) 0px 3px 6px, rgba(0, 0, 0, 0.398438) 0px 0px 2px, rgba(0, 0, 0, 0.296875) 0px 1px 1px;"+
	"}"+
	"#SuggestDD_PreviousSuggestions div {"+
		"margin-top:10px;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev .tools span.minmoder {"+		
		"background:url("+base[2]+") center center #BDD1B4 no-repeat !important;"+
	"}"+
	"#SuggestDD_Dialog_Popup span.maxmoder {"+
		"position:absolute;"+
		"top:9px;"+
		"left:9px;"+		
		"-moz-border-radius:8px !important;"+
		"padding:8px !important;"+
		"font:16px \"Trebuchet MS\", sans-serif;"+
		"letter-spacing:-1px;"+
		"max-height:40px;"+
		"min-width:24px;"+
		"text-align:center;"+		
		"border:1px solid #93A98F;"+	
		"font-size:16px !important;"+		
		"line-height:24px !important;"+	
		"cursor:pointer !important;"+
		"background:url("+base[4]+") center center #93A98F no-repeat !important;"+
	"}"+
	"#SuggestDD_Dialog_Popup span.maxmoder:hover {"+
		"background:url("+base[4]+") center center #19ACCF no-repeat !important;"+
		"border:1px solid #00748F;"+
	"}"+
	"#SuggestDD_Dialog_Popup span.closecounter {"+
		"position:absolute;"+
		"bottom:9px;"+
		"left:9px;"+		
		"-moz-border-radius:4px !important;"+
		"padding:4px 6px !important;"+
		"font:11px Verdana, sans-serif !important;"+		
		"color:#FFF;"+
		"display:inline-block;"+		
		"border:1px solid #93A98F;"+	
		"cursor:pointer !important;"+
		"background: #93A98F;"+
		"letter-spacing:0px;"+
	"}"+
	"#SuggestDD_Dialog_Popup span.closecounter:hover {"+
		"background:#19ACCF;"+
		"border:1px solid #00748F;"+
	"}"+
	"#SuggestDD_Dialog_Insides p {"+
		"margin-top:4px;"+
	"}"+
	"#SuggestDD_Dialog_Insides .options {"+
		"display:block;"+
		"margin:3px 0px -4px 0px;"+
	"}"+
	"#SuggestDD_Dialog_Insides .options input {"+
		"vertical-align:middle !important;"+
		"margin:3px 3px 3px 0px;"+
	"}"+
	"#SuggestDD_Dialog_Insides .options label {"+
		"font-size:11px;"+
		"font-family:Verdana;"+
		"padding:3px 0px 3px 0px;"+
		"vertical-align:middle !important;"+
		"margin-right:10px !important;"+
		"margin-left:2px !important;"+
	"}"+
	"#SuggestDD_Options_Popup input, #SuggestDD_Options_Popup label {"+
		"vertical-align:middle !important;"+
		"margin-left:3px !important;"+
		"display:inline-block !important;"+
	"}"+
	"#SuggestDD_Options_Popup_Cancel, #SuggestDD_Options_Popup_Save {"+
		"text-decoration:none !important;"+
		"cursor:pointer !important;"+
	"}"+
	"#SuggestDD_Dialog_Insides .options a, #SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev a  { "+
		"background:#BDD1B4;"+
		"border:1px solid #BDD1B4;"+
		"padding:1px 2px;"+
		"text-decoration:none;"+
		"display:inline-block;"+
		"font-size:10px;"+
		"float:right;"+
		"margin-top:2px;"+
		"font-style:normal;"+
		"-moz-border-radius: 3px !important;"+
	"}"+
	"#SuggestDD_Dialog_Insides .options a:hover, #SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev a:hover { "+
		"border-color: #93A98F;"+
	"}"+
	"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev a  { "+
		"float:none;"+
		"margin-top:4px;"+
	"}"+
	"#SuggestDD_listGD i {"+
		"font-size:11px !important;"+
		"color:#708F6B;"+
		"display:block !important;"+
		"line-height:20px !important;"+
		"height:20px !important;"+
	"}"+
	"#SuggestDD_Dialog_Director, #SuggestDD_Dialog_ShowAllDirector { "+
		"height:20px !important;"+
	"}"+
	"#SuggestDD_Wrong_Suggestions_Report {"+
		"font-size:10px;"+
		"color:#5F7F68;"+
		"font-weight:bold;"+
		"display:inline-block;"+
		"float:right;"+
		"margin-top:2px;"+
	"}"+
	"#SuggestDD_Dialog_OtherDirector {"+
		"-moz-border-radius: 4px !important;"+
		"border:1px solid #93A98F !important;"+
		"padding:4px !important;"+
		"padding-right:24px !important;"+
		"font-size:11px !important;"+
		"font-family:Verdana !important;"+
		"width:373px !important;"+
		"margin:1px !important;"+
		"margin-bottom:-5px !important;"+
		"line-height:20px !important;"+
	"}"+
	"#SuggestDD_Dialog_OtherDirector:focus {"+
		"border:2px solid #0093B6 !important;"+
		"margin:-1px 0px -1px 0px !important;"+
		"margin-bottom:-6px !important;"+
		"width:373px !important;"+
	"}"+
	"#SuggestDD_Dialog_OtherDirector_Close {"+
		"height: 15px;"+
		"width: 15px;"+
		"display: block;"+
		"background: url("+base[3]+") no-repeat transparent;"+
		"float: right;"+
		"cursor: pointer ! important;"+
		"margin:-15px 5px 0px 0px  ! important;"+
	"}"+
	".SuggestDD_Helpers {"+	
		"position:absolute;"+
		"-moz-border-radius:8px;"+
		"-moz-box-shadow:0 1px 1px rgba(0, 0, 0, 0.5);"+
		"background:#C4D6C1;"+
		"border-top:1px solid #E2EFE0;"+
		"position:absolute;"+
		"display:block;"+
		"padding:6px 7px;"+
		"width:180px;"+
		"min-height:50px;"+
		"font-size:11px;"+
	"}"+
	".SuggestDD_Helpers strong {"+	
		"display:block;"+
		"font-size:12px;"+
	"}"+
	"#SuggestDD_Helpers_hl, #SuggestDD_Helpers_hl2 {"+
		"top:76px;"+
		"left:-215px;"+
		"margin-right:15px;"+
	"}"+
	"#SuggestDD_Helpers_hl2 {"+
		"top:150px;"+
	"}"+
	"#SuggestDD_Helpers_hr { "+
		"top:0px;"+
		"right:-215px;"+
		"margin-left:15px;"+
	"}"+
	"#SuggestDD_Helpers_hr2 { "+
		"bottom:0px;"+
		"right:-215px;"+
		"margin-left:15px;"+
	"}"+
	"#SuggestDD_Helpers_hl:after, #SuggestDD_Helpers_hl2:after {"+
		"content:\"\00a0\";"+
		"display:block;"+
		"position:absolute;"+
		"width:0;"+
		"height:0;"+
		"border-style:solid;"+
		"top:10px;"+
		"right:-27px;"+
		"bottom:auto;"+
		"border-width:10px 15px;"+
		"border-color:transparent transparent transparent #C4D6C1;"+
	"}"+
	"#SuggestDD_Helpers_hl2:after {"+ 
		"top:30px;"+
	"}"+
	"#SuggestDD_Helpers_hr:after, #SuggestDD_Helpers_hr2:after {"+
		"content:\"\00a0\";"+
		"display:block;"+
		"position:absolute;"+
		"width:0;"+
		"height:0;"+
		"border-style:solid;"+
		"bottom:10px;"+
		"left:-27px;"+
		"top:auto;"+
		"border-width:10px 15px;"+
		"border-color:transparent #C4D6C1 transparent transparent;"+
	"}"+
	"#SuggestDD_Helpers_hr:after {"+ 
		"top:20px;"+
		"bottom:auto;"+
	"}"


);


function getCookie(c_name)
{
if (document.cookie.length>0)
  {
  c_start=document.cookie.indexOf(c_name + "=");
  if (c_start!=-1)
    { 
    c_start=c_start + c_name.length+1; 
    c_end=document.cookie.indexOf(";",c_start);
    if (c_end==-1) c_end=document.cookie.length;
    return unescape(document.cookie.substring(c_start,c_end));
    } 
  }
return "";
}

function closeDialog(){
	if(GM_getValue('SuggestDD_Dialog_Option_4')!='false' && document.getElementById("SuggestDD_Dialog_MaxModeButton").style.display=="block") {
		GM_setValue('SuggestDD_Dialog_Option_4', document.getElementById("SuggestDD_Dialog_Popup").style.top.replace("px","")+','+document.getElementById("SuggestDD_Dialog_Popup").style.left.replace("px",""));			
	}
	if(document.getElementById('SuggestDD_Dialog_Popup'))
		document.getElementsByTagName('body')[0].removeChild(document.getElementById('SuggestDD_Dialog_Popup'));
	if(document.getElementById('SuggestDD_Darker'))
		document.getElementsByTagName('body')[0].removeChild(document.getElementById('SuggestDD_Darker'));
	
	if(document.getElementById("gmi-PreviewStreamControls")){
		document.getElementById("gmi-PreviewStreamControls").style.visibility="visible";
	} else if(document.getElementById("amazing-title-zone")){
		document.getElementById("amazing-title-zone").parentNode.style.visibility="visible";
		document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.style.visibility="visible";
		document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.previousSibling.style.visibility="visible";
		document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.previousSibling.previousSibling.style.visibility="visible";
	}
	GM_addStyle(
		"#SuggestDD_Dialog_Insides {"+
			"margin:90px 20px 20px 20px !important;"+
		"}"+
		"#SuggestDD_Dialog_Header {"+
			"padding:20px 15px;"+				
		"}"+
		"#SuggestDD_Dialog_Insides hr {"+
			"display:block !important;"+
		"}"+
		"#SuggestDD_Dialog_Insides_info hr {"+
			"display:block !important;"+
		"}"+
		"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev {"+
			"display:inline-block !important;"+
			"min-width:90px;"+
		"}"		
	);
	dialogCreated=false;
}

function checkForUpdates(){	
	GM_xmlhttpRequest(
	{
		method: 'GET',
		url: 'http://userscripts.org/scripts/source/30911.user.js',
		onload: function(details){
			var theData = details.responseText; // get data
			theData = theData.match(/VERSION="(.*)";/);
			if (theData){
				eval("var LATEST_" + theData[0].substring(0, theData[0].indexOf(';')+1));
				if (LATEST_VERSION!=SCRIPT_VERSION)
					document.getElementById("SuggestDD_Dialog_Updates").innerHTML = ' <a title="Click here to install v'+LATEST_VERSION+'!" href="http://userscripts.org/scripts/source/30911.user.js">Update Available!</a>';
			}
		}
	});
}

function flipOtherDirector(){			
	if (document.getElementById('SuggestDD_Dialog_Director').style.display=="none"){
		document.getElementById('SuggestDD_Dialog_OtherDirector').style.display="none";
		document.getElementById('SuggestDD_Dialog_Director').style.display="block";
		document.getElementById('SuggestDD_Dialog_OtherDirector_Close').style.display="none";	
		document.getElementById('SuggestDD_Dialog_Director').selectedIndex=0;
		document.getElementById('SuggestDD_Dialog_Director').focus();								
	} else if (document.getElementById('SuggestDD_Dialog_Director').value=="other"){
		document.getElementById('SuggestDD_Dialog_Director').style.display="none";
		document.getElementById('SuggestDD_Dialog_OtherDirector').style.display="block";
		document.getElementById('SuggestDD_Dialog_OtherDirector_Close').style.display="block";
		document.getElementById('SuggestDD_Dialog_OtherDirector').focus();	
		document.getElementById('SuggestDD_Dialog_OtherDirector_Close').addEventListener('click', function(e){																										   
			flipOtherDirector();
		}, false);
	}
}

function createDialog(){
	dialogCreated = true;
	
	var SuggestDD_Darker = document.createElement('span');
	SuggestDD_Darker.setAttribute("id","SuggestDD_Darker");
	document.getElementsByTagName('body')[0].appendChild(SuggestDD_Darker);
	//SuggestDD_Darker.addEventListener('click', function(e){
	//	closeDialog();
	//}, false);
	
	var innards = false;
	var devTitle="";
	if(document.getElementById("gmi-ResViewSizer_description")){
		var innards = document.getElementById("gmi-ResViewSizer_description");
	} else if(document.getElementById('gmi-ResourcePageDisplayPane') && document.getElementById('fav-button')) {
		var innards = document.getElementById("gmi-ResourcePageDisplayPane");
	} else {
		var innards = document.getElementsByTagName('body')[0];
	}
	if(!innards){
		alert("Could not get deviation information, sorry!");
		closeDialog();
		return;
	}
	if(innards.getElementsByTagName('h1').length>0){
	//	var devTitle= innards.innerHTML.match(/<h1(.*?)>(.*?)<\/small>/)[2].replace(/(<([^>]+)>)/ig,"");
	//} else	{
		var devtitles= innards.getElementsByTagName('h1');
		for(var i in devtitles){
			if(devtitles[i].getElementsByTagName('small').length>0 && devtitles[i].getElementsByTagName('a').length>0 && devtitles[i].getElementsByTagName('small')[0].innerHTML.indexOf("by ")>-1){			
				
				devTitle= devtitles[i].innerHTML.replace(/(<([^>]+)>)/ig,"").replace(/\n|\t/g,"");
				innards = devtitles[i].parentNode.parentNode;
				break;
			}
		}
	}
	if(devTitle==""){
		alert("Could not get deviation title/information, sorry!");
		closeDialog();
		return;
	}
	
	if(unsafeWindow.Tree.gets(innards,"td.f.dcats",1)[0] && !document.getElementById('fav-button')){
		var gallery = unsafeWindow.Tree.gets(innards,"td.f.dcats",1)[0].innerHTML;
	} else if(unsafeWindow.Tree.gets(innards,"div.catpath",1)[0].innerHTML) {
		var gallery = unsafeWindow.Tree.gets(innards,"div.catpath",1)[0].innerHTML;
	} else {
		alert("Could not match gallery category, sorry!");
		closeDialog();
		return;
	}
	gallery = gallery.replace(/(<([^>]+)>)/ig,"").replace(/<\/a> \/ <a/g, '&gt;').replace(/&gt;/g, '>').replace(/\n/gi, '').replace(/^\s+|\s+$/g,"").replace(/&amp;/g, '&');
	
	if(document.getElementById('spq_artistgalley')){
		gallery = gallery.replace(/&nbsp; deviantART:([\s]+)/, '').replace(/&nbsp; Artist's Gallery:([\s]+)/, '');
	}
	
	var preview_stuff="";
	var classextras= "";
	if(unsafeWindow.deviantART.pageData.deviation_prose || unsafeWindow.deviantART.pageData.deviation_poetry){
		preview_stuff='<span id="SuggestDD_Dialog_Preview"><img style="margin-top: auto; width:150px; height:125px;" width="150" height="125" class="smshadow" onError="" src="http://th09.deviantart.net/images/150/shared/poetry.jpg"/></span>';
		
	} else if(document.getElementById('gmi-ResViewSizer_img') && document.getElementById('gmi-ResViewSizer_img').getAttribute('width') && document.getElementById('gmi-ResViewSizer_img').getAttribute('height')){
		if(parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('height'))<=180 && parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('width'))<=180){
			var preview_width = parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('width'));
			var preview_height = parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('height'));
			 classextras = " small";
		} else {
			if(parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('height'))>parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('width'))){
				var ratio = 180/parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('height'));
				var preview_width = Math.round(ratio * parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('width')));
				var preview_height = Math.round(ratio * parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('height')));
			} else {
				var ratio = 180/parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('width'));
				var preview_width = Math.round(ratio * parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('width')));
				var preview_height = Math.round(ratio * parseInt(document.getElementById('gmi-ResViewSizer_img').getAttribute('height')));		
			}
		}
		preview_stuff='<span id="SuggestDD_Dialog_Preview"><img style="margin-top: auto; width:'+preview_width+'px; height:'+preview_height+'px;" width="'+preview_width+'" height="'+preview_height+'" class="smshadow'+classextras+'" onError="" src="'+document.getElementById('gmi-ResViewSizer_img').getAttribute('src')+'"/></span>';
	} else if(document.getElementById("zoomed-in")){
		
		// what?
		preview_stuff='<i>No Preview</i>';
		
	} else {
		preview_stuff='<i>No Preview</i>';
	}
	
	if(!GM_getValue('counter')){
		GM_setValue('counter', '0');
	}
	var count =  ""+(parseInt(GM_getValue('counter'))+1);
	var ending;
	if(count<=100){
		if(parseInt(count)>=11 && parseInt(count)<=20)
			ending="th";
		else if(count.charAt(count.length-1)=="1")
			ending="st";
		else if(count.charAt(count.length-1)=="2")
			ending="nd";
		else if(count.charAt(count.length-1)=="3")
			ending="rd";
		else
			ending="th";
	}
	if(count>=101){
		if(parseInt(count%100)>=11 && parseInt(count%100)<=20)
			ending="th";
		else if(count.charAt(count.length-1)=="1")
			ending="st";
		else if(count.charAt(count.length-1)=="2")
			ending="nd";
		else if(count.charAt(count.length-1)=="3")
			ending="rd";
		else
			ending="th";
	}
		
	if(!GM_getValue('SuggestDD_Dialog_Option_1')){
		GM_setValue('SuggestDD_Dialog_Option_1', 'false');
	}
	if(!GM_getValue('SuggestDD_Dialog_Option_2')){
		GM_setValue('SuggestDD_Dialog_Option_2', 'false');
	}
	if(!GM_getValue('SuggestDD_Dialog_Option_3')){
		GM_setValue('SuggestDD_Dialog_Option_3', 'true');
	}
	if(!GM_getValue('SuggestDD_Dialog_Option_4')){
		GM_setValue('SuggestDD_Dialog_Option_4', 'false');
	}
		
	var deviationid = unsafeWindow.deviantART.pageData.deviationid;
	
	var SuggestDD_Dialog_Popup = document.createElement('div');
	SuggestDD_Dialog_Popup.setAttribute("id","SuggestDD_Dialog_Popup");
	document.getElementsByTagName('body')[0].appendChild(SuggestDD_Dialog_Popup);
	SuggestDD_Dialog_Popup.innerHTML =  '<div id="SuggestDD_Dialog_Header">'+
											'<span id="SuggestDD_Dialog_MaxModeButton" title="Switch back to Max Mode" style="display:none" class="maxmoder">&nbsp;</span>'+
											'<span id="SuggestDD_Dialog_CloseCounter" title="Go back to suggesting..." style="display:none" class="closecounter">&laquo; back</span>'+
											'<span id="SuggestDD_Dialog_Options_Close" title="Go back to suggesting..." style="display:none" class="closecounter">&laquo; back</span>'+
											'<img src="http://e.deviantart.net/emoticons/h/heart.gif"/> Suggest a <span id="SuggestDD_Helper_DD_Title">Daily Deviation</span>'+
											'<span id="SuggestDD_Dialog_close" title="Close"></span>'+
										'</div>'+
										'<div id="SuggestDD_PreviousSuggestions"></div>'+
										'<div id="SuggestDD_Options_Popup"></div>'+
										'<span id="SuggestDD_Dialog_Version"><a target="_blank" href="http://fav.me/93439023">SuggestDD v'+SCRIPT_VERSION+'</a><i id="SuggestDD_Dialog_Updates"></i></span>'+
										'<div id="SuggestDD_Dialog_Prev">'+preview_stuff+
											'<div class="tools">'+
												'<span id="SuggestDD_Dialog_Counter" title="This will be your '+count+ending+' DD suggestion!">'+count+'<b>'+ending+'</b></span> '+
												'<span id="SuggestDD_Dialog_MiniModeButton" title="Switch to Mini Mode" class="minmoder">&nbsp;</span>'+
												'<br/><a id="SuggestDD_Dialog_Options" href="javascript:;">Options</a>'+
											'</div>'+
										'</div>'+
										
										'<span style="visibility:hidden" id="SuggestDD_Helpers_All">'+
											'<div id="SuggestDD_Helpers_hl" class="SuggestDD_Helpers">'+
												'<strong>Preview</strong>Here is a thumbnail of the deviation you are suggesting.'+
											'</div>'+
											'<div id="SuggestDD_Helpers_hl2" class="SuggestDD_Helpers">'+
												'<strong>Counter</strong>This will be your '+count+ending+' DD suggestion! Click to view previous suggestions.<br/><br/>'+
												'<strong>MiniMode</strong>Switch to MiniMode where you can see the deviation in it\'s full size.'+
											'</div>'+
											'<div id="SuggestDD_Helpers_hr" class="SuggestDD_Helpers">'+
												'<strong>Daily Deviation</strong>The Daily Deviation is a daily feature chosen from the galleries here on deviantART. <a href="http://help.deviantart.com/61/" target="_blank">More Information &raquo;</a>'+
											'</div>'+
											'<div id="SuggestDD_Helpers_hr2" class="SuggestDD_Helpers">'+
												'<strong>Anonymous</strong>Check this box to remain an anonymous suggestor If this deviation is featured.<br/><br/>'+
												'<strong>Suggested Description</strong>Check this box if you want your your reason to be used as the displayed Daily Deviation description.'+
											'</div>'+
										'</span>'+
										
									    '<div id="SuggestDD_Dialog_Insides">'+
																				
											'<div class="smalls" id="SuggestDD_Dialog_Insides_info">'+
												'<strong>Subject: <span>'+(devTitle.replace(/^\s+|\s+$/g,""))+'</span></strong>'+
												'<strong>Category: <span>'+gallery+'</span></strong>'+
												'<hr/>'+
											'</div>'+
											
											
											'<p>'+
												'<strong>Which GM should this be sent to? <a href="javascript:;" id="SuggestDD_Wrong_Suggestions_Report">Wrong Gallery Moderators?</a></span></strong>'+
												'<span id="SuggestDD_listGD"><i>Loading list...</i></span>'+
											'</p>'+
											
											'<p>'+
												'<strong>Why should this deviation be featured?</strong>'+
												'<textarea id="SuggestDD_Dialog_Comments" value="" rows="4"></textarea>'+
												'<span class="options">'+
													'<input type="checkbox" id="Suggest_DD_Dialog_Anonymous" name="Suggest_DD_Dialog_Anonymous"/><label id="Suggest_DD_Dialog_Anonymous_Label" title="If this deviation is featured, check this box to remain an anonymous suggestor." for="Suggest_DD_Dialog_Anonymous">Anonymous</label>'+
													'<input type="checkbox" id="Suggest_DD_Dialog_SuggestedDescription" name="Suggest_DD_Dialog_SuggestedDescription"/><label id="Suggest_DD_Dialog_SuggestedDescription_Label" title="Do you want your reason to be used as the displayed Daily Deviation description?" for="Suggest_DD_Dialog_SuggestedDescription">Suggested Description</label>'+
													'<a href="javascript:;" title="Show help popups" id="Suggest_DD_Dialog_ShowHelp">show help</a>'+
													'<a href="javascript:;" title="Hide help popups" style="display:none" id="Suggest_DD_Dialog_HideHelp">hide help</a>'+
												'</span>'+
											'</p>'+																				
										
											'<hr/>'+
											
											
											'<a class="smbutton" id="SuggestDD_Dialog_Cancel"><span>Cancel</span></a>'+
											'<a class="smbutton smbutton-blue" style="display:none;" id="SuggestDD_Dialog_Apply"><span>Suggest</span></a>'+
											'<a class="smbutton smbutton-blue" style="display:none;" id="SuggestDD_Dialog_Apply_suggesting"><span></span></a>'+
											
										'</div>';
										
	if(GM_getValue('SuggestDD_Dialog_Option_3')=='false') document.getElementById('SuggestDD_Dialog_Insides_info').style.display="none";
	
	if(count>100) {
		document.getElementById('SuggestDD_Dialog_Header').className="special100";
		document.getElementById('SuggestDD_Dialog_Counter').className="special100";
	}
										
	checkForUpdates();
				

	var dat = new Date();
	var	SuggestDD_Time_Last_Suggest = 0;
	if (GM_getValue('lastsuggest')){
		SuggestDD_Time_Last_Suggest = parseInt(GM_getValue('lastsuggest'));
	}
	if ((dat.getTime()-SuggestDD_Time_Last_Suggest)<60000 && SuggestDD_Time_Last_Suggest!=0){
		var secsleft = 60-Math.round((dat.getTime()-SuggestDD_Time_Last_Suggest)/1000);
		
		var Suggesttimer;
		function secondschecker(){
			var dat = new Date();
			var secs = 60-Math.round((dat.getTime()-SuggestDD_Time_Last_Suggest)/1000);
			if(secs==1){
				document.getElementById('SuggestDD_Dialog_Apply_suggesting').innerHTML="<span>Can suggest in "+secs+" second...</span>";
				document.getElementById('SuggestDD_Dialog_Apply_suggesting').style.display="inline-block";
			} else {
				document.getElementById('SuggestDD_Dialog_Apply_suggesting').innerHTML="<span>Can suggest in "+secs+" seconds...</span>";
				document.getElementById('SuggestDD_Dialog_Apply_suggesting').style.display="inline-block";
			}
			if(secs==0){
				document.getElementById('SuggestDD_Dialog_Apply_suggesting').style.display="none";
				document.getElementById('SuggestDD_Dialog_Apply_suggesting').innerHTML="<span>Suggesting...</span>";
				document.getElementById('SuggestDD_Dialog_Apply').style.display="inline-block";
				clearInterval(Suggesttimer);
			}
		}
		Suggesttimer = setInterval(secondschecker, 1000);		
	} else {
		document.getElementById('SuggestDD_Dialog_Apply_suggesting').style.display="none";
		document.getElementById('SuggestDD_Dialog_Apply_suggesting').innerHTML="<span>Suggesting...</span>";
		document.getElementById('SuggestDD_Dialog_Apply').style.display="inline-block";		
	}
										
	GM_xmlhttpRequest({
		method:'POST',
		url: 'http://solitude.24bps.com/SuggestDD/generate.php',
		headers:{"Content-type":"application/x-www-form-urlencoded"},
		data: "get="+escape(suggester)+"&devid="+deviationid+"&v="+SCRIPT_VERSION,
		onload: function(responseDetails){
			var data = responseDetails.responseText;	
			eval(data);				
		}
	});
	
	SuggestDD_Dialog_Popup.style.marginTop=(-(SuggestDD_Dialog_Popup.clientHeight/2))+"px";	
	SuggestDD_Dialog_Popup.style.marginLeft=(-(SuggestDD_Dialog_Popup.clientWidth/2))+"px";		
	
	document.getElementById('SuggestDD_Helpers_hr2').style.bottom=(SuggestDD_Dialog_Popup.clientHeight-document.getElementById('Suggest_DD_Dialog_ShowHelp').offsetTop-document.getElementById('Suggest_DD_Dialog_ShowHelp').offsetHeight-10) +"px";
	
	if((document.getElementById('SuggestDD_Dialog_Counter').offsetTop-40)<(document.getElementById('SuggestDD_Helpers_hl').offsetTop + document.getElementById('SuggestDD_Helpers_hl').offsetHeight)){
		document.getElementById('SuggestDD_Helpers_hl2').style.top=(document.getElementById('SuggestDD_Helpers_hl').offsetBottom+10) +"px";
		GM_addStyle("#SuggestDD_Helpers_hl2:after {top:10px !important;}");
	} else {
		document.getElementById('SuggestDD_Helpers_hl2').style.top=(document.getElementById('SuggestDD_Dialog_Counter').offsetTop-40) +"px";
		GM_addStyle("#SuggestDD_Helpers_hl2:after {top:30px !important;}");
	}
	
	document.getElementById("SuggestDD_Options_Popup").innerHTML = '<strong>Options</strong><br/><br>'+
		'<input type="checkbox" id="SuggestDD_Dialog_Option_1" name="SuggestDD_Dialog_Option_1"/><label id="SuggestDD_Dialog_Option_1_Label" for="SuggestDD_Dialog_Option_1">Always start in <b>MiniMode</b></label><br/>'+
		'<input type="checkbox" id="SuggestDD_Dialog_Option_2" name="SuggestDD_Dialog_Option_2"/><label id="SuggestDD_Dialog_Option_2_Label" for="SuggestDD_Dialog_Option_2">Show Category/Subject info in <b>MiniMode</b></label><br/>'+
		'<input type="checkbox" id="SuggestDD_Dialog_Option_3" name="SuggestDD_Dialog_Option_3"/><label id="SuggestDD_Dialog_Option_3_Label" for="SuggestDD_Dialog_Option_3">Show Category/Subject info in <b>Normal Mode</b></label><br/>'+
		'<input type="checkbox" id="SuggestDD_Dialog_Option_4" name="SuggestDD_Dialog_Option_4"/><label id="SuggestDD_Dialog_Option_4_Label" for="SuggestDD_Dialog_Option_4">Save last used window position in <b>MiniMode</b></label><br/>'+
		'<a class="smbutton smbutton-blue" id="SuggestDD_Options_Popup_Save"><span>Save</span></a> <a class="smbutton" id="SuggestDD_Options_Popup_Cancel"><span>Cancel</span></a>';
				
	//document.getElementById('SuggestDD_Dialog_Option_1').checked; // Do Nothing now
	//document.getElementById('SuggestDD_Dialog_Option_2').checked; // Do Nothing now
	//document.getElementById('SuggestDD_Dialog_Option_3').checked; // Hide Info now.		
	if(GM_getValue('SuggestDD_Dialog_Option_1')=='true') document.getElementById('SuggestDD_Dialog_Option_1').checked=true;
	if(GM_getValue('SuggestDD_Dialog_Option_2')=='true') document.getElementById('SuggestDD_Dialog_Option_2').checked=true;
	if(GM_getValue('SuggestDD_Dialog_Option_3')=='true') document.getElementById('SuggestDD_Dialog_Option_3').checked=true;
	if(GM_getValue('SuggestDD_Dialog_Option_4')=='false') document.getElementById('SuggestDD_Dialog_Option_4').checked=false; else document.getElementById('SuggestDD_Dialog_Option_4').checked=true;
		
	var previoussuggestions = [];
	for each (var val in GM_listValues()) {
	  if(val!="counter" && val!="lastsuggest" && val.indexOf('SuggestDD_Dialog_Option')<0)
	  	previoussuggestions.push(val);
	}
	document.getElementById("SuggestDD_PreviousSuggestions").innerHTML = "<strong>Previous Suggestions via SuggestDD</strong><br/><i>Loading...</i>";
	if(previoussuggestions.length!=0){
		
		var ids = '"'+previoussuggestions.join('","')+'"';
		GM_xmlhttpRequest({
			method:'GET',
			url: 'http://www.deviantart.com/global/difi/?t=json&c[]="Deviation","Get",[['+ids+']]',
			onload: function(responseDetails){
				var srcinfo = eval('('+responseDetails.responseText+')');	
				var buffer ="";
				for(var num=0;num<srcinfo.DiFi.response.calls[0].response.content.length;num++){
					if(srcinfo.DiFi.response.calls[0].response.content[num].filename!="" && srcinfo.DiFi.response.calls[0].response.content[num].filename.indexOf(":v")<0 && srcinfo.DiFi.response.calls[0].response.content[num].filetyp>=0)
						if (srcinfo.DiFi.response.calls[0].response.content[num].width<150 && srcinfo.DiFi.response.calls[0].response.content[num].height<150)
							buffer+='<a href="'+srcinfo.DiFi.response.calls[0].response.content[num].url+'"><img class="smshadow" src="http://th02.deviantart.com/'+srcinfo.DiFi.response.calls[0].response.content[num].filename.replace(/\:/, "/")+'"/></a> ';
						else
							buffer+='<a href="'+srcinfo.DiFi.response.calls[0].response.content[num].url+'"><img class="smshadow" src="http://th02.deviantart.com/'+srcinfo.DiFi.response.calls[0].response.content[num].filename.replace(/\:/, "/150/")+'"/></a> ';
					else 
						if (srcinfo.DiFi.response.calls[0].response.content[num].width<150 && srcinfo.DiFi.response.calls[0].response.content[num].height<150)
							buffer+='<a href="'+srcinfo.DiFi.response.calls[0].response.content[num].url+'"><img class="smshadow" src="http://th02.deviantart.com/'+srcinfo.DiFi.response.calls[0].response.content[num].filename.replace(/\:/, "/")+'"/></a> ';
						else
						buffer+='<a href="'+srcinfo.DiFi.response.calls[0].response.content[num].url+'"><img class="smshadow" src="http://th01.deviantart.com/'+srcinfo.DiFi.response.calls[0].response.content[num].filepreview.replace(/\:/, "/150/")+'"/></a> ';
				}
				document.getElementById("SuggestDD_PreviousSuggestions").innerHTML = "<strong>Previous Suggestions via SuggestDD</strong> (in no specific order)<br/><div style='text-align:center'>"+buffer+"</div>";
			}
		});
		
		
	} else {
		
		document.getElementById("SuggestDD_PreviousSuggestions").innerHTML = "<strong>Previous Suggestions via SuggestDD</strong><br/>You have no previous suggestions!";
		
	}
	
	document.getElementById("SuggestDD_Wrong_Suggestions_Report").addEventListener('click', function(e){
		var opinion = prompt("Which gallery moderator/category do you believe should have appeared in the list? (leave blank if unsure)");		
		if(!opinion) return;
		GM_xmlhttpRequest({
			method:'POST',
			url: 'http://solitude.24bps.com/SuggestDD/report.php',
			headers:{"Content-type":"application/x-www-form-urlencoded"},
			data: 'deviationid=' + escape(deviationid) + '&suggester=' + escape(suggester) + '&opinion=' + encodeURI(opinion),
			onload: function(responseDetails){
				var data = responseDetails.responseText;
				if(data=="SUCCESS"){
					alert("Thank you!\n\nThe problem has been reported. Expect the correct suggestions to appear within a week. No update is required.\n\nTo choose the correct gallery moderator, you can view all of them by selecting 'Show all' in the suggestions list, or you can enter a specific gallery moderator by selecting 'Other'.");
				} else {
					alert("The report was not sent; an error occured: " + data);
				}			
			}
		});
	}, false);
	
	document.getElementById("Suggest_DD_Dialog_ShowHelp").addEventListener('click', function(e){
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.display="inline-block";
		document.getElementById("Suggest_DD_Dialog_ShowHelp").style.display="none";
		document.getElementById("SuggestDD_Helpers_All").style.visibility="visible";
		
		document.getElementById("SuggestDD_Dialog_MiniModeButton").style.borderColor="#0093B6";
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.borderColor="#0093B6";
		document.getElementById("SuggestDD_Dialog_Counter").style.borderColor="#0093B6";
		document.getElementById("Suggest_DD_Dialog_Anonymous_Label").style.color="#00739A";
		document.getElementById("Suggest_DD_Dialog_SuggestedDescription_Label").style.color="#00739A";
		document.getElementById("SuggestDD_Helper_DD_Title").style.color="#00739A";
		
		if(document.getElementById("SuggestDD_Dialog_Preview"))
			if(document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className.indexOf(" small")>-1)
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow small highlight";
			else 			
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow highlight";
		
	}, false);
	
	document.getElementById("Suggest_DD_Dialog_HideHelp").addEventListener('click', function(e){
		document.getElementById("Suggest_DD_Dialog_ShowHelp").style.display="inline-block";
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.display="none";
		document.getElementById("SuggestDD_Helpers_All").style.visibility="hidden";
		
		document.getElementById("SuggestDD_Dialog_MiniModeButton").style.borderColor="#BDD1B4";
		document.getElementById("SuggestDD_Dialog_Counter").style.borderColor="#BDD1B4";
		document.getElementById("Suggest_DD_Dialog_Anonymous_Label").style.color="inherit";
		document.getElementById("Suggest_DD_Dialog_SuggestedDescription_Label").style.color="inherit";
		document.getElementById("SuggestDD_Helper_DD_Title").style.color="inherit";
		
		if(document.getElementById("SuggestDD_Dialog_Preview"))
			if(document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className.indexOf(" small")>-1)
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow small";
			else 			
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow";
	}, false);
	
	if(GM_getValue('SuggestDD_Dialog_Option_1')=='true') {
		if(document.getElementById("gmi-PreviewStreamControls")){
			document.getElementById("gmi-PreviewStreamControls").style.visibility="hidden";
		} else if (document.getElementById("amazing-title-zone")){
			document.getElementById("amazing-title-zone").parentNode.style.visibility="hidden";
			document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.style.visibility="hidden";
			document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.previousSibling.style.visibility="hidden";
			document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.previousSibling.previousSibling.style.visibility="hidden";
		}
		document.getElementById("SuggestDD_Dialog_Prev").style.visibility="hidden";
				
		if(GM_getValue('SuggestDD_Dialog_Option_2')=='true')
			document.getElementById("SuggestDD_Dialog_Insides_info").style.display="block";
		else
			document.getElementById("SuggestDD_Dialog_Insides_info").style.display="none";
			
		document.getElementById("SuggestDD_Darker").style.visibility="hidden";
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.display="none";
		document.getElementById("Suggest_DD_Dialog_ShowHelp").style.display="none";
		document.getElementById("SuggestDD_Helpers_All").style.visibility="hidden";		
		
		document.getElementById("SuggestDD_Dialog_MiniModeButton").style.borderColor="#BDD1B4";
		document.getElementById("SuggestDD_Dialog_Counter").style.borderColor="#BDD1B4";
		document.getElementById("Suggest_DD_Dialog_Anonymous_Label").style.color="inherit";
		document.getElementById("Suggest_DD_Dialog_SuggestedDescription_Label").style.color="inherit";
		document.getElementById("SuggestDD_Helper_DD_Title").style.color="inherit";
		
		if(document.getElementById("SuggestDD_Dialog_Preview"))
			if(document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className.indexOf(" small")>-1)
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow small";
			else 			
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow";
		
		document.getElementById("SuggestDD_Dialog_MaxModeButton").style.display="block";
		GM_addStyle(		
			"#SuggestDD_Dialog_Insides {"+
				"margin:70px 20px 20px 20px !important;"+
			"}"+
			"#SuggestDD_Dialog_Header {"+
				"padding:15px 15px;"+				
			"}"+
			"#SuggestDD_Dialog_Insides hr {"+
				"display:none !important;"+
			"}"+
			"#SuggestDD_Dialog_Insides_info hr {"+
				"display:block !important;"+
			"}"+
			"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev {"+
				"display:none !important;"+
				"min-width:0px;"+
			"}"
		
		);
		document.getElementById("SuggestDD_Dialog_Popup").style.margin="0px";
		document.getElementById("SuggestDD_Dialog_Popup").style.top="60px";
		document.getElementById("SuggestDD_Dialog_Popup").style.right="auto";
		document.getElementById("SuggestDD_Dialog_Popup").style.left="80px";
		document.getElementById("SuggestDD_Dialog_Popup").style.bottom="auto";
		
		document.getElementById('SuggestDD_Dialog_Header').setAttribute('onmousedown', "dragStart(event, 'SuggestDD_Dialog_Popup');");
 		document.getElementById("SuggestDD_Dialog_Header").style.cursor="-moz-grab";
	}
	
	document.getElementById("SuggestDD_Dialog_MiniModeButton").addEventListener('click', function(e){
		if(document.getElementById("gmi-PreviewStreamControls")){
			document.getElementById("gmi-PreviewStreamControls").style.visibility="hidden";
		} else if(document.getElementById("amazing-title-zone")){
			document.getElementById("amazing-title-zone").parentNode.style.visibility="hidden";
			document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.style.visibility="hidden";
			document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.previousSibling.style.visibility="hidden";
			document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.previousSibling.previousSibling.style.visibility="hidden";
		}
		document.getElementById("SuggestDD_Dialog_Prev").style.visibility="hidden";		
		
		if(GM_getValue('SuggestDD_Dialog_Option_2')=='true')
			document.getElementById("SuggestDD_Dialog_Insides_info").style.display="block";
		else
			document.getElementById("SuggestDD_Dialog_Insides_info").style.display="none";
			
		document.getElementById("SuggestDD_Darker").style.visibility="hidden";
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.display="none";
		document.getElementById("Suggest_DD_Dialog_ShowHelp").style.display="none";
		document.getElementById("SuggestDD_Helpers_All").style.visibility="hidden";		
		
		document.getElementById("SuggestDD_Dialog_MiniModeButton").style.borderColor="#BDD1B4";
		document.getElementById("SuggestDD_Dialog_Counter").style.borderColor="#BDD1B4";
		document.getElementById("Suggest_DD_Dialog_Anonymous_Label").style.color="inherit";
		document.getElementById("Suggest_DD_Dialog_SuggestedDescription_Label").style.color="inherit";
		document.getElementById("SuggestDD_Helper_DD_Title").style.color="inherit";
		
		if(document.getElementById("SuggestDD_Dialog_Preview"))
			if(document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className.indexOf(" small")>-1)
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow small";
			else 			
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow";
		
		document.getElementById("SuggestDD_Dialog_MaxModeButton").style.display="block";
		GM_addStyle(		
			"#SuggestDD_Dialog_Insides {"+
				"margin:70px 20px 20px 20px !important;"+
			"}"+
			"#SuggestDD_Dialog_Header {"+
				"padding:15px 15px;"+				
			"}"+
			"#SuggestDD_Dialog_Insides hr {"+
				"display:none !important;"+
			"}"+
			"#SuggestDD_Dialog_Insides_info hr {"+
				"display:block !important;"+
			"}"+
			"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev {"+
				"display:none !important;"+
				"min-width:0px;"+
			"}"
		
		);
		document.getElementById("SuggestDD_Dialog_Popup").style.margin="0px";
		document.getElementById("SuggestDD_Dialog_Popup").style.right="auto";
		document.getElementById("SuggestDD_Dialog_Popup").style.bottom="auto";
		
		if(GM_getValue('SuggestDD_Dialog_Option_4')=='false') {
			document.getElementById("SuggestDD_Dialog_Popup").style.top="60px";
			document.getElementById("SuggestDD_Dialog_Popup").style.left="80px";
		} else {
			var positions = GM_getValue('SuggestDD_Dialog_Option_4').split(',');
			document.getElementById("SuggestDD_Dialog_Popup").style.top=positions[0]+"px";
			document.getElementById("SuggestDD_Dialog_Popup").style.left=positions[1]+"px";			
		}
		document.getElementById('SuggestDD_Dialog_Header').setAttribute('onmousedown', "dragStart(event, 'SuggestDD_Dialog_Popup');");
 		document.getElementById("SuggestDD_Dialog_Header").style.cursor="-moz-grab";				
	}, false);
	
	
	
	document.getElementById("SuggestDD_Dialog_Counter").addEventListener('click', function(e){
		document.getElementById("SuggestDD_Dialog_Prev").style.visibility="hidden";
		document.getElementById("SuggestDD_Dialog_Insides").style.visibility="hidden";
		document.getElementById("SuggestDD_Dialog_Version").style.visibility="hidden";
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.display="none";
		document.getElementById("Suggest_DD_Dialog_ShowHelp").style.display="none";
		document.getElementById("SuggestDD_Helpers_All").style.visibility="hidden";				
		document.getElementById("SuggestDD_Dialog_MiniModeButton").style.borderColor="#BDD1B4";
		document.getElementById("SuggestDD_Dialog_Counter").style.borderColor="#BDD1B4";
		document.getElementById("Suggest_DD_Dialog_Anonymous_Label").style.color="inherit";
		document.getElementById("Suggest_DD_Dialog_SuggestedDescription_Label").style.color="inherit";
		document.getElementById("SuggestDD_Helper_DD_Title").style.color="inherit";
		if(document.getElementById("SuggestDD_Dialog_Preview"))
			if(document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className.indexOf(" small")>-1)
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow small";
			else 			
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow";
		//
		document.getElementById("SuggestDD_PreviousSuggestions").style.display="block";
		document.getElementById("SuggestDD_Dialog_CloseCounter").style.display="inline-block";//
					
	}, false);
	document.getElementById("SuggestDD_Dialog_CloseCounter").addEventListener('click', function(e){
		document.getElementById("SuggestDD_Dialog_Prev").style.visibility="visible";
		document.getElementById("SuggestDD_Dialog_Insides").style.visibility="visible";
		document.getElementById("SuggestDD_Dialog_Version").style.visibility="visible";
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.display="none";
		document.getElementById("Suggest_DD_Dialog_ShowHelp").style.display="inline-block";//SuggestDD_Dialog_CloseCounter
		document.getElementById("SuggestDD_Helpers_All").style.visibility="hidden";				
		document.getElementById("SuggestDD_Dialog_MiniModeButton").style.borderColor="#BDD1B4";
		document.getElementById("SuggestDD_Dialog_Counter").style.borderColor="#BDD1B4";
		document.getElementById("Suggest_DD_Dialog_Anonymous_Label").style.color="inherit";
		document.getElementById("Suggest_DD_Dialog_SuggestedDescription_Label").style.color="inherit";
		document.getElementById("SuggestDD_Helper_DD_Title").style.color="inherit";
		if(document.getElementById("SuggestDD_Dialog_Preview"))
			if(document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className.indexOf(" small")>-1)
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow small";
			else 			
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow";
		//
		document.getElementById("SuggestDD_PreviousSuggestions").style.display="none";
		document.getElementById("SuggestDD_Dialog_CloseCounter").style.display="none";//
					
	}, false);//
	document.getElementById("SuggestDD_Dialog_Options").addEventListener('click', function(e){
		document.getElementById("SuggestDD_Dialog_Prev").style.visibility="hidden";
		document.getElementById("SuggestDD_Dialog_Insides").style.visibility="hidden";
		document.getElementById("SuggestDD_Dialog_Version").style.visibility="hidden";
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.display="none";
		document.getElementById("Suggest_DD_Dialog_ShowHelp").style.display="none";
		document.getElementById("SuggestDD_Helpers_All").style.visibility="hidden";				
		document.getElementById("SuggestDD_Dialog_MiniModeButton").style.borderColor="#BDD1B4";
		document.getElementById("SuggestDD_Dialog_Counter").style.borderColor="#BDD1B4";
		document.getElementById("Suggest_DD_Dialog_Anonymous_Label").style.color="inherit";
		document.getElementById("Suggest_DD_Dialog_SuggestedDescription_Label").style.color="inherit";
		document.getElementById("SuggestDD_Helper_DD_Title").style.color="inherit";
		if(document.getElementById("SuggestDD_Dialog_Preview"))
			if(document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className.indexOf(" small")>-1)
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow small";
			else 			
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow";
		//
		document.getElementById("SuggestDD_Options_Popup").style.display="block";
		document.getElementById("SuggestDD_Dialog_Options_Close").style.display="inline-block";//
					
	}, false);
	document.getElementById("SuggestDD_Dialog_Options_Close").addEventListener('click', function(e){
		document.getElementById("SuggestDD_Dialog_Prev").style.visibility="visible";
		document.getElementById("SuggestDD_Dialog_Insides").style.visibility="visible";
		document.getElementById("SuggestDD_Dialog_Version").style.visibility="visible";
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.display="none";
		document.getElementById("Suggest_DD_Dialog_ShowHelp").style.display="inline-block";//SuggestDD_Dialog_CloseCounter
		document.getElementById("SuggestDD_Helpers_All").style.visibility="hidden";				
		document.getElementById("SuggestDD_Dialog_MiniModeButton").style.borderColor="#BDD1B4";
		document.getElementById("SuggestDD_Dialog_Counter").style.borderColor="#BDD1B4";
		document.getElementById("Suggest_DD_Dialog_Anonymous_Label").style.color="inherit";
		document.getElementById("Suggest_DD_Dialog_SuggestedDescription_Label").style.color="inherit";
		document.getElementById("SuggestDD_Helper_DD_Title").style.color="inherit";
		if(document.getElementById("SuggestDD_Dialog_Preview"))
			if(document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className.indexOf(" small")>-1)
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow small";
			else 			
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow";
		//
		document.getElementById("SuggestDD_Options_Popup").style.display="none";
		document.getElementById("SuggestDD_Dialog_Options_Close").style.display="none";//
					
	}, false);
	
	document.getElementById("SuggestDD_Options_Popup_Save").addEventListener('click', function(e){
		//Save Values
		if(document.getElementById('SuggestDD_Dialog_Option_1').checked==true)
			GM_setValue('SuggestDD_Dialog_Option_1','true');
		else
			GM_setValue('SuggestDD_Dialog_Option_1','false');
			
		if(document.getElementById('SuggestDD_Dialog_Option_2').checked==true)
			GM_setValue('SuggestDD_Dialog_Option_2','true');
		else
			GM_setValue('SuggestDD_Dialog_Option_2','false');
			
		if(document.getElementById('SuggestDD_Dialog_Option_3').checked==true)
			GM_setValue('SuggestDD_Dialog_Option_3','true');
		else
			GM_setValue('SuggestDD_Dialog_Option_3','false');
			
		if(document.getElementById('SuggestDD_Dialog_Option_4').checked==true){
			if(GM_getValue('SuggestDD_Dialog_Option_4')=='false'){
				GM_setValue('SuggestDD_Dialog_Option_4','60,80');
			}
		} else
			GM_setValue('SuggestDD_Dialog_Option_4','false');
		//document.getElementById('SuggestDD_Dialog_Option_2').checked; // Do Nothing now
		//document.getElementById('SuggestDD_Dialog_Option_3').checked; // Hide Info now.
		
		if(GM_getValue('SuggestDD_Dialog_Option_3')=='false')
			document.getElementById("SuggestDD_Dialog_Insides_info").style.display="none";
		else
			document.getElementById("SuggestDD_Dialog_Insides_info").style.display="block";
			
		document.getElementById("SuggestDD_Dialog_Prev").style.visibility="visible";
		document.getElementById("SuggestDD_Dialog_Insides").style.visibility="visible";
		document.getElementById("SuggestDD_Dialog_Version").style.visibility="visible";
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.display="none";
		document.getElementById("Suggest_DD_Dialog_ShowHelp").style.display="inline-block";//SuggestDD_Dialog_CloseCounter
		document.getElementById("SuggestDD_Helpers_All").style.visibility="hidden";				
		document.getElementById("SuggestDD_Dialog_MiniModeButton").style.borderColor="#BDD1B4";
		document.getElementById("SuggestDD_Dialog_Counter").style.borderColor="#BDD1B4";
		document.getElementById("Suggest_DD_Dialog_Anonymous_Label").style.color="inherit";
		document.getElementById("Suggest_DD_Dialog_SuggestedDescription_Label").style.color="inherit";
		document.getElementById("SuggestDD_Helper_DD_Title").style.color="inherit";
		if(document.getElementById("SuggestDD_Dialog_Preview"))
			if(document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className.indexOf(" small")>-1)
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow small";
			else 			
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow";
		//
		document.getElementById("SuggestDD_Options_Popup").style.display="none";
		document.getElementById("SuggestDD_Dialog_Options_Close").style.display="none";//
					
	}, false);
	document.getElementById("SuggestDD_Options_Popup_Cancel").addEventListener('click', function(e){
		document.getElementById("SuggestDD_Dialog_Prev").style.visibility="visible";
		document.getElementById("SuggestDD_Dialog_Insides").style.visibility="visible";
		document.getElementById("SuggestDD_Dialog_Version").style.visibility="visible";
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.display="none";
		document.getElementById("Suggest_DD_Dialog_ShowHelp").style.display="inline-block";//SuggestDD_Dialog_CloseCounter
		document.getElementById("SuggestDD_Helpers_All").style.visibility="hidden";				
		document.getElementById("SuggestDD_Dialog_MiniModeButton").style.borderColor="#BDD1B4";
		document.getElementById("SuggestDD_Dialog_Counter").style.borderColor="#BDD1B4";
		document.getElementById("Suggest_DD_Dialog_Anonymous_Label").style.color="inherit";
		document.getElementById("Suggest_DD_Dialog_SuggestedDescription_Label").style.color="inherit";
		document.getElementById("SuggestDD_Helper_DD_Title").style.color="inherit";
		if(document.getElementById("SuggestDD_Dialog_Preview"))
			if(document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className.indexOf(" small")>-1)
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow small";
			else 			
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow";
		//
		document.getElementById("SuggestDD_Options_Popup").style.display="none";
		document.getElementById("SuggestDD_Dialog_Options_Close").style.display="none";//
					
	}, false);
	
	document.getElementById("SuggestDD_Dialog_MaxModeButton").addEventListener('click', function(e){
		if(GM_getValue('SuggestDD_Dialog_Option_4')!='false') {
			GM_setValue('SuggestDD_Dialog_Option_4', document.getElementById("SuggestDD_Dialog_Popup").style.top.replace("px","")+','+document.getElementById("SuggestDD_Dialog_Popup").style.left.replace("px",""));			
		}
		if(document.getElementById("gmi-PreviewStreamControls")){
			document.getElementById("gmi-PreviewStreamControls").style.visibility="visible";
		} else if(document.getElementById("amazing-title-zone")){
			document.getElementById("amazing-title-zone").parentNode.style.visibility="visible";
			document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.style.visibility="visible";
			document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.previousSibling.style.visibility="visible";
			document.getElementById("amazing-title-zone").parentNode.parentNode.previousSibling.previousSibling.previousSibling.style.visibility="visible";
		}
		document.getElementById("SuggestDD_Dialog_Prev").style.visibility="visible";
		
		
		if(GM_getValue('SuggestDD_Dialog_Option_3')=='true')
			document.getElementById("SuggestDD_Dialog_Insides_info").style.display="block";
		else
			document.getElementById("SuggestDD_Dialog_Insides_info").style.display="none";
			
		document.getElementById("SuggestDD_Darker").style.visibility="visible";
		
		document.getElementById("Suggest_DD_Dialog_HideHelp").style.display="none";
		document.getElementById("Suggest_DD_Dialog_ShowHelp").style.display="inline-block";
		
		document.getElementById("SuggestDD_Helpers_All").style.visibility="hidden";
		
		
		document.getElementById("SuggestDD_Dialog_MiniModeButton").style.borderColor="#BDD1B4";
		document.getElementById("SuggestDD_Dialog_Counter").style.borderColor="#BDD1B4";
		document.getElementById("Suggest_DD_Dialog_Anonymous_Label").style.color="inherit";
		document.getElementById("Suggest_DD_Dialog_SuggestedDescription_Label").style.color="inherit";
		document.getElementById("SuggestDD_Helper_DD_Title").style.color="inherit";
		if(document.getElementById("SuggestDD_Dialog_Preview"))
			if(document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className.indexOf(" small")>-1)
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow small";
			else 			
				document.getElementById("SuggestDD_Dialog_Preview").getElementsByTagName('img')[0].className="smshadow";
		
		document.getElementById("SuggestDD_Dialog_MaxModeButton").style.display="none";
		GM_addStyle(
			"#SuggestDD_Dialog_Insides {"+
				"margin:90px 20px 20px 20px !important;"+
			"}"+
			"#SuggestDD_Dialog_Header {"+
				"padding:20px 15px;"+				
			"}"+
			"#SuggestDD_Dialog_Insides hr {"+
				"display:block !important;"+
			"}"+
			"#SuggestDD_Dialog_Insides_info hr {"+
				"display:block !important;"+
			"}"+
			"#SuggestDD_Dialog_Popup #SuggestDD_Dialog_Prev {"+
				"display:inline-block !important;"+
				"min-width:90px;"+
			"}"		
		);		
		
		document.getElementById("SuggestDD_Dialog_Popup").style.top="0px";
		document.getElementById("SuggestDD_Dialog_Popup").style.left="0px";
		SuggestDD_Dialog_Popup.style.marginTop=(-(SuggestDD_Dialog_Popup.clientHeight/2))+"px";	
		SuggestDD_Dialog_Popup.style.marginLeft=(-(SuggestDD_Dialog_Popup.clientWidth/2))+"px";			
		document.getElementById("SuggestDD_Dialog_Popup").style.top="50%";
		document.getElementById("SuggestDD_Dialog_Popup").style.left="50%";
		document.getElementById("SuggestDD_Dialog_Popup").style.bottom="auto";
		document.getElementById("SuggestDD_Dialog_Popup").style.right="auto";
					
		document.getElementById('SuggestDD_Dialog_Header').setAttribute('onmousedown', "");
 		document.getElementById("SuggestDD_Dialog_Header").style.cursor="default";				
	}, false);
	
	document.getElementById('SuggestDD_Dialog_Apply').addEventListener('click', function(e){
		function disablethings(){
			document.getElementById('SuggestDD_Dialog_Apply_suggesting').innerHTML="<span>Suggesting...</span>";//SuggestDD_Time_Last_Suggest
			document.getElementById('SuggestDD_Dialog_Apply').style.display="none";
			document.getElementById('SuggestDD_Dialog_Apply_suggesting').style.display="inline-block";		
			
			document.getElementById("SuggestDD_Dialog_Comments").disabled=true;
			document.getElementById("Suggest_DD_Dialog_Anonymous").disabled=true;
			document.getElementById("Suggest_DD_Dialog_SuggestedDescription").disabled=true;		
			
			
			if (document.getElementById('SuggestDD_Dialog_Director').style.display=="none" && document.getElementById('SuggestDD_Dialog_ShowAllDirector').style.display=="none"){
				document.getElementById('SuggestDD_Dialog_OtherDirector').disabled=true;		
				document.getElementById('SuggestDD_Dialog_OtherDirector_Close').style.display="none";	
			} else if (document.getElementById('SuggestDD_Dialog_Director').value=="other"){
			   document.getElementById('SuggestDD_Dialog_Director').disabled=true;			
			} else if (document.getElementById('SuggestDD_Dialog_ShowAllDirector').style.display=="block"){
			   document.getElementById('SuggestDD_Dialog_ShowAllDirector').disabled=true;					
			} else {
			   document.getElementById('SuggestDD_Dialog_Director').disabled=true;					
			}
		}
		function enablethings(){
			document.getElementById('SuggestDD_Dialog_Apply_suggesting').style.display="none";//SuggestDD_Time_Last_Suggest
			document.getElementById('SuggestDD_Dialog_Apply').style.display="inline-block";
			
			document.getElementById("SuggestDD_Dialog_Comments").disabled=false;
			document.getElementById("Suggest_DD_Dialog_Anonymous").disabled=false;
			document.getElementById("Suggest_DD_Dialog_SuggestedDescription").disabled=false;	
			
			if (document.getElementById('SuggestDD_Dialog_Director').style.display=="none" && document.getElementById('SuggestDD_Dialog_ShowAllDirector').style.display=="none"){
				document.getElementById('SuggestDD_Dialog_OtherDirector').disabled=false;		
				document.getElementById('SuggestDD_Dialog_OtherDirector_Close').style.display="block";	
			} else if (document.getElementById('SuggestDD_Dialog_Director').value=="other"){
			   document.getElementById('SuggestDD_Dialog_Director').disabled=false;			
			} else if (document.getElementById('SuggestDD_Dialog_ShowAllDirector').style.display=="block"){
			   document.getElementById('SuggestDD_Dialog_ShowAllDirector').disabled=false;					
			} else {
			   document.getElementById('SuggestDD_Dialog_Director').disabled=false;					
			}
		}
		disablethings();
		
		var director="";
		
		if (document.getElementById('SuggestDD_Dialog_Director').style.display=="none" && document.getElementById('SuggestDD_Dialog_ShowAllDirector').style.display=="none"){
			director = document.getElementById('SuggestDD_Dialog_OtherDirector').value;		
		} else if (document.getElementById('SuggestDD_Dialog_Director').value=="other"){
			director = "";	
		} else if (document.getElementById('SuggestDD_Dialog_ShowAllDirector').style.display=="block"){		   
			director = document.getElementById('SuggestDD_Dialog_ShowAllDirector').value;					
		} else {
			director = document.getElementById('SuggestDD_Dialog_Director').value;					
		}
		
		if(director==""){
			alert('Please select a Gallery Moderator!');
			enablethings();
			return;
		}		
		if(document.getElementById('SuggestDD_Dialog_Comments').value==''){
			alert('Please give a reason for your suggestion!');
			enablethings();
			return;
		}		
		
		var vals = '<b>Daily Deviation Suggestion:</b> <a href="http://www.deviantart.com/deviation/' + deviationid + '/">' + (devTitle.replace(/^\s+|\s+$/g,"")) +'</a>:<br>'; // + '</a> by :dev' + username + 
		
		vals+=document.getElementById('SuggestDD_Dialog_Comments').value;
		
		var mark = false;
		if (document.getElementById('Suggest_DD_Dialog_SuggestedDescription').checked==true){
			mark = true; vals +='<br><br>---';
			vals+="<br><br><i>This deviant would like you to use the above description as the displayed Daily Deviation description.</i>";
		}
		if(document.getElementById('Suggest_DD_Dialog_Anonymous').checked == true){
			if(!mark) vals +='<br><br>---';
			vals+="<br><br><i>If this deviation is awarded a suggestion, this deviant would like you to <b>not</b> mention them as the suggestor.</i>";
		}
		
		vals +='<br><br>---<br><sub>This suggestion was sent through <a href="http://solitude12.deviantart.com/art/SuggestDD-93439023">SuggestDD</a> v' + SCRIPT_VERSION + '</sub>';
		
		vals = vals.replace(/,/g, "\\,").replace(/;/g, "\\;");
		
		if(getCookie("userinfo")){
			var userinfo = getCookie("userinfo");
		} else {
			alert('It seems you have cookies disabled. Check your Firefox settings, and make sure to check the "Accept third-party cookies" option.');
			enablethings();
			return;
		}
		
		var daDATA = 'c%5B%5D=Notes;pimp;' + escape(deviationid) + ',' + escape(director) + ',' + escape(vals) + '&t=json&ui='+userinfo;
		
		GM_xmlhttpRequest({
			method:"POST",url:"http://www.deviantart.com/global/difi.php",
			headers:{"Content-type":"application/x-www-form-urlencoded"},
			data: daDATA,
			onload: function (responseDetails) {
				var res = responseDetails.responseText;
				eval("var response = " + res);
				if(response.DiFi.status == "SUCCESS"){				
				
					closeDialog();
					var dat = new Date();
					GM_setValue('lastsuggest', dat.getTime().toString());
					GM_setValue(deviationid, false);
					if(!GM_getValue('counter')){
						GM_setValue('counter', '1');
					} else {									
						GM_setValue('counter', parseInt(GM_getValue('counter'))+1);
					}
					if(!document.getElementById('fav-button')){
						document.getElementById("SuggestDD_button").innerHTML="<span><i class='i14'></i><em>Successfully Suggested!</em></span>";
						document.getElementById("SuggestDD_button").setAttribute('class', 'smbutton smbutton-green');
					}else{
						document.getElementById("SuggestDD_button").innerHTML="<em>Successfully Suggested!</em>";						
					}
					return;	
					
				} else {
					
					alert("An error occured!\n\n" + response.DiFi.response.error + ":\n" + response.DiFi.response.details);
					enablethings();
					return;
					
				}
			}
		});	
		
	}, false);
	
	document.getElementById('SuggestDD_Dialog_Cancel').addEventListener('click', function(e){
		closeDialog();
	}, false);
	
	
}
unsafeWindow.createsuggestbutton = function() {
		
	
	username = unsafeWindow.deviantART.pageData.pimp_deviation_artist;
	suggester = unsafeWindow.deviantART.pageData.pimp_me;
	loggedIn = unsafeWindow.deviantART.deviant.loggedIn;
	
	if (!username || !suggester || !loggedIn || suggester==username || document.getElementsByTagName("body")[0].innerHTML.indexOf("<div class=\"dd-icon\"")>-1){
		return false;
	}
	
	if(dialogCreated==true) { return false; }
	
	if(!document.getElementById('gmi-ResourceViewMessageButton') && !document.getElementById('fav-button')){
		return false;	
	}
	

	if(document.getElementById('SuggestDD_button') && unsafeWindow.deviantART.pageData.deviationid==document.getElementById('SuggestDD_button').getAttribute('devid')){
		return false;
	} 
	
	var suggestDD = document.createElement('a');
	var SuggestDD_Time_Last_Suggest = 0;
	suggestDD.setAttribute("href", "#");	
	suggestDD.setAttribute("title", "Suggest a Daily Deviation!");	
	suggestDD.setAttribute('id', 'SuggestDD_button');
	suggestDD.setAttribute('devid', unsafeWindow.deviantART.pageData.deviationid);
	
	if(document.getElementById('fav-button')) {
		suggestDD.innerHTML="Suggest Daily Deviation";
	} else {
		suggestDD.setAttribute('class', 'smbutton');
		suggestDD.innerHTML="<span><i class='i14'></i>Suggest Daily Deviation</span>";
	}
		
	var warnedprev=false;
	suggestDD.addEventListener('click', function(e){
		var deviationid = unsafeWindow.deviantART.pageData.deviationid;
		if (GM_getValue(deviationid)==false){			
		
			if(!document.getElementById('fav-button')){
				suggestDD.innerHTML="<span><i class='i14'></i><em>Already Suggested!</em></span>";
				suggestDD.setAttribute('class', 'smbutton smbutton-green');
			} else {
				suggestDD.innerHTML="<em>Already Suggested!</em>";
			}
			
			e = e||event;
			if(e.preventDefault) e.preventDefault();
			else e.returnValue = false;
			return;
			
		} else {
			GM_xmlhttpRequest(
			{
				method: 'GET',
				url: 'http://' + username + '.deviantart.com/dds/',
				onload: function(responseDetails)
				{
					var ddBody = responseDetails.responseText;
					if (ddBody && ddBody.indexOf("<!-- TTT$ -->")>-1){
						var DDS=0;
						DDS = ddBody.split("<!-- TTT$ -->").length-1; // num of DDs
						if(DDS!=0){
							if(ddBody.split("<!-- TTT$ -->")[DDS-1].match(/<\/a> on (.*)<\/small>/)){
								var lastDDDate = ddBody.split("<!-- TTT$ -->")[DDS-1].match(/<\/a> on (.*)<\/small>/)[1];
								
								var thatday = new Date();
								thatday.setMonth(parseInt(lastDDDate.split('/')[0])-1);
								thatday.setDate(parseInt(lastDDDate.split('/')[1]));
								
								var thatdayyear = lastDDDate.split('/')[2];
								if(thatdayyear.charAt(0) == '0')
									thatdayyear = thatdayyear.substring(1, thatdayyear.length);
								thatday.setYear(parseInt(thatdayyear)+2000);
								
								var today = new Date();
								var days = 0;
								days += 12 * 31 * (today.getYear()-thatday.getYear());
								days += 31 * (today.getMonth()-thatday.getMonth());
								days += (today.getDate()-thatday.getDate());
								if(days<93){
									var daysleft = 93-days;
									
									if(!document.getElementById('fav-button')){
										suggestDD.innerHTML="<span><i class='i14'></i>Sorry!<br/><small>This user has already received<br/>a DD in the past 3 months.<br/>Try again <strong>" + (((daysleft)==1)?"tomorrow.":("in " + (daysleft) + " days"))+"</strong>.</small></span>";
									}else{
										suggestDD.innerHTML="Sorry!<br/><small>This user has already received<br/>a DD in the past 3 months.<br/>Try again <strong>" + (((daysleft)==1)?"tomorrow.":("in " + (daysleft) + " days"))+"</strong>.</small>";
									}
									
									e = e||event;
									if(e.preventDefault) e.preventDefault();
									else e.returnValue = false;
									return;
									
								} else {
									if(ddBody.split("<!-- TTT$ -->")[0].match(/<\/a> on (.*)<\/small>/)){
									
										var lastDDDate = ddBody.split("<!-- TTT$ -->")[0].match(/<\/a> on (.*)<\/small>/)[1];
										
										var thatday = new Date();
										thatday.setMonth(parseInt(lastDDDate.split('/')[0])-1);
										thatday.setDate(parseInt(lastDDDate.split('/')[1]));
										
										var thatdayyear = lastDDDate.split('/')[2];
										if(thatdayyear.charAt(0) == '0')
											thatdayyear = thatdayyear.substring(1, thatdayyear.length);
										thatday.setYear(parseInt(thatdayyear)+2000);
										
										var today = new Date();
										var days = 0;
										days += 12 * 31 * (today.getYear()-thatday.getYear());
										days += 31 * (today.getMonth()-thatday.getMonth());
										days += (today.getDate()-thatday.getDate());
										if(days<93){
											
											var daysleft = 93-days;
											
											if(!document.getElementById('fav-button')){
												suggestDD.innerHTML="<span><i class='i14'></i>Sorry!<br/><small>This user has already received<br/>a DD in the past 3 months.<br/>Try again <strong>" + (((daysleft)==1)?"tomorrow.":("in " + (daysleft) + " days"))+"</strong>.</small></span>";
											}else{
												suggestDD.innerHTML="Sorry!<br/><small>This user has already received<br/>a DD in the past 3 months.<br/>Try again <strong>" + (((daysleft)==1)?"tomorrow.":("in " + (daysleft) + " days"))+"</strong>.</small>";
											}
											
											e = e||event;
											if(e.preventDefault) e.preventDefault();
											else e.returnValue = false;
											return;
											
										} else {
																				
											if (DDS > 2){
												if(!warnedprev){
													if(!document.getElementById('fav-button')){
														suggestDD.innerHTML="<span><i class='i14'></i>Are you sure?<br/><small>This user has already received<br/> " + DDS + " Daily Deviations.<br/><strong style='display:block;text-align:right;'>Click to continue...</strong></small></span>";
													}else{
														suggestDD.innerHTML="Are you sure?<br/><small>This user has already received<br/> " + DDS + " Daily Deviations.<br/><strong style='display:block;text-align:right;'>Click to continue...</strong></small>";
													}
													warnedprev=true;
																					
													e = e||event;
													if(e.preventDefault) e.preventDefault();
													else e.returnValue = false;
													return;
													
												}
											}
											if (!dialogCreated){
												createDialog();
												document.getElementById('SuggestDD_Dialog_close').addEventListener('click', function(e){
													closeDialog();
												}, false);
											}

											
										}
										
									} else {
									
										if(!document.getElementById('fav-button')){
											suggestDD.innerHTML="<span><i class='i14'></i>Sorry!<br/><small>This user has already received<br/>a DD in the past 3 months.<br/>Try again in a few months.</small></span>";
										} else {
											suggestDD.innerHTML="Sorry!<br/><small>This user has already received<br/>a DD in the past 3 months.<br/>Try again in a few months.</small>";
										}
										
										
										e = e||event;
										if(e.preventDefault) e.preventDefault();
										else e.returnValue = false;
										return;
									}
									
								}
							} else {
								if(!document.getElementById('fav-button')){
									suggestDD.innerHTML="<span><i class='i14'></i>Sorry!<br/><small>This user has already received<br/>a DD in the past 3 months.<br/>Try again in a few months.</small></span>";
								} else {
									suggestDD.innerHTML="Sorry!<br/><small>This user has already received<br/>a DD in the past 3 months.<br/>Try again in a few months.</small>";
								}
								
								
								e = e||event;
								if(e.preventDefault) e.preventDefault();
								else e.returnValue = false;
								return;
								
							}
						} else {
							if (!dialogCreated){
								createDialog();
								document.getElementById('SuggestDD_Dialog_close').addEventListener('click', function(e){
									closeDialog();
								}, false);
							}
						}
					} else {
						if (!dialogCreated){
							createDialog();
							document.getElementById('SuggestDD_Dialog_close').addEventListener('click', function(e){
								closeDialog();
							}, false);
						}
					}
				}
			});
		}
		
		e = e||event;
		if(e.preventDefault) e.preventDefault();
		else e.returnValue = false;
		
	}, false);
	

	if(document.getElementById('download-button')) {
			document.getElementById('download-button').parentNode.insertBefore(suggestDD,document.getElementById('download-button'));
	}else if(document.getElementById('fav-button')) { // film?
			var iconforsuggestdd = document.createElement('i');
			iconforsuggestdd.setAttribute("id","suggestdd-button-icon");
			iconforsuggestdd.setAttribute("class", "i14");
			document.getElementById('fav-button').parentNode.insertBefore(suggestDD,document.getElementById('fav-button').parentNode.getElementsByTagName('h3')[1]);
			suggestDD.parentNode.insertBefore(iconforsuggestdd,suggestDD);
	} else {
		if(document.getElementById('gmi-ResourceViewMessageButton').parentNode.childNodes[3]) {
			document.getElementById('gmi-ResourceViewMessageButton').parentNode.insertBefore(suggestDD,document.getElementById('gmi-ResourceViewMessageButton').parentNode.childNodes[3]);
		} else {
			document.getElementById('gmi-ResourceViewMessageButton').parentNode.appendChild(suggestDD);
		}
	}


}
var loop = window.setInterval('createsuggestbutton()', 3000);
	