// ==UserScript==
// @name           AntiGamefdsgdfg
// @namespace      antikillersdfgsdfg
// @description    A couple of Neogame functions for Ogame Redesign - v1.23.0sdfgsdfgsdf
// @version	1.23.0gsdfgdfg
// @include        http://*.ogame.*/game/index.php?page=*
// ==/UserScript==

var AntigameFunc=function(){var x;x=typeof unsafeWindow!="undefined"?unsafeWindow:window;if(!x.AntiGame_started){x.AntiGame_started=1;var u={LabelsEN:{lbl_missAttack:"Attack",lbl_missColony:"Colonization",lbl_missDeploy:"Deployment",lbl_missDestroy:"Moon Destruction",lbl_missEspionage:"Espionage",lbl_missExpedition:"Expedition",lbl_missFederation:"ACS Attack",lbl_missHarvest:"Harvest",lbl_missHold:"ACS Defend",lbl_missTransport:"Transport",lbl_shipSCargo:"Small Cargo",lbl_shipLCargo:"Large Cargo",
lbl_shipLFighter:"Light Fighter",lbl_shipHFighter:"Heavy Fighter",lbl_shipCruiser:"Cruiser",lbl_shipBattleship:"Battleship",lbl_shipColonizator:"Colony Ship",lbl_shipRecycler:"Recycler",lbl_shipSpy:"Espionage Probe",lbl_shipBomber:"Bomber",lbl_shipDestroyer:"Destroyer",lbl_shipRIP:"Deathstar",lbl_shipBCruiser:"Battlecruiser",lbl_shipSatellite:"Solar Satellite",lbl_defRLauncher:"Rocket Launcher",lbl_defLLaser:"Light Laser",lbl_defHLaser:"Heavy Laser",lbl_defGauss:"Gauss Cannon",lbl_defIon:"Ion Cannon",
lbl_defPlasma:"Plasma Turret",lbl_defSShield:"Small Shield Dome",lbl_defLShield:"Large Shield Dome",lbl_RequiredEnergy:"Energy needed",rx_sendMail:/Send a message to (.+)\./},InterfaceEN:{opt_languageName:"English",opt_title:"AntiGame Options",opt_btnOk:"OK",opt_btnCancel:"Cancel",opt_btnDefault:"Default",opt_language:"Language",opt_update_check:"Auto-check for updates",opt_thousandSeparator:"Thousand separator",opt_blockAutoComplete:"Block Auto-Complete in Firefox",opt_showDeficient:"Show missing resources",
opt_showResources:"Show extended resources information",opt_showNames:"Show ship/building/research names over images",opt_nameColorOn:"Name color: available",opt_nameColorOff:"Name color: unavailable",opt_nameColorDisabled:"Name color: not enough resources",opt_showConstructionTitle:"Show construction titles in the planet list",opt_shortHeader:"Always minimize planet image",opt_misc_scrollTitle:"Scroll time to the next event in the window title",opt_uni_reDesigned:"Old universe with the re-design installed",
opt_uni_SpeedFactor:"Speed factor of this universe",opt_uni_DFPercent:"Percentage of fleet structure to debris",opt_uni_DefenseToDF:"Percentage of defense to debris",opt_timeSetting:"Change time values (hours only)",opt_showServerOgameClock:"Keep server time for top-right Ogame clock",opt_showServerPhalanx:"Keep server time for Phalanx view",opt_showPageStartTime:"Display the time the page was last refreshed",opt_timeAMPM:"Use 12-hours format (AM/PM) instead of 24-hours",opt_timeDontChange:"Don't change time",
opt_timeLocal:"Always set to local timezone",opt_timeServer:"Always set to server timezone",opt_killTips:"Kill tooltips",opt_showEventList:"Show unfolded Event list on Overview",opt_evt_showOnTop:"Position of the Event list on the screen",opt_evt_showReduced:"Reduced Event list",opt_evt_TimeMode:"Clock/Countdown by default in the reduced Event List",opt_evt_noScroll:"No frame scrollbars appear when tooltips are displayed",opt_phalanx_showDebris:"Show theoretical debris in Phalanx view",opt_evt_expandFleetsEvt:"Show fleet composition and cargo (EventList)",
opt_evt_expandFleetsPhal:"Show fleet composition and cargo (Phalanx)",opt_galaxyShowRank:"Show player/alliance ranks in Galaxy view",opt_galaxyRankColor:"Player/alliance ranks color",opt_galaxyDebrisMin:"Minimal size of debris to highlight (0 to turn off)",opt_galaxyDebrisColor:"Color of highlighted debris",opt_galaxyHideMoon:"Hide Moon picture (display moon size instead)",opt_galaxy_Players:"Highlight the following players",opt_galaxy_PlayerColors:"Colors for player highlighting",opt_galaxy_Allys:"Highlight the following alliances",
opt_galaxy_AllyColors:"Colors for alliance highlighting",opt_galaxy_keepTipsPlanets:"Keep tooltips for planets and moons",opt_galaxy_keepTipsDebris:"Keep tooltips for debris fields",opt_msg_PlunderThreshold:"Low limit for theoretical plunder (x1000)",opt_msg_DebrisThreshold:"Low limit for theoretical debris (x1000)",opt_msg_foldSmallPlunder:"Fold reports with plunder and debris less than the limit",opt_msg_showPlunder:"Show plunder in spy reports",opt_msg_addButtons:"Additional buttons on Messages",
opt_msg_fixColors:"Fix colors of combat reports",opt_fleet_showCapacity:"Show ships capacity and speed",opt_fleet1_showResCalc:"Show resource calculator",opt_uni_maxPlayerScore:"The strongest player has more than 5M points",opt_autocopyCoords:"Auto-copy coordinates",opt_autocopyGlobal:"Memorize coordinates from any page (not only current Ogame universe tabs)",opt_fleet2_setTargetDF:"Set target to DF if the fleet includes recyclers",opt_fleet2_fixLayout:"Fix flight information layout (page 2)",opt_fleet2_ShortLinks:"Target shortlinks (page 2)",
opt_fleet2_MoonColor:"Color for moons in the shortlink list",opt_fleet2_MoonsToEnd:"Move moons to the end of the shortlinks list",opt_fleet2_expandLists:"Expand drop-down boxes (Speed, Shortcuts, ACSs)",opt_fleet2_checkProbeCapacity:"Check probes capacity before departure(page 2)",opt_missionPriority:"Mission priority",opt_mvmt_expandFleets:"Show fleet ships and cargo",opt_mvmt_showReversal:"Show reversal time for fleets",opt_missAttack:"Mission color: Attack",opt_missColony:"Mission color: Colonization",
opt_missDeploy:"Mission color: Deploy",opt_missDestroy:"Mission color: Destroy",opt_missEspionage:"Mission color: Espionage",opt_missExpedition:"Mission color: Expedition",opt_missFederation:"Mission color: Federation",opt_missHarvest:"Mission color: Harvest",opt_missHold:"Mission color: Hold",opt_missTransport:"Mission color: Transport",opt_msg_addSimButton:"Add buttons for submitting spy reports to WebSim",lbl_missAttack:"Attack",lbl_missColony:"Colonization",lbl_missDeploy:"Deployment",lbl_missDestroy:"Moon Destruction",
lbl_missEspionage:"Espionage",lbl_missExpedition:"Expedition",lbl_missFederation:"ACS Attack",lbl_missHarvest:"Harvest",lbl_missHold:"ACS Defend",lbl_missTransport:"Transport",lbl_sectionGeneral:"General",lbl_sectionUniverse:"Universe",lbl_sectionTime:"Time settings",lbl_sectionEventList:"Event list & Phalanx",lbl_sectionGalaxy:"Galaxy",lbl_sectionMessages:"Messages",lbl_sectionFleetDispatch:"Fleet dispatch",lbl_sectionFleetMovement:"Fleet movement",lbl_optionsNote1:"The option is stored for this universe only",
lbl_resetCoords:"Reset - ",lbl_TotalCapacity:"Total capacity",lbl_MinSpeed:"Minimal speed",lbl_ExPoints:"Expedition points",lbl_mvmt_Return:"R",lbl_resources:"Resources",lbl_debris:"Debris",lbl_total:"Total",lbl_loot:"Loot",lbl_metal:"Metal",lbl_crystal:"Crystal",lbl_shipSCargoAlt:"SC",lbl_shipLCargoAlt:"LC",lbl_shipRecyclerAlt:"Recs",lbl_shipSatelliteAlt:"Sat.",lbl_deficientRes:"Missing resources",lbl_Production:"Production",lbl_ArrivalACS:"Arrival (ACS)",lbl_btnMarkReadAll:"Mark all displayed messages as read",
lbl_btnDeleteSmallPlunder:"Delete spy reports with plunder < $plunder and debris < $debris",lbl_Moon:"Moon",lbl_onTop:"On top",lbl_onBottom:"On bottom",lbl_onLeft:"On left",lbl_installNewVersion:"Click to install new version",lbl_Save:"Save",lbl_Clear:"Clear",lbl_Quantity:"Quantity",lbl_Duration:"Duration",lbl_Consumption:"Consumption",lbl_tmTime:"Time",lbl_tmCountdown:"Countdown"},LabelsRU:{lbl_missAttack:"\u0410\u0442\u0430\u043a\u0430",lbl_missColony:"\u041a\u043e\u043b\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c",
lbl_missDeploy:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c",lbl_missDestroy:"\u0423\u043d\u0438\u0447\u0442\u043e\u0436\u0438\u0442\u044c",lbl_missEspionage:"\u0428\u043f\u0438\u043e\u043d\u0430\u0436",lbl_missExpedition:"\u042d\u043a\u0441\u043f\u0435\u0434\u0438\u0446\u0438\u044f",lbl_missFederation:"\u0421\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u0430\u044f \u0430\u0442\u0430\u043a\u0430",lbl_missHarvest:"\u041f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c",lbl_missHold:"\u0414\u0435\u0440\u0436\u0430\u0442\u044c\u0441\u044f",
lbl_missTransport:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442",lbl_shipSCargo:"\u041c\u0430\u043b\u044b\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442",lbl_shipLCargo:"\u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442",lbl_shipLFighter:"\u041b\u0451\u0433\u043a\u0438\u0439 \u0438\u0441\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044c",lbl_shipHFighter:"\u0422\u044f\u0436\u0451\u043b\u044b\u0439 \u0438\u0441\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044c",
lbl_shipCruiser:"\u041a\u0440\u0435\u0439\u0441\u0435\u0440",lbl_shipBattleship:"\u041b\u0438\u043d\u043a\u043e\u0440",lbl_shipColonizator:"\u041a\u043e\u043b\u043e\u043d\u0438\u0437\u0430\u0442\u043e\u0440",lbl_shipRecycler:"\u041f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",lbl_shipSpy:"\u0428\u043f\u0438\u043e\u043d\u0441\u043a\u0438\u0439 \u0437\u043e\u043d\u0434",lbl_shipBomber:"\u0411\u043e\u043c\u0431\u0430\u0440\u0434\u0438\u0440\u043e\u0432\u0449\u0438\u043a",lbl_shipDestroyer:"\u0423\u043d\u0438\u0447\u0442\u043e\u0436\u0438\u0442\u0435\u043b\u044c",
lbl_shipRIP:"\u0417\u0432\u0435\u0437\u0434\u0430 \u0441\u043c\u0435\u0440\u0442\u0438",lbl_shipBCruiser:"\u041b\u0438\u043d\u0435\u0439\u043d\u044b\u0439 \u043a\u0440\u0435\u0439\u0441\u0435\u0440",lbl_shipSatellite:"\u0421\u043e\u043b\u043d\u0435\u0447\u043d\u044b\u0439 \u0441\u043f\u0443\u0442\u043d\u0438\u043a",lbl_defRLauncher:"\u0420\u0430\u043a\u0435\u0442\u043d\u0430\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",lbl_defLLaser:"\u041b\u0451\u0433\u043a\u0438\u0439 \u043b\u0430\u0437\u0435\u0440",
lbl_defHLaser:"\u0422\u044f\u0436\u0451\u043b\u044b\u0439 \u043b\u0430\u0437\u0435\u0440",lbl_defGauss:"\u041f\u0443\u0448\u043a\u0430 \u0413\u0430\u0443\u0441\u0441\u0430",lbl_defIon:"\u0418\u043e\u043d\u043d\u043e\u0435 \u043e\u0440\u0443\u0434\u0438\u0435",lbl_defPlasma:"\u041f\u043b\u0430\u0437\u043c\u0435\u043d\u043d\u043e\u0435 \u043e\u0440\u0443\u0434\u0438\u0435",lbl_defSShield:"\u041c\u0430\u043b\u044b\u0439 \u0449\u0438\u0442\u043e\u0432\u043e\u0439 \u043a\u0443\u043f\u043e\u043b",lbl_defLShield:"\u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u0449\u0438\u0442\u043e\u0432\u043e\u0439 \u043a\u0443\u043f\u043e\u043b",
lbl_RequiredEnergy:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u044d\u043d\u0435\u0440\u0433\u0438\u0438",rx_sendMail:/\u041f\u043e\u0441\u043b\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 (.+)\./},InterfaceRU:{opt_languageName:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",opt_title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 AntiGame",opt_btnOk:"OK",opt_btnCancel:"\u041e\u0442\u043c\u0435\u043d\u0430",opt_btnDefault:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",
opt_language:"\u042f\u0437\u044b\u043a",opt_update_check:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f",opt_blockAutoComplete:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0410\u0432\u0442\u043e-\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432 Firefox",opt_thousandSeparator:"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c \u0442\u044b\u0441\u044f\u0447 \u0432 \u0447\u0438\u0441\u043b\u0430\u0445",
opt_showDeficient:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u044e\u0449\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b",opt_showResources:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0440\u0435\u0441\u0443\u0440\u0441\u0430\u0445",opt_showNames:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u0440\u0430\u0431\u043b\u0435\u0439/\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0439/\u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0439 \u043f\u043e\u0432\u0435\u0440\u0445 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a",
opt_nameColorOn:"\u0426\u0432\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f: \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e",opt_nameColorOff:"\u0426\u0432\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f: \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e",opt_nameColorDisabled:"\u0426\u0432\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f: \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432",
opt_showConstructionTitle:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0432\u0435\u0434\u0443\u0449\u0438\u0445\u0441\u044f \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043a \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u043f\u043b\u0430\u043d\u0435\u0442",opt_shortHeader:"\u0412\u0441\u0435\u0433\u0434\u0430 \u043c\u0438\u043d\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 \u043f\u043b\u0430\u043d\u0435\u0442\u044b",
opt_misc_scrollTitle:"\u041f\u0440\u043e\u043a\u0440\u0443\u0447\u0438\u0432\u0430\u0442\u044c \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0435 \u043e\u043a\u043d\u0430 \u0432\u0440\u0435\u043c\u044f \u0434\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f",opt_uni_reDesigned:"\u0421\u0442\u0430\u0440\u0430\u044f \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0441 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u043c \u0440\u0435\u0434\u0438\u0437\u0430\u0439\u043d\u043e\u043c",
opt_uni_SpeedFactor:"\u041a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u044f \u0432 \u044d\u0442\u043e\u0439 \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439",opt_uni_DFPercent:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u044b\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u0444\u043b\u043e\u0442\u0430 \u0432 \u043e\u0431\u043b\u043e\u043c\u043a\u0438",opt_uni_DefenseToDF:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u044b\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043e\u0431\u043e\u0440\u043e\u043d\u044b \u0432 \u043e\u0431\u043b\u043e\u043c\u043a\u0438 (\u041e\u0432\u041e)",
opt_timeSetting:"\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u0440\u0435\u043c\u044f (\u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0430\u0441\u044b)",opt_showServerOgameClock:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0434\u043b\u044f \u0447\u0430\u0441\u043e\u0432 \u041e\u0433\u0435\u0439\u043c \u0432\u0432\u0435\u0440\u0445\u0443 \u0441\u043f\u0440\u0430\u0432\u0430",opt_showServerPhalanx:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0432 \u0441\u043a\u0430\u043d\u0430\u0445 \u0444\u0430\u043b\u0430\u043d\u0433\u0438",
opt_showPageStartTime:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f, \u043a\u043e\u0433\u0434\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437 \u043e\u0431\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c",opt_timeAMPM:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c 12-\u0447\u0430\u0441\u043e\u0432\u043e\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 (AM/PM) \u0432\u043c\u0435\u0441\u0442\u043e 24-\u0447\u0430\u0441\u043e\u0432\u043e\u0433\u043e",
opt_timeDontChange:"\u041d\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u0440\u0435\u043c\u044f",opt_timeLocal:"\u0412\u0441\u0435\u0433\u0434\u0430 \u043c\u0435\u0441\u0442\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f",opt_timeServer:"\u0412\u0441\u0435\u0433\u0434\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f",opt_killTips:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438",
opt_showEventList:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0432 \u041e\u0431\u0437\u043e\u0440\u0435",opt_evt_showOnTop:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435",opt_evt_showReduced:"\u0421\u0436\u0430\u0442\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439",
opt_evt_TimeMode:"\u0412\u0440\u0435\u043c\u044f / \u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u043e\u0442\u0441\u0447\u0435\u0442 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 \u0441\u0436\u0430\u0442\u043e\u043c \u0441\u043f\u0438\u0441\u043a\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439",opt_evt_noScroll:"\u041d\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u043e\u0441\u044b \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0438 \u0444\u0440\u0435\u0439\u043c\u0430 \u043f\u0440\u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0438 \u0442\u0443\u043b\u0442\u0438\u043f\u043e\u0432",
opt_phalanx_showDebris:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0439 \u043b\u043e\u043c \u0432 \u0441\u043a\u0430\u043d\u0430\u0445 \u0444\u0430\u043b\u0430\u043d\u0433\u0438",opt_evt_expandFleetsEvt:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432 \u0438 \u0433\u0440\u0443\u0437 \u0444\u043b\u043e\u0442\u043e\u0432 (\u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439)",
opt_evt_expandFleetsPhal:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432 \u0438 \u0433\u0440\u0443\u0437 \u0444\u043b\u043e\u0442\u043e\u0432 (\u0444\u0430\u043b\u0430\u043d\u0433\u0430)",opt_galaxyShowRank:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0438\u0433\u0440\u043e\u043a\u0430/\u0430\u043b\u044c\u044f\u043d\u0441\u0430 \u0432 \u0413\u0430\u043b\u0430\u043a\u0442\u0438\u043a\u0435",
opt_galaxyRankColor:"\u0426\u0432\u0435\u0442 \u0434\u043b\u044f \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0438\u0433\u0440\u043e\u043a\u0430/\u0430\u043b\u044c\u044f\u043d\u0441\u0430",opt_galaxyDebrisMin:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u041f\u041e \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u0432\u0435\u0442\u043a\u0438 (0 - \u043d\u0435 \u043f\u043e\u0434\u0441\u0432\u0435\u0447\u0438\u0432\u0430\u0442\u044c)",opt_galaxyDebrisColor:"\u0426\u0432\u0435\u0442 \u043f\u043e\u0434\u0441\u0432\u0435\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u041f\u041e",
opt_galaxyHideMoon:"\u0421\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 \u041b\u0443\u043d\u044b (\u0432\u043c\u0435\u0441\u0442\u043e \u043d\u0435\u0435 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440 \u043b\u0443\u043d\u044b)",opt_galaxy_Players:"\u041f\u043e\u0434\u0441\u0432\u0435\u0447\u0438\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432",
opt_galaxy_PlayerColors:"\u0426\u0432\u0435\u0442\u0430 \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u0432\u0435\u0442\u043a\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432",opt_galaxy_Allys:"\u041f\u043e\u0434\u0441\u0432\u0435\u0447\u0438\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0430\u043b\u044c\u044f\u043d\u0441\u044b",opt_galaxy_AllyColors:"\u0426\u0432\u0435\u0442\u0430 \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u0432\u0435\u0442\u043a\u0438 \u0430\u043b\u044c\u044f\u043d\u0441\u043e\u0432",
opt_galaxy_keepTipsPlanets:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0442\u0443\u043b\u0442\u0438\u043f\u044b \u0434\u043b\u044f \u043f\u043b\u0430\u043d\u0435\u0442 \u0438 \u043b\u0443\u043d",opt_galaxy_keepTipsDebris:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0442\u0443\u043b\u0442\u0438\u043f\u044b \u0434\u043b\u044f \u043f\u043e\u043b\u044f \u043e\u0431\u043b\u043e\u043c\u043a\u043e\u0432",opt_msg_PlunderThreshold:"\u041d\u0438\u0436\u043d\u0438\u0439 \u043f\u0440\u0435\u0434\u0435\u043b \u0434\u043b\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0439 \u0434\u043e\u0431\u044b\u0447\u0438 (x1000)",
opt_msg_DebrisThreshold:"\u041d\u0438\u0436\u043d\u0438\u0439 \u043f\u0440\u0435\u0434\u0435\u043b \u0434\u043b\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0433\u043e \u043b\u043e\u043c\u0430 (x1000)",opt_msg_foldSmallPlunder:"\u0421\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u0434\u043e\u043a\u043b\u0430\u0434\u044b \u0441 \u0434\u043e\u0431\u044b\u0447\u0435\u0439 \u0438 \u043b\u043e\u043c\u043e\u043c \u043c\u0435\u043d\u044c\u0448\u0435 \u043f\u0440\u0435\u0434\u0435\u043b\u0430",
opt_msg_showPlunder:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0443\u044e \u0434\u043e\u0431\u044b\u0447\u0443 \u0432 \u0448\u043f\u0438\u043e\u043d\u0441\u043a\u0438\u0445 \u0434\u043e\u043a\u043b\u0430\u0434\u0430\u0445",opt_msg_fixColors:"\u0418\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0446\u0432\u0435\u0442\u0430 \u0431\u043e\u0435\u0432\u044b\u0445 \u0434\u043e\u043a\u043b\u0430\u0434\u043e\u0432",opt_msg_addButtons:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043a\u043d\u043e\u043f\u043a\u0438 \u0432 \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u0445",
opt_msg_addSimButton:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0438 \u0434\u043b\u044f \u0441\u0438\u043c\u0443\u043b\u044f\u0446\u0438\u0438 \u0434\u043e\u043a\u043b\u0430\u0434\u043e\u0432 \u0432 WebSim",opt_missionPriority:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 \u0437\u0430\u0434\u0430\u043d\u0438\u044f",opt_fleet_showCapacity:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0438 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043a\u043e\u0440\u0430\u0431\u043b\u0435\u0439",
opt_fleet1_showResCalc:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432",opt_uni_maxPlayerScore:"\u0423 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0431\u043e\u043b\u0435\u0435 5\u041c \u043e\u0447\u043a\u043e\u0432",opt_autocopyCoords:"\u0410\u0432\u0442\u043e-\u0432\u0441\u0442\u0430\u0432\u043a\u0430 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442",
opt_autocopyGlobal:"\u0417\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0442\u044c \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b \u0441 \u043b\u044e\u0431\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b (\u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0432\u043a\u043b\u0430\u0434\u043e\u043a \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439 Ogame)",opt_fleet2_setTargetDF:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0430 \u041f\u041e, \u0435\u0441\u043b\u0438 \u0432\u043e \u0444\u043b\u043e\u0442\u0435 \u0435\u0441\u0442\u044c \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438",
opt_fleet2_fixLayout:"\u0418\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u043e\u043b\u0435\u0442\u0435 (\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 2)",opt_fleet2_ShortLinks:"\u0421\u043f\u0438\u0441\u043e\u043a \u0446\u0435\u043b\u0435\u0439 \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0439 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 (\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 2)",
opt_fleet2_MoonColor:"\u0426\u0432\u0435\u0442 \u0434\u043b\u044f \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043b\u0443\u043d \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u043b\u0430\u043d\u0435\u0442",opt_fleet2_MoonsToEnd:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c \u043b\u0443\u043d\u044b \u0432 \u043a\u043e\u043d\u0435\u0446 \u0441\u043f\u0438\u0441\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u043b\u0430\u043d\u0435\u0442",
opt_fleet2_expandLists:"\u0420\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u0432\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0438 (\u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c, \u043f\u043b\u0430\u043d\u0435\u0442\u044b, \u0421\u0410\u0411\u044b)",opt_fleet2_checkProbeCapacity:"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0448\u043f\u0438\u043e\u043d\u0441\u043a\u0438\u0445 \u0437\u043e\u043d\u0434\u043e\u0432 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 (\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 2)",
opt_mvmt_expandFleets:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432 \u0438 \u0433\u0440\u0443\u0437 \u0444\u043b\u043e\u0442\u043e\u0432",opt_mvmt_showReversal:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 \u0444\u043b\u043e\u0442\u0430 \u043f\u0440\u0438 \u043e\u0442\u0437\u044b\u0432\u0435",opt_missAttack:"\u0426\u0432\u0435\u0442 \u0444\u043b\u043e\u0442\u0430, \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u0410\u0442\u0430\u043a\u0430",
opt_missColony:"\u0426\u0432\u0435\u0442 \u0444\u043b\u043e\u0442\u0430, \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u041a\u043e\u043b\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c",opt_missDeploy:"\u0426\u0432\u0435\u0442 \u0444\u043b\u043e\u0442\u0430, \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c",opt_missDestroy:"\u0426\u0432\u0435\u0442 \u0444\u043b\u043e\u0442\u0430, \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u0423\u043d\u0438\u0447\u0442\u043e\u0436\u0438\u0442\u044c",
opt_missEspionage:"\u0426\u0432\u0435\u0442 \u0444\u043b\u043e\u0442\u0430, \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u0428\u043f\u0438\u043e\u043d\u0430\u0436",opt_missExpedition:"\u0426\u0432\u0435\u0442 \u0444\u043b\u043e\u0442\u0430, \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u042d\u043a\u0441\u043f\u0435\u0434\u0438\u0446\u0438\u044f",opt_missFederation:"\u0426\u0432\u0435\u0442 \u0444\u043b\u043e\u0442\u0430, \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u0421\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u0430\u044f \u0430\u0442\u0430\u043a\u0430",
opt_missHarvest:"\u0426\u0432\u0435\u0442 \u0444\u043b\u043e\u0442\u0430, \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u041f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c",opt_missHold:"\u0426\u0432\u0435\u0442 \u0444\u043b\u043e\u0442\u0430, \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u0423\u0434\u0435\u0440\u0436\u0430\u0442\u044c",opt_missTransport:"\u0426\u0432\u0435\u0442 \u0444\u043b\u043e\u0442\u0430, \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442",
lbl_missAttack:"\u0410\u0442\u0430\u043a\u0430",lbl_missColony:"\u041a\u043e\u043b\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c",lbl_missDeploy:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c",lbl_missDestroy:"\u0423\u043d\u0438\u0447\u0442\u043e\u0436\u0438\u0442\u044c",lbl_missEspionage:"\u0428\u043f\u0438\u043e\u043d\u0430\u0436",lbl_missExpedition:"\u042d\u043a\u0441\u043f\u0435\u0434\u0438\u0446\u0438\u044f",lbl_missFederation:"\u0421\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u0430\u044f \u0430\u0442\u0430\u043a\u0430",
lbl_missHarvest:"\u041f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c",lbl_missHold:"\u0414\u0435\u0440\u0436\u0430\u0442\u044c\u0441\u044f",lbl_missTransport:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442",lbl_sectionGeneral:"\u041e\u0431\u0449\u0438\u0435",lbl_sectionUniverse:"\u0412\u0441\u0435\u043b\u0435\u043d\u043d\u0430\u044f",lbl_sectionTime:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",lbl_sectionEventList:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439 & \u0424\u0430\u043b\u0430\u043d\u0433\u0430",
lbl_sectionGalaxy:"\u0413\u0430\u043b\u0430\u043a\u0442\u0438\u043a\u0430",lbl_sectionMessages:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",lbl_sectionFleetDispatch:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0444\u043b\u043e\u0442\u0430",lbl_sectionFleetMovement:"\u0421\u043f\u0438\u0441\u043e\u043a \u0444\u043b\u043e\u0442\u043e\u0432",lbl_optionsNote1:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439",
lbl_resetCoords:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c - ",lbl_TotalCapacity:"\u0421\u0443\u043c\u043c\u0430\u0440\u043d\u0430\u044f \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c",lbl_MinSpeed:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c",lbl_ExPoints:"\u042d\u043a\u0441\u043f\u0435\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043e\u0447\u043a\u0438",lbl_mvmt_Return:"\u0412",lbl_resources:"\u0420\u0435\u0441\u0443\u0440\u0441\u044b",
lbl_debris:"\u041b\u043e\u043c",lbl_total:"\u0412\u0441\u0435\u0433\u043e",lbl_loot:"\u0414\u043e\u0431\u044b\u0447\u0430",lbl_metal:"\u041c\u0435\u0442\u0430\u043b\u043b",lbl_crystal:"\u041a\u0440\u0438\u0441\u0442\u0430\u043b\u043b",lbl_shipSCargoAlt:"\u041c\u0422",lbl_shipLCargoAlt:"\u0411\u0422",lbl_shipRecyclerAlt:"\u0420\u0430\u0431\u043e\u0432",lbl_shipSatelliteAlt:"cc",lbl_deficientRes:"\u0420\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442",
lbl_Production:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e",lbl_ArrivalACS:"\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435 (\u0421\u0410\u0411)",lbl_btnMarkReadAll:"\u041f\u043e\u043c\u0435\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043a\u0430\u043a \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435",lbl_btnDeleteSmallPlunder:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0448\u043f\u0438\u043e\u043d\u0441\u043a\u0438\u0435 \u0434\u043e\u043a\u043b\u0430\u0434\u044b \u0441 \u0434\u043e\u0431\u044b\u0447\u0435\u0439 < $plunder \u0438 \u043b\u043e\u043c\u043e\u043c < $debris",
lbl_Moon:"\u041b\u0443\u043d\u0430",lbl_onTop:"\u0412\u0432\u0435\u0440\u0445\u0443",lbl_onBottom:"\u0412\u043d\u0438\u0437\u0443",lbl_onLeft:"\u0421\u043b\u0435\u0432\u0430",lbl_installNewVersion:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e",lbl_Save:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c",lbl_Clear:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",lbl_Quantity:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",
lbl_Duration:"\u0412\u0440\u0435\u043c\u044f \u043f\u043e\u043b\u0435\u0442\u0430",lbl_Consumption:"\u041f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435",lbl_tmTime:"\u0412\u0440\u0435\u043c\u044f",lbl_tmCountdown:"\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u043e\u0442\u0441\u0447\u0435\u0442"}},e={language:"",update_check:!0,blockAutoComplete:!0,thousandSeparator:"--",showDeficient:!0,showResources:1,showNames:!0,nameColorOn:"#FFFFFF",nameColorOff:"#777777",nameColorDisabled:"#D43635",
showConstructionTitle:!0,shortHeader:!1,misc_scrollTitle:!1,uni_reDesigned:!1,uni_SpeedFactor:1,uni_DFPercent:30,uni_DefenseToDF:0,timeSetting:1,showServerOgameClock:!1,showServerPhalanx:!1,showPageStartTime:!1,timeAMPM:!1,showFinishTime:!0,showEventList:!0,evt_showOnTop:0,evt_showReduced:!1,evt_TimeMode:1,evt_noScroll:!1,phalanx_showDebris:!0,evt_expandFleetsEvt:!0,evt_expandFleetsPhal:!0,missAttack:"#66CC33",missColony:"#C1C1C1",missDeploy:"#666666",missDestroy:"#FFFF99",missEspionage:"#FFCC66",
missExpedition:"#5555BB",missFederation:"#CC6666",missHarvest:"#CEFF68",missHold:"#80A0C0",missTransport:"#A0FFA0",missMissile:"#FFCC66",mvmt_expandFleets:!0,mvmt_showReversal:!0,mission1:6,mission2:1,mission3:4,mission4:3,mission5:9,fleet_showCapacity:!0,fleet1_showResCalc:!0,uni_maxPlayerScore:!1,fleet1_killTips:!1,fleet2_fixLayout:!0,autocopyCoords:!1,autocopyGlobal:!1,fleet2_setTargetDF:!1,fleet2_ShortLinks:"",fleet2_MoonColor:"#0000FF",fleet2_MoonsToEnd:!1,fleet2_expandLists:!0,fleet2_checkProbeCapacity:!0,
galaxyShowRank:!0,galaxyRankColor:"#DDDDDD",galaxyRank10:"#FFFF40",galaxyRank50:"#FFDF00",galaxyRank100:"#FFBF00",galaxyRank200:"#FF8F00",galaxyRank800:"#33FF33",galaxyRank0:"#305060",galaxyDebrisMin:1E4,galaxyDebrisColor:"#FF0000",galaxyHideMoon:!1,galaxy_killTips:!1,galaxy_keepTipsPlanets:!0,galaxy_keepTipsDebris:!0,galaxy_Players:"Legor,player 2",galaxy_PlayerColors:"#FF0000,#2222FF",galaxy_Allys:"alliance 1,alliance 2",galaxy_AllyColors:"#FF00FF,#00FFFF",msg_PlunderThreshold:10,msg_DebrisThreshold:20,
msg_foldSmallPlunder:!0,msg_showPlunder:!0,msg_fixColors:!0,msg_addButtons:!0,msg_killTips:!1,msg_addSimButton:1,Labels:null,Interface:null,uni_options:{fleet2_ShortLinks:1,galaxyDebrisMin:1,msg_PlunderThreshold:1,msg_DebrisThreshold:1,galaxy_Players:1,galaxy_PlayerColors:1,galaxy_Allys:1,galaxy_AllyColors:1,fleet2_fixLayout:1,uni_SpeedFactor:1,uni_DFPercent:1,uni_DefenseToDF:1,uni_maxPlayerScore:1,uni_reDesigned:1},firefox_options:{fleet2_setTargetDF:1,update_check:1},saveOptions:function(){try{var a=
"",b="",d;for(d in e){var f=e[d];if(!this.firefox_options[d]||c.isFirefox){var g=typeof f;if(g=="number"||g=="string"||g=="boolean")this.uni_options[d]?(b!=""&&(b+="&"),b+=d+"="+f):(a!=""&&(a+="&"),a+=d+"="+f)}}c.isFirefox?(c.setValue("antigame",a),c.setValueUni("antigame",b)):(a+="&"+b,c.setValue("antigame",a))}catch(h){c.log(h)}},loadOptions:function(){try{var a=c.getValue("antigame"),b=c.getValueUni("antigame");if(!a&&(c.isOpera&&(a=c.getValue("antigame","","COOKIE"))&&c.setValue("antigame",a),
!a))return;b&&(a+="&"+b);a=a.split("&");for(b=0;b<a.length;b++){var d=a[b].split("=");if(d&&d.length==2)switch(typeof e[d[0]]){case "number":isNaN(parseInt(d[1],10))||(e[d[0]]=parseInt(d[1],10));break;case "string":e[d[0]]=d[1];break;case "boolean":e[d[0]]=d[1]=="true"?!0:!1}}}catch(f){c.log(f)}},setOptionWithValidation:function(a,b){var d=this.getValueType(e[a]),c=this.getValueType(b),g=!1;if(a=="galaxy_PlayerColors"||a=="galaxy_AllyColors")g=!0;else if(d!="number"&&d!="color"||d==c)d=="color"&&
(b=b.toUpperCase()),g=!0;g&&(e[a]=b)},getValueType:function(a){if(!a)return typeof a;a=a.toString();if(a.replace(/\d{1,10}/i,"")=="")return"number";if(a.replace(/#[A-F\d]{6,6}/i,"")=="")return"color";return"string"},insertCSSRules:function(){c.insertCSSRule("#anti_options_window { \t\t\t\tposition:absolute; \t\t\t\tleft: 200px; \t\t\t\ttop:100px; \t\t\t\twidth:600px; \t\t\t\tbackground:#202025; \t\t\t\tborder: 1px solid #555555; \t\t\t\tz-index:1000; \t\t\t\t}");c.insertCSSRule("#anti_options_window div[id] { padding: 10px; }");
c.insertCSSRule("#anti_options_window div#note { \t\t\t\ttext-align: left; \t\t\t\tpadding-bottom: 0; \t\t\t\tfont-size: 10px; \t\t\t\t}");c.insertCSSRule("#anti_options_window span.notemark, div#note { \t\t\t\tcolor: #3344CC; \t\t\t\t}");c.insertCSSRule("#anti_options_window #content { \t\t\t\ttext-align: left; \t\t\t\tmax-height: 400px; \t\t\t\toverflow-x:auto; \t\t\t\toverflow-y:scroll; \t\t\t\tborder-top: 1px #555555 dashed; \t\t\t\tborder-bottom: 1px #555555 dashed; \t\t\t\t}");c.insertCSSRule("#anti_options_window #content .sectiontitle {\t\t\t\ttext-align: left;\t\t\t\tpadding: 1px 0 1px 40%;\t\t\t\tborder: 1px solid #772277;\t\t\t\tcursor: pointer; \t\t\t\tmargin-bottom: 4px; \t\t\t\tfont-weight: 700; \t\t\t\t}");
c.insertCSSRule("#anti_options_window #content .sectiontitle:hover {\t\t\t\tborder-color: yellow;\t\t\t\t}");c.insertCSSRule("#anti_options_window .section table {\t\t\t\twidth: 100%;\t\t\t\t}");c.insertCSSRule("#anti_options_window .section td.input {\t\t\t\twidth: 20em;\t\t\t\t}");c.insertCSSRule("#anti_options_window #content td { padding: 0.2em;text-align: left;font-size: 11px;}");c.insertCSSRule('#anti_options_window input[type="text"] { width: 8em;}');c.insertCSSRule('#anti_options_window input[type="text"].long { width: 18em;}');
c.insertCSSRule(".anti_button { \t\t\t\tdisplay: block; \t\t\t\tfloat: left; \t\t\t\twidth: 50px; \t\t\t\tbackground:#442233; \t\t\t\tborder: 2px black solid; \t\t\t\ttext-decoration: none; \t\t\t\tmargin: 0px 5px 5px 5px; \t\t\t\tpadding: 2px 5px; \t\t\t\t}");c.insertCSSRule(".anti_button:hover { \t\t\t\tbackground:#664466; \t\t\t\t}");c.insertCSSRule("#btnHomePage { \t\t\t\twidth: 80px; \t\t\t\t}")},addOptionsButton:function(){try{var a=c.$,b=a("#menuTable li").eq(1).clone(!0),d=b.find(".menu_icon").find("a").attr({"class":"",
href:"javascript:void(0)"}).unbind("click").click(function(){setTimeout(function(){r.reset();r.initImg(null,!0)},0)}).find("img").attr({id:"btnCoords",width:"27",height:"27"}).get(0);r.initImg(d);b.find(".menubutton").attr("href","javascript:void(0)").attr("id","btnAntiOptions").attr("target","_self").removeClass("selected").bind("click",e.showWindow).find(".textlabel").html("Antigame v1.27.0");b.appendTo("#menuTable")}catch(f){c.log(f)}},hideWindow:function(a){try{var b=c.unsafeWindow.$;if(a){for(var d=
b("#anti_options_window input, #anti_options_window select"),a=0;a<d.length;a++){var f=d.eq(a),g=f.attr("id"),h=e[g];typeof h=="boolean"?e[g]=f.attr("checked"):(typeof h=="string"||typeof h=="number")&&e.setOptionWithValidation(g,f.attr("value"))}e.saveOptions()}b("#anti_options_window").addClass("hidden")}catch(j){c.log(j)}},showWindow:function(){try{var a=c.unsafeWindow.$;a("#anti_options_window").length==0&&e.createWindow();for(var b=a("#anti_options_window input, #anti_options_window select"),
d=0;d<b.length;d++){var f=b.eq(d),g=e[f.attr("id")];typeof g=="boolean"&&g?f.attr("checked",g):(typeof g=="string"||typeof g=="number")&&f.attr("value",g)}a("#anti_options_window .color").trigger("keyup");a("#anti_options_window").removeClass("hidden")}catch(h){c.log(h)}},changeInputColor:function(a){try{var b=a.target.value.split(",").pop();if(e.getValueType(b)=="color")a.target.style.backgroundColor=b}catch(d){c.log(d)}return!0},createWindow:function(){function a(a){return'<a class="anti_button" id="'+
a+'" href="javascript:void(0)">'+e.Interface["opt_"+a]+"</a>"}function b(a,b,d){typeof d=="undefined"&&(d=!0);a='<td class="label">'+a+'</td><td class="input">'+b+"</td>";d&&(a="<tr>"+a+"</tr>");return a}function d(a,d,c,f){typeof f=="undefined"&&(f=!0);if(typeof c=="undefined"||c=="-auto-")c=e.Interface["opt_"+a];for(var g="",h=0;h<d.length;h++)g+='<option value="'+d[h].value+'">'+d[h].text+"</option>";return g=b(c,'<select id="'+a+'">'+g+"</select>",f)}function f(a,d,f){if(e.firefox_options[a]&&
!c.isFirefox)return"";var g=e[a],h,k="";typeof g=="boolean"&&(h="checkbox");if(typeof g=="string"||typeof g=="number")h="text";if(h){a=="galaxy_PlayerColors"||a=="galaxy_AllyColors"?k='class="color long"':e.getValueType(g)=="color"?k='class="color"':typeof g=="string"&&(k='class="long"');typeof f=="undefined"&&(f=!0);if(typeof d=="undefined"||d=="-auto-")d=e.Interface["opt_"+a];e.uni_options[a]&&(d+=" "+j);return b(d,'<input id="'+a+'" type="'+h+'" '+k+">",f)}}function g(a,b){b=b||"";b+=" section";
return'<div class="'+b+'"><div class="sectiontitle"><span class="indicator">\u25bc</span> '+(a||" ")+'</div><table class="hidden">'}function h(){return"</table></div>"}var j='<span class="notemark">(*)</span>',k=c.unsafeWindow.$,l=[{value:1,text:e.Interface.lbl_missAttack},{value:3,text:e.Interface.lbl_missTransport},{value:4,text:e.Interface.lbl_missDeploy},{value:5,text:e.Interface.lbl_missHold},{value:6,text:e.Interface.lbl_missEspionage},{value:9,text:e.Interface.lbl_missDestroy}];l.sort(function(a,
b){return a.text==b.text?0:a.text<b.text?-1:1});var n=[],m;for(m in u){var o=m.toString().match(/^Interface([A-Z]{2,3})$/);o&&n.push({value:o[1],text:u[m].opt_languageName})}m=[{value:"--",text:e.Interface.opt_btnDefault},{value:"",text:"-"},{value:".",text:'"."'},{value:",",text:'","'},{value:" ",text:'" "'}];var o=[{value:0,text:e.Interface.opt_timeDontChange},{value:1,text:e.Interface.opt_timeLocal},{value:2,text:e.Interface.opt_timeServer}],p=[{value:1,text:e.Interface.lbl_onTop},{value:0,text:e.Interface.lbl_onBottom}],
r=[{value:1,text:e.Interface.lbl_tmTime},{value:2,text:e.Interface.lbl_tmCountdown}],s=[{value:0,text:" - "},{value:1,text:e.Interface.lbl_onBottom},{value:2,text:e.Interface.lbl_onLeft}],q=document.createElement("div");q.className="hidden";q.id="anti_options_window";q.innerHTML='<div id="title">'+e.Interface.opt_title+'</div><div id="content">'+g(e.Interface.lbl_sectionGeneral)+d("language",n)+f("update_check")+f("blockAutoComplete")+d("thousandSeparator",m)+d("showResources",s)+f("showDeficient")+
f("showNames")+f("nameColorOn")+f("nameColorOff")+f("nameColorDisabled")+f("showConstructionTitle")+f("shortHeader")+f("misc_scrollTitle")+h()+g(e.Interface.lbl_sectionUniverse)+f("uni_reDesigned")+f("uni_SpeedFactor")+f("uni_DFPercent")+f("uni_DefenseToDF")+h()+g(e.Interface.lbl_sectionTime)+d("timeSetting",o)+f("showServerOgameClock")+f("showServerPhalanx")+f("showPageStartTime")+f("timeAMPM")+h()+g(e.Interface.lbl_sectionEventList)+f("showEventList")+d("evt_showOnTop",p)+f("evt_showReduced")+d("evt_TimeMode",
r)+f("evt_noScroll")+f("phalanx_showDebris")+f("evt_expandFleetsEvt")+f("evt_expandFleetsPhal")+h()+g(e.Interface.lbl_sectionGalaxy)+f("galaxyShowRank")+f("galaxyRankColor")+f("galaxyDebrisMin")+f("galaxyDebrisColor")+f("galaxyHideMoon")+f("galaxy_Players")+f("galaxy_PlayerColors")+f("galaxy_Allys")+f("galaxy_AllyColors")+f("galaxy_killTips")+f("galaxy_keepTipsPlanets")+f("galaxy_keepTipsDebris")+h()+g(e.Interface.lbl_sectionMessages)+f("msg_PlunderThreshold")+f("msg_DebrisThreshold")+f("msg_foldSmallPlunder")+
f("msg_showPlunder")+f("msg_addButtons")+f("msg_fixColors")+f("msg_killTips")+d("msg_addSimButton",[{value:0,text:" - "},{value:1,text:"WebSim"},{value:2,text:"DragoSim"}])+h()+g(e.Interface.lbl_sectionFleetDispatch)+f("fleet_showCapacity")+f("fleet1_showResCalc")+f("uni_maxPlayerScore")+f("fleet1_killTips")+f("autocopyCoords")+f("autocopyGlobal")+f("fleet2_setTargetDF")+f("fleet2_fixLayout")+f("fleet2_ShortLinks")+f("fleet2_MoonsToEnd")+f("fleet2_MoonColor")+f("fleet2_expandLists")+f("fleet2_checkProbeCapacity")+
d("mission1",l,e.Interface.opt_missionPriority)+d("mission2",l,"")+d("mission3",l,"")+d("mission4",l,"")+d("mission5",l,"")+h()+g(e.Interface.lbl_sectionFleetMovement)+f("mvmt_expandFleets")+f("mvmt_showReversal")+f("missAttack")+f("missColony")+f("missDeploy")+f("missDestroy")+f("missEspionage")+f("missExpedition")+f("missFederation")+f("missHarvest")+f("missHold")+f("missTransport")+h()+'</div><div id="note"> '+j+" "+this.Interface.lbl_optionsNote1+' (Firefox)</div><div id="control">'+a("btnOk")+
a("btnCancel")+'<a class="anti_button" target="_blank" id="btnHomePage" href="http://userscripts.org/scripts/show/58952">Home page</a>';document.body.appendChild(q);k("#btnOk").bind("click",function(){setTimeout(function(){e.hideWindow(!0)},0)});k("#btnCancel").bind("click",function(){e.hideWindow(!1)});k("#anti_options_window .color").bind("change",e.changeInputColor).bind("keyup",e.changeInputColor);k(".sectiontitle").bind("click",function(){k(this).next().toggleClass("hidden").end().find(".indicator").html(k(this).next().hasClass("hidden")?
"\u25bc":"\u25b2")}).eq(0).trigger("click")},showUpdateMarker:function(){function a(a){if(!a)return 0;a=a.split(".");a=parseInt(a[0],10)*1E6+parseInt(a[1],10)*100+parseInt(a[2],10);isNaN(a)&&(a=-1);return a}var b=c.getValue("update_Version","");if(!(a("1.27.0")>=a(b))){c.insertCSSRule("#update_marker, #update_marker:hover { \t\t\t\tdisplay:block !important; \t\t\t\twidth:19px !important; \t\t\t\tposition:relative !important; \t\t\t\ttop:-25px !important; \t\t\t\tleft:-20px !important; \t\t\t\tpadding:0 !important; \t\t\t\tline-height:normal !important; \t\t\t\tfont-family:Verdana !important; \t\t\t\tfont-weight:700 !important; \t\t\t\tfont-size:16px !important; \t\t\t\tcursor:pointer !important; \t\t\t}");
c.insertCSSRule("#update_marker { \t\t\t\tcolor:orange !important; \t\t\t}");c.insertCSSRule("#update_marker:hover { \t\t\t\tcolor:#FFEE66 !important; \t\t\t}");var d=document.createElement("a");d.innerHTML="[!]";d.id="update_marker";d.title=e.Interface.lbl_installNewVersion+": "+b;d.setAttribute("href","http://userscripts.org/scripts/source/58952.user.js");(b=document.getElementById("btnAntiOptions"))&&b.parentNode.appendChild(d)}},handleUpdateResponse:function(a){try{var b=a.responseText;b&&(c.setValue("update_Version",
b),c.setValue("update_LastTS",p.formatDate(new Date,"[Y][m][d][H][i]")),this.showUpdateMarker())}catch(d){c.log(d)}},checkUpdate:function(){var a=parseInt(p.formatDate(new Date,"[Y][m][d][H][i]",!0),10),b=parseInt(c.getValue("update_LastTS",0),10);b&&a-b<1440?this.showUpdateMarker():c.xmlhttpRequest({method:"GET",url:"http://ogamespec.com/tools/antigame_version.php",onload:function(a){e.handleUpdateResponse(a)}})},copyMissingProperties:function(a,b,d){var c=b[d];if(c){if(a!==c)for(i in a)if(!c[i]||
typeof a[i]!=typeof c[i])c[i]=a[i]}else b[d]=a},readResLabels:function(){function a(a){if((a=document.getElementById(a))&&a.title)return a.title.match(/\|<B>\s*(.+):\s*<\/B>/i)[1]}this.Labels.lbl_metal=a("metal_box");this.Labels.lbl_crystal=a("crystal_box");this.Labels.lbl_deuterium=a("deuterium_box");this.Labels.lbl_energy=a("energy_box");this.Labels.lbl_darkmatter=a("darkmatter_box")},initLang:function(){if(!this.language)this.language=c.server_lang;var a=c.unsafeWindow.AntiGame_lang;if(a)for(var b in a)u[b]=
a[b];this.Interface=u["Interface"+this.language];this.Labels=u["Labels"+c.server_lang];this.copyMissingProperties(u.LabelsEN,this,"Labels");this.copyMissingProperties(u.InterfaceEN,this,"Interface");this.readResLabels()},Init:function(){this.insertCSSRules();if(c.uni_prefix=="UNI42_ORG")this.uni_SpeedFactor=2;else if(c.uni_prefix=="ELECTRA_ORG")this.uni_SpeedFactor=4;else if(c.uni_prefix=="CAPELLA_RU")this.uni_SpeedFactor=4;this.initLang();this.addOptionsButton();this.Interface.lbl_btnDeleteSmallPlunder=
this.Interface.lbl_btnDeleteSmallPlunder.replace("$plunder",c.formatNumber(this.msg_PlunderThreshold*1E3)).replace("$debris",c.formatNumber(this.msg_DebrisThreshold*1E3));this.Interface.opt_galaxy_killTips=this.Interface.opt_killTips+" ("+this.Interface.lbl_sectionGalaxy+")";this.Interface.opt_fleet1_killTips=this.Interface.opt_killTips+" ("+this.Interface.lbl_sectionFleetDispatch+" 1)";this.Interface.opt_msg_killTips=this.Interface.opt_killTips+" ("+this.Interface.lbl_sectionMessages+")"}},p={TimeDelta:0,
TimeZoneDelta:0,InitialServerTime:0,getTimeDelta:function(){if(c.isCurrentPage("showmessage,eventList,phalanx"))this.TimeZoneDelta=parseInt(c.getValueUni("TimeZoneDelta",0),10);else if(this.TimeDelta=0,c.script){var a=new Date;if(c.ogameVersion=="1.2.1"){var b=c.script.innerHTML.match(/currTime\.setTime\(\((\d+)-startServerTime/i);if(!b)return;this.InitialServerTime=b=parseInt(b[1],10);this.TimeZoneDelta=-(c.unsafeWindow.localTime.getTime()-c.unsafeWindow.startServerTime);this.TimeDelta=a.getTime()-
b}else{this.InitialServerTime=c.unsafeWindow.serverTime;if(!this.InitialServerTime)return;this.InitialServerTime=this.InitialServerTime.getTime();this.TimeDelta=a.getTime()-this.InitialServerTime;this.TimeZoneDelta=-(a.getTimezoneOffset()/60+2)*36E5}c.isCurrentPage("showmessage,eventList")||c.setValueUni("TimeZoneDelta",this.TimeZoneDelta)}},LZ:function(a){return(a<0||a>9?"":"0")+a},getDatePart:function(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())},getFinishTime:function(a){var b=
new Date;b.setTime(this.InitialServerTime+parseInt(a)*1E3,10);return b},formatTime:function(a){var b=Math.floor(a/60/60);a-=b*3600;var d=Math.floor(a/60);a-=d*60;return this.LZ(b)+":"+this.LZ(d)+":"+this.LZ(a)},formatDate:function(a,b,d){var f="";try{if(!b||b=="")b="[H]:[i]:[s]",this.getDatePart(new Date)!=this.getDatePart(a)&&(b="[d]/[m] "+b);var f=b,g=a.getHours();!d&&e.timeAMPM&&f.indexOf("[H]")>-1&&(f+=" "+(g>=0&&g<12?"AM":"PM"),g>12?g-=12:g==0&&(g=12));f=f.replace("[d]",this.LZ(a.getDate()));
f=f.replace("[m]",this.LZ(a.getMonth()+1));f=f.replace("[Y]",a.getFullYear());f=f.replace("[y]",a.getFullYear().toString().substr(2,4));f=f.replace("[H]",this.LZ(g));f=f.replace("[i]",this.LZ(a.getMinutes()));f=f.replace("[s]",this.LZ(a.getSeconds()))}catch(h){c.log(h)}return f},formatDate2:function(a,b){return e.timeSetting==1?p.formatDate(a,b):p.formatDateServer(a,b)},formatDateServer:function(a,b){if(!b||b=="")b="[H]:[i]:[s]",this.getDatePart(new Date)!=this.getDatePart(a)&&(b="[d]/[m] "+b);a.setTime(a.getTime()-
this.TimeZoneDelta);return p.formatDate(a,b)},parseTime:function(a){if(!a)return 0;a=a.replace(/[^0-9:]/,"");a=a.split(":");if(!a||a.length!=3)return 0;return(parseInt(a[0],10)*3600+parseInt(a[1],10)*60+parseInt(a[2],10))*1E3},parse:function(a,b){var a=a.toString(),d=b.match(/\[[dmyYHis]\]/g);if(!d||!d.length)return null;var c;c=b.replace(/\./g,"\\.");c=c.replace(/\//g,"\\/");c=c.replace(/\-/g,"\\-");for(var g={},e=0;e<d.length;e++){var j=d[e];c=j=="[Y]"?c.replace(j,"(\\d{4,4})"):j=="[y]"?c.replace(j,
"(\\d{2,2})"):c.replace(j,"(\\d{1,2})");j=j.substr(1,1);g[j]=e+1}d=a.match(RegExp(c,""));if(!d||!d.length)return null;c=new Date;c.setSeconds(0);c.setMinutes(0);c.setHours(0);d[g.s]&&c.setSeconds(d[g.s]);d[g.i]&&c.setMinutes(d[g.i]);d[g.H]&&c.setHours(d[g.H]);d[g.Y]?c.setFullYear(d[g.Y]):d[g.y]&&(e=c.getFullYear(),e=Math.floor(e/100)*100+d[g.y],e>c.getFullYear()&&(e-=100),c.setFullYear(e));d[g.d]&&c.setDate(1);d[g.m]&&c.setMonth(d[g.m]-1);d[g.d]&&c.setDate(d[g.d]);return c},parse2:function(a,b,d){if(!a)return null;
b||(b="[H]:[i]:[s]",d="[d].[m].[Y]");a=a.toString();if(d){b=this.parse(a,b);d=this.parse(a,d);if(!d&&!b)return null;a=new Date;d&&(a.setFullYear(d.getFullYear()),a.setMonth(d.getMonth()),a.setDate(d.getDate()));b&&(a.setHours(b.getHours()),a.setMinutes(b.getMinutes()),a.setSeconds(b.getSeconds()));return a}else return this.parse(a,b,!0)},convertDateServer2Local:function(a){var b=new Date;b.setTime(a.getTime()+this.TimeZoneDelta);return b},convertStringServer2Local:function(a,b,d){b||(b="[H]:[i]:[s]",
d="[d].[m].[Y]");var c=this.parse2(a,b,d);if(!c)return a;var g=this.convertDateServer2Local(c),a=a.toString(),a=a.replace(this.formatDate(c,b,!0),this.formatDate(g,b));d&&(a=a.replace(this.formatDate(c,d),this.formatDate(g,d)));return a},changeOgameClocks2Server:function(){var a;c.ogameVersion=="1.1"&&(a=" \t\t\t\t\tfunction UhrzeitAnzeigen() { \t\t\t\t\tvar Sekunden = serverTime.getSeconds(); \t\t\t\t\tserverTime.setSeconds(Sekunden+1); \t\t\t\t\tUhrzeitanzeige = getFormatedDate(serverTime.getTime() - "+
this.TimeZoneDelta+', "[d].[m].[Y] <span>[H]:[i]:[s]</span>"); \t\t\t\t\tif(document.getElementById) \t\t\t\t\t\tdocument.getElementById("OGameClock").innerHTML = Uhrzeitanzeige; \t\t\t\t\telse if(document.all) \t\t\t\t\t\tUhrzeit.innerHTML = Uhrzeitanzeige; \t\t\t\t\t} ');c.ogameVersion=="1.2.1"&&(a=' \t\t\t\t\tvar func = UhrzeitAnzeigen.toString();\t\t\t\t\tfunc = func.replace(/(getFormatedDate\\(currTime\\.getTime\\(\\))/i,"$1-('+this.TimeZoneDelta+')"); \t\t\t\t\teval(func); \t\t\t\t');c.runScript(a)},
changeNodesTime:function(a,b,d){if(a=c.XPath(a))for(var f=0;f<a.snapshotLength;f++){var g=a.snapshotItem(f);d?(g.setAttribute("original_"+d,g[d]),g[d]=p.convertStringServer2Local(g[d],b)):(g.setAttribute("original",g.firstChild.nodeValue),g.firstChild.nodeValue=p.convertStringServer2Local(g.firstChild.nodeValue,b))}},showPageStartTime:function(){var a=document.getElementById("OGameClock");if(a){var b=document.createElement("div");b.id="StartTime";b.setAttribute("style","color:#848484; font-size:11px; position:absolute; right:1px; text-align:right; top:16px");
var d=this.InitialServerTime;if(c.ogameVersion=="1.1"&&e.showServerOgameClock||c.ogameVersion=="1.2.1"&&(e.timeSetting!=1||e.showServerOgameClock))d-=this.TimeZoneDelta;d=new Date(d);b.innerHTML=this.formatDate(d,'[d].[m].[Y] <span style="font-weight:700">[H]:[i]:[s]</span>');c.insertAfter(b,a)}},Init:function(){this.getTimeDelta();if(c.ogameVersion=="1.1"){if(e.timeSetting==2){var a="window.old_getFormatedDate = window.getFormatedDate; window.getFormatedDate = function(date,format) { return window.old_getFormatedDate(date-"+
this.TimeZoneDelta+",format) }";c.runScript(a)}e.timeSetting!=2&&e.showServerOgameClock&&this.changeOgameClocks2Server()}c.ogameVersion=="1.2.1"&&(e.timeSetting==1&&(a="window.old_getFormatedDate = window.getFormatedDate; window.getFormatedDate = function(date,format) { return window.old_getFormatedDate(date+"+this.TimeZoneDelta+",format) }",c.runScript(a)),e.timeSetting==1&&e.showServerOgameClock&&this.changeOgameClocks2Server())}},c={page:"",unsafeWindow:typeof unsafeWindow!="undefined"?unsafeWindow:
window,bg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAALHRFWHRDcmVhdGlvbiBUaW1lAHPhYiAzMSBPdXQgMjAwOSAxODoyNjowOSAtMDAwMBvBwloAAAAHdElNRQfZCh8SGy7RbQlkAAAACXBIWXMAAB7BAAAewQHDaVRTAAAABGdBTUEAALGPC/xhBQAAAA1JREFUeNpjYGBgmAEAAJ0AmeuxAnUAAAAASUVORK5CYII=",ogameVersion:"1.1",JSON_stringify:function(a){return JSON?JSON.stringify(a):null},JSON_parse:function(a){return JSON?JSON.parse(a):null},xmlhttpRequest:typeof GM_xmlhttpRequest!="undefined"?GM_xmlhttpRequest:function(){},setValue:function(a,
b){if(a)c.isFirefox?GM_setValue(a,b):localStorage?localStorage.setItem(a,c.JSON_stringify(b)):document.cookie=escape(cookieName)+"="+escape(c.getRecoverableString(cookieValue))+";expires="+(new Date((new Date).getTime()+31536E6)).toGMTString()+";path=/"},getValue:function(a,b,d){d||(d=c.isFirefox?"GM":localStorage?"STORAGE":"COOKIE");if(d=="GM")return GM_getValue(a,b);else if(d=="STORAGE")return a=c.JSON_parse(localStorage.getItem(a)),a==null&&typeof b!="undefined"?b:a;else{for(var d=document.cookie.split("; "),
f=0;f<d.length;f++){var g=d[f].split("=");if(g[0]==escape(a)){try{eval("var footm = "+unescape(g[1]))}catch(e){break}return footm}}return b}},deleteValue:function(a){if(c.isFirefox)GM_deleteValue(a);else if(localStorage)localStorage.removeItem(a);else if(this.getValue(a))document.cookie=escape(a)+"=;expires=Thu, 01-Jan-1970 00:00:01 GMT"},setValueUni:function(a,b){c.setValue(c.uni_prefix+a,b)},getValueUni:function(a,b){return c.getValue(c.uni_prefix+a,b)},deleteValueUni:function(a){c.deleteValue(c.uni_prefix+
a)},log:function(a){c.isFirefox?GM_log(a):c.isOpera?window.opera.postError(a):c.isChrome&&console.log("Antigame: "+a)},dump:function(a,b,d){typeof d=="undefined"&&(d=!0);if(typeof a!="object")c.log(""+(b?b+": ":"")+a);else if(b){b=b.split(",");for(e=0;e<b.length;e++)try{var f=b[e];(d||typeof a[f]!="undefined")&&c.log(f+": "+a[b[e]])}catch(g){}}else for(var e in a)try{typeof a[e]!="function"&&c.log(e+": "+a[e])}catch(j){}},getRecoverableString:function(a,b){var d=typeof a;if(d=="null"||d=="object"&&
!a)return"null";if(d=="undefined")return"window.uDfXZ0_d";if(d=="object"){if(a==window)return"window";if(a==document)return"document";if(a==document.body)return"document.body";if(a==document.documentElement)return"document.documentElement"}if(a.nodeType&&(a.childNodes||a.ownerElement))return"{error:'DOM node'}";if(!b)Object.prototype.toRecoverableString=function(a){if(this.tempLockIgnoreMe)return"{'LoopBack'}";this.tempLockIgnoreMe=!0;var b="{",d="",c,e;for(e in this)if(!(e=="toRecoverableString"||
e=="tempLockIgnoreMe"||e=="prototype"||e=="constructor"))if(!a||!(e=="index"||e=="input"||e=="length"||e=="toRecoverableObString")){c=this[e];if(e.match(basicObPropNameValStr))window.ActiveXObject&&navigator.userAgent.indexOf("Mac")+1&&!navigator.__ice_version&&window.ScriptEngine&&ScriptEngine()=="JScript"&&e.match(/^\d+$/)&&(e="'"+e+"'");else{for(var l=0;l<cleanStrFromAr.length;l++)e=e.replace(cleanStrFromAr[l],cleanStrToAr[l]);e="'"+e+"'"}b+=d+e+":"+getRecoverableString(c,!0);d=","}b+="}";this.tempLockIgnoreMe=
!1;return b},Array.prototype.toRecoverableObString=Object.prototype.toRecoverableString,Array.prototype.toRecoverableString=function(){if(this.tempLock)return"['LoopBack']";if(!this.length){var a=0,b;for(b in this)b!="toRecoverableString"&&b!="toRecoverableObString"&&b!="tempLockIgnoreMe"&&b!="prototype"&&b!="constructor"&&b!="index"&&b!="input"&&b!="length"&&a++;if(a)return this.toRecoverableObString(!0)}this.tempLock=!0;a="[";for(b=0;b<this.length;b++)a+=(b?",":"")+getRecoverableString(this[b],
!0);a+="]";delete this.tempLock;return a},Boolean.prototype.toRecoverableString=function(){return""+this+""},Date.prototype.toRecoverableString=function(){return"new Date("+this.getTime()+")"},Function.prototype.toRecoverableString=function(){return this.toString().replace(/^\s+|\s+$/g,"").replace(/^function\s*\w*\([^\)]*\)\s*\{\s*\[native\s+code\]\s*\}$/i,"function () {['native code'];}")},Number.prototype.toRecoverableString=function(){if(isNaN(this))return"Number.NaN";if(this==Number.POSITIVE_INFINITY)return"Number.POSITIVE_INFINITY";
if(this==Number.NEGATIVE_INFINITY)return"Number.NEGATIVE_INFINITY";return""+this+""},RegExp.prototype.toRecoverableString=function(){return"/"+this.source+"/"+(this.global?"g":"")+(this.ignoreCase?"i":"")},String.prototype.toRecoverableString=function(){var a=escape(this);if(a==this)return"'"+this+"'";return"unescape('"+a+"')"};if(!a.toRecoverableString)return"{error:'internal object'}";d=a.toRecoverableString();b||(delete Object.prototype.toRecoverableString,delete Array.prototype.toRecoverableObString,
delete Array.prototype.toRecoverableString,delete Boolean.prototype.toRecoverableString,delete Date.prototype.toRecoverableString,delete Function.prototype.toRecoverableString,delete Number.prototype.toRecoverableString,delete RegExp.prototype.toRecoverableString,delete String.prototype.toRecoverableString);return d},whenrendered:function(a){document.defaultView.getComputedStyle(document.body,null)?a():setTimeout(function(){c.whenrendered(a)},100)},addSpanMark:function(a,b){var d=!a?"middlemark":
a>0?"undermark":"overmark",b=b||"("+(a>0?"+":"")+c.formatNumber(a)+")";return'<span class="'+d+'">'+b+"</span>"},blockAutocomplete:function(){for(var a=document.getElementsByTagName("form"),b=0;b<a.length;b++)a[b].setAttribute("autocomplete","off")},checkRedesign:function(){return this.unsafeWindow.$||this.isCurrentPage("showmessage")?!0:!1},createStyleSheet:function(){document.getElementsByTagName("head")[0].appendChild(document.createElement("style"));c.stylesheet=document.styleSheets[document.styleSheets.length-
1]},formatNumber:function(a){var b=(e.thousandSeparator=="--"?this.separator:e.thousandSeparator)||"",a=""+a;if(!b||isNaN(a))return a;for(var d,c="";d=a.slice(-3);)c=c&&d!="-"?d+b+c:d+c,a=a.substr(0,a.length-d.length);return c},trim:function(a){return a?a.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"):null},getDocScript:function(){var a=document.getElementsByTagName("script");this.script=null;for(var b=0,d=0;d<a.length;d++)if(!a[d].src&&!(this.isCurrentPage("messages")&&b++==0)&&a[d].childNodes[0].nodeValue.indexOf("session =")>
-1){this.script=a[d];break}},insertAfter:function(a,b){if(a&&b){var d=b.parentNode;d.lastchild==b?d.appendChild(a):d.insertBefore(a,b.nextSibling)}},deleteNode:function(a){a&&a.parentNode.removeChild(a)},insertCSSRule:function(a){c.stylesheet.insertRule(a,0)},isCurrentPage:function(a){for(var a=a.toLowerCase().split(","),b=0;b<a.length;b++)if(a[b]==this.page)return!0;return!1},runScript:function(a){if(a&&a!="")document.location.href="javascript:"+a+";void(0);"},trigger:function(a,b){var d=typeof a==
"string"?document.getElementById(a):a;if(d){var f;if(b=="click"||b=="mouseup")f=document.createEvent("MouseEvents"),f.initMouseEvent(b,!0,!0,c.unsafeWindow,0,0,0,0,0,!1,!1,!1,!1,0,null);else if(b=="change"||b=="focus")f=document.createEvent("HTMLEvents"),f.initEvent(b,!0,!1);f&&d.dispatchEvent(f)}},killCluetips:function(a){a=a||".tipsStandard";setTimeout(function(){c.$(a).cluetip("destroy").unbind("mouseover").each(function(){this.title=this.title.replace("|","")})},0)},XPath:function(a,b,d){try{b||
(b=document);mydoc=b.ownerDocument||document;if(!d)d=XPathResult.ORDERED_NODE_SNAPSHOT_TYPE;return mydoc.evaluate(a,b,null,d,null)}catch(f){c.log(f)}},XPathSingle:function(a,b){return this.XPath(a,b,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE).snapshotItem(0)},getElementsByClassName:function(a,b){for(var d="",c=a.match(/\S+/gi),e=0;e<c.length;e++){var h=c[e];d&&(d+=" and ");h.substr(0,1)=="!"&&(d+="false=",h=h.substr(1));d+='contains(concat(" ", normalize-space(@class), " "), " '+h+' ")'}return this.XPath("descendant::*["+
d+"]",b)},getElementByClassName:function(a,b){return this.getElementsByClassName(a,b).snapshotItem(0)},parseInt:function(a){if(!a)return null;return parseInt(a.replace(/[^\d\-]/g,""),10)},extractInt:function(a,b){if(!a)return null;a=a.toString();if(!b)return c.parseInt(a);return(a=a.match(b))?c.parseInt(a[1]):null},getIntById:function(a,b,d){a=document.getElementById(a);b=b||"innerHTML";if(!a||!a[b])return null;return c.extractInt(a[b],d)},getIntByXPath:function(a,b,d){b=b||"innerHTML";a=c.XPathSingle(a);
if(!a)return null;return c.extractInt(a[b],d)},initUni:function(){this.server="EN";var a=document.location.href;(server=a.match(/http:\/\/([^\\\/]+[\\\/])/i))&&(server=server[1].toUpperCase());server=server.replace(/\\/i,"/");if(server.indexOf("AR.OGAME.ORG/")>-1)this.server="AR";else if(server.indexOf("BA.OGAME.ORG/")>-1)this.server="BA";else if(server.indexOf("BG.OGAME.ORG/")>-1)this.server="BG";else if(server.indexOf("OGAME.COM.BR/")>-1)this.server="BR";else if(server.indexOf("CN.OGAME.ORG/")>
-1)this.server="CN";else if(server.indexOf("OGAME.CZ/")>-1)this.server="CZ";else if(server.indexOf("OGAME.DE/")>-1)this.server="DE";else if(server.indexOf("OGAME.DK/")>-1)this.server="DK";else if(server.indexOf("OGAME.COM.ES/")>-1)this.server="ES";else if(server.indexOf("FI.OGAME.ORG/")>-1)this.server="FI";else if(server.indexOf("OGAME.FR/")>-1)this.server="FR";else if(server.indexOf("OGAME.GR/")>-1)this.server="GR";else if(server.indexOf("OGAME.COM.HR/")>-1)this.server="HR";else if(server.indexOf("OGAME.HU/")>
-1)this.server="HU";else if(server.indexOf("OGAME.IT/")>-1)this.server="IT";else if(server.indexOf("OGAME.JP/")>-1)this.server="JP";else if(server.indexOf("OGAME2.CO.KR/")>-1)this.server="KR";else if(server.indexOf("OGAME.LT/")>-1)this.server="LT";else if(server.indexOf("OGAME.LV/")>-1)this.server="LV";else if(server.indexOf("MX.OGAME.ORG/")>-1)this.server="MX";else if(server.indexOf("OGAME.NL/")>-1)this.server="NL";else if(server.indexOf("OGAME.NO/")>-1)this.server="NO";else if(server.indexOf("OGAME.PL/")>
-1)this.server="PL";else if(server.indexOf("OGAME.COM.PT/")>-1)this.server="PT";else if(server.indexOf("OGAME.RO/")>-1)this.server="RO";else if(server.indexOf("OGAME.RU/")>-1)this.server="RU";else if(server.indexOf("OGAME.SE/")>-1)this.server="SE";else if(server.indexOf("OGAME.SI/")>-1)this.server="SI";else if(server.indexOf("OGAME.SK/")>-1)this.server="SK";else if(server.indexOf("OGAME.COM.TR/")>-1)this.server="TR";else if(server.indexOf("OGAME.TW/")>-1)this.server="TW";else if(server.indexOf("OGAME.US/")>
-1)this.server="US";else if(server.indexOf("OGAME.ORG/")>-1)this.server="ORG";this.server_lang=this.server;if(this.server=="US"||this.server=="ORG")this.server_lang="EN";else if(this.server=="AR"||this.server=="MX")this.server_lang="ES";this.uni=(this.uni=a.toUpperCase().match(/:\/\/([a-z0-9]+)\./i))?this.uni[1]:"0";this.uni_prefix=(this.uni+"."+this.server).replace(/[\.\-]/g,"_");this.page=document.body.id.toLowerCase();if(!this.page)this.page=(this.page=document.location.search.match(/page=(\w+)/i))?
this.page[1].toLowerCase():"";if(this.unsafeWindow.startServerTime)this.ogameVersion="1.2.1"},Init:function(){this.createStyleSheet();this.isOpera=window.opera?!0:!1;this.isFirefox=window.navigator.userAgent.indexOf("Firefox")>-1?!0:!1;this.isChrome=window.navigator.userAgent.indexOf("Chrome")>-1?!0:!1;this.$=this.unsafeWindow.$;this.separator=this.unsafeWindow.LocalizationStrings?this.unsafeWindow.LocalizationStrings.thousandSeperator||".":".";this.initUni();this.getDocScript();this.ogame=document.location.href.match(/http:\/\/.+\.ogame\..+\/game\/index\.php\?page=*/i)?
!0:!1}},m={TECH_WEAPONS:109,TECH_SHIELD:110,TECH_ARMOUR:111,TECH_ENERGY:113,TECH_COMB_DRIVE:115,TECH_IMPULSE_DRIVE:117,TECH_HYPER_DRIVE:118,used_techs:[109,110,111,113,115,117,118],createShip:function(a,b,d,c,e,h,j,k,l){var n={};n.name=b;n.metal=d;n.crystal=c;switch(e){case 1:e=this.TECH_COMB_DRIVE;break;case 2:e=this.TECH_IMPULSE_DRIVE;break;case 3:e=this.TECH_HYPER_DRIVE;break;default:e=this.TECH_COMB_DRIVE}n.drive=e;n.speed=h;n.capacity=j;n.consumption=k||0;n.exp=l;this.ships[a]=n},createDef:function(a,
b,d,c){var e={};e.name=b;e.metal=d;e.crystal=c;this.defs[a]=e},readTechs:function(){try{this.techs=[],c.$("#buttonz a.detail_button").each(function(){m.techs[this.getAttribute("ref")]=c.parseInt(c.$(this).find(".level").get(0).lastChild.nodeValue)}),this.saveTechs()}catch(a){c.log(a)}},readTemperature:function(){this.temperature=0;var a=this.getActivePlanet();if(a&&(a=a.title.match(/<br>.*<br>[^\d\-]*([\d\-]+)/i)))this.temperature=parseInt(a[1],10)},readActivePlanet:function(){try{this.active_planet=
null;var a=c.XPath('//A[contains(@class,"planetlink")][@title]');if(a)if(a.snapshotLength==1)this.active_planet=a.snapshotItem(0);else for(var b=0;b<a.snapshotLength;b++)if(a.snapshotItem(b).className.indexOf("active")>-1){this.active_planet=a.snapshotItem(b);break}}catch(d){c.log(d)}},getActivePlanet:function(){this.active_planet==null&&this.readActivePlanet();return this.active_planet},getCoordsFromPlanet:function(a){if(!a)return{galaxy:0,system:0,planet:0,type:0,name:""};var b=c.XPathSingle('SPAN[@class="planet-name"]',
a).innerHTML,a=c.XPathSingle('SPAN[@class="planet-koords"]',a).innerHTML,a=a.replace(/[\[\]]/g,"").split(":");return{galaxy:parseInt(a[0],10),system:parseInt(a[1],10),planet:parseInt(a[2],10),type:1,name:b}},getActiveCoords:function(){return this.getCoordsFromPlanet(this.getActivePlanet())},readOfficers:function(){var a=c.$("#officers a img");this.engineer=a.get(2).src.indexOf("_un.gif")==-1;this.geologist=a.get(3).src.indexOf("_un.gif")==-1},getTech:function(a){this.techs==null&&this.loadTechs();
this.techs.length||this.showNoTechWarning();return this.techs[a]},getTemperature:function(){this.temperature==null&&this.readTemperature();return this.temperature},getGeologist:function(){this.geologist==null&&this.readOfficers();return this.geologist},getEngineer:function(){this.engineer==null&&this.readOfficers();return this.engineer},getConsumption:function(a,b){if(a&&!(b<0)){if(b==0)return 0;var d=0;a==12&&(d=Math.floor(10*b*Math.pow(1.1,b))*e.uni_SpeedFactor);return Math.floor(d)}},getProduction:function(a,
b){if(a&&!(b<0)){if(a==212)return e.uni_reDesigned?Math.floor((this.getTemperature()+40)/4+20)*(this.getEngineer()?1.1:1):Math.floor((this.getTemperature()+40+140)/6)*(this.getEngineer()?1.1:1);if(b==0)return a==1?20*e.uni_SpeedFactor:a==2?10*e.uni_SpeedFactor:0;var d=0;a==1?d=30*b*Math.pow(1.1,b):a==2?d=20*b*Math.pow(1.1,b):a==3?d=10*b*Math.pow(1.1,b)*(1.28-this.getTemperature()*0.0040):a==4?d=20*b*Math.pow(1.1,b):a==12&&(d=30*b*Math.pow(1.05+this.getTech(this.TECH_ENERGY)*0.01,b));if(a==1||a==2||
a==3)d=Math.floor(d)*e.uni_SpeedFactor;a<=3&&this.getGeologist()?d=Math.floor(d)*1.1:a>3&&this.getEngineer()&&(d=Math.floor(d)*1.1);return Math.floor(d+this.getProduction(a,0))}},getStorageCapacity:function(a,b){if(a&&!(b<0)&&!(a!=22&&a!=23&&a!=24)){var d;if(e.uni_reDesigned)d=100+50*Math.floor(Math.pow(1.6,b));else switch(b){case 0:d=10;break;case 1:d=20;break;case 2:d=40;break;case 3:d=75;break;case 4:d=140;break;case 5:d=255;break;case 6:d=470;break;case 7:d=865;break;case 8:d=1590;break;case 9:d=
2920;break;case 10:d=5355;break;case 11:d=9820;break;case 12:d=18005;break;case 13:d=33005;break;case 14:d=60510;break;case 15:d=110925;break;case 16:d=203350;break;case 17:d=372785;break;case 18:d=683385;break;case 19:d=1297589;break;case 20:d=2296600;break;default:d=0}return d*1E3}},loadTechs:function(){try{this.techs=[];var a=c.getValueUni("techs");if(a)for(var a=a.split("&"),b=0;b<a.length;b++){var d=a[b].split("=");this.techs[parseInt(d[0],10)]=parseInt(d[1],10)}}catch(f){c.log(f)}},saveTechs:function(){var a=
"",b;for(b in this.used_techs){var d=this.used_techs[b];a&&(a+="&");a+=""+d+"="+this.techs[d]}c.setValueUni("techs",a)},updateShipSpeed:function(){if(this.getTech(this.TECH_IMPULSE_DRIVE)>=5)this.ships[202].speed=1E4,this.ships[202].drive=this.TECH_IMPULSE_DRIVE;if(this.getTech(this.TECH_HYPER_DRIVE)>=8)this.ships[211].speed=5E3,this.ships[211].drive=this.TECH_HYPER_DRIVE;for(var a in this.ships){var b=this.ships[a],d=b.drive==this.TECH_COMB_DRIVE?0.1:b.drive==this.TECH_IMPULSE_DRIVE?0.2:0.3;b.speed=
Math.floor(b.speed*(10+this.getTech(b.drive)*d*10)/10)}},getFleetDistance:function(a,b){var d=Math.abs(a.galaxy-b.galaxy),c=Math.abs(a.system-b.system),e=Math.abs(a.planet-b.planet);return d!=0?d*2E4:c!=0?c*95+2700:e!=0?e*5+1E3:5},getFleetDuration:function(a,b,d){return Math.round((35E3/d*Math.sqrt(b*10/this.ships[a].speed)+10)/e.uni_SpeedFactor)},getFleetConsumption:function(a,b,d){d=35E3/(this.getFleetDuration(a,b,d)*e.uni_SpeedFactor-10)*Math.sqrt(b*10/this.ships[a].speed);return Math.round(this.ships[a].consumption*
b/35E3*(d/10+1)*(d/10+1))+1},getFleetDebris:function(a,b){for(var d=0,c=0,g=0;g<a.length;g++){var h=a[g].name,j=a[g].count,k;for(k in m.ships){var l=m.ships[k],n=e.Labels["lbl_ship"+l.name];if(n&&h.indexOf(n)>-1){d+=j*l.metal*e.uni_DFPercent*0.01;c+=j*l.crystal*e.uni_DFPercent*0.01;break}}if(b&&e.uni_DefenseToDF)for(k in m.defs)if(l=m.defs[k],(n=e.Labels["lbl_def"+l.name])&&h.indexOf(n)>-1){d+=j*l.metal*e.uni_DefenseToDF*0.01;c+=j*l.crystal*e.uni_DefenseToDF*0.01;break}}return{metal:d,crystal:c,recs:Math.ceil((d+
c)/2E4)}},showNoTechWarning:function(){if(!this.noTechWarning_shown&&c.page!="research"){var a=c.XPathSingle('//A[contains(@class,"menubutton") and contains(@href,"page=research")]');if(a){c.insertCSSRule("#notech_marker, #notech_marker:hover { \t\t\t\tdisplay:block !important; \t\t\t\twidth:19px !important; \t\t\t\tposition:relative !important; \t\t\t\ttop:-25px !important; \t\t\t\tleft:-20px !important; \t\t\t\tpadding:0 !important; \t\t\t\tline-height:normal !important; \t\t\t\tfont-family:Verdana !important; \t\t\t\tfont-weight:700 !important; \t\t\t\tfont-size:16px !important; \t\t\t\tcursor:pointer !important; \t\t\t}");
c.insertCSSRule("#update_marker { \t\t\t\tcolor:orange !important; \t\t\t}");c.insertCSSRule("#update_marker:hover { \t\t\t\tcolor:#FFEE66 !important; \t\t\t}");var b=document.createElement("a");b.innerHTML="[!]";b.id="notech_marker";b.title="Antigame says: Visit the Research page to get the techs.";b.setAttribute("href",a.getAttribute("href"));a.parentNode.appendChild(b);this.noTechWarning_shown=!0}}},Init:function(){this.temperature=this.geologist=this.engineer=this.techs=this.active_planet=null;
var a=document.location.href.match(/:\/\/([^\/]+)\//);this.prefix=a?a[1].toUpperCase().replace(/[\.\-]/g,""):"";this.ships=[];this.createShip(202,"SCargo",2E3,2E3,1,5E3,5E3,20,12);this.createShip(203,"LCargo",6E3,6E3,1,7500,25E3,50,47);this.createShip(204,"LFighter",3E3,1E3,1,12500,50,0,12);this.createShip(205,"HFighter",6E3,4E3,2,1E4,100,0,110);this.createShip(206,"Cruiser",2E4,7E3,2,15E3,800,0,47);this.createShip(207,"Battleship",45E3,15E3,3,1E4,1500,0,160);this.createShip(208,"Colonizator",1E4,
2E4,2,2500,7500,0,30);this.createShip(209,"Recycler",1E4,6E3,1,2E3,2E4,300,16);this.createShip(210,"Spy",0,1E3,1,1E8,0,0,1);this.createShip(211,"Bomber",5E4,25E3,2,4E3,500,0,75);this.createShip(213,"Destroyer",6E4,5E4,3,5E3,2E3,0,110);this.createShip(214,"RIP",5E6,4E6,3,100,1E6,0,9E3);this.createShip(215,"BCruiser",3E4,4E4,3,1E4,750,0,70);this.createShip(212,"Satellite",0,2E3,1,0,0);this.defs=[];this.createDef(401,"RLauncher",2E3,0);this.createDef(402,"LLaser",1500,500);this.createDef(403,"HLaser",
6E3,2E3);this.createDef(404,"Gauss",2E4,15E3);this.createDef(405,"Ion",2E3,6E3);this.createDef(406,"Plasma",5E4,5E4);this.createDef(407,"SShield",1E4,1E4);this.createDef(408,"LShield",5E4,5E4);this.updateShipSpeed()}},s={PLAYER:"Player",ALLY:"Ally",prepare:function(a,b,d){try{if(b&&d){b=b.toUpperCase().split(",");d=d.toUpperCase().split(",");this[a+"Colors"]=[];for(var f=0;f<b.length;f++)if(b[f]||d[f])this[a+"Colors"][b[f]]=d[f]}}catch(e){c.log(e)}},highlight:function(a,b,d,f){try{if(this[a+"Colors"]){var e=
c.XPathSingle(b,d);if(e&&e.firstChild){var h=c.trim(e.firstChild.nodeValue);typeof f=="function"&&(h=f(h));if(h){var j=this[a+"Colors"][h.toUpperCase()];if(j)e.style.color=j}}}}catch(k){c.log(k)}},Init:function(){this.prepare(this.PLAYER,e.galaxy_Players,e.galaxy_PlayerColors);this.prepare(this.ALLY,e.galaxy_Allys,e.galaxy_AllyColors)}},o={addCell:function(a,b,d,c){typeof a=="undefined"&&(a="");typeof b=="undefined"&&(b="");this.data[this.data.length]={key:a,value:b,value_class:d,id:c,attr:""};this.lastCell=
this.data[this.data.length-1]},addHref:function(a,b,d){typeof a=="undefined"&&(a="");typeof b=="undefined"&&(b="");b='<a href="javascript:void(0)" id="'+d+'">'+c.formatNumber(b)+"</a>";this.addCell(a,b,this.href_class||"",d)},createTableString:function(a){for(var a=a||1,b="",d=0;d<Math.ceil(this.data.length/a);d++){b+="<tr>";for(var f=0;f<a;f++){var e=this.data[d*a+f];e&&(b+="<td "+(this.key_class?'class="'+this.key_class+'" ':"")+">"+(e.key?e.key+":":" ")+"</td><td "+(e.value_class||this.value_class?
'class="'+(e.value_class||this.value_class)+'" ':"")+(e.id?'id="'+e.id+'" ':"")+" "+e.attr+">"+c.formatNumber(e.value)+"</td>")}b+="</tr>"}return b='<tbody><tr><th class="'+this.title_class+'" colspan="'+a*2+'">'+this.title+"</th></tr>"+b+"</tbody>"},init:function(a,b,d,c){this.title=a||"";this.title_class=b||"";this.key_class=d||"";this.value_class=c||"";this.data=[]}},r={img_on:"data:image/gif;base64,R0lGODlhGwAbAOYAAAAAAP///wkJDAYHCQcICgkLDgoMDwsNEA0PEg8SFhIVGRwgJQoNEAcJCwsOEQkLDQ8SFQoMDhATFhYaHhcbHx0iJx8kKRoeIhsfIyowNiMoLQcICRseIRIUFgkKCx8lKjhARzE4PltncVRfaBAUFxEVGBIWGRsgJBwhJT9IT0pUXGJveT5GTAoNDwwPETtESlFdZU1YYEZQV4WXo36Pm3eHkml3gTU8QSwyNmJveFllbXyNmHODjVBbYhsgI2p5gkdRVyMoKwwQEgYICQcJCg8TFQcKCwkMDQwPEAECAgQEBP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAEsALAAAAAAbABsAAAf/gEtLHyiFhoeIiR+CSxaHC5CQiJKIHz6DhpGam5GTPhMTmZyjoxWgCxkgGqSsCyEgKKAXMTMgraQ2MwunMSKrt5whMye8McCkw8UgMgvLGTLLzTLP0dEzsRMYMTEpNAsrIyA23d/h497gC7qg2sY0MjMhzwvv8fP1Ieq7oNsLIjU1NP0LGGkgpBkUJhCZoELFhBczYIACBVHixIqgZkzYAAAACxYAPMzA0bGjSJIlT3acUdIjyBszerSEKbMkzZUtPwLQ8WNHS54+SwLFWfKjSA47cHAAcjTp0qYkWRZlcYMHgB49guSoejXrVqtYAcxIMrUDBwBmPXAwi5aDWrZsZKV21NmypJKOd+sSnZujg96/dWHmnBFEL1kAh/XmkAu4ceMhAAY4nlyywJEHlhsYIcC5c2POQzwIWCIEgQsXDg6obsHagOsIrxkwAOAAiW1GJhSQICGhdxEIv4EnEE68RAlBgQAAOw==",
img_off:"data:image/gif;base64,R0lGODlhGwAbAOYAAAAAAP///wkJDAcHCAsLDAYHCQcICiMmKwkLDgoMDwsNEA0PEg8SFhIVGSgrLysuMhwgJR8jKAoNEAcJCwsOEQkLDQ8SFQoMDhATFhYaHhcbHx0iJx8kKRoeIhsfIwcICR4iJiElKSQoLAkKCycqLS0wMzM2OSMlJycpKxUWFxkaGx8lKhAUFxEVGBIWGRsgJBwhJSAkJyQoKyYqLSktMAoNDwwPETI1NzE0NjU4OhsgIwwQEgYICQcJCg8TFS4yNBweHyAiIwcKCwkMDQwPECotLi4xMgECAg4PDxITEwQEBP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAEsALAAAAAAbABsAAAf/gEtLKzCFhoeIiSuCSxyHEJCQiJKIKzqDhpGam5GTOhkZmZyjoxugEBEHIKSsECEHMKAdDjkHraQ/ORCnDg+rt5whOS+8DsCkw8UHMxDLETPLzTPP0dE5sRkeDg4iJhAlNAc/3d/h497gELqg2sYmMzkhzxDv8fP1Ieq7oNsQDzc3NP0LGGkgpBwaMvTIIENGhhg5SIACBVHixIqgcmT4AACAChUAlORI0rGjSJIlT3bMUdIjyBQ5grSEKbMkzZUtPwI4UQRHS54+SwLFWfKjSAI4khAAcjTp0qYkWRZVkcIIgCBBkKCoejXrVqtYAeQ4MnUAAQBmlRAwi5aAWrZsYqV21Nkypcm6JeV6RDEAr9+6MHPmQIKXLADDeFHo/cv4Lw8ABRpLLolgSIXKE4QY2MyZ8WYeIwQs2bHAhg0KClLXWJ2g9QXXEiQAoECkNiMXDViwwMDbhwXfvxkEH96ihaBAADs=",
img_hl:"data:image/gif;base64,R0lGODlhGwAbAOYAAAAAAP///wkJDAYHCQcICgkLDgoMDwsNEA0PEg8SFhIVGRwgJQoNEAcJCwsOEQkLDQ8SFQoMDhATFhYaHhcbHx0iJx8kKRoeIhsfIwcICQkKCx8lKhAUFxEVGBIWGRsgJBwhJQoNDwwPERsgIwwQEgYICQcJCg8TFQcKCwkMDQwPEAECAmlNMVpCKks3IzwsHC0hFR4WDg8LB62BVoNkRXheRDYyLpdtRYhiPnlXN+KkaNOZYcSOWrWDU6Z4TNWbZMiSX6B4UpNvTYZmSXVaQWtVQFpIN15MO1FDN0Q6MikpKQQEBP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAEwALAAAAAAbABsAAAf/gExMGyCFhoeIiRuCTBaHC5CQiJKIGyODhpGam5GTIxMTmZyjoxWgCzZISqSsC0lIIKAXNTpIraQzOgunNUKrt5xJOh+8NcCkw8VIRQvLNkXLzUXP0dE6sRMYNTVHPwtBQ0gz3d/h497gC7qg2sY/RTpJzwvv8fP1Seq7oNsLQkBANP0LGGkgJB0UJpiYQITIBCM6aIACBVHixIqgdEzIAAAACxYAZOhw0bGjSJIlT3bUUdIjyBY6cLSEKbMkzZUtPwK40WNHS54+SwLFWfKjSBg7XMDIcTTp0qYkWRZl0YIHABw4XvioejXrVqtYAehYMTUGDABmZcAwixaGWrZsZKV21Nmy5JKOd+sSnesjht6/dWHm1PFCL1kAh/X6kAu4ceMSAAY4nlyyQIoHlhugIMC5c2POJTQIYEICgQgRDg6oDsHagOsIrxkwAOBAhW1GHhRw4CCh9wkIv4EnEE68QwdBgQAAOw==",
get:function(){return e.autocopyGlobal?c.getValue("Coords"):c.getValueUni("Coords")},parse:function(a,b,d,c){var e=!1,a=a.match(b);if(!a)return!1;for(var h=0;h<a.length;h++){var j=a[h].toString();d&&(j=j.replace(b,"$1"));var k=j.split(":"),l=parseInt(k[0],10),n=parseInt(k[1],10),m=parseInt(k[2],10);if(l+""==k[0]&&n+""==k[1]&&m+""==k[2]&&!(l<1||l>50)&&!(n<1||n>499||n>100&&l>9)&&!(m<1||m>16)){c&&this.set(j);e=!0;break}}return e},read:function(a,b){typeof b=="undefined"&&(b=!0);if(a.length>0)return this.parse(a,
/\[(\d{1,2}:\d{1,3}:\d{1,2})\]/gi,!0,b)?!0:this.parse(a,/\d{1,2}:\d{1,3}:\d{1,2}/gi,!1,b)?!0:(a=a.replace(/[>\s\[\(](\d{1,2})[:\.\-\/\s](\d{1,3})[:\.\-\/\s](\d{1,2})[\s\]\)<,\.]/gi,"$1:$2:$3"),a=a.replace(/^(\d{1,2})[:\.\-\/\s](\d{1,3})[:\.\-\/\s](\d{1,2})[\s\]\)<,\.]/gi,"$1:$2:$3"),a=a.replace(/[>\s\[\(](\d{1,2})[:\.\-\/\s](\d{1,3})[:\.\-\/\s](\d{1,2})$/gi,"$1:$2:$3"),a=a.replace(/^(\d{1,2})[:\.\-\/\s](\d{1,3})[:\.\-\/\s](\d{1,2})$/gi,"$1:$2:$3"),this.parse(a,/\d{1,2}:\d{1,3}:\d{1,2}/gi,!1,b));return!1},
saved:function(){return(e.autocopyGlobal?c.getValue("CoordsFlag"):c.getValueUni("CoordsFlag"))=="1"},set:function(a){e.autocopyGlobal?(c.setValue("Coords",a),c.setValue("CoordsFlag","1")):(c.setValueUni("Coords",a),c.setValueUni("CoordsFlag","1"));c.ogame&&this.initImg()},reset:function(){e.autocopyGlobal?(c.setValue("Coords",""),c.setValue("CoordsFlag","0")):(c.setValueUni("Coords",""),c.setValueUni("CoordsFlag","0"))},initImg:function(a,b){if(a=a||document.getElementById("btnCoords")){var c=this.saved();
b?(a.setAttribute("rel",c?this.img_on:this.img_off),c||a.setAttribute("src",this.img_off)):(a.setAttribute("src",c?this.img_on:this.img_off),a.setAttribute("rel",c?this.img_hl:this.img_off));a.setAttribute("title",c?e.Interface.lbl_resetCoords+this.get():"");a.parentNode.style.cursor=c?"pointer":"default"}},onMouseUp:function(a){if(a&&(!a.ctrlKey||a.keyCode)){a=a.target.toString();try{!a.match(/InputElement|SelectElement|OptionElement/i)&&!a.match(/object XUL/i)&&r.read(window.getSelection().toString())}catch(b){c.log(b)}}},
Init:function(){document.addEventListener("mouseup",function(a){r.onMouseUp(a)},!1);window.addEventListener("focus",function(){r.initImg()},!1)}},v={maxClueHeight:228,reduced:!1,bExpand:!1,pro:!1,changeTime:function(){p.changeNodesTime('//LI[contains(@class,"arrivalTime")]',"[H]:[i]:[s]")},insertCSSRules:function(){c.insertCSSRule(".eventFleet .playername, .eventFleet .playername2, .partnerInfo .playername, .partnerInfo .playername2, .partnerInfo .playername3  { \t\t\t\ttop: 38px; \t\t\t\tfont-size: 10px; \t\t\t\tcolor: green; \t\t\t\twhite-space:nowrap; \t\t\t}");
c.insertCSSRule(".eventFleet .playername, .partnerInfo .playername { left: 526px }");c.insertCSSRule(".eventFleet .playername2, .partnerInfo .playername2, .partnerInfo .playername3 { left: 303px }");c.insertCSSRule(".coordsOrigin a, .destCoords a { text-decoration:none }");this.bExpand&&(c.insertCSSRule(" \t\t\t\t\t.antigame_evtDetails{ \t\t\t\t\t\tleft: 142px !important; \t\t\t\t\t\ttop: "+(this.reduced?20:50)+"px !important; \t\t\t\t\t\ttext-align: left !important; \t\t\t\t\t\tfont-size: 9px; \t\t\t\t\t\tline-height: 9px; \t\t\t\t\t\tpadding-top: 1px; \t\t\t\t\t\tpadding-bottom: 2px; \t\t\t\t\t} \t\t\t\t"),
t.cssFleetColors());this.reduced&&(c.insertCSSRule(".descFleet, .originFleet, .destFleet { display: none !important}"),c.insertCSSRule(".countDown, .arrivalTime, .coordsOrigin, .detailsFleet, .destCoords, .sendMail, .sendProbe { top: 4px !important}"),c.insertCSSRule(".missionFleet { top: 2px !important}"),c.insertCSSRule(".missionFleet img { padding-top: 0 !important}"),c.insertCSSRule(".eventFleet, .partnerInfo { height: 23px}"),c.insertCSSRule("#eventFooter { height: 2px}"),c.insertCSSRule(".sendMail { left: 500px !important}"),
c.insertCSSRule(".sendProbe { left: 480px !important}"),c.insertCSSRule(".playername, .playername2 { left: 590px !important; top: 3px !important}"),c.insertCSSRule(".playername3 { left: 0px !important; top: 3px !important; right:520px !important; text-align:right}"),c.insertCSSRule(".acsFleet .arrivalTime, .acsFleet .missionFleet, .acsFleet .coordsOrigin, .acsFleet .detailsFleet, .acsFleet .destCoords { top: 13px !important}"),c.insertCSSRule(".acsFleet { height: 40px !important}"),c.insertCSSRule(".acsFleet .playername, .acsFleet .playername2 { top: 13px !important}"),
c.insertCSSRule(".toggleInfos { left: 500px !important}"),c.insertCSSRule(".partnerInfo > ul { display: inline}"),c.insertCSSRule("#evt_timeMode { position: absolute; width: 250px; left:40px; top:9px; text-align:left; color:#6F9FC8}"),c.insertCSSRule(".tmTime #tmTime, .tmCountdown #tmCountdown { /*text-decoration: none; cursor:default;*/ font-weight:700}"),c.insertCSSRule(".tmTime #tmCountdown, .tmCountdown #tmTime { text-decoration: underline; cursor:pointer}"),c.insertCSSRule(".tmTime .countDown, .tmCountdown .arrivalTime { display: none !important}"))},
insertCSSRulesPro:function(){c.insertCSSRule(" \t\t\t#newEventBox{ \t\t\t\theight: 0; \t\t\t\twidth: 720px; \t\t\t\tmargin-left: -5px; \t\t\t} \t\t\t");c.insertCSSRule(" \t\t\t#newEventBox iframe{ \t\t\t\twidth: 100%; \t\t\t\theight: 100%; \t\t\t} \t\t\t");c.insertCSSRule(" \t\t\t\t#rechts{ \t\t\t\t\tmargin-left: 20px; \t\t\t\t} \t\t\t");e.evt_showOnTop||c.insertCSSRule(" \t\t\t\t#newEventBox { \t\t\t\t\tfloat: left; \t\t\t\t} \t\t\t\t");e.evt_showOnTop&&e.evt_noScroll&&c.insertCSSRule(" \t\t\t\t#planetdata { \t\t\t\t\tfloat: left !important; \t\t\t\t\tmargin-left: 30px !important; \t\t\t\t} \t\t\t\t")},
show3StateIndicator:function(a){function b(a){return a.replace("eventRow-","")}function d(a,b){if(b=="-"){var d=c.XPathSingle('//*[@id="eventRow-'+a+'"]/UL/*[@class="missionFleet"]/SPAN');d&&(d.innerHTML+=" ("+d.innerHTML.substr(0,1)+")")}}try{for(var e=c.XPath('//*[@class="missionFleet"]/IMG[contains(@src,"icon-'+a+'")]/ancestor::*[contains(@id,"eventRow")]'),a=[],g=0;g<e.snapshotLength;g++)a[b(e.snapshotItem(g).id)]=e.snapshotItem(g);var e=0,h="",j;c.page=="phalanx"&&(j=document.location.href.match(/galaxy=(\d+).+system=(\d+).+position=(\d+)/i))&&
(h="["+j[1]+":"+j[2]+":"+j[3]+"]");for(var k in a)if(g=parseInt(k,10),a[g]){var l=c.XPathSingle('UL/LI[@class="countDown"]/SPAN',a[k]);fleetType=1;l&&(l.className.indexOf("neutral")>-1?fleetType=0:l.className.indexOf("hostile")>-1&&(fleetType=-1));c.page=="phalanx"&&h!=c.XPathSingle('UL/*[@class="coordsOrigin"]/A',a[k]).innerHTML||c.page!="phalanx"&&fleetType!=1?(e++,a[g+1]?(d(g+1,"-"),a[g+1]=null):d(g,"-"),a[g]=null):a[g+1]&&(e++,a[g+2]?(d(g,"+"),d(g+1,"-"),a[g+2]=null):d(g,"-"),a[g]=null,a[g+1]=
null)}}catch(n){c.log(n)}},getFleetType:function(a){var a=c.XPathSingle('LI[@class="countDown"]/SPAN',a),b=1;a&&(a.className.indexOf("neutral")>-1?b=0:a.className.indexOf("hostile")>-1&&(b=-1));return b},adjustHeight:function(a,b){b=b||c.getElementByClassName("antigame_evtDetails",a);if(b.style.display=="none"&&a.style.display!="none"){b.style.display="";var d=parseInt(b.offsetHeight,10),f=parseInt(a.offsetHeight,10);if(!(f+d))return;a.style.height=f+d+"px"}else if(a.style.display=="none")b.style.display=
"none";if(this.pro)d=document.body.offsetHeight,window.parent.document.getElementById("newEventBox").style.height=d+(e.evt_noScroll?this.maxClueHeight:0)+"px"},getMissionClass:function(a){var b=c.XPathSingle('*[@class="missionFleet"]/IMG',a),b=b.src.match(/icon\-(.+)\.gif/)[1],d="",a=this.getFleetType(a);if(a==-1)d="hostile";else if(a==0)d="neutral";else switch(b){case "angriff":d="ownattack";break;case "halten":d="ownhold";break;case "kolonisieren":d="owncolony";break;case "stationieren":d="owndeploy";
break;case "tf-abbauen":d="ownharvest";break;case "transport":d="owntransport";break;case "verband":d="ownfederation";break;case e.Labels.lbl_missDestroy:d="owndestroy";break;case "spionage":d="ownespionage";break;case "expedition":d="ownexpedition";break;default:d="owntransport"}return d},expandFleets:function(){try{for(var a=function(a,b){var d=new XMLHttpRequest;d.open("GET",a,!0);d.onreadystatechange=function(){d.readyState==4&&d.status==200&&c.whenrendered(function(){v.showFleetDetails(b,d.responseText)})};
d.send(null)},b=c.XPath('//*[contains(@class,"eventFleet")]/UL | //*[contains(@class,"partnerInfo")]/UL'),d=0;d<b.snapshotLength;d++)if(row=b.snapshotItem(d),!(row.parentNode.className.indexOf("acsFleet")>-1)){var e=c.getElementByClassName("tipsTitleArrowClose",row);if(e){var e=e.href,g=document.createElement("li");g.className="antigame_evtDetails "+this.getMissionClass(row);g.style.display="none";row.appendChild(g);a(e,g)}}}catch(h){c.log(h)}},showFleetDetails:function(a,b){function d(){for(var a=
c.XPath('//*[contains(@class,"partnerInfo")]'),b=0;b<a.snapshotLength;b++)v.adjustHeight(a.snapshotItem(b))}b=b.replace(/<th colspan="2">.+?<\/th>/gi,"").replace(/(<.+?>\s*)+/gi," ").replace(" &nbsp; ","<br/><br/>").replace(/^\s/,"");a.innerHTML=b;var e=a.parentNode.parentNode;if(e.style.display=="none")for(var e=document.getElementsByClassName("toggleInfos"),g=0;g<e.length;g++)e[g].addEventListener("click",d,!1);else this.adjustHeight(e,a)},process:function(){try{for(var a=c.XPath('//*[contains(@class,"eventFleet")]/UL | //*[contains(@class,"partnerInfo")]/UL'),
b,d,f,g,h=0;h<a.snapshotLength;h++){d=a.snapshotItem(h);(b=d.parentNode.className.match(/\bunion\d+\b/))&&(b=b[0].replace("union",""));d.className.indexOf("allianceAttack")>-1&&(d.parentNode.className+=" acsFleet");f=b?document.getElementById("eventRow-"+b):d;c.XPathSingle('LI[@class="countDown"]/SPAN',f);g=this.getFleetType(f);var j="playername",k=c.XPathSingle('*[@class="sendMail"]/A',d);!k&&b?(k=c.XPathSingle('*[@class="descFleet"]/A',d),j="playername3"):j=g==1?"playername":"playername2";var l=
RegExp(e.Labels.rx_sendMail.source);if(k&&(k=k.title.match(l))&&(k=k[1])){var n=document.createElement("li");n.className=j;n.innerHTML=k;d.appendChild(n);var m=d.parentNode.className.match(/\bunion\d+\b/);if(j!="playername3"&&m&&(m=m[0].replace("union",""))){var o=document.getElementById("eventRow-"+m),o=o.getElementsByTagName("UL")[0];c.XPathSingle('*[@class="playername" or @class="playername2"]',o)||o.appendChild(n.cloneNode(!0))}}if(this.reduced&&!b){var p=c.XPathSingle('LI[@class="arrivalTime"]',
d);p&&(g==0?p.className+=" neutral":g==-1&&(p.className+=" hostile"))}}if(this.reduced){var q=document.getElementById("eventListWrap");q.className=e.evt_TimeMode==1?"tmTime":"tmCountdown";var r=document.createElement("div");r.id="evt_timeMode";r.innerHTML='<span id="tmTime">'+e.Interface.lbl_tmTime+'</span> / <span id="tmCountdown">'+e.Interface.lbl_tmCountdown+"</span>";r.addEventListener("click",function(a){if((a.target.id=="tmTime"||a.target.id=="tmCountdown")&&q.className!=a.target.id)q.className=
a.target.id},!1);document.getElementById("eventHeader").appendChild(r)}}catch(s){c.log(s)}},processPro:function(){function a(a,b){a.style.top=a.offsetTop+b+"px"}try{c.insertCSSRule("#eventListWrap { margin-left: 0 !important}");var b=window.parent;if(b){var b=b.document,d=document.body.offsetHeight,f=b.getElementById("newEventBox");delta=d-f.clientHeight;e.evt_noScroll&&(d+=this.maxClueHeight);f.style.height=d+"px";e.evt_showOnTop&&(a(c.getElementByClassName("c-left",b.body),delta),a(c.getElementByClassName("c-right",
b.body),delta));if(e.evt_noScroll&&e.evt_showOnTop)b.getElementById("planet").style.marginTop=-this.maxClueHeight+"px"}document.body.className="eventListPro"}catch(g){c.log(g)}},processCluetip:function(a){if(a&&a.target&&a.target.id=="cluetip-close"){for(var a=a.target.parentNode.nextElementSibling.firstElementChild.firstElementChild,b=a.getElementsByTagName("tr"),d=[],f,g,h=0;h<b.length;h++)f=b[h].firstElementChild,(g=f.nextElementSibling)&&g.innerHTML&&d.push({name:f.innerHTML,count:c.parseInt(g.innerHTML)});
b=m.getFleetDebris(d);b='<tr><td colspan="2">&nbsp;</td></tr><tr><th colspan="2">'+e.Interface.lbl_debris+":</th></tr><tr><td>"+e.Interface.lbl_metal+':</td><td class="value">'+c.formatNumber(b.metal)+"</td></tr><tr><td>"+e.Interface.lbl_crystal+':</td><td class="value">'+c.formatNumber(b.crystal)+"</td></tr><tr><td>"+e.Interface.lbl_shipRecyclerAlt+':</td><td class="value">'+c.formatNumber(b.recs)+"</td></tr>";a.innerHTML+=b}},iframeReady:function(){try{var a=this.iframe.contentWindow.document.body;
document.getElementById("eventboxLoading").style.display="none";if(!a||!a.firstChild)document.getElementById("eventboxBlank").style.display="block"}catch(b){c.log(b)}},showEventList:function(){try{this.insertCSSRulesPro();var a=document.createElement("div");a.id="newEventBox";a.innerHTML='<iframe id="iframeEventBox" src="index.php?page=eventList&pro=1&session='+c.unsafeWindow.session+'"></iframe>';if(e.evt_showOnTop){var b=document.getElementById("planet");b.parentNode.insertBefore(a,b)}else{var d=
c.XPathSingle('//*[@class="content-box-s"][last()]');c.insertAfter(a,d)}this.iframe=document.getElementById("iframeEventBox");this.iframe.contentWindow.addEventListener("load",function(){v.iframeReady()},!1)}catch(f){c.log(f)}},Run:function(){if(c.isCurrentPage("eventList")&&document.location.href.indexOf("pro=1")>-1&&e.evt_showReduced)this.reduced=!0;if(document.location.href.indexOf("pro=1")>-1)this.pro=!0;if(e.evt_expandFleetsEvt&&c.isCurrentPage("eventList")||e.evt_expandFleetsPhal&&c.isCurrentPage("phalanx"))this.bExpand=
!0;this.insertCSSRules();if(c.isCurrentPage("eventList")){if(this.process(),this.pro)this.processPro(),c.unsafeWindow.old_hideRows=c.unsafeWindow.hideRows,c.unsafeWindow.hideRows=function(a){c.unsafeWindow.old_hideRows(a);v.processPro()}}else e.phalanx_showDebris&&document.body.addEventListener("DOMNodeInserted",v.processCluetip,!1);e.timeSetting==1&&!(e.showServerPhalanx&&c.page=="phalanx")&&this.changeTime();this.show3StateIndicator("halten");this.show3StateIndicator("expedition");this.bExpand&&
this.expandFleets()}},C={addConstructionTime:function(a,b){if(a&&b&&!isNaN(b)){var c=document.getElementById(a).parentNode.parentNode.parentNode,e=document.createElement("tr");e.className="data green";e.appendChild(document.createElement("td"));e.appendChild(document.createElement("td"));e.firstChild.className="text_align_right";e.lastChild.innerHTML=p.formatDate2(p.getFinishTime(b));e.lastChild.className="finishTime";c.appendChild(e)}},ShowConstructions:function(){var a=c.script;if(a){c.insertCSSRule(".finishTime { padding-left: 12px }");
c.insertCSSRule(".green { color: green; }");var b=a.innerHTML.match(/baulisteCountdown\(getElementByIdWithCache\(["']\w+["']\)\,\s*\d*/gi);if(b)for(var d=0;d<b.length;d++){var e=b[d].match(/["'](\w+)["']\)\,\s*(\d*)/i);C.addConstructionTime(e[1],e[2])}if(b=a.innerHTML.match(/shipCountdown\((\s*getElementByIdWithCache\(["']\w+["']\)\,)+(\s*\d*\,){3,3}/i))b[2]=b[2].match(/(\d+)/)[0],C.addConstructionTime("shipAllCountdown",b[2])}}},t={fleetXPath:'//*[@id="inhalt"]/descendant::*[contains(concat(" ",@class," ")," fleetDetails ") and contains(@id,"fleet")]',
tipsClass:"tips4",addReversalTimeBox:function(a){if(c.getElementsByClassName("reversal",a).snapshotLength){var b=c.XPathSingle('//*[@id="'+a.id+'"]/descendant::*[contains(@class,"origin")]/*[@class="'+this.tipsClass+'"]');if(b&&(b=b.getAttribute("title")))if(b=p.parse2(b)){var b=p.convertDateServer2Local(b),d=document.createElement("span");d.className="reversalTime";d.setAttribute("title",b.getTime());a.appendChild(d);this.updateReversalClock()}}},updateReversalClock:function(){try{for(var a=c.getElementsByClassName("reversalTime"),
b=0;b<a.snapshotLength;b++){var d=a.snapshotItem(b),e=new Date,g=d.getAttribute("title");if(g)g=parseInt(g,10),e.setTime((e.getTime()-p.TimeDelta)*2-g),d.innerHTML=p.formatDate2(e)}}catch(h){c.log(h)}},correctTimes:function(){var a=this.fleetXPath+'/descendant::*[contains(@class,"absTime")] | '+this.fleetXPath+'/*[contains(@class, "reversal") and @class!="reversalTime"]';p.changeNodesTime(a);a=this.fleetXPath+'/*[@class="starStreak"]/descendant::*[@class="'+this.tipsClass+'"]';p.changeNodesTime(a,
null,"title")},getDetails:function(a){for(var b={},c="",a=a.getElementsByTagName("td"),e=0;e<a.length;e++)a[e].colSpan=="2"?(b.ships=c,c=""):(a[e].className!="value"&&c!=""&&(c+=" "),c+=a[e].innerHTML);b.cargo=c;return b},getMissionClass:function(a){var b="";switch(c.getElementByClassName("mission",a).innerHTML){case e.Labels.lbl_missAttack:b="ownattack";break;case e.Labels.lbl_missHold:b="ownhold";break;case e.Labels.lbl_missColony:b="owncolony";break;case e.Labels.lbl_missDeploy:b="owndeploy";break;
case e.Labels.lbl_missHarvest:b="ownharvest";break;case e.Labels.lbl_missTransport:b="owntransport";break;case e.Labels.lbl_missFederation:b="ownfederation";break;case e.Labels.lbl_missDestroy:b="owndestroy";break;case e.Labels.lbl_missEspionage:b="ownespionage";break;case e.Labels.lbl_missExpedition:b="ownexpedition";break;default:b="owntransport"}return b},cssFleetColors:function(){c.insertCSSRule(".ownattack { color: "+e.missAttack+" }");c.insertCSSRule(".owncolony { color: "+e.missColony+" }");
c.insertCSSRule(".owndeploy { color: "+e.missDeploy+" }");c.insertCSSRule(".owndestroy { color: "+e.missDestroy+" }");c.insertCSSRule(".ownespionage { color: "+e.missEspionage+" }");c.insertCSSRule(".ownexpedition { color: "+e.missExpedition+" }");c.insertCSSRule(".ownfederation { color: "+e.missFederation+" }");c.insertCSSRule(".ownharvest { color: "+e.missHarvest+" }");c.insertCSSRule(".ownhold { color: "+e.missHold+" }");c.insertCSSRule(".owntransport { color: "+e.missTransport+" } ");c.insertCSSRule(".ownmissile { color: "+
e.missMissile+" } ")},insertCSSRules:function(){e.mvmt_expandFleets&&(c.insertCSSRule(".detailsOpened .starStreak  {background:none}"),c.insertCSSRule(".anti_fleetDetails {left:60px; width:290px; white-space:normal; padding:0px 7px; font-size:0.9em; text-align:left; line-height:1.2em}"),this.cssFleetColors());e.mvmt_showReversal&&c.insertCSSRule(".reversalTime { position: absolute; top: 43px; left: 555px; color: yellow;} ");c.insertCSSRule(".targetName { position:absolute; top:45px; left:7px; color:green;} ")},
myOpenCloseFleet:function(a,b){var d=document.getElementById(a),e=c.getElementByClassName("starStreak",d),g=c.getElementByClassName("anti_fleetDetails",d),h=d.className.match("detailsOpened")?1:0;if(b&&!h)e.removeAttribute("style"),d.removeAttribute("style");else if(h){var j=parseInt(g.offsetHeight,10),g=parseInt(e.offsetHeight,10),h=parseInt(d.offsetHeight,10),j=j-g+2;j>0&&(g+=j,h+=j,e.setAttribute("style","height:"+g+"px"),d.setAttribute("style","height:"+h+"px"))}},myOpenCloseAll:function(){for(var a=
c.XPath(t.fleetXPath),b=0;b<a.snapshotLength;b++)t.myOpenCloseFleet(a.snapshotItem(b).id,1)},expandFleet:function(a){try{var b=a.id.replace(/\D+/g,"");if(b){var d=c.getElementByClassName("mission",a),f=c.getElementByClassName("reversal",a),g=c.getElementByClassName("nextMission",a),h=document.getElementById("bl"+b);if(h){var j=document.createElement("div");j.setAttribute("class","anti_fleetDetails fixed "+this.getMissionClass(a));!f&&g?d.innerHTML+=" ("+d.innerHTML.substr(0,1)+")":f||(d.innerHTML+=
" ("+e.Interface.lbl_mvmt_Return+")");var k=this.getDetails(h);j.innerHTML=k.ships+"<br/><br/>"+k.cargo;var l=c.XPathSingle('descendant::*[contains(@class,"starStreak")]/descendant::*[contains(@class,"route")]',a);l.parentNode.insertBefore(j,l);l.style.display="none";c.XPathSingle('descendant::*[contains(@class,"openDetails")]/A',a).addEventListener("click",function(){setTimeout(function(){t.myOpenCloseFleet(a.id,1)},0)},!1);this.myOpenCloseFleet(a.id,0)}}}catch(n){c.log(n)}},showTargetName:function(a){try{var b=
c.getElementByClassName("destinationCoords",a);if(b&&b.title&&!b.title!="|"){var b=b.title.slice(1),d=document.createElement("span");d.className="targetName";d.innerHTML=b;var e=c.getElementByClassName("mission",a);c.insertAfter(d,e)}}catch(g){c.log(g)}},Run:function(){if(e.mvmt_expandFleets||e.mvmt_showReversal){this.insertCSSRules();this.tipsClass=c.ogameVersion=="1.1"?"tips4":"tipsTitleSmall";for(var a=c.XPath(t.fleetXPath),b=0;b<a.snapshotLength;b++){var d=a.snapshotItem(b);e.mvmt_expandFleets&&
this.expandFleet(d);e.mvmt_showReversal&&this.addReversalTimeBox(d);this.showTargetName(d)}e.timeSetting==1&&this.correctTimes();e.mvmt_expandFleets&&(a=c.XPath('//*[@id="inhalt"]/descendant::*[contains(@class,"closeAll")]/A'),a=a.snapshotItem(0),a.addEventListener("click",function(){setTimeout(t.myOpenCloseAll,0)},!1));e.mvmt_showReversal&&setInterval(t.updateReversalClock,200)}}},q={Capacity_insertCSSRules:function(){c.insertCSSRule(".total_capacity td {padding: 2px 5px; /*color: #A1A1A1;*/ font-size: 11px;}");
c.insertCSSRule(".total_capacity #total_capacity {color: green;}");c.insertCSSRule(".total_capacity td.capacity_href {text-decoration: underline; color: #5577EE;}");c.insertCSSRule(".speed { \t\t\t\tposition: absolute; \t\t\t\ttop: "+(e.showNames?34:8)+'px; \t\t\t\tright: 3px; \t\t\t\tmax-width: 76px; \t\t\t\tcolor: white; \t\t\t\tbackground: transparent url("'+c.bg+'") repeat;\t\t\t\ttext-align: right; \t\t\t\tfont-size: 10px; \t\t\t}')},addSpeed:function(a){var b=a.id.replace(/\D/g,""),b=m.ships[b].speed,
b=c.formatNumber(b);if(a=c.XPathSingle("descendant::DIV/descendant::A",a)){var d=document.createElement("div");d.className="speed";d.innerHTML=b;a.appendChild(d)}},showCapacity:function(){try{for(var a=c.getElementsByClassName("fleetValues"),b=0,d=0,f=0,g=0;g<a.snapshotLength;g++){txt=a.snapshotItem(g);var h=txt.id.replace("ship_","");if(h in m.ships)capacity=m.ships[h].capacity,exp=m.ships[h].exp,!isNaN(txt.value)&&txt.value>0&&(b+=txt.value*capacity,f+=txt.value*exp,d=Math.min(d,m.ships[h].speed)||
m.ships[h].speed)}document.getElementById("total_capacity").innerHTML=c.formatNumber(b);document.getElementById("min_speed").innerHTML=c.formatNumber(d);var j=document.getElementById("expoints");j.innerHTML=c.formatNumber(f);var k=e.uni_maxPlayerScore?12E3:9E3;j.className=f>k?"overmark":f<k?"undermark":"middlemark"}catch(l){c.log(l)}return!0},setShips:function(a,b){var d=document.getElementById(a);if(d&&!d.disabled)d.value=b,c.trigger(a,"change")},checkRecyclers:function(){var a=!1,b=document.getElementById("ship_209").value;
b&&!isNaN(b)&&parseInt(b,10)>0&&(a=!0);setTimeout(function(){c.setValueUni("fleet1_recyclers",a)},0)},Fleet1_Run:function(){try{var a=c.unsafeWindow;if(e.fleet2_setTargetDF)a.old_trySubmit=a.trySubmit,a.trySubmit=function(){q.checkRecyclers();a.old_trySubmit()};e.fleet1_killTips&&c.killCluetips();var b;e.fleet1_showResCalc&&(b=document.getElementById("allornone"))&&Calculator.show(b);if(e.fleet_showCapacity){b=!1;var d=c.getElementByClassName("allornonewrap");if(!d&&(b=!0,d=document.getElementById("warning"),
!d))return;this.Capacity_insertCSSRules();var f=c.getIntById("resources_metal")+c.getIntById("resources_crystal")+c.getIntById("resources_deuterium"),g=Math.ceil(f/5E3),h=Math.ceil(f/25E3),j=document.createElement("div");j.className="fleft total_capacity";o.init();o.key_class="capacity_key";o.href_class="capacity_href";o.addCell(e.Interface.lbl_resources,f);if(b)c.insertCSSRule(".total_capacity {margin: 2px 25px;}"),o.addCell(e.Labels.lbl_shipSCargo,g),o.addCell(e.Labels.lbl_shipLCargo,h),j.innerHTML=
"<table>"+o.createTableString(1)+"</table>",d.appendChild(j);else{c.$("form li").filter(function(){return!isNaN(this.id.replace("button",""))}).each(function(){q.addSpeed(this)});o.addCell(e.Interface.lbl_TotalCapacity,0,"","total_capacity");e.fleet1_showResCalc||(o.addHref(e.Labels.lbl_shipSCargo,g,"SCargo"),o.addHref(e.Labels.lbl_shipLCargo,h,"LCargo"));o.addCell(e.Interface.lbl_ExPoints,0,"","expoints");o.addCell(e.Interface.lbl_MinSpeed,0,"","min_speed");j.innerHTML="<table>"+o.createTableString(1)+
"</table>";var k=c.getElementByClassName("combatunits",d)||c.getElementByClassName("secondcol",d);c.insertAfter(j,k);e.fleet1_showResCalc||(document.getElementById("SCargo").addEventListener("click",function(){q.setShips("ship_202",g);return!0},!1),document.getElementById("LCargo").addEventListener("click",function(){q.setShips("ship_203",h);return!0},!1));a.old_checkShips=a.checkShips;a.checkShips=function(b){q.showCapacity();a.old_checkShips(b)};c.$("input.fleetValues").bind("focus",function(){q.showCapacity()})}}}catch(l){c.log(l)}},
getPartsFromLink:function(a){a=a.split("#");if(a.length<4)return null;var b={};b.galaxy=parseInt(a[0],10);b.system=parseInt(a[1],10);b.planet=parseInt(a[2],10);b.type=parseInt(a[3],10);b.name=a[4]||"";b.weight=b.galaxy*1E6+b.system*1E3+b.planet*10+b.type;return b},insertShortLink:function(a,b){try{var d=this.getPartsFromLink(a);if(d){d.name||(a+="#");var e=document.getElementById("slbox");if(e){for(var g=e.getElementsByTagName("option"),h,j=b?this.getPartsFromLink(b):null,k=1;k<g.length;k++){if(b){var l=
this.getPartsFromLink(g[k].value);l.galaxy==j.galaxy&&l.system==j.system&&l.planet==j.planet&&l.type==j.type&&(h=g[k])}if(a==g[k].value)return}var n=document.createElement("option");n.value=a;n.innerHTML=d.name+" ["+d.galaxy+":"+d.system+":"+d.planet+"]";h?e.insertBefore(n,h):e.appendChild(n)}}}catch(m){c.log(m)}},getSLinkFromPlanet:function(a){try{var b=m.getCoordsFromPlanet(a);return b.galaxy+"#"+b.system+"#"+b.planet+"#"+b.type+"#"+b.name}catch(d){c.log(d)}},isTargetEmpty:function(){for(var a=
c.XPath('//*[@id="inhalt"]/descendant::*[@class="fleetStatus"]/UL/LI'),b=0;b<a.snapshotLength;b++)if(r.read(a.snapshotItem(b).innerHTML,!1))return!1;return!0},SetCoords:function(){var a=Calculator.getStoredCoords()||(e.autocopyCoords&&r.saved()?r.get():"");if(a)a=a.split(":"),document.getElementById("galaxy").value=a[0],document.getElementById("system").value=a[1],document.getElementById("position").value=a[2],c.trigger("galaxy","change"),a=document.getElementById("dbutton"),(!a||a.className.indexOf("selected")==
-1)&&c.trigger("pbutton","click")},expandSpeed:function(){for(var a="",b=1;b<=10;b++)a+='<a href="javascript:void(0);" rel="'+b+'">'+b*10+"%</a> ";c.runScript('\t\t\t$("<li>")\t\t\t\t.attr("id","speed_plain")\t\t\t\t.html(\''+a+'\')\t\t\t\t.find("a")\t\t\t\t\t.bind("click", function(){ $("#speed").attr("value",this.getAttribute("rel")); updateVariables(); })\t\t\t\t.end()\t\t\t\t.appendTo("#fleetBriefingPart1")\t\t\t.parent()\t\t\t\t.css("margin-bottom","-3px");\t\t\t')},expandSLinks:function(){function a(a,
b){return'<a class="'+(b||"slHref")+'" href="javascript:void(0)" rel="'+a.index+'">'+a.name+"</a>"}try{for(var b=c.XPath('//*[@id="slbox"]/option[@value!="-"]'),d=[],e=[],g=0,h,j,k,l,n=0;n<b.snapshotLength;n++)h=b.snapshotItem(n).value,j=this.getPartsFromLink(h),k=j.galaxy*1E5+j.system*100+j.planet,j.type==2?(l=g++,d[l]=[]):typeof e[k]=="undefined"?(l=g++,e[k]=l,d[l]=[]):l=e[k],d[l][j.type==2?1:j.type]={sl:h,name:b.snapshotItem(n).innerHTML,index:n};b=c.XPath('//*[@id="aksbox"]/option[@value!="-"]');
for(n=0;n<b.snapshotLength;n++)h=b.snapshotItem(n).value,j=this.getPartsFromLink(h),typeof d[n]=="undefined"&&(d[n]=[]),d[n][5]={sl:h,name:j.name+" ["+j.galaxy+":"+j.system+":"+j.planet+"] - "+b.snapshotItem(n).innerHTML,index:n,type:j.type};for(var b="",m,n=0;n<d.length;n++){var o=d[n];m='<td class="slPlanet">'+(o[1]?a(o[1]):"")+'</td><td class="slMoon">'+(o[3]?a(o[3]):"")+"</td><td "+(o[5]&&o[5].type==3?'class="slMoon"':"")+">"+(o[5]?a(o[5],"slACS"):"")+"</td>";b+="<tr>"+m+"</tr>"}var p=document.getElementById("pbutton").firstElementChild.innerHTML,
q=document.getElementById("mbutton").firstElementChild.innerHTML,r=document.getElementById("combatunits tips").innerHTML.replace(":",""),b="<tr><th>"+p+"</th><th>"+q+"</th><th>"+r+"</th></tr>"+b,b="<table><tbody>"+b+"</tbody></table>",s=document.createElement("div");s.id="slPanel";s.innerHTML=b;document.getElementById("inhalt").appendChild(s);c.runScript('$(".slHref").bind("click", function(){ $("#slbox option").get(1+parseInt(this.getAttribute("rel"))).selected = true; shortLinkChange(); updateVariables(); } )');
c.runScript('$(".slACS").bind("click", function(){ $("#aksbox option").get(1+parseInt(this.getAttribute("rel"))).selected = true; shortLinkChange(true); updateVariables(); handleUnion() } )')}catch(t){c.log(t)}},fleet2_insertCSSRules:function(){c.insertCSSRule("#speed_plain { list-style-type: none; }");c.insertCSSRule("#speed_plain a { text-decoration: none; font-weight:100; }");c.insertCSSRule(".anti_moon, .slMoon a { background-color: "+e.fleet2_MoonColor+"; }");e.fleet2_expandLists&&(c.insertCSSRule('#slPanel { \t\t\t\t\tpadding: 5px; \t\t\t\t\tmargin: 2px 0 0 5px;\t\t\t\t\tbackground-image: url("img/layout/wrap-body.gif"); \t\t\t\t\twidth: 642px;\t\t\t\t}'),
c.insertCSSRule("#slPanel table { width: 100%; }"),c.insertCSSRule("#slPanel td, #slPanel th { padding: 0 3px; font-size: 11px; min-width: 180px; }"),c.insertCSSRule("#slPanel th { color: #7C8E9A; }"),c.insertCSSRule("#slPanel a, #speed_plain a { color: #AAAAAA; }"),c.insertCSSRule("#slPanel a:hover, #speed_plain a:hover { color: white; }"))},Fleet2_Run:function(){this.fleet2_insertCSSRules();if(e.fleet2_fixLayout){var a=c.XPath('//DIV[@id="buttonz"]/DIV/UL');if(a.snapshotLength)a.snapshotItem(0).style.marginLeft=
"20px",a.snapshotItem(1).style.marginLeft="20px"}if(e.fleet2_checkProbeCapacity){var b=c.unsafeWindow;b.getFreeStorage=function(){var a=b.storageCapacity,c=b.consumption,d=b.probeStorageCapacity;return a==d?a-c:a-c-(d-b.getConsumption(210))}}var d,f=m.getActivePlanet(),a=this.getSLinkFromPlanet(f);(f=c.XPathSingle('parent::*/following-sibling::*/A[contains(@class,"planetlink")]',f))&&(d=this.getSLinkFromPlanet(f));this.insertShortLink(a,d);d=e.fleet2_ShortLinks.split(",");for(a=0;a<d.length;a++)this.insertShortLink(d[a]);
e.fleet2_setTargetDF&&c.getValueUni("fleet1_recyclers")&&c.trigger("dbutton","click");this.isTargetEmpty()&&this.SetCoords();d=c.XPath('//*[@id="slbox"]/option');for(a=0;a<d.snapshotLength;a++)if(f=d.snapshotItem(a),f.value.split("#")[3]==3)f.className="anti_moon",e.fleet2_MoonsToEnd&&f.parentNode.appendChild(f);c.runScript("$('#speed option').bind('mouseover', function(){ this.parentNode.value = this.value; updateVariables(); });");e.fleet2_expandLists&&(this.expandSpeed(),this.expandSLinks())},
setMission:function(){if(!(c.XPath('//*[@id="missions"]/descendant::*[contains(@id,"missionButton") and contains(@class,"selected")]').snapshotLength>0))for(var a=[7,e.mission1,e.mission2,e.mission3,e.mission4,e.mission5,1,3,4,5,6,9],b=0;b<a.length;b++)if(a[b]>0&&document.getElementById("button"+a[b]).className=="on"){c.trigger("missionButton"+a[b],"click");break}},setResources:function(){var a=Calculator.getStoredRes();a&&(a=a.split(":"),Calculator.writeValue("metal",a[0]),Calculator.writeValue("crystal",
a[1]),Calculator.writeValue("deuterium",a[2]),c.runScript("setTimeout(function(){checkRes();updateVariables();},0)"))},checkACStime:function(){var a=new Date,a=(this.dateACS.getTime()-(a.getTime()-p.TimeDelta))/1E3,b=c.unsafeWindow.duration,d="";if(b/a>=1.3)clearInterval(this.intervalACS),d="overmark";else if(b>=a&&this.stateACS==0)this.stateACS=1,d="middlemark";if(d)document.getElementById("timeACS").className=d},showACStime:function(){if(c.script){var a=c.script.innerHTML.match(/durationAKS\s*=\s*(\d+)\s*\;/i);
if(a&&c.XPathSingle('//*[@id="button2" and @class="on"]')&&(a=parseInt(a[1],10)))if(this.dateACS=p.getFinishTime(a),this.stateACS=0,this.intervalACS=setInterval(function(){q.checkACStime()},1E3),a=document.createElement("li"),a.style.color="yellow",a.innerHTML=e.Interface.lbl_ArrivalACS+': <span class="value" id="timeACS">'+p.formatDate2(this.dateACS)+"</span>",c.insertAfter(a,document.getElementById("aks")),a=c.XPathSingle('//*[@id="roundup"]/descendant::UL').offsetHeight,a>125){a-=125;var b=c.XPathSingle('//*[@id="sendfleet"]/DIV');
if(b)b.style.paddingTop=""+(parseInt(b.style.paddingTop)+a)+"px"}}},Fleet3_Run:function(){this.setMission();this.setResources()}},w={highlightAllyPlayer:function(a){s.highlight(s.PLAYER,'descendant::*[contains(@class,"status_abbr")]',a);e.galaxy_killTips?s.highlight(s.ALLY,'descendant::SPAN[contains(@rel,"alliance")]/A',a):s.highlight(s.ALLY,'descendant::SPAN[contains(@rel,"alliance")]',a)},showCurrent:function(a){try{var b=window.location.href;(coords=b.match(/galaxy=(\d{1,2})&system=(\d{1,3})&position=(\d{1,2})/i))||
(coords=b.match(/galaxy=(\d{1,2})&system=(\d{1,3})&planet=(\d{1,2})/i));if(coords){var d=document.getElementById("galaxy_input").value,e=document.getElementById("system_input").value,g=c.getElementByClassName("position",a).innerHTML;if(!(coords[1]!=d||coords[2]!=e||coords[3]!=g))a.style.borderStyle="dashed",a.style.borderColor="yellow",a.style.borderWidth="1px",document.getElementById("galaxytable").style.borderCollapse="collapse"}}catch(h){c.log(h)}},showDebris:function(a){try{var b=c.getElementByClassName("debris",
a),d=c.getElementByClassName(c.ogameVersion=="1.1"?"TTgalaxy":"tipsGalaxy",b);if(d){for(var f=d.getElementsByTagName("img")[0],g=c.getElementsByClassName("debris-content",b),a=[],h=b=0;h<g.snapshotLength;h++){var j=""+g.snapshotItem(h).innerHTML.split(" ")[1];a[h]=j;j=j.replace(/\./g,"");b+=parseInt(j,10)}newNode=document.createElement("div");newNode.className="anti_debris";g="color:#CCCCCC; padding: 1px; text-align:center;";b>e.galaxyDebrisMin&&e.galaxyDebrisMin>0&&(g+="background-color:"+e.galaxyDebrisColor+
";");newNode.setAttribute("style",g);newNode.innerHTML=""+a[0]+"<br/>"+a[1];d.replaceChild(newNode,f)}}catch(k){c.log(k)}},showMoon:function(a){try{var b=c.XPathSingle('TD[@class="moon"]/DIV/DIV/DIV/UL/LI[3]/SPAN',a);if(b){var b=e.Interface.lbl_Moon+": "+c.parseInt(b.innerHTML),d=c.XPathSingle('TD[@class="moon"]/A/IMG',a);d.parentNode.style.color="#CCCCCC";d.alt=b;if(!A.showImgAlt(d)&&e.galaxyHideMoon)d.src=""}}catch(f){c.log(f)}},showRank:function(a){try{var b=c.getElementByClassName("playername",
a),d=c.getElementByClassName("rank",b);if(d&&(d=c.parseInt(d.innerHTML))){var f;e.galaxy_killTips?(f=document.createElement("a"),f.href="index.php?page=statistics&session="+c.unsafeWindow.session+"&start="+d):f=document.createElement("span");f.setAttribute("class","anti_rank");f.innerHTML=" #"+d;var g=e.galaxyRankColor;if(d==0)g=e.constRank0;else if(d<=10)g=e.galaxyRank10;else if(d<=50)g=e.galaxyRank50;else if(d<=100)g=e.galaxyRank100;else if(d<=200)g=e.galaxyRank200;else if(d<=800)g=e.galaxyRank800;
f.style.color=g;b.appendChild(f)}}catch(h){c.log(h)}},showAllyRank:function(a){if(a=c.getElementByClassName("allytag",a)){var b=c.getElementByClassName("rank",a),d=c.getElementByClassName("members",a);if(b){if(e.galaxy_killTips){var f=c.XPathSingle('descendant::DIV[contains(@id,"alliance")]',a),g=f.parentNode,h=c.XPathSingle('descendant::A[@target="_ally" or contains(@href,"alliance")]',a);if(h)h=h.href,g.removeChild(f),g.innerHTML='<a href="'+h+'">'+g.innerHTML+"</a>"}b=c.parseInt(b.innerHTML);d=
c.parseInt(d.innerHTML);f="";b&&!isNaN(b)&&(f+="#"+b);d&&!isNaN(d)&&(f+="/"+d);if(f)e.galaxy_killTips?(d=document.createElement("a"),d.href="index.php?page=statistics&session="+c.unsafeWindow.session+"&who=ally&start="+b):d=document.createElement("span"),d.className="anti_allyrank",d.innerHTML=" "+f,color=e.galaxyRankColor,d.style.color=color,a.appendChild(d)}}},killTips:function(){var a="",b=c.ogameVersion=="1.1"?"TTgalaxy":"tipsGalaxy";e.galaxy_keepTipsPlanets&&(a=".microplanet, .moon ."+b);e.galaxy_keepTipsDebris&&
(a+=(a?",":"")+".debris ."+b);b=function(){a&&c.unsafeWindow.$(a).cluetip("destroy").cluetip({local:!0,cluetipClass:"galaxy",width:250,showTitle:!1,closeDelay:250,mouseOutClose:!0,hoverIntent:!1})};c.ogameVersion=="1.1"?c.unsafeWindow.AjaxCluetip=b:c.unsafeWindow.initCluetip=b},onDOMNodeInserted:function(a){a&&a.target&&a.target.id&&a.target.id=="galaxytable"&&w.redrawGalaxy()},insertCSSRules:function(){e.galaxy_killTips&&c.insertCSSRule(".allytag a {text-decoration:none; color:#CFCBC2;}")},redrawGalaxy:function(){try{document.body.removeEventListener("DOMNodeInserted",
w.onDOMNodeInserted,!1);for(var a=c.XPath('//*[@id="galaxyContent"]/descendant::*[@class="row"]'),b=0;b<a.snapshotLength;b++){var d=a.snapshotItem(b);e.galaxyShowRank&&(this.showRank(d),this.showAllyRank(d));this.showDebris(d);this.showCurrent(d);this.showMoon(d);this.highlightAllyPlayer(d)}document.body.addEventListener("DOMNodeInserted",w.onDOMNodeInserted,!1)}catch(f){c.log(f)}},Run:function(){this.insertCSSRules();e.galaxy_killTips&&this.killTips();document.body.addEventListener("DOMNodeInserted",
w.onDOMNodeInserted,!1);document.getElementById("galaxytable")&&w.redrawGalaxy()}};x={Show:function(){c.runScript('$(".quantity").each(function() {\tvar fvalue = this.innerHTML.replace(/[\\(\\)]/g,"");\tvar value = fvalue.replace(/\\D/g,"");\t$(this)\t\t.html(\'(<a href="javascript:void(0)">\' + fvalue + "</a>)")\t\t.find("a")\t\t.addClass("quantity_link")\t\t.click(function(){ \t\t\t$(this).parent().parent().next().find("input")\t\t\t.attr("value",value);\t\t});\t})')},insertCSSRules:function(){c.insertCSSRule(".quantity_link {color:#5577EE !important;}")},
Run:function(){this.insertCSSRules();this.Show()}};var A={showImgAlt:function(a){if(c.isFirefox&&a.clientWidth==0)return a.style.display="none",setTimeout(function(){a.style.display="inline"},150),!0;return!1},insertCSSRules:function(){c.insertCSSRule('.itemname { \t\t\t\tposition: absolute; \t\t\t\ttop: 8px; \t\t\t\tright: 3px; \t\t\t\tmax-width: 76px; \t\t\t\theight: auto !important; \t\t\t\tbackground: transparent url("'+c.bg+'") repeat !important;\t\t\t\ttext-align: right; \t\t\t\tfont-size: 10px; \t\t\t\toverflow: hidden; \t\t\t}');
c.page=="techtree"?(c.insertCSSRule(".redBorder .itemname { color: "+e.nameColorOff+"; }"),c.insertCSSRule(".greenBorder .itemname { color: "+e.nameColorOn+"; }")):(c.insertCSSRule(".off .itemname { color: "+e.nameColorOff+"; }"),c.insertCSSRule(".on .itemname { color: "+e.nameColorOn+"; }"),c.insertCSSRule(".disabled .itemname { color: "+e.nameColorDisabled+"; }"))},showBuildingResNames:function(){try{var a=c.XPath('//*[@id="costs"]/descendant::*[contains(@class,"metal")][@title]/IMG');if(a)for(var b=
0;b<a.snapshotLength;b++){var d=a.snapshotItem(b);if(!d.getAttribute("alt")){var e=d.parentNode.title,e=e.match(/\s([^\s]+)$/);d.setAttribute("alt",e[1]);this.showImgAlt(d)}}}catch(g){c.log(g)}},showResNames:function(){try{var a=c.XPath('//*[@id="resources"]/*[contains(@id,"_box")]');if(a)for(var b=0;b<a.snapshotLength;b++){var d=c.XPathSingle("descendant::IMG",a.snapshotItem(b));if(d&&!d.getAttribute("alt")){var f=a.snapshotItem(b).id;if(f=f.substr(0,f.indexOf("_")))d.setAttribute("alt",e.Labels["lbl_"+
f]),this.showImgAlt(d)}}}catch(g){c.log(g)}},showBuildingNames:function(){try{this.insertCSSRules();var a;a=c.isCurrentPage("fleet1")?'//*[@class="buildingimg"]/A':c.isCurrentPage("techtree")?'//A/DIV[contains(@class,"Border")]':"//A[@ref]";a+="[@title]";var b=c.XPath(a),d,e,g;a="\\|([^<\\(]+)";c.isCurrentPage("techtree")&&(a="([^<\\(|]+)");a=RegExp(a,"");for(var h=0;h<b.snapshotLength;h++)if(g=b.snapshotItem(h),e=g.title.match(a)){d=document.createElement("div");d.className="itemname";if(c.page==
"resources"){var j=g.getAttribute("ref");if(j=="1"||j=="2"||j=="3"||j=="4"||j=="12"||j=="212")d.style.maxWidth="96px"}d.innerHTML=e[1];g.appendChild(d)}}catch(k){c.log(k)}},showPlanetConstruction:function(){try{var a=c.getElementsByClassName("constructionIcon"),b=document.createElement("span");b.className="constructionName";if(a.snapshotLength>0){var d=0;c.getElementsByClassName("smallplanet").snapshotLength>5&&(d=-10);c.insertCSSRule(".constructionName { \t\t\t\t\t\tfont-size: 10px; \t\t\t\t\t\tcolor: grey; \t\t\t\t\t\t"+
(d?"position:relative; top:"+d+"px;":"")+" \t\t\t\t\t}")}for(var e=0;e<a.snapshotLength;e++){var g=a.snapshotItem(e),h=g.parentNode,j=g.title.replace("|",""),k=b.cloneNode(!1);k.innerHTML=j;h.appendChild(k);h.style.height=h.clientHeight+k.offsetHeight+d+"px"}}catch(l){c.log(l)}},Show:function(){c.isCurrentPage("fleet1,resources,station,station-moon,research,shipyard,defense,techtree")&&this.showBuildingNames();this.showResNames()}},B={readValue:function(a){return parseInt(a.innerHTML.replace(/\D/g,
""),10)},insertTable:function(a,b){var c=document.createElement("table");c.className="fleetdefbuildings spy plunder";b.title_class="area plunder";b.key_class="plkey plunder";b.value_class="plvalue plunder";c.innerHTML=b.createTableString(2);a.appendChild(c)},calculatePlunder:function(a){this.metal=this.crystal=this.deuterium=this.plunder_metal=this.plunder_crystal=this.plunder_deuterium=0;a=c.XPath('descendant::*[contains(@class,"fragment")]/descendant::TD',a);this.metal=this.readValue(a.snapshotItem(1));
this.crystal=this.readValue(a.snapshotItem(3));this.deuterium=this.readValue(a.snapshotItem(5));this.plunder_metal=this.metal/2;this.plunder_crystal=this.crystal/2;this.plunder_deuterium=this.deuterium/2},calculateDebris:function(a){try{this.debris_metal=this.debris_crystal=0;for(var b=c.XPath('descendant::*[@class="fleetdefbuildings spy"][position()=1 or position()=2]/descendant::*[@class="key"]',a),a=[],d=0;d<b.snapshotLength;d++){var e=b.snapshotItem(d);a.push({name:e.innerHTML,count:this.readValue(e.nextSibling)})}var g=
m.getFleetDebris(a,!0);this.debris_metal=g.metal;this.debris_crystal=g.crystal}catch(h){c.log(h)}},showPlunder:function(a){var b=this.metal+this.crystal+this.deuterium,c=Math.max(this.plunder_metal+this.plunder_crystal+this.plunder_deuterium,Math.min((2*this.plunder_metal+this.plunder_crystal+this.plunder_deuterium)*3/4,2*this.plunder_metal+this.plunder_deuterium)),f=Math.ceil(c/5E3),c=Math.ceil(c/25E3);o.init(e.Interface.lbl_resources);o.addCell(e.Interface.lbl_total,b);o.addCell(e.Interface.lbl_loot,
Math.floor(b/2));o.addCell(e.Interface.lbl_shipLCargoAlt,c);o.addCell(e.Interface.lbl_shipSCargoAlt,f);this.insertTable(a,o)},showDebris:function(a){var b=this.debris_metal+this.debris_crystal;b&&(o.init(e.Interface.lbl_debris),o.addCell(e.Interface.lbl_metal,this.debris_metal),o.addCell(e.Interface.lbl_crystal,this.debris_crystal),o.addCell(e.Interface.lbl_total,b),o.addCell(e.Interface.lbl_shipRecyclerAlt,Math.ceil(b/2E4)),this.insertTable(a,o))},addSimButton:function(a){try{var b=document.createElement("td");
b.className="dummy";var d=c.getElementByClassName("attack",a);d.parentNode.insertBefore(b,d);c.insertAfter(b.cloneNode(!1),d);var f=d.cloneNode(!1);f.innerHTML='<a class="buttonSave" href="javascript:void(0)"><span>'+(e.msg_addSimButton==1?"WebSim":"DragoSim")+"</span></a>";c.insertAfter(f,d);f.addEventListener("click",function(a){B.submitToSim(a)},!1)}catch(g){c.log(g)}},createWebSimForm:function(){function a(a,b){m.getTech(a)>-1&&(B.sim_form.action+="&"+b+"="+m.getTech(a))}var b=c.server_lang.toLowerCase();
c.server_lang=="HR"?b="ba":c.server=="US"&&(b="us");this.sim_form=document.createElement("form");this.sim_form.id="sim_form";this.sim_form.method="POST";this.sim_form.action="http://websim.speedsim.net/index.php?version=1&lang="+b;a(m.TECH_WEAPONS,"tech_a0_0");a(m.TECH_SHIELD,"tech_a0_1");a(m.TECH_ARMOUR,"tech_a0_2");a(m.TECH_COMB_DRIVE,"engine0_0");a(m.TECH_IMPULSE_DRIVE,"engine0_1");a(m.TECH_HYPER_DRIVE,"engine0_2");(b=m.getActiveCoords())&&(this.sim_form.action+="&start_pos="+b.galaxy+":"+b.system+
":"+b.planet);this.sim_form.action+="&perc-df="+e.uni_DFPercent;this.sim_form.target="_websim";this.sim_form.innerHTML='<input type="hidden" id="sim_input" name="report" />';document.body.appendChild(this.sim_form)},createDragoSimForm:function(){function a(a,b){return'<input type="hidden" name="'+a+'" value="'+b+'"/>'}function b(b,c){if(m.getTech(b)>-1)return a(c,m.getTech(b))}var d="english";c.server_lang=="BA"?d="bosnian":c.server_lang=="BR"?d="brazilian":c.server_lang=="BG"?d="bulgarian":c.server_lang==
""?d="catalan":c.server_lang=="CZ"?d="czech":c.server_lang=="DK"?d="danish":c.server_lang=="NL"?d="dutch":c.server_lang=="EN"?d="english":c.server_lang=="FR"?d="french":c.server_lang=="DE"?d="german":c.server_lang=="GR"?d="greek":c.server_lang=="HU"?d="hungarian":c.server_lang=="IT"?d="italian":c.server_lang=="KR"?d="korean":c.server_lang=="PL"?d="polish":c.server_lang=="PT"?d="portuguese":c.server_lang=="RO"?d="romanian":c.server_lang=="RU"?d="russian":c.server_lang=="SK"?d="slovak":c.server_lang==
"ES"?d="spanish":c.server_lang=="SE"?d="swedish":c.server_lang=="TW"?d="taiwanese":c.server_lang=="TR"&&(d="turkish");this.sim_form=document.createElement("form");this.sim_form.id="sim_form";this.sim_form.method="POST";this.sim_form.action="http://drago-sim.com/";this.sim_form.target="_dragosim";d=a("lang",d);d+=b(m.TECH_WEAPONS,"techs[0][0][w_t]");d+=b(m.TECH_SHIELD,"techs[0][0][s_t]");d+=b(m.TECH_ARMOUR,"techs[0][0][r_p]");d+=a("debris_ratio",e.uni_DFPercent/100);d+='<input type="hidden" id="sim_input" name="scan" />';
this.sim_form.innerHTML=d;document.body.appendChild(this.sim_form)},submitToSim:function(a){this.sim_form||(e.msg_addSimButton==1?this.createWebSimForm():e.msg_addSimButton==2&&this.createDragoSimForm());if(this.sim_form)a=a.target.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.innerHTML.replace(/<[^>]+>|\n/g,""),document.getElementById("sim_input").value=e.msg_addSimButton==1?encodeURI(a):a,this.sim_form.submit()},insertCSSRules:function(){c.insertCSSRule(".plkey { width: 30% }");
c.insertCSSRule(".plvalue { width: 20% }");c.insertCSSRule(".plunder { border: 1px solid grey !important; }");c.insertCSSRule("table.plunder { border-collapse: collapse; }");c.insertCSSRule(".plkey, .plvalue { padding: 5px !important; }");c.insertCSSRule(".dummy { width: 33% !important; }")},Show:function(){var a;a=c.isCurrentPage("showmessage")?document.getElementById("messagebox"):document.getElementById("messageContent");a=c.getElementsByClassName("material spy",a);for(var b=0;b<a.snapshotLength;b++){var d=
a.snapshotItem(b).parentNode;this.calculatePlunder(d);this.calculateDebris(d);if(e.msg_PlunderThreshold&&c.isCurrentPage("messages")){var f=this.debris_metal+this.debris_crystal;this.plunder_metal+this.plunder_crystal+this.plunder_deuterium<e.msg_PlunderThreshold*1E3&&f<e.msg_DebrisThreshold*1E3&&(document.getElementById(d.parentNode.parentNode.id.replace("spioDetails_","")+"TR").className+=" smallplunder")}e.msg_showPlunder&&(this.showPlunder(d),this.showDebris(d));e.msg_addSimButton&&this.addSimButton(d)}}},
y={addButtons:function(){function a(a,d,e){if(!e&&d>0){var f=c.XPathSingle('//SELECT/OPTION[@id="'+d+'"]');if(f)e=f.innerHTML}f=document.createElement("input");f.type="button";f.value=a;if(d==12)f.style.color="#00CC22";else if(d==-12)f.style.color="#229922";else if(d==7)f.style.color="#660011";else if(d==-7)f.style.color="#993300";else if(d==9)f.style.color="#990000";if(e)f.title=e;f.setAttribute("mod",d);b.appendChild(f)}if(c.unsafeWindow.aktCat!=3){var b=document.createElement("span");b.className=
"msgButtons";a("V",12);a("VV",-12,e.Interface.lbl_btnMarkReadAll);a("X",7);a("Xx",-7,e.Interface.lbl_btnDeleteSmallPlunder);a("XX",9);var d=c.XPathSingle('//FORM[@name="delMsg"]');d.parentNode.insertBefore(b,d);var f=c.$;c.insertAfter(f(".msgButtons").clone(!0).get(0),d);f(".msgButtons input").click(y.onButtonClick);f(".selectContainer").clone(!0).prependTo("#messageContent").css({width:"160px",position:"absolute",right:"20px",fontSize:"11px"}).find("div").eq(0).css("float","left")}},onButtonClick:function(){try{var a=
this.getAttribute("mod");if(a>0)c.unsafeWindow.mod=a,c.trigger(c.getElementByClassName("buttonOK deleteIt"),"click");else if(a==-12||a==-7){for(var b=[],d=c.getElementsByClassName(a==-12?"trigger new":"trigger smallplunder"),e=0;e<d.snapshotLength;e++)b.push(d.snapshotItem(e).id.toString().replace(/\D/g,""));c.unsafeWindow.executeAction(b,-a)}}catch(g){c.log(g)}},changeTimes:function(){c.isCurrentPage("messages")?(p.changeNodesTime('//*[@id="mailz"]/TBODY/TR[contains(@class,"entry")]/*[@class="date"]',
"[d].[m].[Y] [H]:[i]:[s]"),p.changeNodesTime('//*[@id="mailz"]/TBODY/TR[contains(@id,"spioDetails")]/descendant::*[@class="material spy"]/TBODY/TR/TH',"[m]-[d] [H]:[i]:[s]")):c.isCurrentPage("showmessage")&&(p.changeNodesTime('//*[contains(@class,"infohead")]/TABLE/TBODY/TR[last()]/TD | //*[@id="battlereport"]/P',"[d].[m].[Y] [H]:[i]:[s]"),p.changeNodesTime('//*[@class="material spy"]/TBODY/TR/TH',"[m]-[d] [H]:[i]:[s]"))},onDOMNodeInserted:function(a){a&&a.target&&!(a.target.tagName!="FORM"||a.target.name!=
"delMsg")&&y.Show()},Show:function(){try{var a=!1;if(c.isCurrentPage("messages")&&e.msg_PlunderThreshold&&(e.msg_foldSmallPlunder||e.msg_addButtons))a=!0;(e.msg_showPlunder||a||e.msg_addSimButton)&&B.Show();e.timeSetting==1&&y.changeTimes();c.isCurrentPage("messages")&&e.msg_PlunderThreshold&&e.msg_foldSmallPlunder&&setTimeout(function(){c.$(".smallplunder .subject a").trigger("click")},0);e.msg_addButtons&&c.isCurrentPage("messages")&&y.addButtons();if(c.isCurrentPage("showmessage")){var b=c.XPathSingle('//DIV[@class="note"]/SPAN[contains(@class,"tips") and @title]');
if(b){var d=b.title.toString();(d=d.replace(/<br>$/gi,"").replace(/<br>/gi,", ").replace(/\|/gi,""))&&(b.innerHTML+=" ("+d+")")}}}catch(f){c.log(f)}},insertCSSRules:function(){c.isCurrentPage("messages")&&(c.insertCSSRule(".msgButtons input { -moz-background-clip:border;-moz-background-inline-policy:continuous;-moz-background-origin:padding;background:transparent url(./img/layout/formular_buttons.gif) no-repeat scroll -88px -54px;border:0 none;color:#0D1014;cursor:pointer;font-size:11px;font-weight:700;text-align:center;height: 27px; width: 42px; }"),
c.insertCSSRule(".msgButtons input:hover { background:transparent url(./img/layout/formular_buttons.gif) no-repeat scroll -88px -80px;}"));B.insertCSSRules()},Run:function(){this.insertCSSRules();if(c.isCurrentPage("messages")){if(document.getElementById("section2").addEventListener("DOMNodeInserted",this.onDOMNodeInserted,!1),c.XPathSingle('//FORM[@name="delMsg"]')&&this.Show(),e.msg_killTips)c.unsafeWindow.initCluetip=function(){}}else this.Show()}},G={scrollTitle:function(){document.body.setAttribute("original_title",
document.title);var a={};a.title=document.title;a.index=0;var b=document.getElementById("tempcounter"),c=document.getElementById("eventContent"),e=document.getElementById("eventboxBlank");a.run=function(){if(e.offsetHeight)document.title=this.title;else{if(c&&b&&b.offsetHeight){var g=this.title+": "+b.innerHTML+" "+c.innerHTML+" ",g=g.substr(this.index)+g.substr(0,this.index);this.index=(this.index+1)%g.length;document.title=g}else document.title=this.title;setTimeout(function(){a.run()},200)}};setTimeout(function(){a.run()},
200)}},D={onDOMNodeInserted:function(a){a&&a.target&&a.target.id=="allyMemberlist"&&D.Show()},Show:function(){var a=document.getElementById("link12");!a||a.rel!="allyMemberlist"?c.log('Error => Network.Show() => The element "link12" is missing or it have a different rel.'):a.className=="closed"&&c.trigger(a,"click")},Run:function(){document.getElementById("allyMemberlist")&&this.Show();var a=document.getElementById("eins");a?a.addEventListener("DOMNodeInserted",this.onDOMNodeInserted,!1):c.log('Error => Network.Run() => The element "eins" is missing.')}},
z={res_array:["metal","crystal","deuterium","energy"],res_array_firstcap:["Metal","Crystal","Deuterium","Energy"],currentRes:{},costRes:{},res_container:null,addResButtons:function(){c.$("<input>").attr("class","buttonOK").attr({type:"button",value:"0%",ref:"0"}).click(function(){c.$("select").val(this.getAttribute("ref"))}).appendTo(".factorbutton").clone(!0).attr({value:"100%",ref:"100"}).appendTo(".factorbutton")},addCell:function(a,b){this.html&&(this.html+=" ");this.html+=a+':<span class="time" style="padding-right: 0px">'+
c.formatNumber(b)+"</span>"},showMissing:function(){try{if(!c.getElementByClassName("abort")&&(container=c.XPathSingle('//*[@id="detail"]/DIV[@class="pic"]'))){o.init(e.Interface.lbl_deficientRes);for(var a=0,b=!1,d=0;d<this.res_array.length;d++){var f=this.res_array[d];if(f!="energy")this.currentRes[f]=c.getIntById("resources_"+f);else{var g=document.getElementById("energy_box").title;(g=g.match(/\([\-\d\.]+\/([\-\d\.]+)\)/))&&(this.currentRes[f]=c.parseInt(g[1]))}this.costRes[f]=c.getIntByXPath('//*[@id="content"]/descendant::*[@id="resources"]/LI[contains(@title,"'+
e.Labels["lbl_"+f]+'")]',"title");if(this.costRes[f]!=null){var h=this.costRes[f]-this.currentRes[f];h>0&&(o.addCell(e.Labels["lbl_"+f],h,f),b=!0,f!="energy"&&(a+=h))}}if(b){var j="<table>"+o.createTableString()+"</table>";o.init("");o.addCell(e.Labels.lbl_shipSCargo,Math.ceil(a/5E3));o.addCell(e.Labels.lbl_shipLCargo,Math.ceil(a/25E3));j+="<table>"+o.createTableString()+"</table>";var k=document.createElement("div");k.id="deficient";k.innerHTML=j;container.appendChild(k)}}}catch(l){c.log(l)}},showProduction:function(){try{var a=
document.getElementsByName("type")[0];if(a){var a=parseInt(a.value,10),b=c.XPathSingle('//*[@ref="'+a+'"]/descendant::*[@class="level"]');if(b){var b=c.parseInt(b.lastChild.nodeValue),d,f,g,h=c.$,j=c.getIntById("resources_energy"),k=h("#action ul li").filter(function(){return h(this).html().indexOf(e.Labels.lbl_RequiredEnergy)>-1}).find(".time"),l=j-c.parseInt(k.html()),n=Math.ceil(-l/m.getProduction(212,0));d=n>0?"<span>("+n+" "+e.Interface.lbl_shipSatelliteAlt+")</span>":"";k.after(c.addSpanMark(l)+
d);d="";a==12&&(f=-m.getConsumption(a,b),g=-m.getConsumption(a,b+1),d="<li>"+e.Labels.lbl_deuterium+': <span class="time">'+c.formatNumber(g)+"</span> "+c.addSpanMark(g-f)+"</li>",h("#action ul").append(d));f=m.getProduction(a,b);g=m.getProduction(a,b+1);if(a!=212&&(g||isNaN(g)))d="<li>"+e.Interface.lbl_Production+': <span class="time">'+c.formatNumber(g)+"</span> "+c.addSpanMark(g-f)+"</li>",h("#action ul").append(d);f=m.getStorageCapacity(a,b);if(g=m.getStorageCapacity(a,b+1)){var o=h("#description div.display div").get(0);
o?(d="<li>"+o.firstChild.nodeValue+' <span class="time">'+c.formatNumber(g)+"</span> "+c.addSpanMark(g-f)+"</li>",h("#action ul").append(d),h(".techtree").css("display","none")):c.log("Error => Missing element in Resources.showProduction()")}d&&h("#action ul").css("padding-top","0")}}}catch(p){c.log(p)}},Missing_insertCSSRules:function(){c.insertCSSRule('#deficient table tr td, #deficient table tr th {\t\t\t\tpadding: 1px;\t\t\t\tfont-size: 11px;\t\t\t\tcolor: white;\t\t\t\t/*font-family: "Arial";*/ \t\t\t\t}');
c.insertCSSRule('#deficient {\t\t\t\tbackground: transparent url("'+c.bg+'") repeat;\t\t\t\tposition: absolute;\t\t\t\tbottom: 0;\t\t\t\tright: 0;\t\t\t\t}\t\t\t\t')},Resources_insertCSSRules:function(){c.insertCSSRule(".antires {\t\t\t\tmargin: 2px !important;\t\t\t\tpadding: 4px !important;\t\t\t\tdisplay: block;\t\t\t\twidth: 151px !important;\t\t\t\theight: auto !important;\t\t\t\tfloat: left !important;\t\t\t\tbackground: #0D1014 !important;\t\t\t\tborder: 1px solid #606060 !important;\t\t\t\ttext-align: center !important;\t\t\t\tfont-size: 10px !important;\t\t\t\tlist-style: none outside !important; \t\t\t\t}");
c.insertCSSRule(".finishtime {\t\t\t\tcolor: green;\t\t\t\t}");c.insertCSSRule("#links {\t\t\t\toverflow: visible;\t\t\t\t}");e.showResources==2&&(c.insertCSSRule("#links {\t\t\t\t\tposition: relative;\t\t\t\t\t}"),c.insertCSSRule("#antires_cont {\t\t\t\t\tposition: absolute;\t\t\t\t\ttop: 0; \t\t\t\t\tleft: -171px; \t\t\t\t\twidth: 164px;\t\t\t\t\t}"))},Resources_createContainer:function(){if(e.showResources==1){var a=document.getElementById("box");if(a)a.style.paddingBottom="0";this.res_container=
document.getElementById("menuTable")}else if(e.showResources==2&&(a=document.getElementById("links")))this.res_container=document.createElement("ul"),this.res_container.id="antires_cont",a.appendChild(this.res_container)},Resources_append:function(a){this.res_container||this.Resources_createContainer();this.res_container&&this.res_container.appendChild(a)},Resources_Run:function(){if(document.getElementById("metal_box")){this.Resources_insertCSSRules();for(var a=0;a<this.res_array.length;a++){var b=
this.res_array[a],d="resourceTicker"+this.res_array_firstcap[a],e="antires_"+b,g=document.createElement("li");g.className="antires";var h=document.getElementById(b+"_box").title,h=h.replace("|",""),h=h.replace(RegExp("([\\d\\"+c.separator+"]+)\\/","gi"),'<span id="'+e+'">$1</span> / ');g.innerHTML=h;this.Resources_append(g);b!="energy"&&(b=c.unsafeWindow[d],b=b.production?Math.floor((b.limit[1]-b.available)/b.production):-1,b>0&&(g.innerHTML+='<br/><span class="finishtime">'+p.formatDate2(p.getFinishTime(b))+
"</span>"),g="\t\t\t\t\t\tvar newticker = {};\t\t\t\t\t\tnewticker.available = oldticker.available;\t\t\t\t\t\tnewticker.limit = oldticker.limit;\t\t\t\t\t\tnewticker.production = oldticker.production;\t\t\t\t\t\tnewticker.valueElem = ticker_id;\t\t\t\t\t\tif (!vacation) new resourceTicker(newticker);\t\t\t\t\t",g=g.replace(/oldticker/g,d),g=g.replace(/newticker/g,d+"2"),g=g.replace(/ticker_id/g,'"'+e+'"'),setTimeout(g,0))}}}},E={showRange:function(){var a=c.getElementByClassName("solarSatEnergyInfo");
if(a){var b=c.parseInt(a.innerHTML),d=m.getActiveCoords();if(d&&b){var e=d.system-b,b=d.system+b;c.page!="defense"&&(e++,b--);e=Math.max(e,1);b=Math.min(b,499);b=' <span class="antigame_range">('+d.galaxy+":"+e+" - "+d.galaxy+":"+b+")</span>";a.innerHTML+=b}}},Show:function(a){a&&a.target&&a.target.id=="content"&&(e.showDeficient&&z.showMissing(),c.isCurrentPage("resources")&&z.showProduction(),(a=document.getElementsByName("type")[0])&&(a=parseInt(a.value,10)),(a==42||a==503)&&this.showRange(a),
A.showBuildingResNames())},Run:function(){e.showDeficient&&z.Missing_insertCSSRules();var a=document.getElementById("planet");a?a.addEventListener("DOMNodeInserted",function(a){setTimeout(function(){E.Show(a)},0)},!1):c.log('Error => Buildings.Run() => The element "planet" is missing.')}},F={highlightAllyPlayer:function(a){s.highlight(s.PLAYER,'descendant::*[@class="name"]/A',a);s.highlight(s.ALLY,'descendant::*[@class="ally-tag"]/A',a,function(a){var c;a&&(c=a.match(/\[(.+)\]/i))&&(c=c[1]);return c})},
showStatsDifs:function(a){if(stats=c.XPathSingle('descendant::*[@class="overmark" or @class="undermark"][@title]',a))stats.innerHTML=stats.getAttribute("title")},onDOMNodeInserted:function(a){a&&a.relatedNode&&a.target&&!(a.relatedNode.id!="statisticsContent"||a.target.className!="content")&&F.Show()},Show:function(){try{var a=document.getElementById("paging").cloneNode(!0);c.insertAfter(a,document.getElementById("row"))}catch(b){c.log(b)}for(var a=document.getElementById("ranks").getElementsByTagName("tr"),
d=0;d<a.length;d++)this.highlightAllyPlayer(a[d])},Run:function(){var a=document.getElementById("send");a&&a.parentNode.className=="content"&&this.Show();(a=document.getElementById("statisticsContent"))?a.addEventListener("DOMNodeInserted",this.onDOMNodeInserted,!1):c.log('Error => Stats.Run() => The element "statisticsContent" is missing.')}};try{c.Init(),e.loadOptions(),c.ogame?c.checkRedesign()&&(e.Init(),p.Init(),m.Init(),e.autocopyCoords&&r.Init(),c.isFirefox&&e.update_check&&c.isCurrentPage("overview")&&
e.checkUpdate(),e.blockAutoComplete&&!c.isCurrentPage("movement")&&c.blockAutocomplete(),c.isCurrentPage("research")&&m.readTechs(),c.isCurrentPage("statistics,galaxy")&&s.Init(),e.showNames&&A.Show(),e.showConstructionTitle&&A.showPlanetConstruction(),e.timeSetting==1&&p.changeNodesTime('//*[@id="advice-bar"]/A',"[d].[m].[Y] [H]:[i]:[s]","title"),c.isCurrentPage("fleet2,fleet3")||Calculator.reset(),e.showPageStartTime&&p.showPageStartTime(),e.shortHeader&&c.getElementByClassName("toggleHeader")&&
document.getElementById("planet").className!="shortHeader"&&c.$("a.toggleHeader").trigger("click"),c.isCurrentPage("fleet1")?q.Fleet1_Run():c.isCurrentPage("fleet2")?q.Fleet2_Run():c.isCurrentPage("fleet3")?q.Fleet3_Run():c.isCurrentPage("galaxy")?w.Run():c.isCurrentPage("movement")?t.Run():c.isCurrentPage("eventlist,phalanx")?v.Run():c.isCurrentPage("showmessage,messages")?(e.msg_fixColors&&c.isCurrentPage("messages")&&(c.insertCSSRule(".combatreport_ididattack_iwon { color: #00B000; }"),c.insertCSSRule(".combatreport_ididattack_ilost { color: #D02222; }"),
c.insertCSSRule(".combatreport_ididattack_draw { color: #C0C000; }")),y.Run()):c.isCurrentPage("alliance")?D.Run():c.isCurrentPage("statistics")?F.Run():c.isCurrentPage("overview,resources,shipyard,station,station-moon,defense")?e.showFinishTime&&C.ShowConstructions():c.isCurrentPage("resourceSettings")&&z.addResButtons(),c.isCurrentPage("overview")&&e.showEventList&&v.showEventList(),c.isCurrentPage("resources,station,station-moon,research,shipyard,defense")&&E.Run(),c.isCurrentPage("jumpgatelayer")&&
x.Run(),e.showResources&&z.Resources_Run(),e.misc_scrollTitle&&!c.isCurrentPage("showmessage,eventlist, phalanx")&&G.scrollTitle()):e.autocopyCoords&&e.autocopyGlobal&&r.Init()}catch(H){c.log(H)}}};
