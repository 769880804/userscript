// ==UserScript==
// @name		Trav: extended calculator (v1.3)
// @description Extends PLUS NPC and adds list of villages and theirs needs on city view.
// @include 	http://*.travian.*/*
// @version 	1.3
// @date		22-06-2009
// ==/UserScript==
// (c) Anton Fedorov aka DataCompBoy, 2006-2009
// Clan S4 <KazakiYuV2>.

(function(){
  var server = window.location.host.match(/travian[.](.*?)$/);
  var mapper=[], map2, map4;
  map2 = function(x){ if (mapper.length)for(var a=0;a<mapper[0].length;a++) if(mapper[0][a]==x) return mapper[1][a]; return x; };
  map4 = function(x){ if (mapper.length)for(var a=0;a<mapper[1].length;a++) if(mapper[1][a]==x) return mapper[0][a]; return x; };
  if (server[1] == "ru") {
  } else
  if (server[1] == "com.ua") {
	mapper[0] = [
		'Рівень',
		'Академія',
		'Арена',
		'Велика казарма',
		'Велика стайня',
		'Мур',
		'Земляне укріплення',
		'Палісад',
		'Казарма',
		'Капканник',
		'Стайня',
		'Кузня обладунків',
		'Кузня зброї',
		'Майстерня',
		'Пункт збору',
		'Таверна',
		'Головна будівля',
		'Палац',
		'Каменетес',
		'Пивоварня',
		'Посольство',
		'Ратуша',
		'Резиденція',
		'Ринок',
		'Скарбниця',
		'Схованка',
		'Торгова палата',
		'Диво світу',
		'Зернова комора',
		'Глиняний кар\'єр',
		'Деревообробний завод',
		'Залізна копальня',
		'Цегельний завод',
		'Лісоповал',
		'Млин',
		'Пекарня',
		'Склад',
		'Ферма',
		'Чавуноливарний завод',
		'Велика зернова комора',
		'Великий склад',
		'Каменетес',
		'Фаланга',
		'Мечник',
		'Следопыт',
		'Тевтатский гром',
		'Друид-всадник',
		'Эдуйская конница',
		'Таран галлов',
		'Требучет',
		'Предводитель',
		'Поселенец галлов',
		'Дубинщик',
		'Копьеносец',
		'Топорщик',
		'Скаут',
		'Паладин',
		'Тевтонская конница',
		'Таран германцев',
		'Катапульта',
		'Вождь',
		'Поселенец германцев',
		'Легионер',
		'Преторианец',
		'Империанец',
		'Конный разведчик',
		'Конница императора',
		'Конница Цезаря',
		'Таран римлян',
		'Огненная катапульта',
		'Сенатор',
		'Поселенец'
	];
	mapper[1] = [
		'Уровень',
		'Академия',
		'Арена',
		'Большая казарма',
		'Большая конюшня',
		"Городская стена",
		'Земляной вал',
		'Изгородь',
		'Казарма',
		'Капканщик',
		'Конюшня',
		'Кузница доспехов',
		'Кузница оружия',
		'Мастерская',
		'Пункт сбора',
		'Таверна',
		'Главное здание',
		'Дворец',
		'Каменотес',
		'Пивоварня',
		'Посольство',
		'Ратуша',
		'Резиденция',
		'Рынок',
		'Сокровищница',
		'Тайник',
		'Торговая палата',
		'Чудо Света',
		'Амбар',
		'Глиняный карьер',
		'Деревообрабатывающий завод',
		'Железный рудник',
		'Кирпичный завод',
		'Лесопилка',
		'Мукомольная мельница',
		'Пекарня',
		'Склад',
		'Ферма',
		'Чугунолитейный завод',
		'Большой амбар',
		'Большой склад',
		'Камнотес',
		'Фаланга',
		'Мечник',
		'Следопыт',
		'Тевтатский гром',
		'Друид-всадник',
		'Эдуйская конница',
		'Таран галлов',
		'Требучет',
		'Предводитель',
		'Поселенец галлов',
		'Дубинщик',
		'Копьеносец',
		'Топорщик',
		'Скаут',
		'Паладин',
		'Тевтонская конница',
		'Таран германцев',
		'Катапульта',
		'Вождь',
		'Поселенец германцев',
		'Легионер',
		'Преторианец',
		'Империанец',
		'Конный разведчик',
		'Конница императора',
		'Конница Цезаря',
		'Таран римлян',
		'Огненная катапульта',
		'Сенатор',
		'Поселенец'
	];
  } else
	return;

  getElementsByClass = function (searchClass,node,tag) {
	  var classElements = new Array();
	  if ( node == null )
		  node = document;
	  if ( tag == null )
		  tag = '*';
	  var els = node.getElementsByTagName(tag);
	  var elsLen = els.length;
	  var pattern = new RegExp("(^|\\s)"+searchClass+"(\\s|$)");
	  for (i = 0, j = 0; i < elsLen; i++) {
		  if ( pattern.test(els[i].className) ) {
			  classElements[j] = els[i];
			  j++;
		  }
	  }
	  return classElements;
  }
  var crEl = function(t) {
	  var el = document.createElement(t);
	  el = el.wrappedJSObject? el.wrappedJSObject : el;
	  return el;
  }
  var newOption = function(text, value) {
	  var op = crEl("option");
	  op.value = value;
	  op.innerHTML = text;
	  return op;
  }


	var db = {
		'Академия': [
[220,	160,	90, 	40, 	4,	5],
[280,	205,	115,	50, 	2,	6],
[360,	260,	145,	65, 	2,	7],
[460,	335,	190,	85, 	2,	8],
[590,	430,	240,	105,	2,	10],
[755,	550,	310,	135,	3,	12],
[970,	705,	395,	175,	3,	14],
[1240,	900,	505,	225,	3,	17],
[1585,	1155,	650,	290,	3,	21],
[2030,	1475,	830,	370,	3,	25],
[2595,	1890,	1065,	470,	3,	30],
[3325,	2420,	1360,	605,	3,	36],
[4255,	3095,	1740,	775,	3,	43],
[5445,	3960,	2230,	990,	3,	51],
[6970,	5070,	2850,	1270,	3,	62],
[8925,	6490,	3650,	1625,	4,	74],
[11425, 8310,	4675,	2075,	4,	89],
[14620, 10635,	5980,	2660,	4,	106],
[18715, 13610,	7655,	3405,	4,	128],
[23955, 17420,	9800,	4355,	4,	153]
],		'Арена': [
[1750,	2250,	1530,	240,	1,	1 ],
[2240,	2880,	1960,	305,	1,	1 ],
[2865,	3685,	2505,	395,	1,	2 ],
[3670,	4720,	3210,	505,	1,	2 ],
[4700,	6040,	4105,	645,	1,	2 ],
[6015,	7730,	5255,	825,	1,	3 ],
[7695,	9895,	6730,	1055,	1,	4 ],
[9850,	12665,	8615,	1350,	1,	4 ],
[12610, 16215,	11025,	1730,	1,	5 ],
[16140, 20755,	14110,	2215,	1,	6 ],
[20660, 26565,	18065,	2835,	2,	7 ],
[26445, 34000,	23120,	3625,	2,	9 ],
[33850, 43520,	29595,	4640,	2,	11],
[43330, 55705,	37880,	5940,	2,	13],
[55460, 71305,	48490,	7605,	2,	15],
[70990, 91270,	62065,	9735,	2,	18],
[90865, 116825, 79440,	12460,	2,	22],
[116305,149540, 101685, 15950,	2,	27],
[148875,191410, 130160, 20415,	2,	32],
[190560,245005, 166600, 26135,	2,	38]
],		'Большая казарма': [
[630	,420	,780	,360	,4	 ,1   ],
[805	,540	,1000	,460	,2	 ,1   ],
[1030	,690	,1280	,590	,2	 ,2   ],
[1320	,880	,1635	,755	,2	 ,2   ],
[1690	,1125	,2095	,965	,2	 ,2   ],
[2165	,1445	,2680	,1235	,3	 ,3   ],
[2770	,1845	,3430	,1585	,3	 ,4   ],
[3545	,2365	,4390	,2025	,3	 ,4   ],
[4540	,3025	,5620	,2595	,3	 ,5   ],
[5810	,3875	,7195	,3320	,3	 ,6   ],
[7440	,4960	,9210	,4250	,3	 ,7   ],
[9520	,6345	,11785	,5440	,3	 ,9   ],
[12185	,8125	,15085	,6965	,3	 ,11  ],
[15600	,10400	,19310	,8915	,3	 ,13  ],
[19965	,13310	,24720	,11410	,3	 ,15  ],
[25555	,17035	,31640	,14605	,4	 ,18  ],
[32710	,21810	,40500	,18690	,4	 ,22  ],
[41870	,27915	,51840	,23925	,4	 ,27  ],
[53595	,35730	,66355	,30625	,4	 ,32  ],
[68600	,45735	,84935	,39200	,4	 ,38  ]
],		'Большая конюшня': [
[630	,420	,780	,360	,4	 ,1   ],
[805	,540	,1000	,460	,2	 ,1   ],
[1030	,690	,1280	,590	,2	 ,2   ],
[1320	,880	,1635	,755	,2	 ,2   ],
[1690	,1125	,2095	,965	,2	 ,2   ],
[2165	,1445	,2680	,1235	,3	 ,3   ],
[2770	,1845	,3430	,1585	,3	 ,4   ],
[3545	,2365	,4390	 ,2025	 ,3   ,4   ],
[4540	,3025	,5620	,2595  ,3	,5	 ],
[5810	,3875	,7195	,3320	,3	 ,6   ],
[7440	,4960	,9210	,4250	,3	 ,7   ],
[9520	,6345	,11785	,5440	,3	 ,9   ],
[12185	,8125	,15085	,6965	,3	 ,11  ],
[15600	,10400	,19310	,8915	,3	 ,13  ],
[19965	,13310	,24720	,11410	,3	 ,15  ],
[25555	,17035	,31640	,14605	,4	 ,18  ],
[32710	,21810	,40500	,18690	,4	 ,22  ],
[41870	,27915	,51840	,23925	,4	 ,27  ],
[53595	,35730	,66355	,30625	,4	 ,32  ],
[68600	,45735	,84935	,39200	,4	 ,38  ]
],		"Городская стена": [
[70 	,90 	,170	,70 	,0	 ,1   ],
[90 	,115	,220	,90 	,0	 ,1   ],
[115	,145	,280	,115	,0	 ,2   ],
[145	,190	,355	,145	,0	 ,2   ],
[190	,240	,455	,190	,0	 ,2   ],
[240	,310	,585	,240	,1	 ,3   ],
[310	,395	,750	,310	,1	 ,4   ],
[395	,505	,955	,395	,1	 ,4   ],
[505	,650	,1225	,505	,1	 ,5   ],
[645	,830	,1570	,645	,1	 ,6   ],
[825	,1065	,2005	,825	,1	 ,7   ],
[1060	,1360	,2570	,1060	,1	 ,9   ],
[1355	,1740	,3290	,1355	,1	 ,11  ],
[1735	,2230	,4210	,1735	,1	 ,13  ],
[2220	,2850	,5390	,2220	,1	 ,15  ],
[2840	,3650	,6895	,2840	,2	 ,18  ],
[3635	,4675	,8825	,3635	,2	 ,22  ],
[4650	,5980	,11300	,4650	,2	 ,27  ],
[5955	,7655	,14460	,5955	,2	 ,32  ],
[7620	,9800	,18510	,7620	,2	 ,38  ]
],		'Земляной вал': [
[120	,200	,0	 ,80	  ,0   ,1	],
[155	,255	,0	 ,100	  ,0   ,1	],
[195	,330	,0	 ,130	  ,0   ,2	],
[250	,420	,0	 ,170	  ,0   ,2	],
[320	,535	,0	 ,215	  ,0   ,2	],
[410	,685	,0	 ,275	  ,1   ,3	],
[530	,880	,0	 ,350	  ,1   ,4	],
[675	,1125	,0	 ,450	  ,1   ,4	],
[865	,1440	,0	 ,575	  ,1   ,5	],
[1105	,1845	,0	 ,740	  ,1   ,6	],
[1415	,2360	,0	 ,945	  ,1   ,7	],
[1815	,3020	,0	 ,1210	  ,1   ,9	],
[2320	,3870	,0	 ,1545	  ,1   ,11	],
[2970	,4950	,0	 ,1980	  ,1   ,13	],
[3805	,6340	,0	 ,2535	  ,1   ,15	],
[4870	,8115	,0	 ,3245	  ,2   ,18	],
[6230	,10385	,0	 ,4155	  ,2   ,22	],
[7975	,13290	,0	 ,5315	  ,2   ,27	],
[10210	,17015	,0	 ,6805	  ,2   ,32	],
[13065	,21780	,0	 ,8710	  ,2   ,38	]
],		'Изгородь': [
[160	,100	,80 	,60 	,0	 ,1  ],
[205	,130	,100	,75 	,0	 ,1  ],
[260	,165	,130	,100	,0	 ,2  ],
[335	,210	,170	,125	,0	 ,2  ],
[430	,270	,215	,160	,0	 ,2  ],
[550	,345	,275	,205	,1	 ,3  ],
[705	,440	,350	,265	,1	 ,4  ],
[900	,565	,450	,340	,1	 ,4  ],
[1155	,720	,575	,430	,1	 ,5  ],
[1475	,920	,740	,555	,1	 ,6  ],
[1890	,1180	,945	,710	,1	 ,7  ],
[2420	,1510	,1210	,905	,1	 ,9  ],
[3095	,1935	,1545	,1160	,1	 ,11 ],
[3960	,2475	,1980	,1485	,1	 ,13 ],
[5070	,3170	,2535	,1900	,1	 ,15 ],
[6490	,4055	,3245	,2435	,2	 ,18 ],
[8310	,5190	,4155	,3115	,2	 ,22 ],
[10635	,6645	,5315	,3990	,2	 ,27 ],
[13610	,8505	,6805	,5105	,2	 ,32 ],
[17420	,10890	,8710	,6535	,2	 ,38 ]
],		'Казарма': [
[210	,140	,260	,120	,4	 ,1  ],
[270	,180	,335	,155	,2	 ,1  ],
[345	,230	,425	,195	,2	 ,2  ],
[440	,295	,545	,250	,2	 ,2  ],
[565	,375	,700	,320	,2	 ,2  ],
[720	,480	,895	,410	,3	 ,3  ],
[925	,615	,1145	,530	,3	 ,4  ],
[1180	,790	,1465	,675	,3	 ,4  ],
[1515	,1010	,1875	,865	,3	 ,5  ],
[1935	,1290	,2400	,1105	,3	 ,6  ],
[2480	,1655	,3070	,1415	,3	 ,7  ],
[3175	,2115	,3930	,1815	,3	 ,9  ],
[4060	,2710	,5030	,2320	,3	 ,11 ],
[5200	,3465	,6435	,2970	,3	 ,13 ],
[6655	,4435	,8240	,3805	,3	 ,15 ],
[8520	,5680	,10545	,4870	,4	 ,18 ],
[10905	,7270	,13500	,6230	,4	 ,22 ],
[13955	,9305	,17280	,7975	,4	 ,27 ],
[17865	,11910	,22120	,10210	,4	 ,32 ],
[22865	,15245	,28310	,13065	,4	 ,38 ]
],		'Капканщик': [
[100	,100	,100	,100	,4	 ,1  ],
[130	,130	,130	,130	,2	 ,1  ],
[165	,165	,165	,165	,2	 ,2  ],
[210	,210	,210	,210	,2	 ,2  ],
[270	,270	,270	,270	,2	 ,2  ],
[345	,345	,345	,345	,3	 ,3  ],
[440	,440	,440	,440	,3	 ,4  ],
[565	,565	,565	,565	,3	 ,4  ],
[720	,720	,720	,720	,3	 ,5  ],
[920	,920	,920	,920	,3	 ,6  ],
[1180	,1180	,1180	,1180	,3	 ,7  ],
[1510	,1510	,1510	,1510	,3	 ,9  ],
[1935	,1935	,1935	,1935	,3	 ,11 ],
[2475	,2475	,2475	,2475	,3	 ,13 ],
[3170	,3170	,3170	,3170	,3	 ,15 ],
[4055	,4055	,4055	,4055	,4	 ,18 ],
[5190	,5190	,5190	,5190	,4	 ,22 ],
[6645	,6645	,6645	,6645	,4	 ,27 ],
[8505	,8505	,8505	,8505	,4	 ,32 ],
[10890	,10890	,10890	,10890	,4	 ,38 ]
],		'Конюшня': [
[260	,140	,220	,100	,5	 ,2  ],
[335	,180	,280	,130	,3	 ,3  ],
[425	,230	,360	,165	,3	 ,3  ],
[545	,295	,460	,210	,3	 ,4  ],
[700	,375	,590	,270	,3	 ,5  ],
[895	,480	,755	,345	,3	 ,6  ],
[1145	,615	,970	,440	,3	 ,7  ],
[1465	,790	,1240	,565	,3	 ,9  ],
[1875	,1010	,1585	,720	,3	 ,10 ],
[2400	,1290	,2030	,920 ,3   ,12 ],
[3070	,1655	,2595	,1180	,4	 ,15 ],
[3930	,2115	,3325	,1510	,4	 ,18 ],
[5030	,2710	,4255	,1935	,4	 ,21 ],
[6435	,3465	,5445  ,2475   ,4  ,26 ],
[8240	,4435	,6970	,3170	,4	 ,31 ],
[10545	,5680	,8925	,4055	,4	 ,37 ],
[13500	,7270	,11425			,5190  ,4  ,44 ],
[17280 ,9305	,14620	   ,6645   ,4	,53 ],
[22120	,11910	,18715	,8505	,4	 ,64 ],
[28310	,15245	,23955	,10890	,4	 ,77 ]
],		'Кузница доспехов': [
[130	,210	,410	,130	,4	 ,2  ],
[165	,270	,525	,165	,2	 ,3  ],
[215	,345	,670	,215	,2	 ,3  ],
[275	,440	,860	,275	,2	 ,4  ],
[350	,565	,1100	,350	,2	 ,5  ],
[445	,720	,1410	,445	,3	 ,6  ],
[570	,925	,1805	,570	,3	 ,7  ],
[730	,1180	,2310	,730	,3	 ,9  ],
[935	,1515	,2955	,935	,3	 ,10 ],
[1200	,1935	,3780	,1200	,3	 ,12 ],
[1535	,2480	,4840	,1535	,3	 ,15 ],
[1965	,3175	,6195	,1965	,3	 ,18 ],
[2515	,4060	,7930	,2515	,3	 ,21 ],
[3220	,5200	,10150	,3220	,3	 ,26 ],
[4120	,6655	,12995	,4120	,3	 ,31 ],
[5275	,8520	,16630	,5275	,4	 ,37 ],
[6750	,10905	,21290	,6750	,4	 ,44 ],
[8640	,13955	,27250	,8640	,4	 ,53 ],
[11060	,17865	,34880	,11060	,4	 ,64 ],
[14155	,22865	,44645	,14155	,4	 ,77 ]
],		'Кузница оружия': [
[170	,200	,380	,130	,4	 ,2  ],
[220	,255	,485	,165	,2	 ,3  ],
[280	,330	,625	,215	,2	 ,3  ],
[355	,420	,795	,275	,2	 ,4  ],
[455	,535	,1020	,350	,2	 ,5  ],
[585	,685	,1305	,445	,3	 ,6  ],
[750	,880	,1670	,570	,3	 ,7  ],
[955	,1125	,2140	,730	,3	 ,9  ],
[1225	,1440	,2740	,935	,3	 ,10 ],
[1570	,1845	,3505	,1200	,3	 ,12 ],
[2005	,2360	,4485	,1535	,3	 ,15 ],
[2570	,3020	,5740	,1965	,3	 ,18 ],
[3290	,3870	,7350	,2515	,3	 ,21 ],
[4210	,4950	,9410	,3220	,3	 ,26 ],
[5390	,6340	,12045	,4120	,3	 ,31 ],
[6895	,8115	,15415	,5275	,4	 ,37 ],
[8825	,10385	,19730	,6750	,4	 ,44 ],
[11300	,13290	,25255	,8640	,4	 ,53 ],
[14460	,17015	,32325	,11060	,4	 ,64 ],
[18510	,21780	,41380	,14155	,4	 ,77 ]
],		'Мастерская': [
[460	,510	,600	,320	,3	 ,4  ],
[590	,655	,770	,410	,2	 ,4  ],
[755	,835	,985	,525	,2	 ,5  ],
[965	,1070	,1260	,670	,2	 ,6  ],
[1235	,1370	,1610	,860	,2	 ,7  ],
[1580	,1750	,2060	,1100	,2	 ,9  ],
[2025	,2245	,2640	,1405	,2	 ,11 ],
[2590	,2870	,3380	,1800	,2	 ,13 ],
[3315	,3675	,4325	,2305	,2	 ,15 ],
[4245	,4705	,5535	,2950	,2	 ,19 ],
[5430	,6020	,7085	,3780	,3	 ,22 ],
[6950	,7705	,9065	,4835	,3	 ,27 ],
[8900	,9865	,11605	,6190	,3	 ,32 ],
[11390	,12625	,14855	,7925	,3	 ,39 ],
[14580	,16165	,19015	,10140	,3	 ,46 ],
[18660	,20690	,24340	,12980	,3	 ,55 ],
[23885	,26480	,31155	,16615	,3	 ,67 ],
[30570	,33895	,39875	,21270	,3	 ,80 ],
[39130	,43385	,51040	,27225	,3	 ,96 ],
[50090	,55535	,65335	,34845	,3	 ,115]
],		'Пункт сбора': [
[110	,160	,90 	,70 	,1	 ,1  ],
[140	,205	,115	,90 	,1	 ,1  ],
[180	,260	,145	,115	,1	 ,2  ],
[230	,335	,190	,145	,1	 ,2  ],
[295	,430	,240	,190	,1	 ,2  ],
[375	,550	,310	,240	,1	 ,3  ],
[480	,705	,395	,310	,1	 ,4  ],
[615	,900	,505	,395	,1	 ,4  ],
[790	,1155	,645	,505	,1	 ,5  ],
[1010	,1475	,830	,650	,1	 ,6  ],
[1290	,1890	,1060	,830	,2	 ,7  ],
[1655	,2420	,1360	,1065	,2	 ,9  ],
[2115	,3100	,1740	,1360	,2	 ,11 ],
[2710	,3965	,2225	,1740	,2	 ,13 ],
[3465	,5075	,2845	,2230	,2	 ,15 ],
[4435	,6495	,3645	,2850	,2	 ,18 ],
[5680	,8315	,4665	,3650	,2	 ,22 ],
[7270	,10645	,5970	,4675	,2	 ,27 ],
[9305	,13625	,7645	,5980	,2	 ,32 ],
[11910	,17440	,9785	,7655	,2	 ,38 ]
],		'Таверна': [
[700	,670	,700	,240	,2	 ,1  ],
[930	,890	,930	,320	,1	 ,1  ],
[1240	,1185	,1240	,425	,1	 ,2  ],
[1645	,1575	,1645	,565	,1	 ,2  ],
[2190	,2095	,2190	,750	,1	 ,2  ],
[2915	,2790	,2915	,1000	,2	 ,3  ],
[3875	,3710	,3875	,1330	,2	 ,4  ],
[5155	,4930	,5155	,1765	,2	 ,4  ],
[6855	,6560	,6855	,2350	,2	 ,5  ],
[9115	,8725	,9115	,3125	,2	 ,6  ],
[12125	,11605	  ,12125  ,4155   ,2   ,7  ],
[16125	,15435 ,16125  ,5530   ,2	,9	],
[21445	,20525	,21445	,7350	,2	 ,11 ],
[28520	,27300	,28520	,9780	,2	 ,13 ],
[37935	,36310	,37935	,13005	,2	 ,15 ],
[50450	,48290	,50450	,17300	,3	 ,18 ],
[67100	,64225	,67100	,23005	,3	 ,22 ],
[89245	,85420	,89245	,30600	,3	 ,27 ],
[118695 ,113605 ,118695 ,40695	,3	 ,32 ],
[157865 ,151095 ,157865 ,54125	,3	 ,38 ]
],		'Главное здание': [
[70 	,40 	,60 	,20 	,2	 ,2  ],
[90 	,50 	,75 	,25 	,1	 ,3  ],
[115	,65 	,100	,35 	,1	 ,3  ],
[145	,85 	,125	,40 	,1	 ,4  ],
[190	,105	,160	,55 	,1	 ,5  ],
[240	,135	,205	,70 	,2	 ,6  ],
[310	,175	,265	,90 	,2	 ,7  ],
[395	,225	,340	,115	,2	 ,9  ],
[505	,290	,430	,145	,2	 ,10 ],
[645	,370	,555	,185	,2	 ,12 ],
[825	,470	,710	,235	,2	 ,15 ],
[1060	,605	,905	,300	,2	 ,18 ],
[1355	,775	,1160	,385	,2	 ,21 ],
[1735	,990	,1485	,495	,2	 ,26 ],
[2220	,1270	,1900	,635	,2	 ,31 ],
[2840	,1625	,2435	,810	,3	 ,37 ],
[3635	,2075	,3115	,1040	,3	 ,44 ],
[4650	,2660	,3990	,1330	,3	 ,53 ],
[5955	,3405	,5105	,1700	,3	 ,64 ],
[7620	,4355	,6535	,2180	,3	 ,77 ]
],		'Дворец': [
[550	,800	,750	,250	,1	 ,6  ],
[705	,1025	,960	,320	,1	 ,7  ],
[900	,1310	,1230	,410	,1	 ,9  ],
[1155	,1680	,1575	,525	,1	 ,10 ],
[1475	,2145	,2015	,670	,1	 ,12 ],
[1890	,2750	,2575	,860	,1	 ,15 ],
[2420	,3520	,3300	,1100	,1	 ,18 ],
[3095	,4505	,4220	,1405	,1	 ,21 ],
[3965	,5765	,5405	,1800	,1	 ,26 ],
[5075	,7380	,6920	,2305	,1	 ,31 ],
[6495	,9445	,8855	,2950	,2	 ,37 ],
[8310	,12090	,11335	,3780	,2	 ,45 ],
[10640	,15475	,14505	,4835	,2	 ,53 ],
[13615	,19805	,18570	,6190	,2	 ,64 ],
[17430	,25355	,23770	,7925	,2	 ,77 ],
[22310	,32450	,30425	,10140	,2	 ,92 ],
[28560	,41540	,38940	,12980	,2	 ,111],
[36555	,53170	,49845	,16615	,2	 ,133],
[46790	,68055	,63805	,21270	,2	 ,160],
[59890	,87110	,81670	,27225	,2	 ,192]
],		'Каменотес': [
[155	,130	,125	,70 	,2	 ,1  ],
[200	,165	,160	,90 	,1	 ,1  ],
[255	,215	,205	,115	,1	 ,2  ],
[325	,275	,260	,145	,1	 ,2  ],
[415	,350	,335	,190	,1	 ,2  ],
[535	,445	,430	,240	,2	 ,3  ],
[680	,570	,550	,310	,2	 ,4  ],
[875	,730	,705	,395	,2	 ,4  ],
[1115	,935	,900	,505	,2	 ,5  ],
[1430	,1200	,1155	,645	,2	 ,6  ],
[1830	,1535	,1475	,825	,2	 ,7  ],
[2340	,1965	,1890	,1060	,2	 ,9  ],
[3000	,2515	,2420	,1355	,2	 ,11 ],
[3840	,3220	,3095	,1735	,2	 ,13 ],
[4910	,4120	,3960	,2220	,2	 ,15 ],
[6290	,5275	,5070	,2840	,3	 ,18 ],
[8050	,6750	,6490	,3635	,3	 ,22 ],
[10300	,8640	,8310	,4650	,3	 ,27 ],
[13185	,11060	,10635	,5955	,3	 ,32 ],
[16880	,14155	,13610	,7620	,3	 ,38 ]
],		'Пивоварня': [
[1200	,1400	,1050	,2200	,6	 ,1  ],
[1535	,1790	,1345	,2815	,3	 ,1  ],
[1965	,2295	,1720	,3605	,3	 ,2  ],
[2515	,2935	,2200	,4615	,3	 ,2  ],
[3220	,3760	,2820	,5905	,3	 ,2  ],
[4125	,4810	,3610	,7560	,4	 ,3  ],
[5280	,6155	,4620	,9675	,4	 ,4  ],
[6755	,7880	,5910	,12385	,4	 ,4  ],
[8645	,10090	,7565	,15855	,4	 ,5  ],
[11070	,12915	,9685	,20290	,4	 ,6  ],
[14165	,16530	,12395	,25975	,4	 ,7  ],
[18135	,21155	,15865	,33245	,4	 ,9  ],
[23210	,27080	,20310	,42555	,4	 ,11 ],
[29710	,34660	,25995	,54470	,4	 ,13 ],
[38030	,44370	,33275	,69720	,4	 ,15 ],
[48680	,56790	,42595	,89245	,5	 ,18 ],
[62310	,72690	,54520	,114230 ,5	 ,22 ],
[79755	,93045	,69785	,146215 ,5	 ,27 ],
[102085 ,119100 ,89325	,187155 ,5	 ,32 ],
[130670 ,152445 ,114335 ,239560 ,5	 ,38 ]
],		'Посольство': [
[180	,130	,150	,80 	,3	 ,5  ],
[230	,165	,190	,100	,2	 ,6  ],
[295	,215	,245	,130	,2	 ,7  ],
[375	,275	,315	,170	,2	 ,8  ],
[485	,350	,405	,215	,2	 ,10 ],
[620	,445	,515	,275	,2	 ,12 ],
[790	,570	,660	,350	,2	 ,14 ],
[1015	,730	,845	,450	,2	 ,17 ],
[1295	,935	,1080	,575	,2	 ,21 ],
[1660	,1200	,1385	,740	,2	 ,25 ],
[2125	,1535	,1770	,945	,3	 ,30 ],
[2720	,1965	,2265	,1210	,3	 ,36 ],
[3480	,2515	,2900	,1545	,3	 ,43 ],
[4455	,3220	,3715	,1980	,3	 ,51 ],
[5705	,4120	,4755	,2535	,3	 ,62 ],
[7300	,5275	,6085	,3245	,3	 ,74 ],
[9345	,6750	,7790	,4155	,3	 ,89 ],
[11965	,8640	,9970	,5315	,3	 ,106],
[15315	,11060	,12760	,6805	,3	 ,128],
[19600	,14155	,16335	,8710	,3	 ,153]
],		'Ратуша': [
[1250	,1110	,1260	,600	,4	 ,6  ],
[1600	,1420	,1615	,770	,2	 ,7  ],
[2050	,1820	,2065	,985	,2	 ,9  ],
[2620	,2330	,2640	,1260	,2	 ,10 ],
[3355	,2980	,3380	,1610	,2	 ,12 ],
[4295	,3815	,4330	,2060	,3	 ,15 ],
[5500	,4880	,5540	,2640	,3	 ,18 ],
[7035	,6250	,7095	,3380	,3	 ,21 ],
[9005	,8000	,9080	,4325	,3	 ,26 ],
[11530			,10240	,11620	,5535	,3	 ,31 ],
[14755	,13105	,14875	,7085	,3	 ,37 ],
[18890	,16775	,19040	,9065	,3	 ,45 ],
[24180	,21470	,24370	,11605 ,3 ,53 ],
[30950	,27480	,31195	,14855	,3	 ,64 ],
[39615	,35175	,39930	,19015	,3	 ,77 ],
[50705	,45025	  ,51110   ,24340  ,4	  ,92 ],
[64905	,57635		,65425	 ,31155  ,4  ,111],
[83075	,73770 ,83740  ,39875  ,4	,133],
[106340 ,94430	,107190 ,51040	,4	 ,160],
[136115 ,120870 ,137200 ,65335	,4	 ,192]
],		'Резиденция': [
[580	,460	,350	,180	,1	 ,2  ],
[740	,590	,450	,230	,1	 ,3  ],
[950	,755	,575	,295	,1	 ,3  ],
[1215	,965	,735	,375	,1	 ,4  ],
[1555	,1235	,940	,485	,1	 ,5  ],
[1995	,1580	,1205	,620	,1	 ,6  ],
[2550	,2025	,1540	,790	,1	 ,7  ],
[3265	,2590	,1970	,1015	,1	 ,9  ],
[4180	,3315	,2520	,1295	,1	 ,10 ],
[5350	,4245	,3230	,1660	,1	 ,12 ],
[6845	,5430	,4130	,2125	,2	 ,15 ],
[8765	,6950	,5290	,2720	,2	 ,18 ],
[11220	,8900	,6770	,3480	,2	 ,21 ],
[14360	,11390	,8665	,4455	,2	 ,26 ],
[18380	,14580	,11090	,5705	,2	 ,31 ],
[23530	,18660	,14200	,7300	,2	 ,37 ],
[30115	,23885	,18175	,9345	,2	 ,44 ],
[38550	,30570	,23260	,11965	,2	 ,53 ],
[49340	,39130	,29775	,15315	,2	 ,64 ],
[63155	,50090	,38110	,19600	,2	 ,77 ]
],		'Рынок': [
[80 	,70 	,120	,70 	,4	 ,4  ],
[100	,90 	,155	,90 	,2	 ,4  ],
[130	,115	,195	,115	,2	 ,5  ],
[170	,145	,250	,145	,2	 ,6  ],
[215	,190	,320	,190	,2	 ,7  ],
[275	,240	,410	,240	,3	 ,9  ],
[350	,310	,530	,310	,3	 ,11 ],
[450	,395	,675	,395	,3	 ,13 ],
[575	,505	,865	,505	,3	 ,15 ],
[740	,645	,1105	,645	,3	 ,19 ],
[945	,825	,1415	,825	,3	 ,22 ],
[1210	,1060	,1815	,1060	,3	 ,27 ],
[1545	,1355	,2320	,1355	,3	 ,32 ],
[1980	,1735	,2970	,1735	,3	 ,39 ],
[2535	,2220	,3805	,2220	,3	 ,46 ],
[3245	,2840	,4870	,2840	,4	 ,55 ],
[4155	,3635	,6230	,3635	,4	 ,67 ],
[5315	,4650	,7975	,4650	,4	 ,80 ],
[6805	,5955	,10210	,5955	,4	 ,96 ],
[8710	,7620	,13065	,7620	,4	 ,115]
],		'Сокровищница': [
[2880	,2740	,2580	,990	,4	 ,6  ],
[3685	,3505	,3300	,1265	,2	 ,7  ],
[4720	,4490	,4225	,1620	,2	 ,9  ],
[6040	,5745	,5410	,2075	,2	 ,10 ],
[7730	,7355	,6925	,2660	,2	 ,12 ],
[9895	,9415	,8865	,3400	,3	 ,15 ],
[12665	,12050	,11345	,4355	,3	 ,18 ],
[16215	,15425	,14525	,5575	,3	 ,21 ],
[20755	,19745	,18590	,7135	,3	 ,26 ],
[26565	,25270	,23795	,9130	,3	 ,31 ]
],		'Тайник': [
[40  ,50  ,30  ,10	,0	 ,1   ],
[50  ,65  ,40  ,15	,0	 ,1   ],
[65  ,80  ,50  ,15	,0	 ,2   ],
[85  ,105 ,65  ,20	,0	 ,2   ],
[105 ,135 ,80  ,25	,0	 ,2   ],
[135 ,170 ,105 ,35	,1	 ,3   ],
[175 ,220 ,130 ,45	,1	 ,4   ],
[225 ,280 ,170 ,55	,1	 ,4   ],
[290 ,360 ,215 ,70	,1	 ,5   ],
[370 ,460 ,275 ,90	,1	 ,6   ]
],		'Торговая палата': [
[1400	,1330	,1200	,400	,3	 ,6  ],
[1790	,1700	,1535	,510	,2	 ,7  ],
[2295	,2180	,1965	,655	,2	 ,9  ],
[2935	,2790	,2515	,840	,2	 ,10 ],
[3760	,3570	,3220	,1075	,2	 ,12 ],
[4810	,4570	,4125	,1375	,2	 ,15 ],
[6155	,5850	,5280	,1760	,2	 ,18 ],
[7880	,7485	,6755	,2250	,2	 ,21 ],
[10090	,9585	,8645	,2880	,2	 ,26 ],
[12915	,12265	,11070	,3690	,2	 ,31 ],
[16530	,15700	,14165	,4720	,3	 ,37 ],
[21155	,20100	,18135	,6045	,3	 ,45 ],
[27080	,25725	,23210	,7735	,3	 ,53 ],
[34660	,32930	,29710	,9905	,3	 ,64 ],
[44370	,42150	,38030	,12675	,3	 ,77 ],
[56790	,53950	,48680	,16225	,3	 ,92 ],
[72690	,69060	,62310	,20770	,3	 ,111],
[93045	,88395	,79755	,26585	,3	 ,133],
[119100 ,113145 ,102085 ,34030	,3	 ,160],
[152445 ,144825 ,130670 ,43555	,3	 ,192]
],		'Чудо Света': [
[66700	 ,69050   ,72200   ,13200	,1	 ,0 ],
[68535	 ,70950   ,74185   ,13565	,1	 ,0 ],
[70420	 ,72900   ,76225   ,13935	,1	 ,0 ],
[72355	 ,74905   ,78320   ,14320	,1	 ,0 ],
[74345	 ,76965   ,80475   ,14715	,1	 ,0 ],
[76390	 ,79080   ,82690   ,15120	,1	 ,0 ],
[78490	 ,81255   ,84965   ,15535	,1	 ,0 ],
[80650	 ,83490   ,87300   ,15960	,1	 ,0 ],
[82865	 ,85785   ,89700   ,16400	,1	 ,0 ],
[85145	 ,88145   ,92165   ,16850	,1	 ,0 ],
[87485	 ,90570   ,94700   ,17315	,2	 ,0 ],
[89895	 ,93060   ,97305   ,17790	,2	 ,0 ],
[92365	 ,95620   ,99980   ,18280	,2	 ,0 ],
[94905	 ,98250   ,102730  ,18780	,2	 ,0 ],
[97515	 ,100950  ,105555  ,19300	,2	 ,0 ],
[100195  ,103725  ,108460  ,19830	,2	 ,0 ],
[102950  ,106580  ,111440  ,20375	,2	 ,0 ],
[105785  ,109510  ,114505  ,20935	,2	 ,0 ],
[108690  ,112520  ,117655  ,21510	,2	 ,0 ],
[111680  ,115615  ,120890  ,22100	,2	 ,0 ],
[114755  ,118795  ,124215  ,22710	,3	 ,0 ],
[117910  ,122060  ,127630  ,23335	,3	 ,0 ],
[121150  ,125420  ,131140  ,23975	,3	 ,0 ],
[124480  ,128870  ,134745  ,24635	,3	 ,0 ],
[127905  ,132410  ,138455  ,25315	,3	 ,0 ],
[131425  ,136055  ,142260  ,26010	,3	 ,0 ],
[135035  ,139795  ,146170  ,26725	,3	 ,0 ],
[138750  ,143640  ,150190  ,27460	,3	 ,0 ],
[142565  ,147590  ,154320  ,28215	,3	 ,0 ],
[146485  ,151650  ,158565  ,28990	,3	 ,0 ],
[150515  ,155820  ,162925  ,29785	,4	 ,0 ],
[154655  ,160105  ,167405  ,30605	,4	 ,0 ],
[158910  ,164505  ,172010  ,31450	,4	 ,0 ],
[163275  ,169030  ,176740  ,32315	,4	 ,0 ],
[167770  ,173680  ,181600  ,33200	,4	 ,0 ],
[172380  ,178455  ,186595  ,34115	,4	 ,0 ],
[177120  ,183360  ,191725  ,35055	,4	 ,0 ],
[181995  ,188405  ,197000  ,36015	,4	 ,0 ],
[186995  ,193585  ,202415  ,37005	,4	 ,0 ],
[192140  ,198910  ,207985  ,38025	,4	 ,0 ],
[197425  ,204380  ,213705  ,39070	,5	 ,0 ],
[202855  ,210000  ,219580  ,40145	,5	 ,0 ],
[208430  ,215775  ,225620  ,41250	,5	 ,0 ],
[214165  ,221710  ,231825  ,42385	,5	 ,0 ],
[220055  ,227805  ,238200  ,43550	,5	 ,0 ],
[226105  ,234070  ,244750  ,44745	,5	 ,0 ],
[232320  ,240505  ,251480  ,45975	,5	 ,0 ],
[238710  ,247120  ,258395  ,47240	,5	 ,0 ],
[245275  ,253915  ,265500  ,48540	,5	 ,0 ],
[252020  ,260900  ,272800  ,49875	,5	 ,0 ],
[258950  ,268075  ,280305  ,51245	,6	 ,0 ],
[266070  ,275445  ,288010  ,52655	,6	 ,0 ],
[273390  ,283020  ,295930  ,54105	,6	 ,0 ],
[280905  ,290805  ,304070  ,55590	,6	 ,0 ],
[288630  ,298800  ,312430  ,57120	,6	 ,0 ],
[296570  ,307020  ,321025  ,58690	,6	 ,0 ],
[304725  ,315460  ,329850  ,60305	,6	 ,0 ],
[313105  ,324135  ,338925  ,61965	,6	 ,0 ],
[321715  ,333050  ,348245  ,63670	,6	 ,0 ],
[330565  ,342210  ,357820  ,65420	,6	 ,0 ],
[339655  ,351620  ,367660  ,67220	,7	 ,0 ],
[348995  ,361290  ,377770  ,69065	,7	 ,0 ],
[358590  ,371225  ,388160  ,70965	,7	 ,0 ],
[368450  ,381435  ,398835  ,72915	,7	 ,0 ],
[378585  ,391925  ,409800  ,74920	,7	 ,0 ],
[388995  ,402700  ,421070  ,76985	,7	 ,0 ],
[399695  ,413775  ,432650  ,79100	,7	 ,0 ],
[410685  ,425155  ,444550  ,81275	,7	 ,0 ],
[421980  ,436845  ,456775  ,83510	,7	 ,0 ],
[433585  ,448860  ,469335  ,85805	,7	 ,0 ],
[445505  ,461205  ,482240  ,88165	,8	 ,0 ],
[457760  ,473885  ,495505  ,90590	,8	 ,0 ],
[470345  ,486920  ,509130  ,93080	,8	 ,0 ],
[483280  ,500310  ,523130  ,95640	,8	 ,0 ],
[496570  ,514065  ,537520  ,98270	,8	 ,0 ],
[510225  ,528205  ,552300  ,100975	,8	 ,0 ],
[524260  ,542730  ,567490  ,103750	,8	 ,0 ],
[538675  ,557655  ,583095  ,106605	,8	 ,0 ],
[553490  ,572990  ,599130  ,109535	,8	 ,0 ],
[568710  ,588745  ,615605  ,112550	,8	 ,0 ],
[584350  ,604935  ,632535  ,115645	,9	 ,0 ],
[600420  ,621575  ,649930  ,118825	,9	 ,0 ],
[616930  ,638665  ,667800  ,122090	,9	 ,0 ],
[633895  ,656230  ,686165  ,125450	,9	 ,0 ],
[651330  ,674275  ,705035  ,128900	,9	 ,0 ],
[669240  ,692820  ,724425  ,132445	,9	 ,0 ],
[687645  ,711870  ,744345  ,136085	,9	 ,0 ],
[706555  ,731445  ,764815  ,139830	,9	 ,0 ],
[725985  ,751560  ,785850  ,143675	,9	 ,0 ],
[745950  ,772230  ,807460  ,147625	,9	 ,0 ],
[766460  ,793465  ,829665  ,151685	,10  ,0 ],
[787540  ,815285  ,852480  ,155855	,10  ,0 ],
[809195  ,837705  ,875920  ,160140	,10  ,0 ],
[831450  ,860745  ,900010  ,164545	,10  ,0 ],
[854315  ,884415  ,924760  ,169070	,10  ,0 ],
[877810  ,908735  ,950190  ,173720	,10  ,0 ],
[901950  ,933725  ,976320  ,178495	,10  ,0 ],
[926750  ,959405  ,1003170 ,183405	,10  ,0 ],
[952235  ,985785  ,1030760 ,188450	,10  ,0 ],
[978425  ,1012895 ,1059105 ,193630	,10  ,0 ]
],		  'Амбар': [
[80 	,100	,70 	,20 	,1	 ,1   ],
[100	,130	,90 	,25 	,1	 ,1   ],
[130	,165	,115	,35 	,1	 ,2   ],
[170	,210	,145	,40 	,1	 ,2   ],
[215	,270	,190	,55 	,1	 ,2   ],
[275  ,345	   ,240    ,70	   ,1	,3	 ],
[350	,440	,310	,90 	,1	 ,4   ],
[450	,565	,395	,115	,1	 ,4   ],
[575	,720	,505	,145	,1	 ,5   ],
[740	,920	,645	,185  ,1   ,6	 ],
[945	,1180	,825	,235	,2	 ,7   ],
[1210	,1510	,1060	,300	,2	 ,9   ],
[1545	,1935	 ,1355		   ,385  ,2    ,11 ],
[1980	,2475	,1735	,495  ,2	 ,13  ],
[2535	,3170	,2220	,635	,2	 ,15  ],
[3245	,4055	,2840	,810	,2	 ,18  ],
[4155	,5190	,3635	,1040	,2	 ,22  ],
[5315	,6645	,4650	,1330	,2	 ,27  ],
[6805	,8505	,5955	,1700	,2	 ,32  ],
[8710	,10890	,7620	,2180	,2	 ,38  ]
],		'Глиняный карьер': [
[80 	,40 	,80 	,50 	,2	 ,1   ],
[135	,65 	,135	,85 	,1	 ,1   ],
[225	,110	,225	,140	,1	 ,2   ],
[375	,185	,375	,235	,1	 ,2   ],
[620	,310	,620	,390	,1	 ,2   ],
[1040	,520	,1040	,650	,2	 ,3   ],
[1735	,870	,1735	,1085	,2	 ,4   ],
[2900	,1450	,2900	,1810	,2	 ,4   ],
[4840	,2420	,4840	,3025	,2	 ,5   ],
[8080	,4040	,8080	,5050	,2	 ,6   ],
[13500	,6750	,13500	,8435	,2	 ,7   ],
[22540	,11270	,22540	,14090	,2	 ,9   ],
[37645	,18820	,37645	,23525	,2	,11   ],
[62865	,31430	,62865	,39290	,2	,13   ],
[104985 ,52490	,104985 ,65615	,2	,15   ],
[175320 ,87660	,175320 ,109575 ,3	,18   ],
[292790 ,146395 ,292790 ,182995 ,3	,22   ],
[488955 ,244480 ,488955 ,305600 ,3	,27   ],
[816555 ,408280 ,816555 ,510350 ,3	,32   ]
],		'Деревообрабатывающий завод': [
[520	,380	,290	,90  ,4   ,1	  ],
[935	,685	,520	,160 ,2   ,1	  ],
[1685	,1230	,940	,290 ,2   ,2	  ],
[3035	,2215	,1690	,525 ,2   ,2	  ],
[5460	,3990	,3045	,945 ,2   ,2	  ]
],		'Железный рудник': [
[100	,80 	,30 	,60 	,3	 ,1   ],
[165	,135	,50 	,100	,2	 ,1   ],
[280	,225	,85 	,165	,2	 ,2   ],
[465	,375	,140	,280	,2	 ,2   ],
[780	,620	,235	,465	,2	 ,2   ],
[1300	,1040	,390	,780	,2	 ,3   ],
[2170	,1735	,650	,1300	,2	 ,4   ],
[3625	,2900	,1085	,2175	,2	 ,4   ],
[6050	,4840	,1815	,3630	,2	 ,5   ],
[10105	,8080	,3030	,6060	,2	 ,6   ],
[16870	,13500	,5060	,10125	,3	 ,7   ],
[28175	,22540	,8455	,16905	,3	 ,9   ],
[47055	,37645	,14115	,28230	,3	,11   ],
[78580	,62865	,23575	,47150	,3	,13   ],
[131230 ,104985 ,39370	,78740	,3	,15   ],
[219155 ,175320 ,65745	,131490 ,3	,18   ],
[365985 ,292790 ,109795 ,219590 ,3	,22   ],
[611195 ,488955 ,183360 ,366715 ,3	,27   ]
],		'Кирпичный завод': [
[440	,480	,320	,50  ,3   ,1	  ],
[790	,865	,575	,90  ,2   ,1	  ],
[1425	,1555	,1035	,160 ,2   ,2	  ],
[2565	,2800	,1865	,290 ,2   ,2	  ],
[4620	,5040	,3360	,525 ,2   ,2	  ]
],		'Лесопилка': [
[40 	,100	,50 	,60 	,2	 ,1   ],
[65 	,165	,85 	,100	,1	 ,1   ],
[110	,280	,140	,165	,1	 ,2   ],
[185	,465	,235	,280	,1	 ,2   ],
[310	,780	,390	,465	,1	 ,2   ],
[520	,1300	,650	,780	,2	 ,3   ],
[870	,2170	,1085	,1300	,2	 ,4   ],
[1450	,3625	,1810	,2175	,2	 ,4   ],
[2420	,6050	,3025	,3630	,2	 ,5   ],
[4040	,10105	,5050	,6060	,2	 ,6   ],
[6750	,16870	,8435	,10125	,2	 ,7   ],
[11270	,28175	,14090	,16905	,2	 ,9   ],
[18820	,47055	,23525	,28230	,2	 ,11  ],
[31430	,78580	,39290	,47150	,2	 ,13  ],
[52490	,131230 ,65615	,78740	,2	 ,15  ],
[87660	,219155 ,109575 ,131490 ,3	 ,18  ],
[146395 ,365985 ,182995 ,219590 ,3	 ,22  ],
[244480 ,611195 ,305600 ,366715 ,3	 ,27  ]
],		'Мукомольная мельница': [
[500	,440	,380	,1240	,3	 ,1   ],
[900	,790	,685	,2230	,2	 ,1   ],
[1620	,1425	,1230	,4020	,2	 ,2   ],
[2915	,2565	,2215	,7230	,2	 ,2   ],
[5250	,4620	,3990	,13015	,2	 ,2   ]
],		'Пекарня': [
[1200	,1480	,870	,1600	,4	 ,1   ],
[2160	,2665	,1565	,2880	,2	 ,1   ],
[3890	,4795	,2820	,5185	,2	 ,2   ],
[7000	,8630	,5075	,9330	,2	 ,2   ],
[12595	,15535	,9135	,16795	,2	 ,2   ]
],		'Склад': [
[130	,160	,90 	,40 	,1	 ,1   ],
[165	,205	,115	,50 	,1	 ,1   ],
[215	,260	,145 ,65	 ,1   ,2   ],
[275	,335	,190	,85 	,1	 ,2   ],
[350	,430	,240	,105	,1	 ,2   ],
[445	,550	,310	,135	,1	 ,3   ],
[570	,705	,395	,175	,1	 ,4   ],
[730	,900	,505	,225	,1	 ,4   ],
[935	,1155	,650	,290	,1	 ,5   ],
[1200	,1475	,830	,370	,1	 ,6   ],
[1535	,1890	,1065	,470	,2	 ,7   ],
[1965	,2420	,1360	,605	,2	 ,9   ],
[2515	,3095	,1740	,775	,2	 ,11  ],
[3220	,3960	,2230	,990	,2	 ,13  ],
[4120	,5070	,2850	,1270	,2	 ,15  ],
[5275	,6490	,3650	,1625	,2	 ,18  ],
[6750	,8310	,4675	,2075	,2	 ,22  ],
[8640	,10635	,5980	,2660	,2	 ,27  ],
[11060	,13610	,7655	,3405	,2	 ,32  ],
[14155	,17420	,9800	,4355	,2	 ,38  ]
],		'Ферма': [
[70 	 ,90	  ,70	   ,20		,0	 ,1 ],
[115	 ,150	  ,115	   ,35		,0	 ,1 ],
[195	 ,250	  ,195	   ,55		,0	 ,2 ],
[325	 ,420	  ,325	   ,95		,0	 ,2 ],
[545	 ,700	  ,545	   ,155 	,0	 ,2 ],
[910	 ,1170	  ,910	   ,260 	,1	 ,3 ],
[1520	 ,1950	  ,1520    ,435 	,1	 ,4 ],
[2535	 ,3260	  ,2535    ,725 	,1	 ,4 ],
[4235	 ,5445	  ,4235    ,1210	,1	 ,5 ],
[7070	 ,9095	  ,7070    ,2020	,1	 ,6 ],
[11810	 ,15185   ,11810   ,3375	,1	 ,7 ],
[19725	 ,25360   ,19725   ,5635	,1	 ,9 ],
[32940	 ,42350   ,32940   ,9410	,1	 ,11],
[55005	 ,70720   ,55005   ,15715	,1	 ,13],
[91860	 ,118105  ,91860   ,26245	,1	 ,15],
[153405  ,197240  ,153405  ,43830	,2	 ,18],
[256190  ,329385  ,256190  ,73195	,2	 ,22],
[427835  ,550075  ,427835  ,122240	,2	 ,27],
[714485  ,918625  ,714485  ,204140	,2	 ,32]
],		  'Чугунолитейный завод': [
[200	,450	,510	,120	,6	 ,1 ],
[360	,810	,920	,215	,3	 ,1 ],
[650	,1460	,1650	,390	,3	 ,2 ],
[1165	,2625	,2975	,700	,3	 ,2 ],
[2100	,4725	,5355	,1260	,3	 ,2 ]
],		  'Большой амбар': [
[400	,500	,350	,10 	,1	,1],
[510	,640	,450	,15 	,1	,1],
[655	,820	,575	,15 	,1	,2],
[840	,1050	,735	,20 	,1	,2],
[1075	,1340	,940	,25 	,1	,2],
[1375	,1720	,1205	,35 	,1	,3],
[1760	,2200	,1540	,45 	,1	,4],
[2250	,2815	,1970	,55 	,1	,4],
[2880	,3605	,2520	,70 	,1	,5],
[3690	,4610	,3230	,90 	,1	,6],
[4720	,5905	,4130	,120	,2	,7],
[6045	,7555	,5290	,150	,2	,9],
[7735	,9670	,6770	,195	,2	,11],
[9905	,12380	,8665	,250	,2	,13],
[12675	,15845	,11090	,315	,2	,15],
[16225	,20280	,14200	,405	,2	,18],
[20770	,25960	,18175	,520	,2	,22],
[26585	,33230	,23260	,665	,2	,27],
[34030	,42535	,29775	,850	,2	,32],
[43555	,54445	,38110	,1090	,2	,38]
],		  'Большой склад': [
[650	,800	,450	,200	,1	,1	],
[830	,1025	,575	,255	,1	,1	],
[1065	,1310	,735	,330	,1	,2	],
[1365	,1680	,945	,420	,1	,2	],
[1745	,2145	,1210	,535	,1	,2	],
[2235	,2750	,1545	,685	,1	,3	],
[2860	,3520	,1980	,880	,1	,4	],
[3660	,4505	,2535	,1125	,1	,4	],
[4685	,5765	,3245	,1440	,1	,5	],
[5995	,7380	,4150	,1845	,1	,6	],
[7675	,9445	,5315	,2360	,2	,7	],
[9825	,12090	,6800	,3020	,2	,9	],
[12575	,15475	,8705	,3870	,2	,11 ],
[16095	,19805	,11140	,4950	,2	,13 ],
[20600	,25355	,14260	,6340	,2	,15 ],
[26365	,32450	,18255	,8115	,2	,18 ],
[33750	,41540	,23365	,10385	,2	,22 ],
[43200	,53170	,29910	,13290	,2	,27 ],
[55295	,68055	,38280	,17015	,2	,32 ],
[70780	,87110	,49000	,21780	,2	,38 ]
],		'Камнотес': [
[155	,130	,125	,70 	,2	,1	],
[200	,165	,160	,90 	,1	,1	],
[255	,215	,205	,115	,1	,2	],
[325	,275	,260	,145	,1	,2	],
[415	,350	,335	,190	,1	,2	],
[535	,445	,430	,240	,2	,3	],
[680	,570	,550	,310	,2	,4	],
[875	,730	,705	,395	,2	,4	],
[1115	,935	,900	,505	,2	,5	],
[1430	,1200	,1155	,645	,2	,6	],
[1830	,1535	,1475	,825	,2	,7	],
[2340	,1965	,1890	,1060	,2	,9	],
[3000	,2515	,2420	,1355	,2	,11 ],
[3840	,3220	,3095	,1735	,2	,13 ],
[4910	,4120	,3960	,2220	,2	,15 ],
[6290	,5275	,5070	,2840	,3	,18 ],
[8050	,6750	,6490	,3635	,3	,22 ],
[10300	,8640	,8310	,4650	,3	,27 ],
[13185	,11060	,10635	,5955	,3	,32 ],
[16880	,14155	,13610	,7620	,3	,38 ]
]
		};
	var army = {
		'Фаланга': [
[100	,130	,55 ,30 ,1	  ],
undefined					  ,
[800	,1010	,585	,370  ],
[1395	,1760	,1020	,645  ],
[1925	,2430	,1410	,890  ],
[2425	,3060	,1775	,1120 ],
[2900	,3660	,2120	,1340 ],
[3355 ,4235   ,2455   ,1550 ],
[3795	,4790	,2775	,1755 ],
[4220	,5330	,3090	,1955 ],
[4640	,5860	,3395	,2145 ],
[5050	,6375	,3690	,2335 ],
[5450	,6880	,3985	,2520 ],
[5840	,7375	,4270	,2700 ],
[6225	,7860	,4555	,2880 ],
[6605	,8340	,4830	,3055 ],
[6980	,8815	,5105	,3230 ],
[7350	,9280	,5375	,3400 ],
[7715	,9745	,5645	,3570 ],
[8080	,10200	,5905	,3735 ],
[8435	,10650	,6170	,3900 ],
[8790	,11095	,6425	,4065 ]
],		'Мечник': [
[140   ,150  ,185	  ,60	],
[940	,700	,1680	,520  ],
[1080	,1150	,1495	,580  ],
[1880	,2000	,2605	,1010 ],
[2600	,2770	,3600	,1395 ],
[3275	,3485	,4530	,1760 ],
[3915	,4165	,5420	,2100 ],
[4530	,4820	,6270	,2430 ],
[5125	,5455	,7090	,2750 ],
[5700 ,6070    ,7890   ,3060 ],
[6265	,6670	,8670	,3365 ],
[6815	,7255	,9435	,3660 ],
[7355	,7830	,10180	,3950 ],
[7885	,8395	,10915	,4235 ],
[8405	,8950	,11635	,4515 ],
[8920	,9495	,12345	,4790 ],
[9425	,10035	,13045	,5060 ],
[9925	,10570	,13740	,5330 ],
[10420	,11095	,14420	,5595 ],
[10905	,11610	,15095	,5855 ],
[11385	,12125	,15765	,6115 ],
[11865	,12635	,16425	,6370 ]
],		'Следопыт': [
[170	 ,150	 ,20	 ,40  ],
[1120	 ,700	 ,360	 ,400 ],
[45 	 ,575	 ,170	 ,220 ],
[80 	 ,1000	 ,295	 ,385 ],
[110	 ,1385	 ,410	 ,530 ],
[135	 ,1745	 ,515	 ,665 ],
[165	 ,2085	 ,615	 ,795 ],
[190	 ,2410	 ,715	 ,920 ],
[215	 ,2725	 ,805	 ,1045],
[240	 ,3035	 ,895	 ,1160],
[260	 ,3335	 ,985	 ,1275],
[285	 ,3630	 ,1075	 ,1390],
[305	 ,3915	 ,1160	 ,1500],
[330	 ,4200	 ,1240	 ,1605],
[350	 ,4475	 ,1325	 ,1710],
[370	 ,4750	 ,1405	 ,1815],
[395	 ,5020	 ,1485	 ,1920],
[415	 ,5285	 ,1560	 ,2020],
[435	 ,5545	 ,1640	 ,2120],
[455	 ,5805	 ,1715	 ,2220],
[475	 ,6065	 ,1790	 ,2320],
[495	 ,6315	 ,1870	 ,2415]
],		'Тевтатский гром': [
[350	,450	,230	,60   ],
[2200	,1900	,2040	,520  ],
[1275	,1625	,905	,290  ],
[2220	,2830	,1575	,505  ],
[3070	,3915	,2180	,700  ],
[3865	,4925	,2745	,880  ],
[4620	,5890	,3280	,1050 ],
[5345	,6815	,3795	,1215 ],
[6050	,7710	,4295	,1375 ],
[6730	,8575	,4775	,1530 ],
[7395	,9425	,5250	,1680 ],
[8045	,10255	,5710	,1830 ],
[8680	,11065	,6165	,1975 ],
[9310	,11865	,6605	,2115 ],
[9925	,12650	,7045	,2255 ],
[10530	,13420	,7475	,2395 ],
[11125	,14180	,7900	,2530 ],
[11715	,14935	,8315	,2665 ],
[12300	,15675	,8730	,2795 ],
[12875	,16410	,9140	,2930 ],
[13445	,17135	,9540	,3060 ],
[14005	,17850	,9940	,3185 ]
],		'Друид-всадник': [
[360	,330	,280	,120  ],
[2260	,1420	,2440	,880  ],
[1310	,1205	,1080	,500  ],
[2280	,2100	,1880	,870  ],
[3155	,2900	,2600	,1205 ],
[3970	,3655	,3275	,1515 ],
[4745	,4365	,3915	,1810 ],
[5495	,5055	,4530	,2095 ],
[6215	,5715	,5125	,2370 ],
[6915	,6360	,5700	,2640 ],
[7595	,6990	,6265	,2900 ],
[8265	,7605	,6815	,3155 ],
[8920	,8205	,7355	,3405 ],
[9565	,8795	,7885	,3650 ],
[10195	,9380	,8405	,3890 ],
[10820	,9950	,8920	,4130 ],
[11435	,10515	,9425	,4365 ],
[12040	,11075	,9925	,4595 ],
[12635	,11625	,10420	,4825 ],
[13230	,12170	,10905	,5050 ],
[13815	,12705	,11385	,5270 ],
[14390	,13240	,11865	,5495 ]
],		'Эдуйская конница': [
[500	,620	,675	,170  ],
[3100	,2580	,5600	,1180 ],
[1200	,1480	,1640	,450  ],
[2090	,2575	,2855	,785  ],
[2890	,3565	,3950	,1085 ],
[3640	,4485	,4970	,1365 ],
[4350	,5365	,5945	,1630 ],
[5030	,6205	,6875	,1885 ],
[5690	,7020	,7780	,2135 ],
[6335	,7810	,8655	,2375 ],
[6960	,8585	,9510	,2610 ],
[7570	,9340	,10350	,2840 ],
[8170	,10080	,11170	,3065 ],
[8760	,10805	,11975	,3285 ],
[9340	,11520	,12765	,3500 ],
[9910	,12225	,13545	,3715 ],
[10475	,12915	,14315	,3925 ],
[11030	,13600	,15070	,4135 ],
[11575	,14275	,15820	,4340 ],
[12115	,14945	,16560	,4545 ],
[12655	,15605	,17290	,4745 ],
[13185	,16260	,18015	,4945 ]
],		'Таран галлов': [
[950	,555	,330	,75   ],
[5800	,2320	,2840	,610  ],
[2250	,1330	,835	,230  ],
[3915	,2315	,1455	,400  ],
[5420	,3205	,2010	,555  ],
[6820	,4030	,2530	,695  ],
[8155	,4820	,3025	,835  ],
[9435	,5575	,3500	,965  ],
[10670	,6310	,3960	,1090 ],
[11875	,7020	,4405	,1215 ],
[13050	,7715	,4845	,1335 ],
[14195	,8390	,5270	,1450 ],
[15320	,9055	,5685	,1565 ],
[16425	,9710	,6095	,1680 ],
[17510	,10350	,6500  ,1790 ],
[18580	,10985	,6895	,1900 ],
[19635	,11605	,7285	,2005 ],
[20675	,12220	,7675	,2115 ],
[21705	,12830	,8055	,2220 ],
[22720	,13430	,8430	,2320 ],
[23725	,14025	,8805	,2425 ],
[24720	,14610	,9175	,2525 ]
],		'Требучет': [
[960	,1450	,630	,90   ],
[5860	,5900	,5240	,700  ],
[1135	,1710	,770	,130  ],
[1975	,2975	,1340	,225  ],
[2735	,4120	,1855	,315  ],
[3440	,5185	,2335	,395  ],
[4115	,6195	,2790	,470  ],
[4760	,7170	,3230	,545  ],
[5385	,8110	,3650	,615  ],
[5990	,9025	,4065	,685  ],
[6580	,9915	,4465	,755  ],
[7160	,10790	,4860	,820  ],
[7730	,11645	,5245	,885  ],
[8285	,12485	,5620	,950  ],
[8835	,13310	,5995	,1010 ],
[9375	,14120	,6360	,1075 ],
[9905	,14925	,6720	,1135 ],
[10430	,15715	,7075	,1195 ],
[10950	,16495	,7430	,1255 ],
[11460	,17265	,7775	,1315 ],
[11965	,18030	,8120	,1370 ],
[12470	,18785	,8460	,1430 ]
],		'Предводитель': [
[30750	,45400	,31000	,37500],
[15880	,22900	,25200	,22600]
],		'Поселенец галлов': [
[5500	,7000	,5300	,4900 ]
],		'Дубинщик': [
[95 ,75 ,40 ,40 			   ],
undefined						,
[765	,625	,480	,440   ],
[1330	,1090	,835	,765   ],
[1840	,1505	,1155	,1060  ],
[2320	,1895	,1455	,1335  ],
[2770	,2265	,1740	,1595  ],
[3210	,2620	,2015	,1845  ],
[3630	,2965	,2275	,2085  ],
[4040	,3300	,2535	,2320  ],
[4435	,3625	,2785	,2550  ],
[4825	,3945	,3030	,2775  ],
[5210	,4255	,3270	,2995  ],
[5585	,4565	,3505	,3210  ],
[5955	,4865	,3735	,3425  ],
[6320	,5160	,3965	,3635  ],
[6675	,5455	,4190	,3840  ],
[7030	,5745	,4410	,4045  ],
[7380	,6030	,4630	,4245  ],
[7725	,6310	,4845	,4445  ],
[8065	,6590	,5060	,4640  ],
[8405	,6865	,5275	,4835  ]
],		'Копьеносец': [
[145	,70 	,85 	,40    ],
[970	,380	,880	,400   ],
[1115	,590	,795	,440   ],
[1940	,1025	,1385	,765   ],
[2685	,1420	,1915	,1060  ],
[3380	,1790	,2410	,1335  ],
[4040	,2140	,2880	,1595  ],
[4675	,2475	,3335	,1845  ],
[5290	,2800	,3770	,2085  ],
[5885	,3115	,4195	,2320  ],
[6465	,3420	,4610	,2550  ],
[7035	,3725	,5015	,2775  ],
[7595	,4020	,5415	,2995  ],
[8140	,4305	,5805	,3210  ],
[8680	,4590	,6190	,3425  ],
[9210	,4875	,6565	,3635  ],
[9730	,5150	,6940	,3840  ],
[10245	,5420	,7305	,4045  ],
[10755	,5690	,7670	,4245  ],
[11260	,5960	,8030	,4445  ],
[11755	,6220	,8380	,4640  ],
[12250	,6480	,8735	,4835  ]
],		'Топорщик': [
[130	,120	,170	,70    ],
[880	,580	,1560	,580   ],
[1010	,940	,1390	,650   ],
[1760	,1635	,2420	,1130  ],
[2430	,2265	,3345	,1565  ],
[3060	,2850	,4215	,1970  ],
[3660	,3405	,5035	,2355  ],
[4235	,3940	,5830	,2725  ],
[4790	,4460	,6595	,3085  ],
[5330	,4960	,7335	,3430  ],
[5860	,5450	,8060	,3770  ],
[6375	,5930	,8770	,4100  ],
[6880	,6400	,9465	,4425  ],
[7375	,6860	,10150	,4745  ],
[7860	,7315	,10820	,5060  ],
[8340	,7765	,11480	,5370  ],
[8815	,8205	,12130	,5675  ],
[9280	,8640	,12775	,5975  ],
[9745	,9065	,13410	,6270  ],
[10200	,9490	,14035	,6565  ],
[10650	,9910	,14655	,6855  ],
[11095	,10325	,15270	,7140  ]
],		'Скаут': [
[160	,100	,50 	,50    ],
[1060	,500	,600	,460   ],
[1220	,800	,550	,510   ],
[2125	,1395	,960	,890   ],
[2940	,1925	,1325	,1230  ],
[3700	,2425	,1665	,1545  ],
[4420	,2900	,1995	,1850  ],
[5115	,3355	,2305	,2140  ],
[5785	,3795	,2610	,2420  ],
[6440	,4220	,2905	,2690  ],
[7075	,4640	,3190	,2960  ],
[7700	,5050	,3470	,3220  ],
[8310	,5450	,3745	,3475  ],
[8905	,5840	,4015	,3725  ],
[9495	,6225	,4280	,3970  ],
[10075	,6605	,4540	,4210  ],
[10645	,6980	,4800	,4450  ],
[11210	,7350	,5055	,4685  ],
[11770	,7715	,5305	,4920  ],
[12320	,8080	,5555	,5150  ],
[12865	,8435	,5800	,5375  ],
[13400	,8790	,6040	,5605  ]
],		'Паладин': [
[370	,270	,290	,75    ],
[2320	,1180	,2520	,610   ],
[1345	,995	,1115	,345   ],
[2340	,1730	,1940	,600   ],
[3240	,2395	,2685	,830   ],
[4075	,3015	,3380	,1045  ],
[4875	,3605	,4040	,1250  ],
[5640	,4170	,4675	,1445  ],
[6380	,4720	,5290	,1635  ],
[7100	,5250	,5885	,1820  ],
[7800	,5770 ,6465   ,2000  ],
[8485	,6280	,7035	,2175  ],
[9160	,6775	,7595	,2350  ],
[9820	,7265	,8140	,2520  ],
[10470	,7745	,8680	,2685  ],
[11110	,8215	,9210	,2850  ],
[11740	,8685	,9730	,3010  ],
[12360	,9145	,10245	,3170  ],
[12975	,9600	,10755	,3330  ],
[13580	,10045	,11260	,3485  ],
[14180	,10490	,11755	,3640  ],
[14775	,10930	,12250	,3790  ]
],		'Тевтонская конница': [
[450	,515	,480	,80    ],
[2800	,2160	,4040	,640   ],
[1085 ,1235   ,1185   ,240	 ],
[1890	,2150	,2065	,420   ],
[2615	,2975	,2855	,580   ],
[3290	,3745	,3590	,730   ],
[3930	,4475	,4295	,870   ],
[4550	 ,5180	  ,4970   ,1005  ],
[5145	,5860	,5620	,1140  ],
[5725	,6520	,6255	,1265  ],
[6295 ,7160   ,6870    ,1390  ],
[6845	,7790	,7475	,1515  ],
[7390  ,8410	 ,8070	 ,1635	],
[7920	,9015	,8650	,1750  ],
[8445	,9610	,9225	,1870  ],
[8960	,10200	,9785	,1980  ],
[9470	,10780	,10340	,2095  ],
[9970	,11350	,10890	,2205  ],
[10465	,11915	,11430	,2315  ],
[10955	,12470	,11965	,2425  ],
[11440	,13020	,12495	,2530  ],
[11920	,13565	,13020	,2635  ]
],		'Таран германцев': [
[1000	,300	,350	,70    ],
[6100	,1300	,3000	,580   ],
[2365	,735	,885	,215   ],
[4120	,1280	,1540	,375   ],
[5695	,1770	,2130	,520   ],
[7170	,2230	,2685	,650   ],
[8570	,2665	,3205	,780   ],
[9915	,3080	,3710	,900   ],
[11220	,3485	,4200	,1020  ],
[12485	,3880	,4670	,1135  ],
[13715	,4265	,5135	,1245  ],
[14920	,4640	,5585	,1355  ],
[16105	,5005	,6025	,1465  ],
[17265	,5365	,6460	,1570  ],
[18405	,5720	,6890	,1675  ],
[19530	,6070	,7310	,1775  ],
[20640	,6415	,7725	,1875  ],
[21735	,6755	,8135	,1975  ],
[22815	,7090	,8535	,2075  ],
[23880	,7420	,8935	,2170  ],
[24935	,7750	,9330	,2265  ],
[25980	,8075	,9720	,2360  ]
],		'Катапульта': [
[900	,1200	,600	,60    ],
[5500	,4900	,5000	,520   ],
[2365	,735	,885	,215   ],
[4120	,1280	,1540	,375   ],
[5695	,1770	,2130	,520   ],
[7170	,2230	,2685	,650   ],
[8570	,2665	,3205	,780   ],
[9915	,3080	,3710	,900   ],
[11220	,3485	,4200	,1020  ],
[12485	,3880	,4670	,1135  ],
[13715	,4265	,5135	,1245  ],
[14920	,4640	,5585	,1355  ],
[16105	,5005	,6025	,1465  ],
[17265	,5365	,6460	,1570  ],
[18405	,5720	,6890	,1675  ],
[19530	,6070	,7310	,1775  ],
[20640	,6415	,7725	,1875  ],
[21735	,6755	,8135	,1975  ],
[22815	,7090	,8535	,2075  ],
[23880	,7420	,8935	,2170  ],
[24935	,7750	,9330	,2265  ],
[25980	,8075	,9720	,2360  ],
],		'Вождь': [
[35500	,26600	,25000	,27200 ],
[18250	,13500	,20400	,16480 ]
],		'Поселенец германцев': [
[7200	,5500	,5800	,6500  ]
],		'Легионер': [
[120	,100	,180	,40    ],
undefined					   ,
[940	,800	,1460	,440   ],
[1635	,1395	,2540	,765   ],
[2265	,1925	,3515	,1060  ],
[2850	,2425	,4425	,1335  ],
[3405	,2900	,5290	,1595  ],
[3940	,3355	,6120	,1845  ],
[4460	,3795	,6925	,2085  ],
[4960	,4220	,7705	,2320  ],
[5450	,4640	,8465	,2550  ],
[5930	,5050	,9210	,2775  ],
[6400	,5450	,9940	,2995  ],
[6860	,5840	,10660	,3210  ],
[7315	,6225	,11365	,3425  ],
[7765	,6605	,12055	,3635  ],
[8205	,6980	,12740	,3840  ],
[8640	,7350	,13415	,4045  ],
[9065	,7715	,14085	,4245  ],
[9490	,8080	,14740	,4445  ],
[9910	,8435	,15395	,4640  ],
[10325	,8790	,16040	,4835  ]
],		'Преторианец': [
[100	,130	,160	,70    ],
[700	,620	,1460	,580   ],
[800	,1010	,1320	,650   ],
[1395	,1760	,2300	,1130  ],
[1925	,2430	,3180	,1565  ],
[2425	,3060	,4000	,1970  ],
[2900	,3660	,4785	,2355  ],
[3355	,4235	,5535	,2725  ],
[3795	,4790	,6260	,3085  ],
[4220	,5330	,6965	,3430  ],
[4640	,5860	,7655	,3770  ],
[5050	,6375	,8330	,4100  ],
[5450	,6880	,8990	,4425  ],
[5840	,7375	,9635	,4745  ],
[6225	,7860	,10275	,5060  ],
[6605	,8340	,10900	,5370  ],
[6980	,8815	,11520	,5675  ],
[7350	,9280	,12130	,5975  ],
[7715	,9745	,12735	,6270  ],
[8080	,10200	,13330	,6565  ],
[8435	,10650	,13920	,6855  ],
[8790	,11095	,14500	,7140  ]
],		'Империанец': [
[150	,160	,210	,80    ],
[1000	,740	,1880	,640   ],
[1150	,1220	,1670	,720   ],
[2000	,2125	,2910	,1255  ],
[2770	,2940	,4020	,1735  ],
[3485	,3700	,5060	,2185  ],
[4165	,4420	,6050	,2610  ],
[4820	,5115	,7000	,3020  ],
[5455  ,5785   ,7920   ,3415  ],
[6070	,6440	,8815  ,3800  ],
[6670	,7075	,9685	,4175  ],
[7255	,7700	,10535	,4545  ],
[7830	,8310	,11370	,4905  ],
[8395	,8905	,12190	,5255  ],
[8950	,9495	,13000	,5605  ],
[9495	,10075	,13790	,5945  ],
[10035	,10645	,14575	,6285  ],
[10570	,11210	,15345	,6615  ],
[11095	,11770	,16110	,6945  ],
[11610	,12320	,16865	,7270  ],
[12125	,12865	,17610	,7590  ],
[12635	,13400	,18345	,7910  ]
],		'Конный разведчик': [
[140	,160	,20 	,40    ],
[940	,740	,360	,400   ],
[540	,610	,170	,220   ],
[940	,1060	,295	,385   ],
[1300	,1470	,410	,530   ],
[1635	,1850	,515	,665   ],
[1955	,2210	,615	,795   ],
[2265	,2560	,715	,920   ],
[2560	,2895	,805	,1045  ],
[2850	,3220	,895	,1160  ],
[3130	,3540	,985	,1275  ],
[3405	,3850	,1075	,1390  ],
[3675	,4155	,1160	,1500  ],
[3940	,4455	,1240	,1605  ],
[4205	,4750	,1325	,1710  ],
[4460	,5040	,1405	,1815  ],
[4715	,5325	,1485	,1920  ],
[4960	,5605	,1560	,2020  ],
[5210	,5885	,1640	,2120  ],
[5455	,6160	,1715	,2220  ],
[5695	,6430	,1790	,2320  ],
[5930	,6700	,1870	,2415  ]
],		'Конница императора': [
[550	,440	,320	,100   ],
[3400	,1860	,2760	,760   ],
[1315	,1060	,815	,285   ],
[2290	,1845	,1420	,495   ],
[3165	,2555	,1965	,685   ],
[3985	,3215	,2470	,865   ],
[4765	,3840	,2955	,1035  ],
[5515	,4445	,3415	,1195  ],
[6235	,5030	,3865	,1350  ],
[6940	,5595	,4300	,1505  ],
[7625	,6150	,4725	,1655  ],
[8295	,6690	,5140	,1800  ],
[8955	,7220	,5550	,1940  ],
[9600	,7740	,5950	,2080  ],
[10235	,8250	,6345	,2220  ],
[10860	,8755	,6730	,2355  ],
[11475	,9250	,7115	,2485  ],
[12085	,9740	,7490	,2620  ],
[12685	,10225	,7860	,2750  ],
[13280	,10705	,8230	,2880  ],
[13865	,11175	,8595	,3005  ],
[14445	,11645	,8955	,3130  ]
],		'Конница Цезаря': [
[550	,640	,800	,180   ],
[3400	,2660	,6600	,1240  ],
[990	,1145	,1450	,355   ],
[1725	,1995	,2525	,620   ],
[2385	,2755	,3490	,855   ],
[3000	,3470	,4395	,1075  ],
[3590	,4150	,5255	,1285  ],
[4150	,4800	,6080	,1490  ],
[4695	,5430	,6880	,1685  ],
[5225	,6045	,7655	,1875  ],
[5740	,6640	,8410	,2060  ],
[6245	,7225	,9150	,2240  ],
[6740	,7795	,9875	,2415  ],
[7225	,8360	,10585	,2590  ],
[7705	,8910	,11285	,2765  ],
[8175	,9455	,11975	,2930  ],
[8640	,9995	,12655	,3100  ],
[9100	,10520	,13325	,3260  ],
[9550	,11045	,13985	,3425  ],
[9995	,11560	,14640	,3585  ],
[10440	,12075	,15290	,3745  ],
[10875	,12580	,15930	,3900  ]
],		'Таран римлян': [
[900	,360	,500	,70    ],
[5500	,1540	,4200	,580   ],
[2135	,875	,1235	,215   ],
[3715	,1525	,2150	,375   ],
[5140	,2105	,2975	,520   ],
[6470	,2655	,3745	,650   ],
[7735	,3170	,4475	,780   ],
[8950	,3670	,5180	,900   ],
[10125	,4150	,5860	,1020  ],
[11270	,4620	,6520	,1135  ],
[12380	,5075	,7160	,1245  ],
[13470	,5520	,7790	,1355  ],
[14540	,5960	,8410	,1465  ],
[15585	,6390	,9015	,1570  ],
[16615	,6810	,9610	,1675  ],
[17630	,7225	,10200	,1775  ],
[18630	,7635	,10780	,1875  ],
[19620	,8040	,11350	,1975  ],
[20595	,8440	,11915	,2075  ],
[21560	,8835	,12470	,2170  ],
[22510	,9225	,13020	,2265  ],
[23455	,9610	,13565	,2360  ]
],		'Огненная катапульта': [
[950	,1350	,600	,90    ],
[5800	,5500	,5000	,700   ],
[1125	,1590	,735	,130   ],
[1960	,2770	,1280	,225   ],
[2710	,3830	,1770	,315   ],
[3410	,4820	,2230	,395   ],
[4075	,5760	,2665	,470   ],
[4715	,6665	,3080	,545   ],
[5335	,7540	,3485	,615   ],
[5940	,8390	,3880	,685   ],
[6525	,9220	,4265	,755   ],
[7100	,10030	,4640	,820   ],
[7660	,10825	,5005	,885   ],
[8215	,11610	,5365	,950   ],
[8755	,12375	,5720	,1010  ],
[9290	,13130	,6070	,1075  ],
[9820	,13875	,6415	,1135  ],
[10340	,14610	,6755	,1195  ],
[10850	,15340	,7090	,1255  ],
[11360	,16055	,7420	,1315  ],
[11860	,16765	,7750	,1370  ],
[12360	,17465	,8075	,1430  ]
],		'Сенатор': [
[30750	 ,27200   ,45000   ,37500],
[15880	 ,13800   ,36400   ,22660]
],		'Поселенец': [
[5800	 ,5300	  ,7200    ,5500 ]
]
		};
	var calcDb = {
		'Ресурсы': [
				'Глиняный карьер', 'Железный рудник', 'Лесопилка', 'Ферма',
				'Амбар', 'Большой амбар', 'Склад', 'Большой склад',
				'Кирпичный завод', 'Чугунолитейный завод', 'Деревообрабатывающий завод', 'Мукомольная мельница', 'Пекарня'
			],
		'Инфраструктура': [
				'Главное здание', 'Дворец', 'Камнотес', 'Посольство', 'Ратуша',
				'Резиденция', 'Рынок', 'Сокровищница', 'Тайник', 'Торговая палата', 'Чудо Света'
			],
		'Военные': [
				'Пункт сбора', 'Изгородь', 'Земляной вал', 'Городская стена',
				'Академия', 'Кузница оружия', 'Кузница доспехов', 'Арена',
				'Казарма', 'Конюшня', 'Мастерская', 'Большая казарма', 'Большая конюшня',
				'Таверна', 'Капканщик'
			],
	};
	var armyDb = {
		'Войска Галлов': [
				'Фаланга', 'Мечник', 'Следопыт', 'Тевтатский гром', 'Друид-всадник', 'Эдуйская конница', 'Таран галлов',
				'Требучет', 'Предводитель', 'Поселенец галлов'
			],
		'Войска Германцев': [
				'Дубинщик', 'Копьеносец', 'Топорщик', 'Скаут', 'Паладин', 'Тевтонская конница', 'Таран германцев',
				'Катапульта', 'Вождь', 'Поселенец германцев'
			],
		'Войска Римлян': [
				'Легионер', 'Преторианец', 'Империанец', 'Конный разведчик', 'Конница императора', 'Конница Цезаря',
				'Таран римлян', 'Огненная катапульта', 'Сенатор', 'Поселенец'
			]
	};

	var timer=1; for(; document.getElementById("timer"+timer); timer++) ;
	function travtmfmt(hrs) {
	  var h = Math.floor(hrs);
	  var m = Math.floor((hrs-h)*60);
	  var s = Math.ceil(((hrs-h)*60-m)*60);
	  return h+":"+(m<10?"0":"")+m+":"+(s<10?"0":"")+s;
	}
	var travDate = new Date(document.getElementById("tp1").innerHTML);
	function travtmenfmt(hrs) {
	  var date = new Date(travDate);
	  var futdate = new Date(travDate);
	  var expdate = futdate.getTime();
	  expdate += hrs*3600*1000; //expires in 1 hour(milliseconds)
	  futdate.setTime(expdate);
	  var ds = "";
	  if (futdate.getDate()!=date.getDate() && hrs > 24) {
		  ds += futdate.getYear() + "-";
		  var m = futdate.getMonth()+1;
		  ds += (m<10?"0":"")+m + "-";
		  var d = futdate.getDate();
		  ds += (d<10?"0":"")+d + " ";
	  }
	  var h=futdate.getHours();
	  var m=futdate.getMinutes();
	  var s=Math.max(0, futdate.getSeconds());
	  return ds+h+":"+(m<10?"0":"")+m+":"+(s<10?"0":"")+s;
	}

	// Fetch info about all buildings
	var maps = document.getElementsByTagName("map");
	var b = [];
	for(var m=0; m<maps.length; m++) if (maps[m].name.match(/^(map[12]|rx)$/)) {
		var areas = maps[m].areas;
		if (areas.length)
		{
			for(i=0; i<areas.length; i++) {
				var id = areas[i].href.match(/id=([0-9]+)/);
				if(id) {
					var re = new RegExp("^(.*?)(?: "+map4("Уровень")+")?([ ]+[0-9]+)?$", "i");
					var name = re.exec(areas[i].title);
					b[id[1]] = {'n': name[1], 'l': parseInt(name[2]), 'i': id[1]};
				}
			}
		}
	}

  // step1: get your current harvesting
  var harv = new Array();
  var harvsum = 0;
  var harvsuminc = 0;
  var j=0;
  for (var i=4; i>=1; i--)
  {
	  var hx = document.getElementById("l"+i);
	  var h = hx.innerHTML.match(/([0-9]+)\/([0-9]+)/);
	  harv[j++] = new Array(hx.getAttribute("title")*1, h[1]*1, h[2]*1);
	  harvsum += h[1]*1;
	  harvsuminc += hx.getAttribute("title")*1;
  }

  function travtime(m0, m1, m2, space) {
	  var st = "", wait=0;
	  if (m0<0) {
		wait = -m1/m0;
		st = " style='color:red;'";
	  } else
	  if (m0==0) {
	  } else  {
		wait = (m2-m1)/m0;
	  }
	  if(!space) space = " ";
	  if (m0) {
		return " (<span id=timer" + (timer++) + st + ">" + travtmfmt(wait) + "</span>;" + space + travtmenfmt(wait) + ")";
	  } else {
		return "(-never-)";
	  }
  }
  var resrs = new Array("Дерево", "Глина", "Железо", "Зерно");

	if (b.length)
	{
		var r = [];
		for(var bld in b) if (parseInt(bld)) {
			var l = "";
			l = "<td>"+b[bld].i;
			l+= "<td nowrap=''><a href='build.php?id="+b[bld].i+"'>"+b[bld].n+"</a>";
			l+= "<td>["+b[bld].l+"]";
			if (db[map2(b[bld].n)] && db[map2(b[bld].n)][b[bld].l])
			{
				l += "<td nowrap=''>=&gt; ["+(b[bld].l+1)+"]<td nowrap=''>";
				l += '<table class="f10"><tr><td nowrap="">';
				s = 0;
				for(i=0; i<6; i++) {
					if (i) l+= " | ";
					if (i<5) {
					  l += '<img class="res" src="img/un/r/'+(i+1)+'.gif">';
					  l += db[map2(b[bld].n)][b[bld].l][i];
					} else {
					  l += 'EK=';
					  l += db[map2(b[bld].n)][b[bld].l][i]-(b[bld].l?db[map2(b[bld].n)][b[bld].l-1][i]:0);
					}
					if (i<4) s += db[map2(b[bld].n)][b[bld].l][i];
				}
				l += "</tr></table>";
				s = 0; for(i=0; i<4; i++) s += db[map2(b[bld].n)][b[bld].l][i];
				l += "<td nowrap=''>";
				if (harvsum >= s) l += "<font color=green><b>";
				l += "Надо: "+s+"/"+harvsum;
				if (harvsum >= s) l += "</b></font>";
				if (harvsum < s) l += " ждать: " + travtime(harvsuminc, harvsum, s);
				var wm = 0; wi = -1;
				var need = db[map2(b[bld].n)][b[bld].l];
				for(var j=0; j<4; j++)
				{
					if (need[j] > harv[j][1] && need[j] <= harv[j][2]) {
						var wc = (need[j]-harv[j][1])/harv[j][0];
						if (wc > wm)
						{
							wm = wc;
							wi = j;
						}
					}
				}
				for(var j=0; j<4; j++)
				{
					if (need[j] > harv[j][1])
					{
						l += "<td nowrap=''><img src='img/un/r/"+(j+1)+".gif' alt='"+resrs[j]+"'>: ";
						/*if (need[j] > harv[j][2])
							l += "<font color=red>";
						l += need[j]+"/"+harv[j][1];
						if (need[j] > harv[j][2])
							l += "</font>";*/
						if (need[j] > harv[j][2])
						{
							l += "(нет места "+(j<3?"на складе":"в амбаре")+")";
						} else {
							if (j==wi) l += "<b>";
							var needtime = (need[j]-harv[j][1])/harv[j][0];
							l += travtime( harv[j][0], harv[j][1], need[j] );
							if (j==wi) l += "</b>";
						}
					}
				}
				l += "</nobr>";
			}
			r[r.length] = l;
		}
		var sp = crEl("div");
		sp.style.float = 'left';
		sp.style.clear = 'both';
		sp.innerHTML = "<hr/>"+"<table border=0>"+r.join("<tr>")+"</table>";
		document.body.appendChild(sp);
	}

	// Balancer
	if(document.location.href.match(/&t=3/)) {

	  var tbg = getElementsByClass("tbg", document.body, "table")[0];
	  if(!tbg) tbg = document.getElementById("npc");
	  tbg.appendChild(crEl("tbody"));

	  function addNeed(need)
	  {
		  var tr = crEl("tr");
		  var sum = 0;
		  var resObj = document.getElementsByName("m2[]");
		  for(var i=0; i<4; i++) {
			  var td = crEl("td");
			  td.appendChild(document.createTextNode(need[i]));
			  sum += need[i];
			  resObj[i].value = parseInt(resObj[i].value ? resObj[i].value : "0") + need[i];
			  tr.appendChild(td);
		  }
		  var td = crEl("td");
		  td.appendChild(document.createTextNode("Сумма: "+sum));
		  tr.appendChild(td);
		  var a = crEl("a");
		  a.href="javascript:calculateRest();";
		  a.onclick = (function(tr,need){ return function() {
			  for(i=0; i<4; i++) {
				  var res = parseInt(resObj[i].value ? resObj[i].value : "0") - need[i];
				  resObj[i].value = res < 0 ? 0 : res;
			  }
			  if(tr.parentElement) tr.parentElement.removeChild(tr); else
			  if(tr.parentNode) tr.parentNode.removeChild(tr);
		  }; })(tr, need);
		  a.innerHTML = "&mdash;";
		  td.appendChild(a);
		  tbg.tBodies[1].appendChild(tr);
	  }

	  { // Free input
		  var tr = crEl('tr'); tbg.tBodies[0].appendChild(tr);
		  for(var i=0; i<4; i++) {
			  var td = crEl('td'); tr.appendChild(td);
			  var inp = crEl('input');
			  inp.setAttribute("name",'free[]');
			  inp.setAttribute("class","fm text");
			  inp.setAttribute("size", 6);
			  inp.setAttribute("maxlength", 8);
			  inp.onkeyup = function() {
				  var free = document.getElementsByName("free[]");
				  var need = []; for(i=0; i<4; i++) need[i] = parseInt(free[i].value ? free[i].value : "0");
				  document.getElementById('freesum').innerHTML = need[0]+need[1]+need[2]+need[3];
			  }
			  td.appendChild(inp);
		  }
		  var td = crEl('td'); tr.appendChild(td);
		  td.appendChild(document.createTextNode("Сумма: "));
		  var sp = crEl('span'); td.appendChild(sp); sp.id = 'freesum'; sp.innerHTML = '0';
		  var a = crEl("a");
		  a.href="javascript:calculateRest();";
		  a.onclick = function() {
			  var free = document.getElementsByName("free[]");
			  var need = []; for(i=0; i<4; i++) need[i] = parseInt(free[i].value ? free[i].value : "0");
			  document.getElementById('freesum').innerHTML = need[0]+need[1]+need[2]+need[3];
			  addNeed(need);
		  }
		  a.innerHTML = "+";
		  td.appendChild(a);
	  }
	  { // Buildings
		  var tr = crEl('tr'); tbg.tBodies[0].appendChild(tr);
		  var td = crEl('td'); td.setAttribute('colspan', 5); tr.appendChild(td);
		  td.appendChild(document.createTextNode("Постройка: "));
		  var sel = crEl('select');
		  var lvl = crEl('select');
		  lvl.id = 'newBuildingLevel';
		  sel.id = 'newBuilding';
		  sel.onchange = function() {
			  var lvl = document.getElementById('newBuildingLevel');
			  var lvlval = lvl.value;
			  lvl.options.length = 0;
			  for(i=0; i<db[this.value].length; i++) {
				  lvl.appendChild(newOption(i+1, i));
			  }
			  if (lvlval >= db[this.value].length) lvlval = db[this.value].length-1;
			  lvl.value = lvlval;
		  }
		  var f = "";
		  for (var opt in calcDb)
		  {
			  var optgr = crEl('optgroup');
			  optgr.label = opt;
			  for (bldid=0; bldid<calcDb[opt].length; bldid++)
			  {
				var bld = calcDb[opt][bldid];
				if (f=="") f = bld;
				optgr.appendChild(newOption(bld, bld));
			  }
			  sel.appendChild(optgr);
		  }

		  for(i=0; i<db[f].length; i++)
			  lvl.appendChild(newOption(i+1, i));
		  td.appendChild(sel);
		  td.appendChild(lvl);
		  var a = crEl("a");
		  a.href="javascript:calculateRest();";
		  a.onclick = function() {
			  addNeed(db[document.getElementById('newBuilding').value][document.getElementById('newBuildingLevel').value]);
		  }
		  a.appendChild(document.createTextNode("Добавить"));
		  td.appendChild(a);
	  }
	  { // Army
		  var tr = crEl('tr'); tbg.tBodies[0].appendChild(tr);
		  var td = crEl('td'); td.setAttribute('colspan', 5); tr.appendChild(td);
		  td.appendChild(document.createTextNode("Армия: "));
		  var sel = crEl('select');
		  var lvl = crEl('select');
		  var rep = crEl('select');
		  lvl.id = 'newArmyLevel';
		  sel.id = 'newArmy';
		  rep.id = 'newArmyCnt';
		  rep.appendChild(newOption(1,1));
		  rep.appendChild(newOption(10,10));
		  rep.appendChild(newOption(25,25));
		  rep.appendChild(newOption(50,50));
		  rep.appendChild(newOption(100,100));
		  sel.onchange = function() {
			  var lvl = document.getElementById('newArmyLevel');
			  var lvlval = lvl.value;
			  lvl.options.length = 0;
			  for(i=0; i<army[this.value].length; i++) {
				  var desc;
				  if (i==0) desc = "Юнит";
				  else if (i==1) desc = "Изучение";
				  else desc = "Ап "+(i-1);
				  if(army[this.value][i])lvl.appendChild(newOption(desc, i));
			  }
			  if (lvlval >= army[this.value].length) lvlval = army[this.value].length-1;
			  lvl.value = lvlval;
		  }
		  var f = "";
		  for (var opt in armyDb)
		  {
			  var optgr = crEl('optgroup');
			  optgr.label = opt;
			  for (bldid=0; bldid<armyDb[opt].length; bldid++)
			  {
				var bld = armyDb[opt][bldid];
				if (f=="") f = bld;
				optgr.appendChild(newOption(bld,bld));
			  }
			  sel.appendChild(optgr);
		  }

		  for(i=0; i<army[f].length; i++) {
			  var desc;
			  if (i==0) desc = "Юнит";
			  else if (i==1) desc = "Изучение";
			  else desc = "Ап "+(i-1);
			  if(army[f][i]) lvl.appendChild(newOption(desc, i));
		  }
		  td.appendChild(sel);
		  td.appendChild(lvl);
		  td.appendChild(rep);
		  var a = crEl("a");
		  a.href="javascript:calculateRest();";
		  a.onclick = function() {
			  var oneed = army[document.getElementById('newArmy').value][document.getElementById('newArmyLevel').value];
			  var need = new Array();
			  var cnt = parseInt(document.getElementById('newArmyCnt').value);
			  for(var i=0; i<oneed.length; i++) need[i]=oneed[i]*cnt;
			  addNeed(need);
			  if(document.getElementById('newArmyLevel').value>0)
				  document.getElementById('newArmyLevel').value++;
		  }
		  a.appendChild(document.createTextNode("Добавить"));
		  td.appendChild(a);
	  }
	}
})();
