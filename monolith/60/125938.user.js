// ==UserScript==
// @name           Google maps + Amapy.cz + selection of maps
// @namespace      none
// @description    Adds Google map, google satelite map, Google habrid map, Google terrain map, Amapy.cz. You can also disable maps
// @include        *geocaching.com/map*
// ==/UserScript==

GM_registerMenuCommand('Disable map',function(){GM_setValue('numbers',prompt('Insert numbers of maps you want to disable, separated by commas.', GM_getValue('numbers','')));window.location.reload();});var z=GM_getValue('display', '');var h1;var txt;if(!z){h1="Hide numbers";txt="Hide numbers of maps?";}else{h1="Display numbers";txt="Display numbers of maps?";}GM_registerMenuCommand(h1,function(){if(confirm(txt)){if(z){z=false;}else{z=true;}}GM_setValue('display',z);window.location.reload();});layers = unsafeWindow.Groundspeak.Map.MapLayers;layers.unshift({tileUrl:"http://mt.google.com/vt?&x={x}&y={y}&z={z}",name:"googlemaps",alt:"Google maps",attribution:"Google maps",subdomains:"1234",tileSize:256,minZoom:0,maxZoom:22},{tileUrl:"http://mt.google.com/vt?lyrs=s&x={x}&y={y}&z={z}",name:"googlemapssat",alt:"Google satelit",attribution:"Google maps Satelit",subdomains:"1234",tileSize:256,minZoom:0,maxZoom:22},{tileUrl:"http://mt.google.com/vt?lyrs=y&x={x}&y={y}&z={z}",name:"googlemapssat",alt:"Google hybrid",attribution:"Google hybrid",subdomains:"1234",tileSize:256,minZoom:0,maxZoom:22},{tileUrl:"http://mt.google.com/vt?lyrs=p&x={x}&y={y}&z={z}",name:"googlemapssat",alt:"Google terrain",attribution:"Google terrain",subdomains:"1234",tileSize:256,minZoom:0,maxZoom:22},{tileUrl:"http://maps11.i0.cz/mps/ch_turis/{z}/{x}/{x}_{y}.gif",name:"amapy",alt:"Amapy turisticka",attribution:"Amapy turisticka",tileSize:256,minZoom:13,maxZoom:16});if(!GM_getValue('display', 'false')){for(i=0;i<layers.length;i++){layers[i].alt+=" ("+(i+1)+")";}}function compare(a,b){return a-b;}var numbers = GM_getValue('numbers', '').split(",").sort(compare).reverse();for(i=0;i<numbers.length;i++){layers.splice(numbers[i]-1,1);}
