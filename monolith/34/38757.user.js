// ==UserScript==
// @name           Universal Post Bar
// @namespace      http://userscripts.org/scripts/show/38757
// @description    Quickly post any page to common online services
// @include        http://*
// @exclude        https://*
// @exclude        *.txt
// @exclude        *.js
// @exclude        *.css
// @version        2009/04/15
// ==/UserScript==

var shortenedURL = "";

function gm_post_bar_twit_trigger()
{
   if(shortenedURL != "")
   {
      //Twit with current URL
      varBody.appendChild(document.createElement('script')).innerHTML = "gm_twitter_window.document.location='http://twitter.com/home?status=" + encodeURIComponent(document.title) + " - Source: " + shortenedURL + "';\ngm_twitter_window.focus();";
   }
   else
   {
      //Standard is.gd url is 17 chars long
      //No point in using a URL shortener if the current URL is shorter than that
      if(window.location.href.length > 17)
      {
         //Get URL and then Twit
         GM_xmlhttpRequest({
            method:"GET",
            url:"http://is.gd/api.php?longurl=" + encodeURIComponent(window.location.href),
            headers:
            {
               "User-Agent":"Mozilla/5.0",
               "Accept":"text/xml"
            },
            onload:function(response)
            {
               //alert([
               //   response.status,
               //   response.statusText,
               //   response.readyState,
               //   response.responseHeaders,
               //   response.responseText,
               //   response.finalUrl
               //].join("\n"));

               if(response.status == 200 && response.readyState == 4)
               {
                  shortenedURL = response.responseText;
                  gm_post_bar_twit_trigger();
               }
               else
               {
                  //alert("Error: is.gd has returned status " + response.status + " with the error:\n\n==========\n" + response.responseText + "\n==========\n\nThis may mean that the server is down, or this URL is blacklisted. You will be able to tweet the full URL");
                  shortenedURL = encodeURIComponent(window.location.href);
                  gm_post_bar_twit_trigger();
               }
            }
         });
      }
      else
      {
         //URL already short. Continue with original URL
         shortenedURL = encodeURIComponent(window.location.href);
         gm_post_bar_twit_trigger();
      }
   }
}

if(window==parent)
{
// Embedded Images
   var postButton = "data:image/gif;base64,R0lGODlhFAA6APEAAAAAAP8AAMzM/wAAACH5BAEAAAEALAAAAAAUADoAAAKIjC+puxcMGYpUmFpfAgA3xXlRKDJkCXLqukLsq7odmtK1LZz4zt9bTAHmWCPdbFhcGI8+ZPOnNDGh1Odwtpz+hFUZs0XT9cZBogfGlWrT1m7bKpbKMPG4cq29J/fefhkt8kI2WMT2B0Z3YqjHWCFm1+g2F8knaZGCBqZxlUlygTNB42Dj8ClSAAA7";

   var blinklistIcon = "data:image/gif;base64,R0lGODlhEAAQAPcAAAQCBFxeZISGjCwuLHR2fERGRFxuhJSapBwaHDQ6PJymtGRqbJyitBwiJFxidDQ2NExSVFRulJyirDxCRAwODJSWpCwuNHx+hJSerCQmJFxibIyOlHR6fERGTFxujJSepBweHDw+RKSqtGxudCQiJFxmdFRWXFxulERCRBQSFDQyNAAAAEgAAOYAABIAAAAAAGgAAADpAAASAAAAAGjfAOfHABIEAAAQAAAAAOkAAJAAAHwBAEAAAAAAAJEAAHwAAP+YyP/s6v8SEv8AAD0AoQAA85EABHwAEG0AAOfqAIESAHwAAQAAAAAAABUAAAAAAGAAmAMA7AAAEgAAAOgIYLAA6Ru2EgAAAEiIAG/E6hUBEgAAAAD8AADXAACQAAB8AH54AABUAAAAAMAAAAAAAAAAAAAAAAAAAP8AAP8AAP8AAP8AAf8AS/8AAP8AAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABUAAAAAAC7c8OoJngAAgAAAfHjwAOcWABIAAAAAAIcAAOsAAIEAAHwAADMBB+MAAIEAAHwAAGAAANoAAFAAAAAAAEgAAG8AEAEAFgAAAGwAAAAAAAAAAAAAALQuAObqABIAAAAAADSQAADoAAASAMAAAAidAPwrABKDAAB8AAAA+OkAnpAAgHwAfEAA/wAA/5EA/3wA//8A8P8Anv8AgP8AfD0AWgABAJEAAHwAANoBWvQsAICDAHx8AAC0hADo7hUSEgAAAADc/wAr/wCD/wB8/0gAAG8AABUAAAAAAAAYvAEA6QAAEgAAAABMBgBknQCDTAB8AOcAnPQA6YAAEnwAAKC4d+jpcBISTwAAAEiF0G9k6RWDEgB8AABETACNZABPgwAAfABgqgCY6wBPEgAAAAAApAAB/wAA/wAAfwC0UADo6wASEgAAAAAAAAABAAAAAAAAAACgTABkZACDgwB8fAABAAAAAAAAAAAAAAAALgAw6gAAAAAAAAAAAAAAEAAAFgAAAAAAgQAARQAASAAAACH5BAEAAEEALAAAAAAQABAABwhzAIMIHEiwoMGDCAUeWHggYZADAjAoUIBhQ0ODBxiIEDGRo4KLBTdI2LhRgQgGIEsQXNjRJIGBJzwY0KDwA0eOGwZG2BnBwMMDJk3mFBhzZs2bCoYGUTmQZVARL0OOJGkSZcGMJYN+PAhRIkWLDhmCdJgwIAA7";
   var deliciousIcon = "data:image/gif;base64,R0lGODlhEAAQAPcAAAQCBNTS1DR21Pz+/PkAACQAAAAAAAAAAH8AACIAAAAAAAAAAAAAAAAAABUAAAAAAA9OAAAAAABWAAAAAAA0AAIAAABfAAAAAABEAAMAAABJAAAAAEBTAOcAABJQAAAAANEAAOUAAIEAAHwAAAAAAAAAAAEAAAAAAFYAAAAAAAAAAAAAAEgAAOYAABIAAAAAAHMAAAAAAAAAAAAAAGgAAOcAABIAAAAAAAAAAOkAAJAAAHwAAEAAAAAAAJEAAHwAAP8AyP8A6v8AEv8AAD0AoQAA85EABHwAEG0AAOcAAIEAAHwAAQAAAAAAABUAAAAAAGABmAME7AABEgAEAAi8YG4A6RgAEgAAAEigAG8A6hV+EgAAAAAAAAAAAAAAAAAAAH4AAAAAAAAAAMAAAAAAAAAAAAAAAAAAAP8AAP8AAP8AAP8AAf8AS/8AAP8AAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABUAAAAAAO0A8AsAngAAgAAAfHgAAOcAABIAAAAAAIcAAOsAAIEAAHwAADMAB+MAAIEAAHwAAGAAANoAAFAAAAAAAEgAAG8AEAEAFgAAAGwAAAAAAAAAAAAAALTtAOYLABIAAAAAADSQAADoAAASAMAAAAidAPwrABKDAAB8AAAA+OkAnpAAgHwAfEAA/wAA/5EA/3wA//8A8P8Anv8AgP8AfD0AUQABAJEAAHwAANoBUfQsAICDAHx8AAC0hADo7hUSEgAAAADc/wAr/wCD/wB8/0gAAG8AABUAAAAAAAAYvAEA6QAAEgAAAABMBgBknQCDTAB8AOcAnPQA6YAAEnwAAKC4d+jpcBISTwAAAEiF0G9k6RWDEgB8AABETACNZABPgwAAfABgoQCY6wBPEgAAAAAArQAB/wAA/wAAfwC0UADo6wASEgAAAAAAAAABAAAAAAAAAACgTABkZACDgwB8fAABAAAAAAAAAAAAAAAA7QAwCwAAAAAAAAAAQAAAEwAAFgAAAAAAgQAARQAASAAAACH5BAAAAAAALAAAAAAQABAABwhGAAcIHChQgMGDBgkSRIhQ4UCGBx0WhChA4gCKFSVitLhRI0UAIEOCDECyJEmRIk2aRBlSZUmWI10GgAlA5kyYNmnmxCkzIAA7";
   var diggIcon = "data:image/gif;base64,R0lGODlhEAAQAPcAAAQCBJyanMzOzOzq7Nze3PT29NTW1PTy9OTm5Pz+/KyqrNTS1Ozu7OTi5Pz6/Nza3A8AgAAAAAAAEAAAgAAACAIA/AAAEgAAAAAAAAMA6QAAkAAAfLSo4MeIABI7+wAAANEA/+UA/4EA/3wA/wAADwAAAQEAAAAAAFYADQAA/wAAkAAAfLwA0MYAyRIAEgAAAGgAGAAAAAAAAAAAANwAAMcAABIAAAAAAAAAAOkAAJAAAHwAAEAAAAAAAJEAAHwAAP8A2P8AAP8A+/8AAD1QUAAJCZH7+3wAAG2wmOfIyYESEnwAAAAAFgAAChUVkQAAfGAC1gMCAACRAAB8AHhFUFcACRgA+wAAAEh4AG8TABUVOwAAAAAAoAAAyQAVEgAAAH7QAABSAAAWAMAAAACImADIAAASkQAAfP8AyP8APf8AO/8AAP/MbP/Kyv8SEv8AAAAAIQDpAACQkQB8fAAI2AACBwCROwB8AAD/PQD/ABX/kQD/fMEC8G8CngCRgAB8fOx7AMcBABKRAAB8AIe7AOsBAIGRAHx8ADMAB+MAAIEAAHwAAGAAANrOAFASAAAAAEjYAG/NgAESGQAAAGwAAAAAAAAAAAAAACjBAMdvABIAAAAAADQEAADJAAASAMAAAAidAPwrABKDAAB8AAAA+OkAnpAAgHwAfEAA/wAA/5EA/3wA//8A8P8Anv8AgP8AfD0AWAABAJEAAHwAANoBWPQsAICDAHx8AAAo5ADJ3BUSEgAAAADc/wAr/wCD/wB8/0gAAG8AABUAAAAAAAAYMAEAygAAEgAAAABMBgBknQCDTAB8AOcAEPQAyoAAEnwAABQsd8nKcBISTwAAAEiFRG9kyhWDEgB8AABETACNZABPgwAAfABgHACYzABPEgAAAAAApgAB/wAA/wAAfwAoxADJywASEgAAAAAAAAABAAAAAAAAAACgTABkZACDgwB8fAABAAAAAAAAAAAAAAAAwQAwbwAAAAB8AAio8ACIggA7GQAAAAD/gQD/RQD/SAD/ACH5BAEAAAAALAAAAAAQABAABwiVAAEIHEiwoMGBChImDEAwgEOECSImCEBAYICIDhgCUJCgwAAEAQwAuJjAAQMCARImYIAA5cKOBxoYCOCAYwMCM2dePIBTQIACDoOGdJigp8+TBAg8MLCUodCUHBl8vPnQIsSpSgM8GKhxYwIEN3FStFjVJgEFBmZWJDnRK060PtcWYMCAIce0CgT43Pp05FOHFQ8KDggAOw==";
   var diigoIcon = "data:image/gif;base64,R0lGODlhEAAQAJEAANLt/wCZ/////wAAACH5BAAAAAAALAAAAAAQABAAAAIulI9pwSocDgRqLkaTNaC7njni01QleV6YCkDNZoEdvGr1htBBKN11/gN9PCNHAQA7";
   var facebookIcon = "data:image/gif;base64,R0lGODlhEAAQAKIAAGF5rEVinmB4q+vu9G2EtP///ztZmAAAACH5BAAAAAAALAAAAAAQABAAAAM4WLrcCibKGYGiWN4sxt6Y9xWZAZpkdp6R06bTIMpvucLUbeNKQPxAggIY6AWBw1+xAClJLI7oIgEAOw==";
   var googleIcon = "data:image/gif;base64,R0lGODlhEAAQAPcAAAQCBASCLFSCvCRKjOyqBKzKtLzazDxmLNyyTERupNTq5CSSVNSqLARSvASWLOS2BNzq9NQCBIwqDASCRISivORGRPz27AROpAR6PASOLOSuBMwSBLzO5AxevPzGBISq1Ozu/OwCBCRenARmzASSPPS6FAR2HOzGfPTq1PS+DPTy7MQqLPT6/CRapBx6TASKPPSyFNzi7KS61ASCPFSOzAxKnNyiHNzOlNy2XFR+tEymbMyyPARavPS2DOQODAR6RARizAR2NPTW1PSyRCRutOSqLASWNOzy7OQCBLQiFByGTJyynBxWpASKNPSyDMza5ARexPwCBASaPPzy1Pz+/KS+3ASGPGySxBROnOzetOymDNTi3OTu5CSaVMymNARWvOy2BNwCBASGRNxSVPz69AR+PNyyDMQaBAxivPzCDISu1Ozy/PQCBDxenDx+vASWPBxyJPTu3Pzy7MQ+PPz6/CRepASOPPSyHNzm9Ky+1FySzBRKnPSqHPTOlESqbARaxPS6DIS6nOy2TBRWrOzy9Mza7AR+RAR6NASaNLQmFCxutAyKNAyGPNrOAFASAAAAAEjYAG/NgAESGQAAAGwAAAAAAAAAAAAAACjBAMdvABIAAAAAADQEAADJAAASAMAAAAidAPwrABKDAAB8AAAA+OkAnpAAgHwAfEAA/wAA/5EA/3wA//8A8P8Anv8AgP8AfD0AWAABAJEAAHwAANoBWPQsAICDAHx8AAAo5ADJ3BUSEgAAAADc/wAr/wCD/wB8/0gAAG8AABUAAAAAAAAYMAEAygAAEgAAAABMBgBknQCDTAB8AOcAEPQAyoAAEnwAABQsd8nKcBISTwAAAEiFRG9kyhWDEgB8AABETACNZABPgwAAfABgHACYzABPEgAAAAAApgAB/wAA/wAAfwAoxADJywASEgAAAAAAAAABAAAAAAAAAACgTABkZACDgwB8fAABAAAAAAAAAAAAAAAAwQAwbwAAAAB8AAgI8ACQggA7GQAAAAD/gQD/RQD/SAD/ACH5BAAAAAAALAAAAAAQABAABwj/AAFQeVKnhhoqcuZEiMKQTQgAdKgI4AEEDR4qQnwwjOIQCRU6RKCM+HOQToWGDsN8dPNnJA0qVMawaYhEJZUPDUZ8ufJxxZlESTaEiRCDCiEiDTpwoLIEjpE3JJockFAnD5U1VYoGCiDlzVMSJMQwwZKAAkwDJhCpJfHGjh0rLZjU2AOBCpcuDt54JWHnxYsBbXJcKQTziJ8MUPm+mCEDBBUUWW6o+KgjgxESL6xYebxDwwMNDFBQUcCob+YZZLyA8ZAmBQEEHxc0eTuhTBwbJQD1gHGnCBkWSqyIsWIIAxUcWu7w5nOCSoEgM2aUwfADgJwTgoYI6kNmi4tDZX5QAwcQEAA7";
   var myspaceIcon = "data:image/gif;base64,R0lGODlhEAAQAPcAAAQCdGSanDRmZJzOzAQyZMz+/AQynGSazDRmnPTy9GQynDQCnMzO/DQynDRmzPz69AQChJyanNze3DQyZAQypJyazGRmnPz+/AAAAAEA6QAAkAAAfLQISMeQABI7+wAAANEA/+UA/4EA/3wA/wAALwAAAQEAAAAAAFYADQAA/wAAkAAAfLwA0MYAyRIAEgAAAGgAGAAAAAAAAAAAANwAAMcAABIAAAAAAAAAAOkAAJAAAHwAAEAAAAAAAJEAAHwAAP8AQP8AAP8A+/8AAD24uAAJCZH7+3wAAG2wmOfIyYESEnwAAAAAFgAAChUVkQAAfGACyQMCAACRAAB8AHhFuFcACRgA+wAAAEh4AG8TABUVOwAAAAAAoAAAyQAVEgAAAH6AAACGAAAZAMAAAACImADIAAASkQAAfP8AyP8APf8AO/8AAP/MbP/Kyv8SEv8AAAAAIQDpAACQkQB8fAAI2AACBwCROwB8AAD/PQD/ABX/kQD/fMEC8G8CngCRgAB8fOx7AMcBABKRAAB8AIe7AOsBAIGRAHx8ADMAB+MAAIEAAHwAAGAAANrOAFASAAAAAEjYAG/NgAESGQAAAGwAAAAAAAAAAAAAACjBAMdvABIAAAAAADQEAADJAAASAMAAAAidAPwrABKDAAB8AAAA+OkAnpAAgHwAfEAA/wAA/5EA/3wA//8A8P8Anv8AgP8AfD0AWQABAJEAAHwAANoBWfQsAICDAHx8AAAo5ADJ3BUSEgAAAADc/wAr/wCD/wB8/0gAAG8AABUAAAAAAAAYMAEAygAAEgAAAABMBgBknQCDTAB8AOcAEPQAyoAAEnwAABQsd8nKcBISTwAAAEiFRG9kyhWDEgB8AABETACNZABPgwAAfABgHQCYzABPEgAAAAAApQAB/wAA/wAAfwAoxADJywASEgAAAAAAAAABAAAAAAAAAACgTABkZACDgwB8fAABAAAAAAAAAAAAAAAAwQAwbwAAAAB8AAgI8ACQggA7GQAAAAD/gQD/RQD/SAD/ACH5BAAAAAAALAAAAAAQABAABwigAC88uCAwAQMJCRIcINAgQAKCCQZEKLCQQIUKBgwQMFBhoASNFQA0MIDgQMaMFh4WmMBRAMoAADJafJjAAgIJDBBYYFAAAcsGCS9YyNgQAYKOCiskHOhA5kkDB0YamDDg4dCnTzdmHHChKdavBhQIJcAQ7MkGFxDmdPpVAMQEUs2iJXhBAFkCC7AyhHiBZgKvTxHQfdi35tcJfAd71cowIAA7";
   var newsvineIcon = "data:image/gif;base64,R0lGODlhEAAQAPcAAAQCBPz+/ARWJAAAfOEAACEAAAAAAAAAADEARR8AAAAAAAAAAAAABwAAABUAAAAAAA8AgAAAAAAAEAAAgAAACAIA/AAAEgAAAAAAAAMA6QAAkAAAfLSo4MeIABI7+wAAANEA/+UA/4EA/3wA/wAADwAAAQEAAAAAAFYADQAA/wAAkAAAfLwA0MYAyRIAEgAAAGgAGAAAAAAAAAAAANwAAMcAABIAAAAAAAAAAOkAAJAAAHwAAEAAAAAAAJEAAHwAAP8A2P8AAP8A+/8AAD1QUAAJCZH7+3wAAG2wmOfIyYESEnwAAAAAFgAAChUVkQAAfGAC1gMCAACRAAB8AHhFUFcACRgA+wAAAEh4AG8TABUVOwAAAAAAoAAAyQAVEgAAAH7QAABSAAAWAMAAAACImADIAAASkQAAfP8AyP8APf8AO/8AAP/MbP/Kyv8SEv8AAAAAIQDpAACQkQB8fAAI2AACBwCROwB8AAD/PQD/ABX/kQD/fMEC8G8CngCRgAB8fOx7AMcBABKRAAB8AIe7AOsBAIGRAHx8ADMAB+MAAIEAAHwAAGAAANrOAFASAAAAAEjYAG/NgAESGQAAAGwAAAAAAAAAAAAAACjBAMdvABIAAAAAADQEAADJAAASAMAAAAidAPwrABKDAAB8AAAA+OkAnpAAgHwAfEAA/wAA/5EA/3wA//8A8P8Anv8AgP8AfD0AXAABAJEAAHwAANoBXPQsAICDAHx8AAAo5ADJ3BUSEgAAAADc/wAr/wCD/wB8/0gAAG8AABUAAAAAAAAYMAEAygAAEgAAAABMBgBknQCDTAB8AOcAEPQAyoAAEnwAABQsd8nKcBISTwAAAEiFRG9kyhWDEgB8AABETACNZABPgwAAfABgIACYzABPEgAAAAAAogAB/wAA/wAAfwAoxADJywASEgAAAAAAAAABAAAAAAAAAACgTABkZACDgwB8fAABAAAAAAAAAAAAAAAAwQAwbwAAAAB8AAio8ACIggA7GQAAAAD/gQD/RQD/SAD/ACH5BAEAAAAALAAAAAAQABAABwhOAAEAEECwoEEBAgUWDECQ4cGECxk6NAjRYACHEytaFHCxoEaMEwl+lHgQoUKLGD2e3NhR5EqQD1+SjDkQZUOVNVlmXBmRZsmQLnlypBkQADs=";
   var redditIcon = "data:image/gif;base64,R0lGODlhEAAQAPcAACwuNIyOjMzKzExOVHRybKyqrMzq/Gx+jHx+fLzW7GReXPympPyytIyerFxufFxmbNzW1JyuxNz2/Gx2hPwSDJyenLTK3FxqdPT29Dw+PNTSzLy6vIyGhMTe9GRmZJSivGRyhKS6zFRaXLSytPTy9HSGnHyChFReZIyetGRyfGxqbNze3Gx6hKSipPz+/ERGRKzCzHyKnMzOzGxydKyurNTy/HR+jMTa9PzCxGRufGRqbPzOzNz6/PwyNIyapGRqdPz29NTS1Mzi/FRaZISChFxiZIyitHR6hERKTKzC1IESEnwAAAAAFgAAChUVkQAAfGACZAMCAACRAAB8AHhFuFcAnBgAOwAAAEh4AG8TABUVOwAAAAAAoAAAyQAVEgAAAH6AAACGAAAZAMAAAACImADIAAASkQAAfP8AYP8AJP8AO/8AAP/MbP/Kyv8SEv8AAAAAIQDpAACQkQB8fAAImAACCACROwB8AAD/PQD/ABX/kQD/fMEC8G8CngCRgAB8fOx7AMcBABKRAAB8AIe7AOsBAIGRAHx8ADMAB+MAAIEAAHwAAGAAANrOAFASAAAAAEjYAG/NgAESGQAAAGwAAAAAAAAAAAAAACjBAMdvABIAAAAAADQEAADJAAASAMAAAAidAPwrABKDAAB8AAAA+OkAnpAAgHwAfEAA/wAA/5EA/3wA//8A8P8Anv8AgP8AfD0AWAABAJEAAHwAANoBWPQsAICDAHx8AAAo5ADJ3BUSEgAAAADc/wAr/wCD/wB8/0gAAG8AABUAAAAAAAAYMAEAygAAEgAAAABMBgBknQCDTAB8AOcAEPQAyoAAEnwAABQsd8nKcBISTwAAAEiFRG9kyhWDEgB8AABETACNZABPgwAAfABgHACYzABPEgAAAAAApgAB/wAA/wAAfwAoxADJywASEgAAAAAAAAABAAAAAAAAAACgTABkZACDgwB8fAABAAAAAAAAAAAAAAAAwQAwbwAAAAB8AAAI8ACQggA7GQAAAAD/gQD/RQD/SAD/ACH5BAAAAAAALAAAAAAQABAABwjPAGsIHEiwoMAbQm7c6KAwIcMOCQ8yTCgkwZAcPn54iHHjIMKGDS7AyCECyIAOAhMiNNBhQgiGNkSg6FhjoRALKGIAKBGhYcQQDybY0BGgxYgKJh7YmFAkRI0ZKzIQweCialUSHDKsmFHjCIERLhZQwOECB4UFLgoQOFLjw4uqDHrscLGjB4OqSD4InGG1b98ZHSUMEVC1QBASGgpUFTBESA0JSQZscCGACAIihDcMSELzhoUTPwpogJBYxQkLCFMqDFECRA4QJUJ8pGmwtsCAADs=";
   var stumbleIcon = "data:image/gif;base64,R0lGODlhEAAQAPcAAAQCBASKBByCtAROBAS+BHTihARChDzKTATWBHR2dHzS7BTCJNTq3ARirBR2rAQuTLzq9ASuBISitATOBARSjCTKNOz+7Ay2HAwuDCTiJCzCNARqrOT2/EyaxJza7BR6rARSnAyGxBRCVATGBAQ+dAQaLARuvOz+/ARmBBTqFKTO5BzGJLz2zAS2BFSu1BTOHBS2JARutARapAQiPCSKvAzCDARKlAzeDARyvAQyXATSBCzmLCTGNBR+tAQaNPz+/KTO7Mz63Gy23BS6JAQWLAyiDBSCvARSBATCBITejARGjGTedAzaDBy+LARmrAx2tASyBATKDARSlCTONOz+9BzqHARurOz6/Kzi9CR6rARWnBSKxAzGDAQ+fPT+/AxuDBzGLMT6zAS6BFyy3AxutARepAQyZCzGNAQeNKTS7By6JP8AAP/MbP/Kyv8SEv8AAAAAIQDpAACQkQB8fAAI2AACBwCROwB8AAD/PQD/ABX/kQD/fMEC8G8CngCRgAB8fOx7AMcBABKRAAB8AIe7AOsBAIGRAHx8ADMAB+MAAIEAAHwAAGAAANrOAFASAAAAAEjYAG/NgAESGQAAAGwAAAAAAAAAAAAAACjBAMdvABIAAAAAADQEAADJAAASAMAAAAidAPwrABKDAAB8AAAA+OkAnpAAgHwAfEAA/wAA/5EA/3wA//8A8P8Anv8AgP8AfD0AWwABAJEAAHwAANoBW/QsAICDAHx8AAAo5ADJ3BUSEgAAAADc/wAr/wCD/wB8/0gAAG8AABUAAAAAAAAYMAEAygAAEgAAAABMBgBknQCDTAB8AOcAEPQAyoAAEnwAABQsd8nKcBISTwAAAEiFRG9kyhWDEgB8AABETACNZABPgwAAfABgHwCYzABPEgAAAAAAowAB/wAA/wAAfwAoxADJywASEgAAAAAAAAABAAAAAAAAAACgTABkZACDgwB8fAABAAAAAAAAAAAAAAAAwQAwbwAAAAB8AAio8ACIggA7GQAAAAD/gQD/RQD/SAD/ACH5BAEAAAAALAAAAAAQABAABwjMAAEIHEiwYEEMX1akuFEEhUGBGHZUuYEAgQ4dBAxiqMLk4gQdEyYQYEAQwwskC8BUWBkFiRgqEgYeEcPix5UrJ34EaQHFggofAgOc+eGCjBMnHX7AiGABSA6BSC5Q4YBljJQsPzQwVSFFYI0IZwrU/NAja880XQEMaDIExpIfDp54SXLAixASAhN4+eHFiwcZMhTshbCByEAaAnpY0eKkjJMQW8p0ISgCh4kYl2PEaABCiWGCD6RoAVxGBoguJR4CmEHBhhIzn1XLFhgQADs=";
   var technoratiIcon = "data:image/gif;base64,R0lGODlhEAAQAPcAAAQCBDyyBKzelHzKTNzuzFy+JMTqtIzSbPz+/ES2DLzipOz25GTCPJzWfBUAAAAAAA8AgAAAAAAAEAAAgAAACAIA/AAAEgAAAAAAAAMA6QAAkAAAfLSYqMc+iBI7OwAAANEA/+UA/4EA/3wA/wAA7wAAAAEAAAAAAFYADQAA/wAAkAAAfLwA0MYAyRIAEgAAAGgAKAAAAAAAAAAAANwAAMcAABIAAAAAAAAA2OkAn5AAO3wAAEAAAAAAAJEAAHwAAP8AoP8AiP8AO/8AAD0YGACQkJE7O3wAAG2wmOfIyYESEnwAAAAAFgAAChUVkQAAfGAC+AMCAQCRAAB8AHhFGFcAkBgAOwAAAEh4AG8TABUVOwAAAAAAoAAAyQAVEgAAAH7QAABSAAAWAMAAAACImADIAAASkQAAfP94YP8BJP87O/8AAP/MbP/Kyv8SEv8AAAAAIQDpAACQkQB8fAAImAACCACROwB8AAD/PQD/ABX/kQD/fMEC8G8CngCRgAB8fOx7AMcBABKRAAB8AIe7AOsBAIGRAHx8ADMAB+MAAIEAAHwAAGAAANrOAFASAAAAAEjYAG/NgAESGQAAAGwAAAAAAAAAAAAAACjBAMdvABIAAAAAADQEAADJAAASAMAAAAidAPwrABKDAAB8AAAA+OkAnpAAgHwAfEAA/wAA/5EA/3wA//8A8P8Anv8AgP8AfD0AXgABAJEAAHwAANoBXvQsAICDAHx8AAAo5ADJ3BUSEgAAAADc/wAr/wCD/wB8/0gAAG8AABUAAAAAAAAYMAEAygAAEgAAAABMBgBknQCDTAB8AOcAEPQAyoAAEnwAABQsd8nKcBISTwAAAEiFRG9kyhWDEgB8AABETACNZABPgwAAfABgIgCYzABPEgAAAAAAoAAB/wAA/wAAfwAoxADJywASEgAAAAAAAAABAAAAAAAAAACgTABkZACDgwB8fAABAAAAAAAAAAAAAAAAwQAwbwAAAAAAAACo8ACIggA7GQAAAAD/gQD/RQD/SAD/ACH5BAEAAAAALAAAAAAQABAABwh3AAEIHEiwoMAAAQogWIhAAYOHDAwgAIAwgAKGBSpWHICgIsMBGjU2QMhg4YKQGjMGKIngJEqECTwuZPAywIGKF1uq1FiyokKGDWgmYCBgIU+GSJGGlJiUoYGQCxYqIECVQIOdHhVgrRhTI8iaXWuGTEBRrEYAAQEAOw==";
   var twitterIcon = "data:image/gif;base64,R0lGODlhEAAQAPcAAAQCBATa7ITq9MT2/ETm9OT6/CTi7KTy/GTm9ATi7Jzy/NT2/PT6/JTu9HTq9Bze7FTm9LTy/NT6/PT+/ATe7ITu9Dzi9Gzq9BTi7Mz2/Ezm9Oz6/Czi9Kzy/Gzm9Nz2/Pz6/Jzu9Hzq9Fzm9Lz2/Nz6/Pz+/Aze7Izu9Bzi7AAAkAAAfLwA0MYAyRIAEgAAAGgAGAAAAAAAAAAAANwAAMcAABIAAAAAAAAAAOkAAJAAAHwAAEAAAAAAAJEAAHwAAP8A2P8AAP8A+/8AAD1QUAAKCpH7+3wAAG2wmOfIyYESEnwAAAAAFgAAChUVkQAAfGACtgMCAACRAAB8AHhFUFcAChgA+wAAAEh4AG8TABUVOwAAAAAAoAAAyQAVEgAAAH7QAABSAAAWAMAAAACImADIAAASkQAAfP8AyP8APf8AO/8AAP/MbP/Kyv8SEv8AAAAAIQDpAACQkQB8fAAI2AACBwCROwB8AAD/PQD/ABX/kQD/fMEC8G8CngCRgAB8fOx7AMcBABKRAAB8AIe7AOsBAIGRAHx8ADMAB+MAAIEAAHwAAGAAANrOAFASAAAAAEjYAG/NgAESGQAAAGwAAAAAAAAAAAAAACjBAMdvABIAAAAAADQEAADJAAASAMAAAAidAPwrABKDAAB8AAAA+OkAnpAAgHwAfEAA/wAA/5EA/3wA//8A8P8Anv8AgP8AfD0AWwABAJEAAHwAANoBW/QsAICDAHx8AAAo5ADJ3BUSEgAAAADc/wAr/wCD/wB8/0gAAG8AABUAAAAAAAAYMAEAygAAEgAAAABMBgBknQCDTAB8AOcAEPQAyoAAEnwAABQsd8nKcBISTwAAAEiFRG9kyhWDEgB8AABETACNZABPgwAAfABgHwCYzABPEgAAAAAAowAB/wAA/wAAfwAoxADJywASEgAAAAAAAAABAAAAAAAAAACgTABkZACDgwB8fAABAAAAAAAAAAAAAAAAwQAwbwAAAAB8AAio8ACIggA7GQAAAAD/gQD/RQD/SAD/ACH5BAEAAAAALAAAAAAQABAABwi0AAEAMMGgIAOBCBMOZCBhQAYGJhQmNLGhQ4QQBSZIRGjiQ4MQCj6AYDASRESOBVCojJDBocMSBxF+EEBTgIibNwVolHlBhIOfQB14WMDxwwgPCJBeSIqgws6BCyBA0EBig9UNBWIKNJHBAgELA0yaGKvQxIIUHB4oGGvS5EQGHCgkeFDhgAIFB0qUrRCAAoUAgP8+KPB2RF+/iAOQUGiygQEKJ/wGsLBBoomRJRaU+CABosCAADs=";
   var yahooIcon = "data:image/gif;base64,R0lGODlhEAAQAPcAAAQCBIQCBPwCBEQCBLwCBB0AdgCvFgAAAIY0ARroAAASAAAAAAAAAQDwABUAAAAAAAkc8ADo6AASEgAAAADk3ALn4gASPQAAdwAADAEAgAAAAAAAAECYTucAAxKRYAB8ANGQxOV26IEWEnwAAACwBADoAAESAAAAAFYh+AAA6QCREgB8AEiowOYHmhIVgwAAfGg9AAAAmgCRgAB8fGiY/+d2/xIW/wAA/wAB/ekAmZAAgHwAfECYUgB2ZZEWcHwAbP8AYf8AY/8AZf8AID1yZgCzaZFCbHx+ZW0AAOcA5YEAPXwAdwAAAAAAABUAAAAAAGA0AAPoAAASAAAAAHiCACokAB4WAAAAAFjgAG8jABUWAAAAAABIAADoAAASAAAAAH4eAABmAABFAMB+AAAAAAAAAAAMAAAAAP8AAP8AAP8AAP8AAP80AP/oAP8SAP8AAACgAAASAAAHAAAQAAAAAAAAAAAAAAAAAAAAAAAAABUAAAAAAK8A8LMAngAAgAAAfHgPAOcAABIAAAAAAIdOAOsDAIFgAHwAADNwB+PoAIESAHwAAGDsANqOAFBCAAB+AFgwAG8AYAEAFgAAAGwPAAAAAAAAAAAAALSvAOazABIAAAAAADSQAADoAAASAMAAAAidAPwrABKDAAB8AAAA+OkAnpAAgHwAfEAA/wAA/5EA/3wA//8A8P8Anv8AgP8AfD0AVwABAJEAAHwAANoBV/QsAICDAHx8AAC0hADo7hUSEgAAAADc/wAr/wCD/wB8/1gAAG8AABUAAAAAAAAYvAEA6QAAEgAAAABMBgBknQCDTAB8AOcAnPQA6YAAEnwAAKC4d+jpcBISTwAAAFiF0G9k6RWDEgB8APRETOeNZBJPgwAAfFpgp4iY60FPEn4AALQAp+cB/xIA/wAAfyq0UIjo60ESEn4AAAAAAAABAAAAAAAAAE6gTANkZGCDgwB8fAABAPAAAAAAAAAAABQArwAwswAAAAB8ANAA6OcAbxIVFgAAAAEAgbQARUIASH4AACH5BAEAAAAALAAAAAAQABAABwhaAAEIHEiwoMGDCBMOFMCwYQCFAxgSEBigoYAABAgMEBhRwEQAETUCkDiwo0aPFBluLNnwIwACKAvCFECQ4cGKNAcGWFkSI8OdIx8WHBCgaNGNQBUqXcq0qcGAADs=";

   var varHead = document.getElementsByTagName("head")[0];
   var varBody = document.getElementsByTagName("body")[0];
   var postingButton = document.createElement('div');
   var postingBar = document.createElement('div');

   varHead.appendChild(document.createElement('style')).innerHTML = ".gm_post_button\n{\n   position:fixed;\n   right:0px;\n   top:50%;\n   margin:-29px 0px 0px 0px;\n   width:18px;\n   z-index:99;\n   background-color:transparent;\n   text-align:center;\n   cursor:pointer;\n   padding: 0px 3px 0px 3px;\n   color:black;\n   font-size:12pt;\n   font-family: arial;\n}\n.gm_post_bar\n{\n   font-family:arial;\n   position:fixed;\n   right:0px;\n   top:50%;\n   margin-top:-215px;\n   width:4px;\n   z-index:98;\n   background-color: #ccccff;\n   text-align:left;\n   height:430px;\n   overflow:hidden;\n   padding:0px;\n   color:black;\n   font-size:12pt;\n}\n.gm_post_bar input\n{\n   font-family: arial;\n   font-size:11pt;\n   padding:0px;\n   margin:0px;\n}\n.gm_post_bar ul\n{\n   list-style:none;\n   padding:0px;\n   margin:0px;\n}\n.gm_post_bar ul li\n{\n   margin:8px;\n   padding:0px;\n   height:20px;\n   cursor:pointer;\n   overflow:hidden;\n   font-family: arial;\n   font-size:12pt;\n}";

   varHead.appendChild(document.createElement('script')).innerHTML = "var gm_twitter_window;\nvar gm_post_bar_hiding = true;\nvar gm_post_bar_width = 4;\nvar gm_post_bar_size_timer;\nfunction gm_post_bar_click()\n{\n   if(gm_post_bar_hiding)\n   {\n      gm_post_bar_hiding = false;\n      gm_post_bar_show();\n   }\n   else\n   {\n      gm_post_bar_hiding = true;\n      gm_post_bar_hide();\n   }\n}\nfunction gm_post_bar_hide()\n{\n   if(gm_post_bar_width > 4 && gm_post_bar_hiding)\n   {\n      gm_post_bar_width = gm_post_bar_width - 2;\n      clearTimeout(gm_post_bar_size_timer);\n      gm_post_bar_timer = setTimeout(\"document.getElementById('gm_post_bar').style.width=gm_post_bar_width+'px';gm_post_bar_hide();\",1);\n   }\n}\nfunction gm_post_bar_show()\n{\n   if(gm_post_bar_width < 200 && !gm_post_bar_hiding)\n   {\n      gm_post_bar_width = gm_post_bar_width + 2;\n      clearTimeout(gm_post_bar_size_timer);\n      gm_post_bar_timer = setTimeout(\"document.getElementById('gm_post_bar').style.width=gm_post_bar_width+'px';gm_post_bar_show();\",1);\n   }\n}\nfunction gm_post_bar_fb_click()\n{\n   gm_post_bar_post('http://www.facebook.com/sharer.php?u='+encodeURIComponent(location.href)+'&t='+encodeURIComponent(document.title),626,436);\n}\nfunction gm_post_bar_del_click()\n{\n   gm_post_bar_post('http://del.icio.us/post?url=' + encodeURIComponent(location.href) + '&title=' + encodeURIComponent(document.title),850,610);\n}\nfunction gm_post_bar_dig_click()\n{\n   gm_post_bar_post('http://digg.com/submit?phase=2&url=' + encodeURIComponent(location.href),'','');\n}\nfunction gm_post_bar_red_click()\n{\n   gm_post_bar_post('http://reddit.com/submit?url=' + encodeURIComponent(location.href) + '&title=' + encodeURIComponent(document.title),'','');\n}\nfunction gm_post_bar_tec_click()\n{\n   gm_post_bar_post('http://technorati.com/cosmos/search.html?url=' + encodeURIComponent(location.href),'','');\n}\nfunction gm_post_bar_bli_click()\n{\n   gm_post_bar_post('http://blinklist.com/index.php?Action=Blink/addblink.php&url=' + encodeURIComponent(location.href) + '&Title=' + encodeURIComponent(document.title),'','');\n}\nfunction gm_post_bar_dii_click()\n{\n   gm_post_bar_post('http://www.diigo.com/post?url=' + encodeURIComponent(location.href) + '&title=' + encodeURIComponent(document.title),'','');\n}\nfunction gm_post_bar_stu_click()\n{\n   gm_post_bar_post('http://www.stumbleupon.com/submit?url=' + encodeURIComponent(location.href),'','');\n}\nfunction gm_post_bar_mys_click()\n{\n   gm_post_bar_post(\"http://www.myspace.com/Modules/PostTo/Pages/?\" + \"t=\" + encodeURIComponent(document.title)+ \"&#038;u=\" + encodeURIComponent(location.href) + \"&#038;l=\" + 2,'','');\n}\nfunction gm_post_bar_twi_click()\n{\n   gm_twitter_window = window.open('about:blank','sharer','scrollbars=1,toolbar=0,status=0,width=,height=');\n}\nfunction gm_post_bar_new_click()\n{\n   gm_post_bar_post('http://www.newsvine.com/_tools/seed&save?u=' + encodeURIComponent(location.href) + '&h=' + encodeURIComponent(document.title),'','');\n}\nfunction gm_post_bar_goo_click()\n{\n   gm_post_bar_post('http://www.google.com/bookmarks/mark?op=add&bkmk=' + encodeURIComponent(location.href) + '&title=' + encodeURIComponent(document.title),'','');\n}\nfunction gm_post_bar_ybk_click()\n{\n   gm_post_bar_post('http://bookmarks.yahoo.com/toolbar/savebm?opener=&u=' + encodeURIComponent(location.href) + '&t=' + encodeURIComponent(document.title),'','');\n}\nfunction gm_post_bar_post(url,width,height)\n{\n   window.open(url,'sharer','scrollbars=1,toolbar=0,status=0,width=' + width + ',height=' + height);\n   return false;\n}\nfunction gm_post_bar_m_over(item)\n{\n   item.style.backgroundColor = \"#dedeff\";\n}\nfunction gm_post_bar_m_out(item)\n{\n   item.style.backgroundColor = \"#ccccff\";\n}\nfunction gm_post_bar_email(emailAddress)\n{\n   window.location = \"mailto:\" + emailAddress + \"?Subject=\" + encodeURIComponent(document.title) + \"&Body=\" + encodeURIComponent(location.href);\n   return false;\n}";

   postingButton.innerHTML = "<img src='" + postButton + "' />";
   postingButton.setAttribute("id","gm_post_button");
   postingButton.setAttribute("onclick","gm_post_bar_click();");
   postingButton.setAttribute("class","gm_post_button");

   postingBar.setAttribute("id","gm_post_bar");
   postingBar.setAttribute("class","gm_post_bar");
   postingBar.innerHTML = "      <ul>\n         <li onclick=\"return gm_post_bar_bli_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + blinklistIcon + "\" alt=\"Blinklist\" border=\"0px\" /> Blinklist</li>\n         <li onclick=\"return gm_post_bar_del_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + deliciousIcon + "\" alt=\"Del.icio.us\" border=\"0px\" /> Del.icio.us</li>\n         <li onclick=\"return gm_post_bar_dig_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + diggIcon + "\" alt=\"Digg\" border=\"0px\" /> Digg</li>\n         <li onclick=\"return gm_post_bar_dii_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + diigoIcon + "\" alt=\"Diigo\" border=\"0px\" /> Diigo</li>\n         <li onclick=\"return gm_post_bar_fb_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + facebookIcon + "\" alt=\"Facebook\" /> Facebook</li>\n         <li onclick=\"return gm_post_bar_goo_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + googleIcon + "\" alt=\"Google Bookmarks\" border=\"0px\" /> gBookmarks</li>\n         <li onclick=\"return gm_post_bar_mys_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + myspaceIcon + "\" alt=\"mySpace\" border=\"0px\" /> mySpace</li>\n         <li onclick=\"return gm_post_bar_new_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + newsvineIcon + "\" alt=\"Newsvine\" border=\"0px\" /> Newsvine</li>\n         <li onclick=\"return gm_post_bar_red_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + redditIcon + "\" alt=\"reddit\" border=\"0px\" /> reddit</li>\n         <li onclick=\"return gm_post_bar_stu_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + stumbleIcon + "\" alt=\"StumbleUpon\" border=\"0px\" /> StumbleUpon</li>\n         <li onclick=\"return gm_post_bar_tec_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + technoratiIcon + "\" alt=\"Technorati\" border=\"0px\" /> Technorati</li>\n         <li onclick=\"gm_post_bar_twi_click()\" id=\"gm_post_bar_twitter_button\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\""+ twitterIcon + "\" alt=\"Twitter\" border=\"0px\" /> Twitter</li>\n         <li onclick=\"return gm_post_bar_ybk_click();\" onmouseover=\"gm_post_bar_m_over(this);\" onmouseout=\"gm_post_bar_m_out(this);\"><img src=\"" + yahooIcon + "\" alt=\"Yahoo Bookmarks\" border=\"0px\" /> Y! Bookmarks</li>\n         <li style=\"text-align:right;height:50px;\"><form><input type=\"text\" id=\"gm_post_bar_email_address\" value=\"Type Email Address Here\" onfocus=\"this.value='';\" size=\"19\" /><br /><input type=\"submit\" value=\"Email\" onclick=\"gm_post_bar_email(document.getElementById('gm_post_bar_email_address').value);\" /></form>\n      </ul><div style=\"display:none;\" id=\"twitterpopper\"></div>";

   varBody.appendChild(postingButton);
   varBody.appendChild(postingBar);
   document.getElementById('gm_post_bar_twitter_button').addEventListener('click',function(e){ gm_post_bar_twit_trigger(); e.preventDefault(); },false);
}