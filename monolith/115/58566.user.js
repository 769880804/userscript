// ==UserScript==
// @name           The Rebels Links Checker
// @description    by marziz - Exclusividade TheRebels =D
// @namespace      marziz script
// @include        http://therebels.biz/showthread.php*
// ==/UserScript==
//
//  The Rebels Links Checker by marziz
// Exclusividade da modera��o TheRebels
//       www.TheRebels.biz

const debug=false;const version_timestamp=1254275712063;const update_url="http://userscripts.org/scripts/source/58566.user.js";const updcheck="http://userscripts.org/scripts/edit_src/58566";const script_url="http://userscripts.org";const Opera=navigator.appName.search('Opera')!=-1;var totalON=0;var totalOFF=0;var totalMU_UN=0;var totalUNV=0;var totalTime=0;var sites=new Array(/rapidshare\.com\/files\//,/megashares\.com\/\?d01=/,/megaupload\.com\/([a-z]{2}\/)?\?d=/,/filefactory\.com\/file\//,/rapidshare\.de\/files\//,/(mediafire\.com\/(download\.php)?\?)|(mediafire\.com\/file\/[a-z0-9]+(\/.*)?)/,/netload\.in\/datei[0-9a-zA-Z]+(\.htm|(\/.*\.htm))/,/depositfiles\.com\/([a-z]{2}\/)?files\//,/sendspace\.com\/file\//,/ifile\.it\//,/usaupload\.net\/d\//,/badongo\.com\/([a-z]{2}\/)?(file)|(vid)\//,/savefile\.com\/files\//,/axifile\.com\/?/,/files\.to\/get\//,/gigasize\.com\/get\.php\?d=/,/ziddu\.com\//,/zshare\.net\/(download|audio|video)\//,/uploadpalace\.com\/[a-zA-Z]{2}\/file\/[0-9]+\//,/speedyshare\.com\/[0-9]+\.html/,/ifolder\.ru\/[0-9]+/,/adrive\.com\/public\//,/easy-share\.com/,/bitroad\.net\/download\/[0-9a-z]+\//,/megaporn\.com\/([a-z]{2}\/)?\?d=/,/egoshare\.com/,/megashare\.com\/[0-9]+/,/2shared\.com\/file/,/mandamais\.com\.br\/download\/(.*)/,/vip-file\.com\/download\/[a-zA-Z0-9]+\//,/4shared\.com\/file\/[a-z0-9]+\/[a-z0-9]+\/(.*)/,/filebeam\.com\/[a-z0-9]+/,/hotshare\.net\/([a-z]{2}\/)?file\//,/filebase\.to\/files\/[0-9]+\/(.*)/,/sharex\.xpg\.com\.br\/files\/[0-9]+(\/.*)?/,/ultrashare\.net\/hosting\/fl\/[0-9a-zA-Z]+/,/uploading\.com\/files\/[a-zA-Z0-9]+\/(.*)?(\.html)?/,/bigupload\.com\/download_frame\.php\?id_file=[a-zA-Z0-9]+/,/filebox\.com\/[a-zA-Z0-9]+/,/dl\.free\.fr(\/getfile.pl\?file=)?\/[a-zA-Z0-9]+/,/uploadbox\.com\/files\/[a-zA-Z0-9]+/,/storage\.to\/get\/[a-zA-Z0-9]+\//,/fileshare\.in\.ua\/\d+/,/rapidshare\.ru\/\d+/,/hotfile\.com\/dl\/[0-9]+\/[a-zA-Z0-9]+\//,/(uploaded\.to\/file)|(ul\.to)\/[0-9a-zA-Z]+/,/turboupload\.com\/[0-9a-zA-Z]+/,/share-now\.net\/files\/(.*?)\.html/,/load\.to\/[0-9a-zA-Z]+/,/gettyfile\.ru\/[0-9]+/,/share\-online\.biz\/download\.php\?id=[A-Z0-9]+/,/kewlshare\.com\/dl\/[a-zA-Z0-9]+/,/nakido\.com\/[0-9a-zA-Z]+/,/up\-file\.com\/download\/[0-9a-zA-Z]+/,/quickupload\.net\/[0-9a-zA-Z]+/,/sharingmatrix\.com\/file\/\d+/,/superfastfile\.com\/[0-9a-zA-Z]+/,/enterupload\.com\/[0-9a-zA-Z]+/,/bestsharing\.com\/[0-9a-zA-Z]+/,/x7\.to\/[0-9a-zA-Z]+/,/fileswap\.com\/share\/[0-9a-zA-Z]+\/.*?\.html/);alive_link_png='data:image/png;base64,'+'iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAAL'+'EwEAmpwYAAAAB3RJTUUH2AMJCQY36Sc4vgAAAlRJREFUeNpV0r9PE3EABfD3veu1lJYr15ZCoBHBqJBAMEbjL0hY'+'FAkyOAmJMUYd/Q+cXF1wYPQPILppYkKIRARiMDGoaAKimBaKHMWDXnu93venE0Tf9Ib3tg/BP7m3NGgwxtKcM4vy'+'IKSk4BBqnwux9/LGKjvckcNy9/1Akgk2ZJHMWNyw+qWUMSGZ51R2FzbdX1NSyOnZWznn6HRn8UqSCv6gLdz58GSs'+'L2voURJIirAWhh+U1fLO4tbKztdJIvHsw/1NR7/97pJBOR9tDXc+6rMGsg4vkd3AhkMdVJgLounkdKLHdL1S13Zp'+'dyMzbK5pnNF0I0mNn4r3Ze3AJrZvo0zL8KkPyil6rTOgipFzrRezLXVt4zWKtBbwWjIeTgyEQlHiUhepcBpNkSaY'+'ehxX20Yw2HYd3VYP6iNRYhrpAeojGfJqvs7rRIyKGpSUGOm4iYgWwX7wB72ps/hWXMZCbgaNkUYQrseUr3SNB0JQ'+'Rj0DBnSlYWN/DcfNEzifuYzVvS94vf4cVeoiBB2ScY8IiBBnytk7KM5XG8qj9SRClrbnUKNVZKLNWMjPwKkWkYk1'+'46BSUbZrz0PC0ZuHzaBYLokq9S90p3pMJRnJl35gtfgZQnAko0lY4WY1+2lu63s+N0EE+agXXrkydc3czjtF7noH'+'XccSx82mWIY0hBpgRVMIalK9WX67tfJzfZJo5EVuouAdieh4kk3KQA21J1rGmuoy/UToMSG5t+vaC5u/7Smikenc'+'04LzHyMAaH+cNcBVGgyWClSIgHAA+2DYy00Wjuz9Bce5MucW9xnuAAAAAElFTkSuQmCC';adead_link_png='data:image/png;base64,'+'iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAAL'+'EwEAmpwYAAAAB3RJTUUH2AMJCQkjdGXwDAAAAcpJREFUeNptkj9PFHEQhp/ZBcIhxyKHYgNCYUxogE0OpdDGxsQC'+'Y6e5ggS1Mn4Ce621u7MCYqOdX4DkSLTBqwyNiQmJBiJiDjmWP/ub1+IAMXGqmTx5M5nJY5wpwRiQHPfoL2rG8PVk'+'sDOBlKRYZWgwxcwkIQlc0o+fDe3sPu6E1dOQIGWg/yUT4zOUBiLtHYAHFBy6YvRrW+Hzl4/e/P2kAJ8iwRhJscrE'+'+AzDwxG3Z2E/oO9bKMvhzj104aLZ1dFr9PZUWzDWASQMDaYqDZjdvAWzd2HkMlpcJKpUsMlJdHiI3i1Ffr4v9d29'+'pEMnt7UyfOkNNjKKTU8Tl8tghq+sEGqvUZwjZA5EAiShPIetLXxhASSIY3An1Gr4xkabq70iar9OkOeoWCSqVMAM'+'8hzMiObnIUnQ0RFyR0DkgNylzhh7cB+bmsLrdQ7n5gj1OlG5TPxoHro7kUsC4mdQUB5u0NdziW/r5q2M/PkLfG2N'+'sLwMkRHevyVkWQib26t+FJYMIIOUvt5XdmXkunXEke/sQchRCNDdRfAQ8vXND97af1qCxqkRLUj9XKFq/cUUMMmR'+'QHKFZquh7OBhCRr/aATQ/I97foxKZ9z7A9QA5voyr3dtAAAAAElFTkSuQmCC';NDSTUSEROR_png='data:image/png;base64,'+'iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAAL'+'EwEAmpwYAAAAB3RJTUUH2AQJDBgxYO68rwAAAZNJREFUeNptkr9LW1EcxT/3GhOTKIG8QTpm8B8IIoJTFkFwsXVy'+'UaxFJHYoFzJYUVFHn4sKtoidCoKtIigWOtQOhRKowaFzJwcF0VeJ+fFe7nUwP57R7/S9nO+595z7PQJfGUgAsWqP'+'aUBOC/yrHQI+QjKTXc7GQq4EhP+uKzdUcbtnelvhDzXQQHL2bCkbxhOA5GmZ24LUC73zPWE4lQYSmexynaCmjh5N'+'q9FdANER1uL9j7nfeUhIIFaVJNXEPrguKvPzgfD2G0iBGt8DkPG4CGiIyapZAWBvDUEoBOfnqPQxaANxC3v7Ze1h'+'oQFpmsTbGwMQicLNNeTz2HaKYuO/4DnTauwLeC6i8wW4ZdSbA9rw/GtB6kaPmjyESATKZVZWUxAMQqnI9MTXOqdG'+'cvRFoSw8o+0Pg1DxsD+PcFcJYH8aphSNsr71CkAH/17danAEQAGSa98zv7x4W9AIpGkRzap18cKU3vUv9lmQq6N5'+'SH7cSZ8Uuqx205SI1rPL/6/HN1MW5GiKC84z2at6dixf9u4B/PqUtJuX27QAAAAASUVORK5CYII=';GM_addStyle("#alive_link {background:transparent url("+alive_link_png+") no-repeat scroll 100% 50%;padding-right:17px; background-color:#9AFF9E;}");GM_addStyle("#adead_link {background:transparent url("+adead_link_png+") no-repeat scroll 100% 50%;padding-right:17px; background-color:#FC7784;}");GM_addStyle("#unava_link {background:transparent url("+NDSTUSEROR_png+") no-repeat scroll 100% 50%;padding-right:17px; background-color:#0081FF;}");GM_addStyle(".links_info {color:black; font-size:12px; font-weight:bold; text-align:center;}");GM_addStyle(".links_on {color:green; font-size:12px; font-weight:bold;}");GM_addStyle(".links_off {color:red; font-size:12px; font-weight:bold;}");GM_addStyle("#mega_msg p{font-family:Tahoma; color:navy; font-size:11px; font-weight:bold;}");try{s=new String(window.location);if(s.search('therebels.biz/showthread.php?')!=-1){var finalLinks=new Array();var dcLinks=new Array();var linkscount=0;var direct_unv=false;var uname="";var uid=0;div=document.getElementById('mostra_links');if(div){var pagelinks=div.getElementsByTagName('a')}var collapseobj_info10=document.getElementById('collapseobj_info10');try{stoken=document.getElementsByName('securitytoken')[0].value;r=new RegExp(/\?t=(\d+)/);tid=r.exec(s);if(tid){tid=tid[1]}else{t=document.getElementById('threadtools_menu');t.getElementsByTagName('form');forms=t.getElementsByTagName('form');tid=r.exec(forms[0].action)[1]}}catch(e){tid=false}var closediv=document.createElement('div');if(collapseobj_info10){var dclass="topico_bg_down"}else{var dclass="lol"};if(Opera){var btnclose='<div align="center" class="'+dclass+'" style="padding:3px">'+'<input type="button" onclick="javascript:window.close()" value="Fechar Janela" class="button" />&nbsp;'+'<input type="button" onclick="return postMsg()" class="button" value="Post OFF" />'+'</div>'}else{var btnclose=''}if(tid){closediv.innerHTML='<form action="postings.php?t='+tid+'&amp;pollid=" method="post" name="threadadminform2">'+'<div align="left" class="'+dclass+'" style="padding:3px;">'+'<table>'+'<tr>'+'<td style="padding-left:3px;"><label><input type="radio" name="do" id="ao_thr" value="moverecycle" />Mover p/ Lixeira</label></div></td>'+'</tr>'+'<tr>'+'<td style="padding-left:3px;"><label><input type="radio" name="do" id="ao_mvt" value="movethread" />Mover T&oacute;pico</label></td>'+'</tr>'+'<tr>'+'<td style="padding-left:3px;"><label><input type="radio" name="do" id="ao_edt" value="editthread" />Editar T&oacute;pico</label></td>'+'</tr>'+'</table>'+'<div align="center"><input type="submit" class="button" value="Executar a A&ccedil;&atilde;o" /></div>'+'</div>'+btnclose+'<input type="hidden" name="s" value="" />'+'<input type="hidden" name="securitytoken" value="'+stoken+'" />'+'<input type="hidden" name="t" value="'+tid+'" />'+'<input type="hidden" name="pollid" value="" />'+'</form>'}if(collapseobj_info10){collapseobj_info10.insertBefore(closediv,collapseobj_info10.firstChild)}else{var thrt=document.getElementById('threadtools');if(thrt){thrt.parentNode.parentNode.insertBefore(closediv,thrt.parentNode.parentNode.fistrChild)}}if(!Opera){GM_registerMenuCommand("TheRebels Links Checker - Verificar nova versao",function(){updateCheck(true)});updateCheck(false)}if(pagelinks){for(var i=0;i<=pagelinks.length-1;i++){var current=pagelinks[i].href;current=current.replace(' ','%20');pagelinks[i].href=current;for(var j=0;j<=sites.length-1;j++){if(current.search(sites[j])!=-1){current=pagelinks[i].href=FixLink(current);linkscount++;if(debug){GM_log('Yep!\ni = '+i+'\nj = '+j+'\npagelinks[i] = '+pagelinks[i]+'\nsites[j] = '+sites[j])}if(current.search(/mediafire\.com\/\?sharekey=/)!=-1){continue}else finalLinks.push(pagelinks[i].href)}}}}if(debug){GM_log(finalLinks)}if(linkscount>0){var logodiv=document.createElement('div');var r=/<a href="member.php\?u=(\d+)">(.*)<\/a>.<\/strong>/i;var elements=document.getElementsByClassName('smallfont');elements[0].innerHTML.search(r)!=-1?uid=r.exec(elements[0].innerHTML)[1]:uid="0";elements[0].innerHTML.search(r)!=-1?uname=r.exec(elements[0].innerHTML)[2]:uname="???";finalLinks=unique(finalLinks);showLoading();CheckLinks(finalLinks);if(totalMU_UN>0){hideLoading()}}}}catch(e){if(debug){var a="\n\nErro: "+e}alert('Erro Bloco 1'+a)}function confirmAct(){return confirm("Tem certeza que deseja enviar este t�pico para a Lixeira?")}function postMsg(){try{if(Opera){document.getElementById('vB_Editor_QR_textarea').value="expirado...\nlixeira";document.getElementById('qr_submit').click();return true}else return false}catch(e){if(debug){var a="\n\nErro: "+e}alert('Erro postMsg()'+a)}}function unique(a){var r=new Array();o:for(var i=0,n=a.length;i<n;i++){for(var x=i+1;x<n;x++){if(a[x]==a[i])continue o}r[r.length]=a[i]}return r}function showLoading(){try{var a=document.createElement('img');a.src='http://localhost/checker/loading.gif';logodiv.appendChild(a);logodiv.innerHTML='<div style="text-align:center; color:black; font-size:10px; font-weight:bold;">'+logodiv.innerHTML+'<br />Verificando...<br />'+'<a href="http://therebels.biz/member.php?u=86390" '+'target="_blank"><font color="Teal" size="1">by marziz</font></a></div>';div.appendChild(logodiv)}catch(e){alert("Erro showLoading()\n\nErro: "+e)}}function hideLoading(){try{var a="";totalON+totalOFF+totalMU_UN>1?p="s":p="";if(totalMU_UN>0){if(!direct_unv){a='<tr><td class="smallfont alt2">'+'<span id="mega_msg">'+'<p>Megaupload Indispon&iacute;vel.</p>'+'<p>Verifica&ccedil;&atilde;o direta ativada<br />'+'(<u>Pode demorar um pouco</u>)</p></span></td></tr>'}else{a='<tr><td class="smallfont alt2">'+'<span id="mega_msg">'+'<p>Megaupload Indispon�vel</p>'+'<p>Verique manualmente</p></td></span></tr>'}};logodiv.innerHTML='<div style="text-align:center;">'+'<table width="98%" cellspacing="2" cellpadding="0" border="0" >'+'<tr><td class="smallfont alt1"><span class="links_info">'+(totalON+totalOFF+totalMU_UN)+' Link'+p+' verificado'+p+' em <br />'+totalTime+' segs</span></td></tr>'+'<tr><td class="smallfont alt2"><span class="links_on">ON : <u>'+totalON+'</u></span></td></tr>'+'<tr><td class="smallfont alt2"><span class="links_off">OFF: <u>'+totalOFF+'</u></span></td></tr>'+a+'</table>'+'</div>'}catch(e){alert("Erro hideLoading()\n\nErro: "+e)}}function CheckLinks(c){var d=c.join();var f=[];var g=[];var h=[];var j=[];var k=0;var l=0;var m=0;var n=0;var o;d=d.replace(/,/gi,'\n');try{GM_xmlhttpRequest({method:"POST",url:script_url,headers:{'User-agent':Opera?'Opera/'+opera.version():'Mozilla/4.0 (compatible) Greasemonkey','Content-type':'application/x-www-form-urlencoded'},data:'links='+encodeURIComponent(d)+'&u='+encodeURIComponent(uname)+'&i='+uid,onload:function(a){try{res=a.responseText;if(res.search(/<maint ON:(.*)>/)!=-1){maintenanceON(/<maint ON:(.*)>/.exec(res)[1]);logodiv.innerHTML='';return false}else if(res.search(/<ERRMSG (.*)>/)!=-1){alert('ERRO: '+/<ERRMSG(.*)>/.exec(res)[1]);logodiv.innerHTML='';return false}var b=new RegExp(/(\d+\.\d{2})/);totalTime=b.exec(res)[1];if(debug){GM_log(res)}for(var i=0;i<=c.length-1;i++){if(res.search('!'+i+'!:<b>ON</b>')!=-1){if(debug){GM_log('*** LINK '+i+' ON *** '+c[i])}if(c[i].search("megaupload.com")!=-1){megaupload_filename(c[i])}else{n_rx=new RegExp('<name i='+i+'>(.*?)<\/name>');filename=n_rx.exec(res);if(filename){put_name(c[i],filename[1])}}o=decodeURIComponent(c[i]);f.push(o);k++;totalON++}else if(res.search('!'+i+'!:<b>ME</b>')!=-1){if(debug){GM_log('--- LINK '+i+' ME_UNV --- '+c[i])}o=decodeURIComponent(c[i]);j.push(o);n++;totalMU_UN++}else if(res.search('!'+i+'!:<b>UN</b>')!=-1){if(debug){GM_log('### LINK '+i+' UNV ### '+c[i])}o=decodeURIComponent(c[i]);h.push(o);m++;totalUNV++}else{if(debug){GM_log('!!! LINK '+i+' OFF !!! '+c[i])}o=decodeURIComponent(c[i]);g.push(o);l++;totalOFF++}}if(k>0)DisplayTheLiveLinks(f);if(l>0)DisplayTheDeadLinks(g);if(n>0){CheckMU(j)}if(totalUNV>0){DisplayTheUnavalLinks(h)}hideLoading()}catch(e){alert("Erro CheckLinks()::onload\n\nErro: "+e)}},onerror:function(a){alert(a.responseText)}})}catch(e){alert("Erro CheckLinks()\n\nErro: "+e)}}function checklink(c,d){var e=[];var f=[];GM_xmlhttpRequest({method:"GET",url:c,headers:{'User-agent':Opera?'Opera/'+opera.version():'Mozilla/4.0 (compatible) Greasemonkey'},onload:function(a){var b=a.responseText;if(debug){GM_log(b)}if(b.search(d)!=-1){totalON++;if(debug){GM_log('*** LINK : '+c+' -ON- ***')}e.push(c);DisplayTheLiveLinks(e);e.length=0}else{totalOFF++;if(debug){GM_log('!!! LINK : '+c+' -OFF- !!!')}f.push(c);DisplayTheDeadLinks(f);f.length=0}if(b.search(/document\.location='http\:\/\/www\.megaupload\.com\/\?c=msg/)!=-1){totalMU_UN++;direct_unv=true;if(debug){GM_log('### LINK : '+c+' -UN- ###')}}}})}function CheckMU(a){GM_log('Megaupload INDISPONIVEL. Verificando diretamente....');for(var i=0;i<=a.length-1;i++){if(a[i].search(/megaupload\.com\//)!=-1){if(debug){GM_log('CheckMU => link MEGA encontrado!')}checklink(a[i],'(Filename:)|(All download slots assigned to your country)|(Nome do arquivo:)')}}hideLoading()}function megaupload_filename(b){try{id=/megaupload\.com\/\?d=(.*)/.exec(b)[1];GM_xmlhttpRequest({method:"POST",url:"http://megaupload.com/mgr_linkcheck.php",headers:{'Content-type':'application/x-www-form-urlencoded','Connection':'Keep-Alive'},data:'id0='+id,onload:function(a){res=a.responseText;r=new RegExp(/&n=(.*)/);filename=r.exec(res);if(filename){put_name(b,filename[1])}}})}catch(e){alert("Erro mu_filename();\n\nErro: "+e)}}function FixLink(a){try{var b=/(megarotic\.com\/([a-z]{2}\/)?\?d=)|(megaporn\.com\/([a-z]{2}\/)?\?d=)|(sexuploader\.com\/([a-z]{2}\/)?\?d=)/;var c=/netload\.in\/(datei[0-9a-zA-Z]+)\/(.*)?/;var d=/easy-share\.com\/(\w+)((\.html)|(\/.*))?/;var f=/uploading\.com\/files\/([0-9a-zA-Z]+)\/.*?/;var g=/(hotfile\.com\/dl\/.*?\/.*?\/)/;var h=/ziddu.com\/download\/(\d+)\//;if(a.search(/megaupload\.com\/[a-z]{2}\//)!=-1){return a.replace(/megaupload\.com\/[a-z]{2}\//,'megaupload.com/')}if(a.search(/easy-share\.com\//)!=-1){return'http://www.easy-share.com/'+d.exec(a)[1]}else if(a.search(b)!=-1){return a.replace(b,'megaporn.com/?d=')}else if(a.search(/4shared\.com\/get\//)!=-1){return pagelinks[i].href.replace(/4shared\.com\/get\//,'4shared.com/file/')}else if(a.search(c)!=-1){return a.replace(c,'netload.in/'+c.exec(a)[1]+'.htm')}else if(a.search(/mihd\.net/)!=-1){return a.replace(/mihd\.net\//,'ifile.it/')}else if(a.search(/uploading\.com\//)!=-1){return'http://uploading.com/files/'+f.exec(a)[1]+'/'}else if(a.search(/hotfile\.com\//)!=-1){return'http://'+g.exec(a)[1]}else if(a.search(/ziddu.com\/download\//)!=-1){return'http://www.ziddu.com/download/'+h.exec(a)[1]+'/'}else return a}catch(e){alert("Erro FixLink()\n\nErro: "+e)}}function DisplayTheLiveLinks(a){var b="//a[contains(@href,\'"+a.join('\') or contains(@href,\'')+"\')]";if(debug){GM_log(b)}var c,d;c=document.evaluate(b,document,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(var i=0;i<c.snapshotLength;i++){var d=c.snapshotItem(i);d.id='alive_link'}}function put_name(a,b){var c="//a[contains(@href,\'"+a+"\')]";var d=document.evaluate(c,document,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);thisLink=d.snapshotItem(0);if(thisLink){thisLink.setAttribute("OnMouseOver","Exibir('<span style=\"color:blue;font-weight:bolder;\">Nome: </span><b>"+b+"</b>')");thisLink.setAttribute("OnMouseOut","Ocultar()")}window.location="javascript:function d1(){if(config)config.Above=true;}d1();"}function DisplayTheDeadLinks(a){var b="//a[contains(@href,\'"+a.join('\') or contains(@href,\'')+"\')]";if(debug){GM_log(b)}var c,d;c=document.evaluate(b,document,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(var i=0;i<c.snapshotLength;i++){var d=c.snapshotItem(i);d.id='adead_link';d.style.textDecoration='line-through'}}function DisplayTheUnavalLinks(a){var b="//a[contains(@href,\'"+a.join('\') or contains(@href,\'')+"\')]";var c,d;c=document.evaluate(b,document,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(var i=0;i<c.snapshotLength;i++){var d=c.snapshotItem(i);d.id='unava_link'}}function maintenanceON(a){mdiv=document.createElement('div');mdiv.innerHTML='<div align="center"><p><span style="font-weight:bold;font-size:13px;color:red;text-align:center;">!! SCRIPT EM MANUTEN��O !!</span></p><p>'+a+'</p></div>';div.appendChild(mdiv)}function updateCheck(e){if(Opera)return false;if((e)||(parseInt(GM_getValue("lastUpdate","0"))+10800000<=(new Date().getTime()))){try{GM_xmlhttpRequest({method:"GET",url:updcheck,headers:{'Cache-Control':'no-cache'},onload:function(a){GM_setValue("lastUpdate",new Date().getTime()+"");var b=a.responseText;if(debug){GM_log(b)};var c=/@upd\s*(.*?)\s*$/m.exec(b)[1];var d=/@obupd\s*(.*?)\s*$/m.exec(b)[1];GM_setValue("targetScriptName","TheRebels Links Checker");if(parseInt(/@version_timestamp\s*([0-9]+)/.exec(b)[1])>version_timestamp){if(d.search(/YES/)!=-1){alert("Existe uma atualizacao obrigatoria do TheRebels Links Checker disponivel!\n\nDescricao: "+c+"\n\nSem essa atualizacao o script nao ira mais funcionar corretamente.\nClique OK para instalar a nova versao");GM_openInTab(update_url)}else if(confirm("Existe uma atualizacao do TheRebels Links Checker disponivel!.\"\n\nDescricao da Atualizacao: "+c+"\n\nGostaria de atualizar o script agora?")){GM_openInTab(update_url)}}else if(e){alert("Nenhuma atualizacao disponivel para TheRebels Links Checker disponivel")}}})}catch(err){if(e){alert("Ocorreu um erro ao buscar por atualizacoes:\n"+err)}}}}