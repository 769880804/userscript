// ==UserScript==
// @name          FormulaWan - Shop
// @description   Replaces bonus names with their actual bonus
// @include       http://www.formulawan.com/*
// @exclude       http://www.formulawan.com/Fenetre_Regle.php*
// @exclude       http://www.formulawan.com/Fenetre_Recherche.php*
// ==/UserScript==

var bonus, regex, key, textnodes, node, s;

bonus = {
	"Astonishing Performance":			"Car +6 Speed",
	"Double Gas Tank":        			"Car +6 Speed",
	"Energy Shield":          			"Car +5 Struct",
	"Extra Large Tyre":        			"Car +6 Corner",
	"Extra Plate":             			"Car +5 Struct",
	"Flatened Shape":					"Car +6 Corner",
	"God power":						"Car +6 Speed",
	"Heater Vaccum Cleaner":				"Car +6 Speed",
	"High Speed No Matter What Happens":	"Car +6 Speed",
	"Incredible Magnetic Field":			"Car +6 Brake",
	"Kinetic Energy Absorber":			"Car +6 Brake",
	"Light Tyre":						"Car +6 Accel",
	"Optimized balance":				"Car +6 Corner",
	"Retro-laser":						"Car +6 Brake",
	"Speedy Funky Oil":					"Car +6 Accel",
	"Studded Tyre":					"Car +6 Brake",
	"Subliminal Acceleration":			"Car +6 Accel",
	"Super Auto Pilot":					"Car +6 Corner",
	"Super Structure":					"Car +5 Struct",
	"Take Off Tendency":				"Car +6 Speed",
	"Weightlessness":					"Car +6 Accel",
	"500 horsepower":					"Driver +1 Speed",
	"Additional Piston":				"Driver +1 Accel",
	"Always Ahead":					"Driver +1 Accel",
	"Antiheat StepOnTheGas":				"Driver +1 Brake",
	"Body Down":						"Driver +1 Speed",
	"Caution&Warning":					"Driver +1 Brake",
	"Double Brake Shoe":				"Driver +1 Brake",
	"Extended Profile":					"Drvier +1 Accel",
	"First Boosted":					"Driver +1 Accel",
	"Flexible StepOnTheGas":				"Driver +1 Corner",
	"Full Wings":						"Driver +1 Brake",
	"Great Change Down":				"Driver +1 Brake",
	"Mad Driver":						"Driver +1 Speed",
	"Overheating Spark Plus":			"Driver +1 Accel",
	"Overproud":						"Driver +1 Speed",
	"Perfect Balance":					"Driver +1 Corner",
	"Poky Wheel":						"Driver +1 Corner",
	"Power-Steering":					"Driver +1 Corner",
	"Powerful Crankshaft":				"Driver +1 Brake",
	"Proud Of It !":					"Driver +1 Accel",
	"Road Verges Lover":				"Driver +1 Corner",
	"Second Boosted":					"Driver +1 Accel",
	"Seventh' Gear":					"Driver +1 Speed",
	"Shoot Off Acceleration":			"Driver +1 Accel",
	"Shoot Off Speed":					"Driver +1 Speed",
	"Stikky Car Body":					"Driver +1 Corner",
	"Super Alloy":						"Driver +1 Accel",
	"Super Bend":						"Driver +1 Corner",
	"Super Brake":						"Driver +1 Brake",
	"Tyre Blocking":					"Driver +1 Corner",
	"Unfailing Marker":					"Driver +1 Brake",
	"Wings Spread":					"Driver +1 Accel",
	"Acceleration stick shift":			"Trigger Accel-Accel",
	"Air Slip":						"Trigger Speed-Speed",
	"Air Turbo":						"Trigger Speed-Accel",
	"Anticipate Change Down":			"Trigger Accel-Brake",
	"Balanced Weight":					"Trigger Accel-Bend",
	"Bendshape Adopting":				"Trigger Bend-Accel",
	"Big Engined Car":					"Trigger Accel-Brake",
	"Brake Speed Switch":				"Trigger Accel-Brake",
	"Brake Wings":						"Trigger Brake-Brake",
	"Braking Absorbtion":				"Trigger Accel-Brake",
	"Close To Gas Pedal":				"Trigger Brake-Accel",
	"CoolRocket":						"Trigger Accel-Speed",
	"Elastic Discs":					"Trigger Brake-Speed",
	"Excellium Motorbrake":				"Trigger Speed-Brake",
	"Extra Speed Down":					"Trigger Brake-Brake",
	"Extra Steering Lock":				"Trigger Bend-Speed",
	"Extra StepOnTheGas":				"Trigger Accel-Bend",
	"Extra Tyre Tracks":				"Trigger Speed-Brake",
	"Flexible Centre Of Gravity":			"Trigger Bend-Accel",
	"Forth ' Power":					"Trigger Accel-Bend",
	"Funky TurnOfTheWheel":				"Trigger Brake-Brake",
	"Gear Skip Down":					"Trigger Brake-Brake",
	"Gear Skip Up":					"Trigger Accel-Speed",
	"Independant Right Left":			"Trigger Brake-Bend",
	"Jamming StepOnTheGas":				"Trigger Brake-Brake",
	"Jointed Car Body":					"Trigger Bend-Brake",
	"Jumping Bend":					"Trigger Bend-Speed",
	"Keep Speed":						"Trigger Brake-Speed",
	"Light Weight":					"Trigger Brake-Bend",
	"Lightened Back":					"Trigger Brake-Speed",
	"Locked Wheel":					"Trigger Speed-Bend",
	"Maximum Grip":					"Trigger Brake-Brake",
	"Metamorphosis Tyres":				"Trigger Speed-Bend",
	"Multiservice Piston":				"Trigger Bend-Speed",
	"Optimizing Trajectory":				"Trigger Bend-Accel",
	"Power Brake Drum":					"Trigger Brake-Brake",
	"Powerbooster":					"Trigger Accel-Speed",
	"Powerfull Change Down":				"Trigger Brake-Accel",
	"Quadruple Nija Silencer":			"Trigger Speed-Speed",
	"Quicky Fifth' Gear":				"Trigger Bend-Speed",
	"RightInTheMiddle":					"Trigger Brake-Brake",
	"Rotary Brake":					"Trigger Bend-Brake",
	"Rubber Alloy":					"Trigger Brake-Bend",
	"Second Gear Up":					"Trigger Brake-Speed",
	"Sixth And A Half":					"Trigger Speed-Speed",
	"Speedy Brake":					"Trigger Speed-Brake",
	"Strong Acceleration":				"Trigger Brake-Accel",
	"TakeABend Bonus":					"Trigger Brake-Bend",
	"TakeABend like A Mad":				"Trigger Bend-Brake",
	"Third Gear Up":					"Trigger Bend-Accel",
	"Trajectory Correcting":				"Trigger Accel-Bend",
	"Double Turbo":					"Ovetake +2 Speed",
	"Turbo Button":					"Trigger Speed-Accel",
	"Turbo":							"Trigger Accel-Accel",	
	"Tyre Marks":						"Trigger Accel-Accel",
	"TyreAtTheBottom":					"Trigger Bend-Brake",
	"Clutch-Declutch":					"Overtake +1",
	"Desperado":						"Overtake +1",
	"Double Valve":					"Overtake +2 Brake",
	"Exhaust allergic":					"Overtake +1",
	"First-Second Super Booster":			"Overtake +2 Accel",
	"Fith And Sixth Twins":				"Overtake +2 Speed",
	"Magic Hand Brake":					"Overtake +2 Brake",
	"Master in Overtaking":				"Overtake +1",
	"Minimouse Car Body":				"Overtake +2 Bend",
	"Nitro Injector":					"Overtake +2 Accel",
	"Nose In The Wind":					"Overtake +1",
	"Overtaking Bonus Extra Tyre":		"Overtake +1",
	"Quicky Master Wings":				"Overtake +2 Speed",
	"Red Zone Booster":					"Overtake +1",
	"Special Flat Tyre":				"Overtake +2 Bend",
	"Stop Tyre Groovy Bonus":			"Overtake +2 Brake",
	"Third-First AntiBoost":				"Overtake +2 Brake",
	"Up And Down":						"Overtake +2 Bend",
	"Acceleration Calculator":			"Block +2 Accel",
	"Anti Smoke Calculator":				"Block +1",
	"Bend Calculator":					"Block +2 Bend",
	"Brake Calculator":					"Block +2 Brake",
	"Electronic Braking":				"Block +2 Brake",
	"Extended Second Gear ":				"Block +2 Accel",
	"Fat Posterior":					"Block +1",
	"Misleading path":					"Block +2 Bend",
	"Path loss":						"Block +1",
	"Precision Brake":					"Block +1",
	"Self-Esteem":						"Block +1",
	"Side Change":						"Block +2 Speed",
	"Speed Calculator":					"Block +2 Speed",
	"Dodge":							"Anti-Col +2%",
	"Extra Sensitivy":					"Anti-Col +2%",
	"Feel Like Living":					"Anti-Col +2%",
	"Rubber Bodywork":					"Anti-Col +2%",
	"Sensitive Engine Braking":			"Anti-Col +2%",
	"Absorbtion Bubble":				"Anti-Damage -5%",
	"Armour Plating":					"Anti-Damage -5%",
	"Extra Roadholding":				"Car +1 Road",
	"Mad Grip":						"Car +1 Road",
	"Skotch-Tape":						"Car +1 Road",
	"Synthetic Tyres":					"Car +1 Road"};
	
regex = {};
for (key in bonus){
	regex[key] = new RegExp(key, 'g');
}

textnodes = document.evaluate(
    "//text()",
    document,
    null,
    XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,
    null);
for (var i = 0; i < textnodes.snapshotLength; i++) {
    node = textnodes.snapshotItem(i);
    s = node.data;
    for (key in bonus) {
        s = s.replace(regex[key], bonus[key]);
    }
    node.data = s;
}
	
