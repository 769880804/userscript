// ==UserScript==
// @name          Lynx-like view
// @namespace     http://userstyles.org
// @description	  Recolours the page to look more or less as if it is viewed with the text based browser Lynx
// @author        BBa
// @include       http*://*
// ==/UserScript==

(function() {
var css = "data:text/css;base64,QGNoYXJzZXQgInV0Zi04IjsKSU5QVVRbdHlwZT1zdWJtaXRdLElOUFVUW3R5cGU9U3VibWl0XSxJTlBVVFt0eXBlPVNVQk1JVF0sSU5QVVRbdHlwZT1idXR0b25dLElOUFVUW3R5cGU9QnV0dG9uXSxJTlBVVFt0eXBlPUJVVFRPTl0sQTpsaW5rLEE6dmlzaXRlZCB7dGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmUgIWltcG9ydGFudDtmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50O2JvcmRlcjogbm9uZSAhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7fQoqIHtib3JkZXI6IG5vbmUgIWltcG9ydGFudDtwYWRkaW5nOiAwICFpbXBvcnRhbnQ7bWFyZ2luOiAwICFpbXBvcnRhbnQ7d2lkdGg6IGF1dG8gIWltcG9ydGFudDtkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudDtiYWNrZ3JvdW5kOiB3aGl0ZSAhaW1wb3J0YW50O2NvbG9yOiBibGFjayAhaW1wb3J0YW50O2ZvbnQ6IG1lZGl1bSBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7dGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O3Bvc2l0aW9uOiBzdGF0aWMgIWltcG9ydGFudDtmbG9hdDogbm9uZSAhaW1wb3J0YW50O3RleHQtZGVjb3JhdGlvbjogbm9uZSAhaW1wb3J0YW50O3RleHQtaW5kZW50OiAwICFpbXBvcnRhbnQ7Zm9udDogMTAwJS8xLjEgbW9ub3NwYWNlICFpbXBvcnRhbnQ7fQpIRUFEIHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnR9CklOUFVULElOUFVUW3R5cGU9dGV4dF0sSU5QVVRbdHlwZT1UZXh0XSxJTlBVVFt0eXBlPVRFWFRdIHtib3JkZXItc3R5bGU6IG5vbmUgbm9uZSBzb2xpZCBub25lICFpbXBvcnRhbnQ7Ym9yZGVyLXdpZHRoOiAwIDAgdGhpbiAwICFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjogYmxhY2sgIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiAjRjJGMkYyICFpbXBvcnRhbnQ7fQpCLFNUUk9ORyB7Zm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDt9CkFERFJFU1MsQkxPQ0tRVU9URSxCT0RZLERELERMLERULEZJRUxEU0VULEZPUk0sRlJBTUUsRlJBTUVTRVQsSDEsSDIsSDMsSDQsSDUsSDYsSUZSQU1FLE5PRlJBTUVTLE9CSkVDVCxPTCxQLFVMLEFQUExFVCxDRU5URVIsRElSLEhSLE1FTlUsUFJFLExJLFRBQkxFLFRSLFRIRUFELFRCT0RZLFRGT09ULENPTCxDT0xHUk9VUCxURCxUSCxDQVBUSU9OIHtkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O21hcmdpbjogMWVtIDAgIWltcG9ydGFudH0KRElWIHtkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O21hcmdpbjogMC4zZW0gMCAhaW1wb3J0YW50fQpCT0RZIHttYXJnaW46IDAgMCAwIDFlbSAhaW1wb3J0YW50fQpIMSB7dGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDt9CkgyIHttYXJnaW4tbGVmdDogMGVtICFpbXBvcnRhbnR9ClVMLE9MIHttYXJnaW4tbGVmdDogMmVtICFpbXBvcnRhbnR9CkxJIHt0ZXh0LWluZGVudDogLTEuMmVtICFpbXBvcnRhbnQ7bWFyZ2luOiAwICFpbXBvcnRhbnR9CkxJOmJlZm9yZSB7Y29udGVudDogIiogIiAhaW1wb3J0YW50fQpBOmZvY3VzIHtiYWNrZ3JvdW5kLWNvbG9yOiAjMTAxMDEwICFpbXBvcnRhbnQ7Y29sb3I6ICNGQUZBRkEgIWltcG9ydGFudDt9CklNRyB7d2lkdGg6IDAgIWltcG9ydGFudDtoZWlnaHQ6IDAgIWltcG9ydGFudH0KSU1HOmJlZm9yZSB7Y29udGVudDogYXR0cihhbHQpICFpbXBvcnRhbnQ7fQpTQ1JJUFQge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O30=";
var cssWithImg = "data:text/css;base64,QGNoYXJzZXQgInV0Zi04IjsKSU5QVVRbdHlwZT1zdWJtaXRdLElOUFVUW3R5cGU9U3VibWl0XSxJTlBVVFt0eXBlPVNVQk1JVF0sSU5QVVRbdHlwZT1idXR0b25dLElOUFVUW3R5cGU9QnV0dG9uXSxJTlBVVFt0eXBlPUJVVFRPTl0sQTpsaW5rLEE6dmlzaXRlZCB7dGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmUgIWltcG9ydGFudDtmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50O2JvcmRlcjogbm9uZSAhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7fQoqIHtib3JkZXI6IG5vbmUgIWltcG9ydGFudDtwYWRkaW5nOiAwICFpbXBvcnRhbnQ7bWFyZ2luOiAwICFpbXBvcnRhbnQ7d2lkdGg6IGF1dG8gIWltcG9ydGFudDtkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudDtiYWNrZ3JvdW5kOiB3aGl0ZSAhaW1wb3J0YW50O2NvbG9yOiBibGFjayAhaW1wb3J0YW50O2ZvbnQ6IG1lZGl1bSBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7dGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O3Bvc2l0aW9uOiBzdGF0aWMgIWltcG9ydGFudDtmbG9hdDogbm9uZSAhaW1wb3J0YW50O3RleHQtZGVjb3JhdGlvbjogbm9uZSAhaW1wb3J0YW50O3RleHQtaW5kZW50OiAwICFpbXBvcnRhbnQ7Zm9udDogMTAwJS8xLjEgbW9ub3NwYWNlICFpbXBvcnRhbnQ7fQpIRUFEIHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnR9CklOUFVULElOUFVUW3R5cGU9dGV4dF0sSU5QVVRbdHlwZT1UZXh0XSxJTlBVVFt0eXBlPVRFWFRdIHtib3JkZXItc3R5bGU6IG5vbmUgbm9uZSBzb2xpZCBub25lICFpbXBvcnRhbnQ7Ym9yZGVyLXdpZHRoOiAwIDAgdGhpbiAwICFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjogYmxhY2sgIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiAjRjJGMkYyICFpbXBvcnRhbnQ7fQpCLFNUUk9ORyB7Zm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDt9CkFERFJFU1MsQkxPQ0tRVU9URSxCT0RZLERELERMLERULEZJRUxEU0VULEZPUk0sRlJBTUUsRlJBTUVTRVQsSDEsSDIsSDMsSDQsSDUsSDYsSUZSQU1FLE5PRlJBTUVTLE9CSkVDVCxPTCxQLFVMLEFQUExFVCxDRU5URVIsRElSLEhSLE1FTlUsUFJFLExJLFRBQkxFLFRSLFRIRUFELFRCT0RZLFRGT09ULENPTCxDT0xHUk9VUCxURCxUSCxDQVBUSU9OIHtkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O21hcmdpbjogMWVtIDAgIWltcG9ydGFudH0KRElWIHtkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O21hcmdpbjogMC4zZW0gMCAhaW1wb3J0YW50fQpCT0RZIHttYXJnaW46IDAgMCAwIDFlbSAhaW1wb3J0YW50fQpIMSB7dGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDt9CkgyIHttYXJnaW4tbGVmdDogMGVtICFpbXBvcnRhbnR9ClVMLE9MIHttYXJnaW4tbGVmdDogMmVtICFpbXBvcnRhbnR9CkxJIHt0ZXh0LWluZGVudDogLTEuMmVtICFpbXBvcnRhbnQ7bWFyZ2luOiAwICFpbXBvcnRhbnR9CkxJOmJlZm9yZSB7Y29udGVudDogIiogIiAhaW1wb3J0YW50fQpBOmZvY3VzIHtiYWNrZ3JvdW5kLWNvbG9yOiAjMTAxMDEwICFpbXBvcnRhbnQ7Y29sb3I6ICNGQUZBRkEgIWltcG9ydGFudDt9CklNRyB7bWFyZ2luOjBweDtwYWRkaW5nOjBweDt9ClNDUklQVCB7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fQ==";

var heads = document.getElementsByTagName("head");
  if (heads.length > 0) {
    var cssNode = document.createElement("link");
    cssNode.type = "text/css";
    cssNode.rel = "alternate stylesheet"
    cssNode.title = "Lynx-like style"
    cssNode.href = css;
    var cssWithImgNode = document.createElement("link");
    cssWithImgNode.type = "text/css";
    cssWithImgNode.rel = "alternate stylesheet"
    cssWithImgNode.title = "Lynx-like style (with images)"
    cssWithImgNode.href = cssWithImg;
    heads[0].appendChild(cssNode); 
    heads[0].appendChild(cssWithImgNode); 
  }
})();
