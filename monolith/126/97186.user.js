// ==UserScript==
// @name           Erep Tools
// @namespace      Erep Tools
// @description    Erep Tools
// @creator        mkey
// @date           2011-02-17
// @include        http://*.erepublik.com/*
// ==/UserScript==


(function(){var H=document,k=H.getElementById,G=H.getElementsByClassName,E=H.getElementsByTagName,r=H.createElement;
if(k("citizen_password")!=null||G("err _maintenance").length>0){return
}var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sCCwsBBXzIuAIAAAIuSURBVDjLpZO7T5NhFMZ/39u30H5clFouXyGfggYUkoYBwUUTlLg5Gf8HFhPigouJiYs4ODu6OWgnjYkGE8XLAINIAiJXKZeCLdAGLP36XV6HXoiDCZGznJwnOc/znPc9R1NKcZyQC9sZNZ/axXU9lFYA/0WplbLSkD6NttBJeDmzqP433v5YVvLA9djIWqSsPOfratg6cA6V+NuRBxhByffdPZoCFTgKpJXLE9ErmVjZwucqusK17AGed2hdAUJALTCT2mUl85vo2RayORtp2Q4AvR0m76aWyNp5LhphEOCUHqqYJ9a2WEhn6e9sBSCXtxFOUapSQHebwXRym7HVzXJjqflDfJPpnX2iZgP+IuZ4CmnbBQIdiNQGaaiu4tPyOrblcO1cCwCjiwleTd5mJx1jdByEBgOdg1gMIi2vYDQATK6msHMu/R1nmE2kePp1FhDMrd/HJ2L0X4JeY5jxxAjf5p4gVQrhFRfp4/Ime47F1c7TRKpquBAJ01h3gqZQDWu/ntFuQmYfukIPyexDuwmJ9AuED8WBp0i7Dpdbm7E9UEKjTgaJVOsYejVKQY8xzFBfQWyoT9FjDKMUSMtxCAqNG8V5AwJCuh90f/kbhYD38yO8nhnh3oDiwaiG7i/gMtrcyKM3X7BdB6VAK2/PYVFhX2FpY4yWMHz+eRepYGkDwvI62lGOKR6Pq+eTd5jajpV5o6ducqv78dEISiTJZLJc19fXY5qmph33nP8AOoon95rUkloAAAAASUVORK5CYII=",n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sCCwsBJUemmMoAAAJGSURBVDjLpZPNSxRxHMY/s7M5u86u+5Jsu2ppaZqVllgdhSAoqkunOnSVjkYQHerWuX/Aa3Qw6NKhAgNJFLFWU3MVyrTVXF3d19kXZ3Z25tchiSCUwOf8wPd5PjxfSQjBQeTggHL+rzE//kjo66OYuoJLMVAvPMbdelOS9qsgKkXsSkmUYq+pFodQuzvB3EZ2QW54hfrbk9KeCQqfngkzOwKyjW2BbFUojOWov1SEbALLsPavUF58gf/iYZQjEsJWkGSF9VfT5JeuY22uYunW/hAFLoxcG3blFmLLjT77HbnGR+1JL+oxBcn1+7Zj4P5DMRNb+gfE1k4dM29Hib2bYG1BsFPw41EljJTAyNp/ojt1Q6frTBuJkSeilF5BrT+O5JCpO9qK02Uh12TIpwoUhQ7BHsLmHGvLJTa+aly7W8Wp6waFok1DZy/Vajd2tQy2iew6j+ztJ782RS4eJRefJTn5Htk4iztwglBbnOU3D4SzUjEol3Vc8SEs3IhdLN+iUVSfj2BzL01dfdhCYNsGvuZzeMOdeBra+fnxJc6qaaKbJqvzC9iHPHj9Pjx+lfaeU5S0IunlCRKxD+BQOH21HyrbFBPDJKcGKah9OM2qyeLCFyIdT6G0QXl7nM0f86h+BW+dQrhJBVQs2yY5/ZxU2qQUvEFtxwDhcBgpGo2KQCBAJBKRdF2/kkqlhjVNQ09+RiTHqC3NIXYns9N0B7X5Mo2NjdlQKBQE2HPKmqaRTqdFJpMBQJIkWlpa7gWDwcG/fdJB3/kXeW0SkDR+1iMAAAAASUVORK5CYII=",I="data:image/png;base64,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",f=[["Croatia","HRK",63],["USA","USD",24],["United Arab Emirates","AED",166],["Argentina","ARS",27],["Australia","AUD",50],["Bulgaria","BGN",42],["Bolivia","BOB",76],["Brazil","BRL",9],["Romania","RON",1],["Serbia","RSD",65],["Russia","RUB",41],["Sweden","SEK",38],["Canada","CAD",23],["Chile","CLP",64],["China","CNY",14],["Colombia","COP",78],["Estonia","EEK",70],["Egypt","EGP",165],["Spain","ESP",15],["Finland","FIM",39],["France","FRF",11],["United Kingdom","GBP",29],["Greece","GRD",44],["Hungary","HUF",13],["Indonesia","IDR",49],["Ireland","IEP",54],["India","INR",48],["Iran","IRR",56],["Italy","ITL",10],["Japan","JPY",45],["North Korea","KPW",73],["South Korea","KRW",47],["Lithuania","LTL",72],["Latvia","LVL",71],["Republic of Moldova","MDL",52],["Montenegro","MEP",80],["Republic of Macedonia FYROM","MKD",79],["Mexico","MXN",26],["Malaysia","MYR",66],["Israel","NIS",58],["Netherlands","NLG",31],["Norway","NOK",37],["New Zealand","NZD",84],["Peru","PEN",77],["Philippines","PHP",67],["Pakistan","PKR",57],["Portugal","PTE",53],["Paraguay","PYG",75],["Saudi Arabia","SAR",164],["Singapore","SGD",68],["Slovenia","SIT",61],["Slovakia","SKK",36],["Thailand","THB",59],["Turkey","TRY",43],["Republic of China Taiwan","TWD",81],["Ukraine","UAH",40],["Uruguay","UYU",74],["Venezuela","VEB",28],["South Africa","ZAR",51],["Cyprus","CYP",82],["Czech Republic","CZK",34],["Germany","DEM",12],["Austria","ATS",33],["Bosnia Herzegovina","BAM",69],["Belgium","BEF",32],["Belarus","BYR",83],["Switzerland","CHF",30],["Denmark","DKK",55]],y=[[0,0],[10,"Recruit"],[30,"Private"],[60,"Private *"],[100,"Private **"],[150,"Private ***"],[250,"Corporal"],[350,"Corporal *"],[450,"Corporal **"],[600,"Corporal ***"],[800,"Sergeant"],[1000,"Sergeant *"],[1400,"Sergeant **"],[1850,"Sergeant ***"],[2350,"Lieutenant"],[3000,"Lieutenant *"],[3750,"Lieutenant **"],[5000,"Lieutenant ***"],[6500,"Captain"],[9000,"Captain *"],[12000,"Captain **"],[15500,"Captain ***"],[20000,"Major"],[25000,"Major *"],[31000,"Major **"],[40000,"Major ***"],[52000,"Commander"],[67000,"Commander *"],[85000,"Commander **"],[110000,"Commander ***"],[140000,"Lt Colonel"],[180000,"Lt Colonel *"],[225000,"Lt Colonel **"],[285000,"Lt Colonel ***"],[355000,"Colonel"],[435000,"Colonel *"],[540000,"Colonel **"],[660000,"Colonel ***"],[800000,"General"],[950000,"General *"],[1140000,"General **"],[1350000,"General ***"],[1600000,"Field Marshal"],[1875000,"Field Marshal *"],[2185000,"Field Marshal **"],[2550000,"Field Marshal ***"],[3000000,"Supreme Marshal"],[3500000,"Supreme Marshal *"],[4150000,"Supreme Marshal **"],[4900000,"Supreme Marshal ***"],[5800000,"National Force"],[7000000,"National Force *"],[9000000,"National Force **"],[11500000,"National Force ***"],[14500000,"World Class Force"],[18000000,"World Class Force *"],[22000000,"World Class Force **"],[26500000,"World Class Force ***"],[31500000,"Legendary Force"],[37000000,"Legendary Force *"],[43000000,"Legendary Force **"],[50000000,"Legendary Force ***"],[60000000,"God of War"]],F='.et_btn{ margin:0 3px 0; cursor:default; } .et_btn span{ background:#5BAECA; -moz-user-select:none; -moz-border-radius:3px; padding:3px 5px; color:white; font-weight:800; font-size:12px; text-shadow:0 -1px 0 #999999; } .et_btn span:hover{ background:#7EC3DB; } .et_footer{color:#666666;font-size:8px;} .et_inf_table{background-color:#f9fdf5; padding:0 3px 8px 10px; -moz-border-radius:5px; border:1px solid #e4fad3;margin-bottom:2px;} .et_inf_table table{color:#666666;text-align:right;} .et_inf_table tbody tr td{padding:3px 5px;} .et_inf_tr{border-bottom:1px solid gray;} .et_inv_sort{padding:5px 0 0;} .et_inv_sort a{margin:0 3px 0;} .et_menu { padding:5px 26px 0 0; } .et_menu input{width:65px; margin-right:2px; font:600 11px sans-serif; color:white; background-color:#5baeca; border:1px solid #5baeca; text-align:center;} .et_menu input:hover{border-color:#e7f5ff;} .et_quick { position:relative; top:3px; } .et_quick img{ border:1px solid white; } .et_quick img:hover{ border:1px solid #E9F5FA; } .fluid_mod { display:inline; float:left; } .fluid_mod span { background-color:#bf1313; -moz-border-radius:3px; padding:8px 15px; color:white; font-weight:800; font-size:12px; position:relative; text-shadow:0 -1px 0 #555555; z-index:100; cursor:pointer; } .fluid_mod span:hover{ background-color:#e01818; } .et_cur { padding:0 0 0 210px; } .infoalert table{ font:600 12px "Tahoma"; } .infoalert table tbody tr td{ vertical-align:top; width:70px; } .infoalert input{ font:500 11px "Tahoma"; position:relative; top:2px; }.none{ background:0!important; color: #5A8931; }',C={lang:"en",btn_eat:"Eat food",btn_account:"View your account",btn_inventory:"View your inventory",btn_travel:"Change your location",donate_btn:"Make a donation to ",msg_btn:"Send a private message to ",},w=[C],K=w[a("hw_lang",0)];
GM_addStyle(F);if(H.URL=="http://www.erepublik.com/en"){s()}else{if(H.URL.indexOf("/land/")>0){m()
}else{if(H.URL.indexOf("/battlefield/")>0){B()}else{if(H.URL.indexOf("/warn/")>0){g()
}else{if(H.URL.indexOf("/military/")>0){p()}else{if(H.URL.indexOf("/citizen/profile/")>0){D()
}else{if(H.URL.indexOf("/exchange")>0){j()}else{if(H.URL.indexOf("/market/")>0){i()
}else{if(H.URL.indexOf("/inventory")>0){h()}else{if(H.URL.indexOf("/donate/")>0){u()
}else{if(H.URL.indexOf("/captcha/")>0){J()}else{if(H.URL.indexOf("/pin")>0){z()
}else{if(H.URL.indexOf("/search/")>0){o()}}}}}}}}}}}}}b();function B(){if(k("recaptcha_response_field")){k("recaptcha_response_field").focus()
}var d=k("pvp_header").getElementsByTagName("h2")[0];d.innerHTML='<a href="http://www.erepublik.com/en/region/'+d.textContent.replace(/\s.\s/," ").replace(/\s/g,"-")+'">'+d.textContent+"</a>";
var d=k("timer");if(d==null){return}setInterval(function(){if(d.style.display!=""){q(d.getElementsByTagName("a")[0])
}},500);setInterval(function(){var L=k("enemy_defeated");if(L!=null&&L.style.display!="none"){L=k("add_damage_btn");
if(L){q(L)}}else{L=k("rank_up");if(L!=null&&L.style.display!="none"){L=k("add_rank_btn");
if(L){q(L)}}}},200)}function J(){k("recaptcha_response_field").focus()
}function b(){var d=k("point");if(d){d.parentNode.removeChild(d)
}}function u(){}function j(){setInterval(d,500);function d(){var N=k("error_for_amount_to_accept");
if(N==null||k("et_fix_id")!=null){return}N.style.padding="5px 0 12px";
N.style.margin="3px 0 0";N.parentNode.style.height="80px";N=k("table_list_offers").getElementsByClassName("special");
var O=c=v=0;for(var M=0;M<N.length;M+=3){v=Number(N[M].textContent);
O+=v;c+=Number(N[M+2].textContent)*v}N=k("pagination_pager");
if(N==null){N=r("div");N.id="pagination_pager";k("populateOffers").appendChild(N)
}var L=r("span");L.innerHTML="<br/>";L.id="et_fix_id";N.parentNode.insertBefore(L,N);
L=r("span");L.className="special et_cur";L.textContent="Total: "+Math.round(O*100)/100+" offer, "+Math.round(c*100)/100+" buyout";
N.parentNode.insertBefore(L,N)}}function h(){}function m(){setInterval(function(){var d=k("work_results");
if(d!=null&&d.style.display!="none"){d=k("collect");if(d){q(d)
}}},200)}function s(){l();var L=G("user_country")[0].href.substring(44),d=k("articles").getElementsByTagName("div")[0];
d.innerHTML='<a class="mbutton" href="http://www.erepublik.com/en/news/international"><img alt="" src="'+I+'"><span>International</span></a><a class="mbutton" href="http://www.erepublik.com/en/news/rated/all/'+L+'/1"><img alt="" src="http://www.erepublik.com/images/flags_png/S/'+L+'.png"><span>Top Rated</span></a>'+d.innerHTML
}function i(){var M=k("countryId_titletext");if(M==null){setTimeout(i,100);
return}M=M.textContent.trim();var R=a(M,0),S=E("strong")[0].textContent;
if(R==0){P(M,x(M),S);return}else{R=R.split(";");if(S!=R[1]){P(M,R[2],S)
}}var U=G("price_sorted");if(U.length==0){return}var d=H.URL.split("/"),L=d[6],Q;
d=d[7];Q=(d==1||L==3)?0:(L!=1)?d*d:d;L=U[0].getElementsByClassName("m_price stprice");
var T,O,N=(d.length==L.length*2);for(O=0;O<L.length;O++){T=L[O].textContent.trim().split(" ");
T[0]=Number(T[0]);T[5]=T[1];R[2]=R[0]*T[0];R[1]=Math.floor(R[2]);
R[2]=Math.round((R[2]-R[1])*10000);R[2]=Math.floor(R[2]/10);R[2]=String(R[2]);
if(R[2].length==1){R[2]="00"+R[2]}else{if(R[2].length==2){R[2]="0"+R[2]
}}if(Q!=0){R[4]=(R[0]*T[0])/Q;R[3]=Math.floor(R[4]);R[4]=Math.round((R[4]-R[3])*10000);
R[4]=Math.floor(R[4]/10);R[4]=String(R[4]);if(R[4].length==1){R[4]="00"+R[4]
}else{if(R[4].length==2){R[4]="0"+R[4]}}}T[2]=T[0];T[1]=Math.floor(T[2]);
T[2]=Math.round((T[2]-T[1])*1000);T[2]=Math.floor(T[2]/10);T[2]=String(T[2]);
if(T[2].length==1){T[2]="0"+T[2]}if(Q!=0){T[4]=T[0]/Q;T[3]=Math.floor(T[4]);
T[4]=Math.round((T[4]-T[3])*1000);T[4]=Math.floor(T[4]/10);T[4]=String(T[4]);
if(T[4].length==1){T[4]="0"+T[4]}}L[O].style.padding="0 2px";
L[O].style.width="115px";L[O].innerHTML="<strong>"+T[1]+"</strong><sup>."+T[2]+" <strong>"+T[5]+"</strong></sup> / <strong>"+R[1]+"</strong><sup>."+R[2]+" <strong>G</strong></sup>"+((Q==0)?"":"<hr/><strong>"+T[3]+"</strong><sup>."+T[4]+" <strong>"+T[5]+"</strong></sup> / <strong>"+R[3]+"</strong><sup>."+R[4]+" <strong>G</strong></sup>")
}function P(W,X,V){if(X==-1){return}GM_xmlhttpRequest({method:"GET",url:"http://www.erepublik.com/en/exchange/listOffers?select_page=select&buy_currency_history_id=buy_currencies%3D"+X+"&sell_currency_history_id=sell_currencies%3D62&account_type=citizen-&action_path=listOffers&page=page%3D1",onload:function(aa){if(aa.readyState==4&&aa.status!=200){return
}var Z=aa.responseText;var Y=Z.indexOf("offer_exchange");if(Y<0){return
}Y=Z.indexOf("ue=",Y+27)+4;Z=Z.substring(Y,Z.indexOf('"',Y));
A(W,Z+";"+V+";"+X)}})}}function l(){var d=k("content");if(!d){return
}var L=r("div");L.className="et_menu";L.innerHTML='<a class="et_btn" href="http://economy.erepublik.com/en/accounts/'+G("user_avatar")[0].href.substring(44)+'" title="'+K.btn_account+'"><span>Account</span></a><a class="et_btn" href="http://www.erepublik.com/en/economy/inventory" title="'+K.btn_inventory+'"><span>Storage</span></a><a class="et_btn" href="http://www.erepublik.com/en/citizen/change-residence" title="'+K.btn_travel+'"><span>Travel</span></a><hr/>';
d.insertBefore(L,d.firstChild)}function p(){var L=k("battle_listing").getElementsByTagName("strong");
for(var d=0;d<L.length;d++){L[d].innerHTML='<a class="none" href="http://www.erepublik.com/en/region/'+L[d].textContent.replace(/\s.\s/," ").replace(/\s/g,"-")+'">'+L[d].textContent+"</a>"
}}function z(){k("pin").focus()}function D(){var P=G("citizen_content");
if(P.length==0){return}var Z=P[0].getElementsByTagName("h4"),S=Number(Z[0].textContent.trim().replace(",",""))+400,U=O(Z[1].textContent.trim()),aa=(U+5)*S/200,L=[Math.floor(aa),Math.floor(aa*1.2),Math.floor(aa*1.4),Math.floor(aa*1.6),Math.floor(aa*1.8),Math.floor(aa*2)],N=0.006,V=[30,45,100,150,240],R=[0,0.013,0.025/2,0.043/3,0.058/4,0.072/5],M=0.5,X,W,Q='<div class="et_inf_table" style="margin-top:47px;"><table style="margin-top:-12px;"><tbody><tr style="font-weight:bold;" class="et_inf_tr"><td align="left" width="80px">Influence</td><td>n/a</td><td>FP 20</td><td>FP 40</td><td>FP 60</td><td>FP 80</td><td>FP100</td></tr><tr class="et_inf_tr"><td align="left">Single hit</td>';
for(X=0;X<6;X++){Q+="<td>"+L[X]+"</td>"}for(W=0;W<V.length;W++){Q+='</tr><tr><td align="left">'+V[W]+" hits</td>";
for(X=0;X<6;X++){Q+="<td>"+V[W]*L[X]+"</td>"}Q+="</tr><tr><td>cost (G)</td>";
for(X=0;X<6;X++){Q+="<td>"+ac(V[W],X)+"</td>"}Q+='</tr><tr class="et_inf_tr"><td>inluence/G</td>';
for(X=0;X<6;X++){Q+="<td>"+Y(V[W],X)+"</td>"}}Q+="</tr></tbody></table></div>";
if(U+1==y.length){return}Q+='<div class="et_inf_table"><table><tbody><tr style="font-weight:bold;" class="et_inf_tr"><td align="left">Rank calculator</td></tr><tr><td align="left">Daily training strenght</td><td><select id="et_training"><option>5</option><option>7.5</option><option>10</option><option>12.5</option><option>15</option><option>17.5</option><option>20</option><option>22.5</option></select></td><td align="left" colspan="2"><label>NE influence bonus <input id="et_ne_inf" style="position:relative; top:2px;" type="checkbox" value=""/></label></td></tr><tr></tr><tr><td align="left">Daily hits</td><td><select id="et_daily_hits"><option>10</option><option>20</option><option>30</option><option>38</option><option>50</option><option>100</option><option>500</option><option>1000</option></select> </td><td align="left">Weapon quality</td><td>FP <select id="et_weapon_q"><option>0</option><option>20</option><option>40</option><option>60</option><option>80</option><option>100</option></select></td></tr><tr class="et_inf_tr"><td align="left" colspan="2">Days to rank <select id="et_rank">';
for(X=U+1;X<y.length;X++){Q+="<option>"+y[X][1]+"</option>"}Q+='</select></td><td align="left" colspan="2"><input id="calc_days_to_rank" type="button" value="Calc"/> <strong id="days_to_rank"></strong></td></tr></tr></tbody></table></div>';
P[0].innerHTML+=Q;var d=G("stat")[1].getElementsByTagName("strong")[0].textContent;
d=Number(d.substring(0,d.indexOf(" ")).replace(/,/g,""));k("calc_days_to_rank").addEventListener("click",T,false);
function T(){var ad=Number(k("et_training").childNodes[k("et_training").selectedIndex].textContent)+1,ah=U,ak=k("et_rank").selectedIndex+ah+1,ai=d,ae=y[ak][0],af=y[ah][0],ag=0,aj,an=S+400,am=Number(k("et_daily_hits").childNodes[k("et_daily_hits").selectedIndex].textContent),al=(k("et_weapon_q").selectedIndex*0.2+1)*((k("et_ne_inf").checked)?1.1:1)/2000;
while(1){ag++;an+=ad;for(aj=am;aj>=0;aj--){ai+=ab(ah,an,al);if(ai>=af){ah++;
aj+=9;af=y[ah][0];if(ak==ah){k("days_to_rank").textContent=++ag;
return}}}}}function ab(ae,ad,af){return Math.round((ae+5)*ad*af)
}function Y(ad,ae){return Math.round(ad*L[ae]/ac(ad,ae))/10}function ac(ad,af){var ae=(ad>240)?240:ad;
return Math.round((ae*N+(ad-ae)*M+ad*R[af])*10)/10}function O(ae){for(var ad=0;
ad<y.length;ad++){if(y[ad][1]==ae){return ad}}}}function o(){var L,d=G("dotted"),M;
for(L=d.length-1;L>=0;L--){M=d[L].href.substring(44);d[L].parentNode.innerHTML+='<br/><a class="et_quick" href="http://www.erepublik.com/en/main/messages-compose/'+M+'" title="'+K.msg_btn+d[L].textContent+'"><img src="'+e+'"/></a> <a class="et_quick" href="http://economy.erepublik.com/en/citizen/donate/money/'+M+'" title="'+K.donate_btn+d[L].textContent+'"><img src="'+n+'"/></a>'
}}function g(){window.location=G("fluid_blue_light_medium")[1].href
}function q(d){var L=H.createEvent("MouseEvents");L.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);
return d.dispatchEvent(L)}function x(L){for(var d=0;d<f.length;
d++){if(f[d][0]==L){return f[d][2]}}return -1}function t(d){GM_deleteValue(d)
}function a(L,d){return GM_getValue(L,d)}function A(L,d){GM_setValue(L,d);
return d}})();