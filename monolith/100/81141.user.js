// ==UserScript==
// @name          FormulaWan - Shop
// @description   Ersetzt den Bonusnamen durch den tatsaechlichen Bonus. Diese Version wurde aus dem Englischen uebersetzt. Vielen Dank an den Ersteller des Originals.
// @include       http://www.formulawan.de/Fenetre_Equipement.php?action=Acheter;boutique=*
// @include       http://www.formulawan.de/Fenetre_Equipement.php?action=Mon_Stock*
// @include       http://www.formulawan.de/Fenetre_Equipement.php?action=Vendre_Stock*
// @include       http://www.formulawan.de/Fenetre_Montage.php?action=Gestion;*
// @include       http://www.formulawan.de/Fenetre_Statut.php?action=voiture;id=*
// @include       http://www.formulawan.de/Fenetre_Statut.php?action=Other;id=*
// @include       http://www.formulawan.de/Fenetre_Voiture.php?action=Gestion;*
// ==/UserScript==
// @translate by  Die Stuemper

var bonus, regex, key, textnodes, node, s;

bonus = {
	"Extrabreite Windfl\u00fcgel":			"Fahrer: +1 Bremsen",
	"Autopilot":							"Auto: +6 Kurven",
	"Blitzschnell":						"Auto: +6 Tempo",
	"Doppeltreibstofffach":   "Auto: +6 Tempo",
	"Energiesaugnapf":				"Auto: +6 Bremsen",
	"Energieschild":          "Auto: +5 Struct",
	"Extra-Metallplatte":     "Auto: +5 Struct",
	"Extrabreit":        			"Auto: +6 Kurven",
	"Federleicht":						"Auto: +6 Gas",
	"Fliegleinflieg":					"Auto: +6 Tempo",
	"G\u00f6tterPower":						"Auto: +6 Tempo",
	"Liegestuhl":							"Auto: +6 Gas",
	"Magnetisierung":					"Auto: +6 Bremsen",
	"Megabremssystem":				"Auto: +6 Bremsen",
	"N\u00e4geldecke":							"Auto: +6 Bremsen",
	"Platte Form":						"Auto: +6 Kurven",
	"Premiumenergie":					"Auto: +6 Tempo",
	"Schaukelsystem":					"Auto: +6 Kurven",
	"Staubsauger":						"Auto: +6 Tempo",
	"Unzerst\u00f6rbar":						"Auto: +5 Struct",
	"Vollgasgang":						"Auto: +6 Gas",
	"\u00d6l Erste Klasse":				"Auto: +6 Gas",	
  "1000 Pferdest\u00e4rke":					"Fahrer: +1 Tempo",
	"Autosteuerung":							"Fahrer: +1 Kurven",
	"Blockierte Reifen":					"Fahrer: +1 Kurven",
	"Doppelbremsescheiben":				"Fahrer: +1 Bremsen",
	"Erster Gang MegaBooster":		"Fahrer: +1 Gas",
	"Erstklassige Bremsen":				"Fahrer: +1 Bremsen",
	"Extra Kolben":								"Fahrer: +1 Gas",
	"Extra Vorsicht":							"Fahrer: +1 Bremsen",
	"Faltreifen":									"Fahrer: +1 Kurven",
	"Feinste Metalllegierung":		"Fahrer: +1 Gas",
	"Geschwindigkeitsprofi":			"Fahrer: +1 Tempo",
	"Hitzfeste Reifen":						"Fahrer: +1 Bremsen",
	"Hochm\u00fctig":									"Fahrer: +1 Tempo",
	"Immer Vorne":								"Fahrer: +1 Gas",
	"Kurvenrowdy":								"Fahrer: +1 Kurven",
	"Ministeuer":									"Fahrer: +1 Kurven",
	"Muskul\u00f6se Kurbelwelle":			"Fahrer: +1 Bremsen",
	"Perfektes Gleichgewicht":		"Fahrer: +1 Kurven",
	"Saugnapf":										"Fahrer: +1 Kurven",
	"Siebter Gang":								"Fahrer: +1 Tempo",
	"Strassenrandprofi":					"Fahrer: +1 Kurven",
	"Super Bremse":								"Fahrer: +1 Bremsen",
	"Super Instinkt":							"Fahrer: +1 Bremsen",
	"Supergasgeber":							"Fahrer: +1 Gas",
	"Tempokanone":								"Fahrer: +1 Tempo",
	"Tiefliegend":								"Fahrer: +1 Tempo",
	"Unglaublich Stolz":					"Fahrer: +1 Gas",
	"Windfl\u00fcgel":									"Fahrer: +1 Gas",
	"Windschnittig":							"Fahrer: +1 Gas",
	"\u00dcberhitzte Z\u00fcndkerzen":			"Fahrer: +1 Gas",
	"Zweiter Gang MegaBooster":		"Fahrer: +1 Gas",
	"ABS":											"Gas - Bremsen",
	"Alles Unter Kontrolle":		"Gas - Kurven",
	"Automatischer Weg":				"Kurven - Gas",
	"Bremsi-Kurvi":							"Bremsen - Kurven",
	"Bremskarli":								"Tempo - Bremsen",
	"Bremsklappen":							"Bremsen - Bremsen",
	"DreierBonus":							"Bremsen - Bremsen",
	"Dreifaches Gaspedal":			"Gas - Tempo",
	"Dritter Gang MegaBooster":	"Kurven - Gas",
	"Eierf\u00f6rmig":								"Kurven - Gas",
	"Elastische Pl\u00e4ttchen":			"Bremsen - Tempo",
	"Extra Gummireifen":				"Gas - Kurven",
	"Extrabremssystem":					"Bremsen - Bremsen",
	"Flitzi-Bremsi":						"Bremsen - Gas",
	"Gang 3-5":									"Gas - Tempo",
	"Gang 5-2":									"Bremsen - Bremsen",
	"Gang sechseinhalb":				"Tempo - Tempo",
	"Gekreutzte Kolben":				"Kurven - Tempo",
	"Grosse Zylinder":					"Gas - Bremsen",
	"Gummilegierung":						"Bremsen - Kurven",
	"Gummireifen":							"Tempo - Bremsen",
	"Hinterteil federleicht":		"Bremsen - Tempo",
	"H\u00f6flich":									"Tempo - Tempo",
	"Konstant":									"Bremsen - Tempo",
	"Kurvenheini":							"Gas - Kurven",
	"Kurvenprofi":							"Kurven - Bremsen",
	"Kurvenschnell":						"Kurven - Tempo",
	"Kurze G\u00e4nge":							"Gas - Gas",
	"Lenkradblockierung":				"Tempo - Kurven",
	"Magische F\u00fcnf":						"Kurven - Tempo",
	"Megakurven":								"Kurven - Kurven",
	"Nah am Gaspedal":					"Bremsen - Gas",
	"Niedriger 5-Gang":					"Tempo - Bremsen",
	"Nonplusultra G\u00e4nge":				"Bremsen - Gas",
	"Optimum Gewicht":					"Bremsen - Kurven",
	"Premium Reifen":						"Gas - Bremsen",
	"Rakete":										"Gas - Tempo",
	"Reifenspuren":							"Gas - Gas",
	"Rotative Bremsen":					"Kurven - Bremsen",
	"R\u00fcckprall":								"Kurven - Kurven",
	"Schwerpunkt Extra":				"Kurven - Gas",
	"Superhaftung":							"Kurven - Kurven",
	"Tiefliegende Reifen":			"Kurven - Bremsen",
	"Todessprung":							"Kurven - Tempo",
	"Turbo":										"Gas - Gas",
	"Turboknopf":								"Tempo - Gas",
	"Turborohr":								"Tempo - Gas",
	"Ultra Gummikleber":				"Bremsen - Bremsen",
	"Unabh\u00e4ngig Rechts-Links":	"Bremsen - Kurven",
	"Vierfacher Auspuff":				"Tempo - Tempo",
	"Vierte St\u00e4rke":						"Gas - Kurven",
	"Wandelgummi":							"Tempo - Kurven",
	"Wechselreich":							"Gas - Bremsen",
	"Zweist\u00fcckiges Ger\u00fcst":			"Kurven - Bremsen",
	"Zweiter Gang Megabooster":	"Bremsen - Tempo",
	"Auspuffallergisch":						"\u00fcberholen: +1",
	"Ausscheren":										"\u00fcberholen: +1",
	"Ausserirdisches Bremssystem":	"\u00fcberholen: +2 Bremsen",
	"Breite Fl\u00fcgel":								"\u00fcberholen: +2 Tempo",
	"Doppel Turbo":									"\u00fcberholen: +2 Tempo",
	"Gang 3-1":											"\u00fcberholen: +2 Bremsen",
	"Gangsalat":										"\u00fcberholen: +2 Gas",
	"Jupiter-Handbremse":						"\u00fcberholen: +2 Bremsen",
	"Kleiner Kopf":									"\u00fcberholen: +1",
	"Nahstehende G\u00e4nge":						"\u00fcberholen: +2 Tempo",
	"Nitroinjektor":								"\u00fcberholen: +2 Gas",
	"N\u00e4gelreifen":									"\u00fcberholen: +2 Bremsen",
	"Platte Reifen":								"\u00fcberholen: +2 Kurven",
	"Rote Zone":										"\u00fcberholen: +1",
	"Schaukel Hin-Schaukel Her":		"\u00fcberholen: +1",
	"Spitznase":										"\u00fcberholen: +1",
	"Ungeheuer schlank":						"\u00fcberholen: +2 Kurven",
	"Volle Kurve":									"\u00fcberholen: +2 Kurven",
	"\u00dcberholheini":									"\u00fcberholen: +1",
	"Abgasturbo":							"block: +1",
	"Bremskalkulator":				"block: +2 Bremsen",
	"Elektronische Bremsen":	"block: +2 Bremsen",
	"Extragang":							"block: +2 Gas",
	"Falsche Linie":					"block: +2 Kurven",
	"Fettes Hinterteil":			"block: +1",
	"Gaspedalkalkulator":			"block: +2 Gas",
	"Kurvenkalkulator":				"block: +2 Kurven",
	"Pr\u00e4zisionsbremse":				"block: +1",
	"Seitenwechsel":					"block: +2 Tempo",
	"Selbstachtung":					"block: +1",
	"Tempokalkulator":				"block: +2 Tempo",
	"Tennisb\u00e4lle":						"block: +1",
	"Ausweichprofi":						"-2% Kollision",
	"Empfindliche Motorbremse":	"-2% Kollision",
	"Gummiblech":								"-2% Kollision",
	"Lebenslustig":							"-2% Kollision",
	"Sehr Empfindlich":					"-2% Kollision",
	"Aufsaugblase":							"-5% Schaden",
	"Panzerplatte":							"-5% Schaden",
	"G\u00f6ttliche Haftung":				"+1 Haftung",
	"Super Strassenlage":				"+1 Haftung",
	"Synthetische Reifen":			"+1 Haftung",
	"Thesafilm":								"+1 Haftung"};
	
regex = {};
for (key in bonus){
	regex[key] = new RegExp(key, 'g');
}

textnodes = document.evaluate(
    "//text()",
    document,
    null,
    XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,
    null);
for (var i = 0; i < textnodes.snapshotLength; i++) {
    node = textnodes.snapshotItem(i);
    s = node.data;
    for (key in bonus) {
        s = s.replace(regex[key], bonus[key]);
    }
    node.data = s;
}