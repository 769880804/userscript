// ==UserScript==
// @name           ScoreHero - RB2 Gold Star Cutoffs 
// @version        2.31
// @description    Adds a field to show the gold star cutoffs on Scorehero: RockBand 2.
// @include        http://rockband.scorehero.com/manage_scores.php?*
// @include        http://rockband.scorehero.com/scores.php?*
// @author         based on original code of Jason MacLean
// @author         modified by qirex
// @author         modified by GuestWednesday
// @author		   maintained by de1337ed
// @author         updated by NoahTheDuke
// @author		   updated by Kajota 6 Apr 2009
// ==/UserScript==

// Replace all non numeric characters with empty strings
function removeNonNumbers(strValue) 
{
   return strValue.replace(/[^0-9]/g,'');
}

// Format an integer with commas
function addCommas(nStr)
{
	nStr += '';
	x = nStr.split('.');
	x1 = x[0];
	x2 = x.length > 1 ? '.' + x[1] : '';
	var rgx = /(\d+)(\d{3})/;
	while (rgx.test(x1)) 
	{
		x1 = x1.replace(rgx, '$1' + ',' + '$2');
	}
	return x1 + x2;
}

var searchString = document.location.search;
// strip off the leading '?'
searchString = searchString.substring(1);
var nvPairs = searchString.split("&");
for (i = 0; i < nvPairs.length; i++)
{
   var nvPair = nvPairs[i].split("=");
   if (nvPair[0]=='game')
   {
      var game = nvPair[1];
   } 
   else if (nvPair[0]=='group')
   {
      var group = nvPair[1];
   } 
   else if (nvPair[0]=='diff')
   {
      var diff = nvPair[1];
   } 
   else if (nvPair[0]=='size')
   {
      var size = nvPair[1];
   } 
   else if (nvPair[0]=='platform')
   {
      var platform = nvPair[1];
   }
}

// Exit if difficulty isn't expert or hard
if (diff<3) return;
// Exit if game isn't Rock Band 2
if (game!=2) return;


var instrument = ["","Guitar","Bass","Drums","Vocals"];

var songs = ["(don't fear) the reaper","(take these) chains","...and justice for all","29 fingers","3's & 7's","a clean shot","a jagged gorgeous winter","ace of spades '08","action","aesthetics of hate","afterlife","alabama getaway","alex chilton","alive","all mixed up","all over again","all right now","all the small things","almost easy","amazing journey","american woman","any way you want it","apache rose peacock","aqualung","are you dead yet?","are you gonna be my girl","are you gonna go my way","ashes to fire","attack","b.y.o.b.","baba o'riley","back in black (live)","bad omen","bad reputation","bad to the bone","ballroom blitz","bandages","bang a gong","bathwater","battery","beethoven's c***","beetlebum","behind blue eyes","black hole sun","blackened","blinded by fear","blitzkrieg bop","blood doll","blood sugar sex magik","bloodstone","blue christmas","bodhisattva","body i occupy","bounce","brainpower","brass in pocket","breaking the girl","breed","buddy holly","bullets & guns","burn you down","burn","bye bye love","california uber alles","call me","calling dr. love","can't let go","can't stand losing you","capital g","caprici di diablo","carry on wayward son","casey jones","celebrity skin","charlene (i'm right behind you)","cheeseburger in paradise","cherry bomb","cherub rock","china cat sunflower","chiron","chop suey","christmas is the time to say i love you","claudette","closer to the heart","closer","clouds over california","colony of birchmen","come out and play (keep 'em separated)","complete control","constant motion","conventional lover","cool for cats","countdown to insanity","crackity jones","crazy tuesday","cream & bastards rise","creep","critical acclaim","crushcrushcrush","d.o.a.","dammit","damnation game","dani california","database corrupted","date with the night","day late, dollar short","de-luxe","dead on arrival","dead","debaser","desperate times, desperate measures","detroit rock city","devil's child","devil's island","devour","die, all right!","dirty deeds done dirt cheap (live)","dirty little secret","doa","doll","don't cha stop","don't go away mad (just go away)","don't look back in anger","don't make me wait","don't speak","down at the whisky","down with the sickness","dr. feelgood","drain you","dreamin'","dune buggy","e-pro","el scorcho","electric crown","electric version","eminence front","enough space","entangled","enter sandman","epic","ever fallen in love","everlong","ex-girlfriend","excuse me mr.","eye of the tiger","face down in the dirt","feather pluckn","february stars","feed the tree","feel the pain","fever","fire your guns (live)","flirtin' with disaster","float on","for those about to rock (we salute you) (live)","foreplay/long time (short)","foreplay/long time","forever","fortunate son","franklin's tower","free and easy (down the road i go)","freedom train","funk #49","funky monks","get clean","get it on","get your rock on","gimme shelter","gimme three steps","girl's not grey","girl u want","girls on film","girls who play guitars","give it all","give it away","give it to me","go with the flow","go your own way","going mobile","gone away","gone","good mourning / black friday","good times roll","gouge away","green grass and high tides (short)","green grass and high tides","gunpowder & lead","hammerhead","hands down","hanging on the telephone","hanukkah blessings","hard to handle","hay poco rock n roll","headphones on","heatseeker (live)","hell ain't a bad place to be (live)","hella good","hello there","hells bells (live)","here comes your man","here it goes again","heroes","hey baby","hey","hey, johnny park!","hier kommt alex","high voltage (live)","highway star","highway to hell (live)","hillbilly deluxe","hitch a ride","holiday in cambodia","hong kong garden","hungry like the wolf","hymn 43","hysteria","i'm gone, i'm going","i'm so sick","i ain't superstitious","i bleed","i could have lied","i don't care","i don't want to go to school","i fought the law","i get by","i need a miracle","i stand alone","i think i'm paranoid","i wanna be your man","i was wrong","i.v.","if i ain't got you","if you have to ask","in bloom","in dreams","i'm in touch with your world","indestructible","inside the fire","interstate love song","it's my life","it hurts","jailbreak (live)","jesus christ pose","joker & the thief","juke box hero","junkies for fame","just a girl","just what i needed","kickstart my heart","kids in america","kiss them for me","kool thing","la la love you","ladybug","laid to rest","last train to clarksville","last","lazy eye","learn to fly","leaving here","let love rule","let there be rock (live)","let there be rock","life is beautiful","like a fool","limelight (original version)","limelight","little sister","live forever","livin' at the corner of dude & catastrophe","livin' on a prayer","lounge act","love spreads","lump","magnetic baby","main offender","man in the box","manu chao","maps","march of the pigs","margaritaville","master exploder","mean woman blues","megasus","melatonin","mellowship slinky in b major","message in a bottle","mica","mississippi queen","moneytalks (live)","monkey gone to heaven","monkey wrench","monsoon","moonage daydream","more than a feeling","mountain song","move along","moving in stereo","moving to seattle","mr. brightside","mr. cab driver","mr. grieves","mud on the tires","my best friend's girl","my curse","my generation (live at leeds)","my hero","my iron lung","my last words","my lovely man","my own worst enemy","my poor brain","my sharona","n.i.b.","naked in the rain","natural disaster","nearly lost you","new kid in school","new wave","new way home","next to you","night lies","nightmare","nine in the afternoon","no regrets","no. 13 baby","oh, pretty woman","on a plain","one of those nights","one step closer","one way or another","ooby dooby","orange crush","our truth","outside","pain and pleasure","painkiller","panic attack","paranoid","pda","peace of mind","peace sells","perfect insanity","perfekte welle","pinball wizard","pleasure (pleasure)","police truck","polly","prequel to the sequel","pretend we're dead","pretty fly (for a white guy)","pretty in pink","pretty noose","promised land","psycho killer","pump it up","push it","queen bitch","ramblin' man","rattlesnake shake","ready, set, go","real good looking boy","real world","rebel girl","red barchetta","red devil","red tandy","reptilia","rescue me","ride the lightning","riding on the wind","rio","roam","rob the prez-o-dent","rock'n me","rock 'n' roll dream","rock 'n' roll star","rock and roll band","rock rebellion","rockaway beach","round and round","roxanne","run to the hills","runnin' wild","running","sabotage","saints of los angeles","same ol' situation (s.o.s.)","say it ain't so","screaming for vengeance","sea and sand","see you","self esteem","seven","sex type thing","shackler's revenge","shake","she's a handsome woman","she does","she goes down","she sells sanctuary","shhh....","shockwave","shoot the runner","shoot to thrill (live)","shooting star","should i stay or should i go","shoulder to the plow","sick, sick, sick","silver","simple kind of life","simple man","sin wagon","sir psycho sexy","siva","skullcrusher mountain","sleepwalker","slice of your pie","smile like you mean it","smokin'","snow ((hey oh))","so what'cha want","something about you","something in the way","song with a mission","sons and daughters","sorrow","souls of black","space cowboy","space truckin'","spaceman","spiderwebs","spirit in the sky","spoonman","sprode","stay away","sticky sweet","still alive","stop!","suck my kiss","suffragette city","sugar magnolia","summertime blues (live at leeds)","sunday morning","supreme girl","swamped","sweet leaf","synchronicity ii","t.n.t. (live)","take back the city","take the money and run","tame","tangled up in blue","teen age riot","teenage lobotomy","tell me baby","tempted","ten speed (of god's blood and burial)","territorial pissings","testify","that's how i escaped my certain fate","that's what you get","that's when i reach for my revolver","the camera eye","the collector","the conjuring","the feeling","the greatest man that ever lived","the greeting song","the hand that feeds","the hellion/electric eye","the jack (live)","the joker","the kill","the killing jar","the middle","the number of the beast","the perfect drug","the power of equality","the righteous and the wicked","the time is wrong","the trees (vault edition)","there goes my gun","they're red hot","they say","this ain't a scene, it's an arms race","this calling","this is a call","this is it","thrasher","through being cool","thunderstruck (live)","time for change","time is running out","time sick son of a grizzly bear","time we had","times like these","timmy & the lords of the underworld","today","tom sawyer (original version)","tom sawyer","toxicity","train in vain (stand by me)","train kept a rollin' (short)","train kept a rollin'","troublemaker","truckin'","truth hits everybody","tutto e' possibile","two weeks","typical","uncontrollable urge","under the bridge","underneath it all","up in arms","use me","vasoline","visions","vital signs","volcano","wake up dead","walking after you","wanted dead or alive","war pigs","war zone","wave of mutilation","we care a lot","we got the beat","welcome home","welcome to the neighborhood","well thought out twinkles","when you were young","where'd you go?","white wedding (part 1)","who's going home with you tonight?","who are you","whole lotta rosie (live)","why do you love me","wind me up","wind up","witch hunt (part iii of fear)","without you","won't get fooled again (short)","won't get fooled again","wonderwall","working man (vault edition)","working man","yomp","you're all i've got tonight","you're no rock n roll fun","you've got another thing comin'","you got it","you oughta know","you shook me all night long (live)","young man blues (live at leeds)","young","yyz","zero",];

var song_found = new Array();
var iLoop;
for(iLoop=0; iLoop<songs.length; iLoop++)
{
	song_found[iLoop] = false;
}

if(diff==4)
{
	if (platform==1 || platform==2 || platform==3 || platform==4) // could have separate PS2 (platform=1) scores
	{ 
		if (size==1) 
		{
			if (group==1) // All cutoffs GUITAR
			{
				// 5 star cut-offs.
				fcutoffs = [108620,60824,247756,95299,90848,86573,73948,70748,67921,158368,168655,70135,101573,135249,80971,95206,75972,96423,119930,84827,95293,71306,140408,164140,104416,87007,81451,37044,116039,157139,59103,76083,131760,92912,110077,104607,82640,152390,62497,165914,68235,110074,83435,70609,169524,90454,87288,66738,101055,86385,70905,136765,141434,70982,45982,67252,166964,150884,81996,73945,50057,55989,79763,114687,68441,56386,78818,75427,90389,164220,90402,75870,71731,18878,62059,72122,123749,84691,103766,131821,52718,61188,63473,80875,145851,130716,93124,78682,270141,114253,39899,90297,59512,70345,122754,75488,109368,71370,86287,92425,148851,116615,159717,76994,68386,140276,136694,42196,84799,92179,57442,82637,179170,119440,107905,93626,106488,172246,28604,80247,95176,78805,86961,152799,83927,144265,113261,112670,135274,71423,52422,51732,127411,112119,122126,67280,77487,119387,76883,108749,155069,83804,123465,83579,121097,76680,91538,75313,110622,103809,95782,118476,55283,185423,109177,134581,150252,41802,87278,107126,64982,95711,95872,89607,101456,70394,106575,131362,112384,46234,64739,93956,120499,96004,72947,101086,107603,94058,110274,109381,217485,78340,49558,126813,268114,62029,149725,118673,49801,84811,67064,127288,93294,100695,93583,37989,44910,96672,71481,81987,94399,68558,65762,107807,133851,214310,155735,95388,80287,89151,114743,126117,84479,54945,81845,96571,83336,67000,41799,68629,86425,51455,58561,84186,56488,86918,59161,116286,89148,95496,65306,95176,123160,83299,54880,130519,108367,90565,47377,108466,176001,172407,124817,70342,83345,89000,81965,107754,122569,152387,105389,46900,77684,109328,73083,92779,184459,102906,74706,138446,227468,141794,74398,92980,100177,80271,108398,77151,74832,71786,80290,122446,61594,61613,73585,86068,91945,55708,55006,148225,104856,58203,100230,108832,81765,88437,146097,31857,72362,44285,180116,102414,90783,92397,89909,115812,74774,95684,82760,125578,48726,70120,91624,137242,94384,134800,74330,154472,86761,68521,111031,112390,101736,130836,85501,97954,67687,55579,155309,76751,75907,92749,46924,107539,108278,79843,103091,84436,79662,95924,41236,53137,68269,124546,87845,172240,236163,102170,162076,135730,99842,112350,66796,87762,83961,60599,82591,156541,84790,73486,101976,129613,71429,100365,99919,85239,96346,143063,91649,134221,101215,101890,84235,119640,106735,137064,90706,84670,204392,69649,91267,123000,75257,96254,85347,134809,72907,81430,98714,101289,77342,104958,103144,56503,88584,87078,119215,63301,138376,98527,55009,125418,206373,90229,89844,111047,58437,49330,87029,101656,140439,114031,42498,135074,112162,70015,142755,105820,36209,141268,99959,105296,150640,85775,87528,204639,76948,115775,125070,223636,71259,89222,105466,86718,136260,106485,114244,89567,88972,63710,104911,76129,96762,51008,98656,86866,60409,73699,76939,113120,80894,67465,78334,61727,95176,107622,106079,61369,145761,141012,36036,251769,272020,81100,89459,66042,77370,99534,98006,116729,52810,136491,192254,42372,172268,70671,97596,121550,71644,105762,84534,67822,128520,87931,95976,159070,115698,147945,82757,81291,114441,46361,44756,90608,130512,112581,133811,78815,152433,63162,138533,56642,86798,83475,66815,143800,52598,66877,78525,65900,95219,53900,66565,103744,90275,131797,82092,82089,137325,113936,115229,89798,67967,71401,80709,73311,105962,91048,100276,113588,88554,86900,114084,70200,51954,67597,50232,143267,107181,120499,72069,89308,76917,91855,98086,122144,96029,59906,79732,100492,54747,137535,140476,149966,156523,146005,36686,95607,81146,102407,114617,63760,71509,115587,64342,89872,70120]
				// Gold star cut-offs guitar
				scutoffs = [159403,89261,363589,139854,133322,127049,108521,103825,99676,232410,247507,102925,149061,198483,118827,139718,111491,141504,176000,124486,139845,104643,206054,240880,153233,127686,119532,54363,170291,230606,86735,111654,193362,136351,161541,153513,121277,223637,91716,243484,100137,161536,122443,103621,248781,132744,128097,97940,148302,126773,104055,200707,207559,104168,67480,98695,245025,221426,120332,108517,73460,82165,117055,168307,100439,82748,115667,110691,132649,240998,132667,111342,105267,27704,91074,105841,181605,124287,152279,193452,77365,89795,93149,118687,214041,191829,136663,115468,396441,167670,58553,132513,87336,103233,180145,110781,160501,104738,126628,135637,218443,171137,234390,112991,100358,205859,200603,61924,124445,135275,84298,121272,262938,175282,158354,137399,156275,252777,41978,117765,139673,115649,127618,224238,123166,211713,166214,165347,198519,104815,76931,75918,186979,164538,179223,98735,113715,175205,112829,159593,227569,122985,181189,122655,177713,112530,134335,110524,162341,152343,140563,173867,81130,272114,160221,197502,220500,61346,128084,157211,95363,140459,140695,131501,148889,103305,156402,192778,164926,67850,95006,137883,176836,140889,107052,148347,157911,138032,161830,160519,319167,114967,72727,186102,393466,91029,219727,174156,73084,124463,98419,186799,136911,147773,137336,55750,65907,141870,104901,120318,138534,100611,96507,158210,196431,314507,228545,139985,117823,130832,168389,185081,123975,80633,120110,141721,122298,98324,61341,100715,126832,75512,85939,123546,82897,127555,86821,170653,130827,140143,95838,139673,180742,122244,80538,191540,159032,132907,69527,159177,258287,253012,183173,103228,122312,130610,120287,158133,179874,223632,154661,68827,114004,160442,107251,136156,270699,151018,109633,203174,333816,208088,109181,136450,147013,117801,159077,113222,109818,105348,117828,179693,90391,90419,107988,126307,134932,81754,80723,217525,153879,85415,147090,159715,119993,129783,214402,46751,106193,64989,264326,150295,133227,135596,131944,169957,109733,140419,121453,184290,71507,102903,134461,201407,138511,197823,109082,226692,127324,100557,162942,164935,149301,192006,125476,143750,99332,81564,227921,112634,111396,136111,68863,157816,158901,117172,151289,123912,116906,140771,60514,77980,100186,182776,128915,252768,346576,149938,237852,199188,146521,164877,98026,128793,123216,88931,121204,229729,124432,107843,149653,190211,104824,147289,146634,125091,141391,209950,134498,196973,148537,149527,123618,175575,156637,201145,133114,124255,299952,102211,133937,180507,110442,141255,125250,197836,106993,119500,144866,148645,113502,154029,151366,82920,130000,127790,174952,92896,203071,144591,80728,184055,302859,132414,131849,162965,85758,72393,127718,149183,206099,167344,62367,198225,164601,102749,209498,155294,53138,207315,146693,154526,221069,125878,128450,300314,112924,169903,183544,328193,104575,130936,154774,127261,199965,156270,167656,131442,130570,93497,153961,111721,142001,74856,144781,127478,88651,108155,112910,166007,118714,99007,114958,90586,139673,157938,155674,90061,213909,206940,52884,369479,399198,119017,131284,96918,113543,146069,143827,171304,77500,200304,282139,62182,252809,103712,143226,178378,105140,155208,124056,99531,188607,129042,140848,233440,169790,217114,121448,119297,167946,68036,65681,132970,191531,165216,196372,115663,223700,92692,203301,83123,127379,122502,98053,211030,77189,98143,115238,96710,139736,79100,97687,152248,132482,193416,120472,120468,201529,167204,169103,131781,99743,104783,118443,107586,155502,133616,147158,166694,129955,127528,167421,103020,76244,99201,73717,210248,157292,176836,105764,131062,112878,134800,143944,179250,140925,87914,117010,147475,80343,201837,206153,220079,229702,214267,53838,140306,119084,150286,168203,93569,104941,169627,94423,131890,102903]
			} 
			else if (group==2) 	// All cutoffs BASS
			{	// 5 star cut-offs
				fcutoffs = [120042,70109,268945,83937,87605,65004,106704,134576,102574,169268,170830,120592,96291,108561,78716,80633,64214,115542,140675,61872,98679,78707,106524,106325,116170,79252,65868,65817,94309,165327,44662,75399,147836,73403,115353,105660,60421,107194,57252,142357,69328,80181,51199,60777,186602,115815,71495,61437,124029,121202,64602,148681,129448,65558,63525,68058,110682,95990,74151,78176,52188,62389,87896,109259,62911,63447,103428,75547,53020,194442,105729,101349,66182,15459,54378,64242,128335,98591,108566,93398,61174,49578,62565,67771,158545,81913,64491,79668,253093,108543,32202,70839,60749,42213,107240,56808,104750,58707,112054,107346,209707,117215,125558,93546,97718,71440,113431,55408,77247,98009,67443,132594,195496,106344,80014,118148,79261,119672,10867,77464,91620,91911,53329,79552,106783,122588,111597,90483,82310,105798,38152,56826,177136,83710,90049,67577,100190,137418,82528,93588,118065,90035,92308,63567,120813,129384,54734,91333,102370,59164,108765,170335,41428,118758,97358,122426,144694,67887,95819,61659,32031,103470,93648,71768,99141,63405,112983,124981,98674,78952,106538,79608,97496,88062,101701,110446,115316,88372,105156,102347,193588,61211,74868,124514,278905,53837,124001,63008,67938,36960,80388,125725,87231,113532,110294,111476,41599,97321,77949,58115,158707,56254,60809,80375,108464,271000,207374,28561,65831,84140,232913,67517,80000,71010,151925,112927,102782,66210,55981,34470,65914,62223,68889,86030,56036,81137,56401,115223,91574,106043,60495,85378,106593,32063,35168,112091,115847,67799,72909,78097,134886,276429,68714,91569,92484,83567,90090,122176,128612,111809,103304,63567,70543,152456,50331,163604,163184,81345,48289,98411,328954,202010,137676,90566,94322,92521,85309,75671,50506,111440,71366,151148,88261,73126,50636,85799,69855,48561,101640,78425,33888,47850,107369,143585,111828,95394,107392,43586,85526,57201,138485,138065,88483,96360,150035,101613,54720,83669,99913,104676,29065,43211,59825,108668,115824,117603,97376,210229,128164,56840,97616,118125,114045,145276,98365,95094,67027,60670,151532,88829,78430,109379,34262,107679,68164,59261,81627,68196,45082,86995,65290,66662,80093,90303,32645,223414,325951,91245,140393,137127,138180,125138,55002,51088,86713,95043,52793,153722,85170,66478,87462,146542,72091,90160,90446,68954,71088,125438,82186,84454,76951,100569,74396,124020,132511,151583,111227,88335,234886,104588,170659,115436,59030,85129,76545,152072,79377,108922,81659,100157,45600,161677,125350,59247,93620,103461,85614,47420,195939,105401,51842,108372,155547,87295,124842,89689,43535,32987,104237,118859,147609,118938,65517,135939,119067,46949,176161,94142,18832,78005,136189,73468,136503,118688,79802,218651,89448,95958,121539,222361,37025,84422,24265,95367,106390,129314,127120,112266,95593,115223,136374,63410,116679,120582,116438,59451,37824,56480,75699,97621,91818,115279,113264,77787,85896,111555,159908,53015,90751,54683,77039,86297,101520,67466,128570,94466,89217,82019,59275,74336,75376,126958,131028,43743,167739,57584,91837,96549,73671,133495,87716,81839,118226,114327,90742,174955,85013,116480,83502,85212,85281,44805,30848,69527,98725,81881,109430,58176,192816,58342,122310,67448,58079,65309,75126,121340,51985,73449,64699,68940,114923,58351,82394,123960,37044,121881,90455,96522,115999,107776,107683,49758,79543,64814,87420,71865,143451,111209,58873,124953,70844,38850,147235,74147,58374,88885,63211,160518,90945,123964,92872,67466,137385,78721,68330,159501,106547,62052,58162,55676,35510,164533,164533,66006,192627,175519,60804,74780,73944,144075,65799,92909,51393,133154,53375,134983,71033]
				// Gold star cut-offs Bass
				scutoffs = [176165,102887,394685,123180,128563,95395,156591,197495,150530,248406,250698,176972,141309,159317,115518,118332,94236,169562,206445,90798,144815,115505,156327,156035,170484,116305,96663,96588,138401,242623,65543,110650,216954,107721,169284,155059,88669,157310,84018,208913,101741,117667,75136,89191,273845,169962,104921,90161,182016,177867,94805,218194,189969,96209,93225,99877,162429,140869,108819,114725,76587,91558,128990,160341,92324,93110,151784,110867,77808,285350,155161,148733,97124,22686,79801,94276,188335,144686,159324,137065,89774,72757,91815,99456,232670,120210,94643,116915,371422,159290,47257,103958,89151,61949,157378,83367,153723,86154,164443,157534,307751,172016,184261,137282,143404,104840,166463,81313,113362,143831,98975,194586,286896,156063,117423,173385,116318,175623,15947,113681,134455,134882,78262,116745,156707,179901,163771,132787,120793,155262,55990,83394,259952,122847,132149,99172,147032,201665,121112,137343,173263,132129,135465,93287,177297,189874,80323,134034,150232,86825,159615,249972,60797,174280,142875,179664,212343,99626,140618,90486,47006,151845,137431,105321,145493,93049,165805,183413,144808,115864,156347,116827,143079,129234,149249,162083,169229,129688,154320,150198,284096,89829,109870,182728,409302,79008,181976,92466,99700,54240,117972,184505,128014,166612,161859,163595,61048,142821,114393,85286,232907,82554,89239,117952,159175,397702,304328,41914,96609,123478,341807,99083,117403,104209,222954,165724,150835,97165,82154,50586,96731,91314,101097,126251,82235,119071,82771,169094,134387,155622,88778,125295,156429,47054,51610,164497,170009,99497,106996,114610,197949,405668,100839,134380,135723,122637,132210,179298,188742,164083,151601,93287,103524,223734,73862,240094,239477,119376,70865,144421,482750,296456,202044,132909,138421,135777,125193,111050,74119,163541,104731,221815,129526,107314,74309,125912,102514,71265,149160,115091,49732,70221,157568,210716,164110,139994,157602,63963,125512,83944,203231,202614,129851,141411,220181,149120,80303,122786,146625,153615,42653,63414,87795,159473,169975,172585,142903,308518,188084,83415,143255,173352,167365,213198,144353,139553,98365,89035,222378,130360,115098,160517,50281,158022,100033,86968,119790,100080,66160,127668,95815,97829,117539,132522,47908,327868,478343,133905,206031,201238,202784,183644,80716,74974,127254,139479,77476,225591,124990,97558,128353,215055,105796,132312,132733,101192,104324,184084,120610,123939,112928,147588,109179,182003,194464,222452,163229,129634,344702,153486,250447,169406,86629,124929,112332,223171,116488,159846,119837,146984,66919,237267,183955,86947,137390,151832,125641,69590,287547,154679,76079,159039,228270,128109,183210,131621,63888,48410,152971,174430,216621,174545,96148,199495,174735,68899,258522,138157,27636,114474,199861,107816,200322,174179,117111,320878,131268,140821,178362,326322,54335,123891,35609,139953,156130,189773,186552,164754,140285,169094,200133,93056,171229,176958,170877,87246,55508,82886,111091,143262,134746,169175,166219,114155,126054,163710,234670,77801,133180,80249,113057,126644,148984,99009,188681,138631,130929,120366,86988,109091,110616,186315,192288,64194,246162,84506,134773,141689,108114,195909,128726,120101,173501,167778,133166,256752,124759,170938,122542,125051,125153,65753,45271,102033,144882,120162,160592,85374,282964,85618,179494,98982,85232,95843,110250,178070,76289,107789,94948,101172,168653,85632,120915,181915,54363,178864,132746,141648,170233,158164,158029,73021,116732,95117,128292,105463,210519,163202,86398,183372,103965,57014,216072,108813,85666,130441,92764,235565,133465,181921,136292,99009,201617,115525,100277,234073,156361,91063,85354,81706,52112,241457,241457,96866,282686,257579,89232,109742,108514,211435,96561,136346,75421,195407,78330,198092,104243]
			} 
			else if (group==3) // All cutoffs DRUMS
			{	// 5 star cutoffs
				fcutoffs = [221529,93401,294833,62447,109956,122430,99022,120274,94017,196427,167321,141526,122507,160776,113960,107569,132748,99099,144760,104258,124509,105413,113421,159544,153923,88011,97713,89859,87549,171325,100100,80465,153692,131747,174636,139139,126588,141757,90244,210210,98329,90629,47124,99253,239547,150458,88704,63679,140063,104181,79926,192269,140448,112882,66990,77616,138677,104874,84469,97482,67991,202587,133980,161007,128744,96558,107723,99946,159159,140602,144683,144606,86431,35266,101717,84392,149611,113129,141064,99715,70224,72072,63448,55055,201586,166089,120813,96558,259721,131901,105952,84777,52668,89320,113344,93247,165242,83545,142604,135135,148225,134904,143297,87934,123508,99484,115808,80773,105105,143220,138138,163856,198506,124509,121968,148225,77308,149611,14784,107338,131516,119812,111265,96635,119350,141064,130592,112882,80003,81004,115269,93016,201740,129591,129206,88858,126742,163009,145992,127127,187572,114191,126819,106260,120813,100716,84931,116809,136752,113344,117425,166474,94633,166243,151536,207361,152768,72611,161084,102179,85008,125972,108185,113652,113729,73689,128436,115346,119889,114037,154077,118041,97405,140140,110957,129899,153538,131824,132132,119196,235851,89089,77539,156541,305382,64372,174328,122122,98329,104181,78386,113190,102102,119273,105644,114499,44891,108801,109186,90475,186879,130053,63371,121660,113729,290983,179487,76769,77616,114730,148456,75075,120351,104951,98329,136290,64449,87087,72611,56903,121198,95018,105105,143220,112266,109571,97790,119812,92785,123739,78463,105336,125664,67375,52745,139062,136290,84546,98714,142219,273966,215677,116732,92862,102795,114345,111804,129976,136983,127358,180103,85547,88627,126357,80696,146608,203434,113575,119042,124509,355047,243320,83853,110880,148302,139370,109109,114499,124509,98560,84777,219373,81466,83468,68915,117117,82159,131362,90090,131747,42735,89397,171710,112189,127666,177870,126126,74151,71456,76230,154308,101332,99176,127358,144067,129591,108878,99176,137060,111804,45430,91630,106876,111265,131901,142604,119658,199661,173019,68299,117810,158620,137907,157234,99946,148841,78001,111881,189805,113036,120274,103180,48895,116116,117271,106029,89705,93247,73150,135058,85316,156618,85547,222145,69531,249172,294217,94941,170632,171171,156464,137291,70224,68761,91553,99715,616,203357,113190,107261,111727,115654,75537,105798,139755,113036,114268,246169,99330,100408,143990,115038,76615,209363,109263,140448,125048,80850,248325,114884,250404,172557,102179,96481,95249,193963,101178,114499,92477,135366,84161,200970,148225,63448,63910,91707,104951,77231,172942,170478,62447,143836,124355,87164,81928,118272,81851,51975,125972,123662,173558,111650,80927,169400,139139,88319,187803,127281,15015,98791,119273,132132,175637,130746,131131,219681,104489,131439,145915,154462,86240,111111,30723,100485,125972,144067,116886,216832,176638,179410,160468,131439,127974,117964,152845,74844,66374,65373,107569,127127,132286,128898,175714,94787,76692,143297,157234,93170,123739,106645,67375,146531,269192,89089,131901,96019,111034,96096,97482,95249,103026,150381,359513,125048,170555,72919,122969,111573,103411,114037,139370,75691,103103,127820,87857,131593,153692,126742,95711,82852,116193,56826,53207,72611,93555,145530,127204,86240,136213,90706,141526,97636,70147,80850,110803,148148,73458,98021,174713,161546,127050,103411,116193,171787,77462,239778,119966,112343,129283,137830,128282,75152,141911,71841,95095,94402,172557,157927,111804,163163,87010,85778,200816,120428,69146,65989,92015,159544,103873,152999,112651,107646,161315,86163,152229,159159,137984,91630,74074,95942,67452,259336,259644,102795,230769,217602,88242,171248,87318,179564,102025,129206,100793,185955,99638,159313,73612] 
				// drums - gold star cut-offs
				scutoffs = [308559,130095,410661,86980,153153,170528,137924,167525,130953,273595,233055,197126,170635,223938,158730,149829,184899,138031,201630,145217,173424,146826,157980,222222,214393,122587,136101,125161,121944,238632,139425,112077,214071,183505,243243,193801,176319,197448,125697,292793,136959,126234,65637,138246,333655,209567,123552,88696,195088,145110,111326,267804,195624,157229,93308,108108,193158,146075,117654,135779,94702,282175,186615,224260,179322,134492,150043,139211,221686,195839,201523,201416,120386,49121,141678,117546,208387,157572,196482,138889,97812,100386,88374,76684,280781,231339,168276,134492,361755,183720,147576,118083,73359,124410,157872,129880,230159,116367,198627,188224,206457,187902,199593,122480,172029,138567,161304,112506,146397,199485,192407,228228,276491,173424,169884,206457,107679,208387,20592,149507,183183,166881,154977,134599,166238,196482,181896,157229,111433,112827,160554,129558,280995,180502,179966,123767,176534,227049,203346,177070,261261,159052,176641,148005,168276,140283,118297,162699,190476,157872,163557,231875,131811,231553,211068,288825,212784,101137,224367,142321,118404,175461,150687,158301,158409,102639,178893,160661,166989,158838,214608,164415,135672,195195,154548,180931,213857,183612,184041,166023,328507,124089,108001,218040,425354,89661,242814,170099,136959,145110,109181,157658,142214,166131,147147,159481,62527,151545,152081,126019,260296,181146,88267,169455,158409,405298,250000,106929,108108,159803,206778,104569,167632,146182,136959,189833,89769,121300,101137,79258,168812,132347,146397,199485,156371,152617,136208,166881,129237,172351,109288,146718,175032,93844,73467,193694,189833,117761,137495,198091,381596,300408,162591,129344,143179,159267,155727,181038,190798,177392,250858,119155,123445,175998,112398,204204,283355,158194,165809,173424,494530,338910,116796,154440,206564,194123,151974,159481,173424,137280,118083,305556,113471,116259,95989,163128,114436,182969,125483,183505,59524,124518,239168,156264,177821,247748,175676,103282,99528,106178,214929,141141,138138,177392,200665,180502,151652,138138,190905,155727,63278,127628,148863,154977,183720,198627,166667,278100,240991,95131,164093,220935,192085,219005,139211,207315,108645,155835,264372,157443,167525,143715,68104,161733,163342,147684,124947,129880,101888,188117,118833,218147,119155,309417,96847,347061,409803,132240,237666,238417,217932,191227,97812,95775,127521,138889,858,283248,157658,149400,155620,161090,105213,147362,194659,157443,159159,342879,138353,139854,200558,160232,106714,291613,152188,195624,174174,112613,345882,160017,348777,240348,142321,134385,132669,270163,140927,159481,128808,188546,117225,279923,206457,88374,89018,127735,146182,107572,240884,237452,86980,200343,173209,121407,114114,164736,114007,72394,175461,172244,241742,155513,112720,235950,193801,123016,261583,177285,20914,137602,166131,184041,244638,182111,182647,305985,145539,183076,203239,215144,120120,154762,42793,139962,175461,200665,162806,302016,246032,249893,223509,183076,178250,164307,212892,104247,92450,91056,149829,177070,184256,179537,244745,132025,106821,199593,219005,129773,172351,148542,93844,204097,374946,124089,183720,133741,154655,133848,135779,132669,143501,209460,500751,174174,237559,101566,171279,155406,144037,158838,194123,105427,143608,178035,122373,183291,214071,176534,133312,115401,161841,79151,74110,101137,130309,202703,177177,120120,189726,126341,197126,135993,97705,112613,154333,206349,102317,136530,243351,225011,176963,144037,161841,239275,107894,333977,167096,156478,180073,191978,178679,104676,197662,100065,132454,131489,240348,219970,155727,227263,121193,119477,279708,167739,96311,91914,128164,222222,144681,213106,156907,149936,224689,120013,212034,221686,192192,127628,103175,133634,93951,361218,361647,143179,321429,303089,122909,238524,121622,250107,142107,179966,140391,259009,138782,221901,102531]
			} 
			else if (group==4) // All cutoffs VOX
			{	// 5 star cut-offs vocals
				fcutoffs = [120813,131516,147840,72919,98483,177100,132440,61138,117040,114037,144452,124894,81851,109725,128436,127897,174944,100100,127897,69685,174867,139062,221760,196427,107800,117656,87472,163240,144760,175560,64295,113960,73920,117040,172480,178640,163240,120120,163240,111342,138600,145453,106106,150920,143605,70840,86240,110880,150920,100793,67760,96404,135520,154000,67760,95480,99792,129360,107800,117040,135520,144760,108339,144760,86009,101948,86240,132440,110880,0,138138,140448,132440,32494,118888,101640,104720,108647,124586,159005,111111,101640,95480,104720,135520,121968,143451,132440,225071,169323,99946,145992,69300,86240,124278,113960,135597,169400,98560,143682,151305,143913,129360,106029,122507,79772,138292,70840,92862,166320,101178,199507,143759,104720,129360,178640,103719,166320,30800,111496,237160,146531,134750,182875,117040,185724,202664,92400,175560,138600,132902,141680,96789,107800,127974,110880,105644,120120,166474,94325,95480,169400,154000,108724,130592,113960,104720,89320,78771,128128,98560,124663,101640,184800,165781,170940,110880,86240,140910,77000,83468,51898,144375,95480,98714,117040,125510,134057,96558,98560,106799,118580,144760,278740,120274,95480,99484,116424,157080,126280,221144,124586,83776,91168,97790,123200,152152,126280,90398,113960,138292,119581,147840,175560,123200,108878,78155,104720,129360,141680,117040,240240,148918,126280,132055,217140,183645,123200,130515,113960,113113,79002,136752,92400,68992,144760,80080,101024,84854,89320,157080,120120,101024,163702,131670,117040,110880,120120,136290,107800,89320,125664,160160,86240,104412,174636,121429,74767,78848,134057,200200,136136,101948,116578,128744,120120,130900,190960,123508,98560,148764,76615,121044,113960,134827,172480,83776,141680,84392,132132,147840,139139,123200,154000,114961,102641,89320,143451,246400,137368,113960,234080,92400,135520,60291,90860,155463,86933,70840,125587,58212,89320,86240,96250,175560,183568,96096,59752,107800,115808,138600,144760,106337,90321,119273,135520,72765,89320,129360,127589,73920,138369,123662,123508,93016,86240,123200,188419,154000,83160,100100,113498,118734,135520,138600,109802,153384,181720,183106,144760,122815,74536,135520,113960,98098,98560,129360,132440,120120,147147,65296,92862,94710,139601,130438,119504,132748,70840,143836,132594,131208,170324,132440,80080,83622,80080,190960,149688,138600,221760,141988,101640,124355,122892,98560,98560,132440,107107,122122,132440,125356,181720,110880,126742,104720,94479,126049,134211,117810,89320,124740,134057,194040,126280,116116,145915,120120,119427,123200,122661,70840,117040,129283,129360,89320,130361,212520,97328,144144,187264,95480,194040,190960,120120,133980,176638,95480,83160,174097,162393,215523,90475,93478,171556,167552,112266,87010,110880,64218,138600,169246,93555,204050,80696,194040,249557,150920,77000,106491,237622,172095,110880,135520,122122,178640,73920,83776,138985,136290,200200,203280,90783,126973,138600,169400,154000,120120,101640,178640,166320,142912,63833,157080,118580,141680,136675,125818,129360,209440,92400,67760,203126,194656,67760,135520,190960,108493,77000,172480,52360,163240,107877,109263,101640,135751,110880,184800,133056,123200,123662,98560,104720,101640,175560,131670,124509,141680,224840,126280,101640,79387,69531,123200,87395,147840,137368,147070,83160,83160,125510,252560,141680,98560,76461,73920,120120,86240,113960,105567,104951,92554,113806,146146,155771,129360,160160,125510,132440,174405,144760,83006,175560,218680,83160,160160,80080,117040,144760,127974,70686,141680,95480,87780,102333,46200,126280,91168,181720,81928,107492,104720,141680,107184,143836,148610,150920,157080,154000,98560,83160,153153,170401,170401,113267,121121,120351,100870,122122,88704,160776,120120,187880,107800,125279,147840,0,110649]
				// vocal gold star cut-offs
				scutoffs = [163961,178486,200640,98962,133656,240350,179740,82973,158840,154765,196042,169499,111084,148913,174306,173575,237424,135850,173575,94573,237320,188727,300960,266580,146300,159676,118712,221540,196460,238260,87258,154660,100320,158840,234080,242440,221540,163020,221540,151107,188100,197401,144001,204820,194893,96140,117040,150480,204820,136791,91960,130834,183920,209000,91960,129580,135432,175560,146300,158840,183920,196460,147032,196460,116727,138358,117040,179740,150480,0,187473,190608,179740,44099,161348,137940,142120,147450,169081,215793,150794,137940,129580,142120,183920,165528,194684,179740,305454,229796,135641,198132,94050,117040,168663,154660,184025,229900,133760,194997,205343,195311,175560,143897,166260,108262,187682,96140,126027,225720,137313,270760,195102,142120,175560,242440,140762,225720,41800,151316,321860,198864,182875,248188,158840,252054,275044,125400,238260,188100,180367,192280,131357,146300,173679,150480,143374,163020,225929,128013,129580,229900,209000,147554,177232,154660,142120,121220,106904,173888,133760,169186,137940,250800,224989,231990,150480,117040,191235,104500,113278,70433,195938,129580,133969,158840,170335,181935,131043,133760,144942,160930,196460,378290,163229,129580,135014,158004,213180,171380,300124,169081,113696,123728,132715,167200,206492,171380,122683,154660,187682,162289,200640,238260,167200,147763,106068,142120,175560,192280,158840,326040,202103,171380,179218,294690,249233,167200,177128,154660,153511,107217,185592,125400,93632,196460,108680,137104,115159,121220,213180,163020,137104,222167,178695,158840,150480,163020,184965,146300,121220,170544,217360,117040,141702,237006,164797,101470,107008,181935,271700,184756,138358,158213,174724,163020,177650,259160,167618,133760,201894,103978,164274,154660,182980,234080,113696,192280,114532,179322,200640,188832,167200,209000,156019,139299,121220,194684,334400,186428,154660,317680,125400,183920,81824,123310,210986,117981,96140,170440,79002,121220,117040,130625,238260,249128,130416,81092,146300,157168,188100,196460,144315,122579,161871,183920,98753,121220,175560,173157,100320,187787,167827,167618,126236,117040,167200,255712,209000,112860,135850,154033,161139,183920,188100,149017,208164,246620,248501,196460,166678,101156,183920,154660,133133,133760,175560,179740,163020,199700,88616,126027,128535,189459,177023,162184,180158,96140,195206,179949,178068,231154,179740,108680,113487,108680,259160,203148,188100,300960,192698,137940,168768,166782,133760,133760,179740,145360,165737,179740,170126,246620,150480,172007,142120,128222,171067,182144,159885,121220,169290,181935,263340,171380,157586,198028,163020,162080,167200,166469,96140,158840,175456,175560,121220,176919,288420,132088,195624,254144,129580,263340,259160,163020,181830,239723,129580,112860,236275,220391,292496,122788,126863,232826,227392,152361,118085,150480,87153,188100,229691,126968,276925,109516,263340,338685,204820,104500,144524,322487,233558,150480,183920,165737,242440,100320,113696,188623,184965,271700,275880,123206,172321,188100,229900,209000,163020,137940,242440,225720,193952,86631,213180,160930,192280,185488,170753,175560,284240,125400,91960,275671,264176,91960,183920,259160,147241,104500,234080,71060,221540,146405,148286,137940,184234,150480,250800,180576,167200,167827,133760,142120,137940,238260,178695,168977,192280,305140,171380,137940,107740,94364,167200,118608,200640,186428,199595,112860,112860,170335,342760,192280,133760,103769,100320,163020,117040,154660,143270,142434,125609,154451,198341,211404,175560,217360,170335,179740,236693,196460,112651,238260,296780,112860,217360,108680,158840,196460,173679,95931,192280,129580,119130,138881,62700,171380,123728,246620,111188,145882,142120,192280,145464,195206,201685,204820,213180,209000,133760,112860,207851,231259,231259,153720,164379,163334,136895,165737,120384,218196,163020,254980,146300,170022,200640,0,150167]
			}
		} 
		else return;
	} 
	else return;
}
else if (diff==3)
{
	if (platform==1 || platform==2 || platform==3 || platform==4) // could have separate PS2 (platform=1) scores
	{ 
		if (group==4) // All cutoffs vocals
		{
			// 5 star cut-offs.
			fcutoffs = [99253,105644,122584,58751,80003,141988,105952,49434,93632,93093,116732,100870,65835,88781,103796,103257,141680,81004,102641,56133,140987,111958,177408,158235,86240,95480,72072,130592,115808,140448,52591,91168,59136,93632,140448,144760,130592,96096,130592,89782,110880,117117,85162,120736,115885,56672,68992,88704,120736,81081,54208,82236,108416,123200,54208,76384,81312,103488,86240,93632,108416,115808,88011,115808,69377,82236,68992,105952,88704,0,114114,112728,105952,26334,95480,81312,83776,87087,100562,128205,89551,81312,77616,83776,108416,98560,116347,105952,184415,136059,81466,117040,55748,68992,99638,91168,109725,135520,78848,115346,121737,116193,103488,85085,98483,64372,111188,56672,75614,133056,82082,160083,116655,83776,103488,142912,83391,133056,24640,89936,189728,117579,108262,146531,93632,149380,162624,73920,140448,110880,107646,113344,78925,86240,103334,88704,85316,96096,134442,75845,76384,135520,123200,87780,105336,91168,83776,71456,63987,103488,78848,101255,81312,147840,133749,138908,88704,68992,113190,61600,68068,44506,116039,76384,79618,93632,101486,111265,77462,78848,85855,97020,115808,223300,97482,76384,81620,94248,125664,101024,179256,99946,67144,75768,83006,98560,121968,101024,72534,91168,111188,96789,118272,140448,98560,87318,62755,83776,103488,113344,93632,192192,119350,101024,106183,175252,149765,98560,104643,93632,91553,63602,109648,73920,56672,115808,64064,81312,68838,71456,125664,96096,82544,131670,105798,93632,88704,96096,109802,86240,71456,101024,128128,68992,84084,140140,98021,59983,63448,107569,160160,110264,82236,93786,103488,96096,105644,152768,100716,78848,119812,61831,97020,91168,108339,137984,68992,113344,67760,106260,118272,115115,98560,123200,92785,82929,71456,115731,197120,110264,91168,187264,73920,108416,48587,73612,124663,70917,56672,100947,47124,71456,68992,77154,140448,147224,77616,48664,86240,93016,110880,115808,87241,73689,95865,108416,60445,71456,103488,104181,59136,111265,99638,100100,78232,68992,98560,151459,123200,66528,80388,93786,97174,108416,110880,88242,123200,145376,147378,115808,100639,60368,108416,91168,80234,78848,103488,105952,96096,118195,52976,74998,76230,112497,104566,97944,110572,56672,115500,107954,105336,136444,105952,64064,67606,64064,152768,120736,110880,177408,114884,81312,99715,99484,80080,78848,105952,90475,98098,105952,100716,145376,88704,103334,83776,79079,101409,107723,95634,72072,100716,107569,155232,101024,93324,117579,96096,96635,98560,99253,56672,93632,104027,103488,71456,104489,170016,78232,116424,150920,76384,155232,152768,96096,108108,141526,76384,66528,140217,130361,174251,73227,75614,137676,134288,90090,71610,88704,51898,110880,135982,76307,165858,65296,155232,200893,120736,61600,86163,190190,138215,88704,108416,98714,142912,59136,67760,112497,110418,160160,162624,75383,102333,110880,135520,123200,96096,81312,142912,133056,114576,52745,125664,95172,113344,110187,101178,103488,167552,73920,54208,163086,156464,54208,108416,152768,87549,61600,137984,41888,130592,86933,90167,81312,110495,88704,147840,107800,98560,99638,78848,83776,81312,140448,105798,101717,113344,179872,101640,81312,66451,55979,98560,70147,118272,110264,119350,66528,66528,100870,202048,113344,78848,61677,59136,96096,68992,91168,87703,85855,75306,91630,117810,127435,103488,128128,100870,105952,141141,115808,66990,140448,174944,66528,128128,64064,93632,115808,102718,60214,113344,76384,72996,82621,36960,101024,73304,145376,65912,86548,83776,113344,86240,115500,119042,120736,125664,123200,78848,66528,122969,140217,140217,91091,100177,99407,81158,99946,71456,129360,96096,150304,86240,105567,118272,0,89089]
			// Gold star cut-offs vocals (if hard had gold)
			scutoffs = [134701,143374,166364,79734,108576,192698,143792,67089,127072,126341,158422,136895,89348,120489,140866,140135,192280,109934,139299,76181,191340,151943,240768,214748,117040,129580,97812,177232,157168,190608,71374,123728,80256,127072,190608,196460,177232,130416,177232,121847,150480,158945,115577,163856,157273,76912,93632,120384,163856,110039,73568,111606,147136,167200,73568,103664,110352,140448,117040,127072,147136,157168,119444,157168,94155,111606,93632,143792,120384,0,154869,152988,143792,35739,129580,110352,113696,118190,136477,173993,121534,110352,105336,113696,147136,133760,157900,143792,250278,184652,110561,158840,75658,93632,135223,123728,148913,183920,107008,156541,165215,157691,140448,115473,133656,87362,150898,76912,102619,180576,111397,217256,158318,113696,140448,193952,113174,180576,33440,122056,257488,159572,146927,198864,127072,202730,220704,100320,190608,150480,146091,153824,107113,117040,140239,120384,115786,130416,182457,102933,103664,183920,167200,119130,142956,123728,113696,96976,86840,140448,107008,137418,110352,200640,181517,188518,120384,93632,153615,83600,92378,60401,157482,103664,108053,127072,137731,151003,105127,107008,116518,131670,157168,303050,132297,103664,110770,127908,170544,137104,243276,135641,91124,102828,112651,133760,165528,137104,98439,123728,150898,131357,160512,190608,133760,118503,85168,113696,140448,153824,127072,260832,161975,137104,144106,237842,203253,133760,142016,127072,124251,86317,148808,100320,76912,157168,86944,110352,93423,96976,170544,130416,112024,178695,143583,127072,120384,130416,149017,117040,96976,137104,173888,93632,114114,190190,133029,81406,86108,145987,217360,149644,111606,127281,140448,130416,143374,207328,136686,107008,162602,83914,131670,123728,147032,187264,93632,153824,91960,144210,160512,156228,133760,167200,125923,112547,96976,157064,267520,149644,123728,254144,100320,147136,65940,99902,169186,96245,76912,137000,63954,96976,93632,104709,190608,199804,105336,66044,117040,126236,150480,157168,118399,100007,130103,147136,82033,96976,140448,141389,80256,151003,135223,135850,106172,93632,133760,205552,167200,90288,109098,127281,131879,147136,150480,119757,167200,197296,200013,157168,136582,81928,147136,123728,108889,107008,140448,143792,130416,160408,71896,101783,103455,152675,141911,132924,150062,76912,156750,146509,142956,185174,143792,86944,91751,86944,207328,163856,150480,240768,155914,110352,135328,135014,108680,107008,143792,122788,133133,143792,136686,197296,120384,140239,113696,107322,137627,146196,129789,97812,136686,145987,210672,137104,126654,159572,130416,131148,133760,134701,76912,127072,141180,140448,96976,141807,230736,106172,158004,204820,103664,210672,207328,130416,146718,192071,103664,90288,190295,176919,236484,99380,102619,186846,182248,122265,97185,120384,70433,150480,184547,103560,225093,88616,210672,272641,163856,83600,116936,258115,187578,120384,147136,133969,193952,80256,91960,152675,149853,217360,220704,102306,138881,150480,183920,167200,130416,110352,193952,180576,155496,71583,170544,129162,153824,149540,137313,140448,227392,100320,73568,221331,212344,73568,147136,207328,118817,83600,187264,56848,177232,117981,122370,110352,149958,120384,200640,146300,133760,135223,107008,113696,110352,190608,143583,138045,153824,244112,137940,110352,90184,75972,133760,95200,160512,149644,161975,90288,90288,136895,274208,153824,107008,83705,80256,130416,93632,123728,119026,116518,102201,124355,159885,172948,140448,173888,136895,143792,191549,157168,90915,190608,237424,90288,173888,86944,127072,157168,139403,81719,153824,103664,99066,112129,50160,137104,99484,197296,89452,117458,113696,153824,117040,156750,161557,163856,170544,167200,107008,90288,166887,190295,190295,123624,135955,134910,110143,135641,96976,175560,130416,203984,117040,143270,160512,0,120907]
		} 
		else if (group==3) // cutoffs drums
		{
			// 5 star cut-offs.
			fcutoffs = [176792,79695,264880,57288,98406,94171,78155,100639,75845,151382,137137,115962,103950,122738,102487,90937,114422,84084,111496,76461,90013,87780,101717,128513,114499,81466,88858,65835,76153,126049,80080,74151,102718,83237,152460,122122,109186,122661,74151,138831,73535,86317,33957,85316,196504,105644,65681,61985,125048,95018,68684,164780,114807,90706,63448,66682,120428,82852,79233,82775,59444,156464,121968,119427,103103,81389,89166,83545,110726,113883,117348,117964,71878,29799,84546,71148,122815,87334,101717,84238,58520,64372,51128,49280,138754,114961,106876,84007,196581,116270,90167,74844,42504,77924,98252,87472,120736,73766,109571,91938,112189,123508,114499,61600,106029,80157,90013,67144,82313,98483,117425,135366,149149,99561,87934,121814,68992,114422,12320,91168,112805,96481,82390,76846,96404,115423,114345,88088,71610,64911,76076,82698,178409,108108,113421,68376,108185,153538,113652,93632,123739,82698,99330,90552,95557,85085,69069,105028,117656,96481,81389,137214,74921,124432,138831,182182,108493,68068,132979,68838,67683,99638,91861,95326,92939,59829,111419,96327,90244,72380,106799,102487,79541,122276,101101,116578,113113,95942,106953,102333,164241,83853,71841,134750,270732,54362,137291,83237,84007,93247,69531,110264,88858,86317,91630,97328,37037,90706,95326,80619,173404,81158,51667,95711,103411,273966,160853,68530,67375,92323,113190,58366,95172,81697,81235,112728,53900,62370,52129,56903,81081,83545,88396,123662,98175,87934,96789,99099,81543,96173,69069,77000,97097,57365,43428,101332,100793,75229,93324,108878,253253,151074,94017,85855,89705,98791,96173,96943,107184,96250,144991,72611,56595,93478,65604,116578,174482,92785,74690,117656,251867,154924,65758,82929,116963,110957,80850,99253,103103,90552,72919,149996,69762,69300,60368,99484,77077,98637,78694,116578,31724,82698,124971,95711,93940,148302,97790,60137,68607,67837,114114,92785,92400,115192,109648,87010,106568,80157,106568,106953,38269,66605,99946,90783,105105,94402,109494,138446,127974,60368,98329,137368,121352,131670,89243,116193,65758,80080,159159,97944,101024,94325,45045,93786,104335,91553,71225,79541,59136,114576,59598,110957,67837,139293,65296,196119,234773,80542,139447,149688,120043,102179,65912,53592,84315,71918,616,152383,96096,94710,103180,87857,62601,84007,112728,78232,94633,148225,82390,85855,117579,94248,68068,153846,91707,118888,111727,73997,220297,88088,177947,143066,77000,87703,81620,178794,80850,102256,74305,122584,73535,152306,116732,58597,56441,79079,87472,72072,141988,130669,46970,119658,121583,76846,71379,111419,68607,45353,108570,117117,134673,85547,63140,144529,124509,82082,134673,113883,15015,86317,100947,102872,162778,110341,107569,178178,76307,101409,123893,125895,75460,94787,26950,96404,95095,118041,92862,166551,137368,142065,138369,116886,97944,91399,97790,62678,61369,51821,90860,111265,98560,98021,132902,75075,65604,115731,117579,79387,108185,82852,55517,110957,206052,66451,90552,93170,91553,68376,77616,63063,87549,117579,287056,109340,140525,57288,101255,86933,84469,95942,123277,67760,89628,99869,75229,105490,117810,102795,79541,68453,86086,43582,30800,64988,77462,105182,101332,69916,105721,64372,128051,83545,58982,71764,90552,116039,59290,81697,118118,122507,104489,94094,95172,140140,68684,173943,90321,93555,104027,98098,82005,66066,124201,58212,81697,81774,112728,111188,71610,120659,73689,73997,174944,90629,58751,56056,74228,139601,67606,127435,89166,93401,132979,69146,113883,110033,104874,83391,58443,72611,60907,201971,201971,85008,189420,179333,73920,136675,78309,149457,93093,110572,88704,118041,66759,118195,57904]
			// Gold star cut-offs vocals (if hard had gold)
			scutoffs = [246246,111004,368940,79794,137066,131167,108859,140176,105642,210854,191013,161519,144788,170957,142750,126663,159374,117117,155298,106500,125376,122265,141678,179001,159481,113471,123767,91699,106071,175569,111540,103282,143072,115938,212355,170099,152081,170850,103282,193372,102424,120228,47298,118833,273702,147147,91485,86337,174174,132347,95667,229515,159910,126341,88374,92879,167739,115401,110361,115294,82797,217932,169884,166345,143608,113364,124196,116367,154226,158623,163449,164307,100116,41506,117761,99099,171064,121643,141678,117332,81510,89661,71214,68640,193265,160125,148863,117010,273810,161948,125590,104247,59202,108537,136851,121836,168168,102746,152617,128057,156264,172029,159481,85800,147684,111648,125376,93522,114651,137173,163557,188546,207744,138675,122480,169670,96096,159374,17160,126984,157122,134385,114758,107036,134277,160768,159267,122694,99743,90412,105963,115187,248499,150579,157980,95238,150687,213857,158301,130416,172351,115187,138353,126126,133098,118512,96204,146289,163878,134385,113364,191120,104355,173316,193372,253754,151116,94809,185221,95882,94273,138782,127950,132776,129451,83334,155191,134170,125697,100815,148756,142750,110790,170313,140820,162377,157551,133634,148971,142536,228765,116796,100065,187688,377091,75719,191227,115938,117010,129880,96847,153582,123767,120228,127628,135564,51588,126341,132776,112291,241527,113042,71965,133312,144037,381596,224046,95453,93844,128593,157658,81296,132561,113793,113149,157014,75075,86873,72609,79258,112935,116367,123123,172244,136744,122480,134814,138031,113578,133956,96204,107250,135243,79902,60489,141141,140391,104784,129987,151652,352746,210425,130953,119584,124947,137602,133956,135028,149292,134063,201952,101137,78829,130202,91377,162377,243029,129237,104033,163878,350815,215787,91592,115509,162913,154548,112613,138246,143608,126126,101566,208923,97169,96525,84084,138567,107358,137388,109610,162377,44187,115187,174067,133312,130845,206564,136208,83763,95560,94488,158945,129237,128700,160446,152724,121193,148434,111648,148434,148971,53304,92772,139211,126448,146397,131489,152510,192836,178250,84084,136959,191334,169026,183398,124303,161841,91592,111540,221686,136422,140712,131382,62742,130631,145324,127521,99207,110790,82368,159588,83012,154548,94488,194016,90948,273166,327006,112184,194230,208494,167203,142321,91806,74646,117439,100172,858,212248,133848,131918,143715,122373,87195,117010,157014,108966,131811,206457,114758,119584,163771,131274,94809,214286,127735,165594,155620,103068,306843,122694,247855,199271,107250,122158,113685,249035,112613,142428,103497,170742,102424,212141,162591,81618,78615,110146,121836,100386,197769,182004,65423,166667,169348,107036,99421,155191,95560,63171,151223,163128,187581,119155,87945,201309,173424,114329,187581,158623,20914,120228,140605,143286,226727,153690,149829,248177,106285,141249,172566,175354,105105,132025,37538,134277,132454,164415,129344,231982,191334,197877,192729,162806,136422,127306,136208,87302,85479,72180,126555,154977,137280,136530,185114,104569,91377,161197,163771,110575,150687,115401,77328,154548,287001,92557,126126,129773,127521,95238,108108,87838,121944,163771,399828,152295,195732,79794,141034,121086,117654,133634,171708,94380,124839,139104,104784,146933,164093,143179,110790,95346,119906,60704,42900,90519,107894,146504,141141,97383,147255,89661,178357,116367,82154,99957,126126,161626,82583,113793,164522,170635,145539,131060,132561,195195,95667,242278,125805,130309,144895,136637,114222,92021,172995,81081,113793,113900,157014,154869,99743,168061,102639,103068,243672,126234,81832,78078,103389,194445,94166,177499,124196,130095,185221,96311,158623,153261,146075,116152,81403,101137,84835,281317,281317,118404,263835,249786,102960,190369,109074,208173,129666,154011,123552,164415,92986,164629,80652]
		}
	}
}
else
{
	return;
}

if (document.URL.substr(30,17)=='manage_scores.php') 
{
	scoreCol = 7; songCol = 5; perCol = 9; ratingCol = 8;
} 
else if (document.URL.substr(30,10)=='scores.php') 
{
	scoreCol = 6; songCol = 4; perCol = 8; ratingCol = 7;
} 
else return;

var trs = document.getElementsByTagName('tr');
var total_number_five_starred_songs=0;
var total_number_four_starred_songs=0;
var total_number_three_starred_songs=0;
var total_number_songs_with_scores = 0;
var total_numer_of_gold_starred_songs = 0;
var gold_starred_songs = new Array(); 
var gold_starred_diff = new Array();
var total_score=0;
var num100percents = 0;


for(i = 0; i < trs.length; i++)
{
	tds = trs[i].getElementsByTagName('td');

	if (tds.length > perCol) 
	{
		var songName = tds[songCol].textContent;
		songName = songName.toLowerCase();
		song = songs.indexOf(songName);
		if (song!=-1) 
		{
			var rating = tds[ratingCol].innerHTML;
			if(rating.indexOf("rating_6",0) != -1)
			{
				total_numer_of_gold_starred_songs++;
			}
			else if (rating.indexOf("rating_5",0) != -1)
			{
				total_number_five_starred_songs++;
			}
			else if(rating.indexOf("rating_4",0) != -1)
			{
				total_number_four_starred_songs++;
			}
			else if (rating.indexOf("rating_3",0) != -1)
			{
				total_number_three_starred_songs++;
			}

			song_found[song] = true;
			scoreCell = tds[scoreCol];
			score = removeNonNumbers(scoreCell.textContent);
			total_score += parseInt(score);

			// add the following back in after adding songs to check for errors
			/*if((fcutoffs[song] >= scutoffs[song]) && (fcutoffs[song] !=0))
			{
				GM_log('probable error in score for song:' + tds[songCol].textContent + ' 5 star cut-off is higher than(or equal to) gold star cut-off on ' + instrument[group] + '5 star = ' + 
					addCommas(fcutoffs[song]) + ' ,  Gold star = ' + addCommas(scutoffs[song]));
			}*/
			if(tds[perCol].textContent == '100%')
			{
				num100percents++;
			}
			if(fcutoffs[song] != 999999 && scutoffs[song] != 999999)
			{
				if(score <= fcutoffs[song])    // if less than 5 star cut-off
				{
					if(score < fcutoffs[song]) 
					{
						if(score == 0)
						{
							scoreCell.innerHTML += '<br/><font color="#CD7F32" style="font-size: 10px"> Five star cut-off = ' + addCommas(fcutoffs[song]) + ',  </font>';
							scoreCell.innerHTML += '<font color="#CD7F32" style="font-size: 10px"> Gold star cut-off = ' + addCommas(scutoffs[song]) + '</font>';
						}
						else
						{
							total_number_songs_with_scores++;
							var difference = fcutoffs[song] - score;
							scoreCell.innerHTML += '<br/><font color="#CD7F32" style="font-size: 10px">' + addCommas(fcutoffs[song]) + '</font> <font color="purple" style="font-size:8px">(-' + addCommas(difference) + ')</font>';
						}
					} 
				}
				else
				{
					total_number_songs_with_scores++;
					if(score < scutoffs[song]) // 5 starred songs
					{
						//total_number_five_starred_songs++;
						var difference = scutoffs[song] - score;
						scoreCell.innerHTML += '<br/><font color="#CD7F32" style="font-size: 10px">' + addCommas(scutoffs[song]) + '</font> <font color="red" style="font-size:8px">(-' + addCommas(difference) + ')</font>';
					} 
					else if(score > scutoffs[song]) // greater than 6 stars
					{
						var difference = score - scutoffs[song];
						//total_numer_of_gold_starred_songs++;
						gold_starred_songs[total_numer_of_gold_starred_songs-1] = tds[songCol].textContent;
						gold_starred_diff[total_numer_of_gold_starred_songs-1] = difference;
						scoreCell.innerHTML += '<br/><font color="black" style="font-size: 10px">' + addCommas(scutoffs[song]) + '</font> <font color="green" style="font-size:8px">(+' + addCommas(difference) + ')</font>';
					} 
					else if(score = scutoffs[song])  // equal to six stars
					{
						//total_numer_of_gold_starred_songs++;
						var difference = score - scutoffs[song];
						gold_starred_songs[total_numer_of_gold_starred_songs-1] = tds[songCol].textContent;
						gold_starred_diff[total_numer_of_gold_starred_songs-1] = difference;
						scoreCell.innerHTML += '<br/><font color="black" style="font-size: 10px">' + addCommas(scutoffs[song]) + '</font> <font color="blue" style="font-size:8px">(' + addCommas(difference) + ')</font>';		
					}
				}
			}
		}
	}
}

// add the following back into the code after adding new songs to check for errors.
/*for(iLoop=0; iLoop<songs.length; iLoop++)
{
	if(song_found[iLoop] == false)
	{
		GM_log('possible error in score for song:' + songs[iLoop] + ' , Song not found on page.');
	}
}*/
GM_log('Total number of scores for songs entered = ' + total_number_songs_with_scores);
GM_log('Total number of gold starred songs = ' + total_numer_of_gold_starred_songs);
var gold_percentage = ((total_numer_of_gold_starred_songs/total_number_songs_with_scores) * 100);
GM_log('Percentage of entered songs that are gold starred = ' + gold_percentage.toFixed(2) + '%');
total_number_five_starred_songs += total_numer_of_gold_starred_songs;
total_number_four_starred_songs += total_number_five_starred_songs;
total_number_three_starred_songs += total_number_four_starred_songs;

var five_star_percentage = ((total_number_five_starred_songs/total_number_songs_with_scores) * 100);
var FCpercentage = ((num100percents/total_number_songs_with_scores) * 100);
var four_star_percentage = ((total_number_four_starred_songs/total_number_songs_with_scores) * 100);
var three_star_percentage = ((total_number_three_starred_songs/total_number_songs_with_scores) * 100);

for(i = 0; i < trs.length; i++)
{
	tds = trs[i].getElementsByTagName('td');

	if(tds.length > 0)
	{
		if(tds[0].textContent == '3-Stars:')
		{
			Six_Star_Cell = tds[1];
			Six_Star_Cell.innerHTML += '<font color="green" style="font-size: 10px">  ' + total_number_three_starred_songs + ' of ' + total_number_songs_with_scores + ' (' + three_star_percentage.toFixed(2) + '%' + ')</font>' ;		
		}
		if(tds[0].textContent == '4-Stars:')
		{
			Six_Star_Cell = tds[1];
			Six_Star_Cell.innerHTML += '<font color="green" style="font-size: 10px">  ' + total_number_four_starred_songs + ' of ' + total_number_songs_with_scores + ' (' + four_star_percentage.toFixed(2) + '%' + ')</font>' ;		
		}
		if(tds[0].textContent == '5-Stars:')
		{
			Six_Star_Cell = tds[1];
			Six_Star_Cell.innerHTML += '<font color="green" style="font-size: 10px">  ' + total_number_five_starred_songs + ' of ' + total_number_songs_with_scores + ' (' + five_star_percentage.toFixed(2) + '%' + ')</font>' ;		
		}
		if(tds[0].textContent == '6-Stars:')
		{
			Six_Star_Cell = tds[1];
			Six_Star_Cell.innerHTML += '<font color="green" style="font-size: 10px">  ' + total_numer_of_gold_starred_songs + ' of ' + total_number_songs_with_scores + ' (' + gold_percentage.toFixed(2) + '%' + ')</font>' ;		
		}
		if(tds[0].textContent == '100%:')
		{
			Six_Star_Cell = tds[1];
			Six_Star_Cell.innerHTML += '<font color="green" style="font-size: 10px">   ' + num100percents + ' of ' + total_number_songs_with_scores + ' (' + FCpercentage.toFixed(2) + '%' + ')</font>' ;		
		}
		if(tds[0].textContent == 'Total Score:')
		{
			Six_Star_Cell = tds[1];
			Six_Star_Cell.innerHTML += '<font color="green" style="font-size: 10px">   ' + addCommas(total_score.toString())  + '</font>' ;		
		}
	}
}


for(iLoop=0; iLoop<gold_starred_songs.length; iLoop++)
{
	GM_log(gold_starred_songs[iLoop] + ' gold star cut-off exceeded by ' + addCommas(gold_starred_diff[iLoop]) + ' on ' + instrument[group] );
}
