// ==UserScript==
// @name           LDR - Signal
// @namespace      http://userscripts.org/scripts/show/12781
// @include        http://reader.livedoor.com/reader/
// ==/UserScript==

	var MP3_PI = "data:audio/mpeg,%FF%E20%C0h%9D%00%00%00%02X%01%40%00%00%FFy%DB%19%99%AA%16%9A.%95%FF%FA%97%A9%C9%80%20h%19q%8E%9F%FA%E8%8D%98b%81k%0C%EBt%00%C9%A9%03n%CC%0DH%9F4%5D%C0%D4%14%03%14%18%06%02%00%11%BF%A9%99n%20%98%82%60%D8%C0%60%00%BA%8F%DD%9D50a%000B%008%80%1A%94%E0i%D0%80%12%FF%EC%BE%EE%06h%40%86%1B%85%D0%00%40%000%00%00%8D%FF%FD%99w%18d%E06%98%18P%E0(%2C%0C%60%20o%00%A5%05%BB%FF%F7%FBp%B3%81i%80%1C%0C2%D8%A5%C4%DE%16%FF%E2%22%C0%FB%25%8D5%E4%12D%01%9E%A0%00%86%18%CC%01%80%05%A2%08%002_%FF%FE%DF%F0%BF%81%8C%00%C1%81%06%C1a%CB%86%08%1Fc%26%16%40%18%90d%08%C1%40%0AP-%0F%FF%FF%FF%FF%FC%1B%8C1%98%B2%03%1A%08%00A%C7%C0%A5%04n)%01J%0A%0CPc%8D%12%F9%B9q%00%09%01%A7%89aY%DAz%D2p%C6%95%E3%18%08%FF%E22%C0V%BD%0F%17%E12%95%89%DC0%00%16%1EAZ~B%FE%C3%2F%ECf3%19%97SMZ%CB%3A%DA%EE%E5%EB%0F%D2%0E%8E%9C%D3%8E%F3%1B%A9%12f%82%B4%DC%99%F6%5C%A3%89%3B%15%B1%FB%1A%C4G%07%03V_%98mO%A5Sl%BBg%BD%EF%D5%D7%EE%EF%F3%EE%DD_%D8%F1%C1P%40%1F%04%9E%A0%00%00-%9E%E5%0FY%CF%003%00%B8n%D5%A9%BF~k%BE%F6%EC%E6Uj2%3FM%9F%FE%FFo%99%91%2C%C0%9A%FF%BDV%CC%19%8E%F5%04%7D%95j%EC%AAFf%ABH%C0%D0%EA%88FSL%8A%FF%E2%20%C0%89%9A%3D%15Sf%CF%F8h%04sB1V%F5T%B1ky%D1%ED%EFI7%5E%D4%D9%9FG%10xx%95-%B5%C0%00%00%3E%AA%94%0BU%9C%1B%A17%23T%E2n%CE%FF%FF%FE%B4kE%14%9A%82(.%B4%11%C8%82%E1%09%04%A8i%99%00%99%8D4*%F3%F3%B7Y%FA%D1%15p%C0%04%CCx%A4C%D4%8A%D9%06%CA%89%FB%FD%FF%E22%C0%87%F8%40%15%9Bj%C7%F8%A0E_%0B%11%CC%CB%7C%E8%E7%B06%DC%8C%89fK%FB%DB%BCQA%88)%C1%20%00%00.%9A%A4%0BI%98%18%92%40%F5%07%998%B6%AD%B6S%AF%22%1Dd9%D1%5C%97VC%99%94%B4%95%D0%94W%FF%EB%DF%BE%B6%D4%90%E6G%5BkJ%3A%BB1%EApf%CE%FD5F%91%1D%C1%3B%90C%A9%5Br%BA%84%98%EEG%CF%04%97i%DD%91%95%3A%B1%5E%CE%7F%FF%F3%C8%24%18%B4%90%00%00%BE%FE%EA%18%60%3BN%9B%00%0E%82T%D73%DCn%B8%DE~%E95%26u%84%D4%9A%FF%E2%22%C0%97ww%16%B3n%C7%F8%90%04%8F%AC%A6%B9%AEjK%0DA%0ARiI%9Da%A8Q0%D6k%09%A93%AFMI%A95%25%86%B1%AE%D0%D6%1A%C6%BA%C3X%EB%083%89%86%B1%DA%93%3A%CC%AA5%26%AB!%85%24%A8%A7%24%96%10%A2Iaq2ZI%25%98%2C%94Y%12%A2%98%AAX%40%85P%C2%05%2B%B0%B2E%403%C0-%FF%E20%C0%2B%15v%1C%92v%D3%F8x%06%A7%11%C4%17%9D4%12%7C%A8!%D2%8A%11%0F%13-%60%17%3B%10m%C3%60%F8I%1CD%E2%B9%E2%B4O%3B%60%C0%D1%CA%CA%89%F92%B5%A8%E4j%C1A%02%06%09%99%05%82b3%3F%15%14%A0%0A*%2C%1E4%15%14%165%8B~%A1aT%99%16%17%15%FF%E2%BCTQ%BA%C5%BF%FA%85%F8%B0%A8%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%FF%E2%22%C0T%A2%90%16%E8%E2%04%00%C3%06%88%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%FF%E20%C0o%D7%8E%00%00%02X%00%00%00%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%20%00%00";
	
	var MP3_PON = "data:audio/mpeg,%FF%E3%40%C4%00%00%00%00%00%00%00%00%00Xing%00%00%00%0F%00%00%00%1A%00%00%0F%3C%00%03%03%03%12%12%12%12%1C%1C%1C%1C''''2222%3D%3D%3D%3DKKKVVVVaaaallllvvvv%81%81%81%81%8C%8C%8C%8C%97%97%97%A5%A5%A5%A5%B0%B0%B0%B0%B7%B7%B7%B7%C2%C2%C2%C2%C9%C9%C9%C9%D4%D4%D4%DB%DB%DB%DB%E3%E3%E3%E3%ED%ED%ED%ED%F8%F8%F8%F8%FC%FC%FC%FC%FF%FF%FF%00%00%00%1CLAME3.92%20%03%2C%00%00%00%00%00%00%00%00%04%00%24%055!%00%00%00%00%00%0F%3C%90p%A1%FD%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%FF%E3%10%C4%00%09%C1%16%C0%AD%81h%00%00%00%00%00%0F%18%FD%FF%FD%04%10%FF%25%CB%E6%E2a%FF%85%D0J%02x%0A%E0%F0%FF%F1%EE_p%C7%F4A%F0'%FC0%1F%FF%E3%40%C4%0003B%A4%1F%CF%D8%01%00%3Bu%80%AC%B5%A1%3E%7C%F9%F3%E7%AF%5E%BDz%F5%EB%D7%B0%9F%3E%7C%F9%F3%E7%CF%A9iiiiiil%E3%95%AAjiT%BA%0A%5C%E9%C6%60P%C6%82%0A%95%AC%E5%AE%BF%AF%EB%FA%FE%C3Q%A8%D4j%9A%9A%9A%9AUKKKKKKKKK%96Ye%96Ye%96%F1%C6%ADZ%5B%3B%C7%B9%E5%DE%E5%FF%F9Z%D7%E7%96T%D5%B9KV%AD-%5B4%B9%D6%A6%97Z%9E%A6%97SK%B9C%19%C6%96%AD%3E4%B3%13%D6%E4U%B2%CA%7B%1D%D5%AB%7B%98%EF%0F%FDSa%85j%7B7p%D6T%D9V%E6%5C%DD.%F3%A5%DD%EA%B6wk*%D9SV%AD%DC~%AE%F7%BD%F3%1C%ABk%BF%AD%7F%DD1%CC%F1%94%EAb%5D%02H%FF%E30%C4%02%22%A3~%AA%FE%5DM%0D%A7%FA%00%06%FF%7D%80%5B%EF%E9%D6fh%3B%8B%09%04%C3%E95%1C%E9%E6B(%3EZ%FA%9B%FFd%C6t3%60%92H%0B%1C%91U%2B%FF%FF%CD%D3%EE%AA%A3%DBR%AFki)%E5%AE%89%26R%0B%A2%0D%16%CF%D9%CB%97%26%EAr%09%FD%3DE%25f%1C%D9%E4%CAr%B8)Z%A3%D4%810%23%DC%ADe%C3%FE%BC%BA%CB%E1%A4%84%A7%A1(%14U%E1%ADO%CC%AF%40%D6%83%B9%954%CD9)X%3AN_c%10)%0A%D6%8D%CB%88%EB1%92%1F%B5%05m%B6%20%01%2C%FF%E30%C4%06%23%A3%82%9A%5E%AA%0D%8Dv%40%1Em%0D%16s%E9%17I%82q%8CO%18%95%90%2F%13%26%E4%E9X%BC%AB%AD%BB%AE%8DV%8BH(%2F%02%11%A0%14A%13%25%E4%5D%B5%BE%BF%EA%F5E%DC5%40%EB%C8tz%C4%FB%CA%9E%C3%DAs%C7%1E%B7%12%CF)R%93n%82%B4%99i.3%5E%AD%A8%F7%CE%2C%2B%24%B1%A3%C4%10.T%B2%1B%82%D1%2Bl%D6%24%C7%A4%15Vs%07%83%AF%0EO%7F%86F%2CB%3F%7C%C7%CD%D6%9D%D9%FF%F8%C6f%C9m%A2%E0%ED-%02%9A%D1I%B5%00v%87%B4%80%05%FF%E30%C4%06!%83%82%A2%FE%A8%0D%60%B6%DB%40%9A%7D%9D%8B%D3%E6%85%82%AA%25%04%138%81%81%BB%93%8Bm%97o%D6%94%D8%B4%0B%05%C1%03%605q%8A%0B%BE%FD%9E%91%93M%C6%D2%AB%2F%F3%CD%AB%88H%E7%AA%93Z%0E%D8%A4%5D%19rZ%D7%BCz%1E%18%EEo%85!F%100%7B%93t%86%7DS%7Bt%EE%8Ej%D6e%C2%17jS%1D7x%A3%F1%BFm%05s%5C%F3J4%A4v%AF%BA%07%F2%9Ev%5D%9A%DD%FBBa%CF%82%A2%FE%9F%25%F2%AD%19%03x%A9%87P%007%FFn%03i%9E%99%DC%D3%FF%E30%C4%0F%23%1B%82%AB%1EeM%0DvW%18%1F%AC%8DE%163%8F%B9%CB%EF%0E%5E%1A%7C%FE%D7r%18%0B%00%C2%14%E0%16%10%19%A9%BF%FF%FC%C9%F3g%98%F5%FCgI%A6KRF%13%CA%C5%9C%89%A4B%F1%9AJR%1D9%7C%40%B5%86~i%02%87%9Ci%89Rf%DEZ%144%60%8Cc%5E%EA%E2F%CDT%D3_%D7J%F5%15%1DTg%23%25%D1Pv%1D1%10%CF%94%B2%99%BF%F6%D9g%1BMD~%BB%89%24a%0El%3Fkj%C5%1E%93%0A%01%FF%F6%60%01%7F%DF%F0G%7F%FF%C6%E9x%EC1%3B%FF%E3%40%C4%11)%2B%8A%A2%5E%7DR%F0%F7%CC%1Az%CD%97%B3%C1QZ%A8%BB%A9Iz%F5%D3%16%80p%5C%26%CA%05%10%0BI%13%96W%FF%FCR%9D%B3%16c%BD%22%DB%046%98%D8%9E%95%1A%26P%D9Or%5E%18%CB.8%88%8BY%B4%E7%99%40Co%B9%19%F3%DB%8BNa%233I%24G%82%C3%85X%8D%1A%247%A2%98%939h%11%EA%9D%3E%8F%E2%16%A4%B3!%F4L%2B6%0E.%18F%C9%11%22%89%E0%1E%C4MYCT_e%CB%3D%23%3A%DA%8A%90%C4%E1%87%19%24i%91%A4%E2%80%82%8D.tB%1E%9BsE%05%5D%A4%40%01.%92P%16%DF%E7%FC%DF%B07%C4%8A%E0%DF%09K%3D%B5xQ3%12%3C%89%A2%87%AB%D9h%26%19%C0%2C7%06%B2%E0%18%92%11t%16%FF%E30%C4%2F(%03%82%96%5E%7DR%F1%A6MV%D5%AA%AFn'%D1C%08%ED%3DjM%B4n%0A%E7cJ%13%92!%82*V%C9M%AA%D3'%86%85e%10%A4%81%D1e%83%C6%E0%8E%3B8%E52%AE%2B%02%B6%EC%9B%98%208%D2%F4En%A91q%5D9%BDK%B6%89%18M%AA%3A%CE7%9AM%1F%1BF%A4%E1%D9%F4GJ%5BP%F5%1C%7C%E9%0C%93Y%A6%B0%ED%11d%04%B3%8B%B5%AA%F8%40D%86%E4s%1B%02H%87%85%40%00f%FF%EE%05V%F4%5D%D6CM%08%A9%89H%E1L%BA%992%60%91%B1%E65%FF%E30%C4%1E%25%BB%86%A7%1E%AA%0D%89S%D2L%E2__B%1F%C0p%1C!N%02%26%22ju%D5%7F%E8%FA%FD.%D2%CA%FF%D5%23b%ED%A8%24%B6H%14%18%AB%01%E8%F2%08%1AR%09%18%DA*%08(%19j%8B0%C4-%7BB%12%C2%CF%8F%0AD%F3%5D%2Cgt%D4%3B%025%DD%889%15%12%09B%96%A6b%1B%5BR%E6%EC%02%B9%A32%C0%D3%D3%23%95%EA%8C%8B%D3%13%17%85%13S%91%021%92%BA%9C!%04%C7%82%D17%20%85L%00i%88%FA%00%05%DF%7F%80%5B%FF%DDD%A2%CAA%178%C9%F4%8E%A9%FF%E30%C4%16!%83%86%AA%FE%5D%0D%11%F4%8B%A2%E6%A6%E7%FDvH%3F%81u%C1%0F%60Vbw%DB%FF%FE%8C%F3%DA%BA%EElq%B6%93%7F%A2%9B!le%3AE%B3%D1%C9hJ%1E%B64%D3%93%DDy%83%AF%BF%E7%B46b%22%88%91%DCY%C4%0E(%3Aw2A%8Dc%E7%F5%26%91%01%80%F4%97%B8%8B%BA%2C%8DO%C6%F0Zw%96_(%BDS%B1F%A4r%0E%9D%FAn%B7%D7%BB%CFr%F6k%18%95%13%02i%A9%FE%80%06%FF%FF%C0%C4%D7%B2fJ%25I%C2%F9H%9B'%89%13dN%A8%C1J.%17%EE%FF%E30%C4%1F%24%EB%86%AA%FE%A2%0D%89%B3%24%9D%2F%D5t%C3%A8%20pC%80%15%D8%9B%7F%FF%FDfN%A2%9E%15%A0%F1%AC%F0%A3%CE%88%09%8DE!R%87%0A%3C%B8%AA%10%1C%98jTS%0A%044%E5%C6%1B%10%DBi%EAJ%1F%03O%2C%992v%A5%A4%E7%2F%23%B1%F4%B8~Q2ThEg%81%869%E9%18%81%E5%87%E4%8EU%A4%A4%FC%3A%1D%16%06%E5(%CAOK%7C%E9%11%89%25%B1%AD%0B%A6X%B41%F9Y%25%017%87%F9%00%05%B6%EB%80%9Ao%BA%94%7D%89%92%89p%B8%5DY%B1t%9C47%FF%E30%C4%1A%24%9B%8A%A2%FE%AA%0D%8C5b%A9iV%5B%BB%FA%EF%99%84%80A%C1%01%13%60%3A%C0%7D%AA%EB%FF%FFe4%0Em%8A*%CD)'AQe%C8%11%15U%E6%19f%EE%B1%B6%84-%E8%85%135H%3F)%9AJ%7B%82%CB%81%A2%C6%03%E2%B2%40h%90%0C%9Ep%3DC%D9Ta%3Bf%039%8F%E7%2F%02%AE%CE%860%F3%B7%B33a%CDl%D7%5EP%F1%85%DD%83%97%0B%A4%08%11L%00%CC%CCH%84%AF%C8%19%8E%8C%26%EA%006%96%D5%80%04%D2%CB%40%8B%7DjQUE%D3r0%9BD%90%3A%FF%E30%C4%16%23K%82%9E%FE%AA%0D%84n%91%BD%D6l%B3%2B-%EB%FB%A0%B5%2C%24%08%0F%B0%0B%94%81m%81.%85jk%AB%F6%F5r%A2%83%F2%12%A3s%D6(%DB%1B%8E%180ra%95%14c%F7%7B%5B%BD%3E4%CB%C3%87cn%8B%D3q%CC%B2%A5%22(N%C8UfY%AF%1Ar%3D%DF%D5f%E2%CA%E5GJ%0C%5E%EDY(%FA%BE%D0f%1Ef%88%9B%F9%3B%5E%95S8%E2%CA%88j%3D%F04%B2%1E%23M%83%16%C6%D1%97U%01%5D%EC%20%00%E4u%C0%17%5B%B5T%98%B2L%93%C4%F1%C2%E1%A1%3E%B3%FF%E30%C4%17%24%E3%86%96%5E%AAM%84C%22%F2GJ%15%A95)%DFGwZ%09%04%82%83%14%01E%C0%A9%60%92%3C%9A7%A7%FDM%D7o%D2~%25%A9%DC%93m%9DSYkv%9A%1D%8C_%94%866%B4%A8%D5Y%24V%F9%05%3A%94%CF%1B%99%9B%07%BAEe%F4z%8AE%3F%3Ai%A1%84p%175%A4%F2%D39%BC%93%26%B5%1AR%E65%9Dw%96v4%FA%CER%A9%B1%7F%25%9F%E3%1E%7D%B7%AD%A3%11%DB2%23%B3%EAd%CCZ%16%B0%D8%A5%06%5Dk%40%015%9A%D0%16%DF%EE%B9%7B%0B%2C%8C%F3%FA%FF%E3%40%C4%12*%AB%86%96%5E%7DR%D5Emj%92x%8DXw.3%A1%A9%1DI%D6%E92%06!0%A1%16%17%10T%DAI%1A%9FA%D0%5DN%D7%DF%5E%F9F%A3%B9%25%60%C7l%CC%DB(%B9%D1L%09%13%06%0AM%02%EB%F6E3%C6%88%15%7B(%92%9B%CE%EC%15%02Z%B5%AE%10%A5%D5%95%16%26d%CC%D9%C6%9F%11%F3m%0B%9B%89%3B%23%E8%88%CB%CD%AB%98%AD%F0%3E%8C%AA%24%81%97%04%93%D6%09u%A5%91%A2D'%9CY%A8%CD%B9%124%A2%16%B9y%A5%D8%BA%8Bd%97%8B%FB%C8%B4%12%92%1A%19%5C%C9%A1%B3g%8F%B2_%A3%90%3A%02%7D.%40%01-%B6%D0%22%DFd%A7O%14%0CSUg%CC%13D%B2%91I%24%9A%8A%2FW%FD%10%88%20%82%00hd%16%E2%9B%04_%FF%E30%C4*%22%FB%82%9E%5E%A8ME%FF%E6%5D%F3%5D%F1%3Dt7%0Ctr%C9%9C%5B%89A%9C%EF%F6%7D%13Z%0F%96%9B%10%87D%D1F%D6a%A8%AC%EC%95%B0%2C%9CS%C9h9P%8C%14%99%3CY%E2%AE%DD4NN%25%DC%E5%A6%8F%ACe%1C%B9%E4%CB%90%25T%CA%A5%CFT%93%26%E5%7DQ%A7%19%C8K%FE3%E21%BA%8E%AF%14%D9H%88%A5%9C%85%C9%0A%FD%AF%60%01%2C%B2%C0Z%7F%FEim%F6%E9b%3D%60%DB%9Bc%FD%C0%88%E4%CE%FD%CA%1A%AAIM%FE%E6%20%D4%00%2C%80%05%25%8054%9A%FF%E3%20%C4-!c%82%A2%5E%7DF%F0E_%FE%BF%ECB%0D%08%C9%B3-%88%CD%80%CC)Rd%DDN%E5UH(B%08*%19O%975P%C1%04%B2%02%10%60%80%C4%86%80%C0HS-X%8E%C0%DC%91%2C%12%AAJb%3C%F1Y%8C%24%90%0CG%8E%C2%5E)%12%8C%C2%C1%EDQT%15x%A4%BB%A2%BA%B1%14Z%EEMA%08U%00k%FF%E30%C4%02%1B%DAR%AA%FE%5D%06%F1%88%DD%80%04%D6I%00%5B%FFr%AA%13%95%24Q%C5%D34%3C%DAA%A7%13Av%DDWo%F7%40FB%C8%026%40%9A%92%2C%8A%5D%7F%D7%FE%E54K%BEdP%14%20%C2J%02%A1%88e%84%B7%E0%3E0%A1%FD%3F%8C%D0%E3%60%D4%98%C1%14R%99%FA%99%DAr%86%8D*G%1D%5D%86w%C6A%91%9C%E9%80b%1D%DA%1B%82Mb%AD8%EE%D5%B6%F2o%14%0A%14%9A%A9%99%60%007%FBl%03%9F%D7%F0sdK%A1%40%85%A4)%EFz%05b%D2%04%FC%2B%C3%2B%FF)%FF%E3%20%C4!%1A%AB%82%BB%1EM%07%0D%0D%00%9A%F0P%EA%BF%FF%FFV%0D%91K%9C%AFq%06Ec%FDY%C2%B5%CA%AB%91%A3%13%D2%87%FF%13%E9%18%F4%A4%B68%3F%A9%128%F59cO%249%DA%9A%A3%A4%AC%7D8%89%0AY%BC%E5VO%C9%1B%BA%C5%F3%D32%F4%EFL'%25%03h%89hP%00m%B6Z%06%D393%F7yN%AD%FF%E30%C4%11%1B%12%96%AF%1Ee%07%0DGs%248%DB%B3%CFl%07%F5%FBw~o%FF%D8%F8%A8%02RC%0A%9C_%FF%DF%DB%22%85%8AI%20%DE%89%9E%7C%D0%BE%26%D9%12%897%23%1F%5C%CF%23%EA%92R%C94P%10J%5B%DC%D0cB%CC%8C%CB%5E%26%5E%D1%04D%D8%08X%A5%5C%EAlNm%D7%FE%D5%10%BD%BF%EC%A1%2F.r)%D5%03Z%98yP%00%ED%D2%D8%02%DF%CB%1F6%BA%C4%91%D4%8A%96lR%F4%92%A3rq%B7-%7C%BD%EF%FDo%40%A61%00%A3%B1'%3DV%FF-%A5%CB%FC%A3)%A7%FF%E3%20%C43%1D%1B%16%AB%1E%5D%07%09cV%3F%85%1B%D16%C8%F4%3C%8DBR0%84%0Cl%C1*N%F3%E2%96~%7C%26%00k%D7%06%0D%8D%A1%8E%8C%C8%3A(6t%17%10%CF%C8%22K%D7N%A8%C6%B9%25%F46~%05M%DA%7D~%F9%BC%D6%0C%F8%EA%10Z%88%FF%00%1D%B6K%00%AA%FAn%81%99%10Y%C2%7D%23dN%99%96%2CY%FF%E3%20%C4%19%1B%EBz%AA%FE%98GE5%D18%89%F9x%DB%FB%A2%A2%98%D1%02%1D%0D%3D%9D%FF%99%17%F5Z%84xq%EF%D8%C7%E4%E4%2C%D2%14T%B9p%DF%DFT%D2%8D%5EB%D9%3D%FEi%B0j%E3%91(%81%A6g%BEOs%A4S%EB%16%F7%0533%CA%9F%B6g%14%E86%3F2%E6%D6_%C9%17%D1%09%A7%08%D8V%CD'%8D%CA%87%FF%E30%C4%04%1E%FBR%BB%1FKP%01%A0%05%BF%FB%FE%06%3Dq)%5B%B4K%8A%8Di%24L%5E%8B%8ER%C7fYG%E5%CCO%FDI%40%C8_%1B%DB%F3Y%12%ADW%240%95%08%B2%A8i%D6%9C%EA%8ED%A7%AA)y%EEy%B6%D9%19.%D4b%CCk%B1%AB%BE%FD%17*%E7%D8%90%F3%11%9A%E6%A3%BA!%AEa%12(%F1%C7%A4%86%AA%BE%7B%D1Zj%B1%84%C4%E8cM%3D%90%B5%DA%B5%D2%F7%3D%19%08%19%09!%180%5D30%00%20%16%02%90%B8%18%00%0F%2B%96%01%A5%00x%22dBY%A1_W%89%FF%E30%C4%17%1E%F2%D2%8E%FF%8FX%00%A6%C8W%CC%B4v%C2%C3%94mG%B7%2B%3D%B2i%B54%E7a%C0X%C9%23%C0%B0%0FR%F8%8F%B7%5CM%B6i%D3I%5DE%CD%EEl%26m5%EE%86%FF%F1%05%A7%9A%EF%D3%B7%3Bl%E9%26%EF%FF%FFG%BC%E2O%8B%8F%8D%B2JU%8E%EF%FF%9F%9F%9FV%F8%F6%1C'%D4L%CB%15w%1BZ%90%97%FE%A0%A0J%7B%F1%0F%FCR%22%F0%01%00%04!0%84%24%25%FF%E2%130%FF%D0%C6%85%01%60%C0L%04%04%E1%40D%A0%10%08%3B%FF%FF%FF%FF%FF%89J%9D%06%87%9D%FF%E3%10%C4*%0B%08%D9%CCW%C1%10%00%12%CFULAME3.92UUUUUUUUUUUUUUUUUUUUUUUUUUUU%FF%E3%10%C4%24%00%00%03H%00%00%00%00UUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU";

var dummy = unsafeWindow.document.body.appendChild(update(document.createElement('div'), {
	'style' : 'position:absolute;top:0px;left:0px;z-index:100;height:1px;'
}))

var pons = qts(MP3_PON, 3);
var pis = qts(MP3_PI, 5);
var w = unsafeWindow;

addBefore(w.Control, 'scroll_next_item', function(){
	var item = w.get_active_item(true);
	item && pis().SetRate(4 + (2 * item.offset /w.get_active_feed().items.length));
})

addBefore(w, 'touch_all', function(){
	pons().Play();
})

function qts(src, num) {
	var res = [];
	for(var i=0 ; i<num ; i++)
		res.push(QuickTime(src, dummy));
	return circulation(res);
}

// ----[Utility]-------------------------------------------------
function circulation(list){
	return function(){
		var item = list.shift();
		list.push(item);
		return item;
	}
}

function addBefore(target, name, before) {
	var original = target[name];
	target[name] = function() {
		before.apply(this, arguments);
		return original.apply(this, arguments);
	}
}

function update(obj, params){
	if(obj.setAttribute){
		for(var key in params)
			obj.setAttribute(key, params[key]);
	} else {
		for(var key in params)
			obj[key] = params[key];
	}
	return obj;
}

function QuickTime(src, parent){
	parent = parent || unsafeWindow.document.body;
	
	// 要素のメソッドを直接呼ぶためunsafeWindowを使う
	return parent.appendChild(update(unsafeWindow.document.createElement('embed'), {
		src : src,
		type : 'video/quicktime',
		controller : 'false',
		autoplay : 'false', 
		loop : 'false',
		width : '2px',
		height : '2px'
	}));
}