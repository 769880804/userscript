// ==UserScript==// @name 		   SalesForce Chatter : show smileys in posts and comments// @namespace	   https://eu1.salesforce.com/_ui/core/// @description	version 0.3 - works for posts // fix carriage returns // works for comments// @include		https://eu1.salesforce.com/_ui/core/userprofile/UserProfilePage?*// @include		https://eu1.salesforce.com/_ui/core/chatter/ui/ChatterPage*// @include		https://eu1.salesforce.com/_ui/core/chatter/groups/GroupProfilePage?*// ==/UserScript==var mySmileyList = new Array(	  [ new RegExp(':-\\)','g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_happy_emoticon.png"/>' ]	, [ new RegExp(':-\\(','g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_sad_emoticon.png"/>'   ]	, [ new RegExp(':-D'  ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_grin_emoticon.png"/>'  ]	, [ new RegExp(':-O'  ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_gasp_emoticon.png"/>'  ]	, [ new RegExp(':-o'  ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_gasp_emoticon.png"/>'  ]	, [ new RegExp(':-P'  ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_tongue_emoticon.png"/>']	, [ new RegExp(':-p'  ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_tongue_emoticon.png"/>']	, [ new RegExp(';-\\)','g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_wink_emoticon.png"/>'  ]	, [ new RegExp(':-\\/','g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_unsure_emoticon.png"/>']	, [ new RegExp(':\\)' ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_happy_emoticon.png"/>' ]	, [ new RegExp(':\\]' ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_happy_emoticon.png"/>' ]	, [ new RegExp('=\\)' ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_happy_emoticon.png"/>' ]	, [ new RegExp(':\\(' ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_sad_emoticon.png"/>'   ]	, [ new RegExp(':\\[' ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_sad_emoticon.png"/>'   ]	, [ new RegExp('=\\(' ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_sad_emoticon.png"/>'   ]	, [ new RegExp(':D'   ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_grin_emoticon.png"/>'  ]	, [ new RegExp('=D'   ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_grin_emoticon.png"/>'  ]	, [ new RegExp(':O'   ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_gasp_emoticon.png"/>'  ]	, [ new RegExp(':o'   ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_gasp_emoticon.png"/>'  ]	, [ new RegExp(':P'   ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_tongue_emoticon.png"/>']	, [ new RegExp(':p'   ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_tongue_emoticon.png"/>']	, [ new RegExp('=P'   ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_tongue_emoticon.png"/>']	, [ new RegExp(';\\)' ,'g'),'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_wink_emoticon.png"/>'  ]//	, [ new RegExp(':\\/'  , 'g'), ,'<img class="emoitcons" src="http://eu1.salesforce.com/help/doc/en/help/images/collab_chat_unsure_emoticon.png"/>']);function smileyReplace(nodesSnapshot) {	var nbrSpans = nodesSnapshot.snapshotLength;	if (0!=nbrSpans) {		for ( var i=0 ; i < nbrSpans ; i++ ) {			var myString = nodesSnapshot.snapshotItem(i).innerHTML;			for (var j=0 ; j<mySmileyList.length ; j++ ) {				mySmiley = mySmileyList[j];				myString = myString.replace(mySmiley[0],mySmiley[1]);				nodesSnapshot.snapshotItem(i).innerHTML = myString;			} // end for		} // end for	} // end if} // end function smileyReplace()function fetchAndReplace() {	var nodesSnapshot = document.evaluate(		  '//span[@class="feeditemtext cxfeeditemtext" or @class="feedcommenttext"]'		, document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null	);	smileyReplace(nodesSnapshot);} // end function fetchAndReplace()window.xdx = function() {  fetchAndReplace();}xdx();