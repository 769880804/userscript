// ==UserScript==
// @name           HackForums.net - Custom Reputation Display Colors
// @namespace      spafic/repcolors
// @description    Allows user to specific what color positive, neutral, and negative reputation is displayed in.
// @author         Spafic
// @copyright      Spafic 2012 (http://userscripts.org/users/Spafic)
// @licence        GNU General Public License
// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. For a copy, see <http://www.gnu.org/licenses/>. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.use
//
// @match          *://*.hackforums.net/*
// @version        1.0.3
// @downloadURL    https://userscripts.org/scripts/source/135830.user.js
// @updateURL      https://userscripts.org/scripts/source/135830.meta.js
//
// @icon           http://cdn2.hackforums.net/uploads/ficons/hf-news.png
// @icon64         http://cdn2.hackforums.net/uploads/ficons/hf-news.png
// @history        1.0.0 - Script created
// @history        1.0.1 - Script compressed and cross-browser support
// @history        1.0.2 - Fixed a small bug.
// @history        1.0.2.1 - Fixed another smaller bug.
// @history        1.0.3 - Added the ability to change the background color of the reputation.
// ==/UserScript==

(function(){var d,e,a,f,i,g,h,c,b;if("undefined"==typeof localStorage)throw Error("Your browser does not support HTML5 localStorage. Try upgrading.");if(null==localStorage.getItem("hf_repcolors_v_1_3")||"undefined"==localStorage.getItem("hf_repcolors_v_1_3"))h={positive:"#008000",negative:"#FF0000",neutral:"#808080",positiveBG:"#00CC66",negativeBG:"#AE0023",neutralBG:"#ccc"},localStorage.setItem("hf_repcolors_v_1_3",JSON.stringify(h));c=JSON.parse(localStorage.getItem("hf_repcolors_v_1_3"));if(-1!=document.location.toString().indexOf("usercp.php?action=options"))d=document.getElementsByName("threadmode")[0].parentNode.parentNode.parentNode,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><span class="smalltext"><span style="color:'+c.positive+'">Positive</span> repuation color (Default: #008000)</span></td>',d.appendChild(a),a=null,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><input type="text" id="pos_color" value="'+c.positive+'"></input></td>',d.appendChild(a),a=null,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><span class="smalltext"><span style="color:'+c.positiveBG+'">Positive</span> background color (Default: #00CC66)</span></td>',d.appendChild(a),a=null,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><input type="text" id="pos_color_bg" value="'+c.positiveBG+'"></input></td>',d.appendChild(a),a=null,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><span class="smalltext"><span style="color:'+c.neutral+'">Neutral</span> repuation color (Default: #808080)</span></td>',d.appendChild(a),a=null,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><input type="text" id="ntr_color" value="'+c.neutral+'"></input></td>',d.appendChild(a),a=null,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><span class="smalltext"><span style="color:'+c.neutralBG+'">Neutral</span> background color (Default: #ccc)</span></td>',d.appendChild(a),a=null,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><input type="text" id="ntr_color_bg" value="'+c.neutralBG+'"></input></td>',d.appendChild(a),a=null,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><span class="smalltext"><span style="color:'+c.negative+'">Negative</span> repuation color (Default: #FF0000)</span></td>',d.appendChild(a),a=null,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><input type="text" id="neg_color" value="'+c.negative+'"></input></td>',d.appendChild(a),a=null,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><span class="smalltext"><span style="color:'+c.negativeBG+'">Negative</span> background color (Default: #AE0023)</span></td>',d.appendChild(a),a=null,a=document.createElement("tr"),a.innerHTML='<td colspan="2"><input type="text" id="neg_color_bg" value="'+c.negativeBG+'"></input></td>',d.appendChild(a),a=null,document.getElementsByName("regsubmit")[0].addEventListener("click",function(){e=document.getElementById("pos_color").value;positiveBGcolor=document.getElementById("pos_color_bg").value;f=document.getElementById("ntr_color").value;neutralBGcolor=document.getElementById("ntr_color_bg").value;g=document.getElementById("neg_color").value;negativeBGcolor=document.getElementById("neg_color_bg").value;-1==e.search(/#/)&&(e="#"+e);-1==positiveBGcolor.search(/#/)&&(positiveBGcolor="#"+positiveBGcolor);-1==f.search(/#/)&&(f="#"+f);-1==neutralBGcolor.search(/#/)&&(neutralBGcolor="#"+neutralBGcolor);-1==g.search(/#/)&&(g="#"+g);-1==negativeBGcolor.search(/#/)&&(negativeBGcolor="#"+negativeBGcolor);h={positive:e,negative:g,neutral:f,positiveBG:positiveBGcolor,negativeBG:negativeBGcolor,neutralBG:neutralBGcolor};localStorage.setItem("hf_repcolors_v_1_3",JSON.stringify(h));return 1});else{d=document.getElementsByClassName("reputation_positive");positivesBG=document.getElementsByClassName("trow_reputation_positive");a=document.getElementsByClassName("reputation_neutral");neutralsBG=document.getElementsByClassName("trow_reputation_neutral");i=document.getElementsByClassName("reputation_negative");negativesBG=document.getElementsByClassName("trow_reputation_negative");for(b=0;b<d.length;b++)d[b].style.color=c.positive;for(b=0;b<a.length;b++)a[b].style.color=c.neutral;for(b=0;b<i.length;b++)i[b].style.color=c.negative;for(b=0;b<positivesBG.length;b++)positivesBG[b].style.background=c.positiveBG;for(b=0;b<neutralsBG.length;b++)neutralsBG[b].style.background=c.neutralBG;for(b=0;b<negativesBG.length;b++)negativesBG[b].style.background=c.negativeBG}})();