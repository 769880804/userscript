// ==UserScript==
// @name          Disable MediaWiki access keys
// @description   Checks whether the page was generated by MediaWiki and disables access keys for all links
// @include       http://* 
// @include       https://* 
// @version       0.1.1
// ==/UserScript==

function isMediaWikiPage() {
  var metaElements = document.getElementsByTagName('meta');
  var metaElementsLength = metaElements.length;
  for (var i = 0; i < metaElementsLength; i++) {
    var meta = metaElements[i];
    if (meta.getAttribute('name') == 'generator' && meta.getAttribute('content').indexOf("MediaWiki") != -1) {
      return true;
    }
  }
  return false;
}

function disableAccessKeys() {
  var aElements = document.getElementsByTagName('a');
  var aElementsLength = aElements.length;
	for (var i = 0; i < aElementsLength; i++) {
        aElements[i].setAttribute("accesskey","");
    }
  console.log("Disabled MediaWiki access keys");
}

if(isMediaWikiPage()) {
    disableAccessKeys();
}