// ==UserScript==
// @name        ptcgeneration
// @namespace   ptcgeneration
// @include     *://*ptcgeneration.com/index.php?view=ads
// @include     *://*ptcgeneration.com/index.php?view=surfer*
// @require     http://userscripts.org/scripts/source/159898.user.js
// @include     *://*.*cks.com/
// @include     *://*cl.my/*
// @include     *://*link.com/*
// @include     *://*oc.us/*
// @include     *://*df.ly/*
// @include     *://*ad7.biz/*
// @include     *://*link.fr/*
// @version     1
// ==/UserScript==
if(wparent.location.href.indexOf("index.php?view=ads")!=-1){var arr=[],ctr=0;var div=$("<div>");var clickNum=ctr+1;var loading=0;div.css({zIndex:1000000,textAlign:"center",padding:5,position:"fixed",width:399,height:20,background:"#AFFFAF",border:"2px solid green",bottom:10,right:10}).text("clicking: "+clickNum+" loading : "+loading);$("body").css({position:"relative"}).append(div);if($(".ad-div").size()){var obj={href:$("span",$(".ad-div")).attr("onclick").split(",")[0].match(/'[^]+'/)[0].replace(/'/g,""),jObj:$(".ad-div")};arr.push(obj)}$.each($(".ad-block"),function(b,a){objj[b];if($("span",$(a)).attr("onclick")&&$(a).attr("class").indexOf("disabled")==-1){var c={href:$("span",$(a)).attr("onclick").split(",")[0].match(/'[^]+'/)[0].replace(/'/g,""),jObj:$(a)};arr.push(c)}});console.log(arr.length);console.log(arr);function rec(b){loading=0;if(arr[b]){wparent.open(arr[b].href,"","width=100,height=100,top=1000,left=20000");div.text("clicking : "+clickNum+" / "+arr.length+" - loading : "+loading)}else{var c=120000;var a=setInterval(function(){c-=1000;div.text("reloading :"+c);if(c==0){clearInterval(a);window.location.reload()}},1000)}}rec(ctr);wparent.success=function(){arr[ctr].jObj.text("done").css({background:"#000",color:"#FFF"});ctr++;clickNum=ctr+1;setTimeout(function(){rec(ctr)})}}if(wparent.location.href.indexOf("index.php?view=surfer")!=-1){var key=Math.floor((Math.random()*3)+1);var div=$("<div>");var timerterval="";setTimeout(function(){$.each($("img"),function(h,g){$(g).addClass("img"+h)});$("#vnumbers").show();function d(h,m){var j=document.createElement("canvas");j.width=$(".img0").width();j.height=$(".img0").height();var g=j.getContext("2d");g.drawImage(h,m,0);var l=g.getImageData(0,0,j.width,j.height);var k=l.data;return k}var f=$("map area").size();var a=[];for(i=0;i<f;i++){if(i==0){a.push(d($(".img1")[0],0))}else{a.push(d($(".img1")[0],"-"+($(".img0").width()*i)))}}var e=d($(".img0")[0],0);var b=[];$.each(a,function(h,g){var g=0;for(i=0;i<e.length;i++){if(e[i]==a[h][i]){g++}}b.push(g)});var c=b.indexOf(Math.max.apply(Math,b))+1;$.ajax({url:"index.php?view=surfer&",type:"post",data:"action=validate&t="+wparent.adtk+"&masterkey="+c}).complete(function(h,g,k,j){console.log(h);console.log(g);console.log(k);console.log(j);if(h.responseText.indexOf("Invalid")>=0||h.responseText.indexOf("!DOCTYPE")>=0){div.text("failed").css("background","red");clearInterval(timerterval);wparent.location.reload()}if(h.responseText.indexOf("ok")>=0){wparent.opener.success();wparent.close()}})},(wparent.secs*1000));timer=wparent.secs;timerterval=setInterval(function(){div.css({color:"#000",zIndex:1000000,textAlign:"center",padding:5,position:"fixed",width:70,height:20,background:"#AFFFAF",border:"2px solid green",bottom:10,right:10}).text("click wait:"+(timer--));$("body").css({position:"relative"}).append(div)},1000)}else{if(wparent.location.href.indexOf("ucks.com")!=-1){var wind=$(window)[0];var wparent=(wind.wrappedJSObject)?wind.wrappedJSObject:wind;$(function(b){var a=16;var c=b("<div>");c.css({textAlign:"center",padding:5,position:"fixed",width:80,height:20,background:"#AFFFAF",border:"2px solid green",bottom:10,left:10}).text("counter : "+a);b("body").css({position:"relative"}).append(c);b("#framebar").css({opacity:0});setInterval(function(){a--;if(a==0){wparent.close()}c.text("counter : "+a)},1000)})}};