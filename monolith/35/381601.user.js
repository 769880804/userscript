// ==UserScript==
// @name        Gameblog Power Up - Firefox
// @namespace   gbpu
// @description Customisation et amélioration de la partie Communauté de Gameblog.fr
// @include     http://www.gameblog.fr/communaute.php
// @include     http://www.gameblog.fr/statuts.php*
// @include     http://www.gameblog.fr/blogs/index.php*
// @include     http://www.gameblog.fr/mygameblog/*
// @version     1.3
// @grant       none
// @require     https://userscripts.org/scripts/source/145813.user.js

// ==/UserScript==

/*
Details des versions
1.0 : Version prototype avec filtre twitter, image, smiley, taille fil actu et gamecam
1.1 : Reecriture de la 1.0 avec jQuery 
1.2 : Modification listage des posts de blog, iframe dans la page blog, extension du filtre des statuts à statuts.php et blacklist
1.3 : Gestion des themes, choix de la mise en page de la liste des derniers posts de blogs, importation de statuts depuis la page "tout les statuts"
*/

function GM_wait(){"undefined"==typeof unsafeWindow.jQuery?window.setTimeout(GM_wait,100):(jq=unsafeWindow.jQuery.noConflict(!0),letsJQuery())}function letsJQuery(){function e(){var e=GM_getValue("gbpu_size_fil_actu","Normale"),t=(GM_getValue("gbpu_show_smiley",!1),GM_getValue("gbpu_hide_twitter",!1),GM_getValue("gbpu_hide_gamecam",!1)),o=(GM_getValue("gbpu_hide_images",!1),jq(".homeCommunaute:first"));switch(e){case"Normale":o.css("height","495px"),jq("#gbLastActivity").css("height","480px");break;case"Grande":o.css("height","895px"),jq("#gbLastActivity").css("height","680px");break;case"Enorme":o.css("height","1195px"),jq("#gbLastActivity").css("height","980px");break;case"Masquer":o.css("height","200px"),jq("#gbLastActivity").css("height","0px")}if(gb.scrollbars[0].recalculateLayout(),"true"==GM_getValue("gbpu_import_statut",!1)||GM_getValue("gbpu_import_statut",!1)===!0){jq("#gbDernierStatuts > .statut").remove();var a='<iframe style="height:100vh;" id="gbc_iframe" src="http://www.gameblog.fr/statuts.php"></iframe>';jq(".bloc300").append(a),jq("#gbc_iframe").hide()}else l();("true"==t||1==t)&&jq(".blocCam").hide(),jq("#mygameblog_popup").prepend('<li class="sectionSeparator"><a id="gbc_gameblog_power_up" href="#nogo">Gameblog power up</a></li>')}function t(){jq('<strong style="float:left; margin-top:30px; margin-left:20px;" class="gbc_wait">Chargement des derniers posts de blog en cours <img width="16" src="http://www.gameblog.fr/images/blogs/29207/177735.gif"></strong>').insertAfter(".gb_actu3:first"),jq(".gb_actu3:first").hide();var e=jq(".gb_actu3:first > article"),t='<table style="margin-left:20px;">';e.each(function(){var e=jq(this).find("a:first").attr("href"),o=jq(this).find("a.titre").text(),l=jq(this).find("div.infos.user"),a=l.find("a:first").text(),i=l.find("a:first").attr("href"),r=l.find("span.author").attr("data-ol");r=r.split(":"),r=r[1];var u=l.find("time").text(),g=l.find("span.likes").text(),n=l.find("span.comments").text(),p=l.find("span.hits").text(),c="";(GM_getValue("gbpu_blog_list_show_avatars",!1)===!0||"true"==GM_getValue("gbpu_blog_list_show_avatars",!1))&&(c=s(r));var b=jq(this).find("figure");b.css("display","block"),b.css("width","100px"),b.css("position","relative"),b.css("left","0"),b.css("top","0"),t+="<tr>",t+='<td style="text-align:center; width:100px;" class="gbc_img_auteur_post">',t+='<div style="position: relative; left: 0; top: 0;">',t+=b.clone().wrap("<p>").parent().html(),""!=c&&(t+='<img style="position: absolute; height: 40px; border: 5px solid rgb(195, 195, 195); border-radius: 50%; width: 40px; top: -10px; left: -15px;" class="gbc_img_profil" src="'+c+'">'),t+="</div>",t+="</td>",t+="<td style='vertical-align:middle !important; padding-left:15px;'>",t+='<a class="titre" href="'+e+'">'+o+"</a>&nbsp;&nbsp;",t+="</td>",t+="</td>",t+="<td style='vertical-align:middle !important;'>",t+='<div class="infos user"><time>'+u+'</time><span class="likes">'+g+'</span><span class="comments">'+n+'</span><span class="hits">'+p+"</span></div>",t+="</td>",t+="</tr>",t+='<tr style="text-align:center;"><td><a class="vert" href="'+i+'">'+a+"</a></td></tr>",t+="<tr><td>&nbsp;</td></tr>",jq(this).remove()}),jq(".gb_actu3:first > h2.rubrique").after(t),jq(".gb_actu3:first").show(),jq(".gbc_wait").remove()}function o(){var e='<iframe style="height:100vh;" id="gbc_iframe" src="http://www.gameblog.fr/statuts.php"></iframe>';jq(".bloc300").append(e),jq("#gbc_iframe").hide()}function l(){var e=GM_getValue("gbpu_show_smiley",!1),t=GM_getValue("gbpu_hide_twitter",!1),o=GM_getValue("gbpu_hide_images",!1),l=jq("h2.rubrique").eq(2);l.length<1&&(l=jq("h2.rubrique"));var i="#00ACEE";("true"==t||1==t)&&(i="#C3C3C3");var r='&nbsp;<a style="text-decoration:none;" id="gbc_toogle_twitter"><span gbtitle="via Twitter" data-icon="t" style="cursor:pointer; color: '+i+'" title="Afficher les messages twitter"></span></a>';l.append(r),a(t,e,o)}function a(e,t,o){"true"==e?e=!0:"false"==e&&(e=!1);var l=jq(".statut");l.each(function(l){var a=jq(this),i=a.find("a").eq(0).text().toUpperCase(),r=GM_getValue("gbpu_blacklist","");if(-1!=r.indexOf(i)||e&&(-1!=a.html().indexOf('<a href="http://www.twitter.com/')&&-1!=a.html().indexOf("@")||-1!=a.html().indexOf('<a href="http://search.twitter.com/')&&-1!=a.html().indexOf("@")||-1!=a.html().indexOf('<a href="http://www.twitter.com/')&&-1!=a.html().indexOf("#")||-1!=a.html().indexOf('<a href="http://search.twitter.com/')&&-1!=a.html().indexOf("#")))jq(".statut").eq(l).hide();else{if(jq(".statut").eq(l).show(),"true"==o||o===!0){var s=a.find("p:first").find("img");s.each(function(){var e=jq(this).attr("src");jq(this).replaceWith('<a href="'+e+'" class="gbc_image_min"><img src="http://www.gameblog.fr/images/blogs/29207/177605.png"></a><div" class="gbc_hidden_image"><img style="max-width:200px;" src="'+e+'"></div>')}),jq(".gbc_hidden_image").hide()}("true"==t||t===!0)&&a.html(convertSmiley(a.html()))}})}function i(e){e?(GM_setValue("gbpu_hide_gamecam",!0),jq(".blocCam").hide()):(GM_setValue("gbpu_hide_gamecam",!1),jq(".blocCam").show())}function r(){var e=jq(".gb_actu3 > article");e.each(function(){var e=jq(this).find("div.infos.user"),t=e.find("span.author").attr("data-ol");t=t.split(":"),t=t[1];var o=s(t);jq(this).prepend('<img src="'+o+'" style="position:absolute; z-index:999; height: 40px; border: 5px solid rgb(195, 195, 195); border-radius: 50%; width: 40px; margin-top:-10px; margin-left:-10px;"/>')})}function s(e){var t="www.gameblog.fr/forum/public/style_images/master/profile/default_large.png";return"200"!=u("http://www.gameblog.fr/forum/uploads/profile/photo-"+e+".jpg")?"200"!=u("http://www.gameblog.fr/forum/uploads/profile/photo-"+e+".png")?"200"!=u("http://www.gameblog.fr/forum/uploads/profile/photo-"+e+".jpeg")?"200"!=u("http://www.gameblog.fr/forum/uploads/profile/photo-"+e+".gif")?"200"!=u("http://www.gameblog.fr/forum/uploads/profile/photo-thumb-"+e+".jpg")?"200"!=u("http://www.gameblog.fr/forum/uploads/profile/photo-thumb-"+e+".jpeg")?"200"!=u("http://www.gameblog.fr/forum/uploads/profile/photo-thumb-"+e+".png")?"200"!=u("http://www.gameblog.fr/forum/uploads/profile/photo-thumb-"+e+".gif")&&(t="http://www.gameblog.fr/forum/uploads/profile/photo-thumb-"+e+".gif"):t="http://www.gameblog.fr/forum/uploads/profile/photo-thumb-"+e+".png":t="http://www.gameblog.fr/forum/uploads/profile/photo-thumb-"+e+".jpeg":t="http://www.gameblog.fr/forum/uploads/profile/photo-thumb-"+e+".jpg":t="http://www.gameblog.fr/forum/uploads/profile/photo-"+e+".gif":t="http://www.gameblog.fr/forum/uploads/profile/photo-"+e+".jpeg":t="http://www.gameblog.fr/forum/uploads/profile/photo-"+e+".png":t="http://www.gameblog.fr/forum/uploads/profile/photo-"+e+".jpg",t}function u(e){var t=jq.ajax({type:"HEAD",url:e,async:!1});return t.status}function g(e,t){if("default"!=e){var o,l,a,i,r,s;switch(e){case"pastel":o="#221E1D",l="#ECEAE0",a="#63AA9C",i="#E9633B",r="#585458",s="#A3A3A3";break;case"halflife":o="#232B2B",l="#232B2B",a="#E3AE57",i="#DC3D24",r="#A3A3A3",s="#A3A3A3";break;case"submarine":o="#222930",l="#222930",a="#4EB1BA",i="#E9E9E9",r="#A3A3A3",s="#A3A3A3";break;case"pomme":o="#2B2B2B",l="#F6F6F6",a="#A02325",i="#DE1B1B",r="#191919",s="#A3A3A3";break;case"honey":o="#3B3633",l="#3B3633",a="#FFBB29",i="#EDF252",r="#615953",s="#A3A3A3";break;case"sand":o="#DED4B9",l="#DED4B9",a="#CE534D",i="#46433A",r="#46433A",s="#46433A";break;case"deeppurple":o="#2C1D30",l="#221526",a="#564660",i="#453C51",r="#E0E0EA",s="#A3A3A3";break;case"elegance":o="#E4E4E4",l="#E4E4E4",a="#68667B",i="#68667B",r="#68667B",s="#68667B";break;case"candy":o="#FFFFFF",l="#FFFFFF",a="#FD0064",i="#ED337C",r="#DC6F98",s="#D290AB";break;case"monochrome":o="#000000",l="#0F0F0F",a="#C3C3C3",i="#5E5E5E",r="#FFFFFF",s="#A3A3A3";break;case"greennight":o="#2C3E50",l="#34495E",a="#16A085",i="#1C2E40",r="#FFFFFF",s="#1C2E40"}jq("a.gbButton.vert").removeClass("gbButton"),GM_addStyle("body { background:none !important; background-color: "+o+" !important; }"),GM_addStyle("body { color: "+r+" !important; }"),GM_addStyle("#gb_navbar.compact:before { background:none !important; background-color: "+o+" !important; }"),GM_addStyle("ul.selectbar > li:hover > a, ul.selectbar > li:hover > .onglet, ul.selectbar a:hover, ul.selectbar .onglet:hover, ul.selectbar > li.active > a, ul.selectbar > li.active > .onglet, #gb_navbar .mygameblog.active, #mygameblog_link:hover { background:none !important; background-color: "+a+" !important; }"),GM_addStyle("ul#mygameblog_popup, ul#gbMenuCommunaute { border-top: 4px solid "+a+" !important; }"),GM_addStyle("#gbTooltip, .bg_blanc, .ipsBlockquote, .gbLogEntry, #gbUserList { background-color: "+l+"  !important;}"),GM_addStyle(".commentaires:not(.actu) { border:0px; background-color: "+l+"  !important;}"),GM_addStyle("#gbNotifPopup, ul.selectbar ul:not(.ipbmenu_content), ul#mygameblog_popup { background:none !important; background-color: "+o+"  !important;}"),GM_addStyle("ul#mygameblog_popup > li a:hover {background-color: "+a+"!important;}"),GM_addStyle(".ariane a { color: "+a+" !important; }"),GM_addStyle("ul#mygameblog_popup li.sectionSeparator {border-color: "+a+"!important;}"),GM_addStyle("#gb_navbar nav.main > ul > li.vert.active:not(:hover) > a:before {background-color: "+a+"!important;}"),GM_addStyle("#gb_navbar nav.main > ul > li.vert.active:not(:hover) > a:after{ color: "+a+"; }"),GM_addStyle("#gb_navbar .main_search .example a, #gb_navbar .main_search .example, #gbNotifPopup li .list_content .desc, .infos, #gbStatusInfo, #gbStatusButton {color: "+s+" !important;}"),GM_addStyle(".blanc, .titre { color: "+a+" !important;}"),GM_addStyle("#gbStatusInfo .partager .pointer:hover, #gbStatusInfo .partager a.vert:hover, #gbStatusInfo .partager .titre:not(.vert), .statut time, .plateforme, #gb_communaute_topjeux .infos { color: "+r+" !important;}"),GM_addStyle("#gbNotifPopup a, .vert { color: "+a+" !important;}"),GM_addStyle(".selectbox.vert, .selectbox.vert .toggle { background-color: "+a+" !important;}"),GM_addStyle("a.vert.lienvoir:before { background-color: "+a+" !important;}"),GM_addStyle("a.vert.lienvoir:hover { text-decoration:underline; color: "+a+" !important;}"),GM_addStyle(".su_links, .hlvert, a.titre  { color: "+a+" !important;}"),GM_addStyle(".su_links:hover, a.titre.hlvert:hover, a.titre:hover  { text-decoration:underline; color: "+a+" !important;}"),GM_addStyle(".rubrique  { color: "+i+" !important;}"),GM_addStyle(".gradiant_gris { background-color: "+l+" !important; background-image: none !important;}"),GM_addStyle(".profil h1, .quote, .largequote { color: "+i+" !important;}"),GM_addStyle("button, .gbButton:not(.blanc), .gbButton.vert, button.vert { border: 1px solid "+i+"; color:"+a+" !important; background-image:none !important; background-color: "+l+" !important;}"),GM_addStyle(".gbButton:hover, .gbButton.vert:hover, button.vert:hover {  color:"+a+" !important; background-color: "+l+" !important; text-decoration: underline;}"),GM_addStyle(".bg_vert, .selectbar {  background-color: "+o+" !important; }"),GM_addStyle(".vip a:not(.titre):before { border-top: 55px solid "+i+" }"),GM_addStyle(".onglet { color:"+r+"; }"),GM_addStyle("li.active > .onglet { background-color: "+a+" !important;}"),GM_addStyle(".onglet:hover, ul.selectbar > li > a:hover, ul.selectbar > li > .onglet:hover {  background-color: "+a+" !important;}"),GM_addStyle("#gb_communaute_topjeux ol li:after, #gb_communaute_top50 ol li:before {  color: "+i+" !important;}"),GM_addStyle(".scrollbar_track {  background-color: "+o+" !important;}"),GM_addStyle(".scrollbar_handle {  background-color: "+i+" !important;}"),GM_addStyle(".gbButton.hlvert:hover, nav.pagination.vert a:hover, nav.pagination.vert a.active {background-color: "+i+"}"),GM_addStyle("button, button.vert:hover:not(.note), button.orange:hover, nav.pagination a, .gbButton, .gbButton.vert:hover, .gbButton.orange:hover {background-image:none; background-color: "+o+"; }"),GM_addStyle("nav.pagination .dizaines a {background-image:none; background-color: "+o+"; color:"+r+" !important; }"),GM_addStyle("footer.gb_wrapper {  color: "+r+"; background-color: "+o+" !important;}"),GM_addStyle("footer.gb_wrapper .titre {  color: "+r+";}"),GM_addStyle("footer.gb_wrapper a {  color: "+a+" !important; }")}("true"==t||t===!0)&&(jq("body").prepend('<div class="holy_div"><img src="http://www.gameblog.fr/images/blogs/29207/178851.png" class="birdjesusright"><img src="http://www.gameblog.fr/images/blogs/29207/178852.png" class="birdjesusleft"></div>'),GM_addStyle(".holy_div { margin:0 auto; width:1000px; }"),GM_addStyle(".birdjesusleft { position:absolute; margin-left:-125px; margin-top:-28px; }"),GM_addStyle(".birdjesusright { position:absolute; margin-left:820px; margin-top:-40px;  }"),GM_addStyle("@media screen and (max-width: 999px) and (min-width: 768px) { .birdjesusright{ position:absolute; margin-left:565px; margin-top:-40px; } .holy_div { margin:0 auto; width:768px; } .birdjesusleft { position:absolute; margin-left:-110px; margin-top:-28px; }}"),GM_addStyle("@media screen and (max-width: 767px) and (min-width: 1px) { .birdjesusright{ display:none } .holy_div { display:none; } .birdjesusleft { display:none; }}"),GM_addStyle("header .logo { background:none !important;"))}g(GM_getValue("gbpu_chosen_style","default"),GM_getValue("gbpu_birdjesus",!1)),"communaute.php"==sPage?("true"==GM_getValue("gbpu_blog_list",!1)||GM_getValue("gbpu_blog_list",!1)===!0?setTimeout(t,1e3):("true"==GM_getValue("gbpu_blog_list_show_avatars",!1)||GM_getValue("gbpu_blog_list_show_avatars",!1)===!0)&&setTimeout(r,1e3),e()):sPage.startsWith("statuts.php",0)?a(GM_getValue("gbpu_hide_twitter",!1),GM_getValue("gbpu_show_smiley",!1),!1):!sPage.startsWith("index.php",0)||GM_getValue("gbpu_show_iframe",!1)!==!0&&"true"!=GM_getValue("gbpu_show_iframe",!1)||(o(),("true"==GM_getValue("gbpu_hide_topventes",!1)||GM_getValue("gbpu_hide_topventes",!1)===!0)&&jq("#gbFnac300").remove()),jq("#gbc_toogle_twitter").on("click",function(){"true"==GM_getValue("gbpu_hide_twitter",!1)||GM_getValue("gbpu_hide_twitter",!1)===!0?(GM_setValue("gbpu_hide_twitter",!1),jq("#gbc_toogle_twitter").find("span").css("color","#00ACEE"),a(!1,!1,!1)):(GM_setValue("gbpu_hide_twitter",!0),jq("#gbc_toogle_twitter").find("span").css("color","#C3C3C3"),a(!0,!1,!1))}),jq(".gbc_image_min").on("click",function(e){e.preventDefault();var t=jq(this).attr("href");gbpuAlert('<a href="'+t+'" target="_blank"><img src="'+t+'" style="max-height:80vh;"></a>"')}).mouseover(function(){jq(this).next(".gbc_hidden_image").show()}).mouseout(function(){jq(this).next(".gbc_hidden_image").hide()}),jq("#gbc_gameblog_power_up").on("click",function(e){e.preventDefault(),gbpuAlert(BuildFormParametrie()),jq("#filactusize").bind("change",function(e){e.preventDefault();var t=jq(this).val(),o=jq(".homeCommunaute:first");switch(GM_setValue("gbpu_size_fil_actu",t),t){case"Normale":o.css("height","495px"),jq("#gbLastActivity").css("height","480px");break;case"Grande":o.css("height","895px"),jq("#gbLastActivity").css("height","680px");break;case"Enorme":o.css("height","1195px"),jq("#gbLastActivity").css("height","980px");break;case"Masquer":o.css("height","200px"),jq("#gbLastActivity").css("height","0px")}gb.scrollbars[0].recalculateLayout()}),jq("#theme_selector").bind("change",function(e){e.preventDefault(),GM_setValue("gbpu_chosen_style",jq(this).val())}),jq("#bird_jesus").bind("click",function(){GM_setValue("gbpu_birdjesus",jq(this).is(":checked"))}),jq("#show_smiley").bind("click",function(){GM_setValue("gbpu_show_smiley",jq(this).is(":checked")),jq(this).is(":checked")&&a(GM_getValue("gbpu_hide_twitter",!1),!0,!1)}),jq("#hide_twitter").bind("click",function(){GM_setValue("gbpu_hide_twitter",jq(this).is(":checked")),jq(this).is(":checked")?jq("#gbc_toogle_twitter").find("span").css("color","#C3C3C3"):jq("#gbc_toogle_twitter").find("span").css("color","#00ACEE"),a(jq(this).is(":checked"),!1,!1)}),jq("#import_statut").bind("click",function(){GM_setValue("gbpu_import_statut",jq(this).is(":checked"))}),jq("#hide_gamecam").bind("click",function(){GM_setValue("gbpu_hide_gamecam",jq(this).is(":checked")),i(jq(this).is(":checked"))}),jq("#hide_imgs").bind("click",function(){GM_setValue("gbpu_hide_images",jq(this).is(":checked")),jq(this).is(":checked")?a(GM_getValue("gbpu_hide_twitter",!1),GM_getValue("gbpu_show_smiley",!1),!0):(jq(".gbc_image_min").remove(),jq(".gbc_hidden_image").show())}),jq("#blog_list").bind("click",function(){GM_setValue("gbpu_blog_list",jq(this).is(":checked"))}),jq("#blog_list_show_avatars").bind("click",function(){GM_setValue("gbpu_blog_list_show_avatars",jq(this).is(":checked"))}),jq("#show_iframe").bind("click",function(){GM_setValue("gbpu_show_iframe",jq(this).is(":checked"))}),jq("#black_list").bind("blur",function(){GM_setValue("gbpu_blacklist",jq(this).val().toUpperCase()),a(GM_getValue("gbpu_hide_twitter",!1),GM_getValue("gbpu_show_smiley",!1),!1)}),jq("#show_topventes").bind("click",function(){GM_setValue("gbpu_hide_topventes",jq(this).is(":checked"))})}),jq("img.gbc_img_profil").error(function(){jq(this).remove()}),jq("#gbc_iframe").load(function(){"communaute.php"==sPage?jq("#gbDernierStatuts").prepend(jq(this).contents().find(".pad300").eq(0).html()):jq(".bloc300").prepend(jq(this).contents().find(".pad300").eq(0).html()),jq(".bloc300 > .m15r").css("margin-bottom","60px"),jq(".bloc300").find(".statut:gt(15)").remove(),jq(".bloc300").find(".pagination").remove(),jq(this).remove(),jq(".gbc_image_min").remove(),jq(".gbc_hidden_image").show(),a(GM_getValue("gbpu_hide_twitter",!1),GM_getValue("gbpu_show_smiley",!1))}),jq(document).ready(function(){function e(){l=!0,document.getElementById("elRaptorShriek").play(),a.animate({bottom:"0"},function(){jq(this).animate({bottom:"-130px"},100,function(){var e=jq(this).position().left+400;jq(this).delay(300).animate({right:e},2200,function(){a=jq("#elRaptor").css({bottom:"-700px",right:"0"}),l=!1})})})}var t=(jq(this),'<img id="elRaptor" style="display: none" src="http://www.gameblog.fr/images/blogs/29207/178106.png" />'),o='<audio id="elRaptorShriek" preload="auto"><source src="http://webeestudio.fr/adrien/Raptorize-Kit/pokestartfight.mp3" /></audio>',l=!1;jq("body").append(t),jq("body").append(o);var a=jq("#elRaptor").css({position:"fixed",bottom:"-700px",right:"0",display:"block","z-index":"99999999"});if(window.addEventListener){var i=[],r="38,38,40,40,37,39,37,39,66,65";window.addEventListener("keydown",function(t){i.push(t.keyCode),i.toString().indexOf(r)>=0&&(l||e(),i=[])},!0)}})}function BuildFormParametrie(){var e='<span style="float: left; width: 350px;"></span>';return e+='<label style="float: left;"><b>Theme par defaut <SUP>1</SUP> :</b></label>',e+='<select style="float: right;" id="theme_selector">',e+="<option "+("default"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="default">Par defaut</option>',e+="<option "+("pastel"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="pastel">Pastel</option>',e+="<option "+("halflife"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="halflife">Half Life</option>',e+="<option "+("submarine"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="submarine">Submarine</option>',e+="<option "+("pomme"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="pomme">Pomme d\'amour</option>',e+="<option "+("honey"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="honey">Honey</option>',e+="<option "+("sand"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="sand">Sand</option>',e+="<option "+("deeppurple"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="deeppurple">Deep Purple</option>',e+="<option "+("elegance"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="elegance">Elegance</option>',e+="<option "+("candy"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="candy">Candy</option>',e+="<option "+("monochrome"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="monochrome">Monochrome</option>',e+="<option "+("green night"==GM_getValue("gbpu_chosen_style","default")?'selected="selected"':"")+' value="greennight">Green night</option>',e+="</select><br><br>",e+='<label style="float: left;"><b>Taille du fil d\'actu :</b></label>',e+='<select style="float: right;" id="filactusize">',e+="<option "+("Normale"==GM_getValue("gbpu_size_fil_actu","Normale")?'selected="selected"':"")+">Normale</option>",e+="<option "+("Grande"==GM_getValue("gbpu_size_fil_actu","Normale")?'selected="selected"':"")+">Grande</option>",e+="<option "+("Enorme"==GM_getValue("gbpu_size_fil_actu","Normale")?'selected="selected"':"")+">Enorme</option>",e+="<option "+("Masquer"==GM_getValue("gbpu_size_fil_actu","Normale")?'selected="selected"':"")+">Masquer</option>",e+="</select><br><br>",e+='<label style="float: left;"><b>Afficher les smileys <SUP>1</SUP> :</b></label>',e+="<input "+(GM_getValue("gbpu_show_smiley",!1)===!0||"true"==GM_getValue("gbpu_show_smiley",!1)?'checked="checked"':"")+' style="float: right;" id="show_smiley" type="checkbox"><br><br>',e+='<label style="float: left;"><b>Masquer les synchros twitter :</b></label>',e+="<input "+(GM_getValue("gbpu_hide_twitter",!1)===!0||"true"==GM_getValue("gbpu_hide_twitter",!1)?'checked="checked"':"")+' style="float: right;" id="hide_twitter" type="checkbox"><br><br>',e+='<label style="float: left;"><b>Toujours importer les 15 derniers statuts <SUP>1 3</SUP> :</b></label>',e+="<input "+(GM_getValue("gbpu_import_statut",!1)===!0||"true"==GM_getValue("gbpu_import_statut",!1)?'checked="checked"':"")+' style="float: right;" id="import_statut" type="checkbox"><br><br>',e+='<label style="float: left;"><b>Masquer la gamecam :</b></label>',e+="<input "+(GM_getValue("gbpu_hide_gamecam",!1)===!0||"true"==GM_getValue("gbpu_hide_gamecam",!1)?'checked="checked"':"")+' style="float: right;" id="hide_gamecam" type="checkbox"><br><br>',e+='<label style="float: left;"><b>Masquer les images <SUP>1</SUP> :</b></label>',e+="<input "+(GM_getValue("gbpu_hide_images",!1)===!0||"true"==GM_getValue("gbpu_hide_images",!1)?'checked="checked"':"")+' style="float: right;" id="hide_imgs" type="checkbox"><br><br>',e+='<label style="float: left;"><b>Dernier posts de blogs sous forme de liste <SUP>1</SUP> : </b></label>',e+="<input "+(GM_getValue("gbpu_blog_list",!1)===!0||"true"==GM_getValue("gbpu_blog_list",!1)?'checked="checked"':"")+' style="float: right;" id="blog_list" type="checkbox"><br><br>',e+='<label class="show_avatars" style="float: left;"><b>Afficher les images de profil sur les derniers posts <SUP>2</SUP> : </b></label>',e+='<input  class="show_avatars"'+(GM_getValue("gbpu_blog_list_show_avatars",!1)===!0||"true"==GM_getValue("gbpu_blog_list_show_avatars",!1)?'checked="checked"':"")+' style="float: right;" id="blog_list_show_avatars" type="checkbox"><br><br>',e+='<label class="show_avatars" style="float: left;"><b>Blacklister les statuts des personnes suivantes : </b></label>',e+='<br><input type="text" value="'+GM_getValue("gbpu_blacklist","")+'" style="width:370px; float: left;" id="black_list" placeholder="Séparer les noms par un «;» exp : AdrienXL; Fachewachewa"><br><br>',e+='<label style="float: left;"><b>Afficher le flux de statuts sur la page « Tous les posts de blogs » : </b></label>',e+="<input "+(GM_getValue("gbpu_show_iframe",!1)===!0||"true"==GM_getValue("gbpu_show_iframe",!1)?'checked="checked"':"")+' style="float: right;" id="show_iframe" type="checkbox"><br><br>',e+='<label style="float: left;"><b>Masquer «Top ventes» sur la page « Tous les posts de blogs » : </b></label>',e+="<input "+(GM_getValue("gbpu_hide_topventes",!1)===!0||"true"==GM_getValue("gbpu_hide_topventes",!1)?'checked="checked"':"")+' style="float: right;" id="show_topventes" type="checkbox"><br><br>',e+='<label style="float: left;" class="gris"> <SUP>1</SUP>Ces options requièrent un rechargement de la page</label><br>',e+='<label style="float: left;" class="gris"> <SUP>2</SUP>Ces options ralentissent notablement le chargement de la page</label><br>',e+='<label style="float: left;" class="gris"> <SUP>3</SUP>Ces options désactivent les miniatures d\'images et l\'icone twitter</label><br><br>'}function convertSmiley(e){var t=new Array;t[":blush:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/blush.png",t[":tired:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/tired.gif",t[":tomato:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/tomato.gif",t[":walkman:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/walkman.gif",t[":whip:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/whip.gif",t[":worship:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/worship.gif",t[":diablo:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/45.gif",t[":lazy:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/47.gif",t[":starwars:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/73.gif",t[":smart:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/smart.gif",t[":silence:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/silence.gif",t[":puke:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/puke.gif",t[":blush3:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/blush3.gif",t[":vieux:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/starac.gif",t[":metal:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/137752.gif",t[":angel:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/angel.gif",t[":beer:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/beer1.gif",t[":blowup:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/blowup.gif",t[":horse:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/horse.gif",t[":injured:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/injured1.gif",t[":cylon:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/78.gif",t[":evil:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/80.gif",t[":gathering:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/81.gif",t[":woah:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/101.gif",t[":cheer:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/102.gif",t[":tv:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/104.gif",t[":bored:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/18.gif",t[":pulp:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/21.gif",t[":sorry:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/37.gif",t[":dunno:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/39.gif",t[":bisou:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/84.gif",t[":guitar:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/68.gif",t[":drummer:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/66.gif",t[":champion:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/61.gif",t[":police:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/85.gif",t[":bave2:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/90.gif",t[":excite:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/97.gif",t[":console:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/99.gif",t[":kiss:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/83.gif",t[":bench:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/60.gif",t[":group:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/103.gif",t[":secret:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/33.gif",t[":jump:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/82.gif",t[":mellow:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/mellow.png",t[":angry:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/angry.png",t[":("]="http://www.gameblog.fr/forum/public/style_emoticons/default/sad.png",t[":unsure:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/unsure.png",t[":wacko:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/wacko.png",t[":blink:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/blink.png",t[" :/"]="http://www.gameblog.fr/forum/public/style_emoticons/default/confused.gif",t[":japh:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/japh.gif",t[":rtfm:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/rtfm.gif",t[":wub:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/wub.png",t[":)"]="http://www.gameblog.fr/forum/public/style_emoticons/default/smile.png",t["<_<"]="http://www.gameblog.fr/forum/public/style_emoticons/default/dry.png",t[":huh:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/huh.png",t["^_^"]="http://www.gameblog.fr/forum/public/style_emoticons/default/happy.png",t["^^"]="http://www.gameblog.fr/forum/public/style_emoticons/default/happy.png",t[":o"]="http://www.gameblog.fr/forum/public/style_emoticons/default/ohmy.png",t[":O"]="http://www.gameblog.fr/forum/public/style_emoticons/default/ohmy.png",t[";)"]="http://www.gameblog.fr/forum/public/style_emoticons/default/wink.png",t[":P"]="http://www.gameblog.fr/forum/public/style_emoticons/default/tongue.png",t[":p"]="http://www.gameblog.fr/forum/public/style_emoticons/default/tongue.png",t["B)"]="http://www.gameblog.fr/forum/public/style_emoticons/default/cool.png",t["b)"]="http://www.gameblog.fr/forum/public/style_emoticons/default/cool.png",t[":rolleyes:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/rolleyes.gif",t["-_-"]="http://www.gameblog.fr/forum/public/style_emoticons/default/sleep.png",t[":busted_red:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/busted_red.gif",t[":wry:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/wry.gif",t[":hypocrite:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/hypocrite.gif",t[":geek:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/geek.gif",t[":censored:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/censored.png",t[":'("]="http://www.gameblog.fr/forum/public/style_emoticons/default/cry3.gif",t[":cry3:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/cry3.gif",t[":yes:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/yes.gif",t[":thumbup:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/thumbup.gif",t[":bave:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/bave.gif",t[":genre:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/genre.png",t[":censored2:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/censored.gif",t[":punish_hang:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/punish_hang.gif",t[":thumbdown2:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/thumbdown2.gif",t[":eyebrow:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/eyebrow.gif",t[":whistling:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/whistling.gif",t[":cry5:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/cry5.gif",t[":wallbash:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/wallbash.gif",t[":sulktongue:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/sulktongue.gif",t[":thumbdown:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/thumbdown.gif",t[":shock3:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/shock3.gif",t[":thumbdown3:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/thumbdown3.gif",t[":helptitanic:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/helptitanic.gif",t[":yahoo:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/yahoo.gif",t[":ph34r:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/ph34r.gif",t[":mellow2:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/mellow.gif",t[":angry2:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/angry.gif",t[":D"]="http://www.gameblog.fr/forum/public/style_emoticons/default/biggrin.gif",t[":d"]="http://www.gameblog.fr/forum/public/style_emoticons/default/biggrin.gif",t[":ninja:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/ninja.gif",t[":zombie:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/zombie.gif",t[":lol:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/laugh.gif",t[":hal:"]="http://www.gameblog.fr/forum/public/style_emoticons/default/HAL9000.png";
var o=[],l=/[[\]{}()*+?.\\|^$\-,&#\s]/g;for(var a in t)t.hasOwnProperty(a)&&o.push("("+a.replace(l,"\\$&")+")");return e.replace(new RegExp(o.join("|"),"g"),function(e){return"undefined"!=typeof t[e]?'<img class="gbc_smiley" src="'+t[e]+'"/>':e})}function gbpuAlert(e){jq("#gbMsg")&&jq("#gbMsg").remove(),alert(e)}var jq,GM_JQ=document.createElement("script"),sPath=window.location.pathname,sPage=sPath.substring(sPath.lastIndexOf("/")+1);GM_JQ.src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js",GM_JQ.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(GM_JQ),GM_wait();