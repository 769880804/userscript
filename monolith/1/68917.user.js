// ==UserScript==
// @name           Group Mod Tools V.2
// @namespace      www.bungie.net
// @description    Adds features to group moderation.
// @include        http://*bungie.net/fanclub/*/Forums/posts.aspx?postID*
// ==/UserScript==

var testable=document.getElementById('ctl00_mainContent_admintoolbar_skin_showAdminBar').innerHTML;var grouphome=document.getElementById('ctl00_forumHeader_hypGroupHome').href;var groupadmin=grouphome.replace("Group/GroupHome","tools/default");if(testable.search("Moderator Tools")==-1){}else if(testable.search("delete")==-1){var forumbuttons,listys;forumbuttons=document.getElementById('ctl00_forumSidebarPanel');listys=forumbuttons.getElementsByTagName('ul').item(0);listys.innerHTML+='<li><a class="apxgmt" id="lockage" href="#" style="margin-top:30px;"><span>Lock Thread</span></a></li>'+'<li><a class="apxgmt" id="pinage" href="#"><span>Pin Thread</span></a></li>'+'<li><a class="apxgmt" id="revealage" href="#"><span>Reveal Thread</span></a></li>'+'<li><a class="apxgmt" id="admintoolz" href="#"><span>Admin Tools</span></a></li>';document.getElementById('lockage').href="javascript:__doPostBack('ctl00$mainContent$admintoolbar$skin$closeButton','')";document.getElementById('pinage').href="javascript:__doPostBack('ctl00$mainContent$admintoolbar$skin$pinButton','')";document.getElementById('revealage').href="javascript:__doPostBack('ctl00$mainContent$admintoolbar$skin$revealButton','')";document.getElementById('admintoolz').href=groupadmin;GM_addStyle("a.apxgmt{margin-top: 7px;margin-bottom: 7px;background-repeat:no-repeat;height:30px;width:202px;background-image: url(http://www.bungie.net/images/base_struct_images/linkBt/posts_button.gif);background-position: 0 -30px;display:block;}");GM_addStyle("a.apxgmt:hover{margin-top: 7px;margin-bottom: 7px;background-repeat:no-repeat;height:30px;width:202px;background-image: url(http://www.bungie.net/images/base_struct_images/linkBt/posts_button.gif);background-position: 0 0px;display:block;}")}else{var forumbuttons,listys;forumbuttons=document.getElementById('ctl00_forumSidebarPanel');listys=forumbuttons.getElementsByTagName('ul').item(0);listys.innerHTML+='<li><a class="apxgmt" id="lockage" href="#" style="margin-top:30px;"><span>Lock Thread</span></a></li>'+'<li><a class="apxgmt" id="pinage" href="#"><span>Pin Thread</span></a></li>'+'<li><a class="apxgmt" id="deleteage" href="#"><span>Delete Thread</span></a></li>'+'<li><a class="apxgmt" id="revealage" href="#"><span>Reveal Thread</span></a></li>'+'<li><a class="apxgmt" id="admintoolz" href="#"><span>Admin Tools</span></a></li>'+'<li style="position: fixed;"><a class="apxgmt" id="scrolly" href="#"><span>Jump back to Admin Tools</span></a></li>';document.getElementById('lockage').href="javascript:__doPostBack('ctl00$mainContent$admintoolbar$skin$closeButton','')";document.getElementById('pinage').href="javascript:__doPostBack('ctl00$mainContent$admintoolbar$skin$pinButton','')";document.getElementById('deleteage').href="javascript:__doPostBack('ctl00$mainContent$admintoolbar$skin$deleteTopicButton','')";document.getElementById('revealage').href="javascript:__doPostBack('ctl00$mainContent$admintoolbar$skin$revealButton','')";document.getElementById('admintoolz').href=groupadmin;GM_addStyle("a.apxgmt{margin-top: 7px;margin-bottom: 7px;background-repeat:no-repeat;height:30px;width:202px;background-image: url(http://www.bungie.net/images/base_struct_images/linkBt/posts_button.gif);background-position: 0 -30px;display:block;}");GM_addStyle("a.apxgmt:hover{margin-top: 7px;margin-bottom: 7px;background-repeat:no-repeat;height:30px;width:202px;background-image: url(http://www.bungie.net/images/base_struct_images/linkBt/posts_button.gif);background-position: 0 0px;display:block;}")}var APXUPDATE = document.getElementById('ctl00_footer_fMenuControl_rptMenu_ctl02_rptSubMenu_ctl12_hypMenu');APXUPDATE .innerHTML = "Update APX Scripts";APXUPDATE .href = "http://www.apx.comlu.com"; 
// :) I did it A-poo-called-pex