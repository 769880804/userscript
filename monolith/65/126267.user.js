// ==UserScript==
// @name			Miscrits FB Chat
// @author			Mie
// @description		Big Miscrits avatar for Chat on Facebook
// @version         0.6
// @versionnumber	0.6
// @include         http://*.facebook.com/*
// @include         https://*.facebook.com/*
// @match           http://*.facebook.com/*
// @match           https://*.facebook.com/*
// ==/UserScript==

(function(d){

    const DEBUG = true;

    const script_id = 125562,
          script_version = '0.6';

    /* replaced elements class name */
    const gm_class = ' gm_smileys_replaced';

    /* smileys */
    var smiley = {
        ':-)'   : '1px',       ':)'     : '1px',
        ':-('   : '-16px',     ':('     : '-16px',
        ':-P'   : '-31px',     ':P'     : '-31px',
                               ':-p'    : '-31px',
                               ':p '    : '-31px',
        ':-D'   : '-47px',     ':D'     : '-47px',
        ':-O'   : '-64px',     ':O '    : '-64px',
                               ':-o'    : '-64px',
                               ':o '    : '-64px',
        ';-)'   : '-79px',     ';)'     : '-79px',
        '8-)'   : '-96px',     ' 8)'    : '-96px',
        '8-\|'  : '-111px',    '8\|'    : '-111px',
        '>:-('  : '-128px',    '>:('    : '-128px',
        ':-/'   : '-143px',    ':/'     : '-143px',
        ':\'('  : '-160px',    ':Â´('    : '-160px',
                               ':,('    : '-160px',
        '3:-)'  : '-176px',    '3:)'    : '-176px',
                               ']:->'   : '-176px',
        'O:-)'  : '-192px',    'O:)'    : '-192px',
                               ' o:-)'  : '-192px',
                               ' o:)'   : '-192px',
        ':-*'   : '-208px',    ':*'     : '-208px',
        '<3'    : '-224px',    '♥'      : '-224px',
                               '*IN LOVE*' : '-224px',
        '^_^'   : '-240px',    '^^'     : '-240px',
        '-_-'   : '-256px',
        'o.O'   : '-272px',    'O.o'    : '-272px',
                               'o.o'    : '-272px',
        '>:-O'  : '-288px',    '>:o'  : '-288px',
        ':v'    : '-304px',
        ' :3'   : '-320px',
        '(Y)'   : '-336px',    '(y)'    : '-336px',

        ':putnam:' : 'putnam',
        '<(")'     : 'penguin', '<(\'\')' : 'penguin',
        '(^^^)'    : 'shark',
        ':|]'      : 'robot',
        ':42:'     : '42',
    };


    /* detect https */
    var smileys_url = 'http://static.ak.fbcdn.net/images';

    if (location.protocol == 'https:') {
        smileys_url = 'https://s-static.ak.fbcdn.net/images';
    }


    /* RexExp all smileys */
    var smileys_all = new Array();

    for (smile in smiley) {
        smileys_all.push(
            smile.replace(/[\)\(\^\*\.\:\|]/g, '\\$&').replace(/\u0000/g,
            '\\0')
        );
    }

    const smileys_regex = new RegExp(smileys_all.join("|"), 'g');

    delete smileys_all;



    /* Log function */
    function log(text)
    {
        if (DEBUG === true && typeof GM_log === 'function' && text != null) {
            GM_log(text);
        }
        return false;
    }


    /* Find elements */
    function g(id, parent)
    {
        if(id && typeof id === 'string') {
            var p = parent||d;
            id = p.querySelectorAll(id);
        }
        return id||null;
    }


    /* Replace smileys */
    function replace(elements)
    {
        var count =  elements.length;

        if (count <= 0
            || count == d.getElementsByClassName('gm_smileys_replaced').length
        ) {
            return false;
        }

        var el, class_name, data, matches, childs, child, childValue, smile,
            smile_orig, alt, html, replace_img;

        for(i = 0; i < count; i++) {
            el = elements[i];

            class_name = el.className;

            /* is replaced? */
            if (!el
                || class_name.indexOf(gm_class) >= 0
                || class_name.indexOf('uiStreamPassive') >= 0
                || class_name.indexOf('GenericStory_Report') >= 0
            ) {
                continue;
            }

            /* add class */
            el.className += gm_class;

            data = el.innerHTML;
            /* replace tags */
            data = data.replace('&gt;', '>', 'g').replace('&lt;', '<', 'g');

            /* check smileys */
            matches = data.match(smileys_regex);

            data = null;

            if (!matches) continue;

            childs = el.childNodes;

            for(var k = 0; k < childs.length; k++) {

                child = childs[k];

                /* only text nodes */
                if (child.nodeName != '#text') continue;

                /* get value */
                data = child.nodeValue;

                var replacements = new Array();

                /* create node */
                html = d.createElement('span');

                for(j = 0; j < matches.length; j++) {
                    smile = matches[j];

                    if (data.indexOf(smile) >= 0) {

                        smile_orig = smile;

                        alt = smile_orig;
                        alt = alt.replace('"', '&quot;');
                        alt = alt.replace('♥', '&lt;3');

                        if (smiley[smile_orig].substr(-2) == 'px') {

                            replace_img = '<img'
                                        + ' class="emote_img gm_smiley smiley"'
                                        + ' src="'+ smileys_url + '/blank.gif"'
                                        + ' style="background-position: ' + smiley[smile_orig] + ' 0;"'
                                        + ' title="' + alt + '"'
                                        + ' alt="' + alt + '"'
                                        + '> ';

                            /* special smileys */
                            if (smile == ':-D'
                                || smile == ':D'
                                || smile == 'xD'
                            ) {
                                smile = new RegExp('[:|x]-?D+', 'gi');
                            } else if (smile == ':-)' || smile == ':)') {
                                smile = new RegExp(':-?[\)]+', '');
                            } else if (smile == ';-)' || smile == ';)') {
                                smile = new RegExp(';-?[\)]+', 'g');
                            } else if (smile == ':-(' || smile == ':(') {
                                smile = new RegExp(':-?[\(]+', '');
                            } else if (smile == ':/') {
                                smile = new RegExp(':-?[\/]+[ \z]?', 'g');
                            } else if (new RegExp('^:-?O').test(smile)) {
                                smile = new RegExp('[ \s]?:-?O[\s\z]?', 'gi');
                            }

                            data = data.replace(smile, '%' + j + '%', 'gi');
                            replacements[j] = replace_img;

                        } else {
                            /* extra smileys */
                            data = data.replace(smile_orig, '%' + j + '%', 'gi');
                            replacements[j] = '<img'
                                            + ' class="gm_smiley"'
                                            + ' src="' + smileys_url + '/emote/'
                                                       + smiley[smile_orig] + '.gif"'
                                            + ' title="' + alt + '"'
                                            + ' alt="' + alt + '"'
                                            + '> ';
                        }
                    }
                }

                /* replace tags back */
                data = data.replace('>', '&gt;', 'g').replace('<', '&lt;', 'g');

                /* replace smileys */
                for(r = 0; r < replacements.length; r++) {
                    data = data.replace(
                        new RegExp('%' + r + '%', 'g'),
                        replacements[r]
                    );
                }
                replacements = null;

                html.innerHTML = data;
                el.replaceChild(html, child);

                /* Data reset */
                data = null;
            }
        }

        delete elements, count, el, class_name, matches, childs, child,
               childValue, smile, data, alt, html, replace_img, replacements;

        return false;
    }


    function lookForSmileys(parentNode)
    {
        /* get location (after #) */
        var loc = location.hash;

        if (loc.length == 0 || !new RegExp('#!/|sk=|ref=|php').test(loc)) {
            /* get pathname (after /) */
            loc = location.pathname.replace(new RegExp('^[/]+', ''), '');

            /* if not pathname get search (after ?) */
            if (loc.length == 0) {
                loc = location.search;
            }
        }

        if (location.hostname !== 'www.facebook.com' || loc == 'ai.php') {
            return;
        }

        parentNode = parentNode||d;

//         log(loc);

        /* photo */
        if (new RegExp('photo.php').test(loc)) {
            replace(g(
                '#photocaption, div.commentContent>span',
                parentNode
            ));
        } else
        /* notes */
        if (new RegExp('note.php').test(loc)) {
            replace(g(
                'div.notesBlogText p, div.commentContent>span',
                d.getElementById('contentCol')
            ));
        } else {
            /* statuses */
            replace(g(
                'div.translationEligibleUserMessage, span.messageBody, .UIStory_Message, div.commentContent>span',
                parentNode
            ));
        }

        delete loc, parentNode;


        /* create promo box */
        if (!d.getElementById('pagelet_replacesmileysbox')) {

            if (!d.getElementById('home_stream')) return false;

            if (col = d.getElementById('rightCol')) {

                var html;

                html = '<div class="UIImageBlock mbs phs clearfix">'
                     +   '<img alt=""'
                     +       ' style="background-position: -112px 0px;"'
                     +       ' src="' + smileys_url + '/blank.gif"'
                     +       ' class="emote_img UIImageBlock_Image smiley"'
                     +   '>'

                     +   '<div class="UIImageBlock_Content UIImageBlock_ICON_Content">'

                     +     '<div class="fcb">'
                     +       '<b>Facebook smileys</b> '
                     +       '<small>v' + script_version + '</small>'
                     +     '</div>'

                     +     '<div class="fsm fwn fcg">'
                     +       '<a href="#" id="open-list">Smiley list</a>'
                     +       ' &middot; '
                     +       '<a href="/admir.zuzic">'
                     +         'Author'
                     +       '</a>'
                     +     '</div>'

                     +   '</div>'

                     + '</div>';

                var box = document.createElement('div');
                box.setAttribute('id', 'pagelet_replacesmileysbox');
                box.innerHTML = html;
                col.appendChild(box);

                d.getElementById('open-list').addEventListener(
                    'click',
                    openWindow,
                    false
                );

                delete col, html, box;
            }
        }

        return false;
    }


    function openWindow(e)
    {
        e.preventDefault();
    	return window.open(
            'http://imgim.com/793inciw8628775.jpg',
            null,
            'width=450,height=750,left=25,scrollbars=yes',
            true
        );
    }


    function addStyle(css)
    {
    	if (typeof GM_addStyle !== 'undefined') { return GM_addStyle(css); }
    	else if (head = d.getElementsByTagName('head')[0]) {
    		var style = d.createElement('style');
    		try { style.innerHTML = css; }
    		catch(x) { style.innerText = css; }
    		style.type = 'text/css';
    		head.appendChild(style);
    	}

        delete head, style, css;

        return false;
    }


    function cssStyles()
    {
        /* box */
        addStyle(
         ''
        +' .gm_smiley{margin:0 1px;position:relative;top:-1px;vertical-align:top;}'
        +' .gm_smiley.smiley{background:url('+ smileys_url +'/emote/emote.gif) no-repeat scroll top center;}'
        +' #pagelet_replacesmileysbox{line-height:1.3;margin:15px 0;}'
        +' #pagelet_replacesmileysbox img.UIImageBlock_Image{margin-top:2px;}'
        );

        return false;
    }


    /* Start script */
    var t;
    var content = d.getElementById('content');

    cssStyles();
    lookForSmileys(content);

    function afterDomNodeInserted(e)
    {
        var target = e.target;

        if ((target.nodeName == 'LI')
            || (target.nodeName == 'UL')
            || (target.nodeName == 'DIV')
        ) {
            lookForSmileys(target);
        }

        delete e,target;

        return false;
    }


    function photoBoxUpdated(e)
    {
        target = e.relatedNode;

        if (target.id == 'fbPhotoSnowboxFeedback') {
            replace(g(
                '#fbPhotoSnowboxCaption, span.commentBody',
                d.getElementById('fbPhotoSnowbox')
            ));
        }

    }


    if (content) {
        window.setTimeout(function () {
            d.addEventListener(
                'DOMNodeInserted',
                afterDomNodeInserted,
                false
            );

            if (PhotoBox = d.getElementById('fbPhotoSnowbox')) {
                PhotoBox.addEventListener(
                    'DOMNodeInserted',
                    photoBoxUpdated,
                    false
                );
            }

        }, 2000);
    }

    /* AutoUpdater */
    if (typeof autoUpdate === 'function') {
        autoUpdate (script_id, script_version);
    }

})(document);


// List of emoticons
// :) :( :D >:( -_- :/ o.O :p :'( >:O :v 3:) :o :3 ;) :* :|] 8) <3 :putnam: 8| ^_^ (^^^) O:) <(") :42:

	var version, HttpsOn, ImagesURL, ResourcesURL, storage, emotsInfo, spemotsInfo, headTag, styleTag, ArrowStyleUp, ArrowStyleDown, fEmotBarDom, fEmotsListDom, fArrow;

	version = 0.5

	HttpsOn = window.location.href.match('https://')?true:false;
	ImagesURL = HttpsOn?'http://s-static.ak.fbcdn.net/images/':'http://static.ak.fbcdn.net/images/';
    ProfileImgURL = HttpsOn?'http://profile.ak.fbcdn.net/hprofile-ak-snc4/':'http://profile.ak.fbcdn.net/hprofile-ak-snc4/';
	ResourcesURL = HttpsOn?'http://s-static.ak.fbcdn.net/rsrc.php/':'http://static.ak.fbcdn.net/rsrc.php/';


/* START:  */

	storage = 'none';

	try {
		if (typeof GM_getValue === 'function' && typeof GM_setValue === 'function') {
			GM_setValue('testkey', 'testvalue');
			if (GM_getValue('testkey', false) === 'testvalue') { storage='greasemonkey'; }
		}
	} catch(x) {}
	if (storage=='none' && typeof localStorage == 'object') { storage='localstorage'; }

	function setValue(key, value) {
		switch (storage) {
			case 'greasemonkey':
				GM_setValue('0-'+key, value);
				break;
			case 'localstorage':
				localStorage['femotbar-0-'+key] = value;
				break;
		}
	}

	function getValue(key, value) {
		switch (storage) {
			case 'greasemonkey':
				return GM_getValue('0-'+key, value);
			case 'localstorage':
				var val = localStorage['femotbar-0-'+key];
				if (val=='true') { return true; }
				else if (val=='false') { return false; }
				else if (val) { return val; }
				break;
		}
		return value;
	}
	
	function xmlhttpRequest(params, callBack) {
		if (typeof GM_xmlhttpRequest !== 'undefined') {
			params['onload'] = callBack;
			return GM_xmlhttpRequest(params);
		}
		return null;
	}

	function openInTab(url) {
		if (typeof GM_openInTab !== 'undefined') { GM_openInTab(url); }
		else { window.open(url); }
	}

	function UpdateCheck() {
		if(parseInt(getValue('LastUpdate', '0')) + 500 <= (new Date().getTime())) {
			try {
				xmlhttpRequest( { method: 'GET',
								  url: 'http://userscripts.org/scripts/source/124609.meta.js?' + new Date().getTime(),
								  headers: {'Cache-Control': 'no-cache'} },
								  handleUpdateResponse);
			}
			catch (err) {
				alert('An error occurred while checking for updates:\n' + err);
			}
		}
	}
	
	function handleUpdateResponse(r) {
		setValue('LastUpdate', new Date().getTime() + '');
		if (r.responseText.match(/@versionnumber\s+(\d+\.\d+)/)[1] > version) {
			if(confirm("There is new update available for Facebook Emoji.\n Do you want to install it ?")) openInTab('http://userscripts.org/scripts/source/124609.user.js');
		}
	}
	
/* END */

	function createSelection(field, start, end) {
		if( field.createTextRange ) {
			var selRange = field.createTextRange();
			selRange.collapse(true);
			selRange.moveStart('character', start);
			selRange.moveEnd('character', end);
			selRange.select();
		} else if( field.setSelectionRange ) {
			field.setSelectionRange(start, end);
		} else if( field.selectionStart ) {
			field.selectionStart = start;
			field.selectionEnd = end;
		}
		field.focus();
	}       
	
	function getCursorPosition(field) {
		var CursorPos = 0;
		if (field.selectionStart || field.selectionStart == '0') CursorPos = field.selectionStart;
		return (CursorPos);
	}
	
	UpdateCheck();
	
	emotsInfo = [];
	spemotsInfo = [];
	profilesInfo = [

	//A.01 Flowerpiller.jpg
	'[[157909054326886]][[157909057660219]][[157909050993553]][[157909060993552]][[157909047660220]][[157909154326876]][[157909160993542]]\n'+
	'[[157909157660209]][[157909164326875]][[157909167660208]][[157909244326867]][[157909237660201]][[157909240993534]][[157909230993535]]\n'+
	'[[157909234326868]][[157909320993526]][[157909327660192]][[157909314326860]][[157909324326859]][[157909317660193]][[157909454326846]]\n'+
	'[[157909450993513]][[157909447660180]][[157909460993512]][[157909457660179]][[157909554326836]][[157909560993502]][[157909567660168]]\n'+
	'[[157909557660169]][[157909564326835]][[157909644326827]][[157909654326826]][[157909650993493]][[157909647660160]][[157909657660159]]',
	'421217_370966306266182_100000584485328_1340597_2074380833_n.jpg', //A.01 Flowerpiller.jpg
	
	//A.02 Weevern.jpg
	'[[246215645460369]][[246215642127036]][[246215648793702]][[246215705460363]]\n'+
	'[[246215708793696]][[246215742127026]][[246215745460359]][[246215752127025]]\n'+
	'[[246215805460353]][[246215808793686]][[246215892127011]][[246215898793677]]\n'+
	'[[246215908793676]][[246215985460335]][[246215988793668]][[246216015460332]]\n'+
	'[[246216018793665]][[246216025460331]][[246216048793662]][[246216055460328]]\n'+
	'[[246216108793656]][[246216118793655]][[246216115460322]][[246216112126989]]',
	'423820_370966336266179_100000584485328_1340598_1260753561_n.jpg', //A.02 Weevern.jpg
	
	//A.03 Cubsprout.jpg
	'[[212438295520211]][[212438292186878]][[212438288853545]][[212438298853544]][[212438302186877]][[212438385520202]]\n'+
	'[[212438392186868]][[212438388853535]][[212438395520201]][[212438398853534]][[212438455520195]][[212438462186861]]\n'+
	'[[212438448853529]][[212438452186862]][[212438458853528]][[212438532186854]][[212438528853521]][[212438535520187]]\n'+
	'[[212438538853520]][[212438542186853]][[212438675520173]][[212438678853506]][[212438672186840]][[212438682186839]]\n'+
	'[[212438692186838]][[212438752186832]][[212438755520165]][[212438745520166]][[212438765520164]][[212438748853499]]',
	'417102_370966356266177_100000584485328_1340599_1439016239_n.jpg', //A.03 Cubsprout.jpg
	
	//A.04 Quirk.jpg
	'[[349496611747620]][[349496618414286]][[349496615080953]][[349496605080954]][[349496608414287]][[349496718414276]]\n'+
	'[[349496708414277]][[349496711747610]][[349496715080943]][[349496721747609]][[349496771747604]][[349496775080937]]\n'+
	'[[349496778414270]][[349496781747603]][[349496785080936]][[349496835080931]][[349496828414265]][[349496831747598]]\n'+
	'[[349496838414264]][[349496848414263]][[349496985080916]][[349496978414250]][[349496991747582]][[349496988414249]]\n'+
	'[[349496981747583]][[349497045080910]][[349497051747576]][[349497048414243]][[349497055080909]][[349497061747575]]\n'+
	'[[349497115080903]][[349497108414237]][[349497111747570]][[349497131747568]][[349497128414235]][[349497185080896]]',
	'422667_370966386266174_100000584485328_1340600_178997108_n.jpg', //A.04 Quirk.jpg
	
	//A.05 Snatcher.jpg
	'[[349505141746767]][[349505135080101]][[349505128413435]][[349505138413434]][[349505131746768]][[349505235080091]]\n'+
	'[[349505231746758]][[349505241746757]][[349505245080090]][[349505248413423]][[349505315080083]][[349505318413416]]\n'+
	'[[349505325080082]][[349505331746748]][[349505328413415]][[349505405080074]][[349505391746742]][[349505398413408]]\n'+
	'[[349505411746740]][[349505415080073]][[349505505080064]][[349505511746730]][[349505508413397]][[349505501746731]]\n'+
	'[[349505565080058]][[349505581746723]][[349505585080056]][[349505588413389]][[349505605080054]][[349505631746718]]',
	'418199_370966422932837_100000584485328_1340601_1705881094_n.jpg', //A.05 Snatcher.jpg
	
	//A.06 Elefauna.jpg
	'[[257657797643418]][[257657807643417]][[257657800976751]][[257657804310084]]\n'+
	'[[257657794310085]][[257657900976741]][[257657907643407]][[257657904310074]]\n'+
	'[[257657914310073]][[257657910976740]][[257657987643399]][[257657980976733]]\n'+
	'[[257657974310067]][[257657984310066]][[257657977643400]][[257658047643393]]\n'+
	'[[257658054310059]][[257658057643392]][[257658050976726]][[257658044310060]]\n'+
	'[[257658137643384]][[257658134310051]][[257658124310052]][[257658130976718]]',
	'425315_370966436266169_100000584485328_1340602_244315641_n.jpg', //A.06 Elefauna.jpg
	
	//A.07 Twiggum.jpg
	'[[257662030976328]][[257662034309661]][[257662040976327]][[257662037642994]][[257662027642995]][[257662174309647]][[257662170976314]]\n'+
	'[[257662167642981]][[257662164309648]][[257662160976315]][[257662250976306]][[257662247642973]][[257662254309639]][[257662257642972]]\n'+
	'[[257662264309638]][[257662327642965]][[257662320976299]][[257662314309633]][[257662317642966]][[257662324309632]][[257662417642956]]\n'+
	'[[257662424309622]][[257662420976289]][[257662430976288]][[257662427642955]][[257662490976282]][[257662497642948]][[257662484309616]]\n'+
	'[[257662487642949]][[257662494309615]][[257662594309605]][[257662587642939]][[257662584309606]][[257662597642938]][[257662590976272]]',
	'417613_370966476266165_100000584485328_1340603_536508113_n.jpg', //A.07 Twiggum.jpg
	
	//A.08 Treemur.jpg
	'[[230288383730536]][[230288377063870]][[230288373730537]]\n'+
	'[[230288380397203]][[230288387063869]][[230288497063858]]\n'+
	'[[230288493730525]][[230288500397191]][[230288490397192]]\n'+
	'[[230288503730524]][[230288573730517]][[230288580397183]]\n'+
	'[[230288577063850]][[230288587063849]][[230288590397182]]\n'+
	'[[230288650397176]][[230288643730510]][[230288647063843]]\n'+
	'[[230288657063842]][[230288653730509]][[230288740397167]]',
	'395626_370966512932828_100000584485328_1340604_1812973559_n.jpg', //A.08 Treemur.jpg
	
	//A.09 Tulipinny.jpg
	'[[157927174325074]][[157927177658407]][[157927170991741]][[157927167658408]]\n'+
	'[[157927180991740]][[157927304325061]][[157927300991728]][[157927297658395]]\n'+
	'[[157927307658394]][[157927310991727]][[157927390991719]][[157927384325053]]\n'+
	'[[157927380991720]][[157927387658386]][[157927394325052]][[157927464325045]]\n'+
	'[[157927474325044]][[157927470991711]][[157927467658378]][[157927477658377]]\n'+
	'[[157927584325033]][[157927580991700]][[157927594325032]][[157927587658366]]',
	'425302_370966656266147_100000584485328_1340605_1865567743_n.jpg', //A.09 Tulipinny.jpg
	
	//A.10 Dark Flowerpiller.jpg
	'[[231435136950583]][[231435140283916]][[231435146950582]][[231435150283915]][[231435143617249]][[231435266950570]][[231435263617237]]\n'+
	'[[231435280283902]][[231435273617236]][[231435270283903]][[231435350283895]][[231435340283896]][[231435343617229]][[231435346950562]]\n'+
	'[[231435353617228]][[231435410283889]][[231435416950555]][[231435406950556]][[231435413617222]][[231435423617221]][[231435513617212]]\n'+
	'[[231435510283879]][[231435506950546]][[231435503617213]][[231435516950545]][[231435566950540]][[231435563617207]][[231435570283873]]\n'+
	'[[231435580283872]][[231435583617205]][[231435633617200]][[231435626950534]][[231435630283867]][[231435636950533]][[231435640283866]]',
	'418342_370966679599478_100000584485328_1340606_1365186670_n.jpg', //A.10 Dark Flowerpiller.jpg
	
	//A.11 Grubbean.jpg
	'[[157922507658874]][[157922514325540]][[157922510992207]][[157922520992206]][[157922517658873]]\n'+
	'[[157922624325529]][[157922627658862]][[157922620992196]][[157922617658863]][[157922630992195]]\n'+
	'[[157922734325518]][[157922737658851]][[157922727658852]][[157922724325519]][[157922730992185]]\n'+
	'[[157922810992177]][[157922807658844]][[157922817658843]][[157922804325511]][[157922814325510]]\n'+
	'[[157922940992164]][[157922947658830]][[157922954325496]][[157922944325497]][[157922950992163]]\n'+
	'[[157923034325488]][[157923037658821]][[364404076917033]][[364404070250367]][[364404080250366]]',
	'407308_370966702932809_100000584485328_1340607_1332785275_n.jpg', //A.11 Grubbean.jpg
	
	//A.12 Echino.jpg
	'[[364398353584272]][[364398343584273]][[364398360250938]][[364398356917605]][[364398350250939]][[364398443584263]]\n'+
	'[[364398446917596]][[364398460250928]][[364398450250929]][[364398456917595]][[364398506917590]][[364398503584257]]\n'+
	'[[364398510250923]][[364398513584256]][[364398516917589]][[364398563584251]][[364398580250916]][[364398566917584]]\n'+
	'[[364398576917583]][[364398573584250]][[364398656917575]][[364398663584241]][[364398660250908]][[364398700250904]]\n'+
	'[[364398703584237]][[364398733584234]][[364398746917566]][[364398743584233]][[364398773584230]][[364398770250897]]',
	'398605_370966716266141_100000584485328_1340608_322127356_n.jpg', //A.12 Echino.jpg
	
	//A.13 Kelpa.jpg
	'[[386869421339337]][[386869411339338]][[386869424672670]][[386869414672671]][[386869418006004]][[386869518005994]]\n'+
	'[[386869514672661]][[386869511339328]][[386869508005995]][[386869521339327]][[386869588005987]][[386869598005986]]\n'+
	'[[386869584672654]][[386869591339320]][[386869594672653]][[386869674672645]][[386869681339311]][[386869684672644]]\n'+
	'[[386869678005978]][[386869688005977]][[386869828005963]][[386869831339296]][[386869821339297]][[386869834672629]]\n'+
	'[[386869824672630]][[386869904672622]][[386869901339289]][[386869911339288]][[386869908005955]][[386869914672621]]',
	'419205_370966749599471_100000584485328_1340609_1258025389_n.jpg', //A.13 Kelpa.jpg
	
	//A.14 Patchkin.jpg
	'[[230301737062534]][[230301733729201]][[230301727062535]][[230301730395868]][[230301740395867]][[230301843729190]]\n'+
	'[[230301847062523]][[230301840395857]][[230301837062524]][[230301850395856]][[230301910395850]][[230301913729183]]\n'+
	'[[230301917062516]][[230301920395849]][[230301923729182]][[230301977062510]][[230301987062509]][[230301983729176]]\n'+
	'[[230301980395843]][[230301993729175]][[230302067062501]][[230302077062500]][[230302070395834]][[230302063729168]]\n'+
	'[[230302060395835]][[230302137062494]][[230302143729160]][[230302133729161]][[230302140395827]][[230302147062493]]',
	'403162_370966776266135_100000584485328_1340610_155929815_n.jpg', //A.14 Patchkin.jpg
	
	//A.15 Dark Cubsprout.jpg
	'[[360410153982681]][[360410160649347]][[360410157316014]][[360410150649348]][[360410147316015]][[360410253982671]]\n'+
	'[[360410243982672]][[360410250649338]][[360410247316005]][[360410240649339]][[360410327315997]][[360410317315998]]\n'+
	'[[360410320649331]][[360410323982664]][[360410313982665]][[360410383982658]][[360410393982657]][[360410390649324]]\n'+
	'[[360410387315991]][[360410397315990]][[360410470649316]][[360410463982650]][[360410467315983]][[360410477315982]]\n'+
	'[[360410473982649]][[360410547315975]][[360410537315976]][[360410540649309]][[360410543982642]][[360410550649308]]',
	'394144_370966799599466_100000584485328_1340611_934791853_n.jpg', //A.15 Dark Cubsprout.jpg
	
	//A.16 Viperd.jpg
	'[[230295903729784]][[230295913729783]][[230295900396451]][[230295907063117]][[230295910396450]][[230296010396440]][[230296017063106]]\n'+
	'[[230296013729773]][[230296023729772]][[230296030396438]][[230296083729766]][[230296100396431]][[230296097063098]][[230296087063099]]\n'+
	'[[230296090396432]][[230296153729759]][[230296157063092]][[230296160396425]][[230296163729758]][[230296167063091]][[230296287063079]]\n'+
	'[[230296290396412]][[230296297063078]][[230296293729745]][[230296300396411]][[230296370396404]][[230296377063070]][[230296383729736]]\n'+
	'[[230296373729737]][[230296387063069]][[230296450396396]][[230296457063062]][[230296453729729]][[230296447063063]][[230296460396395]]',
	'429090_370966819599464_100000584485328_1340612_1856499122_n.jpg', //A.16 Viperd.jpg
	
	//A.17 Hoghedge.jpg
	'[[301042643282286]][[301042646615619]][[301042649948952]][[301042639948953]][[301042719948945]]\n'+
	'[[301042733282277]][[301042736615610]][[301042739948943]][[301042769948940]][[301042773282273]]\n'+
	'[[301042796615604]][[301042793282271]][[301042803282270]][[301042799948937]][[301042839948933]]\n'+
	'[[301042856615598]][[301042859948931]][[301042853282265]][[301042869948930]][[301042909948926]]\n'+
	'[[301042959948921]][[301042963282254]][[301042953282255]][[301042956615588]][[301042966615587]]\n'+
	'[[301043023282248]][[301043033282247]][[301043029948914]][[301043036615580]][[301043026615581]]',
	'420356_370966852932794_2037221222_n.jpg', //A.17 Hoghedge.jpg
	
	//A.18 Shroomer.jpg
	'[[212468188850555]][[212468192183888]][[212468198850554]][[212468202183887]][[212468195517221]]\n'+
	'[[212468352183872]][[212468355517205]][[212468345517206]][[212468348850539]][[212468342183873]]\n'+
	'[[212468465517194]][[212468475517193]][[212468472183860]][[212468468850527]][[212468478850526]]\n'+
	'[[212468575517183]][[212468578850516]][[212468585517182]][[212468582183849]][[212468588850515]]\n'+
	'[[212468728850501]][[212468722183835]][[212468725517168]][[212468732183834]][[212468735517167]]',
	'427099_370966899599456_100000584485328_1340614_204276793_n.jpg', //A.18 Shroomer.jpg
	
	//A.19 Humbug.jpg
	'[[157934694324322]][[157934690990989]][[157934697657655]][[157934700990988]]\n'+
	'[[157934704324321]][[157934784324313]][[157934787657646]][[157934790990979]]\n'+
	'[[157934794324312]][[157934800990978]][[157934857657639]][[157934850990973]]\n'+
	'[[157934854324306]][[157934860990972]][[157934864324305]][[157934927657632]]\n'+
	'[[157934930990965]][[157934937657631]][[157934934324298]][[157934940990964]]\n'+
	'[[157935040990954]][[157935034324288]][[157935030990955]][[157935037657621]]',
	'427993_370966936266119_100000584485328_1340615_1030842693_n.jpg', //A.19 Humbug.jpg
	
	//A.20 Budillo.jpg
	'[[246239802124620]][[246239818791285]][[246239808791286]][[246239825457951]]\n'+
	'[[246239822124618]][[246239955457938]][[246239965457937]][[246239968791270]]\n'+
	'[[246239958791271]][[246239962124604]][[246240088791258]][[246240082124592]]\n'+
	'[[246240085457925]][[246240078791259]][[246240092124591]][[246240192124581]]\n'+
	'[[246240202124580]][[246240212124579]][[246240208791246]][[246240195457914]]\n'+
	'[[246240438791223]][[246240442124556]][[246240445457889]][[246240452124555]]\n'+
	'[[246240455457888]][[246240712124529]][[246240715457862]][[246240718791195]]',
	'405731_370966962932783_100000584485328_1340616_696535316_n.jpg', //A.20 Budillo.jpg
	
	//A.21 Bloomple.jpg
	'[[362180497139860]][[362180483806528]][[362180490473194]][[362180493806527]][[362180487139861]]\n'+
	'[[362180597139850]][[362180600473183]][[362180587139851]][[362180593806517]][[362180590473184]]\n'+
	'[[362180647139845]][[362180660473177]][[362180653806511]][[362180657139844]][[362180650473178]]\n'+
	'[[362180727139837]][[362180733806503]][[362180720473171]][[362180730473170]][[362180723806504]]\n'+
	'[[362180823806494]][[362180827139827]][[362180830473160]][[362180820473161]][[362180817139828]]\n'+
	'[[362180907139819]][[362180897139820]][[362180900473153]][[362180893806487]][[362180903806486]]',
	'419983_370966986266114_100000584485328_1340617_1593991249_n.jpg', //A.21 Bloomple.jpg
	
	//A.22 Bloombat.jpg
	'[[386863728006573]][[386863721339907]][[386863731339906]][[386863734673239]][[386863724673240]][[386863824673230]][[386863821339897]][[386863831339896]]\n'+
	'[[386863828006563]][[386863834673229]][[386863881339891]][[386863891339890]][[386863884673224]][[386863888006557]][[386863894673223]][[386863964673216]]\n'+
	'[[386863958006550]][[386863954673217]][[386863961339883]][[386863968006549]][[386864064673206]][[386864061339873]][[386864071339872]][[386864068006539]]\n'+
	'[[386864058006540]][[386864141339865]][[386864131339866]][[386864134673199]][[386864144673198]][[386864138006532]][[386864201339859]][[386864198006526]]\n'+
	'[[386864211339858]][[386864208006525]][[386864204673192]][[386864281339851]][[386864278006518]][[386864284673184]][[386864274673185]][[386864288006517]]',
	'409037_370966999599446_100000584485328_1340618_368468015_n.jpg', //A.22 Bloombat.jpg
	
	//A.23 Pamboo.jpg
	'[[364420440248730]][[364420443582063]][[364420433582064]][[364420436915397]][[364420446915396]][[364420536915387]][[364420533582054]]\n'+
	'[[364420546915386]][[364420540248720]][[364420543582053]][[364420623582045]][[364420620248712]][[364420626915378]][[364420613582046]]\n'+
	'[[364420616915379]][[364420676915373]][[364420673582040]][[364420680248706]][[364420683582039]][[364420686915372]][[364420783582029]]\n'+
	'[[211401052291342]][[211401062291341]][[211401055624675]][[211401058958008]][[211401118958002]][[211401128958001]][[211401122291335]]\n'+
	'[[211401132291334]][[211401135624667]][[211401212291326]][[211401208957993]][[211401215624659]][[211401218957992]][[211401205624660]]',
	'395429_370967029599443_100000584485328_1340619_2103534881_n.jpg', //A.23 Pamboo.jpg
	
	//A.24 Dark Viperd.jpg
	'[[211410335623747]][[211410345623746]][[211410338957080]][[211410342290413]][[211410348957079]][[211410452290402]][[211410442290403]][[211410448957069]]\n'+
	'[[211410458957068]][[211410455623735]][[211410512290396]][[211410508957063]][[211410505623730]][[211410515623729]][[211410525623728]][[211410592290388]]\n'+
	'[[211410585623722]][[211410595623721]][[211410588957055]][[211410578957056]][[211410665623714]][[211410658957048]][[211410672290380]][[211410662290381]]\n'+
	'[[211410668957047]][[211410735623707]][[211410732290374]][[211410728957041]][[211410738957040]][[211410742290373]][[211410868957027]][[211410865623694]]\n'+
	'[[211410862290361]][[211410872290360]][[211410858957028]][[211410952290352]][[211410955623685]][[211410958957018]][[211410962290351]][[211410965623684]]',
	'405577_370967072932772_100000584485328_1340620_304653782_n.jpg', //A.24 Dark Viperd.jpg
	
	//A.25 Drowsie.jpg
	'[[192365164198634]][[192365167531967]][[192365177531966]][[192365174198633]]\n'+
	'[[192365170865300]][[192365250865292]][[192365254198625]][[192365260865291]]\n'+
	'[[192365257531958]][[192365264198624]][[192365317531952]][[192365310865286]]\n'+
	'[[192365304198620]][[192365300865287]][[192365307531953]][[192365390865278]]\n'+
	'[[192365387531945]][[192365380865279]][[192365394198611]][[192365384198612]]\n'+
	'[[192365464198604]][[192365457531938]][[192365467531937]][[192365470865270]]',
	'422025_370967096266103_100000584485328_1340621_1050774285_n.jpg', //A.25 Drowsie.jpg
	
	//A.01 Drilldent
	'[[211092398988874]][[211092388988875]][[211092402322207]][[211092395655541]][[211092392322208]][[211092498988864]]\n'+
	'[[211092512322196]][[211092502322197]][[211092508988863]][[211092505655530]][[211092572322190]][[211092578988856]]\n'+
	'[[211092582322189]][[211092575655523]][[211092585655522]][[211092675655513]][[211092678988846]][[211092682322179]]\n'+
	'[[211092672322180]][[211092685655512]][[211092765655504]][[211092762322171]][[211092772322170]][[211092768988837]]\n'+
	'[[211092775655503]][[211092842322163]][[211092835655497]][[211092838988830]][[211092832322164]][[211092848988829]]\n'+
	'[[211092938988820]][[211092945655486]][[211092952322152]][[211092948988819]][[211092942322153]][[211093018988812]]',
	'395415_370705099625636_100000584485328_1340099_1873339537_n.jpg', //A.01 Drilldent
	
	//A.02 Mumbah
	'[[302038916523305]][[302038909856639]][[302038903189973]][[302038913189972]][[302038906523306]][[302038996523297]]\n'+
	'[[302038999856630]][[302039003189963]][[302039006523296]][[302039009856629]][[302039063189957]][[302039053189958]]\n'+
	'[[302039069856623]][[302039056523291]][[302039059856624]][[302039113189952]][[302039116523285]][[302039119856618]]\n'+
	'[[302039123189951]][[302039126523284]][[302039196523277]][[302039206523276]][[302039203189943]][[302039199856610]]\n'+
	'[[302039193189944]][[302039269856603]][[302039279856602]][[302039273189936]][[302039276523269]][[302039283189935]]',
	'394055_370705116292301_100000584485328_1340100_666953666_n.jpg', //A.02 Mumbah
	
	//A.03 Croaky
	'[[230068303752544]][[230068297085878]][[230068300419211]][[230068307085877]][[230068293752545]]\n'+
	'[[230068403752534]][[230068390419202]][[230068397085868]][[230068393752535]][[230068400419201]]\n'+
	'[[230068513752523]][[230068510419190]][[230068503752524]][[230068517085856]][[230068550419186]]\n'+
	'[[230068663752508]][[230068677085840]][[230068673752507]][[230068670419174]][[230068683752506]]\n'+
	'[[230068950419146]][[230068940419147]][[230068947085813]][[230068957085812]][[230068953752479]]\n'+
	'[[230069090419132]][[230069087085799]][[230069093752465]][[230069107085797]][[230069133752461]]\n'+
	'[[230069340419107]][[230069343752440]][[230069353752439]][[230069360419105]][[230069400419101]]',
	'396332_370705129625633_100000584485328_1340101_664170659_n.jpg', //A.03 Croaky

	//A.04 Craggy
	'[[349263891770892]][[349263895104225]][[349263888437559]][[349263885104226]]\n'+
	'[[349263971770884]][[349263995104215]][[349263998437548]][[349264001770881]]\n'+
	'[[349264005104214]][[349264055104209]][[349264081770873]][[349264085104206]]\n'+
	'[[349264088437539]][[349264098437538]][[349264145104200]][[349264171770864]]\n'+
	'[[349264168437531]][[349264165104198]][[349264178437530]][[349264225104192]]\n'+
	'[[349264285104186]][[349264278437520]][[349264275104187]][[349264281770853]]',
	'426362_370705162958963_100000584485328_1340103_876567022_n.jpg', //A.04 Craggy
	
	//A.05 Fossillia
	'[[231167743643989]][[231167740310656]][[231167733643990]][[231167736977323]][[231167746977322]][[231167883643975]]\n'+
	'[[231167886977308]][[231167893643974]][[231167896977307]][[231167900310640]][[231168063643957]][[231168073643956]]\n'+
	'[[231168066977290]][[231168070310623]][[231168060310624]][[231168193643944]][[231168190310611]][[231168200310610]]\n'+
	'[[231168203643943]][[231168213643942]][[231168376977259]][[231168386977258]][[231168383643925]][[231168380310592]]\n'+
	'[[231168393643924]][[231168530310577]][[231168526977244]][[231168523643911]][[231168533643910]][[231168540310576]]',
	'404399_370705226292290_100000584485328_1340104_1853068951_n.jpg', //A.05 Fossillia

	//A.06 Eggy
	'[[349250315105583]][[349250308438917]][[349250311772250]][[349250318438916]]\n'+
	'[[349250321772249]][[349250408438907]][[349250418438906]][[349250415105573]]\n'+
	'[[349250411772240]][[349250425105572]][[349250478438900]][[349250475105567]]\n'+
	'[[349250471772234]][[349250485105566]][[349250488438899]][[349250561772225]]\n'+
	'[[349250558438892]][[349250555105559]][[349250565105558]][[349250568438891]]\n'+
	'[[349250638438884]][[349250635105551]][[349250628438885]][[349250631772218]]',
	'394147_370705276292285_100000584485328_1340105_1922865436_n.jpg', //A.06 Eggy

	//A.07 Sledgehog
	'[[300809249972292]][[300809239972293]][[300809243305626]][[300809253305625]][[300809246638959]]\n'+
	'[[300809353305615]][[300809366638947]][[300809359972281]][[300809363305614]][[300809356638948]]\n'+
	'[[300809436638940]][[300809429972274]][[300809423305608]][[300809426638941]][[300809433305607]]\n'+
	'[[300809509972266]][[300809503305600]][[300809499972267]][[300809496638934]][[300809506638933]]\n'+
	'[[300809579972259]][[300809586638925]][[300809583305592]][[300809576638926]][[300809573305593]]',
	'426825_370705329625613_100000584485328_1340106_1969602782_n.jpg', //A.07 Sledgehog

	//A.08 Sapphron
	'[[192152084219942]][[192152094219941]][[192152090886608]][[192152097553274]][[192152087553275]][[192152184219932]]\n'+
	'[[192152187553265]][[192152194219931]][[192152197553264]][[192152190886598]][[192152264219924]][[192152267553257]]\n'+
	'[[192152254219925]][[192152260886591]][[192152257553258]][[192152337553250]][[192152324219918]][[192152330886584]]\n'+
	'[[192152334219917]][[192152327553251]][[192152450886572]][[192152440886573]][[192152444219906]][[192152454219905]]\n'+
	'[[192152447553239]][[192152517553232]][[192152520886565]][[192152510886566]][[192152514219899]][[192152524219898]]',
	'403335_370705372958942_100000584485328_1340107_1053438059_n.jpg', //A.08 Sapphron

	//A.09 Quebble
	'[[325068854206394]][[325068857539727]][[325068867539726]][[325068860873060]][[325068864206393]][[325068990873047]][[325069000873046]]\n'+
	'[[325068994206380]][[325068997539713]][[325068987539714]][[325069060873040]][[325069057539707]][[325069054206374]][[325069067539706]]\n'+
	'[[325069074206372]][[325069164206363]][[325069147539698]][[325069150873031]][[325069157539697]][[325069154206364]][[325069304206349]]\n'+
	'[[325069307539682]][[325069317539681]][[325069314206348]][[325069310873015]][[325069374206342]][[325069377539675]][[325069380873008]]\n'+
	'[[325069384206341]][[325069387539674]][[325069480872998]][[325069474206332]][[325069477539665]][[325069470872999]][[325069467539666]]',
	'424182_370705426292270_100000584485328_1340109_1214566760_n.jpg', //A.09 Quebble
	
	//A.10 Digsy
	'[[211165215648259]][[211165225648258]][[211165222314925]][[211165228981591]][[211165218981592]][[211165398981574]]\n'+
	'[[211165402314907]][[211165392314908]][[211165388981575]][[211165395648241]][[211165478981566]][[211165485648232]]\n'+
	'[[211165482314899]][[211165472314900]][[211165475648233]][[211165545648226]][[211165548981559]][[211165542314893]]\n'+
	'[[211165552314892]][[211165538981560]][[211165648981549]][[211165655648215]][[211165658981548]][[211165662314881]]\n'+
	'[[211165652314882]][[211165728981541]][[211165718981542]][[211165715648209]][[211165722314875]][[211165725648208]]',
	'432206_370705529625593_100000584485328_1340110_746057013_n.jpg', //A.10 Digsy

	//A.11 Hippoke
	'[[257441720998359]][[257441727665025]][[257441724331692]][[257441730998358]][[257441717665026]][[257441817665016]]\n'+
	'[[257441814331683]][[257441810998350]][[257441827665015]][[257441824331682]][[257441870998344]][[257441884331676]]\n'+
	'[[257441874331677]][[257441877665010]][[257441880998343]][[257441937665004]][[257441934331671]][[257441930998338]]\n'+
	'[[257441944331670]][[257441940998337]][[257442034331661]][[257442027664995]][[257442040998327]][[257442030998328]]\n'+
	'[[257442037664994]][[257442097664988]][[257442100998321]][[257442104331654]][[257442107664987]][[257442110998320]]\n'+
	'[[257442167664981]][[257442164331648]][[257442157664982]][[257442170998314]][[257442160998315]][[257442227664975]]',
	'425628_370705559625590_100000584485328_1340111_145580_n.jpg', //A.11 Hippoke

	//A.12 Fennie
	'[[212229152207792]][[212229142207793]][[212229148874459]][[212229155541125]][[212229232207784]]\n'+
	'[[212229252207782]][[212229255541115]][[212229258874448]][[212229262207781]][[212229298874444]]\n'+
	'[[212229318874442]][[212229322207775]][[212229315541109]][[212229338874440]][[212229375541103]]\n'+
	'[[212229402207767]][[212229405541100]][[212229398874434]][[212229415541099]][[212229468874427]]\n'+
	'[[212229508874423]][[212229505541090]][[212229515541089]][[212229512207756]][[212229502207757]]',
	'425234_370705612958918_100000584485328_1340113_1028581367_n.jpg', //A.12 Fennie

	//A.13 Dark Croaky
	'[[302060193187844]][[302060199854510]][[302060206521176]][[302060196521177]][[302060203187843]]\n'+
	'[[302060296521167]][[302060299854500]][[302060303187833]][[302060309854499]][[302060316521165]]\n'+
	'[[302060366521160]][[302060373187826]][[302060376521159]][[302060369854493]][[302060379854492]]\n'+
	'[[302060429854487]][[302060436521153]][[302060439854486]][[302060449854485]][[302060453187818]]\n'+
	'[[302060529854477]][[302060533187810]][[302060536521143]][[302060569854473]][[302060573187806]]\n'+
	'[[302060596521137]][[302060603187803]][[302060676521129]][[302060629854467]][[302060636521133]]\n'+
	'[[302060833187780]][[302060836521113]][[302060859854444]][[302060863187777]][[302060889854441]]',
	'418807_370705652958914_100000584485328_1340114_1468806300_n.jpg', //A.13 Dark Croaky
	
	//A.14 Azteko.jpg
	'[[349365955094019]][[349365958427352]][[349365965094018]][[349366005094014]][[349366018427346]][[349366048427343]][[349366051760676]]\n'+
	'[[349366055094009]][[349366091760672]][[349366095094005]][[349366121760669]][[349366125094002]][[349366128427335]][[349366161760665]]\n'+
	'[[349366165093998]][[349366191760662]][[349366195093995]][[349366201760661]][[349366228427325]][[349366231760658]][[349366291760652]]\n'+
	'[[349366288427319]][[349366281760653]][[349366278427320]][[349366295093985]][[349366331760648]][[349366335093981]][[211262505638530]]',
	'425990_370859226276890_100000584485328_1340449_1152544983_n.jpg', //A.14 Azteko.png
	
	//A.15 Bludger.jpg
	'[[325176367528976]][[325176364195643]][[325176370862309]][[325176350862311]][[325176360862310]][[325176450862301]]\n'+
	'[[325176454195634]][[325176457528967]][[325176470862299]][[325176474195632]][[325176570862289]][[325176560862290]]\n'+
	'[[325176567528956]][[325176557528957]][[325176564195623]][[325176627528950]][[325176630862283]][[325176637528949]]\n'+
	'[[325176640862282]][[325176644195615]][[325176747528938]][[325176750862271]][[325176754195604]][[325176760862270]]\n'+
	'[[325176757528937]][[325176840862262]][[325176834195596]][[325176837528929]][[325176847528928]][[325176830862263]]\n'+
	'[[325176934195586]][[325176927528920]][[325176937528919]][[325176930862253]][[325176947528918]][[325177027528910]]',
	'394088_370859316276881_100000584485328_1340450_1643157117_n.jpg', //A.15 Bludger.png
	
	//A.16 Dillorock.jpg
	'[[257544137654784]][[257544144321450]][[257544134321451]][[257544140988117]][[257544147654783]][[257544234321441]][[257544240988107]]\n'+
	'[[257544230988108]][[257544244321440]][[257544237654774]][[257544300988101]][[257544304321434]][[257544307654767]][[257544310988100]]\n'+
	'[[257544297654768]][[257544390988092]][[257544377654760]][[257544380988093]][[257544384321426]][[257544387654759]][[257544507654747]]\n'+
	'[[257544500988081]][[257544510988080]][[257544504321414]][[257544514321413]][[257544570988074]][[257544564321408]][[257544567654741]]\n'+
	'[[257544560988075]][[257544574321407]][[257544627654735]][[257544624321402]][[257544617654736]][[257544620988069]][[257544630988068]]',
	'421383_370859386276874_100000584485328_1340451_307198597_n.jpg', //A.16 Dillorock.png
	
	//A.17 Vexie.jpg
	'[[349391051758176]][[349391045091510]][[349391038424844]][[349391048424843]][[349391041758177]][[349391175091497]]\n'+
	'[[349391165091498]][[349391161758165]][[349391168424831]][[349391171758164]][[349391221758159]][[349391225091492]]\n'+
	'[[349391228424825]][[349391231758158]][[349391235091491]][[349391318424816]][[349391325091482]][[349391335091481]]\n'+
	'[[349391321758149]][[349391328424815]][[349391441758137]][[349391435091471]][[349391431758138]][[349391445091470]]\n'+
	'[[349391438424804]][[349391515091463]][[349391505091464]][[349391511758130]][[349391508424797]][[349391498424798]]\n'+
	'[[349391575091457]][[349391581758123]][[349391571758124]][[349391585091456]][[349391578424790]][[349391631758118]]',
	'430918_370859432943536_100000584485328_1340452_304875591_n.jpg', //A.17 Vexie.png
	
	//A.18 Quartex.jpg
	'[[304672139589055]][[304672132922389]][[304672136255722]][[304672219589047]][[304672216255714]][[304672246255711]]\n'+
	'[[304672249589044]][[304672252922377]][[304672292922373]][[304672286255707]][[304672319589037]][[304672322922370]]\n'+
	'[[304672326255703]][[304672362922366]][[304672366255699]][[304672386255697]][[304672389589030]][[304672392922363]]\n'+
	'[[304672422922360]][[304672429589026]][[304672482922354]][[304672489589020]][[304672476255688]][[304672479589021]]\n'+
	'[[304672492922353]][[304672562922346]][[304672556255680]][[304672566255679]][[304672559589013]][[304672572922345]]',
	'419842_370859486276864_100000584485328_1340453_586750939_n.jpg', //A.18 Quartex.png
	];
	headTag = document.getElementsByTagName('head')[0];
    if (headTag) {
		styleTag = document.createElement('style');
		styleTag.type = 'text/css';
		styleTag.innerHTML =
			'.chat_tab_emot_bar {padding-top: 2px; padding-bottom: 6px; line-height: 16px; padding-left: 2px; background:#EEEEEE none repeat scroll 0 0; border-style: solid; border-width: 0px 0px 1px 0px; border-color: #C9D0DA; position: static; }'+
			'.chatstylesbut {width: 15px; height:15px; background-image: url("' + ResourcesURL + 'zx/r/FbCyXQSrD4-.png"); cursor: pointer; border-color: rgb(153, 153, 153) rgb(153, 153, 153) rgb(136, 136, 136); border-style: solid; border-width: 1px; }'+
			'.chat_arrow { background-image: url("'+ ResourcesURL + 'v1/zp/r/SBNTDM0S-7U.png"); background-position: 0 -48px; height: 5px; width: 9px; }';
		headTag.appendChild(styleTag);
	}
	
	ArrowStyleUp = 'cursor: pointer; position: absolute; right: 2px; -moz-transform: rotate(180deg); -webkit-transform: rotate(180deg);'
	ArrowStyleDown = 'cursor: pointer; position: absolute; right: 2px;'
	
	fEmotBarDom = document.createElement('div');
	fEmotBarDom.setAttribute('class','chat_tab_emot_bar');
	
	fEmotsListDom = document.createElement('div');
	fEmotsListDom.setAttribute('name','EmotsList');
	fEmotBarDom.appendChild(fEmotsListDom);
	
	for(i=0;i<emotsInfo.length;i+=1) {
		var fEmotsDom = document.createElement('img');
		fEmotsDom.setAttribute('alt',emotsInfo[i]);
		fEmotsDom.setAttribute('style','cursor: pointer; background-position: -'+ 16*i +'px 0px;');
		fEmotsDom.setAttribute('src',ImagesURL + 'blank.gif');
		fEmotsDom.setAttribute('class','emote_img');
		fEmotsListDom.appendChild(fEmotsDom);
	}
	for(i=0;i<spemotsInfo.length;i+=2) {
		var fEmotsDom = document.createElement('img');
		fEmotsDom.setAttribute('alt',spemotsInfo[i]);
		fEmotsDom.setAttribute('src',ImagesURL + spemotsInfo[i+1]);
		fEmotsDom.setAttribute('style','cursor: pointer;');
		fEmotsDom.setAttribute('class','emote_custom');
		fEmotsListDom.appendChild(fEmotsDom);
	}
	for(i=0;i<profilesInfo.length;i+=2) {
		var fEmotsDom = document.createElement('img');
		fEmotsDom.setAttribute('alt',profilesInfo[i]);
		fEmotsDom.setAttribute('alt-extra',profilesInfo[i]);
		fEmotsDom.setAttribute('src',ProfileImgURL + profilesInfo[i+1]);
		fEmotsDom.setAttribute('style','cursor: pointer;');
		fEmotsDom.setAttribute('class','emote_custom');
		fEmotsListDom.appendChild(fEmotsDom);
	}
	
	fArrow = document.createElement('i');
	fArrow.setAttribute('alt','');
	fArrow.setAttribute('class','img chat_arrow');
	fArrow.setAttribute('style',ArrowStyleUp);
	fEmotBarDom.appendChild(fArrow);
	
	var setting_visible = getValue('visible',true);
	
	document.addEventListener('DOMNodeInserted', fInsertedNodeHandler, false);

	function fInsertedNodeHandler(event) {
		if(event.target.getElementsByClassName && event.target.getElementsByClassName('fbNubFlyout fbDockChatTabFlyout')[0])
			fInsertEmotBar(event.target);
	}

	function fInsertEmotBar(fChatWrapper) {
		fChatToolBox = fChatWrapper.getElementsByClassName('fbNubFlyoutHeader')[0]
		fNewEmotBar = fEmotBarDom.cloneNode(true);
		setVisibility(fNewEmotBar);
		for(i=0;i<fNewEmotBar.firstChild.childNodes.length-2;i++) fNewEmotBar.firstChild.childNodes[i].addEventListener('click', fEmotClickHandler , false);

		fNewEmotBar.firstChild.childNodes[i].addEventListener('click' , fStyleClickHandler , false);
		fNewEmotBar.firstChild.childNodes[i+1].addEventListener('click' , fStyleClickHandler , false);
		
		fNewEmotBar.childNodes[1].addEventListener('click', fHideShowEmotBar , false);
		if(fChatToolBox.childNodes) fChatToolBox.insertBefore(fNewEmotBar,fChatToolBox.childNodes[1]);
	}

	function fEmotClickHandler(event){
		var fChatInput = event.target.parentNode.parentNode.parentNode.parentNode.getElementsByClassName('fbNubFlyoutFooter')[0].getElementsByClassName('inputContainer')[0].getElementsByClassName('uiTextareaAutogrow input')[0];
		var pos = getCursorPosition(fChatInput);
		
		var txtbef = ''; var txtaft = '';
		
		if (fChatInput.value.charAt(pos-1) != ' ' && pos-1 > 0) txtbef = ' ';
		if (fChatInput.value.charAt(pos) != ' ') txtaft = ' ';
		
		var imgAttrExtra = event.target.hasAttribute('alt-extra') ? '-extra' : '';
		fChatInput.value = fChatInput.value.substring(0,pos) + txtbef + event.target.getAttribute('alt'+imgAttrExtra) + txtaft + fChatInput.value.substring(pos);
		createSelection(fChatInput,pos + event.target.getAttribute('alt'+imgAttrExtra).length + txtaft.length + txtbef.length,pos + event.target.getAttribute('alt'+imgAttrExtra).length + txtaft.length + txtbef.length);
	}
	
	function fStyleClickHandler(event){
		var fChatInput = event.target.parentNode.parentNode.parentNode.parentNode.getElementsByClassName('fbNubFlyoutFooter')[0].getElementsByClassName('inputContainer')[0].getElementsByClassName('uiTextareaAutogrow input')[0];
		
		var selectedText = fChatInput.value.substring(fChatInput.selectionStart, fChatInput.selectionEnd);
		
		var pos = getCursorPosition(fChatInput);
		var txtlen = selectedText.length;
		
		var imgAttrExtra = event.target.hasAttribute('alt-extra') ? '-extra' : '';		
		
		if (txtlen == 0) {
			fChatInput.value = fChatInput.value.substring(0,pos) + event.target.getAttribute('alt'+imgAttrExtra) + fChatInput.value.substring(pos);
			createSelection(fChatInput,pos + 1,pos + event.target.getAttribute('alt'+imgAttrExtra).length-1);
		}
		else {
			var txtbef = event.target.getAttribute('alt'+imgAttrExtra).charAt(0);
			var txtaft = event.target.getAttribute('alt'+imgAttrExtra).charAt(0);
			
			while (fChatInput.value.charAt(pos) == ' ') { pos += 1; txtlen -= 1; }
			while (fChatInput.value.charAt(pos+txtlen-1) == ' ') txtlen -= 1;
			
			if (fChatInput.value.charAt(pos-1) != ' ' && pos-1 > 0) txtbef = ' ' + txtbef;
			if (fChatInput.value.charAt(pos+txtlen) != ' ') txtaft += ' ';
			
			fChatInput.value = fChatInput.value.substring(0,pos) + txtbef + fChatInput.value.substring(pos,pos+txtlen) + txtaft + fChatInput.value.substring(pos + txtlen);
			
			createSelection(fChatInput, pos + txtlen + 2, pos + txtlen + 2);
		}
	}

	function fHideShowEmotBar(event){
		fChatBar = document.getElementsByName('EmotsList');
		fChatContainer = document.getElementsByClassName('fbNubFlyoutBody')[0];
		if(fChatBar[0].getAttribute('style') == 'display: none;') {
			for(i=0;i<fChatBar.length;i++) {
				fChatBar[i].setAttribute('style','display: block;');
				fChatBar[i].parentNode.childNodes[1].setAttribute('style',ArrowStyleUp);
			}
			fChatContainer.setAttribute('style','height: ' + (fChatContainer.offsetHeight - 48) + 'px;');
		}
		else {
			for(i=0;i<fChatBar.length;i++) {
				fChatBar[i].setAttribute('style','display: none;');
				fChatBar[i].parentNode.childNodes[1].setAttribute('style',ArrowStyleDown);
			}
			fChatContainer.setAttribute('style','height: ' + (fChatContainer.offsetHeight + 48) + 'px;');
		}
		setValue('visible',!setting_visible);
		setting_visible = !setting_visible;
		
		
		
	}
	
	function setVisibility(DOM) {
		if(setting_visible) {
			DOM.firstChild.setAttribute('style','display: block;');
			DOM.childNodes[1].setAttribute('style',ArrowStyleUp);
		}
		else {
			DOM.firstChild.setAttribute('style','display: none;');
			DOM.childNodes[1].setAttribute('style',ArrowStyleDown);
		}
	}