// ==UserScript==
// @name        YouTube - Topic Highlighter
// @namespace   lilven
// @include     http://www.youtube.com/results?search_query=*
// @version     1.0.2
// @grant       none
// ==/UserScript==


var IsChannelATopic = function (channelElement) {
    var autogeneratedIcons = channelElement.getElementsByClassName("yt-channel-title-autogenerated");
    return autogeneratedIcons.length > 0;
}

var items = document.getElementById("search-results").getElementsByClassName("yt-lockup-channel");

var firstNonTopicItem = null;
for (var i = 0; i < items.length; i++) {
    var item = items[i];
    var isTopic = IsChannelATopic(item);
    if (firstNonTopicItem == null && !isTopic) {
        firstNonTopicItem = item;
    }
    if (isTopic) {
        item.style.backgroundColor = "#e8f5ff";
        if (firstNonTopicItem != null) {
            var parent = item.parentNode;
            parent.insertBefore(item, firstNonTopicItem);
        }
    }
}
