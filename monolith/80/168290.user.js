// ==UserScript==
// @name       facebook auto width.
// @namespace  http://use.i.E.your.homepage/
// @version    0.1
// @description  enter something useful
// @match      http://www.facebook.com/
// @copyright  2012+, You
// @require    http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js
// @require    http://cdn.jsdelivr.net/jquery.waypoints/2.0.2/waypoints.min.js
// ==/UserScript==

// Generated by CoffeeScript 1.4.0

/*
jQuery Waypoints - v2.0.2
Copyright (c) 2011-2013 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/

function log(string){
    console.log('%c TamperMonkey > facebook auto width > '+string,'color: tomato');
}

GM_log(jQuery().jquery);
GM_log(jQuery().waypoints);
(function ($){

function addwaypoint(){
    log('Add waypoint event listiner');
	var content = $("#contentCol");
    log('content margin-left: '+content.css('margin-left'));
	var leftcol = $("#leftCol");
	leftcol.waypoint( function(direction) {
		log('leftCol waypoint reached');
	    log('Direction of waypoint crossing '+direction);
		if (direction == 'down') {
	        content.animate({ 'margin-left' : '0px' },500);
	  	}
	    else{
	        content.animate({ 'margin-left' : '181px' },500);
		}
	});
}

setTimeout(addwaypoint, 3000);
})(jQuery)