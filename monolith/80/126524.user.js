// ==UserScript==
// @name The West - tw-db.info Cloth Calc [eng]
// @version 0.03 Rev. 12
// @description The West Script: Cloth Calculation for game version 1.34 or higher
// @author scoobydoo [tw-db.info]
// @namespace http://tw-db.info
// @website http://tw-db.info
// @include http://*.the-west.*/game.php*
// @include http://*.tw.innogames.*/game.php*
// ==/UserScript==
(function(f){var d=document,s=d.createElement('script');s.setAttribute('type','application/javascript');s.textContent='('+f.toString()+')()';(d.body||d.head||d.documentElement).appendChild(s);s.parentNode.removeChild(s)})(function(){if(typeof(TWDB)=='undefined'){TWDB={}};TWDB.gameversion='1.35';TWDB.url='tw-db.info';if(typeof(TWDB.Updater)=='undefined'){TWDB.Updater={check:function(ver,rev,uid){if(this[uid]['ver']!=ver||this[uid]['rev']!=rev){this.update(ver,rev,uid)}},update:function(ver,rev,uid){var _self=this;var title='Userscript Update needed';var msg='<div class="txcenter">for userscript <b>'+this[uid]['name']+'</b> is a new version available, please click ok to update the Userscript</div><div><br />current version: '+(this[uid]['ver']/100)+' revision '+this[uid]['rev']+'<br />new version: '+(ver/100)+' revision '+rev+'</div>';var url='http://'+this[uid]['update'];var update=function(){try{location.href=url}catch(e){}};showMessage(msg,title,350,170,[['ok',update]],true,90001,'warning')},}};TWDB.Updater.clothcalc={ver:3,rev:12,name:'The West - tw-db.info Cloth Calc',update:'tw-db.info/cache/userscripts/clothcalc/clothcalc_eng.user.js',};jQuery.getScript('http://tw-db.info/cache/userscripts/clothcalc/version');if(typeof TWDB.images=="undefined"){TWDB.images={}}TWDB.images.ClothCalcButton="data:image/png;base64,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";TWDB.images.iconName="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAqBJREFUeNqslEtvElEUxy90gOHRDhQpDBIEaysKNQZpYpqiLroxaUjUrV/Bpd/BD6IrdySGmK5cVzf1sSgNgrzDAB0QBpgZxnPonYZSSLvwJj/unXMP/3vOfRyDpmnkfzUGf1Kp1Lw5A7BEwTYGVNpfaul0+kxsQbMAHOCmi/aBFtAF5IWRLbC7gLtPGOalPBpZG7J8cmKxHIDtN3AKaNcVw6gCYZNp/4XV+kaRJNKs16V3wSBG9pdyKTrjgr1aBsK7LPtqPBwStdsl1mbTGiuX98HuB6zzIpgnZgJuAHfWNc2ndjpEabcn3KtUtnERupfG64jZAH7XbN5bHg5ZVRTJT0Kq416PhATBsyJJUZj3AOarxPB7BQhuGo2Rcb9PTiVpcMDzuOnErCjMVqmUpKnarxLD1TxOgyF2X1F4TPHQbC4KNtug4HY30CFSrW5AFwKcswc4K4ar3YwbjU8xLQVSPOK4iUjW5xOw94miixfFBAy9s6kyc+5WOCHLG0qrRfqtlhLv93mcZGX53PdBsZisclwGhjlA0u8cM3O3vAFNiztrNccwlyOGdpvZPju9Cw1S9X+OxdZh+IO+itG0mH63go+bzWeD4+PJ3apxXPvChiqKabXXczgGAzaRz+99DYUOwVyeFdNTDNzK5dZQCDf8/c4OPp/vgAisAY/eZjLP8VTDjUYExHALHHRe08WwMrDJQuEhW6+zaMh7PFnoPgFH9Pngg69mvd5otFy+vVmr8RClq2W3W+hBqtNpDj2CsCQ4HGX40H75/R/A9g11cQ7A0xyD2EevKL4GH3WrWFz5Eoko9P/EgMUR6hk+oVVMkz4lrFsVSofWMIberQBNGX1qug/Us/PIVFpWMII/9Kgl+j2e8hGpraRnAwx0n38CDAD3lwpCS51YdAAAAABJRU5ErkJggg==";TWDB.images.iconExperience="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAz9JREFUeNqsVNlPE0Ecntltt3u00FqK2KIQQCKERAQxKqCJB8YjMdEXH1Bjor6YoNEYH/wDJP4HJvpkYkxMCB7REOIRPDAicgkVa1sKEtqypff22u06g9Nkg6I+OMmXmZ3j+32/a6GqquB/DfiXfUqzxlbzmvUvQ/cHMhpBT2Y8FASZ4Ldk1CpEeN+AICAUjzy6cn/iyYUXaM0SAfBfyQBRwyGYL3edbeMpsSUbm9t07+7tM9VVFcxqZLrfqILEPR7BEgp4LTxtsohL0/RSdr7U7fHpiQitq6o2wBQh1hNXjNg9BKvXOytAOUwp0ncgBn3lgsCbyTlWzhAvlnloTaDZqxdPrp+ccjFbN9dsSKeltWYTV9F97dgph8HlUJLfYUK2Whw1LQEIQbSlqU64fulE9dGDbUzv0zcxnGlIFGE1wp2bnR121tdiNfNNlmJzA6QZvUFdZNW4k1LisyANLUqGqQrTFOXPpqJyOBoxS2XnHwTStlvnznfN6IgyPAvxDGeji8ytptzHLVwsA1XaCPJyFuRzyDBFIb+idD4+WuILyCWukDGt2I442SgvSlIIZx5CTQmUINgPHti78/j+2tP1hsdV63hRB/KoTtUcwJ0STQIw6gFgLGDPxbltz98PT9+YnHS60DvsZqYQPJqQmr65vfTgyIzY0NpZazfFjBwMA0XOAQVxRhIAfAmaQJDZtzAwON7tdE4jahDHRLiYKdIiuKrTCMg2SC0uivGXAyPjRpNZTUpZMBsEIJz4mfciTgZqPjPn8czMkfuZQlcUyLKYhBzGjAIvHd5dWaYkpuHQVxkMeO3qRNC2rM7KpcAaQ0TP8xy+KxEyBWiKD3/kiDppe3MN214jNnx2LoDRcGNiItLkGhLbfe7kRglnysr4K/fu2WUhbwq9qupWVDE+SDXWOdhXrz+8D4JDtm9LYKyvv38C+Sj7O3Y7jjSXH2czn6311W2NPQAMr9ZOeWIp6ZuPON8Nmzwy9DOfRsZEWVaW26z3Ud9UKLT97UZHLbo4617594CaudCPxuIioYjneXbBv5gjRqCmbXJrS22p1h1blZ6HzxZIvNWVZIXiNZC5kBx1BZmqiW+WxHuZ7IcAAwAW9VeYOecN4AAAAABJRU5ErkJggg==";TWDB.images.iconDollar="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAwZJREFUeNqsk91P01AYxk+3buyj6+gGZXOTrwCSiRB0gkYiGXilYDSAqHjh56XXmhAT77nUS+/8AwhqTIQQE8CIfGNAkskE5thGYWPr1lk6unpqTkkz4M6T/HJOz2mfvu/7nBeTJAn8r6EB/3Fgxzxr0Fr5WQ4ioRmg9cFQssPzhDRoT4/QojMRIiBExKH64HlCsoAJQnTc7D11rulCcwZ3dWd4PkdpY2+jkfD4m1cDyypR6ai0MCRkhthaWttO17Y+HIiksOqNaBpsxdKgxKYHbgpnLpWxj148fzYK39tT0s5PU06nAGKB0Fr6bMfgxEZ5NS2BzTD8RkiCXUEHlqZztL9U6CMI83g6zWVVNTxUaFmMdLrLSn8mSJ8JY3UV0swsZRT5YkICd8/nQOWJFMCz8Wqv12s9wryDyJR6GWs89TWTnOTOpgGImq2UjSrUJpNaMD05/BqPbE12XL1CbEYKTapApPx7plGcDK4u7XR79WmDRgCfwxWVfgbThaAYV+zrLCAd5Ip/PfDu/afEUZFhCCPEDnFBqnq6rrfZikoaAoxo/7btLuM4DuA6A9AYrMDjEMNdDXtP+/tfjsB3M7KrigHqDpB3xJ7e2+U8ZsUX5ueXSi1ssMppEFykAO43ZQBN5MDcIkMvBFKPnzy4U4KMw45rJ2nZH0xsW3x9VOO9Gziul2zG7I7OVAgiv76P1jrxFBB5PBTeavZ4atpUl/pQB/yLlbJaDD/Wfmd241nyVnvLZc0fPchpdwBrbPTMrCSNesCAKgfJr60FI/l1w9UpQrJfx0ZWO7uKhhb3yWuDE1krhpswgYuDkJhyOghBavcVCzQBJoY+DK8cZ4B8LQiVCa4mb2O93eGqm2OKmrk0a+25SO1RZm0gFot/HPsyNRiJMus8z8uuChJyQBGTczegDpAF5eLaDYYCm6fuTAVlp08CgV2fnl2cYtlUCJ4xkITKTSm/N3HUBXKEJIJAUefQh0lECsLLZZHPlKuB5aUsR6hDokY040hMQAI8Wu+jWiuBgb8CDAAXATNfWNNYlgAAAABJRU5ErkJggg==";TWDB.images.iconLuck="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA39JREFUeNqsVEtvG1UUPvO2x+OxnTp+xY7T2iRUlEcKqFCVV1cVEiD1HxQWSLACJCSoxAL27Nixh58AGxYQlJaXILIT0zhOnNiJY8f2vD32vLhj3UHTUnXFSJ/uvZp7vvude893CM/z4P/6iIesyRCo0D8XwcGjD+9RZAQOZhA4hAieUzhwhjBFMPHceZCQfoDcD4wKQiz5yecfvOWsMLeHxkgo8ZnpzrBFuDOLfnXhuU+/uP3l183WwQQT3hdMhFT5ahI0Q2effW39zSOif2V3sE/vjg+41qDN1RrbTJZOly8VV7/buPOLhNO9T1lwT35qMUSUtGb2ufqv26PpOmht5TBOovPlgQLE0IPR0SguHUminwFO8987pLCiOdG7H9164fK1p68uV4sXO80OJZA8p4pGUZIVxObBWuQ8PJZdcQaG9LvlWvKNN67zU9WcjUbSnIzEl8wjpP6o1fhplfxMfnz63oXXqzflfUkpTwtj/9yVWB5Wl6ugZx1Cyc5eghuRTbvgfv/xh++/EmRI40kMIZ09n7nalY+jh0oX9l07VngmHWU5OrpKlEGgYqBmTDA5LalljHcGWwPo0SmRWCLeFuPChqJqFh1WtryYv7BHnqA3csFQdGhYSrpMLkE5XgCdmsCutgcz2YGJoUOc4kEgYkT/9Ey3bIcJlJFYHXdGSNnjcQ/GPRkIA6AiLMECswB9QoKcmwJ34sC21gLbtkFVVejTQ+9sNNqaTCbz1yRDL2IPm/2meaJ63JByn2Ar3pO5iyDmU6DSBrT1Y6iwJXiRfwp4mXM5jXFFMq799POdzaBEaFx4flUrSlP5czEimizDVMq5pWqkFM8MiB4Jkgcd8xQ4k4G/v218lStk7UuVy7lERDz8Zmvz2BfiE1JY3dxWiqSY3U5P3mu2z1DRuLDGlA9GR4ykyOCYLpyeDLwSm7/712/1Hxv15g/bO/c2LMuWUejcDb4yC0H3CTXdALx2FFlJ1Xd3JqfDfjRJiWBODL/WPJ6PGa7rttGeISJS0WgEtgqnGe4EZK/TZ192rrXWxHKC0qA7sMfDc8WF1TQpmndZtj+bzWRsfDswPRHqHIGlEgiLCPliqVC2pxaXTCZoZDO5Vm/Urjy/rtd37nU1TdcxEQQiHtaCfM8JCEkE34MsPtlPxze3gufTR7WgoESCTRYOpEJrM5Taf75/BBgAw3Si4MpJ570AAAAASUVORK5CYII=";TWDB.images.iconDanger="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAuNJREFUeNqsVE1rE1EUvfMy08xUbc0kU6U2H6WYSWwpRQgU6cZFV9KV4E/wBwiCP8Cf4dJuRARXVZCqYDbagk1tYwshhKZpmkzitJOkaZKZ8b72ThkL7vrgwPu65553z3tPWFpagqtqDK6wib6+QOQBAh+7CIfgJReo783btO+CTKC+jLhGEGnzKaJPRJIvpovoIE4QPU7qLQSIIIy4jbiFUChrmwIYzck0byKqiDrimCcVSVUQEUIkRiTp/tN0+smUZU2Wt7YarxnLlmSZBwUWJybSDxQlJRWLsFKvf86GQqs4/xsx4BBJ1TBiTGLs3suFhecJ29Zgbw/uVKth3bJiz+bmfjxOJiceRaOTgETQbIKezU51Z2dH1mOxZYy1uHrRJ19b1LSHiU5Hg40NgLU1AMOAm5Ikv7Dt6buuG4L1dYBcDniiouuyYLG4CLHYF4wtIwyPjB/zhu44OhQKAJubAKUSlh/rL8uQzOdV2N8/I4fDQ3D6fWhyBstSBccJu4xxMaLfTUFqNETooEGmeU7E2ymaWcbEAm4ZYGls+8wNpObqBNFGExkTvHvjkvXtg3p9H3Z30Zvji4sFLi73emekLhLxu7CN4Gc7UZS2K0kGXRObkc18j/F2dPRj3jBaJVTXoAwucfJN/GjfEbzi24LgBFOpD9it0NXoB3Rd944JA8YgF4mYjmnq3W5X8Zzh7RDxlYgKktSTZ2ZWpWj0PQ53EDUuiJO5vufRaweDVj4eL6HUMcU0VRFdO8KFT0RkqWpDmZ9/J0YiKzjcovJZfmXeG+vTkdu1SKRSCYdttVaL5rDIb/iRx8crw5nMsjA09I2I+JU4oifneGQeYZ+KyZ9Qu6UoRjUUqh8fHEzXNG1HyWReoas/cS1Pii6ILv8anqsOPQ/eb1VUtZxMJJrX4/Ff9rkS7z22Lnn0Dxn4jOPq/lDWxm46XaD5EyLpUEL3f/+Zv3lfz4ACAz7Ftv8P87e/AgwA2Gk+sVBbJGIAAAAASUVORK5CYII=";TWDB.images.iconLaborpoints="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeVJREFUeNqclM1OwkAUhVtaKMViA2K7cOfOV/JF2LLyFVjwEkRehK0rUxISBUUrP/2xP95LzjRjaSNxki80LXPmzLl3RlVOhwoahCa9T4mMyMGvkee5oteINYkWYUCQRSKQQPiswQt0iRvizvf92W63mwVBMJtMJrdYSD3XGTsxiT7hRlGk6LquaJqmLBaLCyyW1LmoEjPgbhCGodJsNo+Cq9WqVcrxRKwhhc1YxCXRI65YLE1TIWbhey5lVxRFl8I24YiFHBZiQSHG7ubzuYVv/P+QCIiY+GYxFdthgf50On3gSX/BLsWv4zj3LEoFSHTJjUsVU5IkqYTdiWcWElvHfHZ3FNOw1TZvqU5IbFU8S2KaXIAMYcaj0egxy7Ie/dEm21167o7H44FwNRwOn9Y0DMP4sCzr3XXdF8wvxLirt8Ta87xIVJG45rDJbSG2XC496rUlvd8QPvGG+aks9gV3n2CPFVtyjrZts5NnCHElD5ifKVI3HxCihpKr6Kc+nwCRkWma7GgNsQSIPjuKpVJu4qCb2PqOi8JBs1in0wnwfi/dHHn5OOWlq+Ybbv04jgtnJLzH98prSK04Ytw3NvcdaCOCFfGKTMOyWN2tkSLcDRy2EMEWbpO6g17lrPGfy5Gd/QgwADbFOC1FlFuVAAAAAElFTkSuQmCC";TWDB.images.iconData="data:image/png;base64,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";TWDB.images.iconCache="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAUCAYAAAD/Rn+7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABTFJREFUeNqslslvHEUUxr+qrtk8i3Hs2M5GnDhOEBI4JBISiYBIIJYTBxBSDkjkHwAJceCfgAvc4Q4SBzhEQRFiEZdI2EoQkE1JnEw8GXuWnp6t1+KrnklwPDPxZSK9dLu76tev3vK9ES+/9gZWLl7Ae2fff3O6MPEcolBLpQCNHf+ZJVJa4n65cnvmj++/+3P6CPTs4bHyVP/dsZe8G1+LlVu5e5UQ6ZSC1k8mCpoXAQuzCrvqtagEbPDRL+PmGQfV68uHPl9yruf+ueXgaLu/Wux8YhDoO8DxpyF/cvAFn7xK646Tp/zN4kcfLu99pV7WOP7iNKYtjTCK4hPHp35o/SRsDYSktQhd58dPqs7ShWvlz7IyVR0nT6nqvTPphVNYPPMWEkELrlNHaNcQNGntBoJOG5HfhQ4C6CjsfYgQIfQj6EQ3gjN3BItBcHqzeNsZJ09luo1UuHIe316aR6ftQvkdJNFGx+nAbbmwIg+uG0BGPYCVZE2wMFrtXlH7Bl7I49wn5/D7jz+r1s0deNpD1/BCHWd9J57SiVSuIDz8fWkV65s+9nPx0gLQLAN2A5jMAGsdnoqbc7SpOSDPP4p3gMACyj6QndqNvVNZ+J6XJU9u5x0lz34A1FhfM1mg0uKeflnm5nn/BJ5S6YzMHFhC4anr8DcfYI4O7efudJpGB+dOCCy+K2KY/Y1GvqQxxXc1ftgjMDTHjgJ4TJ2OIjmMt5cO5LIplFs+I6rhM1aT3BZIgYytkdEpzCmPPD3IUxN55BeeRSpbouY8QIqeZPhhczUtPrcHOHFWxPH/7bxGcJ+O832yrw0Jmh8G8Jt11panh/GSLKzZXBKn/QJkZQMrUuIma+9tMgtBGvauKVy0S8N5KpNFemYPZCI1oEvGNNPrNnsO6rYR0m2KIcyBfbj1DYReB8N4invWGw6kyuFoJoNnul0sCEaPTob7dqGerUKYGpeDPCksBZlMj5Qmb5MbPB2buYc1ZAIYYLWM0O1iFM9su1GvwkkqJHifp4UygVK6ycbojuRJ0+Om3Uepu1/TsGQ6NnMv5LY1/RN79iYiAkfxWG6ouS7qThNGUSJqY8RU3t1oxAwxgqeMl55dgQ7Dx4dif3FQB/76chEJkw77CsTstuFpgKZmHFMzLobx4jHG/ygAmDepLBSg8nlYxSLmq+zcqV7pDOMpv+WgtXaNAtp8zLlHPjA39xJXwMwhSvXG0UCK6UzQbvLkBA/hmWmRlEm8UJjAhCWxls+hygguz89jodlBvcp9uvUojFt5yoCctasEN3pNscWML4K5OXF4GcmEhUtyJU5NPK22Osi0Rh6nA+VhGM8Ec2Z6N2oH9sGj7FxeuYrItpE7/jwKs2kcopDf+fVfyk8wwFNsZXiVEnx2FjUSLr3qhL2rSUu7pfHDx6uxSKeYBpXtvWfPxGb2RGZchb7RLZ56kOfyunG/iHKliN0EbTR7TbK6ehmTFGr63mNagzxlijpkOBuksBw4Pzk1KCd1rrQJ74Yi/t3TYjwsWsM859oSC9Sc1+zhRKVMhA/DOZzH17ZZKwxPwDGdzey0eciWN5qntB+JWuEgPvj0HQjmQjCxSrAGXAacXcdQUNU70C6HvOcazWEXBjh4LIpToVnddr2GYmPdSILQvh4rT1WsPNylU5js1OP2NmENeA1ZA2G3zWJtsa6cuLbCbofP3VinHv4SMRFL8/S3ugp32yFca2KsPJFQ6qukJU+GYWQJIf7Xjy2NsP3XsMD2JjHpgvYifVlK6Y6T958AAwBjoD0Kglj//QAAAABJRU5ErkJggg==";TWDB.images.miniMap="data:image/png;base64,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";TWDB.ClothCalc=new Object({uid:"twdb_clothcalc",TypeToId:{animal:1,body:2,foot:3,head:4,left_arm:5,neck:6,right_arm:7,yield:8,pants:9,belt:10},IdToType:{1:"animal",2:"body",3:"foot",4:"head",5:"left_arm",6:"neck",7:"right_arm",8:"yield",9:"pants",10:"belt"},SkillToId:{strength:1,flexibility:2,dexterity:3,charisma:4,build:5,punch:6,tough:7,endurance:8,health:9,ride:10,reflex:11,dodge:12,hide:13,swim:14,aim:15,shot:16,pitfall:17,finger_dexterity:18,repair:19,leadership:20,tactic:21,trade:22,animal:23,appearance:24},ClassToId:{greenhorn:1,adventurer:2,duelist:3,worker:4,soldier:5},carryStack:{},carryInterval:false,selectedJob:0,selectedCustom:0,data:{skills:{},items:{},jobs:{},custom:{}},calcdata:{skills:{},items:{},jobs:{},custom:{},animals:[]},order:{list:[],type:"name",order:1,alljobs:false},loaded:false,up2date:true,test:{1:{id:1,type:"speed",para:{},name:"Speed"},2:{id:2,type:"custom",para:{9:1},name:"max Health"},3:{id:3,type:"regen",para:{},name:"Health Regeneration"},4:{id:4,type:"fort",para:{att:200,def:0,health:100,type:0},name:"Fortbattle Attacker (Att)"},5:{id:5,type:"fort",para:{att:0,def:200,health:100,type:0},name:"Fortbattle Attacker (Def)"},6:{id:6,type:"fort",para:{att:200,def:0,health:100,type:1},name:"Fortbattle Defender (Att)"},7:{id:7,type:"fort",para:{att:0,def:200,health:100,type:1},name:"Fortbattle Defender (Def)"},8:{id:8,type:"duel",para:{12:1,15:1,16:1,24:1},name:"Range Dueler (Att)"},9:{id:9,type:"duel",para:{12:1,15:1,16:1,21:1},name:"Range Dueler (Def)"},10:{id:10,type:"duel",para:{6:1,7:1,11:1,15:1},name:"Melee Dueler"}}});TWDB.ClothCalc.init=function(){if(typeof Character=="undefined"){(new UserMessage("In order to use tw-db.info userscript<br />you have to be logged in on your The West game",UserMessage.TYPE_FATAL)).show();return false}var a=this;var b=window.addEventListener?"addEventListener":"attachEvent";var c=window[b];var d=b=="attachEvent"?"onmessage":"message";c(d,function(b){if(b.origin!=="http://"+TWDB.url){(new UserMessage(b.origin,UserMessage.TYPE_ERROR)).show();return}try{var c=jQuery.parseJSON(b.data)}catch(b){(new UserMessage(TWDB.url+": empty or corrupt data recieved",UserMessage.TYPE_ERROR)).show()}if(typeof c.error!="undefined"){(new UserMessage(TWDB.url+": "+c.error,UserMessage.TYPE_ERROR)).show()}else if(typeof c.message!="undefined"){(new UserMessage(TWDB.url+": "+c.message,UserMessage.TYPE_SUCCESS)).show();a.handleTWDBData(c.data)}},false);this.guiData=jQuery('<div style="position:absolute;top:10px;right:10px;width:20px;height:20px;cursor:pointer;" />');this.guiBag=jQuery('<div style="position:absolute;top:95px;left:1px;width:252px;height:186px;" />');this.guiCache=jQuery('<div style="position:absolute;top:10px;right:32px;width:20px;height:20px;" />');TWDB.Eventer.set("IndexedDB_clothcalc",function(){a.CacheState()});this.guiJobSelect=new tw2gui.selectbox;this.guiJobSelect.setPosition(253,-1).setWidth(300).addListener(function(b){a.switchJob(b)}.bind(this));jQuery(this.guiJobSelect.elContent).css("max-height","300px");this.guiCustomSelect=new tw2gui.selectbox;this.guiCustomSelect.setPosition(253,-1).setWidth(300).addListener(function(b){a.switchCustom(b)}.bind(this));jQuery(this.guiCustomSelect.elContent).css("max-height","300px");var e="";try{e=TWDB.Updater.clothcalc.ver/100;e+=" rev. "+TWDB.Updater.clothcalc.rev}catch(f){}this.guiCopyright=jQuery('<div style="position:absolute;bottom:0px;left:0px;height:15px;display:block;font-size:10px;color:#000000;">.:powered by tw-db team:. | <a href="http://tw-db.info" style="font-weight:normal;color:#000000;" target="_blank">.:tw-db.info:.</a> | '+e+"</div>");if(!Bag.loaded){Bag.loadItems()}this.InitCount=0;this.BagInt=window.setInterval(function(){a.initBag()},1e3);this.CacheInt=window.setInterval(function(){a.initCache()},1e3)};TWDB.ClothCalc.initBag=function(){if(typeof this.BagInt=="undefined"){return}if(Bag.loaded){window.clearInterval(this.BagInt);delete this.BagInt;this.InitCount++;this.initFinish()}};TWDB.ClothCalc.initCache=function(){if(typeof this.CacheInt=="undefined"){return}if(TWDB.IndexedDB.state.init!=0){window.clearInterval(this.CacheInt);delete this.CacheInt;if(TWDB.IndexedDB.state.init<0){this.Cache=false;this.InitCount++;this.CacheState()}else if(TWDB.IndexedDB.state.init==1){this.Cache=true;this.initCacheData()}this.InitCount++;this.initFinish()}};TWDB.ClothCalc.initCacheData=function(){if(typeof this.CacheDataInt=="undefined"){TWDB.IndexedDB.get("clothcalc",Character.playerId);var a=this;this.CacheDataInt=window.setInterval(function(){a.initCacheData()},100)}else{if(TWDB.IndexedDB.state.clothcalc!=0){window.clearInterval(this.CacheDataInt);delete this.CacheDataInt;if(TWDB.IndexedDB.state.clothcalc==1){if(typeof TWDB.IndexedDB.data.clothcalc!="undefined"){for(var b in TWDB.IndexedDB.data.clothcalc.data){this.calcdata[b]=TWDB.IndexedDB.data.clothcalc.data[b]}}}this.InitCount++;this.CacheState();this.initFinish()}}};TWDB.ClothCalc.initFinish=function(){if(this.InitCount>=3){delete this.InitCount;this.loaded=true;jQuery("#footer_menu_left div:last-child").append('<img src="'+TWDB.images.ClothCalcButton+'" title="<b> tw-db.info ClothCalc </b>" style="position:absolute;left:240px;top:-15px;cursor:pointer" title=" TW-DB.info Cloth Calc " alt=" TW-DB.info Cloth Calc " onclick="TWDB.ClothCalc.open()"/>');delete this.init;delete this.initBag;delete this.initCache;delete this.initCustom;delete this.initItems;delete this.initJobs;delete this.initSkill;delete this.initFinish}};TWDB.ClothCalc.getGameData=function(a){if(typeof a=="undefined"){this.getState={Skill:false,Items:false};TWDB.Eventer.set("getSkill",'TWDB.ClothCalc.getGameData("Skill")',1);TWDB.Eventer.set("getItems",'TWDB.ClothCalc.getGameData("Items")',1);this.getSkill();this.getItems()}else{this.getState[a]=true;var b=true;for(var c in this.getState){if(!this.getState[c]){b=false;break}}if(b){delete this.getState;TWDB.Eventer.trigger("getGameData")}}},TWDB.ClothCalc.getSkill=function(a){if(typeof a=="undefined"){var b=this;setTimeout(function(){b.getSkill(Character.skills)},10);return}else{this.data.skills={};for(var c in Character.skills){var d=this.SkillToId[c];this.data.skills[d]={id:d,val:Character.skills[c]}}TWDB.Eventer.trigger("getSkill")}},TWDB.ClothCalc.getItems=function(a){if(typeof a=="undefined"){var b=this;jQuery.post("game.php?window=inventory",{},function(a){b.getItems(a)},"json");return}else{this.data.items={};for(var c=0;c<a.wear.length;c++){var d=ItemManager.get(a.wear[c]);if(!this.isItemUsable(d.item_id)){continue}this.data.items[d.item_id]={id:d.item_id}}for(var e in Bag.items){for(var c in Bag.items[e]){var d=ItemManager.get(Number(c));if(!this.isItemUsable(d.item_id)){continue}this.data.items[d.item_id]={id:d.item_id}}}TWDB.Eventer.trigger("getItems")}},TWDB.ClothCalc.getTWDBData=function(){function g(a,b){return a["speed"]>b["speed"]?true:false}var a={};var b="";var c="";var d=[];for(var e in this.data.items){var f=ItemManager.get(e);if(typeof a[f.type]=="undefined"){a[f.type]=""}if(!this.isItemUsable(f.item_id)){continue}if(f.type=="animal"){d.push({id:f.item_id,speed:f.speed})}a[f.type]+=f.item_id+",";if(f.set!==null){c+=f.item_id+","}}d.sort(g);this.calcdata.animals=d;for(var h in this.TypeToId){if(b!=""){b+=";"}b+=this.TypeToId[h]+":";if(typeof a[h]=="undefined"){continue}b+=a[h]}var i="";for(var e in this.data.skills){i+=this.data.skills[e].id+":"+this.data.skills[e].val+";"}var j=jQuery.extend(true,{},this.test);for(var e in j){if(j[e].type=="fort"||j[e].type=="regen"){j[e]["para"]["level"]=Number(Character.level);j[e]["para"]["class"]=Number(this.ClassToId[Character.characterClass]);j[e]["para"]["premium"]=Number(PremiumBoni.hasBonus("regen"))+","+Number(PremiumBoni.hasBonus("automation"))+","+Number(PremiumBoni.hasBonus("money"))+","+Number(PremiumBoni.hasBonus("character"))}}var k='<form name="TWDB_CC_Form" action="http://'+TWDB.url+'/ingame_calc.php" method="post">';k+='<input style="display:none" type="text" name="items" value="'+b+'" />';k+='<input style="display:none" type="text" name="setitems" value="'+c+'" />';k+='<input style="display:none" type="text" name="skill" value="'+i+'" />';k+='<input style="display:none" type="text" name="nick" value="'+Character.name+'" />';k+='<input style="display:none" type="text" name="worldfull" value="'+window.location.host+'" />';k+='<input style="display:none" type="text" name="custom" value=\''+JSON.stringify(j).replace(/'/g,"\\'")+"' />";k+="</form>";k+='</form><script type="text/javascript">document.forms.TWDB_CC_Form.submit();</script></body>';if(typeof this.iframe!="undefined"){jQuery(this.iframe).remove()}this.iframe=jQuery('<iframe width="1px" height="1px" marginwidth="0" marginheight="0" hspace="0" vspace="0" frameborder="0" scrolling="no" allowtransparency="false" style="display:none;" />');jQuery("body").append(this.iframe);var l=this.iframe.get(0);var m=l.contentWindow||l.contentDocument;if(m.document)m=m.document;m.write(k)},TWDB.ClothCalc.isItemUsable=function(a){var b=ItemManager.get(a);if(typeof b=="undefined"){return false}var c=false;if(!this.itemHasBonus(b)){return false}if(b.characterClass!==null&&b.characterClass!==Character.characterClass){return false}if(b.characterSex!==null&&b.characterSex!==Character.characterSex){return false}if(b.level!==null&&b.level>Character.level-Character.itemLevelRequirementDecrease["all"]-(typeof Character.itemLevelRequirementDecrease[b.type]!="undefined"?Character.itemLevelRequirementDecrease[b.type]:0)){return false}return true};TWDB.ClothCalc.itemHasBonus=function(a){if(typeof a.set!="undefined"&&a.set!=null){return true}if(typeof a.speed!="undefined"&&a.speed!=null){return true}if(typeof a.bonus=="undefined"){return false}if(typeof a.bonus.skills!="undefined"){for(var b in a.bonus.skills){if(!jQuery.isFunction(a.bonus.skills[b])){return true}}}if(typeof a.bonus.attributes!="undefined"){for(var b in a.bonus.attributes){if(!jQuery.isFunction(a.bonus.attributes[b])){return true}}}if(typeof a.bonus.fortbattle!="undefined"){for(var b in a.bonus.fortbattle){if(a.bonus.fortbattle[b]>0){return true}}}if(typeof a.bonus.fortbattlesector!="undefined"){for(var b in a.bonus.fortbattlesector){if(a.bonus.fortbattle[b]>0){return true}}}return false};TWDB.ClothCalc.handleTWDBData=function(a){this.calcdata.items=jQuery.extend(true,{},this.data.items);this.calcdata.skills=jQuery.extend(true,{},this.data.skills);this.calcdata.jobs=a.jobs;var b=[];for(var c in JobList){b[JobList[c].shortName]=c}for(var c in this.calcdata.jobs){if(typeof b[this.calcdata.jobs[c].short_name]=="undefined"){if(this.calcdata.jobs[c].short_name=="construction"){this.calcdata.jobs[c].name="Construction";this.calcdata.jobs[c].formular=InternalJobList[0].formular;this.calcdata.jobs[c].gameid=0;this.calcdata.jobs[c].laborpoints.current=0}continue}this.calcdata.jobs[c].gameid=b[this.calcdata.jobs[c].short_name];this.calcdata.jobs[c].name=JobList[b[this.calcdata.jobs[c].short_name]].name;this.calcdata.jobs[c].formular=JobList[b[this.calcdata.jobs[c].short_name]].formular;this.calcdata.jobs[c].laborpoints.current=0}this.calcdata.custom=a.custom;this.calcdata.time=a.time;if(this.Cache){TWDB.IndexedDB.add("clothcalc",{id:Character.playerId,data:this.calcdata})}this.finishOpening()},TWDB.ClothCalc.calcJobs=function(){var skills=Character.skills;var lp=0;var premium=Number(PremiumBoni.hasBonus("money"));for(var jobid in this.calcdata.jobs){this.calcdata.jobs[jobid].laborpoints.skills=eval(this.calcdata.jobs[jobid].formular);this.calcdata.jobs[jobid].laborpoints.sum=this.calcdata.jobs[jobid].laborpoints.cloth;this.calcdata.jobs[jobid].laborpoints.sum+=this.calcdata.jobs[jobid].laborpoints.skills;this.calcdata.jobs[jobid].laborpoints.sum-=this.calcdata.jobs[jobid].difficulty;lp=this.calcdata.jobs[jobid].laborpoints.sum>0?this.calcdata.jobs[jobid].laborpoints.sum:0;this.calcdata.jobs[jobid].values=[];this.calcdata.jobs[jobid].values.experience=Number(this.calcdata.jobs[jobid].experience)*2;this.calcdata.jobs[jobid].values.danger=Number(this.calcdata.jobs[jobid].danger);this.calcdata.jobs[jobid].values.wages=Math.round((.9*this.calcdata.jobs[jobid].wages+5)*Math.pow(lp+1,.2)*(2+premium));this.calcdata.jobs[jobid].values.luck1=Math.round((.9*this.calcdata.jobs[jobid].luck+5)*Math.pow(lp+1,.2)*(5+premium*2.5));this.calcdata.jobs[jobid].values.luck2=Math.round((.9*this.calcdata.jobs[jobid].luck+5)*Math.pow(lp+1,.2)*(15+premium*7.5))}},TWDB.ClothCalc.orderJobs=function(a){function g(a,b){return a["value"]*1>b["value"]*1?e:-e}function f(a,b){return a["value"]>b["value"]?e:-e}var b=[];if(a==this.order.type){this.order.order*=-1}else{this.order.order=-1}this.order.list=[];for(var c in this.calcdata.jobs){switch(a){case"name":var d=this.calcdata.jobs[c].name;if(a!=this.order.type){this.order.order*=-1}break;case"luck":var d=this.calcdata.jobs[c].values.luck1;break;case"laborpoints":var d=this.calcdata.jobs[c].laborpoints.sum;break;case"experience":var d=this.calcdata.jobs[c].values.experience;break;case"wages":var d=this.calcdata.jobs[c].values.wages;break;case"danger":var d=this.calcdata.jobs[c].danger;if(a!=this.order.type){this.order.order*=-1}break;default:var d=this.calcdata.jobs[c].name;this.order.type="name";this.order.order=1;break}b.push({id:c,value:d})}this.order.type=a;var e=this.order.order;if(a=="name"){b.sort(f)}else{b.sort(g)}for(var h=0;h<b.length;h++){this.order.list.push(b[h]["id"])}this.createJobList()},TWDB.ClothCalc.createJobList=function(){this.guiJobSelect.elContent.empty();this.guiJobSelect.value=null;this.guiJobSelect.items=[];for(var i=0;i<this.order.list.length;i++){var jobid=this.order.list[i];if(!this.order.alljobs&&this.calcdata.jobs[jobid].laborpoints.sum<0){continue}var name=this.calcdata.jobs[jobid].name;var skills=Character.bonus_skills;this.calcdata.jobs[jobid].laborpoints.current=eval(this.calcdata.jobs[jobid].formular)+WearSet.getWorkPointAddition(this.calcdata.jobs[jobid].gameid)-this.calcdata.jobs[jobid].difficulty;name+=" ["+this.calcdata.jobs[jobid].laborpoints.current+"/"+this.calcdata.jobs[jobid].laborpoints.sum+"] ";switch(this.order.type){case"luck":name+="$"+this.calcdata.jobs[jobid].values.luck1+" - "+"$"+this.calcdata.jobs[jobid].values.luck2;break;case"laborpoints":name+=this.calcdata.jobs[jobid].laborpoints.sum;break;case"experience":name+=this.calcdata.jobs[jobid].values.experience+"exp";break;case"wages":name+="$"+this.calcdata.jobs[jobid].values.wages;break;case"danger":name+=this.calcdata.jobs[jobid].danger+"!";break}if(this.calcdata.jobs[jobid].laborpoints.sum<0){name='<span style="color:red;">'+name+"</span>"}else{if(this.calcdata.jobs[jobid].laborpoints.current<0){name='<span style="color:yellow;">'+name+"</span>"}}this.guiJobSelect.addItem(jobid,name)}if(typeof this.calcdata.jobs[this.selectedJob]!="undefined"){var string=this.calcdata.jobs[this.selectedJob].name.substring(0,20)+" ["+this.calcdata.jobs[this.selectedJob].laborpoints.current+"/"+this.calcdata.jobs[this.selectedJob].laborpoints.sum+"]";this.guiJobTitle.html(string)}},TWDB.ClothCalc.createCustomList=function(){this.guiCustomSelect.elContent.empty();this.guiCustomSelect.value=null;this.guiCustomSelect.items=[];for(var a in this.calcdata.custom){var b=this.calcdata.custom[a].name;this.guiCustomSelect.addItem(a,b)}if(typeof this.calcdata.custom[this.selectedCustom]!="undefined"){var c=this.calcdata.custom[this.selectedCustom].name.substring(0,25);this.guiCustomTitle.html(c)}},TWDB.ClothCalc.checkSkill=function(){for(var a in this.data.skills){if(typeof this.calcdata.skills[a]=="undefined"){return true}if(this.data.skills[a].val!=this.calcdata.skills[a].val){return true}}return false},TWDB.ClothCalc.checkItems=function(){for(var a in this.data.items){if(typeof this.calcdata.items[a]=="undefined"){return true}}for(var a in this.calcdata.items){if(typeof this.data.items[a]=="undefined"){return true}}return false},TWDB.ClothCalc.checkData=function(){var a=this.checkItems();var b=this.checkSkill();this.guiData.children().remove();if(a||b){var c="the Data is outdated, click for Update";if(a){c+=" [Inventory]"}if(b){c+=" [Skill]"}var d=jQuery('<div title="'+c+'" style="position:absolute;top:0px;right:0px;width:20px;height:20px;background: url('+TWDB.images.iconData+')no-repeat 0px 0px;" />');this.up2date=false}else{var d=jQuery('<div title="the Data is up to Date" style="position:absolute;top:0px;right:0px;width:20px;height:20px;background: url('+TWDB.images.iconData+')no-repeat -20px 0px;" /></div>');this.up2date=true}this.guiData.append(d);var e=this},TWDB.ClothCalc.finishOpening=function(){this.calcJobs();this.order.order*=-1;this.orderJobs(this.order.type);this.createCustomList();if(typeof this.window!="undefined"){this.checkData();delete this.eventOpen;this.window.hideLoader()}};TWDB.ClothCalc.open=function(){if(this.loaded==false){return}if(wman.getById(this.uid)){return}if(typeof this.eventOpen!="undefined"){TWDB.Eventer.remove("getGameData",this.eventOpen)}var a=0;for(var b in this.calcdata.jobs){a++;break}if(a==0){this.eventOpen=TWDB.Eventer.set("getGameData","TWDB.ClothCalc.getTWDBData()",1);this.getGameData()}else{this.eventOpen=TWDB.Eventer.set("getGameData","TWDB.ClothCalc.finishOpening()",1);this.getGameData()}var c=wman.getById(Inventory.uid);Wear.open();var d=wman.getById(Inventory.uid);if(typeof c=="undefined"&&typeof d!="undefined"){d.fireEvent(TWE("WINDOW_CLOSE"),d)}var e=this;this.selectedJob=0;this.guiJobDiv=jQuery('<div style="position:absolute;top:0px;left:0px;height:100%;width:100%;" />');var f=jQuery('<div style="position:absolute;top:10px;left:0px;width:100%" />');f.append('<img src="'+TWDB.images.iconName+'" title=" order by name " alt=" order by name " onclick="javascript:TWDB.ClothCalc.orderJobs(\'name\')" style="margin:0px 2px 0px 2px;cursor:pointer;" />');f.append('<img src="'+TWDB.images.iconExperience+'" title=" order by experience " alt=" order by experience " onclick="javascript:TWDB.ClothCalc.orderJobs(\'experience\')" style="margin:0px 2px 0px 2px;cursor:pointer;" />');f.append('<img src="'+TWDB.images.iconDollar+'" title=" order by wages " alt=" order by wages " onclick="javascript:TWDB.ClothCalc.orderJobs(\'wages\')" style="margin:0px 2px 0px 2px;cursor:pointer;" />');f.append('<img src="'+TWDB.images.iconLuck+'" title=" order by luck " alt=" order by luck " onclick="javascript:TWDB.ClothCalc.orderJobs(\'luck\')" style="margin:0px 2px 0px 2px;cursor:pointer;" />');f.append('<img src="'+TWDB.images.iconDanger+'" title=" order by danger " alt=" order by danger " onclick="javascript:TWDB.ClothCalc.orderJobs(\'danger\')" style="margin:0px 2px 0px 2px;cursor:pointer;" />');f.append('<img src="'+TWDB.images.iconLaborpoints+'" title=" order by workpoints " alt=" order by workpoints " onclick="javascript:TWDB.ClothCalc.orderJobs(\'laborpoints\')" style="margin:0px 2px 0px 2px;cursor:pointer;" />');this.guiJobDiv.append(f);var g=jQuery('<div style="position:absolute;top:35px;left:0px;width:100%" />');this.guiJobTitle=jQuery('<div style="float:left;font-weight:bold; text-align:center;margin: 3px 0 0 0;width: 207px;">Select job here >></div>');g.append(this.guiJobTitle);var h=function(){if(this.isSelected()){e.order.alljobs=false;e.createJobList()}else{e.order.alljobs=true;e.createJobList()}};var i=(new tw2gui.checkbox).setSelected(!this.order.alljobs).setCallback(h).getMainDiv();var j=jQuery('<span style="float:left;" title="Hide Jobs you could not do"/>').append(i);g.append(j);var k=jQuery("<div style=\"background:url('/images/window/character/title_editbtn.jpg') no-repeat scroll 0 0 transparent;cursor: pointer;height: 20px;width: 26px;float:left;\" />");k.click(function(){e.createJobList();this.guiJobSelect.toggleDisplay()}.bind(this));g.append(k).append(this.guiJobSelect.getMainDiv());this.guiJobDiv.append(g);this.guiJobSkills=jQuery('<div style="position:absolute;top:60px;left:1px;width:252px;height:30px;display:block;" />');this.guiJobDiv.append(this.guiJobSkills);this.guiBag.children().remove();this.guiJobDiv.append(this.guiBag);this.guiJobDiv.append(this.guiCopyright);this.selectedCustom=0;this.guiCustomDiv=jQuery('<div style="position:absolute;top:0px;left:0px;height:100%;width:100%;" />');this.guiCustomDiv.hide();var l=jQuery('<div style="position:absolute;top:35px;left:0px;width:100%" />');this.guiCustomTitle=jQuery('<div style="float:left;font-weight:bold; text-align:center;margin: 3px 0 0 0;width: 227px;">Select job here >></div>');l.append(this.guiCustomTitle);var m=jQuery("<div style=\"background:url('/images/window/character/title_editbtn.jpg') no-repeat scroll 0 0 transparent;cursor: pointer;height: 20px;width: 26px;float:left;\" />");m.click(function(){e.createJobList();this.guiCustomSelect.toggleDisplay()}.bind(this));l.append(m).append(this.guiCustomSelect.getMainDiv());this.guiCustomDiv.append(l);this.guiData.unbind("click");this.guiData.click(function(){e.DataUpdate()});var n=function(a,b){e.showTab(a,b)};this.window=wman.open(this.uid,null,"nominimize noreload").setMiniTitle("TWDB Cloth Calc").setTitle("tw-db.info Cloth Calc").addTab("Jobs","Jobs",n).addTab("Custom","Custom",n).appendToContentPane(this.guiJobDiv).appendToContentPane(this.guiCustomDiv).appendToContentPane(this.guiCopyright).appendToContentPane(this.guiData).appendToContentPane(this.guiCache);this.window.showLoader();this.window.restoreAppearance({h:410,w:310,x:130,y:130});return};TWDB.ClothCalc.showTab=function(a,b){this.window.activateTab(b);this.window.showLoader();this.guiBag.children().remove();switch(b){case"Jobs":this.guiCustomDiv.hide();this.guiJobDiv.append(this.guiBag);if(this.selectedJob!=0){this.switchJob(this.selectedJob)}this.guiJobDiv.show();break;case"Custom":this.guiJobDiv.hide();this.guiCustomDiv.append(this.guiBag);if(this.selectedCustom!=0){this.switchCustom(this.selectedCustom)}this.guiCustomDiv.show();break}this.window.hideLoader()},TWDB.ClothCalc.switchJob=function(a){if(typeof this.calcdata.jobs[a]=="undefined"||typeof this.calcdata.jobs[a].cloth=="undefined"){return}var b=this;document.getElementById("minimap_job_id").value=this.calcdata.jobs[a].gameid;this.selectedJob=a;var c=this.calcdata.jobs[this.selectedJob].name.substring(0,20)+" ["+this.calcdata.jobs[this.selectedJob].laborpoints.current+"/"+this.calcdata.jobs[this.selectedJob].laborpoints.sum+"]";this.guiJobTitle.html(c);this.showBagItems(this.calcdata.jobs[a].cloth,"jobs");this.guiJobSkills.children().remove();var d=this.calcdata.jobs[a].formular.replace(/ /g,"");var e=d.split("+");for(var f=0;f<e.length;f++){var g=e[f].split("*");if(g.length>1&&Number(g[0])==g[0]){for(var h=0;h<g[0];h++){var i=g[1].split(".");if(typeof i[1]!="undefined"){var j=jQuery('<div style="float:left;widht;30px;heigth:30px;" />');this.guiJobSkills.append(j.append(this.getSkillImg(i[1],30)))}}}}},TWDB.ClothCalc.switchCustom=function(a){if(typeof this.calcdata.custom[a]=="undefined"||typeof this.calcdata.custom[a].cloth=="undefined"){return}var b=this;this.selectedCustom=a;var c=this.calcdata.custom[a].name.substring(0,25);this.guiCustomTitle.html(c);this.showBagItems(this.calcdata.custom[a].cloth,"custom")},TWDB.ClothCalc.showBagItems=function(a,b){this.guiBag.children().remove();this.bagItems={};var c=this;var d=false;addItem=function(a){var d=ItemManager.get(a);var e=new InventoryItem(d);var f=e.getMainDiv().clone(true);var g=function(a){return function(){c.clickHandler(this,a,b)}}(a);jQuery(f).removeAttr("id");jQuery(f).children(".count").remove();jQuery(f).children("img:first-child").removeAttr("id").click(g);jQuery(f).appendTo(c.guiBag);c.bagItems[a]=jQuery(f)};for(var e in a){var f=a[e].id;var g=ItemManager.get(f);addItem(f);if(g.type=="animal"){d=true}}if(!d&&this.calcdata.animals.length>0){addItem(this.calcdata.animals[0]["id"])}this.checkWear()};TWDB.ClothCalc.clickHandler=function(a,b,c){var d=Bag.getItemByItemId(b);if(d===undefined){return false}if(Wear.carry(d)){this.carryStack[b]=a;if(this.carryInterval===false){var e=this;switch(c){case"jobs":var f=function(){e.checkWear();e.createJobList()};break;case"custom":var f=function(){e.checkWear()};break}TWDB.Eventer.set("carryChecker",f,1);var g=function(){e.carryChecker()};this.carryInterval=setInterval(g,100)}jQuery(a).css("opacity","0.3")}},TWDB.ClothCalc.carryChecker=function(){var a=0;for(var b in this.carryStack){var c=Bag.getItemByItemId(b);if(c==undefined||c.elImg.css("opacity")==1){jQuery(this.carryStack[b]).css("opacity","1.0");delete this.carryStack[b]}else{a++}}if(a==0){clearInterval(this.carryInterval);this.carryInterval=false;TWDB.Eventer.trigger("carryChecker")}},TWDB.ClothCalc.checkWear=function(){for(var a in Wear.wear){if(jQuery(Wear.wear[a].divMain).parent().length){var b=jQuery(Wear.wear[a].divMain).attr("id");var c=b.substr(9);if(typeof this.bagItems[c]!="undefined"){this.bagItems[c].css("opacity","0.5")}}}};TWDB.ClothCalc.DataUpdate=function(){if(!this.up2date){TWDB.ClothCalc.getTWDBData()}},TWDB.ClothCalc.CacheState=function(){this.guiCache.children().remove();var a=false;var b=this;if(TWDB.IndexedDB.state.init<0){switch(TWDB.IndexedDB.state.init){case-1:a=jQuery('<div title="Your Browser has no IndexedDB Support, there will be nothing cached" style="position:absolute;top:0px;left:0px;width:20px;height:20px;display:block;background: url('+TWDB.images.iconCache+')no-repeat -20px 0px;" />');break;case-2:a=jQuery('<div title="Please allow this site to use the local storage of your Broweser (IndexedDB)" style="position:absolute;top:0px;left:0px;width:20px;height:20px;display:block;background: url('+TWDB.images.iconCache+')no-repeat -20px 0px;" />');break;case-3:a=jQuery('<div title="?cache_error" style="position:absolute;top:0px;left:0px;width:20px;height:20px;display:block;cursor: pointer;background: url('+TWDB.images.iconCache+')no-repeat 0px 0px;" />');a.click(function(){b.Cache=false;TWDB.IndexedDB.reset()});break}}else if(typeof TWDB.IndexedDB.state.clothcalc!="undefined"&&TWDB.IndexedDB.state.clothcalc<0){a=jQuery('<div title="?cache_error" style="position:absolute;top:0px;left:0px;width:20px;height:20px;display:block;cursor: pointer;background: url('+TWDB.images.iconCache+')no-repeat 0px 0px;" />');a.click(function(){b.Cache=false;TWDB.IndexedDB.reset()})}if(a){this.guiCache.append(a)}},TWDB.ClothCalc.getSkillImg=function(a,b){b*=2;var c=110/b;var d=275/c;switch(a){case"build":var e="skills_strength.png";var f=0;break;case"punch":var e="skills_strength.png";var f=1;break;case"tough":var e="skills_strength.png";var f=2;break;case"endurance":var e="skills_strength.png";var f=3;break;case"health":var e="skills_strength.png";var f=4;break;case"ride":var e="skills_flexibility.png";var f=0;break;case"reflex":var e="skills_flexibility.png";var f=1;break;case"dodge":var e="skills_flexibility.png";var f=2;break;case"hide":var e="skills_flexibility.png";var f=3;break;case"swim":var e="skills_flexibility.png";var f=4;break;case"aim":var e="skills_dexterity.png";var f=0;break;case"shot":var e="skills_dexterity.png";var f=1;break;case"pitfall":var e="skills_dexterity.png";var f=2;break;case"finger_dexterity":var e="skills_dexterity.png";var f=3;break;case"repair":var e="skills_dexterity.png";var f=4;break;case"leadership":var e="skills_charisma.png";var f=0;break;case"tactic":var e="skills_charisma.png";var f=1;break;case"trade":var e="skills_charisma.png";var f=2;break;case"animal":var e="skills_charisma.png";var f=3;break;case"appearance":var e="skills_charisma.png";var f=4;break;default:return jQuery("<div />")}try{var g=Character.skill_titles[a]}catch(h){var g=""}e='<img src="'+cdnURL+"/images/skill/"+e+'" width="'+d+'" height="'+b+'" title="'+g+'" style="margin-left:-'+f*b/2/1+'px" />';e=jQuery(e);var i='<div style="display:block;overflow:hidden;width:'+b/2+"px;height:"+b/2+'px;"/>';i=jQuery(i);return i.append(e)};TWDB.MapEnhance=new Object({uid:"twdb_mapenhance",init:function(){if(typeof Character=="undefined"){(new UserMessage("In order to use tw-db.info userscript<br />you have to be logged in on your The West game",UserMessage.TYPE_FATAL)).show();return false}this.changeMinimap();this.showAllJobs();return true},changeMinimap:function(){jQuery("#minimap_micro").css("background-image","url(data:"+TWDB.images.miniMap+")")},showAllJobs:function(){if(typeof WMap.mapData.check_job_points!="undefined"){var JobPointCheck=WMap.mapData.check_job_points.toString();JobPointCheck=JobPointCheck.replace(/return 0;/gi,"return 2;");eval("WMap.mapData.check_job_points = "+JobPointCheck)}WMinimap.updateJobs();WMap.mapData.update_all_jobs()}});TWDB.IndexedDB=new Object({version:1,uid:"twdb",state:{init:0},data:{},init:function(){var a=this;this.state.init=0;try{this.indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB;this.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction;this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange;if(this.indexedDB){var b=this.indexedDB.open(this.uid);b.onerror=function(b){a.state.init=-2;a.error(b)};b.onsuccess=function(b){a.database=b.target.result||b.result;if(!a.database.version){a.setVersion(0)}else if(a.database.version!=a.version){a.setVersion(a.database.version)}else{a.state.init=1}}}else{this.state.init=-1}}catch(c){this.state.init=-3;this.error(c)}},error:function(a){(new UserMessage("an error on Indexed DB occured",UserMessage.TYPE_FATAL)).show();try{console.log("[tw-db script][IndexedDB] ",a.message)}catch(b){}},setVersion:function(a){try{var b=this;if(a<1){var c=this.database.setVersion(1);c.onerror=function(a){b.state.init=-3;b.error(a)};c.onabort=function(a){b.state.init=-3;b.error(a)};c.onblocked=function(a){b.state.init=-3;b.error(a)};c.onsuccess=function(a){b.database.createObjectStore("clothcalc",{keyPath:"id",autoIncrement:false},false);b.state.init=1}}}catch(d){this.state.init=-3;this.error(d);this.resetVersion()}},reset:function(){try{var a=this;var b=this.database.setVersion(0);b.onerror=function(b){a.state.init=-3;a.error(b)};b.onabort=function(b){a.state.init=-3;a.error(b)};b.onblocked=function(b){a.state.init=-3;a.error(b)};b.onsuccess=function(b){try{a.database.deleteObjectStore("clothcalc")}catch(c){a.state.init=-3;a.error(c)}(new UserMessage("?pagereload",UserMessage.TYPE_FATAL)).show()}}catch(c){this.state.init=-3;this.error(c)}},add:function(a,b){this.state[a]=0;if(!this.database){this.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);return false}try{var c=this;var d=c.database.transaction([a],1);d.onerror=function(b){c.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);c.error(b)};d.onabort=function(b){c.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);c.error(b)};var e=d.objectStore(a);var f=e.clear();f.onerror=function(b){c.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);c.error(b)};var d=c.database.transaction([a],this.IDBTransaction.READ_WRITE);d.onerror=function(b){c.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);c.error(b)};d.onabort=function(b){c.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);c.error(b)};if(typeof b.id!="undefined"){var e=d.objectStore(a);var f=e.put(b);f.onerror=function(b){c.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);c.error(b)};f.onsuccess=function(b){c.state[a]=1;TWDB.Eventer.trigger("IndexedDB_"+a)}}return true}catch(g){c.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a)}},get:function(a,b){this.state[a]=0;if(typeof this.data[a]!="undefined"){delete this.data[a]}if(!this.database){this.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);return false}try{var c=this;var d=this.database.transaction([a],this.IDBTransaction.READ);d.onerror=function(b){c.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);c.error(b)};d.onabort=function(b){c.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);c.error(b)};var e=d.objectStore(a);var f=e.get(b);f.onerror=function(b){c.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);c.error(b)};f.onsuccess=function(b){c.data[a]=b.target.result;TWDB.Eventer.trigger("IndexedDB_"+a);c.state[a]=1}}catch(g){this.state[a]=-1;TWDB.Eventer.trigger("IndexedDB_"+a);return false}}});TWDB.Eventer=new Object({events:{},set:function(a,b,c){if(typeof this.events[a]=="undefined"){this.events[a]={}}if(typeof c=="undefined"){var c=false}var d=Number((new Date).getTime());this.events[a][d]={id:d,call:b,count:c};return d},trigger:function(a){if(typeof this.events[a]=="undefined"){return}var b=0;for(var c in this.events[a]){if(typeof this.events[a][c].id=="undefined"){continue}window.setTimeout(this.events[a][c].call,10);if(this.events[a][c].count==false){b++;continue}this.events[a][c].count--;if(this.events[a][c].count>0){b++;continue}}if(b==0){delete this.events[a]}},remove:function(a,b){if(typeof this.events[a]=="undefined"||typeof this.events[a][b]=="undefined"){return false}delete this.events[a][b]}});TWDB.ClothCalcInit=function(){if(!window["jQuery"]||!window["TheWestApi"]||!TheWestApi.version){return}clearInterval(TWDB.ClothCalcInt);delete TWDB.ClothCalcInt;if(TheWestApi.version>=1.34){try{TheWestApi.register("twdb_clothcalc","tw-db.info Cloth Calc","1.34",TWDB.gameversion,"scoobydoo [tw-db.info]","http://tw-db.info")}catch(a){(new UserMessage("failed to register tw-db.info script on TheWestApi",UserMessage.TYPE_FATAL)).show()}if(TWDB.gameversion<TheWestApi.version){TheWestApi.displayOutdated()}try{TWDB.IndexedDB.init()}catch(a){(new UserMessage("tw-db.info cloth calculation script has encountered an unknown error! Please, provide us with this text:\n\n"+a,UserMessage.TYPE_ERROR)).show()}try{TWDB.MapEnhance.init()}catch(a){(new UserMessage("tw-db.info cloth calculation script has encountered an unknown error! Please, provide us with this text:\n\n"+a,UserMessage.TYPE_ERROR)).show()}try{TWDB.ClothCalc.init()}catch(a){(new UserMessage("tw-db.info cloth calculation script has encountered an unknown error! Please, provide us with this text:\n\n"+a,UserMessage.TYPE_ERROR)).show()}}else{delete TWDB}};if((location.href.indexOf(".the-west.")!=-1||location.href.indexOf(".tw.innogames.")!=-1)&&location.href.indexOf("game.php")!=-1){TWDB.ClothCalcInt=setInterval(function(){TWDB.ClothCalcInit()},200)}});