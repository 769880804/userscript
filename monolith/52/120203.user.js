// ==UserScript==
// @name           Yahoo Messenger Emoticons for Social Networks test
// @namespace      http://me.zing.vn/dinhkhanh_dk
// @description    Su dung Yahoo Messenger Emoticons cho cac mang xa hoi Facebook, Twitter, Youtube... Thanks to VOZ Forums
// @include        *
// @version        1.0.0.1
// ==/UserScript==

var emoticonCodes = new Array(
		':))',
		':((',
		';))',
		'>:D<',
		';;)',
		':D',
		':-/',
		':x',
		':">',
		'>:P',
		':*',
		'=((',
		':O',
		'x(',
		':>',
		'B)',
		':-S',
		'#:-S',
		'>:)',
		':(',
		':)',
		':|',
		'/:)',
		'=))',
		'O:-)',
		':B',
		'=;',
		':-c',
		':)]',
		'~x(',
		':-h',
		':-t',
		'8->',
		'i-)',
		'8-|',
		'l-)',
		':-&',
		':-$',
		'[-(',
		':O)',
		'8-}',
		'<:-p',
		'(:|',
		'=p~',
		':-?',
		'#-o',
		'=d>',
		':-ss',
		'@-)',
		':^o',
		':-w',
		':-<',
		':P',
		'<):)',
		'X_X',
		':!!',
		'\m/',
		':-q',
		':-bd',
		'^#(^',
		':o3',
		':-??',
		'%-(',
		':@)',
		'3:-o',
		':(|)',
		'~:>',
		'@);-',
		'%%-',
		'**==',
		'(~~)',
		'~O)',
		'*-:)',
		'8-x',
		'=:)',
		'>-)',
		':-L',
		'[-O<',
		'$-)',
		':-"',
		'b-(',
		':)>-',
		'[-x',
		'\:d/',
		'>:/',
		';)',
		':-@',
		'^:)^',
		':-j',
		'(*)',
		'o->',
		'o=>',
		'o-+',
		'(%)',
		':bz'				
 	);
var emoticonFiles = new Array(
		'21.gif',
		'20.gif',
		'71.gif',
		'6.gif',
		'5.gif',
		'4.gif',
		'7.gif',
		'8.gif',
		'9.gif',
		'47.gif',
		'11.gif',
		'12.gif',
		'13.gif',
		'14.gif',
		'15.gif',
		'16.gif',
		'17.gif',
		'18.gif',
		'19.gif',
		'2.gif',
		'1.gif',
		'22.gif',
		'23.gif',
		'24.gif',
		'25.gif',
		'26.gif',
		'27.gif',
		'101.gif',
		'100.gif',
		'102.gif',
		'103.gif',
		'104.gif',
		'105.gif',
		'28.gif',
		'29.gif',
		'30.gif',
		'31.gif',
		'32.gif',
		'33.gif',
		'34.gif',
		'35.gif',
		'36.gif',
		'37.gif',
		'38.gif',
		'39.gif',
		'40.gif',
		'41.gif',
		'42.gif',
		'43.gif',
		'44.gif',
		'45.gif',
		'46.gif',
		'10.gif',
		'48.gif',
		'109.gif',
		'110.gif',
		'111.gif',
		'112.gif',
		'113.gif',
		'114.gif',
		'108.gif',
		'106.gif',
		'107.gif',
		'49.gif',
		'50.gif',
		'51.gif',
		'52.gif',
		'53.gif',
		'54.gif',
		'55.gif',
		'56.gif',
		'57.gif',
		'58.gif',
		'59.gif',
		'60.gif',
		'61.gif',
		'62.gif',
		'63.gif',
		'64.gif',
		'65.gif',
		'66.gif',
		'67.gif',
		'68.gif',
		'69.gif',
		'70.gif',
		'3.gif',
		'76.gif',
		'77.gif',
		'78.gif',
		'79.gif',
		'72.gif',
		'73.gif',
		'74.gif',
		'75.gif',
		'115.gif'
	);
function replaceByClass(className, obj) {
    if (obj.getElementsByClassName) {
        var nodes = obj.getElementsByClassName(className);
        for (i in nodes) {
            if (typeof (nodes[i].innerHTML) == 'string') {
                changeEmoticon(nodes[i]);
            }
        }
    }
}

function changeEmoticon(node) {
    node.innerHTML = node.innerHTML.replace(/&quot;\)/g, '&quot; )');
	var links = "<img src=\'http://l.yimg.com/us.yimg.com/i/mesg/emoticons7/";
	for (i = 0; i <=95; i++){
		node.innerHTML = node.innerHTML.replace(emoticonCodes[i], links.concat(emoticonLinks[i]));
	} 
}
function nodeInserted(event) {
    commonInsert(event.target);
}commonInsert(document);
document.addEventListener('DOMNodeInserted', function(event) {
        commonInsert(event.target);
    }, false);