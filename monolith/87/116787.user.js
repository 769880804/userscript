// ==UserScript==
// @name           GC Simple Smilies
// @namespace      delta68.simple_smilies
// @include        http://www.geocaching.com/seek/log.aspx*
// @include        http://www.geocaching.com/track/log.aspx*
// @include        https://www.geocaching.com/seek/log.aspx*
// @include        https://www.geocaching.com/track/log.aspx*
// ==/UserScript==

var s = getSmallContainingSmilieLink()
var str="<div style='BORDER-RIGHT: groove;BORDER-TOP: groove;BORDER-LEFT: groove;BORDER-BOTTOM: groove;width: 100px'>"
str=str + "Insert Smilie:<br><a onclick=\"var txt='[:)]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='smile' border='0' hspace='10' src='../images/icons/icon_smile.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[:D]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='big smile' border='0' hspace='10' src='../images/icons/icon_smile_big.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[8D]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='cool' border='0' hspace='10' src='../images/icons/icon_smile_cool.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[:I]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='blush' border='0' hspace='10' src='../images/icons/icon_smile_blush.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[:P]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='tongue' border='0' hspace='10' src='../images/icons/icon_smile_tongue.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[}:)]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='evil' border='0' hspace='10' src='../images/icons/icon_smile_evil.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[;)]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='wink' border='0' hspace='10' src='../images/icons/icon_smile_wink.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[:o)]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='clown' border='0' hspace='10' src='../images/icons/icon_smile_clown.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[B)]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='black eye' border='0' hspace='10' src='../images/icons/icon_smile_blackeye.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[8]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='eightball' border='0' hspace='10' src='../images/icons/icon_smile_8ball.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[:(]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='frown' border='0' hspace='10' src='../images/icons/icon_smile_sad.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[8)]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='shy' border='0' hspace='10' src='../images/icons/icon_smile_shy.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[:O]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='shocked' border='0' hspace='10' src='../images/icons/icon_smile_shock.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[:(!]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='angry' border='0' hspace='10' src='../images/icons/icon_smile_angry.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[xx(]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='dead' border='0' hspace='10' src='../images/icons/icon_smile_dead.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[|)]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='sleepy' border='0' hspace='10' src='../images/icons/icon_smile_sleepy.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[:X]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='kisses' border='0' hspace='10' src='../images/icons/icon_smile_kisses.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[^]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='approve' border='0' hspace='10' src='../images/icons/icon_smile_approve.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[V]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='disapprove' border='0' hspace='10' src='../images/icons/icon_smile_dissapprove.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "<a onclick=\"var txt='[?]';var logtext = document.getElementById('ctl00_ContentBody_LogBookPanel1_uxLogInfo');if (logtext.selectionStart || logtext.selectionStart == '0') {var startPos = logtext.selectionStart;var endPos = logtext.selectionEnd;logtext.value = logtext.value.substring(0, startPos) + txt + logtext.value.substring(endPos, logtext.value.length);} else {logtext.value += txt;};logtext.focus();logtext.setSelectionRange(startPos+txt.length,startPos+txt.length);\"><img alt='question' border='0' hspace='10' src='../images/icons/icon_smile_question.gif' WIDTH='15' HEIGHT='15'></a>"
str=str + "</div>"
s.innerHTML=str

function getSmallContainingSmilieLink()
{var p = document.getElementsByTagName("small");
	for(var i=0;i<p.length;i++)
	{
		if(p.item(i).innerHTML.indexOf('Insert Smilie')>0)
		{return(p.item(i))}
	}
}
