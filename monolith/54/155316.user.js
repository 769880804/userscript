var scriptMetaStr = (function(){ 
// ==UserScript==
// @id FBMWAddon
// @name FB MafiaWars Addon
// @namespace http://userscripts.org/scripts/review/155316
// @updateURL http://userscripts.org/scripts/review/155316.meta.js
// @copyright (C) David Cabrera 2010 - 2012.
// @author David Cabrera
// @version 0.8.70 (b17)
// @description http://userscripts.org/scripts/review/155316
// @contributionURL https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=CQVWPSUMDKW5N
// @include http://facebook.mafiawars*/mwfb/remote/html_server.php*
// @include https://facebook.mafiawars*/mwfb/remote/html_server.php*
// ==/UserScript==
}).toString();

/**
 * @copyright 2012 David Cabrera. [http://www.facebook.com/edacmo]
 * 
 * License
 * -----------------------------------------------------------------
 * 
 * Attribution-NonCommercial-NoDerivs 3.0 Unported (CC BY-NC-ND 3.0)
 * 
 * THE WORK (AS DEFINED BELOW) IS PROVIDED UNDER THE TERMS OF 
 * THIS CREATIVE COMMONS PUBLIC LICENSE ("CCPL" OR "LICENSE"). 
 * THE WORK IS PROTECTED BY COPYRIGHT AND/OR OTHER APPLICABLE LAW. 
 * ANY USE OF THE WORK OTHER THAN AS AUTHORIZED 
 * UNDER THIS LICENSE OR COPYRIGHT LAW IS PROHIBITED.
 * BY EXERCISING ANY RIGHTS TO THE WORK PROVIDED HERE, 
 * YOU ACCEPT AND AGREE TO BE BOUND BY THE TERMS OF THIS LICENSE. 
 * TO THE EXTENT THIS LICENSE MAY BE CONSIDERED TO BE A CONTRACT, 
 * THE LICENSOR GRANTS YOU THE RIGHTS CONTAINED HERE 
 * IN CONSIDERATION OF YOUR ACCEPTANCE OF SUCH TERMS AND CONDITIONS.
 * 
 * The full license: 
 * http://creativecommons.org/licenses/by-nc-nd/3.0/legalcode
 * -----------------------------------------------------------------
 */


"use strict";


var Logger={log:function(b,c){var a=(new Date()).toLocaleTimeString();if(Util.isObject(c)){c=(c.message?c.message:Util.toJSON(c))}if(typeof(GM_log)!=="undefined"){GM_log(AppInfo.id+" "+b+" ("+a+"): "+c)}else{(console||unsafeWindow.console).log(AppInfo.id+" "+b+" ("+a+"): "+c)}},debug:function(a){if(UserConfig.main.debugMode!==true){return}Logger.log("DEBUG",a)},error:function(a){Logger.log("ERROR",a)},object:function(a){(console||unsafeWindow.console).log(a)}};var AppInfo={},MWFB,$;var BrowserStorage={setValue:null,getValue:null,deleteValue:null};var Chromium={has_filesystem:false,avail:(typeof chrome!=="undefined"&&typeof chrome.extension!=="undefined"),sendRequest:function(b,a){if(Chromium.avail){chrome.extension.sendRequest(a,b)}else{b(false)}},getBookmarks:function(b){var a=[];Chromium.sendRequest(function(d){if(d===false){return}function c(f){try{Util.each(f,function(i,h){if(h.children){c(h.children)}else{if(h.url){a.push({title:h.title,uri:h.url})}}})}catch(g){}}c(d);b&&b(a)},{action:"bookmark"});return a}};function MWAddonCity(d,c,f,g,a,b){this.name=d||"Unknow City";this.ratio=f||1;this.hasCrew=g===true;this.currency=a||"$";this.enabled=c===true;this.cashIcon=b;return this}MWAddonCity.prototype.toString=function(){return this.name};var global={USER_ID:"",PERSON_ID:"",mw_locale:"en_US",zGraphicsURL:"http://mwfb.static.zynga.com/mwfb/graphics/",location:null,mwcom:false,is_unframed:false,xd_support:false,currentURL:"",UserProfiles:{},AjaxRequests:{},Popups:{},showPopup:function(b){var a=global.Popups[b];return a&&a.popup&&a.popup.show()},pages:{story_controller:PageJob,job_controller:PageJob,job_view_stage_jobs:PageJob,map_controller:PageJobMap,collection_controller:PageCollection,clan_controller:PageClan,stats_controller:PageProfile,war_controller:PageWar,fight_controller:PageFight,Lobby_marketplace:PageArenaMarket},cities:{each:function(a){Util.each(global.cities,function(c,b){if(b.name&&b.enabled===true){return a(c,b)}})}},cityNames:null,city:function(a){return(global.cities[a]||new MWAddonCity("Unknow City",true,1,false,"$"))},addCity:function(m,h,g,l,k,j,i){if(Util.isNumber(m)&&Util.isString(h)){global.cities[m]=new MWAddonCity(h,g,l,k,j,i);global.cities[m].id=Number(m)}},User:{cash_by_city:function(){return unsafeWindow.User.cash_by_city},locale:function(){return unsafeWindow.User.locale},level:function(){return unsafeWindow.User.user_level||parseInt($("#user_level").text())},health:function(){return unsafeWindow.User.health},max_health:function(){return unsafeWindow.User.max_health},energy:function(){return unsafeWindow.User.energy},max_energy:function(){return unsafeWindow.User.max_energy},stamina:function(){return unsafeWindow.User.stamina},max_stamina:function(){return unsafeWindow.User.max_stamina},expToNextLevel:function(){return unsafeWindow.User.exp_to_next_level},expForThisLevel:function(){return unsafeWindow.User.exp_for_this_level},cash:function(){return unsafeWindow.User.cash},reward_points:function(){return unsafeWindow.User.favor},mafia_size:function(){return unsafeWindow.User.mafia_size},percent:{experience:function(){return parseInt(Util.percent(unsafeWindow.User.exp_to_next_level,unsafeWindow.User.exp_for_this_level))},stamina:function(){return parseInt(Util.percent(unsafeWindow.User.stamina,unsafeWindow.User.max_stamina))},energy:function(){return parseInt(Util.percent(unsafeWindow.User.energy,unsafeWindow.User.max_energy))},health:function(){return parseInt(Util.percent(unsafeWindow.User.health,unsafeWindow.User.max_health))}},ratio:{experience:function(){return Util.toFixed(unsafeWindow.User.exp_to_next_level/(unsafeWindow.User.energy+unsafeWindow.User.stamina))},stamina:function(){return Util.toFixed(unsafeWindow.User.exp_to_next_level/unsafeWindow.User.stamina)},energy:function(){return Util.toFixed(unsafeWindow.User.exp_to_next_level/unsafeWindow.User.energy)}},powerPacks:function(){if(unsafeWindow.User.powerPackOn>0){return Number(unsafeWindow.User.powerPackCount)||0}return 0},energyPacks:function(){return Number(unsafeWindow.User.energy_pak)||0}},Groups:{refresh:function(a){facebook.getGroups(function(b){UserConfig.main.groups=b;UserConfig.main.save(a)})},addToSelect:function(a,c){var b=$(a).empty();Util.each(UserConfig.main.groups,function(f,d){b.append(c$("option","value:"+f).text(d))});if(c){$("option[value="+c+"]",b).attr("selected","selected")}}},SortingBy:{string:function(f,d){var c=f.toLowerCase();var g=d.toLowerCase();return((c<g)?-1:((c>g)?1:0))},numeric:function(f,d){var c=parseInt(f);var g=parseInt(d);return((c<g)?-1:((c>g)?1:0))}},loadPage:function(b,a){if(!Util.isString(a)){var c=Util.uSplit(b);if(c.xw_controller&&c.xw_action){a=c.xw_controller+"_"+c.xw_action}}if(Util.isFunc(global.pages[a])){Logger.debug("loading: "+a);setTimeout(function(){global.pages[a]()},500)}else{Logger.debug("No handled: "+a)}},getWindow:function(){var a=document.createElement("div");a.setAttribute("onclick","return window;");return a.onclick()},getDocumentUrl:function(){var a=document.createElement("div");
a.setAttribute("onclick","return document.location.href;");return a.onclick()},isUnframed:function(){try{var a=document.createElement("div");a.setAttribute("onclick","return (top == self);");return a.onclick()}catch(b){}return false},createMWAddonScope:function(c,a,b){return{id:c,name:a,scope:b,Version:AppInfo.version,Battlefield:Battlefieldv2,RobMaster:RobMaster,BountyHunter:BountyHunter,FightClubBuyer:FightClubBuyer,CollectAllCities:CollectAllCities,Configuration:Configuration,CraftManager:CraftManager,FreeGiftsCenter:FreeGiftsCenter,HomeFeedCenter:HomeFeedCenter,InventoryAnalyzer:InventoryAnalyzer,MafiaWiper:MafiaWiper,MafiaRecruiter:MafiaRecruiter,WallCleaner:WallCleaner,MultiGifter:MultiGifter,OperationsCenter:OperationsCenter,UserLinks:UserLinks,Profile:MWProfile,addResource:Resources.add,isGameUnframed:global.is_unframed,CrossDomainSupported:global.xd_support,addMenu:MainMenu.add,addRemoteMenu:MainMenu.addRemote,addCity:global.addCity,addNavigationLinks:MWAddonToolbar.addNavigationLinks,addCollection:GameCollections.add,ExecutePlugin:Plugins.exec,Util:Util,MW:MW,Facebook:facebook,Ajax:httpAjaxRequest,httpRequest:httpXDRequest,StopAjaxRequests:httpAjaxStopRequests,Base64:Base64,Config:Config,CreatePopup:PopupObject,CreateTab:TabObject,CreateDropDown:DropDownObject,CreateConfigSettings:UserConfig.create,ShowHelpPopup:showHelpPopup,ShowPromptPopup:showPromptPopup,ShowTextPopup:showTextPopup,ShowAskPopup:showAskPopup,ShowGroupSelection:showGroupSelection,addFreeGift:UserFreeGifts.add,addStream:UserStreams.add,Collection:Collection,TimerMessage:TimerMessage,Countdown:Countdown,LoadingScreen:loadingScreen,ShortURL:getShortURL,UnshortUrl:getUnshortUrl,addURLService:URLServices.add,currentURL:global.currentURL,Notify:Notifications.add,AddCollection:GameCollections.add}}};var UserConfig={create:function(b,a){return(UserConfig[b]=new Config(b,a))},getSettingFrom:function(b,a){var c={};Util.each(b,function(f,d){if(Util.isObject(a)){c[f]=Util.clone(a)}else{c[f]=a}});return c},isValidProperty:function(a,b){return(String(a).charAt(0)!=="_"&&!Util.isFunc(b))},toType:function(b,a){if(!Util.isSet(b)){return a}switch(typeof(a)){case"string":return String(b);case"number":return isFinite(Number(b))?Number(b):a;case"boolean":return b===true}return(typeof(b)===typeof(a)?b:a)},each:function(a){Util.each(UserConfig,function(b,c){if(c._isConfigObject===true){a(b,c)}})},toArray:function(){var a=[];UserConfig.each(function(c,b){a.push(b)});return a},save:function(a){alert("saving data...");UserConfig.each(function(b,c){c.save()})},load:function(a){UserConfig.each(function(b,c){c.load()})},setCheckboxValue:function(a,b){if(!a.is){a=$(a)}if(a.is("input:checkbox")){a[0].checked=b}else{a.toggleClass("checked",b)}},getCheckboxValue:function(a){if(!a.is){a=$(a)}if(a.is("input:checkbox")){return a[0].checked}else{return a.hasClass("checked")}},toDomElements:function(b,a){Util.each(b,function(f,c){if(UserConfig.isValidProperty(f,c)){var d=a+"_"+f;if(!UserConfig.setElementValue(d,c)){if(Util.isObject(c)){UserConfig.toDomElements(c,d)}}}})},fromDomElements:function(b,a){Util.each(b,function(g,c){if(UserConfig.isValidProperty(g,c)){var f=a+"_"+g;var d=UserConfig.getElementValue(f);if(Util.isSet(d)){b[g]=UserConfig.toType(d,c)}else{if(Util.isObject(c)){UserConfig.fromDomElements(c,f)}}}})},setElementValue:function(a,c){var b=e$("#"+a)||e$("#"+a.toLowerCase());if(b===null){return false}if(b.is("input:checkbox")||b.attr("name")==="checkbox"){UserConfig.setCheckboxValue(b,c)}else{if(b.is("select[multiple]")){b.empty();Util.each(c,function(f,d){b.append(c$("option","value:"+f).text(d))})}else{if(b.attr("name")==="checkboxlist"){Util.each(c,function(f,d){UserConfig.setCheckboxValue($("*[value="+f+"]",b),d)})}else{if(b.is("input, select, textarea")){b.val(c)}else{return false}}}}return true},getElementValue:function(b){var d=e$("#"+b)||e$("#"+b.toLowerCase());if(d===null){return}if(d.is("input:checkbox")||d.attr("name")==="checkbox"){return UserConfig.getCheckboxValue(d)}else{if(d.is("select[multiple]")){var c={};$("option",d).each(function(f,g){c[g.value]=g.text});return c}else{if(d.attr("name")==="checkboxlist"){var a={};$(".checkbox, input:checkbox",d).each(function(g,h){var f=h.getAttribute("value");if(f){a[f]=UserConfig.getCheckboxValue(h)}});return a}else{if(d.is("input, select, textarea")){return d.val()}}}}return}};function Config(a,d,c){var b=this;this._isConfigObject=true;this._allusers=c||false;this._key=a||"";this._saving=null;if(Util.isSet(d)&&d!==null){Util.each(d,function(f,g){if(UserConfig.isValidProperty(f,g)){b[f]=g}})}return this}Config.prototype.get=function(a){return this[a]};Config.prototype.set=function(b,a){this[b]=UserConfig.toType(a,this[b])};Config.prototype.add=function(a,b){if(Util.isString(a)&&Util.isSet(b)){this[a]=b}};Config.prototype.remove=function(a){if(Util.isString(a)){delete this[a]}};Config.prototype.exists=function(a){return Util.isSet(this[a])};Config.prototype.fromObject=function(b){if(!Util.isSet(b)){return
}function a(c,d){Util.each(c,function(f,h){if(UserConfig.isValidProperty(f,h)){var g=d[f];if(!Util.isSet(g)){d[f]=h}else{if(Util.isArray(g)){if(Util.isArray(h)){d[f]=h}}else{if(Util.isObject(g)){if(Util.isObject(h)){a(h,d[f])}}else{d[f]=UserConfig.toType(h,g)}}}}})}a(b,this)};Config.prototype.fromJSON=function(a){if(Util.isString(a)){try{this.fromObject(Util.parseJSON(a))}catch(b){Logger.error("fromJSON: Error parsing json configuration.")}}};Config.prototype.each=function(a){Util.each(this,function(c,b){if(UserConfig.isValidProperty(c,b)){a(c,b)}})};Config.prototype.toArray=function(){var a=[];this.each(function(c,b){a.push(b)});return a};Config.prototype.save=function(f){var c=this;var d=(c._allusers?AppInfo.id:AppInfo.prefix)+c._key;var a={};c.each(function(h,g){a[h]=g});if(c._saving&&c._saving.timeout){clearTimeout(c._saving.timeout)}function b(){var g=c._saving.data;c._saving=null;if(Chromium.has_filesystem===true){BrowserStorage.setValue(d,g,f)}else{BrowserStorage.setValue(d,g);f&&f()}}c._saving={data:Util.toJSON(a,true),timeout:setTimeout(b,100)}};Config.prototype.load=function(f){var b=this;var d=(b._allusers?AppInfo.id:AppInfo.prefix)+b._key;var c=AppInfo.id+"_"+facebook.session.uid+"_"+b._key;function a(g){if(typeof g=="string"){b.fromJSON(g)}if(typeof f=="function"){f.apply(b)}}if(Chromium.has_filesystem===true){BrowserStorage.getValue(d,function(g){if(typeof g=="string"){a(g)}else{BrowserStorage.getValue(c,a)}})}else{setTimeout(function(){var g=BrowserStorage.getValue(d,null);if(typeof g=="string"){a(g)}else{a(BrowserStorage.getValue(c,null))}},0)}};Config.prototype.toDomElements=function(){return UserConfig.toDomElements(this,this._key)};Config.prototype.fromDomElements=function(){return UserConfig.fromDomElements(this,this._key)};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var f=0;f<b.length;f++){var d=b.charCodeAt(f);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a},_utf8_decode:function(a){var d="";var g=0;var h=0,f=0,b=0;while(g<a.length){h=a.charCodeAt(g);if(h<128){d+=String.fromCharCode(h);g++}else{if((h>191)&&(h<224)){f=a.charCodeAt(g+1);d+=String.fromCharCode(((h&31)<<6)|(f&63));g+=2}else{f=a.charCodeAt(g+1);b=a.charCodeAt(g+2);d+=String.fromCharCode(((h&15)<<12)|((f&63)<<6)|(b&63));g+=3}}}return d},encode:function(c){var a="";var l,j,g,k,h,f,d;var b=0;if(!Util.isString(c)||c.length<1){return""}c=Base64._utf8_encode(c);while(b<c.length){l=c.charCodeAt(b++);j=c.charCodeAt(b++);g=c.charCodeAt(b++);k=l>>2;h=((l&3)<<4)|(j>>4);f=((j&15)<<2)|(g>>6);d=g&63;if(isNaN(j)){f=d=64}else{if(isNaN(g)){d=64}}a=a+Base64._keyStr.charAt(k)+Base64._keyStr.charAt(h)+Base64._keyStr.charAt(f)+Base64._keyStr.charAt(d)}return a},decode:function(c){var a="";var l,j,g;var k,h,f,d;var b=0;if(!Util.isString(c)||c.length<2){return""}c=c.replace(/^data:\w+\/\w+;base64,/,"");c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){k=Base64._keyStr.indexOf(c.charAt(b++));h=Base64._keyStr.indexOf(c.charAt(b++));f=Base64._keyStr.indexOf(c.charAt(b++));d=Base64._keyStr.indexOf(c.charAt(b++));l=(k<<2)|(h>>4);j=((h&15)<<4)|(f>>2);g=((f&3)<<6)|d;a=a+String.fromCharCode(l);if(f!=64){a=a+String.fromCharCode(j)}if(d!=64){a=a+String.fromCharCode(g)}}a=Base64._utf8_decode(a);return a}};function Collection(g){var f=this;var b=0;var d={Keys:[],Items:[]};var c={};function h(){if(Util.isFunc(c.Move)){f.current=d.Items[b];c.Move.apply(f,[b,d.Keys[b],d.Items[b]])}}function a(){if(Util.isFunc(c.End)){c.End.apply(f)}}this.current=null;this.onMove=function(i){if(Util.isFunc(i)){c.Move=i}};this.onEnd=function(i){if(Util.isFunc(i)){c.End=i}};this.MoveFirst=function(){b=0;h()};this.MoveNext=function(){b++;if(b<d.Items.length){h()}else{a()}return null};this.MovePrevious=function(){b--;if(b>0){h()}return null};this.MoveLast=function(){b=Items.length-1;h()};this.clear=function(){d={};c={}};this.setArray=function(i){d.Keys=[];d.Items=[];Util.each(i,function(j,k){if(!Util.isFunc(k)){d.Keys.push(j);d.Items.push(k)}});b=0};this.add=function(i,j){if(i&&j){d.Keys.push(i);d.Items.push(j)}};this.length=function(){return d.Keys.length};if(g){f.setArray(g)}return this}function Countdown(b){var a,c=this;this.started=false;this.arguments=b;if(!Util.isNumber(b.delay)){b.delay=10}if(b.selector){b.step=function(g,f){var d=$(b.selector);if(d.length>0){d.html((b.text?b.text+" ":"")+f)}}}this.start=function(d){var f=function(){c.clear();if(Util.isFunc(b.success)){b.success.apply(c,[b.id])}};if(c.started===true){if(!Util.isSet(d)){return}if(a){clearInterval(a);a=null}}else{c.started=true}if(!d||isNaN(d=parseInt(d))){d=b.delay}else{b.delay=d}if(d<1){f();return}b.step.apply(c,[d,Util.toDateString(d,b.format,"s")]);a=setInterval(function(){d--;if(Util.isFunc(b.step)){b.step.apply(c,[d,Util.toDateString(d,b.format,"s")])
}if(d<0){f()}},1000)};this.clear=function(){if(Util.isFunc(b.stop)){b.stop.apply(c)}if(a){clearInterval(a);a=null}c.started=false};c.clear();return this}function TimerMessage(b){var c=this;var a;this.start=function(g,d,h,f){if(e$(b)===null||!Util.isFunc(h)){return 0}c.clear();if(d<1){h.apply(c,f);return}$(b).html(g.replace("%N%",d)).show();a=setInterval(function(){$(b).html(g.replace("%N%",--d));if(d<1){c.clear();h.apply(c,f)}},1000);return a};this.clear=function(){clearInterval(a)};return this}function TimerElapsed(a){var d=this,f=null,c=0,b=false;if(a.selector){a.step=function(h,i){var g=$(a.selector);if(g.length>0){g.html((a.text?a.text+" ":"")+i)}}}this.start=function(){if(b===true){if(f){return}}else{b=true}a.step.apply(d,[c,Util.toDateString(c,a.format,"s")]);f=setInterval(function(){c++;if(Util.isFunc(a.step)){a.step.apply(d,[c,Util.toDateString(c,a.format,"s")])}},1000)};this.stop=function(){if(Util.isFunc(a.stop)){a.stop.apply(d)}if(f){clearInterval(f);f=null}b=false};this.clear=function(){this.stop();c=0};d.clear();return this}function MWProfile(d){var a=h$(d);var c=this;var b=$(".stats_title .stats_title_text:first",a);var f=$("a:regex(href,xw_controller=clan)",b);c.myself=(e$("#change_title",a)!==null);c.inMafia=(e$(".zy_popup_box_body_dark a:regex(href,xw_action=remove)",a)!==null);c.commands={};c.text=Util.htmlDecode(b.text());c.name=Util.substr(c.text,'"','"',1,0,0,true);c.level=Util.parseNum(c.text.substr(c.text.lastIndexOf('"')+1));if(f.length>0){c.clanUrl=f.attr("href");c.clanName=Util.trim(f.text());c.name=Util.trim(c.name.replace(c.clanName,""))}a=a.find(".title.stats_title").siblings("table:last").prev();$("a:regex(href,xw_action), a:regex(onclick,xw_action)",a).each(function(j,k){try{var h=Util.toUrl(k);var l=Util.uSplit(h);var m=l.xw_controller+"_"+l.xw_action;var g=$(k).text();if(!c.commands[m]&&g){c.commands[m]={id:m,name:$(k).text(),link:h}}if(!c.id&&l.opponent_id){c.id=Util.parseNum(l.opponent_id)}}catch(k){}});$("#travel_menu a",a).each(function(g,j){var h;if(j&&j.href){if((h=/&nextParams=(.*?)&/.exec(j.href))){if((h=/"user".*?"(.+?)"/.exec(unescape(unescape((h[1])))))){c.fbID=Base64.decode(h[1]);return false}}}});if(c.id){c.link=MW.getIntURL("stats","view")+"&user="+Base64.encode("p|"+c.id);c.promote=MW.getIntURL("group","view")+"&promote=yes&pid="+escape("p|"+c.id)}return this}function MafiaMember(a){this.uid=a.uid;this.name=a.name?Base64.decode(a.name):"";this.level=a.level;this.first_name=a.first_name?Base64.decode(a.first_name):"";this.profile_pic=a.profile_pic;a=null;return this}MafiaMember.prototype.profile=function(){if(this.uid){return MW.getProfileLink(this.uid)}return"#"};function MafiaMemberCollection(b){var a=this;if(Util.isArray(b)&&b.length>0){Util.each(b,function(c,d){a.add(d)})}b=null;return this}MafiaMemberCollection.prototype.exists=function(a){return Util.isSet(this[a])};MafiaMemberCollection.prototype.get=function(a){return this[a]};MafiaMemberCollection.prototype.length=function(){return Util.length(this)};MafiaMemberCollection.prototype.add=function(a){if(a&&a.uid&&a.name){return(this[a.uid]=new MafiaMember(a))}return};MafiaMemberCollection.prototype.each=function(a){Util.each(this,a)};var Updater={get:function(b,a){httpXDRequest({method:"GET",url:AppInfo.updateURL+"?"+(new Date()).getTime(),onload:function(c){b(c.responseText)}},a)},parse:function(b,c){var a={version:Util.doRgx(/@version\s*(.+)/,b).$1,name:Util.doRgx(/@name\s*(.+)/,b).$1,history:Util.doRgx(/@description\s*(.+)/,b).$1};a.isNew=(AppInfo.name===a.name&&AppInfo.version<a.version);if(a.isNew===true){a.message=a.name+" has been updated to version "+a.version+"."}else{a.message="You have already the latest version of "+a.name+"."}c(a)},check:function(a){if(global.xd_support!==true){return}Updater.get(function(b){Updater.parse(b,function(c){Logger.debug("Updater.check( isNew:"+c.isNew+", bForce:"+a+" )");if(c.isNew===true||a===true){showVerInfoPopup({isnew:c.isNew,message:c.message,history:c.history,url:AppInfo.namespace})}})},a!==true)}};var Tooltips={Initialized:false,EditMode:false,Showing:false,timeout:false,current:null,files:null,remoteFiles:{},createTimeout:function(a,b){if(b>0){Tooltips.clearTimeout();Tooltips.timeout=setTimeout(function(){Tooltips.timeout=false;a&&a()},b)}else{a&&a()}},clearTimeout:function(){if(Tooltips.timeout){clearTimeout(Tooltips.timeout);Tooltips.timeout=false}},hideOnMouseDown:function(b,a,c){$(document).bind("mousedown",function d(f){$(document).unbind("mousedown",d);Tooltips.clearTimeout();Tooltips.$box.hide()})},fixToPosition:function(c){var d=Tooltips.$box;var f=$(c).offset();var b={w:d.outerWidth(),h:d.outerHeight()};var a={x:$(unsafeWindow).scrollLeft()+$(unsafeWindow).width(),y:$(unsafeWindow).scrollTop()+$(unsafeWindow).height()};if(a.x<f.left+b.w){d.css({left:"",right:2})}else{d.css({left:f.left,right:""})}if(f.top-b.h<0){d.css("top",f.top+$(c).outerHeight()+5)}else{d.css("top",f.top-b.h)}},edit:function(c,b){if(!c||!b){return}var d=c;var a=Tooltips.$edit;var f=d.offset();
a.height(d.outerHeight());a.width(d.outerWidth());a.css({left:f.left-1,top:f.top-1});a.attr("current",Util.toJSON(b)).show()},hide:function(a){if(Tooltips.EditMode===true){var c=$(a.toElement||a.relatedTarget),b=Tooltips.$edit;if(c.is(b)||b.has(c).length>0){return}b.hide()}Tooltips.clearTimeout();Tooltips.$box.hide()},show:function(c,a){if(!(c&&a&&a.context&&a.id)){return}var d=Tooltips.getLocalizedTooltipData(a.context,a.id),b=$(c.target);if(Tooltips.EditMode===true){Tooltips.edit(b,a)}if(!Util.isArray(d)){return}if(b.is("option")){b=$(c.target.parentNode)}var f=Tooltips.$box.hide().empty().css({top:0,left:0});c$("div","class:title mwa_res_info_icon_png").text(d[0]).appendTo(f);c$("div").html(String(d[1]).replace(/\n/g,"<br>")).appendTo(f);f.find("a").attr("target","_black");Tooltips.fixToPosition(b);if(Tooltips.EditMode===true){Tooltips.createTimeout(function(){f.fadeIn()},200)}else{Tooltips.createTimeout(function(){f.fadeIn()},2000)}Tooltips.hideOnMouseDown()},showEditor:function(){var a=$(this).attr("current");if(a){a=Util.parseJSON(a)}showTooltipEditor(a,Util.parseNum(Tooltips.$edit.css("z-index")));Tooltips.clearTimeout();Tooltips.$box.hide();Tooltips.$edit.hide()},toArray:function(){var a={};Util.each(Tooltips._Resources,function(c,b){a[c]=b.name});Util.each(Tooltips.remoteFiles,function(c,b){a[c]=b.name});return a},resourceExists:function(a){return Util.isSet(Tooltips._Resources[a])},getResource:function(a){var b=Tooltips._Resources[a];if(!(Util.isSet(b)&&Util.isSet(b.content))){return{content:{}}}return b},getCurrentLanguage:function(){var a=UserConfig.main.get("toolTipLanguage");if(!Util.isSet(Tooltips._Resources[a])){a=global.mw_locale}if(!Util.isSet(Tooltips._Resources[a])){a="en_US"}return a},getLocalizedResource:function(){var a=Tooltips.getCurrentLanguage();return Tooltips.getResource(a)},getLocalizedResourceContent:function(a){var b=Tooltips.getLocalizedResource();if(b&&b.content&&Util.isSet(b.content[a])){return b.content[a]}else{return false}},getLocalizedTooltipData:function(a,c){var b=Tooltips.getLocalizedResourceContent(a);if(b&&Util.isArray(b[c])){return b[c]}else{return false}},addResource:function(c,b){if(!Util.isObject(b)||!(b.name&&b.description&&b.content)){return}var a=Tooltips._Resources[c];if(!Util.isSet(a)){a=(Tooltips._Resources[c]={})}a.name=b.name;a.description=b.description;a.content=b.content;return a},addTooltipData:function(a,b,f,d){var c=Tooltips.getLocalizedResource();if(Util.isSet(c)&&Util.isSet(c.content)&&f&&d){if(!Util.isSet(c.content[a])){c.content[a]={}}c.content[a][b]=[f,d]}},getRemoteResource:function(a){httpXDRequest({method:"GET",url:"http://mwaddon.com/tooltips/index.php?f="+a,onload:function(b){var d=Util.trim(b.responseText);if(d&&d.charAt(0)==="{"){var c=Util.parseJSON(d);Tooltips.addResource(c.loc,c);Tooltips.files.add(c.loc,c);Tooltips.files.save();Logger.debug("Language ("+c.loc+") has been updated.")}}})},getServerLanguages:function(a){httpXDRequest({method:"GET",url:"http://mwaddon.com/tooltips/index.php",onerror:a,onload:function(b){var c=Util.trim(b.responseText);if(c&&c.charAt(0)==="{"){Tooltips.remoteFiles=Util.parseJSON(c);a&&a(true)}else{a&&a(false)}}})},updateLocalFileTimeStamp:function(){var c=Tooltips.getCurrentLanguage();if(!Tooltips.files.exists(c)){return}var b=Tooltips.remoteFiles[c];var a=Tooltips.files.get(c);if(b&&a){a.uploadtime=b.uploadtime;Tooltips.files.save()}},applyTo:function(b,d){if(UserConfig.main.toolTips!==true){return}var c=Tooltips.getLocalizedResourceContent(b);var a=".apply_tooltip";if(Tooltips.EditMode===true){if(c===false){c=(Tooltips.getLocalizedResource().content[b]={})}Util.each(c,function(g,f){if(e$("#"+b+" #"+g)===null){delete c[g]}});Logger.debug("Editing tooltips for "+b+".");a="a, input, select, textarea, .checkbox, span[name=checkboxlist]"}else{if(c!==false&&Util.length(c)>0){Logger.debug("Applying help tooltips to "+b+".");Util.each(c,function(g,f){if(Util.isArray(f)){$("#"+g,"#"+b).addClass("apply_tooltip")}})}else{return}}$(a,"#"+b).tooltip(b);if(Util.isNumber(d)){Tooltips.$box.css("z-index",d+25);Tooltips.$edit.css("z-index",d+50)}},init:function(){if(Tooltips.Initialized===true){return}Tooltips.files=new Config("loc_resources",{},true);if(!Tooltips.$box){var a=c$("div").prependTo("body");c$("style").append(Util.render(Resources.get("tooltip_css"),{base_url:global.zGraphicsURL})).appendTo(a);a.prependTo("body");Tooltips.$box=c$("div","id:tooltip_box").css("display","none").appendTo(a);Tooltips.$box.bind("mouseenter",Tooltips.hide);Tooltips.$edit=c$("div","class:tooltip-edit-overlay");c$("div","class:tooltip-edit-bg").appendTo(Tooltips.$edit);Resources.getImage("tooltip_edit_png",16,16).appendTo(Tooltips.$edit);Tooltips.$edit.appendTo(a).mouseleave(Tooltips.hide).click(Tooltips.showEditor)}Tooltips.files.load(function(){Tooltips.getServerLanguages(function(d){var c=Tooltips.getCurrentLanguage(),f=Tooltips.remoteFiles[c],b=false;Tooltips.files.each(function(i,g){var h=Tooltips.remoteFiles[i];if(Util.isSet(h)){if(g.uploadtime!==h.uploadtime){Logger.debug("Language ("+i+") need to be updated...");
Tooltips.getRemoteResource(h.filename)}else{Tooltips.addResource(i,g)}}else{if(d===true){b=true;Tooltips.files.remove(filename)}}});if(!Tooltips.files.exists(c)&&Util.isSet(f)){Tooltips.getRemoteResource(f.filename)}else{if(b===true){Tooltips.files.save()}}})});Tooltips.Initialized=true},_Resources:{}};var FileSystem={fileReader:function(c,d){var b=c&&c[0];if(b){var a=new FileReader();a.onload=function(f){d(f&&f.target&&f.target.result);Logger.debug("fileReader completed, loaded "+b.size+" bytes.")};a.readAsText(b)}else{d(false)}},fileSave:function(a){unsafeWindow.open(FileSystem.createObjectURL(a,"application/octet-stream"),"_top")},createObjectURL:function(f,d){var c,h=unsafeWindow.Blob,a=unsafeWindow.URL||unsafeWindow.webkitURL;if(!d){d="text/plain"}try{c=new h([f],{type:d})}catch(g){Logger.error("Blob is not supported, using BlobBuilder.");h=function(i,b){var j=new (window.BlobBuilder||window.WebKitBlobBuilder)();j.append(i[0]);return j.getBlob(b)};try{c=new h([f],{type:d})}catch(g){Logger.error("BlobBuilder is not supported.");return false}}if(FileSystem.lastObjectURL){FileSystem.revokeObjectURL(FileSystem.lastObjectURL)}return(FileSystem.lastObjectURL=a.createObjectURL(c))},revokeObjectURL:function(b){var a=unsafeWindow.URL||unsafeWindow.webkitURL;if(a&&b){a.revokeObjectURL(b)}}};var Calendar={initialized:false,context:null,date:new Date(),monthName:["January","February","March","April","May","June","July","August","September","October","November","December"]};Calendar.fixPosition=function(){var d=$("#ui-datepicker-div");var c=Calendar.context.offset();var a=$(unsafeWindow).scrollLeft()+$(unsafeWindow).width();var b={w:d.outerWidth(),h:Calendar.context.outerHeight()};if(a<c.left+b.w){d.css({left:"",right:2})}else{d.css({left:c.left,right:""})}d.css("top",c.top+b.h)};Calendar.dayPick=function(c){var a=Number($(this).attr("month_day"));var b=$("a",this);if(!b.hasClass("ui-state-highlight")&&!b.hasClass("ui-state-active")){$(".ui-state-active",".ui-datepicker-calendar").removeClass("ui-state-active");b.addClass("ui-state-active")}Calendar.date=new Date(Calendar.date.getFullYear(),Calendar.date.getMonth(),a);Calendar.setDate();return false};Calendar.prevMonthPick=function(a){var b=Calendar.date.getMonth()-1;Calendar.date.setMonth(b);Calendar.render();return false};Calendar.nextMonthPick=function(b){var a=Calendar.date.getMonth()+1;Calendar.date.setMonth(a);Calendar.render();return false};Calendar.setMonth=function(a){Calendar.date.setMonth(Calendar.date.getMonth()+a)};Calendar.overIn=function(){$(this).addClass("ui-state-hover")};Calendar.overOut=function(){$(this).removeClass("ui-state-hover")};Calendar.render=function(){if(!Calendar.date){return}var c=$("#ui-datepicker-div");var g=$("table.ui-datepicker-calendar tbody").empty();var m=new Date(Calendar.date.getTime());var j=new Date();var a=1;var l=c$("tr").appendTo(g);var f,b;function k(i,d){return(i.getDate()==d.getDate()&&i.getMonth()==d.getMonth()&&i.getFullYear()==d.getFullYear())}function o(i,d){return(i.getDate()==d.getDate()&&i.getMonth()==d.getMonth())}$(".ui-datepicker-month",c).text(Calendar.monthName[Calendar.date.getMonth()]);$(".ui-datepicker-year",c).text(Calendar.date.getFullYear());m.setDate(a);for(var h=0,n=m.getDay();h<n;h++){c$("td","class:ui-datepicker-other-month ui-state-disabled").appendTo(l).html("&nbsp;")}while(m.getDate()==a){if(m.getDay()==0){l=c$("tr").appendTo(g)}b=c$("td").attr("month_day",m.getDate());f=c$("a","class:ui-state-default").html(m.getDate());f.appendTo(b).hover(Calendar.overIn,Calendar.overOut);b.appendTo(l).click(Calendar.dayPick);if(k(j,m)){f.addClass("ui-state-highlight")}else{if(o(Calendar.date,m)){f.addClass("ui-state-active")}}m.setDate(++a)}};Calendar.hide=function(b){var a=$(b.target);if(a[0].id!="ui-datepicker-div"&&a.parents("#ui-datepicker-div").length==0&&!a.hasClass("hasCalendar")){$("#ui-datepicker-div").fadeOut();$(document).unbind("mousedown",Calendar.hide)}};Calendar.show=function(c){var b=$(this).val();Calendar.init();Calendar.date=new Date();Calendar.context=$(this);if(Util.isString(b)){var a=Util.doRgx(/([0-9]+)\/([0-9]+)\/([0-9]+)/,b);if(a.$0){Calendar.date.setMonth(Number(a.$1)-1);Calendar.date.setDate(Number(a.$2));Calendar.date.setFullYear(Number(a.$3))}}Calendar.render();Calendar.fixPosition();$("#ui-datepicker-div").fadeIn();$(document).mousedown(Calendar.hide)};Calendar.setDate=function(a){var b=Calendar.date.getDate();var d=Calendar.date.getMonth()+1;var c=Calendar.date.getFullYear();$(a||Calendar.context).val(Util.padNum(d,2)+"/"+Util.padNum(b,2)+"/"+c);$("#ui-datepicker-div").fadeOut()};Calendar.getUnixTime=function(){var a=Calendar.date;return parseInt((new Date(a.getFullYear(),a.getMonth(),a.getDate()+1)).getTime()/1000)};Calendar.init=function(a){Calendar.date=new Date();if(e$("#ui-datepicker-div")==null){$(Base64.decode("PGRpdiBpZD0idWktZGF0ZXBpY2tlci1kaXYiIGNsYXNzPSJ1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogODdweDsgdG9wOiAxNTlweDsgei1pbmRleDogMTAyOyBkaXNwbGF5OiBibG9jazsgIj4NCiAgICA8ZGl2IGNsYXNzPSJ1aS1kYXRlcGlja2VyLWhlYWRlciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsIj4NCiAgICAgICAgPGEgY2xhc3M9InVpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsIiB0aXRsZT0iUHJldiI+PHNwYW4gY2xhc3M9InVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtdyI+UHJldjwvc3Bhbj48L2E+DQogICAgICAgIDxhIGNsYXNzPSJ1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCIgdGl0bGU9Ik5leHQiPjxzcGFuIGNsYXNzPSJ1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLWUiPk5leHQ8L3NwYW4+PC9hPg0KICAgICAgICA8ZGl2IGNsYXNzPSJ1aS1kYXRlcGlja2VyLXRpdGxlIj4NCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ1aS1kYXRlcGlja2VyLW1vbnRoIj5Vbmtub3c8L3NwYW4+Jm5ic3A7PHNwYW4gY2xhc3M9InVpLWRhdGVwaWNrZXIteWVhciI+RGF0ZTwvc3Bhbj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQogICAgPHRhYmxlIGNsYXNzPSJ1aS1kYXRlcGlja2VyLWNhbGVuZGFyIj4NCiAgICAgICAgPHRoZWFkPg0KICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0idWktZGF0ZXBpY2tlci13ZWVrLWVuZCI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIHRpdGxlPSJTdW5kYXkiPlN1PC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvdGg+DQogICAgICAgICAgICAgICAgPHRoPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT0iTW9uZGF5Ij5Nbzwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L3RoPg0KICAgICAgICAgICAgICAgIDx0aD4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdGl0bGU9IlR1ZXNkYXkiPlR1PC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvdGg+DQogICAgICAgICAgICAgICAgPHRoPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT0iV2VkbmVzZGF5Ij5XZTwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L3RoPg0KICAgICAgICAgICAgICAgIDx0aD4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdGl0bGU9IlRodXJzZGF5Ij5UaDwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L3RoPg0KICAgICAgICAgICAgICAgIDx0aD4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdGl0bGU9IkZyaWRheSI+RnI8L3NwYW4+DQogICAgICAgICAgICAgICAgPC90aD4NCiAgICAgICAgICAgICAgICA8dGggY2xhc3M9InVpLWRhdGVwaWNrZXItd2Vlay1lbmQiPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT0iU2F0dXJkYXkiPlNhPC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvdGg+DQogICAgICAgICAgICA8L3RyPg0KICAgICAgICA8L3RoZWFkPg0KICAgICAgICA8dGJvZHk+DQogICAgICAgIDwvdGJvZHk+DQogICAgPC90YWJsZT4NCjwvZGl2Pg==")).hide().appendTo("body");
if(a){$("#ui-datepicker-div").css("z-index",a+100)}$(".ui-datepicker-header .ui-datepicker-prev").unbind().click(Calendar.prevMonthPick).hover(Calendar.overIn,Calendar.overOut);$(".ui-datepicker-header .ui-datepicker-next").unbind().click(Calendar.nextMonthPick).hover(Calendar.overIn,Calendar.overOut)}};function e$(a,c){var b=$(a,c);if(b.length>0){return b}return null}function h$(f,a){if(typeof(f)!=="string"){return $(f)}var c=document.implementation.createHTMLDocument("");var b=c.documentElement,d;if(a===true){b.innerHTML=f.replace(/src=['"]*[^'"\s]*/g,"")}else{if(MWAddonInit.FixedGame===true){b.innerHTML=f.replace(/https?:\/\/zyngapv.hs.llnwd.net\/e6/g,"http://mwfb.static.zynga.com")}else{b.innerHTML=f}}d=b.firstElementChild;if(b.childElementCount===1&&d.localName.toLowerCase()==="html"){c.replaceChild(d,b)}return $(b)}function c$(d,b){var j=/^(input|button):(\w+)$/i;var h,g,c;if(typeof(d)!=="string"){h=$(d)}else{if((g=j.exec(d))){h=$("<"+g[1]+' type="'+g[2]+'">')}else{switch(d){case"button":h=$("<"+d+' type="button">');break;case"style":h=$("<"+d+' type="text/css">');break;case"script":h=$("<"+d+' type="text/javascript">');break;default:h=$("<"+d+">");break}}}if(h.length<1){return null}if(typeof(b)==="string"){if((g=b.split(",")).length>1){for(var f=0;f<g.length;f++){if((c=g[f].split(":")).length==2){h.attr($.trim(c[0]),$.trim(c[1]))}}}else{if((c=b.split(":")).length==2){h.attr($.trim(c[0]),$.trim(c[1]))}else{h.attr("id",$.trim(b))}}}else{if(typeof(b)==="object"){h.attr(b)}}return h}function x$(d,b,a,c){if(!a){a="span"}if(!c){c=5}return c$(a).html(b||"&nbsp;").css({cursor:"pointer"}).attr({id:d,name:"checkbox","class":"checkbox",onclick:"$(this).toggleClass('checked');return false;"})}function s$(g){var f,d,b,a;Util.each(arguments,function(j,h){if(j>0){switch(typeof(h)){case"string":f=h;break;case"number":d=h;break;case"object":if(Util.isArray(h)){a=h}else{b=h}break}}});var c=c$("select","id:"+g).css("width",d);if(b){Util.each(b,function(i,h){if(Util.isFunc(c[i])){c[i](h)}})}if(a){Util.each(a,function(h,j){if(Util.isString(j)){c.append(c$("option","value:"+h).text(j))}else{c.append(j)}})}if(Util.isString(f)){c=c$("label","for:"+g).html(f).append(c)}return c}function n$(c,b,a){return t$(c,b,a,{onchange:"if(isNaN(parseFloat(this.value))){this.value=0;}",onclick:"$(this).select();"})}function t$(f){var d,c,b;Util.each(arguments,function(h,g){if(h>0){switch(typeof(g)){case"string":d=g;break;case"number":c=g;break;case"object":b=g;break}}});var a=c$("input:text","id:"+f).css("width",c);if(b){Util.each(b,function(h,g){if(Util.isFunc(a[h])&&Util.isFunc(g)){a[h](g)}else{a.attr(h,g)}})}if(Util.isString(d)){a=c$("label","for:"+f).html(d).append(a)}return a}function f$(g){var f,c,b;Util.each(arguments,function(j,h){if(j>0){switch(typeof(h)){case"string":f=h;break;case"number":c=h;break;case"object":b=h;break}}});var a=c$("div","class:inputfile");var d=c$("tr").appendTo(c$("tbody").appendTo(c$("table").attr("cellspacing","0").appendTo(a)));c$("input:file","name:files[],id:"+g).attr("onchange",'$("#"+this.id+"_visible").val(this.value);').appendTo(a);c$("td").appendTo(d).append(c$("input:text","readonly=readonly,id:"+g+"_visible"));c$("td").appendTo(d).append(c$("a","class:mwa_res_uploadfile_png").text("Search..."));return a}function b$(c,a,f){var b=c$("span").append(c$("span").html(c));var d=c$("a",a).append(b);if(f===true){d.addClass("ui-sexy-button")}else{d.addClass("sexy_button_new")}return d}var Util={isSet:function(a){return typeof a!=="undefined"&&a!==null},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isFunc:function(a){return typeof a==="function"},isObject:function(a){return typeof a==="object"&&a!==null},isArray:function(a){if(typeof a==="object"&&a!==null){return/Array/.test(Object.prototype.toString.call(a))}else{return false}},isDate:function(){if(typeof obj==="object"&&obj!==null){return/Date/.test(Object.prototype.toString.call(obj))}else{return false}},isExp:function(){if(typeof obj==="object"&&obj!==null){return/RegExp/.test(Object.prototype.toString.call(obj))}else{return false}},isNumber:function(a){return Math.round(a,0)===a},isSameString:function(b,a){if(Util.isString(b)&&Util.isString(a)){return b.toLowerCase()===a.toLowerCase()}else{return false}},inArray:function(a,b){if(!Util.isArray(b)){return false}else{if(typeof $!=="undefined"&&$.inArray){return $.inArray(a,b)!==-1}else{return b.indexOf(a)!==-1}}},toJSON:function(c,a,b){if(JSON&&JSON.stringify){c=JSON.stringify(c)}else{if(typeof($)!=="undefined"){c=$.toJSON(c)}}if(!Util.isString(c)||c.length<1){return""}if(a===true){return"data:"+(b||"application/json")+";base64,"+Base64.encode(c)}return c},parseJSON:function(b){if(!Util.isString(b)){return{}}if(/^data:\w+\/\w+;base64,/.test(b)){b=Base64.decode(b)}try{if(JSON&&JSON.parse){return JSON.parse(b)}else{if(typeof($)!=="undefined"){return $.parseJSON(b)}}}catch(a){return{}}},toFixed:function(a){if(isFinite(a=Number(a))){return(a<10)?a.toFixed(2):parseInt(a)
}else{return"0"}},length:function(c){var a=0;for(var b in c){if(typeof b!=="undefined"){a++}}return a},parseParam:function(b){try{b=b.replace(/\+/g,"").replace("%ITEM_ID%",'""').replace(/\\"/g,'"');return Util.parseJSON(b)}catch(a){Logger.error("parseParam: "+b);return{}}},padNum:function(a,b){if(!this.isNumber(a)){return a}if(!this.isNumber(b)){b=2}a=a.toString();while(b>a.length){a="0"+a}return a},formatNum:function(a){var c=/(\d+)(\d{3})/,b=String(a);while(c.test(b)){b=b.replace(c,"$1,$2")}return b},toDateString:function(a,k,j){var i=new Date();var b=i.getTime();var l,c,f,g;if(!isFinite(a)){a=0}if(!Util.isString(k)||k.length<2){k="HHh MMm SSs"}switch(j){case"d":i.setDate(i.getDate()+a);break;case"h":i.setHours(i.getHours()+a);break;case"m":i.setMinutes(i.getMinutes()+a);break;case"s":i.setSeconds(i.getSeconds()+a);break;default:i.setMilliseconds(i.getMilliseconds()+a);break}a=i.getTime()-b;l=Math.floor(a/1000);c=Math.floor(l/60);f=Math.floor(c/60);g=Math.floor(f/24);a=Util.padNum(a%1000,3);return k.replace("DD",g).replace("HH",Util.padNum(f%24)).replace("MM",Util.padNum(c%60)).replace("SS",Util.padNum(l%60)).replace("MS",a)},toDelayString:function(b){var g="",f,a,c,i;if(b<0){b=0}f=Math.floor(b/1000);a=Math.floor(f/60);c=Math.floor(a/60);i=Math.floor(c/24);g+=i>0?i+"d ":"";g+=((c=c%24)>0?Util.padNum(c)+"h : ":"");g+=((a=a%60)>0?Util.padNum(a)+"m : ":"");g+=((f=f%60)>0?Util.padNum(f)+"s : ":"");g+=((b=b%1000)>0?Util.padNum(b,3):"000")+"ms";return g},uSplit:function(a){var c={};if(Util.isString(a)){try{a=a.replace(/&amp;/g,"&");a=a.replace(/&quot;/g,'"');if(a.indexOf("?")!==-1){a=String(a.split("?")[1])}Util.each(a.split("&"),function(d,f){if((d=f.split("=")).length===2){c[d[0]]=unescape(d[1])}})}catch(b){Logger.error(b)}}return c},uParse:function(c){var b=/^(([^:\/?#]+):)(\/\/([^\/?#]*))([^?#]*)(\?([^#]*))?(#(.*))?/gi;var a=Util.doRgx(b,c);return{href:c,protocol:a.$2,host:a.$4,path:a.$5,query:a.$7,hash:a.$9}},each:function(c,d){var b=Util.isArray(c);for(var a in c){if(c.hasOwnProperty(a)){if(d((b?Number(a):a),c[a])===false){break}}}},disableButton:function(a){if($(a).hasClass("disabled")){return true}else{$(a).addClass("disabled");return false}},doRgx:function(d,f){var b,c={};if(Util.isSet(d)&&Util.isSet(f)){if(Util.isString(d)){d=new RegExp(d,"i")}if(d.exec&&(b=d.exec(f))){for(var a=0;a<b.length;a++){c["$"+a]=b[a]}}}return c},doRgxTest:function(a,b){if(Util.isSet(a)&&Util.isSet(b)){if(Util.isString(a)){a=new RegExp(a,"i")}if(a.test){return a.test(b)}}return false},htmlDecode:function(b){if(!Util.isString(b)){return""}try{return Util.trim(c$("textarea").html(b).val())}catch(a){Logger.error(a);return Util.trim(unescape(b))}},setColor:function(b,a,c){return"<span "+(c?'id="'+c+'" ':"")+'style="color:'+a+';">'+b+"</span>"},setAnchor:function(a,b){return' <a href="'+a+'" target="_black">'+b+"</a>"},rgbToHex:function(a){if(typeof a!=="string"||a.length<1){return a}if(a.charAt(0)!=="#"){var c,b;if((c=/rgba?\((\d+)[,\s]*(\d+)[,\s]*(\d+)\)/.exec(a))){b=1<<24|parseInt(c[1])<<16|parseInt(c[2])<<8|parseInt(c[3]);return"#"+b.toString(16).substr(1)}}while(a.length<7){a+="0"}return String(a).toLowerCase()},parseNum:function(a){if(!Util.isSet(a)){return 0}if(!Util.isString(a)){return parseInt(a)}var b=a.replace(/\D+/g,"");return b.length>0?parseInt(b):0},textNodes:function(a){return $(a).contents().filter(function(){return this.nodeType===3}).text()},render:function(a,b){Util.each(b,function(f,d){var c=new RegExp("\\$\\{"+f+"\\}","gi");a=a.replace(c,d)});return a},substr:function(g,c,d,a,j,i,h){if(!(Util.isString(g)&&Util.isString(c)&&Util.isString(d))){return g}a=Util.isNumber(a)?a:0;j=Util.isNumber(j)?j:0;var f,b=g.indexOf(c,i);if(b===-1){return false}if(h!==true){f=g.indexOf(d,b+Math.max(a,1))}else{f=g.lastIndexOf(d)}if(f===-1){return false}b+=a;f+=j;return g.substr(b,f-b)},toUrl:function(b){var a=(b=$(b)).attr("href");if(/html_server/i.test(a)){return a}return Util.doRgx(/['"](remote[^'"]*)/,b.attr("onclick")).$1},trim:function(a){if(!Util.isString(a)){return""}if(String.trim){return String.trim(a)}else{if(typeof($)!=="undefined"){return $.trim(a)}else{return a.replace(/^\s*|\s*$/,"")}}},toArray:function(b){if(Util.isArray(b)){return b}var a=[];Util.each(b,function(d,c){a.push(c)});return a},formatText:function(a){var c=String(a).replace(/_/g," ").split(/\s/g);var d="";for(var b=0;b<c.length;b++){d+=c[b].charAt(0).toUpperCase()+c[b].substr(1).toLowerCase()+" "}return d.replace(/^\s+|\s+$/,"")},pathValue:function(b,d){if(!Util.isString(d)||d.length<1){return null}if(d.indexOf(".")!==-1){var c=d.split(".");for(var a=0;a<c.length;a++){if(!Util.isSet(b[c[a]])){break}b=b[c[a]]}}else{b=b[d]}return b},getPicture:function(a){if(Util.isString(a)){var b=Util.doRgx(/url\(([^\)]+)\)/,a).$1;if(Util.isSet(b)){return String(b).replace(/["']/g,"")}}return""},parsePopup:function(a){try{var c=Util.doRgx(/\$\('#popup_fodder'\).html\("(.*?)"\);\s*?MW.Popup.show/i,a).$1;if(c){c=(new Function('return "'+c+'";'))();return h$(c)}}catch(b){Logger.error("parsePopup: "+b.message)
}return $()},percent:function(b,a){b=parseInt(b);a=parseInt(a);if(isNaN(b)||isNaN(a)||b<1||a<1){return 0}else{return parseFloat((b*100)/a)}},moveArrayItem:function(f,b,a){var c=b+a,d;if(b<0||b>=f.length){return b}if(c<0||c>=f.length||c===b){return b}d=f[c];f[c]=f[b];f[b]=d;return c},merge:function(d,c,b){if(!Util.isSet(c)){return d}if(!Util.isExp(b)){b=false}var a=Util.isArray(d);Util.each(c,function(g,f){if(!b||!b.test(g)){if(a){d.push(f)}else{d[g]=f}}});return d},filter:function(a,c){var b=Util.isArray(a),d=(b?[]:{});Util.each(a,function(f,g){if(c.apply(a,[f,g])){if(b){d.push(g)}else{d[f]=g}}});return d},noop:function(){return false},clearRegExpMeta:function(b){var a=/([\^\$\.\+\?\*\{\}\(\)\\\/\|\[\]])/g;if(String(b).length>0&&a.test(b)){return String(b).replace(a,"\\$1")}else{return b}},clone:function(b){var a={};Util.each(b,function(d,c){if(!Util.isFunc(c)){a[d]=c}});return a},until:function(a){if(!Util.isNumber(a.retries)){a.retries=50}if(!Util.isNumber(a.delay)){a.delay=100}var b=setInterval(function(){if(a.test()===true||a.retries<0){clearInterval(b);a.success()}a.retries--},a.delay)},tryTo:function(a){if(!a.times){a.times=3}if(!Util.isFunc(a.action)){Logger.error('Util.tryTo: error invalid parameter "action"');return}if(!Util.isFunc(a.success)){Logger.error('Util.tryTo: error invalid parameter "success"');return}if(!Util.isFunc(a.fail)){Logger.error('Util.tryTo: error invalid parameter "fail"');return}var b=0;function c(){a.action(b,function(d){if(d!==true){b++;a.times--;if(a.times>0){c()}else{a.fail()}}else{a.success()}})}c()}};var MW={COLLECT_HEALTH:3,COLLECT_ROBSQUADS:4,COLLECT_CASH:5,COLLECT_ENERGY:6,COLLECT_STAMINA:7,parseGiftData:function(c){var a={};try{a=(new Function(Util.substr(c,"var groups_levels","var friends_names")+"\n return {'gifts_daily_left':gifts_daily_left,'groups_levels':groups_levels,'item_amounts':item_amounts,'item_names':item_names,'item_imgs':item_imgs,'item_def':item_def,'item_atk':item_atk};"))()}catch(b){Logger.error("parseGiftData: "+b.message)}return a},getGiftData:function(d,c){if(!Util.isFunc(d)){return}var b=unsafeWindow,a=$("#gift_send input#gift_key");if(a.length>0){global.gift_key=a.val()}if(c!==true&&global.gift_key){if(global.giftData){d(global.giftData);return}if(b.groups_levels&&b.item_amounts&&b.item_names&&b.item_imgs&&b.gifts_daily_left){d(global.giftData={gifts_daily_left:b.gifts_daily_left,groups_levels:b.groups_levels,item_amounts:b.item_amounts,item_names:b.item_names,item_imgs:b.item_imgs,item_def:b.item_def,item_atk:b.item_atk});return}}httpAjaxRequest({url:"remote/"+MW.getIntURL("gift"),timeout:120000,message:"Loading friends...",success:function(f){if(!MW.update(f,false)){showBadResponse();d();return}global.gift_key=Util.doRgx(/gift_key['"]\s*value=['"]([^'"]+)/,f).$1;d(MW.parseGiftData(f))}})},parseInventoryData:function(c){var b={};try{b=(new Function(Util.substr(c,"var Items","<\/script>")+"\n return Items;"))();return(global.inventoryData={Item:unsafeWindow.Item,Items:b})}catch(a){Logger.error("parseInventoryData: "+a);return}},getInventoryData:function(b,a){if(!Util.isFunc(b)){return}if(a!==true){if(global.inventoryData){b(global.inventoryData);return}if(unsafeWindow.Item&&unsafeWindow.Items){b(global.inventoryData={Item:unsafeWindow.Item,Items:unsafeWindow.Items});return}}httpAjaxRequest({url:"remote/"+MW.getIntURL("inventory"),timeout:120000,message:"Loading inventory data...",success:function(c){if(!MW.update(c,false)){showBadResponse();b();return}b(MW.parseInventoryData(c))}})},getItemInfo:function(a,b){httpAjaxRequest({url:"remote/"+MW.getIntURL("item","get_item_data")+"&item_id="+a,success:function(d){var g,c,f;if(d.popup){f=c$("div").html(d.popup).find("#"+d.popup_id);g=Util.textNodes(f.find("h3"));c=Util.trim(f.find(".info dd:eq(1)").text());b(Util.trim(g),c)}else{b("Unknow")}}})},getSNAPIauth:function(){if(unsafeWindow&&unsafeWindow.SNAPI){return unsafeWindow.SNAPI.getAuthInformation()}else{var a=document.createElement("div");a.setAttribute("onclick","return SNAPI.getAuthInformation();");return a.onclick()}},decodeURL:function(b){try{var a,d=Base64.decode(b);if((a=/i:\d;s:\d+:"([^"]+)";i:\d;s:\d+:"([^"]+)";i:\d;s:\d+:"([^"]+)";/.exec(d))){return{next_controller:a[1],next_action:a[2],next_params:Util.uSplit("?"+a[3])}}return{}}catch(c){Logger.error("decodeURL: "+b);return{}}},getUserID:function(){if(unsafeWindow.User&&unsafeWindow.User.id){return unsafeWindow.User.id}var a=/'sf_xw_user_id':\s?'([^']+)'/.exec($("body").html());if(a){return unescape(a[1])}return null},update:function(g,f){try{var c=h$(g);var a=c.find("script:regex(text,local_xw_sig =|local_xw_sig=)");var d=c.find("script:regex(text,var user_fields =)");if(a.length>0){a.appendTo("body")}if(d.length>0){if(f!==false){return MW.evaluateUserFields(d.text())}else{return true}d.appendTo("body")}}catch(b){Logger.error(b)}return false},currentCity:function(){var a,c;try{if(typeof $!=="undefined"){a=$("#mw_city_wrapper").attr("class")}else{a=document.getElementById("mw_city_wrapper").className
}if(isNaN(c=parseInt(String(a).substring(7)))){throw Error("unexpected cityId value.")}return c}catch(b){Logger.error(b);return 1}},currentPageName:function(){return $("#inner_page").attr("class")},getIntURL:function(a,c,f,b){var d=["xw_controller="+(a||"index"),"xw_action="+(c||"view"),"xw_city="+(Util.isSet(f)?f:MW.currentCity()),"xw_person="+(Util.isSet(b)?b:global.PERSON_ID),"cb="+MW.guid(),"tmp="+MW.guid()];return"html_server.php?"+d.join("&")},mergeParams:function(f,d,b){var c="";if(!Util.isString(f)||!Util.isString(d)){return c}var a=[];if(f.indexOf("?")!==-1){c=f.split("?")[0]+"?"}f=Util.uSplit(f);d=Util.uSplit(f);Util.each(d,function(g,h){if(!Util.isSet(f[g])||b===true){f[g]=h}});Util.each(f,function(g,h){a.push(g+"="+h)});return c+a.join("&")},getExtURL:function(a,c,d){var b="http://apps.facebook.com/inthemafia/track.php?";if(typeof(d)!=="object"){d={}}b+="next_controller="+(a||"index");b+="&next_action="+(c||"view");Util.each(d,function(f,g){if(f=="next_params"){g=escape(Util.toJSON(g))}if(f!="next_controller"&&f!="next_action"){b+=("&"+f+"="+g)}});return b},getProfileLink:function(a){if(!Util.isSet(a)){a=global.USER_ID}if((a=String(a)).charAt(0)!=="p"){a="p|"+a}var b=Base64.encode(a);return"http://apps.facebook.com/inthemafia/profile.php?id="+escape('{"user":"'+b+'"}')},getFamilyLink:function(a){a=Base64.encode(String(a));return"http://apps.facebook.com/inthemafia/family.php?id="+escape('{"id":"'+a+'"}')},getGiftLink:function(a){try{if(typeof(a)!=="object"){throw ReferenceError("options is not defined.")}if(typeof(a.success)!=="function"){throw ReferenceError("callback is not defined.")}var c="";if(a.giftId){a.req_type="gift"}switch(a.req_type){case"gift":c=MW.getIntURL("requests","friend_selector")+"&free_gift_id="+(a.giftId||0)+"&free_gift_cat="+(a.giftCat||1);break;case"simple":c=MW.getIntURL("requests","friend_selector_simple",a.city)+"&req_type="+a.req_type+"&req_name="+a.req_name;break;case"safehouse":c=MW.getIntURL("safehouse","safehouse_request");break;case"masteryboost":c=MW.getIntURL("requests","friend_selector")+"&req_controller=AsnSocialJob";break}if(c.length<1){Logger.error("getGiftLink: "+Util.toJSON(a));return}httpAjaxRequest({url:"remote/"+c+"&fbml_iframe=1",data:a.params,liteLoad:1,message:a.message,success:function(g){var f=Util.doRgx(/<fb:req-choice url='([^']+)'/,g).$1;var d=Util.doRgx(/MW.Request.setData\('([^']+)/,g).$1;if(f){a.success(f)}else{if(d){a.success(MW.getExtURL("freegifts","accept_gift")+"&next_params="+escape(d))}else{a.success()}}}})}catch(b){Logger.error(b)}},getGiftRequest:function(a,d,f,c){var b=MW.getIntURL("requests","friend_selector");a="&free_gift_id="+(a||0);d="&free_gift_cat="+(d||1);httpAjaxRequest({url:"remote/"+b+a+d+"&fbml_iframe=1",liteLoad:1,data:c,success:function(h){var g=h$(h).find("div.request_item_container");f(Util.doRgx(/MW.Request.setData\('([^']+)/,h).$1,Util.doRgx(/MW.Request.setMsg\('([^']+)/,h).$1,Util.doRgx(/MW.Request.setTitle\('([^']+)/,h).$1,Util.formatText(Util.trim($("div:first",g).text())),Util.doRgx(/mwfb\/graphics\/(.+)/,$("img",g).attr("src")).$1)}})},getCityRequest:function(a,b){httpAjaxRequest({url:"remote/"+MW.getIntURL("requests","pop_mfs")+"&request_id="+a,liteLoad:1,success:function(c){b(Util.doRgx(/MW.Request.setData\('([^']+)/,c).$1,Util.doRgx(/MW.Request.setMsg\('([^']+)/,c).$1,Util.doRgx(/MW.Request.setTitle\('([^']+)/,c).$1)}})},getCountdown:function(f){var c=unsafeWindow.Countdowns;if(!c){return null}var d,b=0,a=c.getLength();while(b<a){d=c.get(b);if(d.id==f){return d}b+=1}},getGiftItemId:function(a,b,c){MW.getGiftRequest(a,b,function(f){var d;if(f){try{d=Util.parseJSON(unescape(f).replace(/\\"/g,'"')).item_id}catch(g){Logger.error("getItemId: "+g.message)}}c(d)})},deposit:function(c,b,d){var a="remote/";if(parseInt(b)<11){d("Can't deposit.");return}if(parseInt(c)===5){a+=MW.getIntURL("propertyV2","doaction",c);a+="&doaction=ActionBankDeposit&building_type=6&city="+c}else{if(global.city(c).enabled===true){a+=MW.getIntURL("bank","deposit_all",c)+"&city="+global.city(c).name.toLowerCase().replace(/\s/g,"_")}else{d("Error depositing cash: "+Util.setColor("unknow city id.","red"));return}}httpAjaxRequest({url:a+"&amount="+b,success:function(g){var f="Error depositing your cash of: "+b;try{f=g.deposit_message;if(typeof(f)=="undefined"){f=Util.parseJSON(g.data).success_message}}catch(h){Logger.error(h)}d(f,g)}})},evaluateUserFields:function(c){var a;try{if(Util.isSet(c.user_fields)){a=c.user_fields}else{if(/^\s*\{/.test(c)){a=Util.parseJSON(Util.trim(c)).user_fields}else{if(/var\suser_fields\s=/.test(c)){a=(new Function(Util.substr(c,"var user_fields","user_fields_update")+" return user_fields;"))()}}}}catch(b){Logger.error("evaluateUserFields: "+e)}finally{return a}},collectClanXP:function(a,b){httpAjaxRequest({url:"remote/"+MW.getIntURL("clan","collectProgress")+"&exp_type="+a,success:function(c){b&&b(c.msg)}})},activateCityCrew:function(c,a,f,d){var b=["isajax=1","crew_city="+c,"crew_slot="+f,"crew_type="+a,"crew_dsp_type="+(a=="prop"?"prop":"job")].join("&");
httpAjaxRequest({url:"remote/"+MW.getIntURL("CityCrew","activate")+"&"+b,success:function(g){try{var i=g.data;if(Util.isString(i)&&String(i).charAt(0)=="{"){i=Util.parseJSON(i)}if(!i.crewmsg){if(i.crewstatus=="ok"){i.crewmsg="City Crew is activated."}}d(i.crewstatus=="ok",i.crewmsg)}catch(h){d(false,String(h))}}})},collect:function(d,f,a){var c=[null,null,null,"health","rob_squad","totalcash","energy","stamina"];var b=MW.getIntURL("propertyV2","collectAll",d);if(isNaN(d=parseInt(d))){d=1}if(a&&a>2&&a<8){b+="&filter_type="+a}else{a=null}httpAjaxRequest({url:"remote/"+b+"&js=1&version=v2",success:function(h){var g={success:false,messages:[]};if(h.user_fields){g.stamina=parseInt(h.user_fields.user_stamina);g.energy=parseInt(h.user_fields.user_energy)}try{var j=Util.isString(h.data)?Util.parseJSON(h.data):h.data;g.success=true;g.data=j;if(Util.isSet(j.totalcash)){g.cash=Util.parseNum(j.totalcash)}Util.each(c,function(k,l){if(l!==null&&Util.isSet(j[l])){var m='Congratulations! You have collected <span class="'+l+'">'+j[l]+"</span>";g.messages.push(m);if(a!==null&&a==k){g.message=m}}});if(j.chopShopItems&&j.chopShopItems.length>0){Util.each(j.chopShopItems,function(k,l){if(l.text){g.messages.push("Congratulations! You have collected "+l.text)}})}}catch(i){retult.message="Error parsing collect data."}f(g)}})},usePack:function(c,b){var a="remote/"+MW.getIntURL("module","usePowerPack");httpAjaxRequest({url:a+(b=="hospital"?"&responseType=hospital&packType=1":""),liteLoad:1,success:function(f){var d=false;if(f&&f.user_fields){if(b=="hospital"){d={health:parseInt(f.user_fields.user_health),success:(f.heal_success==0),timer:600};d.message="PowerPack:<br>Health boosted to "+d.health+"."}else{var g=false;Util.each(f.responses,function(j,h){if(h.func=="usedPower"&&h.data){g=(h.data.success==0)}});d={stamina:parseInt(f.user_fields.user_stamina),success:g,timer:28800};d.success=(d.stamina>parseInt(f.user_fields.user_max_stamina));d.message="PowerPack:<br>Stamina boosted to "+d.stamina+"."}d.user_fields=f.user_fields}c&&c(d)}})},useEnergyPack:function(a){httpAjaxRequest({url:"remote/"+MW.getIntURL("module","useEnergyPack"),liteLoad:1,success:function(c){var b=false;if(c&&c.user_fields){var b={user_fields:c.user_fields,timer:28800};b.energy=parseInt(c.user_fields.user_energy);b.success=b.energy>parseInt(c.user_fields.user_max_energy);b.message="PowerPack:<br>Energy boosted to "+b.energy+"."}a&&a(b)}})},buyEnergyRefill:function(b,a){httpAjaxRequest({url:"remote/"+MW.getIntURL("marketplace","buy")+"&favor_type=6&category=8&favor_id="+b,liteLoad:1,success:function(d){var c=h$(d).find(".messages .message_body > span").text();a&&a(c||false)}})},heal:function(b,c){var a="remote/"+MW.getIntURL("hospital","heal",b);if(b===1){a="remote/"+MW.getIntURL("hospital","heal")+"&xcity=1"}httpAjaxRequest({url:a,success:function(d){try{c(d.hospital_message)}catch(f){c("Error healing at "+(b===1?"New York":"Current city"))}}})},getWaitHealTimer:function(a){httpAjaxRequest({url:"remote/"+MW.getIntURL("hospital","view"),success:function(d){var b=0;var c=h$(d).find("script:regex(text,var PowerPacks)");if(c.length>0){b=Util.doRgx(/waitHealTimer:\s*(-?\d+),/i,c.text()).$1}a&&a(parseInt(b))}})},travel:function(b,h,a,g){var c=/current_city_id'.\s*=\s*parseInt."(\d)".;/i;var d=a?"Traveling to "+global.city(b).name+"...":null;var f="&destination="+(Number(b)||1)+"&from="+(g||"index");httpAjaxRequest({url:"remote/"+MW.getIntURL("travel","travel")+f+"&nextParams=&menu=travel",liteLoad:1,message:d,selector:a,success:function(j){var i=Util.doRgx(c,j).$1||0;Logger.debug("MW.travel: "+i);h&&h(parseInt(i),j)}})},goPage:function(b,a,d){var c=Util.uSplit(b);httpAjaxRequest({url:b,liteLoad:1,message:"Loading page "+(c&&c.xw_controller||"..."),selector:a,success:function(f){Reminders.check(b);d&&d(f)}})},openPopup:function(a,b,d,c){httpAjaxRequest({url:"remote/"+MW.getIntURL(a,b)+c,liteLoad:1,selector:"#popup_fodder",message:"Loading popup "+(a||"..."),success:d})},getMyMafia:function(b,a){if(!Util.isFunc(a)){return}if(!Util.isArray(b)){a&&a();return}httpAjaxRequest({url:"remote/"+MW.getIntURL("friendladder","friend_actions")+"&friends="+Util.toJSON(b),success:function(c){try{a(Util.parseJSON(c.data).json_data)}catch(d){Logger.error(d);a()}}})},guid:function(a){var b="";if(!a){a=8}for(var c=0;c<a;c++){b+=(((1+Math.random())*65536)|0).toString(16).substring(1)}return b}};var facebook={fanpage:"183999591658872",user:{first_name:"Unknow"},initialized:false,session:{access_token:null,uid:0},updateSession:function(d){var b=facebook;var a=false;var c=setTimeout(function(){a=true;Logger.error('Request to "updateSession" failed "timeout".');d({error:{message:"timeout"}})},30000);MWFB.getLoginStatus(function(f){if(a!==false){return}clearTimeout(c);if(f&&f.authResponse){b.session.access_token=f.authResponse.accessToken;b.session.uid=f.authResponse.userID}else{try{var g=unsafeWindow.SNAPI.sessionInformation["1"].session;b.session.access_token=g.access_token;b.session.uid=g.user_id
}catch(h){Logger.error("Unable to load facebook session.")}}d&&d(b.session)},true)},init:function(a){if(facebook.initialized){a&&a(true);return}facebook.updateSession(function(){if(facebook.session.access_token!==null){facebook.initialized=true;MWFB.api("/me",function(b){if(b&&b.first_name){facebook.user=b}else{try{facebook.user.first_name=unsafeWindow.SNAPI.getCurrentUserInfo().name}catch(c){Logger.error("Unable to load facebook user info.")}}a&&a(true)})}else{showHelpPopup({icon:"error",title:"Facebook is not available",message:"There is not an available connection with facebook.<br>Reloading the game could fix this issue."});a&&a(false)}})},api:function(d,g,i,f){if(facebook.session.access_token==null){i&&i({error:{message:"Invalid OAuth access token."}});return}var a=false,c="https://graph.facebook.com",b=parseInt((new Date()).getTime()),h=setTimeout(function(){a=true;Logger.error('Request to "'+d+'" failed "timeout".');i({error:{message:"timeout"}})},Math.max(UserConfig.main.fbTimeout||0,30)*1000);f=f||{};f.format="json";f.access_token=facebook.session.access_token;if(/fql\.query|stream\.publish/.test(g)){c="https://api.facebook.com/method"}$.ajax({url:c+(g.charAt(0)==="/"?"":"/")+g+"?callback=?",dataType:"jsonp",global:false,data:f,success:function(k){clearTimeout(h);if(a===false){var j=parseInt((new Date()).getTime())-b;if(k.error_code){k.error={code:k.error_code,message:k.error_msg}}if(k&&k.error){Logger.error('Request to "'+d+'" failed "'+k.error.message+'".')}else{Logger.debug('Request to "'+d+'" completed. ('+Util.toDelayString(j)+").")}i(k)}}})},getAppPermissions:function(a){facebook.api("getAppPermissions","me/permissions",a)},requestPermission:function(a,b){if(!Util.isFunc(b)){return}MWFB.login(function(c){if(c&&c.authResponse){b(true)}else{b(false)}},{scope:a})},needAppPermission:function(b,c){if(!Util.isFunc(c)){return}var a=false;facebook.getAppPermissions(function(d){var f=(d&&d.data&&d.data[0])?d.data[0]:null;if(!f){facebook.requestPermission(b,c);return}Util.each(b.split(","),function(h,g){return(a=(parseInt(f[g])!==1))===false});if(a){facebook.requestPermission(b,c)}else{c(true)}})},sendRequest:function(c,f,a){var d=c.data;c.data="";c.message=String(c.message).replace(/&#39;/gi,"'");if(a!==true){facebook.updateSession(function(g){c.method="apprequests";if(Util.isArray(c.to)){c.to=Util.toJSON(c.to)}MWFB.ui(c,b)})}else{b({request:parseInt((new Date()).getTime()/1000)})}function b(g){if(!(g&&g.request)){f(false);return}var h="remote/"+MW.getIntURL("requests","postSend");h+="&rid="+g.request;h+="&data="+d;h+="&to="+c.to;httpAjaxRequest({url:h,success:function(i){if(i&&i.data&&i.data.reqsentmsg){f($(i.data.reqsentmsg).find("div:first").html())}else{f(false)}},error:function(i){f(false,i)}})}},streamPublish:function(d,i){var g,c,a,b=d.actionLinks;function h(j){return j.replace(/&#39/gi,"'").replace(/&#34/gi,'"').replace(/\{\*actor\*\}/gi,facebook.user.first_name)}if(!Util.isSet(b)&&(d.actionText&&d.link)){b=new Array({name:d.actionText,link:d.link})}if(d.caption){d.caption=h(d.caption)}if(d.description){d.description=h(d.description)}if(d.name){d.name=h(d.name)}if(!Util.isSet(d.target)||parseInt(d.target)===0){c=Util.toJSON(UserConfig.main.privacy)}else{g=d.target}var f={message:d.message,link:d.link,picture:d.picture,source:d.source,name:d.name,caption:d.caption,description:d.description,actions:b};if(Util.isSet(d.properties)){a={name:d.name,properties:d.properties};if(d.picture&&d.link){a.media=[{type:"image",src:d.picture,href:d.link}];a.href=d.link}}if(Util.isSet(b)){b=Util.toJSON(b)}facebook.needAppPermission("publish_stream",function(j){if(j!==true){return}if(UserConfig.main.publishPreview===true&&!Util.isSet(g)){if(Util.isSet(a)){MWFB.ui({method:"stream.publish",message:d.message,attachment:a,action_links:b},i)}else{f.method="feed";MWFB.ui(f,i)}}else{if(Util.isSet(a)){facebook.api("streamPublish","stream.publish",i,{message:d.message,target_id:d.target,privacy:c,attachment:Util.toJSON(a),action_links:b})}else{f.method="post";f.privacy=c;f.actions=b;facebook.api("streamPublish",(g?g:"me")+"/feed",i,f)}}})},notesCreate:function(b,a,c){facebook.needAppPermission("create_note",function(d){if(d===true){facebook.api("notesCreate","me/notes",c,{method:"post",subject:b,message:a})}})},notesGet:function(b,a){facebook.api("notesGet",(b||"me")+"/notes",a)},likeAdd:function(b,a){facebook.api("likeAdd",b+"/likes",a,{method:"post"})},commentAdd:function(c,b,a){facebook.api("commentAdd",c+"/comments",a,{method:"post",message:b})},friendlist:function(a){facebook.api("friendlist","/me/friendlists",a)},friendlistGet:function(a,b){facebook.api("friendlistGet","/"+a+"/members",b)},friendlistCreate:function(a,b){facebook.api("friendlistCreate","/me/friendlists",b,{method:"post",name:a})},friendlistAdd:function(a,b,c){facebook.api("friendlistAdd","/"+a+"/members/"+b,c,{method:"post"})},getFeeds:function(c,b,a){a=a||{};a.date_format="U";facebook.api("getFeeds",c+"/feed",b,a)},getLinks:function(c,b,a){a=a||{};a.date_format="U";
facebook.api("getLinks",c+"/links",b,a)},getAppUsers:function(a,b){facebook.api("getAppUsers","",b,{ids:a.join(","),fields:"id,installed,name"})},getUsers:function(a,b){facebook.api("getUsers","",b,{ids:a.join(","),fields:"id,first_name,name,picture,link"})},getAppFriends:function(b){var a="SELECT uid, name FROM user WHERE is_app_user AND uid IN (SELECT uid2 FROM friend WHERE uid1 = me())";facebook.updateSession(function(){facebook.api("getAppFriends","fql",function(c){b(c&&c.data)},{q:a})})},getGroups:function(a){facebook.needAppPermission("user_groups",function(c){var b={"0":"My Wall"};if(!c){a(b);return}facebook.api("getGroups","me/groups",function(d){if(d&&d.data){Util.each(d.data,function(f,h){b[h.id]=h.name})}a(b)})})},getGroupsMembers:function(b,a){facebook.needAppPermission("user_groups",function(c){facebook.api("getGroupsMembers",b+"/members",a)})},queryWallFeeds:function(c,b){var a="source_id = me()";if(!b){b={}}if(!b.until){b.until=(new Date()).getTime()}if(!b.limit){b.limit=150}facebook.updateSession(function(d){if(d.error){c&&c(d);return}switch(b.filter){case"myself":a+=" AND actor_id = me()";break;case"others":a+=" AND actor_id <> me()";break;case"empty":a+=" AND comments.count < 1";break}if(Util.isString(b.search)&&b.search.length>2){a+=' AND strpos(lower(attachment.name),lower("'+b.search+'")) >= 0'}facebook.api("queryWallFeeds","fql.query",c,{query:"SELECT strip_tags(attachment),created_time,post_id,actor_id,target_id,permalink,comments FROM stream WHERE "+a+' AND app_id = "10979261223" AND created_time < '+b.until+" limit "+b.limit})})},queryUsersFeed:function(b,a){facebook.updateSession(function(c){if(c.error){a&&a(c);return}facebook.api("queryUsersFeed","fql.query",a,{query:"SELECT post_id,source_id,created_time,permalink FROM stream WHERE source_id IN ("+b.join(",")+') AND filter_key="app_10979261223" AND created_time>0 order by created_time desc limit 300'})})},queryFeed:function(c,a){var b="source_id IN (SELECT uid2 FROM friend WHERE uid1 = me()";if(!Util.isObject(a)){a={}}if(!Util.isNumber(a.limit)){a.limit=150}if(Util.isArray(a.flid)&&a.flid.length>0){b+=" AND uid2 IN (SELECT uid FROM friendlist_member WHERE flid IN ("+a.flid.join(",")+"))";if(Util.isArray(a.uid)&&a.uid.length>0){b+=" OR uid2 IN ("+a.uid.join(",")+")"}}else{if(Util.isArray(a.uid)&&a.uid.length>0){b+=" AND uid2 IN ("+a.uid.join(",")+")"}}facebook.updateSession(function(d){if(d.error){c&&c(d);return}facebook.api("queryFeed","fql.query",c,{query:"SELECT strip_tags(attachment),post_id,source_id,target_id,created_time,permalink FROM stream WHERE "+b+') AND filter_key="app_10979261223" AND created_time>0 order by created_time desc limit '+a.limit})})},removeFeed:function(a,b){facebook.api("removeFeed",a,b,{method:"delete"})},homeFeedParser:function(d,a){var c=false;if(Util.isArray(a.uid)&&a.uid.length>0){c=new RegExp(a.uid.join("|").replace(/"/g,""),"i")}function b(i){if(!Util.isString(i)){return[]}var g=[];var h=global.location.protocol;var f=h$(i.replace(/<!--\s/g,"")).find("li.uiStreamStory");f.each(function(m,p){var s={};if($("a:regex(href,apps.facebook.com)",p).length<1){return true}var l=$(".actorName > a",p);var q=$("form .UIActionLinks .uiLinkLightBlue:last",p);var o=$("form .uiStreamSource > a",p);var r=$("form .uiStreamSource .timestamp",p);var j=$(".shareRedesign .shareMediaPhoto",p);if(j.length<1){j=$(".uiStreamAttachments .external img",p).attr("src")}else{j=Util.getPicture(j.attr("style"))}try{var k=/id=(\d+)/.exec(l.attr("data-hovercard"))[1];var n=/posts\/(\d+)/.exec(o.attr("href"))[1];var t=h+"://www.facebook.com/"+k+"/posts/"+n;if(c&&!c.test(k)){return true}s.id=k+"_"+n;s.from={name:l.text(),id:k};s.picture=j;s.link=$(".uiStreamAttachments .attachmentText > a").attr("href");s.name=$(".uiStreamAttachments .uiAttachmentTitle",p).text();s.caption=$(".uiStreamAttachments span.caption",p).text();s.description=$(".uiStreamAttachments .uiAttachmentDesc",p).text();s.icon=$(".uiStreamFooter > a > img",p).attr("src");s.created_time=(s.updated_time=parseInt(r.attr("data-utime")));s.comments={count:0};if(!s.link){s.link=q.attr("href")}s.actions=[{name:"Comment",link:t},{name:"Like",link:t},{name:q.text(),link:q.attr("href")}];s.attachment={media:[{href:s.link,type:"link",src:j}],name:s.name,href:s.link,caption:s.caption,description:s.description};s.post_id=s.id;s.source_id=k;s.target_id=null;s.permalink=t;g.push(s)}catch(p){}});return g}httpXDRequest({method:"GET",url:"https://www.facebook.com/?sk=app_10979261223",onload:function(f){d(b(f&&f.responseText))}})}};function httpXDRequest(c,b){var a=Util.isSet(c.onerror)?c.onerror:c.onload;if(Chromium.avail==true){Chromium.sendRequest(function(d){if(!Util.isSet(d)){if(b!==true){showHelpPopup({icon:"info",title:"MWAddon Connection.",message:"Cant communicate with MWA Extension."})}a(false)}else{if(Util.isSet(c.onload)){c.onload(d)}}},c)}else{if(global.xd_support===true){setTimeout(function(){try{GM_xmlhttpRequest(c)}catch(d){Logger.error("httpXDRequest: "+d)}},0)}else{if(b!==true){showHelpPopup({icon:"error",title:"not supported",message:"This feature is not supported by your browser."})
}a("Not supported.")}}}function httpRequest(d){try{var i=String((new Date()).getTime());if(typeof(d.success)!=="function"){throw ReferenceError("success is not defined")}if(typeof(d.url)!=="string"){throw ReferenceError("url is not defined")}if(typeof(d.timeout)!=="number"){d.timeout=Math.max((UserConfig.main.rqTimeout||0),30)*1000}if(d.liteLoad!==1){d.liteLoad=0}if(typeof(d.error)!=="function"){d.error=d.success}var h=unsafeWindow.MW_BASE_URL;var b=(d.url.indexOf("?")==-1)?"?":"&";var c="";if(!/^https?/.test(d.url)){if(h){d.url=h+"/"+d.url}else{d.url=global.location.protocol+"://"+global.location.host+"/mwfb/"+d.url}}if(global.mwcom&&!/mwcom=1/.test(d.url)){d.url+=b+"mwcom=1";b="&"}var a={ajax:1,liteload:d.liteLoad,sf_xw_user_id:unsafeWindow.User.id,sf_xw_sig:unsafeWindow.local_xw_sig,clicks:unsafeWindow.User.clicks};if(typeof(d.data)=="object"){Util.each(d.data,function(j,k){a[j]=k})}var g=setTimeout(function(){if(Util.isSet(global.AjaxRequests[i])){httpAjaxStopRequests(i,"Timeout");d.error&&d.error("timeout.")}},d.timeout);if(!Util.isBoolean(d.global)){d.global=false}$.ajax({type:"POST",dataType:"text",global:d.global,url:d.url+b+"xw_client_id=8",data:a,timeout:d.timeout+2,success:function(j,k){clearTimeout(g);delete global.AjaxRequests[i];j=Util.trim(j);if(j===""){d.error("Response is empty.")}else{if(j.substring(0,5)==="ERROR"){d.error(j)}else{d.success(j)}}},error:function(j,k){clearTimeout(g);delete global.AjaxRequests[i];d.error(k)},beforeSend:function(j){global.AjaxRequests[i]=j}});unsafeWindow.User.clicks++}catch(f){Logger.error(f);d&&d.error&&d.error()}}function httpAjaxRequest(h,j){var c=1;var d=Util.isString(h.message);function a(k){k=Util.parseJSON(k);if(h.update!==false){if(Util.isSet(k.user_fields)){if(Util.isFunc(unsafeWindow.user_fields_update)){unsafeWindow.user_fields_update(k.user_fields)}if(Util.isFunc(unsafeWindow.user_info_update)){unsafeWindow.user_info_update(k.user_fields,k.user_info)}}if(Util.isSet(unsafeWindow.MW)){if(Util.isSet(k.questData)){try{unsafeWindow.MW.QuestBar.update(k.questData)}catch(l){Logger.error("Error updating questData")}}if(Util.isSet(k.worstitems)){try{unsafeWindow.MW.WorstItemsModule.update(k.worstitems)}catch(l){Logger.error("Error updating WorstItemsModule")}}}}h.success(k)}function g(l){if(h.selector==="#inner_page"){var o=$(h.selector);try{var m=Util.substr(l,"!-- Current Page: ","-->",1,18);if(m){var k=Util.doRgx(/Page:\s*([a-zA-Z]*)_controller\s*([0-9]+)/i,m);o.html(l);if(k.$1){o.attr("class",k.$1+"_controller");unsafeWindow.User.page=k.$1}if(k.$2&&unsafeWindow.User.bt!==parseInt(k.$2,10)){unsafeWindow.User.bt=parseInt(k.$2,10);unsafeWindow.MW.reloadJS()}if(m.indexOf("sk_update")!=-1){unsafeWindow.SK.update()}}}catch(n){Logger.error(n)}}else{if(Util.isString(h.selector)){$(h.selector).html(l)}}if(/^<script type="text\/javascript">top\.location\.href/.test(l)&&typeof GM_reloadCookie!=="undefined"){GM_reloadCookie();h.error("Refresh required.")}else{h.success(l)}}function i(k){return(function(l){if(d){loadingScreen()}if(k===true){if(l.charAt(0)==="{"){a(l)}else{g(l)}}else{h.error(false,l)}})}try{if(Util.isString(h)&&Util.isFunc(j)){var b=h;h={url:b,success:j}}if(!Util.isObject(h)){throw ReferenceError("args is not defined.")}if(!Util.isFunc(h.success)){if(Util.isFunc(j)){h.success=j}else{h.success=Util.noop}}if(!Util.isFunc(h.error)){h.error=h.success}if(!Util.isSet(h.data)){h.data={}}if(h.update!==false){h.update=true}if(d){loadingScreen(h.message)}httpRequest({url:h.url,data:h.data,liteLoad:h.liteLoad,timeout:h.timeout,global:Util.isString(h.selector),success:i(true),error:i(false)})}catch(f){Logger.error(f);loadingScreen();h&&h.error&&h.error(f.message)}}function httpAjaxStopRequests(c,a){function b(f,d){d.onreadystatechange=function(){};d.abort();delete global.AjaxRequests[f];Logger.debug("Aborted Request id: "+f+" "+(a?a:""))}if(c){b(c,global.AjaxRequests[c])}else{Util.each(global.AjaxRequests,b)}}function showBadResponse(a){showHelpPopup({icon:"error",title:"Bad server response",message:a||"There is an error in the server response. Try again later."})}var Resources={content:{},_getImageSize:function(d,c){var a=document.createElement("img");var b="if(!window.MWAddonImageSizes) window.MWAddonImageSizes={};\nwindow.MWAddonImageSizes[this.id] = {id:this.id,width:this.width,height:this.height};";a.setAttribute("id",d);a.setAttribute("onload",b);a.setAttribute("src",c)},add:function(b,a){if(Util.isString(b)&&Util.isString(a)){Resources.content[b]=Util.trim(a);if(a.indexOf("data:image")>-1){Resources._getImageSize(b,a)}}},exists:function(a){return Util.isSet(Resources.content[a])},get:function(b){var a=Resources.content[b];if(a){if(a.indexOf("data:text")>-1){a=Base64.decode(a)}return a}},getPicture:function(b,a){return c$(a||"div").addClass("mwa_res_"+b)},getImage:function(f,a,c){var d=Resources.content[f],b=c$("img");if(d){if(a){b.width(a)}if(c){b.height(c)}return b.attr("src",Resources.content[f])}else{return c$("span")}},className:function(a){return"mwa_res_"+a
},init:function(){if(e$("#mwaddon_resources")){$("#mwaddon_resources").remove()}var b="",a=Base64.decode("Lm13YV9yZXNfJHtpZH0gew0KYmFja2dyb3VuZDogdXJsKCR7c3JjfSkgdG9wIGxlZnQgbm8tcmVwZWF0Ow0KYmFja2dyb3VuZC1zaXplOiAke3dpZHRofXB4ICR7aGVpZ2h0fXB4Ow0KYmFja2dyb3VuZC1wb3NpdGlvbjogMHB4IDUwJTsNCm1pbi1oZWlnaHQ6ICR7aGVpZ2h0fXB4Ow0KbWluLXdpZHRoOiAke3dpZHRofXB4Ow0Kd2lkdGg6ICR7d2lkdGh9cHg7DQp9");Util.each(unsafeWindow.MWAddonImageSizes,function(d,c){c.src=Resources.content[d];b+=Util.render(a,c)+"\n"});if(Resources.exists("global_css")){b+=Util.render(Resources.get("global_css"),{base_url:global.zGraphicsURL})}if(Resources.exists("tabclass_css")){b+=Util.render(Resources.get("tabclass_css"),{base_url:global.zGraphicsURL})}c$("style","id:mwaddon_resources").text(b).appendTo("head")}};var URLServices={toArray:function(a){var b={};if(Util.isSet(URLServices[a])){Util.each(URLServices[a],function(d,c){b[d]=c.name})}return b},add:function(c,d,a){var b=URLServices[c];if(Util.isSet(b)&&Util.isSet(a)){b[d]=a}},shorten:{bitly:{name:"bit.ly",url:"http://api.bit.ly/v3/shorten?callback=?&format=json&longUrl=",format:"jsonp",description:'<span style="color:green;">Work with any browser.</span>',login:{name:"login",key:"apiKey"},parser:function(a){if(a.status_code===200){return a.data.url}return false}},"JSON-TinyUrl":{name:"[JSON] TinyUrl",url:"http://json-tinyurl.appspot.com/?callback=?&url=",format:"jsonp",description:'<span style="color:green;">Work with any browser.</span>',parser:function(a){if(a.ok){return a.tinyurl}return false}},TinyUrl:{name:"TinyUrl",url:"http://tinyurl.com/api-create.php?url=",description:'<span style="color:yellow;">Need cross domain capabilities to work.</span>',format:"text",parser:function(a){return Util.doRgx(/http:\/\/tinyurl\.com\/[\w\d]+/,a).$0}},Google:{name:"Google URL Shortener",url:"http://goo.gl/api/shorten?security_token=&url=",format:"json",description:'<span style="color:yellow;">Need cross domain capabilities to work.</span>',parser:function(a){if(a.short_url){return a.short_url}return false}},IsGD:{name:"is.gd",url:"http://is.gd/create.php?opt=0&shorturl=&url=",format:"text",description:'<span style="color:yellow;">Need cross domain capabilities to work.</span>',parser:function(a){if(typeof($)!=="undefined"){return h$(a).find("#short_url").val()}else{return Util.doRgx(/value="(http:\/\/is\.gd\/[0-9a-zA-Z]+)"/,a).$1}}}},unshorten:{"unshort.me":{name:"unshort.me",url:"http://unshort.me/index.php?r=",format:"text",description:'<span style="color:yellow;">Need cross domain capabilities to work.</span>',parser:function(a){if(typeof($)!=="undefined"){return h$(a).find(".result a").attr("href")}else{return Util.doRgx(/class="result".*?href="(.+?)"/,a).$1}}},LongURL:{name:"LongURL",url:"http://longurl.org/expand?url=",format:"text",description:'<span style="color:yellow;">Need cross domain capabilities to work.</span>',parser:function(a){if(typeof($)!=="undefined"){return h$(a).find("#content dl:first > dd:last a").attr("href")}else{return false}}},"JSON-LongURL":{name:"[JSON] LongURL",url:"http://api.longurl.org/v2/expand?format=json&url=",format:"jsonp",description:'<span style="color:green;">Work with any browser.</span>',parser:function(a){if(a["long-url"]){return a["long-url"]}return false}}}};function getShortURL(j,i,g){function d(l){var m=c.parser(l);if(m){i(m)}else{if(g){g("Error parsing short service callback.")}}}try{if(!Util.isFunc(i)){throw ReferenceError("Success callback is not defined.")}if(!Util.isString(j)||!/http/.test(j)){throw ReferenceError("longURL is not defined.")}var c=URLServices.shorten[UserConfig.main.get("shortServiceID")];if(global.xd_support!==true&&c.format!=="jsonp"){c=URLServices.shorten["JSON-TinyUrl"]}var h,b="";if(c.login){h=UserConfig.main.get("shortServiceLogin");b+="&"+c.login.name+"="+h[c.login.name];b+="&"+c.login.key+"="+h[c.login.key]}if(c.format!=="jsonp"){httpXDRequest({method:"POST",url:c.url+escape(j)+b,onerror:g,onload:function(l){var m=l.responseText;if(c.format!=="text"){m=Util.parseJSON(m)}if(c.parser){d(m)}else{i(m)}}},true)}else{if(typeof($)!=="undefined"){var k=false;var f=setTimeout(function(){k=true;g&&g(Util.setColor("Timeout while unshorting url","red"))},Math.max(UserConfig.main.jsTimeout,5)*1000);$.ajax({dataType:"jsonp",url:c.url+escape(j)+b,global:false,success:function(l){if(k===false){clearTimeout(f);d(l)}}})}else{g&&g("jQuery not loaded.")}}}catch(a){Logger.error(a);g&&g(a.message)}}function getUnshortUrl(a,i,h){function c(k){Logger.error(k);h&&h(k.message)}function f(k){var l=d.parser(k);if(l){i(l)}else{if(h){h("Error parsing unshort service callback.")}}}try{if(!Util.isFunc(i)){throw ReferenceError("callback is not defined.")}if(!Util.isString(a)||!/http/.test(a)){throw ReferenceError("shortURL is not defined.")}var d=URLServices.unshorten[UserConfig.main.get("unshortServiceID")];if(global.xd_support!==true&&d.format!=="jsonp"){d=URLServices.unshorten["JSON-LongURL"]}if(d.format!=="jsonp"){httpXDRequest({method:"POST",url:d.url+escape(a),onerror:h,onload:function(k){var l=k.responseText;
if(d.format!=="text"){l=Util.parseJSON(l)}if(d.parser){f(l)}else{i(l)}}},true)}else{if(typeof($)!=="undefined"){var j=false;var g=setTimeout(function(){j=true;h&&h(Util.setColor("Timeout while unshorting url","red"))},Math.max(UserConfig.main.jsTimeout,5)*1000);$.ajax({dataType:"jsonp",url:d.url+escape(a),global:false,success:function(k){if(j===false){clearTimeout(g);f(k)}}})}else{h&&h("jQuery not loaded.")}}}catch(b){c(b)}}function PopupObject(p,i){var k=this;var h=Math.round(new Date().getTime()/100);if(Util.isObject(p)){i=p;p="mwaddon_popup_"+h}if(!Util.isObject(i)){i={}}if(!Util.isString(i.title)){if(i.title&&i.title.html){i.title=c$("div").append(i.title).html()}else{i.title=""}}if(i.autoOpen!==true){i.autoOpen=false}if(!Util.isBoolean(i.center)){i.center=true}if(!Util.isString(i.type)){i.type="normal"}if(!Util.isSet(i.appendTo)){i.appendTo=e$("#fbmw_addon_popup")}else{if($(i.appendTo).attr("id")){p=$(i.appendTo).attr("id")+"_"+p}}if(!Util.isNumber(i.zIndex)){i.zIndex=1000+(Util.length(global.Popups)*2)}var n=c$("div","id:pop_"+h).appendTo((i.appendTo||c$("div","fbmw_addon_popup").prependTo("#final_wrapper")));var c=c$("div","class:pop_bg,pop_bg_"+h).css("display","none").appendTo(n);var f=c$("div","class:pop_box,pop_box_"+h).css("display","none").appendTo(n).css("top",i.top||80);var g=c$("div","class:mwa-popup-top").appendTo(f);var d=c$("div","class:mwa-popup-content,id:"+p).appendTo(f);var m=c$("div").appendTo(f);var j={width:730,top:i.top||15};var l=c$("center").html(i.title);switch(i.type){case"main":n.addClass("mwa-popup-main");break;case"reqs":n.addClass("request_iframe_pop");break;case"rob":n.addClass("pop_rob");break;case"help":n.addClass("cash_help_box");break;case"simple":n.addClass("simpleWithTitle");break;case"settings":n.addClass("account_settings_popup_box");break;case"normal":default:i.type="modern";n.addClass("mwa-popup-modern")}if(i.hideCloseButton!==true){c$("a").appendTo(f).addClass("pop_close").bind("click",o)}if(i.type=="main"){f.css(j);$(Resources.getPicture("mwaddon_icon_png")).css({"float":"left",margin:2}).appendTo(g);l.html(i.title).appendTo(g)}else{if(i.type=="modern"){g.html(i.title)}else{g.css("height",15);g.removeClass("mwa-popup-top")}}if(i.width){f.width(i.width)}if(i.content){d.append(i.content)}if(i.center){d.css("text-align","center")}if(Util.isArray(i.buttons)){m.addClass("mwa-popup-bottom");Util.each(i.buttons,function(r,q){if(!Util.isObject(q)){q={}}if(!Util.isString(q.label)){q.label="undefined"}if(!Util.isFunc(q.onclick)){q.onclick=o}b$(q.label).appendTo(m).css("margin-left",5).click(a).click(q.onclick).addClass(q.addClass)})}else{m.css("padding","10px 5px")}f.css({background:i.background?i.background:"#121212",left:"50%",margin:"0px -"+String(f.outerWidth()/2)+"px"});f.css("z-index",i.zIndex+1);c.css("z-index",i.zIndex);if(Resources.exists(p+"_css")){c$("style").append(Util.render(Resources.get(p+"_css"),{base_url:global.zGraphicsURL})).prependTo(f)}function o(){if(typeof(i.onclose)=="function"){if(i.onclose.apply(this)===false){return}}$(".hasTooltip",d).unbind();f.fadeOut(200,function(){k.destroy();c.hide();$("#content_row, #inner_page").height("auto")});return false}function a(){if(i.closeAfterClick===true){o()}return false}function b(q){if(k.is_closed===true){return}if($(unsafeWindow).scrollTop()>0&&i.type!=="main"){f.css({position:"fixed",top:Util.parseNum(f.css("top"))+15+"px"})}if(q===true){$("#TopField").focus()}if(!Util.isObject(global.Popups[h])){if(Util.isSet(i.tooltips)){if(i.tooltips!==false){Tooltips.applyTo(i.tooltips,i.zIndex)}}else{if(/modern|main/.test(i.type)){Tooltips.applyTo(p,i.zIndex)}}global.Popups[h]={type:i.type,popup:k}}c.show();f.show()}this.addBase64Style=function(r,q){r=Base64.decode(r);if(Util.isObject(q)){c$("style").append(Util.render(r,q)).prependTo(f)}else{c$("style").append(r).prependTo(f)}};this.addBase64Script=function(q){c$("script").append(Base64.decode(q)).prependTo(f)};this.destroy=function(){n.remove();k.is_closed=true;global.Popups[h]=null;delete global.Popups[h]};this.applyOptions=function(q){Util.each(q,function(t,s){var r=$("#"+t,f);Util.each(s,function(v,u){r.append(c$("option","value:"+v).text(u))})})};this.close=o;this.show=b;this.header=g;this.content=d;this.zIndex=i.zIndex;if(i.autoOpen){b()}return this}function TabObject(b){var c=this;var f=(c.main=c$("div","class:mwa_tab"));var a=c$("div","class:tab_header").appendTo(f);var d=c$("div","class:tab_wrapper").appendTo(f);this.header=c$("div","class:tab_right").appendTo(a);this.buttons=[];this.content=[];if(Util.isString(b.id)){f.attr("id",b.id)}if(Util.isSet(b.height)){d.height(b.height)}if(Util.isSet(b.width)){f.width(b.width)}if(Util.isSet(b.padding)){d.css("padding",b.padding)}if(Util.isSet(b.background)){d.css("background",b.background)}if(!Util.isArray(b.tabs)){b.tabs=["Unknow Tab Name"]}if(!Util.isSet(b.border)){d.css("border",b.border)}if(b.appendTo){f.appendTo(b.appendTo)}Util.each(b.tabs,function(h,i){var g=c$("div","class:tab_layer").appendTo(d);var j=c$("div","class:tab_button").appendTo(a);
if(Util.isString(i)){i={label:i}}c$("div","class:button_start").html("&nbsp;").appendTo(j);c$("div","class:button_middle").html(i.label).appendTo(j);c$("div","class:button_end").html("&nbsp;").appendTo(j);if(b.overflow){g.css("overflow-y","auto")}if(b.border){g.css("border",b.border)}c.content.push(g);c.buttons.push(j.click(function(k){if(j.hasClass("disabled")||j.hasClass("active")){return false}$(".tab_layer",f).hide();$(".tab_button",a).removeClass("active");g.show();j.addClass("active");if(Util.isFunc(i.onclick)){i.onclick(k,h)}return false}))});c.content[0].css("display","block");c.buttons[0].addClass("active");return this}TabObject.prototype={showTab:function(b,a){if(this.buttons&&this.buttons[b]&&!this.buttons[b].hasClass("disabled")){if(a===false){Util.each(this.buttons,function(d,c){$(c).toggleClass("active",d==b)});Util.each(this.content,function(d,f){$(f)[d==b?"show":"hide"]()})}else{this.buttons[b].click()}}},getButton:function(a){if(this.buttons&&this.buttons[a]){return this.buttons[a]}},buttonEnabled:function(d,c){var a=this.getButton(d);if(a){a.toggleClass("disabled",c===false)}},buttonDisplay:function(d,c){var a=this.getButton(d);if(a){a[c?"show":"hide"]()}},getLayout:function(a){return this.content[a]}};function DropDownTextObject(f,b){var a=c$("span").css({display:"inline"});var d=t$(f,b).appendTo(a);var c=c$("textarea","id:textarea-"+f).appendTo(a);a.hover(function(h){var g=d.position();g.top+=d.outerHeight();c.css({position:"absolute",left:g.left,top:g.top-1,width:d.width()-3});c.show();c.val(String(d.val()).replace(/\\n/g,"\n"))},function(g){c.hide();d.val(String(c.val()).replace(/\n/g,"\\n"))});d.attr("readonly","readonly");c.hide();c.width(b);c.height(100);return a}function DropDownObject(f,j,g,b){var k=c$("span","class:ui-multi-checkbox,id:"+f).attr("name","checkboxlist");var l=c$("span","class:ui-multi-outer").appendTo(k);var d=c$("span","class:ui-multi-ctrl").appendTo(l);c$("span","class:ui-multi-button mwa_res_dropdownbutton_png").appendTo(l);var c=c$("div","class:ui-multi-menu").appendTo(k);var a=function(){var n=[];$(".checked",c).each(function(o,p){n.push("<span>"+p.textContent+"</span>")});d.html(n.length>0?n.join(", "):j)};var i=function(o){var n=String($(this).attr("href")).substr(1);$(".checkbox",c)[n==="all"?"addClass":"removeClass"]("checked");a()};var m=function(n){if(!k.is(n.target)&&k.has(n.target).length===0){k.removeClass("ui-multi-over");$(document).unbind("mousedown",m)}};var h=function(q){var o=k;if(!o.hasClass("ui-multi-over")){var r=$(".ui-multi-outer",o),n=r.position();n.top+=r.outerHeight();$(".ui-multi-menu",o).css({left:n.left,top:n.top+1,width:r.width()-2});o.addClass("ui-multi-over");a();$(document).mousedown(m)}else{o.removeClass("ui-multi-over");$(document).unbind("mousedown",m)}};c$("div","class:ui-multi-top").appendTo(c).append(c$("a","href:#all").text("select-all").click(i)).append(c$("a","href:#none").text("select-none").click(i));Util.each(b,function(o,n){c$("div").appendTo(c).text(String(n)).css({cursor:"pointer",margin:1}).attr({value:o,name:"checkbox","class":"checkbox"}).click(function(p){$(this).toggleClass("checked");a()})});k.width(g);d.width(g-25).html("<span>"+j+"</span>");l.click(h);k.bind("update",a);return k}function DataGridTable(B){var c={onbeforepagechange:null,onbeforesorting:null,onpagechange:null,onsorting:null};var g=$.extend({},{id:"dt"+MW.guid(4),columns:[],data:[],srcdata:[],currentPage:1,maxPages:1,rows:10,filter:"",showNumbers:true,cellspacing:1,pageType:"buttons"},B);var v="fg-button ui-button ui-state-default ui-state-disabled",z=c$("div","class:mwa-grid-wrapper,id:"+g.id),p=c$("div","class:mwa-grid-bar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"),d=c$("div","class:mwa-grid-bar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"),s=c$("table","cellpadding:0,cellspacing:"+g.cellspacing+",border:0,class:mwa-grid"),r=c$("tr").appendTo(c$("thead").appendTo(s)),x=c$("tbody").appendTo(s),w=c$("div","class:mwa-grid-filter").appendTo(p),k=c$("div","class:mwa-grid-custom").appendTo(p),b=c$("div","class:mwa-grid-info").appendTo(d),l=c$("div","class:mwa-grid-paginate mwa-grid-numbers fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi"),A=c$("span");var q={first:c$("a","class:ui-corner-tl ui-corner-bl "+v).text("First"),prev:c$("a","class:"+v).text("Previous"),next:c$("a","class:"+v).text("Next"),last:c$("a","class:ui-corner-tr ui-corner-br "+v).text("Last")};var y=function(D){return function(E){if(Util.isFunc(c.onbeforepagechange)){if(c.onbeforepagechange.apply($(this),[D])===false){return false}}switch(D){case"select":var F=Number($(this).val());if(g.currentPage!==F){u(F)}break;case"first":if(g.currentPage!==1){u(1)}break;case"prev":if(g.currentPage>1){u(g.currentPage-1)}break;case"next":if(g.currentPage<g.maxPages){u(g.currentPage+1)}break;case"last":if(g.currentPage<g.maxPages){u(g.maxPages)}break;default:if(g.currentPage!==parseInt(D)){u(parseInt(D))}break}if(Util.isFunc(c.onpagechange)){c.onpagechange.apply($(this),[D])
}return false}};var C=function(D){if(!Util.isFunc(g.columns[D].sort)){return Util.noop}return function(G){var F=$(this),E=F.attr("sort-state");if(Util.isFunc(c.onbeforesorting)){if(c.onbeforesorting.apply(F,[D])===false){return false}}if(!F.hasClass("mwa-grid-state-disabled")){E=(E=="descending"?"ascending":"descending");j(D,E);t(D,(E=="ascending")?"ui-icon-triangle-1-n":"ui-icon-triangle-1-s");F.attr("sort-state",E);u(g.currentPage);if(Util.isFunc(c.onsorting)){c.onsorting.apply(F,[D])}}return false}};var f=function(E){var D=$(this);clearTimeout(D.attr("timeout"));D.attr("timeout",setTimeout(function(){if(h(String(D.val()))!==false){if(Util.isFunc(c.onsorting)){setTimeout(function(){c.onsorting.apply(D,[-1])},200)}}},500))};p.appendTo(z);s.appendTo(z);d.appendTo(z);l.appendTo(d);w.append(t$(g.id+"_filter","Search:",150,{keyup:f}));b.html("&nbsp;");if(g.pageType==="droplist"){var o=y("select");l.append(s$("pagination_current","Page:",60,{click:o,keyup:o}));l.append(c$("span","id:pagination_max").text(" of 0"));o=null}else{l.append(q.first);l.append(q.prev);if(g.showNumbers===true){l.append(A)}l.append(q.next);l.append(q.last);q.first.click(y("first"));q.prev.click(y("prev"));q.next.click(y("next"));q.last.click(y("last"))}function j(G,D,F){var E=g.columns[G].sort;if(!(Util.isFunc(E)||Util.isObject(E))){return}g.data.sort(function(J,I){var H=0;if(D=="ascending"){if(E.desc){H=E.desc(J[G],I[G])}else{H=E(I[G],J[G])}}else{if(E.asc){H=E.asc(J[G],I[G])}else{H=E(J[G],I[G])}}return H})}function t(F,D){var E="ui-icon-carat-2-n-s ui-icon-triangle-1-n ui-icon-triangle-1-s";$("> th",r).each(function(H,I){var G=$(".mwa-sort-wrapper > span",I).removeClass(E);$(I).removeAttr("sort-state");if(D&&H==F){G.addClass(D)}else{G.addClass("ui-icon-carat-2-n-s")}})}function a(F){if(!Util.isArray(F)){return}else{g.columns=[];r.empty()}var E,G=[],D=[];for(E=0;E<F.length;E++){D.push("<td>&nbsp;</td>")}for(E=0;E<g.rows;E++){G.push(["<tr>",D.join(""),"</tr>"].join(""))}x.html(G.join(""));Util.each(F,function(H,J){var I=c$("th","rowspan:1,colspan:1").appendTo(r);if(Util.isObject(J)){g.columns.push(J);c$("div","class:mwa-sort-wrapper").html(J.title||"&nbsp;").append(c$("span","class:css_right ui-icon ui-icon-carat-2-n-s")).appendTo(I);if(Util.isString(J.label)){I.attr("title",J.label)}if(J.width){I.width(J.width)}if(!Util.isSet(J.sort)){I.addClass("mwa-grid-state-disabled")}if(Util.isFunc(J.click)){$("tr",x).each(function(K,L){$("td",L).eq(H).click(J.click)})}if(Util.isSet(J.sort)){if(!Util.isFunc(J.sort)){if(!(Util.isFunc(J.sort.asc)&&Util.isFunc(J.sort.desc))){if(!Util.isFunc(J.sort=global.SortingBy[J.sort])){delete J.sort}}}}I.click(C(parseInt(H)))}})}function m(){var F=g.maxPages,E=1,D=g.currentPage,H=F;if(g.pageType==="droplist"){var G=$("#pagination_current",l);if($("option",G).length!==F){G.empty();for(;E<=H;E++){c$("option","value:"+E).appendTo(G).text(E)}G.val(D);$("span",l).text(" of "+F)}}else{if(g.showNumbers===true){if(A.children().length!==F){A.empty();if(F>5){if(D>F-2){H=F;E=F-4}else{if(D>3){H=D+2;E=D-2}else{H=5}}}for(;E<=H;E++){c$("a","class:fg-button ui-button ui-state-default").text(E).appendTo(A).click(y(E))}}else{$(".ui-state-disabled",A).removeClass("ui-state-disabled")}A.children().filter(function(){return Number($(this).text())===D}).addClass("ui-state-disabled")}if(D<F){q.next.removeClass("ui-state-disabled");q.last.removeClass("ui-state-disabled")}else{q.next.addClass("ui-state-disabled");q.last.addClass("ui-state-disabled")}if(D>1){q.first.removeClass("ui-state-disabled");q.prev.removeClass("ui-state-disabled")}else{q.first.addClass("ui-state-disabled");q.prev.addClass("ui-state-disabled")}}}function i(E){var F={x:(E-1)*g.rows,y:g.rows*E,m:g.data.length};var D=g.data.slice(F.x,F.y);$("> tr",x).each(function(H,G){$("> td",G).each(function(J,I){if(D[H]&&(cellData=D[H][J])){if(Util.isString(cellData)){$(I).html(cellData)}else{$(I).empty().append(cellData)}if(g.columns[J].center===true){$(I).addClass("mwa-grid-center")}}else{$(I).html("&nbsp;")}})});b.text("Showing "+(F.x+1)+" to "+Math.min(F.y,F.m)+" of "+F.m+" entries");g.currentPage=E;m()}function n(D){g.srcdata=D;g.filter=($("input",w).val()||"");h()}function h(F){if(!Util.isString(F)||F.length<3){F=false}if(F===g.filter){return false}g.data=[];if(Util.isArray(g.srcdata)&&g.srcdata.length>0){Util.each(g.srcdata,function(H,J){var I=[],G=(F===false);if(Util.isArray(J)){Util.each(J,function(L,K){var M=Util.isString(K)?K:false;if(M===false&&Util.isFunc(K.text)){M=K.text()}if(G!==true&&M){G=Util.doRgxTest(F,M)}I[L]=K})}if(G===true){g.data.push(I)}})}var E,D;if(g.data.length>1){$("> th",r).each(function(G,H){if((D=$(H).attr("sort-state"))){E=G;return false}});if(Util.isSet(E)){j(E,D)}else{if(Util.isFunc(g.defaultSort)){g.data.sort(g.defaultSort)}t()}}g.filter=F;E=g.data.length%g.rows;g.maxPages=Math.floor(g.data.length/g.rows)+(E==0?0:1);u(g.currentPage);return true}function u(D){if(Util.isNumber(D)){i(Math.max(Math.min(D,g.maxPages),1))}else{i(1)}}Object.defineProperties(this,{wrapper:{get:function(){return z
}},table:{get:function(){return s}},body:{get:function(){return x}},topbar:{get:function(){return p}},footbar:{get:function(){return d}},columns:{get:function(){return g.columns},set:a},data:{get:function(){return g.data},set:n},events:{get:function(){return c}},currentPage:{get:function(){return g.currentPage},set:u},filter:{get:function(){return g.filter},set:h}});if(Util.isArray(B.buttons)){Util.each(B.buttons,function(D,E){var F=c$("a","class:"+v).click(E.click).text(E.label);if(B.buttons.length>1){if(D===0){F.addClass("ui-corner-tl ui-corner-bl")}else{if(D===B.buttons.length-1){F.addClass("ui-corner-tr ui-corner-br")}}}F.removeClass("ui-state-disabled");k.append(F)})}if(B.columns){a(B.columns)}if(B.data){n(B.data)}if(B.appendTo){$(B.appendTo).append(z)}return this}DataGridTable.prototype={appendTo:function(a){$(a).append(this.wrapper)},appendData:function(a){this.data=a},appendColumns:function(a){this.columns=a},filterData:function(a){this.filter=a},onPageChange:function(a){this.events.onpagechange=a},onBeforePageChange:function(a){this.events.onbeforepagechange=a},onSorting:function(a){this.events.onsorting=a},onBeforeSorting:function(a){this.events.onbeforesorting=a}};var TableObject=function(c,g){var a,d=this;var b=c$("table","cellspacing:0").appendTo(c);var f=c$("tbody").appendTo(b);if(g===true){a=c$("tr","class:table_header").appendTo(f)}this.table=b;this.tbody=f;this.head=a;this.row=function(h){var i=$("tr:eq("+h+")",f);if(i.length!==1){return c$("tr").appendTo(f)}return i};this.cell=function(h,l){var i=d.row(h);var j=i.hasClass("table_header")?"th":"td";var k=$(j,i).eq(l);if(k.length!==1){return c$(j).appendTo(i)}return k};return this};function showMiniPopup(b){var a=new PopupObject(b.id,{appendTo:b.parent,content:b.content,title:b.title,top:b.top,tooltips:b.tooltips,closeAfterClick:true,hideCloseButton:true,width:500,buttons:[{label:"Accept",addClass:"short white",onclick:b.accept},{label:"Cancel",addClass:"short red"}]});a.show()}function showFriendsSelector(k,i){var d={};var j=new PopupObject("friend_selection_popup",{title:"Friends Selector",top:50,width:710,background:"black url('"+global.zGraphicsURL+"requests/pop_back.jpg') repeat-x"});var l={skip:function(){j.close();return false},save:function(){j.close();var m=[];Util.each(global.appFriends,function(o,n){if(e$(".mfs_selected #mfs_user_"+n.uid,j.content)){m.push({uid:n.uid,name:n.name})}});k(m);return false},select:function(){var m=$(this).clone().removeClass().addClass("mfs_remove");$(".mfs_selected ul",j.content).append(m.click(l.unselect));$(this).addClass("is_added");return false},unselect:function(){$(".mfs_selectable #"+this.id,j.content).removeClass("is_added");$(this).unbind().remove();return false},filter:function(){var n=$(".mfs_selectable",j.content);var o=String($(this).val());if(o.length<1){$("li",n).removeClass("is_hidden")}else{var m=new RegExp(o,"i");Util.each(global.appFriends,function(q,p){var r=$("#mfs_user_"+p.uid,n);if(m.test(p.name)){r.removeClass("is_hidden")}else{r.addClass("is_hidden")}})}return false},focusout:function(){var m=String($(this).val());if(m.length<1){$(this).val("Type a name...")}},focusin:function(){var m=String($(this).val());if(m==="Type a name..."){$(this).val("")}},fbfriendlist_change:function(){var n=$(this).val();var m=$(this).attr("curfl");$(this).attr("curfl",n);if(n!=="none"&&m!==n){a(n)}},fbgrouplist_change:function(){var n=$(this).val();var m=$(this).attr("curfl");$(this).attr("curfl",n);if(n!=="0"&&m!==n){a(n)}},select_max:function(){var n=50;var m=$(".mfs_selectable li:not(.is_added)",j.content);if(m.length>0){n=Math.min(n,m.length);for(;n>0;n--){m.eq(Math.floor(Math.random()*m.length)).click();m=m.filter(":not(.is_added)")}}return false},clear:function(){$(".mfs_selected .mfs_remove",j.content).click();return false}};function f(){var m=$(".mfs_selectable ul",j.content);Util.each(global.appFriends,function(o,n){c$("li","class:mfs_add,id:mfs_user_"+n.uid).appendTo(m).text(n.name)});$("li",m).click(l.select)}function b(){var m=$("#fb_friendlists",j.content).empty();c$("option","value:none").appendTo(m).text("Select a Facebook Friendlist");m.attr("curfl","none");facebook.friendlist(function(n){Util.each(n.data,function(o,p){if(p.list_type==="user_created"){c$("option","value:"+p.id).appendTo(m).text(p.name)}})})}function c(){var m=$("#fb_grouplists",j.content).empty();facebook.getGroups(function(n){n[0]="Select a Group";m.attr("curfl","0");Util.each(n,function(p,o){c$("option","value:"+p).appendTo(m).text(o)})})}function a(n){if(Util.isSet(d[n])){m(d[n])}else{facebook.friendlistGet(n,function(o){if(o.data){m(d[n]=o.data)}})}function m(o){Util.each(o,function(q,p){$(".mfs_selectable li#mfs_user_"+p.id,j.content).click()})}}function g(){var n=c$("div","id:mfs_container").appendTo(j.content);c$("div","class:mfs_outer").appendTo(n);n=c$("div","class:mfs_inner").appendTo(n);var m=c$("div","class:mfs").css("float","left").appendTo(n);c$("div","class:mfs_name_filter_container").appendTo(m);c$("div","class:line").appendTo(m);
c$("div","class:mfs_selectable").appendTo(m).append(c$("ul"));c$("div","class:line").appendTo(m);c$("div").appendTo(m).append(s$("fb_friendlists",250,{click:l.fbfriendlist_change}));c$("input:text","id:mfs_name_filter,class:mfs_name_filter_box").appendTo(".mfs_name_filter_container").focusin(l.focusin).focusout(l.focusout);m=c$("div","class:mfs").css("float","left").appendTo(n);c$("div","class:mfs_name_title_container").appendTo(m).text("Selected Friends:");c$("div","class:line").appendTo(m);c$("div","class:mfs_selected").appendTo(m).append(c$("ul"));c$("div","class:line").appendTo(m);c$("div").appendTo(m).append(s$("fb_grouplists",250,{click:l.fbgrouplist_change}));c$("div").css("clear","both").appendTo(n);m=c$("div","class:mfs_buttons").appendTo(n);b$("SKIP","class:medium white").appendTo(m).css({"min-width":80,"margin-right":10}).click(l.skip);b$("CLEAR","class:medium white").appendTo(m).css({"min-width":80,"margin-right":10}).click(l.clear);b$("RANDOM FIFTY","class:medium green").appendTo(m).css({"min-width":80,"margin-right":10}).click(l.select_max);b$("SAVE AND CLOSE","class:medium orange").appendTo(m).css({"min-width":80,"margin-right":10}).click(l.save);$("#mfs_name_filter",j.content).keyup(l.filter);j.header.css({"font-size":22,"font-weight":"bold",color:"#FC0","margin-bottom":5,padding:4,"text-align":"center"})}function h(){g();f();b();c();if(i){Util.each(i,function(n,m){$(".mfs_selectable #mfs_user_"+m,j.content).click()})}j.show();$("#mfs_name_filter",j.content).focus()}facebook.init(function(m){if(m===true){if(global.appFriends){h()}else{loadingScreen("Loading friends...");facebook.getAppFriends(function(n){loadingScreen();if((global.appFriends=n)){h()}else{j.destroy();showHelpPopup({icon:"error",message:"Cant load your Mafia Wars Friends."})}})}}})}function showHelpPopup(b){if(typeof($)==="undefined"||typeof(b)==="undefined"){return}var d=(b.name||"MWAddon")+" says:";var a={info:Resources.getPicture("info_icon_png"),error:Resources.getPicture("ajax_error_png"),caution:c$("img").attr("src",global.zGraphicsURL+"cautionTopIcon.png")};if(!Util.isSet(b.message)){b={icon:"info",title:d,message:String(b)}}if(!Util.isSet(b.icon)){b.icon="info"}if(!Util.isSet(b.title)){b.title=d}var c=new PopupObject({type:"help",top:b.top,autoOpen:true,zIndex:9999,closeAfterClick:true,hideCloseButton:b.hideCloseButton,onclose:b.onclose,buttons:b.buttons,width:b.width,content:c$("div").css({"text-align":"left",margin:"5px 30px"}).append(a[b.icon].css("float","left")).append(c$("h4").css("padding","3px 28px").html(b.title)).append(c$("div").css("margin-top",10).html(b.message))});if(!Util.isSet(b.top)){$("#TopField").focus()}if(Util.isSet(b.autoclose)&&parseInt(b.autoclose)>0){setTimeout(c.close,b.autoclose*1000)}return c}function showPromptPopup(c,b,g,a){if(!Util.isString(c)){return}if(!Util.isFunc(g)){return prompt(c,b)}var f=Util.isNumber(a)?c$("textarea").css({width:500,height:a}):c$("input:text").width(500);var d=new PopupObject({type:"modern",title:c,width:550,buttons:[{label:"Accept",addClass:"short green",onclick:function(){g&&g(String(f.val()));d.close();return false}},{label:"Cancel",addClass:"short white"}]});c$("div").css("margin","0px auto").appendTo(d.content).append(f);f.val(b||"");d.show()}function showTextPopup(a,c){if(!a||!c){return}var d=c$("textarea","readonly:readonly").css({width:600,height:250}).val(c);var b=new PopupObject({type:"simple",buttons:[{label:"Select All",addClass:"short white",onclick:function(){d.select();return false}}]});c$("div").css("margin","10px 0px 5px 0px").append(c$("h4").css("margin",0).text(a)).append(d).appendTo(b.content);b.show(true)}function showAskPopup(c,b,d,a){if(!Util.isFunc(d)){return confirm(c)}showHelpPopup({icon:"info",title:c,message:b,hideCloseButton:true,buttons:[{label:"Accept",addClass:"short green",onclick:d},{label:"Cancel",addClass:"short white",onclick:a}]})}function showPublishMessage(){if(UserConfig.main.publishPreview===true){return}showHelpPopup({icon:"info",title:"Post Published!",message:"You've published to selected target.",autoclose:3})}function loadingScreen(b){$("#fbmw_menu").mouseleave();var a=$("#fbmw_addon_popup #mwa_overlay_pop");if(!Util.isSet(b)||b=="hide"){return a.hide()}if(a.length>0){$("#loaderText",a).text(b)}else{a=c$("div","id:mwa_overlay_pop").hide();a.appendTo(e$("#fbmw_addon_popup")||c$("div","fbmw_addon_popup").prependTo("#final_wrapper"));c$("div","id:mwa_overlay_pop_bg,class:pop_bg").appendTo(a).css("display","block");var c=c$("div","id:mwa_overlay_pop_box,class:socialMissionTryAgain");c.append(c$("div","loaderText").text(b));c.append(c$("div").append(c$("img").attr("src",global.zGraphicsURL+"socialmissions/ajax-loader.gif")));c.appendTo(a).css("display","block")}if($(unsafeWindow).scrollTop()>0){$("#mwa_overlay_pop_box",a).addClass("fixed-position")}else{$("#TopField").focus()}$("#mwa_overlay_pop_bg, #mwa_overlay_pop_box",a).show();return a.show()}function showGroupSelection(b,f,c){var d=new PopupObject("groupselection_popup",{type:"simple",top:150,width:560,background:"black url('"+global.zGraphicsURL+"Fight-Explain_bg.jpg') repeat-x"});
var a={select_click:function(){$(this).unbind().addClass("disabled").find("span > span").text("Target Selected!");setTimeout(function(){d.close();f($("#select_fbgroups option:selected",d.content).val(),$("#message_post",d.content).val())},1000);return false},refresh_click:function(){var g=$(this);if(g.hasClass("disabled")){return false}else{g.addClass("disabled")}global.Groups.refresh(function(){global.Groups.addToSelect("#select_fbgroups",b);g.removeClass("disabled")});return false}};c$("div","class:popup_body").appendTo(d.content).append(c$("p").text("Write a Message:").css("margin-bottom",1)).append(c$("textarea","id:message_post").width(450).height(80)).append("<br /><br />").append(c$("p").text("Select Destination:").css("margin-bottom",1)).append(c$("select","id:select_fbgroups").css("margin-right",5).width(400)).append(c$("a","href:#").text("Refresh").click(a.refresh_click));b$("Publish","class:medium white").appendTo(d.content).click(a.select_click);if(Util.isString(c)){$("#message_post",d.content).val(c)}global.Groups.addToSelect("#select_fbgroups",b);d.show()}function showSupportPopup(c,g){var b=UserConfig.main.appCount;if(b){if(!Util.isSet(b[c])){b[c]=0}if((b[c]+=1)%25!==0||global.SupportShow===true){UserConfig.main.save(g);return}}else{g&&g();return}var f=new PopupObject("support_popup",{type:"simple",top:100,width:645,background:"url('"+global.zGraphicsURL+"tray/tray_bg_748x700_01.png') -5px",onclose:function(){global.SupportShow=true;UserConfig.main.save(g)},buttons:[{label:"CONTINUE",addClass:"medium green"}]});f.content.css("margin",15);var a=c$("div","class:box").appendTo(f.content);c$("div","class:box_top").append(c$("div","class:box_top_right")).appendTo(a);var d=c$("div","class:box_middle_right").appendTo(c$("div","class:box_middle").appendTo(a));c$("div","class:box_bottom").append(c$("div","class:box_bottom_right")).appendTo(a);c$("div").html("You've used \""+c+'" '+b[c]+" times.").appendTo(d).css({height:35,"font-size":16,"font-weight":"bold","border-bottom":"1px dotted grey",margin:2});d=c$("div").appendTo(d);c$("div").css({"text-align":"left","font-size":14,margin:"12px 10px 5px 40px"}).appendTo(d).html(["MWAddon hopes to help you to enjoy Mafia Wars!<br />","- MWAddon gives you full features completely for free.<br />","- MWAddon don't add any type of advertisement to the game.<br />","- MWAddon gives you support and help for free...<br /><br />","There is a lot of work behind. Don't you think?<br />","If so, would you consider the possibility of help with a small donation?<br />"].join(""));c$("div").css({"margin-top":20,"font-size":20}).appendTo(d).html(['<a target="_black" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=722A7249QKS2G">','EURO:<img style="vertical-align: middle;" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif"></a>','<a target="_black" style="margin-left: 15px;" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=ZGWPTTHP3AEM4">','USD:<img style="vertical-align: middle;" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif"></a>'].join(""));$("#popup_fodder_zmc").empty();f.show()}function showVerInfoPopup(c){var b=new PopupObject("update_popup",{type:"simple",top:100,width:645,background:"#161616 url('"+global.zGraphicsURL+"clan_chat/settings_popup_bgrnd_1.png') repeat-x"});c$("div","class:info_header").html(c.message).appendTo(b.content);var a=c$("div","class:info_body").appendTo(b.content);c$("div").appendTo(b.content).css("margin","12px 10px 5px 10px").append(c$("span").text("MWAddon requires some effort, if you think this work deserves a reward, you can donate at:"));c$("a","target:_black").appendTo(b.content).attr("href","https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=CQVWPSUMDKW5N").append(c$("img").attr("src","https://www.paypal.com/en_US/i/btn/btn_donate_SM.gif"));c$("center").css({"padding-top":12,"border-top":"1px dotted #333"}).appendTo(b.content).append(b$(c.isnew?"Update Now!":"Go to Page","class:medium white").attr("onclick","window.open('"+c.url+"', '_blank');return false;"));$("#popup_fodder_zmc").empty();a.append(c$("p").text("Loading version history..."));a.append(c$("span").text("Wait a moment while history is loaded, "));a.append(c$("a","target:_black").attr("href",c.history).text("or click here."));httpXDRequest({method:"GET",url:c.history,onload:function(d){a.html(h$(d.responseText).find("table tr.by-author:first td.body").html())}});b.show()}function showBookmarkEditor(b,d,f){var a=/cb|tmp|xw_person|xw_city|mwcom/i;var c=new PopupObject("newbookmark_popup",{title:"New Bookmark",top:150,width:560,background:"black url('"+global.zGraphicsURL+"Fight-Explain_bg.jpg') repeat-x",buttons:[{label:"Save and Close",addClass:"short white",onclick:function(){f&&f($("#link_parent",c.content).val(),{name:$("#link_name",c.content).val(),click:{page:$("#link_url",c.content).val(),selector:$("#link_selector",c.content).val()}});c.close();return false}}]});
if(Util.isSet(d)&&d.url){d.urlParts=Util.uSplit(d.url);d.params={};Util.each(d.urlParts,function(g,h){if(!a.test(g)){d.params[g]=h}});d.city=d.urlParts.xw_city;d.cityName=global.city(d.city||1).name;d.url=$.param(d.params);delete d.urlParts;delete d.params}else{d={}}c.content.css({"font-size":14,padding:"10px 0px 15px 20px","text-align":"left",color:"#FFD927"});c$("style").text(["#newbookmark_popup table {width:90%}","#newbookmark_popup table tr td:first-child {width: 20%;text-align:right;}","#newbookmark_popup input {width:100%;}",].join("")).appendTo(c.content);c$("tbody").appendTo(c$("table").appendTo(c.content)).append(c$("tr").append(c$("td").html("Parent:")).append(c$("td").append(s$("link_parent",150,b)))).append(c$("tr").append(c$("td").html("Name:")).append(c$("td","colspan:2").append(t$("link_name")))).append(c$("tr").append(c$("td").html("Destination:")).append(c$("td","colspan:2").append(t$("link_url"))));c.content.append(c$("div").css({"margin-top":5,clear:"both"})).append(c$("input:hidden","id:link_selector"));if(Util.isSet(d.city)){x$("force_travel","The link requires to travel to "+d.cityName,"div").appendTo(c.content).click(function(){var h="xw_controller=travel&xw_action=travel";var g=Util.uSplit(d.url);if($(this).hasClass("checked")){h+="&from="+g.xw_controller+"&destination="+d.city;Util.each(g,function(i,j){if(!/from|destination|xw_controller|xw_action|xw_city/.test(i)){h+="&"+i+"="+j}})}else{h=d.url}$("#link_url",c.content).val(h)})}$("#link_name").val(d.name||"");$("#link_url").val(d.url||"");$("#link_selector").val(d.selector||"inner_page");c.show()}function showNavigationEditor(h,n,m){var b=/cb|tmp|xw_person|xw_city|mwcom/i;var l=new PopupObject("toolbarnavigation_popup",{title:"Toolbar Navigation Editor",top:50,width:560,background:"black url('"+global.zGraphicsURL+"Fight-Explain_bg.jpg') repeat-x",buttons:[{label:"Save and Close",addClass:"short white",onclick:function(){m&&m(f());l.close();return false}},{label:"Clear All",addClass:"short red",onclick:function(){showAskPopup("Clear Navigation Links","This action cant be undone.<br>Are you sure?",function(){m&&m(j());l.close()});return false}}]});var a=l.content;var g=c$("div","class:wrapper").appendTo(a);var i=c$("div","class:list_wrapper");function k(){var o=$("#new_plugin",a).val();if(!o||String(o).length<4){showHelpPopup({icon:"info",title:"New Navigation Plugin",message:"You need to put a plugin name"});return false}if(Plugins.exists(o)){showHelpPopup({icon:"info",title:"New Navigation Plugin",message:"This plugin name already exists."});return false}Plugins.addNew({active:false,name:o,runat:Plugins.RUNAT_STARTUP,code:"MWAddon.addNavigationLinks("+Util.toJSON(f())+");"});Plugins.save();showHelpPopup({icon:"info",title:"New Navigation Plugin",message:'The plugin "'+o+'" has been created.'});$("#btn_create_plugin").hide();return false}function f(){$(".list_wrapper ul",a).each(function(q,o){var p=(n[$(o).attr("mid")]=[]);$("li",o).each(function(s,r){try{p.push({name:$(".linkname",r).val(),click:{page:c($(".linkpage",r).val()),selector:$("input[type=hidden]",r).val()}})}catch(t){Logger.error("NavigationEditor::getData->"+t.message)}})});return n}function j(){Util.each(n,function(p,o){n[p]=[]});return n}function c(o){var p={};if(o){Util.each(Util.uSplit(o),function(q,r){if(!b.test(q)){p[q]=r}});return $.param(p)}else{return""}}function d(){var o=$(".list_wrapper ul",a).has(this),p=$("li",o).has(this);delete n[o.attr("mid")][p.attr("idx")];p.fadeOut(function(){p.remove()});return false}s$("link_parent","Menu:",200,h).appendTo(g);t$("new_plugin","Plugin:",150).appendTo(g);b$("create","id:btn_create_plugin,class:ui-sexy-orange",true).appendTo(g).click(k);Util.each(n,function(p,q){if(Util.isArray(q)){var o=c$("ul","mid:"+p).appendTo(i);Util.each(q,function(t,u){if(!u){u={}}if(!u.click){u.click={}}var w=c$("li","idx:"+t),v=c$("input:text","class:linkname"),s=c$("input:text","class:linkpage"),r=c$("input:hidden").appendTo(w);Resources.getPicture("delete_red_png","div").addClass("remove-button").appendTo(w).click(d);v.width("30%").appendTo(w).val(u.name);s.width("60%").appendTo(w).val(u.click.page);r.val(u.click.selector||"inner_page");o.append(w)})}});i.appendTo(g);$("#link_parent",a).change(function(){var o=$(this).val();$(".list_wrapper ul",a).hide();$(".list_wrapper ul[mid="+o+"]",a).show()}).change();l.show()}function showTooltipEditor(c,d){if(!c){c={}}var b=Tooltips.getLocalizedTooltipData(c.context,c.id);if(!Util.isArray(b)){b=["Title","Description"]}var a=new PopupObject("tooltipeditor_popup",{tooltips:false,title:"Edit Tooltip",top:150,width:560,background:"black url('"+global.zGraphicsURL+"Fight-Explain_bg.jpg') repeat-x",zIndex:(Util.isNumber(d)?d+99:null),buttons:[{label:"Save and Close",addClass:"short white",onclick:function(){Tooltips.addTooltipData(c.context,c.id,$("#tooltip_title").val(),$("#tooltip_content").val());a.close();return false}}]});a.content.css({"font-size":14,padding:"10px 0px 15px 20px","text-align":"left",color:"#FFD927"});
c$("style").text(["#tooltipeditor_popup table {width: 90%}","#tooltipeditor_popup table tr td:first-child {width: 20%;text-align:right;vertical-align:top;}","#tooltipeditor_popup input {width: 350px;}","#tooltipeditor_popup textarea {width: 400px; height: 108px;}"].join("")).appendTo(a.content);c$("tbody").appendTo(c$("table").appendTo(a.content)).append(c$("tr").append(c$("td").html("Title:")).append(c$("td").append(t$("tooltip_title")))).append(c$("tr").append(c$("td").html("Content:")).append(c$("td").append(c$("textarea","id:tooltip_content"))));$("#tooltip_title").val(b[0]);$("#tooltip_content").val(b[1].replace(/<br[^>]*>/gi,"\n"));a.show()}UserConfig.create("plugins",{all:{}});var Plugins={RUNAT_USER_CLICK:0,RUNAT_STARTUP:1,RUNAT_PAGELOAD:2,CODE_EMPTY:"",sources:{},getMenu:function(){var a=[];Plugins.each(function(c,b){if(b.active===true&&parseInt(b.runat)===Plugins.RUNAT_USER_CLICK){a.push({name:b.name,pos:b.index,click:{func:Plugins.exec,params:[c]}})}});return a},init:function(b,a){UserConfig.plugins.load(function(){var c={};Util.each(UserConfig.plugins.all,function(d,f){if(f){if(!f.guid){f.guid="plug"+MW.guid(6)}if(!f.fver){f.fver=1}c[f.guid]=f}});UserConfig.plugins.all=c;if(a===true){Plugins.clearCopies(b)}else{if(Util.isFunc(b)){b()}}})},update:function(){Plugins.each(function(a,b){Plugins.addFunc(a,b.code)})},save:function(a){UserConfig.plugins.save(a)},addFunc:function(b,c){var a=Plugins.get(b).name;try{var d=new Function("unsafeWindow","$","jQuery","User","Util","MW","FB","alert","confirm","prompt","MWAddon","eval","execRemoteScript","c$","e$","x$","n$","b$","s$","t$","h$",c);if(Util.isFunc(d)){Plugins.sources[b]=d}else{throw"Unexpected function string"}}catch(g){showHelpPopup({icon:"error",title:"Plugin Code Error",message:'The code in "'+a+'" contains errors and cant be processed.'})}},execRemoteJS:function(a,b){httpXDRequest({method:"GET",headers:{"Content-Type":"text/javascript"},url:Util.trim(a)+"?"+Math.random(),onload:function(c){if(c.status===200){var d=c$("script");d.text(c.responseText);d.appendTo("body");b&&b(true)}else{showHelpPopup({icon:"error",title:"Inline Script",message:"Error loading url:<br>"+a+"<br><br>"+c.statusText});b&&b(false)}}})},convertBookmarklet:function(b){var a=/javascript:.+?text\/javascript.+?src\=["'](https?.*?\.js)/i;return Util.doRgx(a,unescape(b)).$1||false},get:function(a){var b=UserConfig.plugins.all[a];if(Util.isSet(b)){if(String(b.constructor).indexOf("MWAddonPlugin")==-1){b=new MWAddonPlugin(b);UserConfig.plugins.all[a]=b}return b}return{}},getByName:function(b){var a=false;if(Util.isString(b)){Util.each(UserConfig.plugins.all,function(c,d){if(d&&Util.isString(d.name)){if(b.toLowerCase()===d.name.toLowerCase()){a=Plugins.get(c);return false}}})}return a},clearCopies:function(d){var a={};var c=false;var b=function(f){if(Util.isString(f)){return f.toLowerCase()}else{return f}};Plugins.each(function(f,h){var g=b(h.name);if(!Util.isArray(a[g])){a[g]=[]}a[g].push(h)});Util.each(a,function(f,g){if(g.length>1){c=true;Util.each(g,function(h,i){Plugins.remove(i.guid)});Plugins.addNew(g.pop())}});if(c===true){Logger.error("Duplicate plugins detected and fixed.");showHelpPopup({icon:"caution",title:"Duplicate Plugins",message:"MWAddon has detected duplicate plugins and have fixed it by removing the old ones."})}Plugins.save(d)},exists:function(a){return Util.isSet(UserConfig.plugins.all[a])},each:function(b,a){if(Util.isFunc(b)){Util.each(UserConfig.plugins.all,function(c){var d=Plugins.get(c);if(Util.isSet(a)&&d.runat!==a){return true}return b(c,d)})}},remove:function(a,b){delete UserConfig.plugins.all[a];delete Plugins.sources[a];Plugins.save(b)},exec:function(a){var f=Plugins.get(a);if(!f||!f.active){return}if(!Util.isFunc(Plugins.sources[a])){Plugins.addFunc(a,f.code)}function d(g){g.name=f.name;showHelpPopup(g)}Logger.debug('Executed: "'+f.name+'" Plugin.');var b=global.createMWAddonScope(a,f.name,"MWAddonPlugin");try{Plugins.sources[a].apply(b,[unsafeWindow,unsafeWindow.$,unsafeWindow.jQuery,global.User,Util,MW,facebook,d,showAskPopup,showPromptPopup,b,Util.noop,Plugins.execRemoteJS,c$,e$,x$,n$,b$,s$,t$,h$])}catch(c){Logger.error("MWAddon->"+f.name+"->"+c)}},addNew:function(c,d){if(!c||!Util.isString(c.name)){d&&d();return}if(String(c.constructor).indexOf("MWAddonPlugin")<0){c=new MWAddonPlugin(c)}if(!Util.isSet(UserConfig.plugins.all[c.guid])){var a=(c.name=String(c.name).replace(/\s*\(\d+\)/g,"")),b=1;while(Plugins.getByName(a)!==false){a=c.name+" ("+(b++)+")"}c.name=a}UserConfig.plugins.all[c.guid]=c;d&&d(c)}};function MWAddonPlugin(b){var a=this;a.fver=parseInt((new Date()).getTime()/1000);a.guid="plug"+MW.guid(6);a.active=false;a.name="New Plugin";a.index=0;a.runat=Plugins.RUNAT_USER_CLICK;a.code=Plugins.CODE_EMPTY;a.sign=global.USER_ID;if(b){Util.each(a,function(c,d){if(b.hasOwnProperty(c)){a[c]=UserConfig.toType(b[c],d)}});b=null}return a}MWAddonPlugin.prototype.constructor=MWAddonPlugin;MWAddonPlugin.prototype.update=function(b){var a=this;if(Util.isString(b)){b=Util.parseJSON(b)
}if(b.name&&Plugins.exists(b.name)){delete b.name}Util.each(b,function(c,d){if(c!=="active"&&a.hasOwnProperty(c)){a[c]=d}})};MWAddonPlugin.prototype.settings=function(){var a={},b=this;Util.each(b,function(c,d){if(c!=="active"&&c!=="fver"){a[c]=d}});return a};MWAddonPlugin.prototype.getLink=function(){var a=Util.toJSON(this.settings());return MW.getExtURL("index","view",{next_params:{mwaddon_plugin:Base64.encode(a)}})};MWAddonPlugin.prototype.encode=function(){return Util.toJSON(this.settings(),true)};UserConfig.create("reminder",{all:{}});var Reminders={isDisabled:false,CHECK_EVERY:0,CHECK_AT:1,init:function(c,b){var a={};UserConfig.reminder.load(function(){Util.each(UserConfig.reminder.all,function(d,f){if(f){if(!f.guid&&f.id){f.guid=f.id;delete f.id}if(f.guid&&d===f.guid){if(!f.fver){f.fver=1}a[d]=new MWAddonReminder(f)}}});UserConfig.reminder.all=a;if(b===true){Reminders.clearCopies(c)}else{if(Util.isFunc(c)){c&&c()}}})},save:function(a){UserConfig.reminder.save(a)},getMenu:function(){var a=[];Reminders.each(function(b,c){if(c.active!==true||!Util.isFunc(c.remain)){return}a.push({pos:c.index,name:c.name,important:c.important,click:{func:Reminders.exec,params:[b]},remain:parseInt(c.remain()/1000)})});return a},get:function(b){var a=UserConfig.reminder.all[b];if(Util.isSet(a)){if(String(a.constructor).indexOf("MWAddonReminder")==-1){a=new MWAddonReminder(a);UserConfig.reminder.all[b]=a}return a}return{}},getByName:function(b){var a=false;if(Util.isString(b)){Util.each(UserConfig.reminder.all,function(c,d){if(d&&Util.isString(d.name)){if(b.toLowerCase()===d.name.toLowerCase()){a=Reminders.get(c);return false}}})}return a},clearCopies:function(d){var a={};var c=false;var b=function(f){if(Util.isString(f)){return f.toLowerCase()}else{return f}};Reminders.each(function(f,h){var g=b(h.name);if(!Util.isArray(a[g])){a[g]=[]}a[g].push(h)});Util.each(a,function(f,g){if(g.length>1){c=true;Util.each(g,function(h,i){Reminders.remove(i.guid)});Reminders.addNew(g.pop())}});if(c===true){Logger.error("Duplicate reminders detected and fixed.");showHelpPopup({icon:"caution",title:"Duplicate Reminders",message:"MWAddon has detected duplicate reminders and have fixed it by removing the old ones."})}Reminders.save(d)},exists:function(a){return Util.isSet(UserConfig.reminder.all[a])},each:function(a){if(Util.isFunc(a)){Util.each(UserConfig.reminder.all,function(b){return a(b,Reminders.get(b))})}},remove:function(a,b){delete UserConfig.reminder.all[a];Reminders.save(b)},execCode:function(a,g){var c,f=function(h){h.name=a.name;showHelpPopup(h)};try{c=new Function("unsafeWindow","$","User","Util","MW","FB","alert","confirm","prompt","MWAddon","eval","h$",g)}catch(d){return true}var b=global.createMWAddonScope(null,a.name,"MWAddonReminder");return c.apply(a,[unsafeWindow,unsafeWindow.$,global.User,Util,MW,facebook,f,showAskPopup,showPromptPopup,b,Util.noop,h$])},exec:function(c){var b=Reminders.get(c);function a(){if(Util.isString(b.onClick)&&b.onClick.length>0){Reminders.execCode(b,b.onClick)}else{if(b.runplugin){Plugins.exec(b.runplugin)}}}b.reset();if(b.gotopage){MW.goPage(b.getUrlLink(),"#inner_page",a)}else{a()}},check:function(a){if(Reminders.isDisabled===true){return}Notifications.clear();Reminders.each(function(c,b){var d;if(b.active===true){if(b.timerid){if((d=MW.getCountdown(b.timerid))){b.important=false;b.updateTimer(d.time_left*1000);Logger.debug(b.name+" updated:"+d.time_left);return true}}if(Util.isString(a)&&b.testUrl(a)){b.reset()}if(b.isReady()){Notifications.add({id:b.guid,title:b.name,message:b.message,onclick:function(){Reminders.exec(b.guid)},onclose:function(){b.wait(30*60*1000)}})}}});Notifications.update()},addNew:function(d,f){if(!d||!Util.isString(d.name)){f&&f();return}var a;if(d.guid){a=Reminders.get(d.guid)}if(String(d.constructor).indexOf("MWAddonReminder")<0){d=new MWAddonReminder(d);if(a&&a.timeout){d.timeout=a.timeout}}if(!Util.isSet(UserConfig.reminder.all[d.guid])){var b=(d.name=String(d.name).replace(/\s*\(\d+\)/g,"")),c=1;while(Reminders.getByName(b)!==false){b=d.name+" ("+(c++)+")"}d.name=b}UserConfig.reminder.all[d.guid]=d;f&&f(d)}};function MWAddonReminder(b){var a=this;a.fver=parseInt((new Date()).getTime()/1000);a.guid="notf"+MW.guid(6);a.sign=global.USER_ID;a.active=false;a.important=false;a.name="New Reminder";a.message="Type here a description";a.checktype=Reminders.CHECK_AT;a.every=0;a.resetcheck="";a.onBeforeShow="";a.onClick="";a.gotopage="";a.runplugin="";a.timerid="";a.timeout=0;a.index=0;if(b){Util.each(a,function(c,d){if(b.hasOwnProperty(c)){a[c]=UserConfig.toType(b[c],d)}});b=null}return a}MWAddonReminder.prototype.constructor=MWAddonReminder;MWAddonReminder.prototype.testUrl=function(a){var c=false;if(!this.resetcheck||String(a).length<3){return false}var b=this.resetcheck.split("&").filter(function(d){return/^(\w+)=(\w+)$/.test(d)});Util.each(b,function(d,f){return(c=(a.indexOf(f)>-1))});return c};MWAddonReminder.prototype.remain=function(){var a=Number(this.timeout);if(isFinite(a)){return Math.max(a-(new Date()).getTime(),0)
}else{return 0}};MWAddonReminder.prototype.beforeShow=function(){if(this.onBeforeShow){return Reminders.execCode(this,this.onBeforeShow)}else{return true}};MWAddonReminder.prototype.beforeCheck=function(){if(this.onBeforeCheck){return Reminders.execCode(this,this.onBeforeCheck)}else{return true}};MWAddonReminder.prototype.isReady=function(){var a=this;if(this.remain()<1){return this.beforeShow()}return false};MWAddonReminder.prototype.reset=function(d){var b,a=new Date();this.important=false;if(this.timerid&&(b=MW.getCountdown(this.timerid))){this.timeout=(new Date()).getTime()+(b.time_left*1000);Logger.debug("Timer "+this.name+" reset by countdown: "+this.timeout)}else{if(this.checktype===Reminders.CHECK_AT){a.setDate(a.getDate()+1);this.every=Math.max(Math.min(this.every,23),0);this.timeout=(new Date(a.getFullYear(),a.getMonth(),a.getDate(),this.every,0,0,0)).getTime()}else{this.timeout=a.getTime()+(this.every*60*60*1000)}}Reminders.save(d)};MWAddonReminder.prototype.wait=function(a){this.important=true;this.updateTimer(a)};MWAddonReminder.prototype.updateTimer=function(a){this.timeout=(new Date()).getTime()+a;Reminders.save()};MWAddonReminder.prototype.start=function(a){this.important=false;this.timeout=0;Reminders.save(a)};MWAddonReminder.prototype.getUrlLink=function(b){var b=Util.uSplit(this.gotopage);if(!b.xw_controller){return false}var a="remote/"+MW.getIntURL(b.xw_controller,b.xw_action||"view");Util.each(b,function(c,d){if(!/xw_/.test(c)){a+=("&"+c+"="+d)}});return a};MWAddonReminder.prototype.update=function(b){var a=this;if(Util.isString(b)){b=Util.parseJSON(b)}if(b.name&&Reminders.exists(b.name)){delete b.name}Util.each(a.values(),function(c){if(b.hasOwnProperty(c)){a[c]=b[c]}})};MWAddonReminder.prototype.values=function(){var b=/active|important|timeout|fver/i;var a={};Util.each(this,function(c,d){if(!b.test(c)){a[c]=d}});return a};MWAddonReminder.prototype.getLink=function(){var a=Util.toJSON(this.values());return MW.getExtURL("index","view",{next_params:{mwaddon_reminder:Base64.encode(a)}})};MWAddonReminder.prototype.encode=function(){return Util.toJSON(this.values(),true)};var UserFreeGifts={content:{ccb:{request_id:"city_crew_brazil",name:"City Crew",img:"buy_hiredguns_75x75_01.gif"},enp:{request_id:"energy",name:"Energy Pack",img:"energy_request_bg.gif"},503:{item_id:8035,name:"Power Pack",img:"huge_item_powerpack_01.png"},441:{item_id:3000,name:"Mission Crew",img:"buy_hiredguns_75x75_01.gif"},1038:{item_id:2297,name:"Poker Card",img:"huge_item_poker_card_02.png"},1015:{item_id:12218,name:"English Brick",img:"huge_item_englishbrick_01.png"},1016:{item_id:12219,name:"Clay Tiles",img:"huge_item_claytiles_01.png"},1017:{item_id:12220,name:"Sledge Hammer",img:"huge_item_sledgehammer_01.png"},1018:{item_id:12221,name:"Plumb Line",img:"huge_item_plumbline_01.png"},1019:{item_id:12222,name:"Iron Girder",img:"huge_item_irongirder_01.png"},1000:{item_id:11051,name:"Union Worker",img:"huge_item_union_worker_01.png"},1001:{item_id:11052,name:"Carpenter Nails",img:"huge_item_carpenter_nails_01.png"},1002:{item_id:11053,name:"Lath Strips",img:"huge_item_lath_strips_01.png"},1003:{item_id:11054,name:"Iron Cast",img:"huge_item_iron_cast_01.png"},1004:{item_id:11055,name:"Douglas Fir Beams",img:"huge_item_douglas_fir_beams_01.png"},100:{item_id:527,name:"Blue Mystery Bag",img:"item_mysterybag_blue_1.png"},400:{item_id:4400,name:"Secret Drop",img:"icon_atk_75x75_01.png"},401:{item_id:2600,name:"Italian Hardwood",img:"huge_item_italianhardwood_01.png"},402:{item_id:2601,name:"Marble Slab",img:"huge_item_marbleslab_01.png"},422:{item_id:4604,name:"Exotic Animal Feed",img:"huge_item_exoticanimalfeed_01.png"},444:{item_id:2610,name:"Set of Hidden Charges",img:"huge_item_hiddencharges_01.png"},445:{item_id:2614,name:"Cooked Book",img:"huge_item_cookedbook_01.png"},189:{item_id:2319,name:"Special Part",img:"huge_item_parts_01.png"},417:{item_id:4605,name:"Aquarium",img:"huge_item_aquarium_01.png"},418:{item_id:4606,name:"Big Cage",img:"huge_item_bigcage_01.png"},419:{item_id:4607,name:"Bird Cage",img:"huge_item_birdcage_01.png"},420:{item_id:4608,name:"Feeding Trough",img:"huge_item_feedingtrough_01.png"},421:{item_id:4609,name:"Terrarium",img:"huge_item_terrarium_01.png"},181:{item_id:2196,name:"Hammer",img:"huge_item_hammer_01.png"},182:{item_id:2197,name:"Rivet",img:"huge_item_rivets_01.png"},183:{item_id:2183,name:"Furnace",img:"huge_item_furnace_01.png"},184:{item_id:2184,name:"Vice",img:"huge_item_vice_01.png"},185:{item_id:2185,name:"Anvil",img:"huge_item_anvil_01.png"},75:{item_id:656,name:"Arc Welder",img:"huge_item_arcwelder_01.gif"},76:{item_id:657,name:"Buzzsaw",img:"huge_item_electronicwhetstone_01.gif"},77:{item_id:658,name:"Gunpowder",img:"huge_item_gunpowder_01.gif"},78:{item_id:659,name:"Gun Drill",img:"huge_item_gundrill_01.gif"},79:{item_id:660,name:"Forge",img:"huge_item_forge_01.gif"},70:{item_id:532,name:"Cement Block",img:"huge_item_cinderblock_01.png"},71:{item_id:533,name:"Power Tool",img:"huge_item_powertools_01.png"},72:{item_id:534,name:"Car Lift",img:"huge_item_carlift_01.png"},73:{item_id:535,name:"Acetylene Torch",img:"huge_item_acetylenetorches_01.png"},74:{item_id:536,name:"Shipping Container",img:"huge_item_shippingcontainers_01.png"},161:{item_id:1575,name:"Cinder Block",img:"huge_item_Cinderblock_01.gif"},162:{item_id:1576,name:"Steel Girder",img:"huge_item_buildcasino_steelgirders_01.gif"},163:{item_id:1577,name:"Concrete",img:"huge_item_Concrete_01.gif"},164:{item_id:1578,name:"Construction Tool",img:"huge_item_constructiontools_01.png"},169:{item_id:762,name:"Security Camera",img:"huge_item_securitycamera_01.png"},170:{item_id:763,name:"Reinforced Steel",img:"huge_item_reinforcedsteel_01.png"},171:{item_id:764,name:"Deposit Box",img:"item_depositbox_01.png"},172:{item_id:765,name:"Motion Sensor",img:"item_motionsensor_01.png"},173:{item_id:766,name:"Magnetic Lock",img:"huge_item_magneticlock_01.png"}},getByItemId:function(a,c){var b={item_id:a,item_cat:c,name:"Unknow Gift",img:"item_mysterybag_blue_1.png"};
a=parseInt(a);c=parseInt(c||1);Util.each(UserFreeGifts.content,function(f,d){if(parseInt(d.item_id)===a&&parseInt(d.item_cat)===c){b=d;return false}});return b},get:function(a){return UserFreeGifts.content[a]},add:function(b,a){if(b){UserFreeGifts.content[b]=a}},each:function(c,a){if(a===true){var b=[];Util.each(UserFreeGifts.content,function(f,d){b.push({id:f,gt:d})});b.sort(function(f,d){if(f.gt.name>d.gt.name){return 1}if(f.gt.name<d.gt.name){return -1}return 0});Util.each(b,function(f,d){return c(d.id,d.gt)})}else{Util.each(UserFreeGifts.content,c)}},exists:function(a){return Util.isSet(UserFreeGifts.content[a])},getImageUrl:function(a){if(/http/.test(a)){return a}else{return global.zGraphicsURL+a}},update:function(){httpAjaxRequest({url:"remote/"+MW.getIntURL("freegifts"),success:a});function a(h){var f=(new Date()).getDate();var d=Util.doRgx(/var allCats = (.+?);/,h).$1;var c=0,b=0,g=UserConfig.main.userGiftsIds;if(d){d=Util.parseJSON(d)}else{d={}}h$(h).find(".freegift_grid").children().each(function(j,m){try{if(!(m.id&&e$(".freegift_box_stats",m)!==null)){return}var n=parseInt(m.id.substring(13));if(UserFreeGifts.exists(n)){return}var i=$(".freegift_box_itemname",m).text();var k=$(".freegift_box_image img",m).attr("src");UserFreeGifts.add(n,{name:i,img:k});c++}catch(l){Logger.error(l)}});if(!Util.isSet(g.today)||g.today!=f){g=(UserConfig.main.userGiftsIds={today:f})}UserFreeGifts.each(function(j,i){i.name=Util.formatText(i.name);if(Util.isSet(i.request_id)){return}i.item_cat=d[j]||1;if(!Util.isSet(i.item_id)){if(Util.isSet(g[j])){i.item_id=g[j]}else{b++;MW.getGiftItemId(j,i.item_cat,function(k){b--;g[j]=parseInt(i.item_id=k);if(b<1){UserConfig.main.save()}})}}});Logger.debug("Added "+c+" new free gifts.")}}};var MWAddonToolbar={initialized:false,isCatching:false,arenaOn:false,bookmarks:[],countdowns:[],$Shadow:false,$Config:false,$MsgLayer:false,rootParents:false,NavLinks:new Config("toolbarDropMenu",{nav_link_home:[],nav_link_arena:[],nav_link_jobs:[],nav_link_fight:[],nav_link_properties_out:[],nav_link_inventory:[],nav_link_events:[],nav_link_godfather:[],nav_link_profile:[],nav_link_mafia:[]}),FixedNavLinks:{}};MWAddonToolbar.addNavigationLinks=function(a){var b=MWAddonToolbar;if(Util.isObject(a)){Util.each(b.clearDuplicateLinks(a,b.FixedNavLinks),function(f,c){var d=b.FixedNavLinks[f];if(!Util.isArray(d)){b.FixedNavLinks[f]=c}else{b.FixedNavLinks[f]=d.concat(c)}})}};MWAddonToolbar.goToPage=function(c,a){if(!a){a="#inner_page"}if(a.charAt(0)!=="#"){a="#"+a}function b(d){showHelpPopup({icon:"error",title:(d||"Error Loading Page"),message:"Cant load the page.<br>Make sure your connection is working<br>Also, try to play the game in one tab only."})}if(MWAddonToolbar.arenaOn&&a==="#inner_page"){c+="&from_controller="+Util.uSplit(c).xw_controller;c+="&skip_req_frame=1";if(!/^https?/.test(c)){c=global.location.protocol+"://"+global.location.host+"/mwfb/"+c}unsafeWindow.open(c,"_self")}else{if(e$(a)===null){MW.goPage(String(c).replace(/xw_action=\w+/,"xw_action=view"),"#inner_page",function(d,f){if(d){MW.goPage(c,a,function(g,h){if(!g){b(h)}})}else{b(f)}})}else{MW.goPage(c,a,function(d,f){if(!d){b(f)}})}}};MWAddonToolbar.MenuEvent={click:function(a){var b=MWAddonToolbar;if(a.data.page){b.goToPage(b.getValidUrl(a.data.page),a.data.selector)}else{if(a.data.link){unsafeWindow.open(a.data.link,"_blank")}else{if(Util.isFunc(a.data.func)){MainMenu.execFunc(this,a.data.func,a.data.params)}}}b.MenuEvent.leave.apply($("#mwa_toolbar div[showed=yes],#mwa_toolbar li[showed=yes]").get(0));a.stopImmediatePropagation();return false},enter:function(d){var g=MWAddonToolbar,b=g.$Shadow,c=$(this),f,a;b.stop().animate({opacity:1,left:(c.position().left+(c.outerWidth()/2))-(b.outerWidth()/2)});if(!d.data){return}if(Util.isFunc(d.data.func)){a=d.data.func.apply(this,[c.attr("id")])}if(Util.isArray(d.data.menu)){a=d.data.menu}if(!Util.isArray(a)||a.length<1){return}c.attr("timeout",setTimeout(function(){var i=c$("div","class:mwa-menu-wrapper");var h=c$("ul").appendTo(i);if((f=e$(".submenu",c))===null){f=c$("div","class:submenu").appendTo(c);f.css("opacity",0)}f.empty().css("top",c.parent().outerHeight());i.appendTo(f);g.createDropMenu(a,h,d.data.sorted!==false);f.append(c$("div","class:mwa-menu-bottom ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"));var j=c.position().left+f.outerWidth();if(j>c.parent().width()){if(c.css("right")){f.css("right","-"+c.css("right"))}else{f.css("right",0)}}else{f.css("right","auto")}f.stop().show().animate({opacity:1});c.attr("showed","yes");c.removeAttr("timeout");if(h.height()>Util.parseNum(100)){i.mousemove(function(m){var l=m.pageY-i.offset().top;var k=Number(l/i.height());var n=-0.1+((k/10)*2);i.scrollTop(h.height()*((k-0.1)+n))})}},500));return},leave:function(){var d=MWAddonToolbar,a=d.$Shadow,c=e$(".submenu",this),b=$(this);if(b.attr("timeout")){clearTimeout(b.attr("timeout"));b.removeAttr("timeout")}a.stop().animate({opacity:0});if(c!==null&&b.attr("showed")==="yes"){b.removeAttr("showed");
c.stop().animate({opacity:0},function(){c.hide()})}}};MWAddonToolbar.Event={deposit:function(){var a=$(this);if(global.User.cash()>10){if(!a.hasClass("disabled")){a.addClass("disabled");MW.deposit(MW.currentCity(),global.User.cash(),function(b){MWAddonToolbar.Update();a.removeClass("disabled");MWAddonToolbar.ShowMessage(b,8000)})}}else{MWAddonToolbar.ShowMessage("You need at least $10 to deposit.",5000)}return false},heal:function(){var a=$(this);if(global.User.health()<global.User.max_health()){if(!a.hasClass("disabled")){a.addClass("disabled");MW.heal(1,function(b){MWAddonToolbar.Update();a.removeClass("disabled");MWAddonToolbar.ShowMessage(b,8000)})}}else{MWAddonToolbar.ShowMessage("Your heal is already at maximum.",5000)}return false},edit_toolbar:function(){var b=MWAddonToolbar;var a={};b.NavLinks.each(function(d,c){a[d]=c});showNavigationEditor(b.rootParents,a,function(c){Util.each(c,function(f,d){b.NavLinks[f]=d});b.NavLinks.save();$("#mwa_toolbar .topnav > li").each(function(f,d){if(b.getNavUserLinks(d.id).length>0){$(d).addClass("bottom-arrow")}else{$(d).removeClass("bottom-arrow")}})});return false},new_link:function(){var a=MWAddonToolbar;showBookmarkEditor(a.rootParents,{},a.addDropMenu);return false},watcher_link:function(){var b=MWAddonToolbar;var a='<span style="color:gold">Link Catcher Active!!</span> Click a link or Button to grab the name and page...';$("a.button_menu_open").mouseleave();if(b.isCatching!==true){b.LinkCatcher(a,function(c){showBookmarkEditor(b.rootParents,c,b.addDropMenu)})}return false},edit_plugin:function(){$("a.button_menu_open").mouseleave();PluginManager();return false},edit_reminder:function(){$("a.button_menu_open").mouseleave();ReminderManager();return false},showMenu:function(){var b=MWAddonToolbar,a=$(this),c=$(".toolbarbox > ul",a),f="run";if(a.hasClass("button_menu_open")){return}function j(k){return function(){a.mouseleave();setTimeout(function(){k.func.apply(k,k.params)},50);return false}}function d(k){return function(){a.mouseleave();showAskPopup("Remove Link","Are you sure to remove this link?",function(){UserConfig.main.userLinks.splice(k,1);UserConfig.main.save()});return false}}function h(l,k){var n=c$("li","class:mwa_res_"+f+"_menu_icon_png");c$("span","class:more_in,id:reminder_timer_"+l).appendTo(n);c$("div","class:item_name").text(k.name).appendTo(n).width(180);n.appendTo(c).css("padding-left",21).click(j(k.click));if(k.remain<1){$("#reminder_timer_"+l).html(Util.setColor("Ready","green"));return}if(k.important){n.removeClass().addClass("important")}(b.countdowns[l]=new Countdown({selector:"#reminder_timer_"+l,delay:k.remain,format:"HH:MM:SS",stop:function(){$("#reminder_timer_"+l).html(Util.setColor("Ready","green"))}})).start()}function i(l,k){var n=c$("li");if(k.cbm===true){n.addClass("mwa_res_chrome_bookmark_icon_png")}else{n.addClass("mwa_res_"+f+"_menu_icon_png");c$("span","class:remove").appendTo(n).click(d(l))}c$("div","class:item_name").text(k.name).appendTo(n).width(220);n.appendTo(c).css("padding-left",21);n.click(j(k.click))}function g(l,k){var n=c$("li","class:mwa_res_"+f+"_menu_icon_png").text(k.name);n.appendTo(c).css("padding-left",21).click(j(k.click))}switch(this.id){case"mwa_tlbLinks":f="link";Util.each(b.getBookmarks(),i);break;case"mwa_tlbPlugins":Util.each(Plugins.getMenu(),g);break;case"mwa_tlbReminders":f="reminder";Util.each(Reminders.getMenu(),h);break}a.removeClass("button_menu_closed").addClass("button_menu_open")},hideMenu:function(){var c=MWAddonToolbar,b=$(this).removeClass("button_menu_open").addClass("button_menu_closed"),a=$(".toolbarbox > ul",b);$("li",a).unbind();a.empty();if(c.countdowns.length>0){Util.each(c.countdowns,function(d,f){f&&f.clear()});c.countdowns=[]}}};MWAddonToolbar.ShowMessage=function(c,d){if(MWAddonToolbar.initialized!==true){Notifications.tiny(c);return}var a=MWAddonToolbar.$MsgLayer;var b=Resources.className("notification_icon_png");if(a.attr("timeout")){clearTimeout(Number(a.attr("timeout")));a.removeAttr("timeout")}if(!c){return}a.html('<div class="info-icon '+b+'"></div><span>'+c+"</span>").fadeIn("slow");$("div.info-icon",a).effect("pulsate");if(d!==false){if(!Util.isNumber(d)){d=5000}a.attr("timeout",setTimeout(function(){a.removeAttr("timeout");a.fadeOut("slow")},d))}};MWAddonToolbar.LinkCatcher=function(c,f){var d=MWAddonToolbar;d.isCatching=true;d.ShowMessage(c,false);$("a:regex(onclick,xw_controller)").each(function(g,h){h=$(h);h.data("onclick",h.attr("onclick"));h.addClass("lockedlink");h.removeAttr("onclick");h.one("click",a)});$("a:regex(href,xw_controller)").each(function(g,h){h=$(h);if(h.hasClass("lockedlink")){return}h.addClass("lockedlink");h.one("click",a)});function b(){$("a.lockedlink").each(function(g,h){h=$(h);h.removeClass("lockedlink");if(h.data("onclick")){h.attr("onclick",h.data("onclick"));h.removeData("onclick")}try{h.unbind()}catch(i){Logger.error(i)}});d.$MsgLayer.fadeOut();d.isCatching=false}function a(j){b();var i=$(this);var g=i.attr("onclick");var h={name:Util.formatText(Util.trim(i.text()))};
if(g){g=Util.doRgx(/do_ajax\(['"](\w+)['"]\s*,\s*['"](.*?)['"],/,g);if(/inner_page|popup_fodder/.test(g.$1)){h.selector=g.$1;h.url=g.$2}else{h.selector="inner_page";h.url=String(g.$2).replace(/xw_action=\w+/,"xw_action=view");h.trigger=i.attr("id")}}else{h.url=Util.toUrl(i)}if(h.url){f&&f(h)}else{showHelpPopup({icon:"info",title:"Unknow Action",message:"Sorry, i cant grab this link/button."})}j.preventDefault();return false}};MWAddonToolbar.getValidUrl=function(b){var a=/xw_controller|xw_action|xw_city|cb|tmp|skip_req_frame|from_controller/i,c=Util.uSplit(b),b="remote/"+MW.getIntURL(c.xw_controller,c.xw_action);Util.each(c,function(d,f){if(!a.test(d)){b+="&"+d+"="+f}});return b};MWAddonToolbar.getBookmarks=function(){var a=[],b=MWAddonToolbar;if(UserConfig.main.opt_ChromeBM===true&&b.bookmarks.length>0){Util.each(b.bookmarks,function(d,f){var c=Plugins.convertBookmarklet(f.js);if(c){a.push({cbm:true,name:f.name,click:{func:Plugins.execRemoteJS,params:[c]}})}})}return a};MWAddonToolbar.Show=function(){var a=MWAddonToolbar;if(UserConfig.main.get("opt_Toolbar")!==true){return}if(e$("#mwa_toolbar")===null){a.NavLinks.load(a.Init)}else{a.Update()}};MWAddonToolbar.Update=function(){var c=MWAddonToolbar;if(c.initialized!==true){return}var a=global.User,b={health:{c:a.health(),m:a.max_health(),p:a.percent.health(),o:function(){switch(true){case b.health.c<20:return"red";case b.health.p<40:return"#FFD927;";default:return"white"}}},energy:{c:a.energy(),m:a.max_energy(),p:a.percent.energy(),r:a.ratio.energy(),o:function(){switch(true){case b.energy.p>99:return"#FFD927;";default:return"white"}}},stamina:{c:a.stamina(),m:a.max_stamina(),p:a.percent.stamina(),r:a.ratio.stamina(),o:function(){switch(true){case b.stamina.p>99:return"#FFD927;";default:return"white"}}},experience:{c:a.expToNextLevel(),p:100-a.percent.experience(),r:a.ratio.experience(),o:function(){switch(true){case b.experience.p>80:return"#FFD927;";default:return"white"}}}};$("#mwa_toolbar_hospital").css("display",(b.health.c<b.health.m)?"inline":"none");$("#mwa_user_level").text(global.User.level());Util.each(["health","energy","stamina","experience"],function(g,d){var f=b[d];var h=' <span style="font-size:10px">XPN</span>';var j=Util.setColor(f.c,f.o());$("#mwa_"+d+"_bar_info").html((f.m?j+" / "+f.m:j+h));$("#mwa_"+d+"_bar div").width((100-Math.min(f.p,100))+"%");$("."+d+" .progress_bar").attr("title",Util.formatText(d)+": "+f.p+"%");if(f.r){$("#mwa_"+d+"_ratio").text(f.r)}})};MWAddonToolbar.createDropMenu=function(a,c,b){if(Util.length(a)<1){return}if(Util.isArray(a)&&b===true){a.sort(function(h,g){var f=((h&&h.name)?h.name.toLowerCase():0);var i=((g&&g.name)?g.name.toLowerCase():0);return((f<i)?-1:((f>i)?1:0))})}var d=MWAddonToolbar;Util.each(a,function(g,h){if(!(h&&h.name)){return true}var i=c$("li");var f=c$("span").text(h.name).appendTo(i);if(h.title){f.attr("title",h.title)}if(h.icon){i.prepend(c$("img").attr("src",h.icon).css({"float":"left","margin-right":5,width:16,height:16}))}else{if(h.resIcon){f.addClass(Resources.className(h.resIcon))}else{f.addClass("left_arrow")}f.css("padding-left",21)}if(Util.isFunc(h.click)){h.click={func:h.click}}if(Util.isObject(h.click)){i.click(h.click,d.MenuEvent.click)}i.appendTo(c)})};MWAddonToolbar.getNavUserLinks=function(g){var d=MWAddonToolbar.NavLinks,a=MWAddonToolbar.FixedNavLinks,b=[],c=/do_ajax\(\s*['"](\w+?)['"]/,f=$("#mwa_toolbar li#"+g);$spockmenu=$("div[id^=spocktoolbar]","#mw_navigation #"+g);if(Util.isArray(d[g])&&Util.isArray(a[g])){b=d[g].concat(a[g]).slice()}else{if(Util.isArray(d[g])){b=d[g].slice()}else{if(Util.isArray(a[g])){b=a[g].slice()}}}if(b.length<1&&$spockmenu.length>0){$("> a",$spockmenu).each(function(k,j){var l=$(j),h=Util.doRgx(c,l.attr("onclick")).$1;b.push({name:Util.trim(l.text()),click:{page:Util.toUrl(j),selector:h}})})}if(b.length>0&&!f.hasClass("bottom-arrow")){$("#mwa_toolbar li#"+g).addClass("bottom-arrow")}return b};MWAddonToolbar.addDropMenu=function(d,h){var j=MWAddonToolbar;function g(i){if(i&&i.click&&i.click.page){return String(i.click.page).split("&").sort().join("&")}return false}var f=g(h),a=j.NavLinks[d];if(f&&Util.isArray(a)){for(var c=0,b=a.length;c<b;c++){if(g(a[c])===f){showHelpPopup({icon:"info",title:"Duplicate Menu",message:"The menu you want to add already exists on selected parent."});return}}j.NavLinks[d].push(h);j.NavLinks.save();if(j.getNavUserLinks(d).length>0){$("#mwa_toolbar .topnav > li#"+d).addClass("bottom-arrow")}}};MWAddonToolbar.clearDuplicateLinks=function(c,b){var d=/cb|tmp|xw_person|xw_city|mwcom/i;if(!b&&!c){return{}}function f(h){if(h&&h.click&&h.click.page){return Util.filter(String(h.click.page).split("&"),function(j,k){return !d.test(k)}).sort().join("&")}return false}var g={},a={};Util.each(b,function(i,h){if(Util.isArray(h)){a[i]=[];Util.each(h,function(j,k){a[i].push(k.name);g[f(k)]=true})}});Util.each(c,function(j,h){var i=(Util.isArray(a[j])&&a[j].length>0)?(new RegExp(a[j].join("|"),"i")):false;if(Util.isArray(h)&&h.length>0){c[j]=Util.filter(h,function(k,l){return !((f(l) in g)||(i&&i.test(l.name)))
})}});return c};MWAddonToolbar.InitMenu=function(c,a,d,b){if(a.length<1){return}var f=MWAddonToolbar;f.$Shadow=c$("div","class:over-shadow").appendTo(c);f.$Config=c$("div","class:toolbar-config-button").appendTo(c);c$("div","class:toolbar-scrolltop-button").appendTo(c).attr({onclick:"$(window).scrollTop(0);",title:"Scroll the screen to the top"});f.$MsgLayer=c$("div","class:message-layer").appendTo(c);f.$MsgLayer.mouseenter(function(){if(!f.$MsgLayer.is(":animated")){f.$MsgLayer.fadeOut()}});Util.each(d,function(h,g){if(Util.isArray(g)){d[h]=Util.filter(g,function(i,j){return(j.name&&j.click&&j.click.page)})}});b=MWAddonToolbar.clearDuplicateLinks(b,d);Util.each(a,function(i,j){var k=c$("li","id:"+j.id);var h=c$("a").html(j.name).appendTo(k);var g={};if(j.title){h.attr("title",j.title)}if(Util.isFunc(j.click)){j.click={func:j.click}}if(Util.isObject(j.click)){k.click(j.click,f.MenuEvent.click)}if(f.getNavUserLinks(j.id).length>0){k.addClass("bottom-arrow")}k.mouseenter({func:f.getNavUserLinks},f.MenuEvent.enter);k.mouseleave(f.MenuEvent.leave);k.appendTo(c)});f.$Config.mouseenter({sorted:false,menu:[{name:"Link Catcher",resIcon:"link_add_png",click:f.Event.watcher_link},{name:"Add Bookmark",resIcon:"link_add_png",click:f.Event.new_link},{name:"Edit Toolbar",resIcon:"link_edit_png",click:f.Event.edit_toolbar}]},f.MenuEvent.enter).mouseleave(f.MenuEvent.leave)};MWAddonToolbar.Init=function(){var f=MWAddonToolbar;if(!Resources.exists("toolbar_html")||!Resources.exists("toolbar_css")){return}function g(n){var m=/^javascript:/i;Util.each(n,function(o,p){if(m.test(p.uri)){f.bookmarks.push({name:p.title,js:p.uri})}})}if(typeof GM_getBookmarks!=="undefined"){g(GM_getBookmarks())}else{Chromium.getBookmarks(function(m){g(m)})}var h=c$("div","mwa_toolbar_wrapper").height(110);c$("style").append(Util.render(Resources.get("toolbar_css"),{base_url:global.zGraphicsURL,backgroundImage:Resources.get("toolbar-bg_png"),navShadow:Resources.get("toolbar-nav-shadow_gif"),bottomArrow:Resources.get("toolbar-down-arrow_png"),settings:Resources.get("toolbar-settings_png"),scrollTop:Resources.get("toolbar-scrolltop_png")})).appendTo(h);$(Util.render(Resources.get("toolbar_html"),{base_url:global.zGraphicsURL})).appendTo(h);$("#mwa_rewardPoints",h).append($("#menubar #user_favor_wrapper"));$("#mwa_skillPoints",h).append($("#menubar #user_skill_wrapper"));if(Resources.exists("toolbar_content_html")){$("#toolbar-stats-content",h).html(Util.render(Resources.get("toolbar_content_html"),{base_url:global.zGraphicsURL}))}var i=$("#mwa_toolbarCash",h).click(f.Event.deposit);$("#stat_cash_cont > div").each(function(n,o){var m=$(".stat_numbers strong",o);var p=c$("div","class:cash,id:"+o.id).appendTo(i).css({width:120,display:o.style.display});c$("strong","class:cur_cash,id:"+m.attr("id")).html(m.html()).appendTo(p)});var k=[];$("#mw_navigation .nav_link").each(function(n,p){if(p.id){var o=$("a:regex(href,xw_controller)",p).eq(0);var q=$("span:first",o).text()||o.text();var m=Util.doRgx(/do_ajax\(\s*['"](\w+?)['"]/,o.attr("onclick")).$1;if(p.id=="nav_link_profile"){q=o.html()}k.push({id:p.id,name:Util.trim(q),click:{page:Util.toUrl(o),selector:m}})}else{if($(p).hasClass("arena_link")){k.push({id:"nav_link_arena",name:"Arena",click:{link:"https://apps.facebook.com/inthemafia/index.php?next_params=YToyOntpOjA7czo1OiJsb2JieSI7aToxO3M6NDoibGFuZCI7fQ=="}})}}});MWAddonToolbar.arenaOn=($("#arena_lobby_list_cont").length>0);f.rootParents=[];Util.each(k,function(m,n){f.rootParents.push(c$("option","value:"+n.id).text(Util.doRgx(/^([\w\s]+)/,n.name).$1))});var a=$("#mwa_toolbarmenu",h),l=a.clone(),c=a.clone();$(".box_title > div:first",a).append(c$("a").text("EDIT").css("opacity",0.8).click(f.Event.edit_plugin));$(".box_title > div:first",l).append(c$("a").text("EDIT").css("opacity",0.8).click(f.Event.edit_reminder));$(".box_title > div:eq(1)",c).text("BOOKMARKS");$(".box_title > div:eq(1)",a).text("PLUGINS");$(".box_title > div:eq(1)",l).text("REMINDERS");$(".toolbararrow",l).css("right",6);$(".toolbararrow",c).css("right",48);$("#mwa_tlbLinks",h).append(c).click(f.Event.showMenu).mouseleave(f.Event.hideMenu);$("#mwa_tlbReminders",h).append(l).click(f.Event.showMenu).mouseleave(f.Event.hideMenu);$("#mwa_tlbPlugins",h).append(a).click(f.Event.showMenu).mouseleave(f.Event.hideMenu);$("#mwa_toolbarExperience",h).click(f.Event.showRatios);$("#mwa_toolbar",h).mouseenter(f.Update);$("#mwa_toolbarHealth",h).click(f.Event.heal);h.prependTo("#stats_row");var d=$("#mwa_toolbar",h),b=130;var j=$("#spockholm_toolbar");if(j.length>0){j.css({bottom:0,"z-index":29});c$("style").text('#spockholm_toolbar[style~="fixed;"] #spocktoolbar_spocklets_menu { bottom:35px; }').prependTo(j);setTimeout(function(){MWAddonToolbar.ShowMessage('Enabled the "Spockholm Toolbar Compatibility Mode"',6500)},7000)}$(unsafeWindow).scroll(function(m){var n=$(unsafeWindow).scrollTop();if(n>b){if(Util.length(global.Popups)<1){d.addClass("float-bar")}}else{d.removeClass("float-bar");b=d.offset().top
}});$("#game_stats, #user_stats, #menubar, #arena_tab_blood").hide();$("#menubar").prependTo("#mwa_toolbar");$("#war_static_alert").css({left:"120px",top:"90px"});f.InitMenu($("ul.topnav",h),k,f.NavLinks,f.FixedNavLinks);f.initialized=true;f.Update()};var MainMenu={root:[{name:"Configuration",click:Configuration,resIcon:"config_menu_icon_png"},{name:"Free Gifts Center",click:FreeGiftsCenter,resIcon:"freegifts_menu_icon_png"},{name:"Home Feed Center",click:HomeFeedCenter,icon:global.zGraphicsURL+"v3/icon_mafia_hat_32x25_01.png"},{name:"Collect All Cities",click:CollectAllCities,icon:global.zGraphicsURL+"v3/icon_vault_23x27_01.png"},{name:"Battlefield v2!",click:Battlefieldv2,resIcon:"stamina_menu_icon_png"},{name:"Plugin Manager",click:PluginManager,menu:Plugins.getMenu,resIcon:"plugin_menu_icon_png"},{name:"Reminder Manager",click:ReminderManager,menu:Reminders.getMenu,resIcon:"reminder_menu_icon_png"},{name:"Rob Master",click:RobMaster,resIcon:"stamina_menu_icon_png"},{name:"Bounty Hunter",click:BountyHunter,resIcon:"stamina_menu_icon_png"},{name:"Craft Manager",click:CraftManager,resIcon:"weapon_menu_icon_png"},{name:"Operations Center",click:OperationsCenter,icon:global.zGraphicsURL+"map_based_jobs/expert_view/icon_megaphone.png"},{name:"Multi Gifter",click:MultiGifter,icon:global.zGraphicsURL+"v3/icon_gift_27x28_01.png"},{name:"Inventory Analyzer",click:InventoryAnalyzer,resIcon:"inventory_menu_icon_png"},{name:"Wall Cleaner",click:WallCleaner,resIcon:"wall_menu_icon_png"},{name:"Mafia Recruiter",click:MafiaRecruiter,icon:global.zGraphicsURL+"buy_hiredguns_75x75_01.gif"},{name:"Mafia Wiper",click:MafiaWiper,resIcon:"list_menu_icon_png"},{name:"Fight Club Buyer",click:FightClubBuyer,resIcon:"victory_coin_icon_png"},{name:"My Links",click:UserLinks,resIcon:"link_edit_png"}],Events:{click:function(a){if(!$(a.target).is("span, li")){return false}if(a.data.url){unsafeWindow.open(a.data.url,"_blank");MainMenu.Events.hide()}else{if(Util.isFunc(a.data.func)){MainMenu.Events.hide();MainMenu.execFunc(this,a.data.func,a.data.params)}}a.stopImmediatePropagation();return false},enter:function(i){var h=$(this),a;var g=$(document).width();if(Util.isFunc(i.data.func)){a=MainMenu.execFunc(this,i.data.func,i.data.params)}else{if(Util.isArray(i.data.menu)){a=i.data.menu}else{return}}var f=c$("div","class:mwa-menu-wrapper");var b=c$("ul").appendTo(f);if(Util.length(a)<1){return false}var d=(e$(".submenu",h)||c$("div","class:submenu").appendTo(h)).empty().css({left:h.outerWidth()-5,top:h.position().top-10});d.append(c$("div","class:mwa-menu-top ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"));f.appendTo(d);MainMenu.create(a,b,true);d.append(c$("div","class:mwa-menu-bottom ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"));d.show();var c=MainMenu.getMenuRightCoor(d);if(c>g){$("#mwa_menu").stop().animate({left:"-"+(c-(g-5))+"px"},"normal")}if(b.height()>Util.parseNum(f.css("max-height"))){MainMenu.addSearchBox(d);f.mousemove(function(n){var r=n.pageY,k=n.pageX,p=f.offset(),l=p.left+f.outerWidth(),m=p.top+f.outerHeight();if(!(r<p.top||r>m||k<p.left||k>l)){var j=Number((r-p.top)/f.height());var q=-0.1+((j/10)*2);f.scrollTop(b.height()*((j-0.1)+q))}})}return false},leave:function(){$(".submenu",this).hide()},show:function(){var a;while((a=$("#mwa_menu #like_button span")).length>1){a.last().remove()}$("#mwa_menu").stop().animate({left:"0px"},"normal")},hide:function(){$(".submenu","#mwa_menu").hide();$("#mwa_menu").stop().animate({left:"-182px"},"normal")}},execFunc:function(b,a,c){return a.apply(b,Util.isArray(c)?c:[c])},getMenuRightCoor:function(a){var b=a.offset();return b.left+a.outerWidth()},addSearchBox:function(b){var a=$("ul",b);t$("mwaMenuSearch"+MW.guid(4),"Search:",{keyup:function(d){var c=$(this);clearTimeout(c.attr("timeout"));c.attr("timeout",setTimeout(function(){$("li",a).each(function(h,j){var g=String($(j).text()).toLowerCase();var f=String(c.val()).toLowerCase();if(f.length>4){$(j)[g.indexOf(f)!==-1?"show":"hide"]()}else{if(f.length>0){$(j)[g.indexOf(f)===0?"show":"hide"]()}else{$(j).show()}}})},500))}}).appendTo($(".mwa-menu-top",b))},addRemote:function(a){if(!/^http/.test(a.url)||!a.name){return}var b=[{name:"Loading...",resIcon:"ajax_loader"}];httpXDRequest({method:"GET",headers:{"Content-Type":"text/json"},url:Util.trim(a.url)+"?"+Math.random(),onload:function(c){if(c.status===200){var d=String(c.responseText);if(d.charAt(0)=="{"){b=Util.parseJSON(d).main}}else{showHelpPopup({icon:"error",title:"Remote Menu",message:"Error loading url:<br>"+url+"<br><br>"+c.statusText})}}});MainMenu.add({name:a.name,position:0,icon:a.icon,menu:function(){return b}})},init:function(){if(e$("#mwa_menu_container")!==null){return}var f=Util.render(Resources.get("menu_default_css"),{base_url:global.zGraphicsURL});var b=c$("div","id:mwa_menu_container").append(c$("style").text(f));var d=c$("div","id:mwa_menu").appendTo(b);var a=c$("ul");var c=c$("div","id:mwa_menu_arrow").appendTo(b);var h=c$("div","class:mwa-menu-top ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix");
c$("div","class:mwa-menu-title").append(c$("img").attr("src","http://mwaddon.com/getimage.php")).append(c$("div").text("MWAddon Menu")).appendTo(h);h.appendTo(d);a.appendTo(d.css("left","-182px"));c$("div","class:mwa-menu-bottom ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix").html(['<fb:like href="http://www.facebook.com/MafiaWarsAddon" ','send="true" layout="button_count" width="150" show_faces="false" ','colorscheme="dark" class="fb_edge_widget_with_comment fb_iframe_widget">',"</fb:like>"].join("")).appendTo(d);MainMenu.create(MainMenu.root,a,false);c.addClass(Resources.className("menu_arrow_png"));b.prependTo("#final_wrapper");d.mouseleave(MainMenu.Events.hide);c.mouseenter(MainMenu.Events.show);try{MWFB.XFBML.parse()}catch(g){}},add:function(c){if(!c.name){return}var a=MainMenu.root.length,b={name:c.name,click:c.action||c.click,icon:c.icon,resIcon:c.resIcon,menu:c.subMenu||c.menu};if(Util.isNumber(c.position)){if(c.position<0){c.position=MainMenu.root.length+c.position}else{if(c.position<1){c.position=1}}if(c.position>a){c.position=a}}else{c.position=a}MainMenu.root.splice(c.position,0,b)},create:function(a,c,b){if(Util.length(a)<1){return}if(Util.isArray(a)&&b===true){a.sort(function(g,f){var d=g.name.toLowerCase();var h=f.name.toLowerCase();return((d<h)?-1:((d>h)?1:0))})}Util.each(a,function(f,g){if(!(g&&g.name)){return true}var h=c$("li");var d=c$("span").text(g.name).appendTo(h);if(g.title){d.attr("title",g.title)}if(g.icon){h.prepend(c$("img").attr("src",g.icon).css({"float":"left","margin-right":5,width:16,height:16}))}else{if(g.resIcon){d.addClass(Resources.className(g.resIcon))}else{d.addClass(Resources.className("run_menu_icon_png"))}d.css("padding-left",21)}if(g.css){h.css(g.css)}if(g.important){h.prependTo(c).addClass("important")}else{h.appendTo(c)}if(g.click){if(Util.isFunc(g.click)){g.click={func:g.click}}else{if(/html_server\.php/.test(g.click)){g.click={func:MW.goPage,params:g.click}}}if(Util.isObject(g.click)){h.click(g.click,MainMenu.Events.click)}else{h.attr("onclick",g.click)}}else{if(g.js){h.click({func:Plugins.execRemoteJS,params:g.js},MainMenu.Events.click)}else{if(g.link){h.click({url:g.link},MainMenu.Events.click)}}}if(Util.isSet(g.menu)){if(Util.isArray(g.menu)){h.mouseenter({menu:g.menu},MainMenu.Events.enter)}else{if(Util.isFunc(g.menu)){h.mouseenter({func:g.menu},MainMenu.Events.enter)}else{return}}h.addClass("right_arrow");h.mouseleave(MainMenu.Events.leave)}})}};var MWAddonCommunity={feeds:[],current:0,refreshTime:0,linksLoaded:false,closed:false,isShowing:false};MWAddonCommunity.Event={click:function(){var a=MWAddonCommunity.feeds[$(this).attr("index")];if(a){unsafeWindow.open(a.link,a.target)}return false},stop:function(){MWAddonCommunity.Event.pause.apply(this);MWAddonCommunity.isShowing=false;MWAddonCommunity.Show()},start:function(){var b=this;var a=parseInt($(this).attr("endPos"));var c=$(this).attr("intval");if(c){clearInterval(c)}if(isNaN(a)){MWAddonCommunity.Event.stop.apply(b);return}$(this).attr("intval",setInterval(function(){var d=b.scrollLeft;b.scrollLeft+=2;if(b.scrollLeft==d||b.scrollLeft>=a){MWAddonCommunity.Event.stop.apply(b)}},40))},pause:function(){var a=$(this).attr("intval");if(a){clearInterval(a);$(this).removeAttr("intval")}},next:function(){$("#marquee_outer").trigger("stop");return false}};MWAddonCommunity.Show=function(){if(UserConfig.main.get("opt_Community")!==true||MWAddonCommunity.isShowing===true||MWAddonCommunity.closed===true){return}if(MWAddonCommunity.feeds.length<1){MWAddonCommunity.GetData(function(g){if(g&&g.length>0){MWAddonCommunity.Show();setInterval(function(){MWAddonCommunity.GetData()},600000)}});return}if(e$("#mwa_marquee")===null){MWAddonCommunity.Init()}MWAddonCommunity.isShowing=true;var c=MWAddonCommunity.current;var f=MWAddonCommunity.feeds[c];var d=String(f.message).replace(/\n/g," ");var a=$("#marquee_outer");var b=a.get(0);if((++MWAddonCommunity.current)>MWAddonCommunity.feeds.length-1){MWAddonCommunity.current=0}if(f.type==="post"){d+=' -- by <span style="color:gold;">'+f.name+"</span> "}else{d+=" -- "+f.action+' <span style="color:gold;">'+f.name+"</span> "+Util.formatText(f.type)}$("#marquee_outer #marquee_inner").html(d);b.scrollLeft=0;a.attr({index:c,title:f.action+" "+f.name+" "+Util.formatText(f.type),endPos:b.scrollWidth-a.outerWidth()});a.trigger("start")};MWAddonCommunity.Close=function(){var a=$("#marquee_outer");a.trigger("pause");a.unbind().removeData("marquee");MWAddonCommunity.isShowing=false;MWAddonCommunity.closed=true;$("#mwa_marquee").remove();$("#mw_like_button").show();$("#final_wrapper").css("margin-top",0);return false};MWAddonCommunity.GetData=function(h){if(MWAddonCommunity.closed===true){return}var d=/mwaddon_(plugin|reminder)/i;var g=/tinyurl|3bszve6|add\s*me|friend\s*me|Daily\s*Player|mafia\s?wars?\s?(2|two)/i;function a(i){try{var j=Util.uSplit(i);if(j.next_params){var k=Util.doRgx(d,j.next_params);if(k.$0){var l=Util.parseJSON(j.next_params);l=Util.parseJSON(Base64.decode(l[k.$0]));
return{type:k.$1,action:"Install",name:l.name}}else{if(i.match("apps.facebook.com")){return{type:"link",action:"Get"}}}}}catch(m){Logger.error("facebook.getLinks.parseLink: "+m);return{}}}function f(j){if((j.type==="plugin"&&Plugins.exists(j.name))||(j.type==="reminder"&&Reminders.exists(j.name))){return false}var i=MWAddonCommunity.feeds.length;Util.each(MWAddonCommunity.feeds,function(k,l){if(j.type===l.type&&Util.isSameString(j.name,l.name)){if(j.time>l.time){i=k}else{i=-1}}});if(i>-1){MWAddonCommunity.feeds[i]=j;return true}return false}function b(){var j=0,i=[];MWAddonCommunity.feeds.sort(function(l,k){return k.time-l.time});Util.each(MWAddonCommunity.feeds,function(k,l){if(l.type!=="post"){i.push(l)}else{if(j<UserConfig.main.opt_CommunityLimit){i.push(l);j+=1}}});MWAddonCommunity.feeds=i}function c(){facebook.getLinks(facebook.fanpage,function(i){if(i&&i.data){Util.each(i.data,function(j,l){var k=a(l.link);if(k&&k.type&&(k.name||l.name||l.description)){f({type:k.type,action:k.action,target:"_blank",name:k.name||l.name||l.description,message:l.message,link:"http://www.facebook.com/"+String(l.id).replace("_","/posts/"),time:l.created_time})}});b()}})}facebook.getFeeds(facebook.fanpage,function(i){var j=0;if(i&&i.data&&i.data.length>0){Util.each(i.data,function(k,m){var l=m.caption||m.message;if((m.type==="status"||m.type==="photo")&&l){if(!g.test(l)&&j<UserConfig.main.opt_CommunityLimit){if(f({type:"post",action:"Go to",target:"_blank",name:m.from.name,message:m.caption||m.message,link:"http://www.facebook.com/"+String(m.id).replace("_","/posts/"),time:m.created_time})){j+=1}}}});b()}if(MWAddonCommunity.linksLoaded!==true){MWAddonCommunity.linksLoaded=true;c()}if(Util.isFunc(h)){h(MWAddonCommunity.feeds)}})};MWAddonCommunity.Init=function(){if(!Resources.exists("marquee_html")){return}$(Util.render(Resources.get("marquee_html"),{base_url:global.zGraphicsURL})).prependTo("#final_wrapper");$("#marquee_header .close_button").click(MWAddonCommunity.Close);$("#marquee_header .next_button").click(MWAddonCommunity.Event.next);$("#marquee_outer").click(MWAddonCommunity.Event.click).bind("start mouseleave",MWAddonCommunity.Event.start).bind("pause mouseenter",MWAddonCommunity.Event.pause).bind("stop",MWAddonCommunity.Event.stop);$("#mw_like_button").hide();$("#final_wrapper").css("margin-top",28)};var Notifications={Initialized:false,onScreen:{},context:null,tiny:function(b){var a=e$("#tiny_notify");if(a!==null){clearTimeout(a.attr("timeout"));a.stop().css({opacity:0,left:0})}else{a=c$("div","tiny_notify").prependTo("#mw_masthead");a.css("margin","0px -"+String(a.outerWidth()/2)+"px")}a.html(b);a.animate({opacity:1,left:"50%"},{complete:function(){a.attr("timeout",setTimeout(function(){a.animate({opacity:0,left:"100%"},{complete:function(){a.remove()}})},5000))}})},add:function(a){if(a&&a.id){Notifications.onScreen[a.id]=a}},remove:function(a){if(a&&Util.isSet(Notifications.onScreen[a])){delete Notifications.onScreen[a]}},clear:function(){Notifications.onScreen={}},update:function(){Notifications.init();var c=Util.length(Notifications.onScreen);var a=$("#quest_1352874_details #quest_summary").empty();var b=unsafeWindow.MW;if(c>0){$(".notification-count","#notification_button").show().text(""+c);Util.each(Notifications.onScreen,function(f,d){$(Util.render(Resources.get("task_entry_html"),{task_id:f,icon_class:Resources.className("info_icon_png"),task_title:d.title,task_message:String(d.message).replace(/\n/g,"<br />"),onclick_text:(d.click_label||"Go now"),onclose_text:(d.close_label||"Close")})).prependTo(a)});$("a[action]",a).click(function(i){var g=$(this).attr("taskId");var f=Notifications.onScreen[g];var h=$(this).attr("action");function d(){$(this).remove();Notifications.remove(g);if(Util.isFunc(f[h])){f[h]()}Notifications.update()}if(f){if(h==="onclose"){$("#"+g,a).fadeOut(500,d)}else{setTimeout(d,1000);b.QuestBar.showDetails(1352874)}}return false})}else{$(".notification-count","#notification_button").hide();c$("center","class:empty-notify-alert").appendTo(a).text("No Alerts")}},init:function(){var b=e$("#notification_button");if(b===null){b=c$("li","id:notification_button,class:quest_slot_city").appendTo("#quest_bar > ul:first");b=c$("a","class:notification-globe mwa_res_notification_icon_png").appendTo(c$("div").appendTo(b));b.attr("onclick","MW.QuestBar.showDetails(1352874);");c$("span","class:notification-count").appendTo(b).hide();var a=c$("div","id:quest_1352874_details").appendTo("#quest_tray #quest_tray_inner");c$("div","id:top_quest_list").appendTo(a).text("REMINDER ALERTS");c$("div","id:quest_summary").appendTo(a).css({"max-height":535,overflow:"hidden"}).append(c$("center","class:empty-notify-alert").text("No Alerts"))}}};String.prototype.has=function(a){return this.indexOf(a)>-1};function jsMinifier(d,g,c){if(typeof g==="undefined"){g=d;d="";c=2}else{if(typeof c==="undefined"||c<1||c>3){c=2}}if(d&&d.length>0){d+="\n"}var u="",t="",j=-1,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",h="0123456789",r=i+h+"_$\\",q=j;
function w(a){return a!=j&&(r.has(a)||a.charCodeAt(0)>126)}var s=0,v=g.length;function k(){var a=q;if(s==v){return j}q=j;if(a==j){a=g.charAt(s);++s}if(a>=" "||a=="\n"){return a}if(a=="\r"){return"\n"}return" "}function f(){var a=q;if(s==v){return j}q=j;if(a==j){a=g.charAt(s);++s}if(a>=" "||a=="\n"||a=="\r"){return a}return" "}function n(){q=k();return q}function l(){var b=k();if(b=="/"){switch(n()){case"/":for(;;){b=k();if(b<="\n"){return b}}break;case"*":k();if(n()=="!"){k();var a="/*!";for(;;){b=f();switch(b){case"*":if(n()=="/"){k();return a+"*/"}break;case j:throw"Error: Unterminated comment.";default:a+=b}}}else{for(;;){switch(k()){case"*":if(n()=="/"){k();return" "}break;case j:throw"Error: Unterminated comment."}}}break;default:return b}}return b}function p(b){var a=[];if(b==1){a.push(u)}if(b<3){u=t;if(u=="'"||u=='"'){for(;;){a.push(u);u=k();if(u==t){break}if(u<="\n"){throw"Error: unterminated string literal: "+u}if(u=="\\"){a.push(u);u=k()}}}}t=l();if(t=="/"&&"(,=:[!&|".has(u)){a.push(u);a.push(t);for(;;){u=k();if(u=="/"){break}else{if(u=="\\"){a.push(u);u=k()}else{if(u<="\n"){throw"Error: unterminated Regular Expression literal"}}}a.push(u)}t=l()}return a.join("")}function o(){var a=[];u="\n";a.push(p(3));while(u!=j){switch(u){case" ":if(w(t)){a.push(p(1))}else{a.push(p(2))}break;case"\n":switch(t){case"{":case"[":case"(":case"+":case"-":a.push(p(1));break;case" ":a.push(p(3));break;default:if(w(t)){a.push(p(1))}else{if(c==1&&t!="\n"){a.push(p(1))}else{a.push(p(2))}}}break;default:switch(t){case" ":if(w(u)){a.push(p(1));break}a.push(p(3));break;case"\n":if(c==1&&u!="\n"){a.push(p(1))}else{switch(u){case"}":case"]":case")":case"+":case"-":case'"':case"'":if(c==3){a.push(p(3))}else{a.push(p(1))}break;default:if(w(u)){a.push(p(1))}else{a.push(p(3))}}}break;default:a.push(p(1));break}}}return a.join("")}jsMinifier.oldSize=g.length;ret=o(g);jsMinifier.newSize=ret.length;return d+ret}function FriendSelectorGetTiny(){var j=unsafeWindow.FB;var c=unsafeWindow.MW;var d="http://tinyurl.com/create.php?alias=";var h=Math.round(new Date().getTime()/1000);var g=document.getElementById("mfs_container").parentNode;var f=g.querySelector("div");var l=document.createElement("div");var m=o();var k=g.querySelector(".request_item_container > div").innerText;var b;l.setAttribute("style","font-size:22px; font-weight:bold; color:#FFCC00; margin-bottom:5px; padding:4px; text-align:center;");g.insertBefore(l,f);l.innerHTML="<span>MWAddon Get Tiny URL: </span>";l.appendChild(m);m.addEventListener("click",function(){var p=document.createElement("img");p.setAttribute("src","http://mwfb.static.zgncdn.com/mwfb/graphics/socialmissions/ajax-loader.gif");g.innerHTML="<br><br>";g.appendChild(p);n(function(q){var r=Util.uSplit(q);b=MW.getExtURL("freegifts","accept_gift")+"&next_params="+escape(r.data);getShortURL(b,i,a)})},false);function n(p){j.ui=function(r,q){q({request:"new_request_id"})};c.Ajax.request=function(r,q){p(r)};c.Request.setTabFriendLists({"1":[123456789]});c.Request.setSelectableForTab(1);c.Request.selectFriend(123456789);c.Request.submitMFS()}function o(){var p=document.createElement("input");p.setAttribute("style","position: relative; top: -3px; width: 180px; height: 30px; margin-left: 5px;");p.setAttribute("type","button");p.setAttribute("value","Get Tiny URL");return p}function i(p){var q=document.createElement("input");g.innerHTML="";l.innerHTML="<br><br><span>Your Tiny URL: </span><br><br>";g.appendChild(l);g.appendChild(q);q.setAttribute("style","heigth: 22px;text-align:center; width: 500px; font-weight: bold; color: rgb(208, 208, 208); border: 1px solid rgb(153, 153, 153); background-color: black; font-size: 14px;");q.setAttribute("type","text");q.setAttribute("readonly","readonly");q.value=(k+" => "+p)}function a(){var p=o();d+=h+"-"+k+"&url="+escape(b);g.innerHTML="";l.innerHTML="<br><br><span>Click to Open a new Tab: </span><br><br>";g.appendChild(l);g.appendChild(p);p.setAttribute("onclick","window.open('"+d+"'); return false;")}return false}UserConfig.create("main",{_excludedToExport:["groups","appLastUpdateCheck"],groups:{"0":"My wall"},privacy:{value:"ALL_FRIENDS"},publishPreview:false,toolTips:true,toolTipLanguage:"none",shortServiceID:"TinyUrl",unshortServiceID:"unshort.me",shortServiceLogin:{},helpNotes:true,opt_Toolbar:true,opt_ChromeBM:true,opt_Community:true,opt_CommunityLimit:3,opt_JobRates:true,opt_CollectionPage:true,opt_ProfilePage:true,opt_FamilyPage:true,opt_WarPage:true,opt_FightPage:true,opt_ArenaMarketPage:true,debugMode:false,fbTimeout:60,rqTimeout:30,jsTimeout:10,autoHeal:false,autoHealWhen:25,autoHealIn:1,userGiftsIds:{},appCount:{}});var MWAddonInit={FixedGame:false,fix:function(a){return String(a).replace(/https?:\/\/zyngapv.hs.llnwd.net\/e6/g,"http://mwfb.static.zynga.com")}};MWAddonInit.Storage=function(c){var a;function b(d){if(a){clearTimeout(a)}if((Chromium.has_filesystem=d)){Logger.log("INFO","Chrome FileSystem detected.")}else{Logger.log("INFO","General LocalStorage detected.");
Logger.log("INFO","CAUTION!!, clear browser cookies will remove all saved data.")}BrowserStorage.setValue=(d!==true)?function(f,g){try{localStorage.setItem(f,g)}catch(h){Logger.error("WARNING! Save data is not possible:");Logger.error(h)}}:function(f,g,h){if(typeof h!=="function"){h=Util.noop}Chromium.sendRequest(h,{action:"SaveData",file:f,data:g})};BrowserStorage.getValue=(d!==true)?function(g,f){try{var h=localStorage.getItem(g)}catch(i){}return h?h:f}:function(f,g){if(typeof g!=="function"){return}Chromium.sendRequest(g,{action:"LoadData",file:f})};BrowserStorage.deleteValue=(d!==true)?function(f){try{localStorage.removeItem(f)}catch(g){}}:function(f){};c&&c()}if(typeof GM_deleteValue=="undefined"){if(typeof(localStorage)=="undefined"||typeof(localStorage.getItem)=="undefined"){if(!(localStorage=unsafeWindow.localStorage)){Logger.error("localStorage is undefined, using a temporal storage.");localStorage=new (function(){var d=[];this.setItem=function(f,g){d[f]=g};this.getItem=function(f){return d[f]?d[f]:null};this.removeItem=function(f){d[f]=null};return this})()}}a=setTimeout(b,10000);Chromium.sendRequest(b,"hasFileSystem")}else{Logger.log("INFO","Greasemonkey API detected.");BrowserStorage.setValue=GM_setValue;BrowserStorage.getValue=GM_getValue;BrowserStorage.deleteValue=GM_deleteValue;c&&c()}};MWAddonInit.jQuery=function(d){function a(f,h){var g=document.createElement("script");g.setAttribute("type","text/javascript");g.src=f;g.onload=h;document.head.appendChild(g)}function c(){if(typeof($=unsafeWindow.$)!=="undefined"){MWAddonInit.FixedGame=true;Logger.error("jQuery is not available.");loadingScreen("Fixing Game Issues, Please Wait...")}else{return}Logger.log("INFO","Detected game issues, reanimate module was started!");Logger.log("INFO","Trying to reload and fix header issues...");$("script","head").each(function(g,h){var f=h.src;if(f&&/zyngapv.hs.llnwd.net\/e6/i.test(f)){$(h).remove();c$("script").attr("src",MWAddonInit.fix(f)).appendTo("head")}});$("style","head").each(function(f,g){var h=g.innerHTML;if(h&&/zyngapv.hs.llnwd.net\/e6/i.test(h)){$(g).remove();c$("style").text(MWAddonInit.fix(h)).appendTo("head")}});setTimeout(function(){Logger.log("INFO","Trying to reload and fix body issues...");$("script","body").each(function(f,g){var h=g.innerHTML;$(g).remove();try{c$("script").text(MWAddonInit.fix(h)).appendTo("body")}catch(g){}});MWAddonInit.jQuery(d)},5000)}Util.until({retries:3,delay:2000,test:function(){return(typeof($=unsafeWindow.$)!=="undefined")},success:function(){if(typeof($)==="undefined"){a("https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",function(){a("https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js",c)})}else{var f=$().jquery;Logger.log("INFO","jQuery "+f+" is loaded.");b();$("link:regex(href,ui-lightness)").remove();c$("link").attr({type:"text/css",rel:"stylesheet",href:"https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/themes/ui-darkness/jquery-ui.css"}).prependTo("head");d()}}});function b(){$.expr[":"].regex=function(g,j,f,l){var n,h,k;if((n=f[3].split(",")).length>1){k=$.trim(n[0]);h=$.trim(n[1])}else{k="html";h=$.trim(f[3])}var l=new RegExp(h,"i");if($(g)[k]){return l.test($(g)[k]())}if($(g).attr(k)){return l.test($(g).attr(k))}return false};$.fn.extend({tooltip:function(f){if(!f){return}return this.each(function(){var g=$(this),h=g.attr("id");if(!h){return true}g.removeClass("apply_tooltip");g.addClass("hasTooltip");g.mouseleave(Tooltips.hide).mouseenter(function(i){i.target=g;Tooltips.show(i,{id:h,context:f})})})},calendar:function(){return this.each(function(){var f=$(this);if(f.is("input")&&!f.hasClass("hasCalendar")){$(this).addClass("hasCalendar")}}).focus(Calendar.show).click(Calendar.show)}})}};MWAddonInit.Facebook=function(b){function a(){facebook.init(function(c){if(c===true){Logger.log("INFO","Facebook API is loaded.")}else{Logger.log("ERROR","Facebook API is not loaded.")}b&&b()})}Util.until({retries:3,delay:2000,test:function(){return(typeof(MWFB=unsafeWindow.FB)!=="undefined")},success:function(){if(typeof(MWFB)=="undefined"){Logger.error("Facebook SDK is missed.");var d=$("script:regex(text,SNAPI.init)");if(d.length>0){Logger.log("INFO","Trying to fix MWAddon Facebook connection...");try{var c=Util.parseJSON(Util.doRgx(/SNAPI.init\((.+?)\);/,d.text()).$1);MWFB={updateSession:function(g){g&&g()},getLoginStatus:function(g){g&&g()},login:function(g){g&&g()},ui:function(h,g){g&&g({error:{message:"FB SDK not available."}})},api:function(h,g){g&&g({error:{message:"FB SDK not available."}})}};a();return}catch(f){Logger.error(f)}}showHelpPopup({icon:"caution",title:"Facebook API is not available.",message:"MWAddon cant initialize."})}else{a()}}})};MWAddonInit.QuestBar=function(){var b=e$("#quest_tray a:regex(onclick,showQuestRequestFriendSelector)");if(b){try{var a=Util.doRgx(/MW.QuestBar.showTask\((\d+),(\d+)\)/,b.attr("onclick"));if(a.$1&&a.$2){UserFreeGifts.get(441).params={quest:a.$1,task:a.$2};Logger.debug('activeQuest: {"quest":'+a.$1+', "task":'+a.$2+"}");
return false}}catch(c){}}};MWAddonInit.User=function(a){if(!(global.USER_ID=MW.getUserID())){showHelpPopup({icon:"caution",title:"MWAddon cannot initializate.",message:"User cant be identified."});return false}global.PERSON_ID=String(global.USER_ID).match(/(\d+)/)[1];if(Tooltips.resourceExists(global.User.locale())){global.mw_locale=global.User.locale()}Logger.log("INFO","User correctly identified.");AppInfo.prefix=AppInfo.id+"_"+Util.parseNum(global.USER_ID)+"_";UserConfig.main.load(a)};MWAddonInit.Installation=function(g){var d=Util.uSplit(global.location.href);var b='The "${name}" ${type} is ready to be installed.<br>Do you want to proceed?<br><br><span style="font-size:11px">You can disable/remove ${type}s by opening ${editor}.</span>';var f=function(){setTimeout(g,1000)};function a(i,h,j){j=Util.parseJSON(Base64.decode(j));$("#content_row > div[id^=popup_]").empty();showAskPopup("New "+i+" Installation!",Util.render(b,{name:j.name||"Unknow",type:i,editor:i+"Manager"}),function(){h.addNew(j,function(k){k.active=true;h.save(f)})},f)}if(!Util.isFunc(f)){return}else{if(!d){f();return}}try{if(d.mwaddon_plugin){a("Plugin",Plugins,d.mwaddon_plugin)}else{if(d.mwaddon_reminder){a("Reminder",Reminders,d.mwaddon_reminder)}else{f()}}}catch(c){f();Logger.error("Plugin Installation: "+c)}};MWAddonInit.HandleAjax=function(){$(document).ajaxComplete(function(c,b,d){if(!/xw_controller/.test(d.url)){return}var a=Util.doRgx(/<!--\s*Current\s*Page:\s*(\w+)/i,b.responseText).$1;$("#inner_page").css("margin","2px auto");global.currentURL=d.url;MainMenu.init();AutoActions(b.responseText);setTimeout(MWAddonToolbar.Show,20);setTimeout(MWAddonCommunity.Show,50);Reminders.check(global.currentURL);Plugins.each(function(f){Plugins.exec(f)},Plugins.RUNAT_PAGELOAD);global.loadPage(d.url,a)})};MWAddonInit.HelpNotes=function(){if(UserConfig.main.helpNotes!==true){return}var a=[];MainMenu.add({position:5,name:"Help Notes",resIcon:"info_icon_png",menu:function(){return a}});facebook.notesGet(facebook.fanpage,function(b){if(!Util.isArray(b.data)){return}Util.each(b.data,function(c,d){a.push({title:d.subject,name:d.subject,link:"http://www.facebook.com/note.php?note_id="+d.id,icon:d.icon})})})};MWAddonInit.Ready=function(a){Logger.log("INFO","Initialization Completed.");if(MWAddonInit.FixedGame===true){loadingScreen()}Plugins.init(function(){Reminders.init(function(){MWAddonInit.Installation(function(){Plugins.each(function(b,c){if(parseInt(c.runat)===Plugins.RUNAT_STARTUP){Plugins.exec(b)}});MainMenu.init();Tooltips.init();MWAddonToolbar.Show();MWAddonCommunity.Show();Notifications.init();global.loadPage(global.location.href,MW.currentPageName());UserFreeGifts.update();Reminders.check(global.location.href);a&&a()})},true)},true)};MWAddonInit.Metadata=function(){var c=(typeof GM_info!=="undefined")?GM_info.scriptMetaStr:scriptMetaStr;var b={};var a=c.split(/[\n\r]+/).filter(function(d){return/\/\/\s*@/.test(d)});Util.each(a,function(d,g){var f=Util.doRgx(/^\/\/\s*@(\w+)\s*(.*?)$/,g);if(f.$1){if(Util.isArray(b[f.$1])){b[f.$1].push(f.$2)}else{if(Util.isSet(b[f.$1])){b[f.$1]=[b[f.$1],f.$2]}else{b[f.$1]=f.$2}}}});return(AppInfo=b)};MWAddonInit.Title=function(){function a(){if(MWAddonCommunity){MWAddonCommunity.closed=false;if(UserConfig.main.get("opt_Community")!==true){showAskPopup("Community News","Community News is disabled, would you like to enable it?",function(){UserConfig.main.set("opt_Community",true);UserConfig.main.save(MWAddonCommunity.Show)})}else{MWAddonCommunity.Show()}}return false}c$("div").prependTo("#mw_masthead").append(c$("span").html(AppInfo.name+" v"+AppInfo.version+"&nbsp;|&nbsp;")).append(c$("a","target:_blank").text("Show Community News").click(a)).append(c$("span").html("&nbsp;|&nbsp;")).append(c$("a","target:_blank").text("Support MWAddon").attr("href",AppInfo.contributionURL)).css({"font-weight":"bold","font-size":10,"background-color":"black",opacity:"0.7","z-index":18})};MWAddonInit.Cities=function(){global.addCity(1,"New York",true,1,false,"$");global.addCity(2,"Cuba",false,1,false,"C$");global.addCity(3,"Moscow",false,1,false,"R$");global.addCity(4,"Bangkok",false,1,false,"B$");global.addCity(5,"Las Vegas",true,1,false,"V$");global.addCity(6,"Italy",false,1,false,"L$");global.addCity(7,"Brazil",true,5,true,"BRL$","brz_real_sm.png");global.addCity(8,"Chicago",true,5,true,"\u00a2","chic_clam_sm.png");global.addCity(9,"London",true,5,true,"\u00a3","lond_pound_sm.png");global.cityNames=(function(){var b={};global.cities.each(function(c,a){b[c]=a.name});return b})();UserConfig.main.add("autoDeposit",UserConfig.getSettingFrom(global.cityNames,{active:false,amount:5000}));Logger.log("INFO","Cities loaded.")};MWAddonInit.Start=function(){var a=(new Date()).getTime();MWAddonInit.Metadata();Logger.log("INFO","Initializating...");Logger.log("INFO","Server Host: "+global.location.host);MWAddonInit.Cities();MWAddonInit.Storage(function(){MWAddonInit.jQuery(function(){MWAddonInit.User();Resources.init();Logger.log("INFO","Resources loaded successfully.");
MWAddonInit.Facebook(function(){MWAddonInit.Title();MWAddonInit.QuestBar();MWAddonInit.HelpNotes();MWAddonInit.Ready(function(){MWAddonInit.HandleAjax();Logger.log("INFO","Startup Time: "+(Util.toDelayString((new Date()).getTime()-a)))})})})})};function AutoActions(h){var c=MW.evaluateUserFields(h);if(!Util.isSet(c)){return}var d=parseInt(UserConfig.main.autoHealIn);var g=parseInt(c.current_city_id);var b=c.user_cash;var f=c.user_health;if(global.actionRequestID){clearTimeout(global.actionRequestID);global.actionRequestID=null}if(UserConfig.main.autoHeal===true&&f<UserConfig.main.autoHealWhen){global.actionRequestID=setTimeout(function(){MW.heal((d===1?(d===g?0:1):0),MWAddonToolbar.ShowMessage)},500)}else{var a=UserConfig.main.autoDeposit[g];if(a.active===true){if(b>a.amount){global.actionRequestID=setTimeout(function(){MW.deposit(g,b,MWAddonToolbar.ShowMessage)},500)}}}}UserConfig.create("bfopt",{_excludedToExport:["blackList","whiteList","frdClanList","enmClanList"],startCity:1,maxLogLength:250,logFormat:"# ${description}",showSocialEvents:false,collectClanFightXp:false,epicBattle:false,epicBattleFortress:false,epicBattleRefresh:30,useBlacklist:true,useStamPack:false,useStamPackWhen:2000,useHealPack:false,useHealPackWhen:1000,blackList:{},whiteList:{},frdClanList:{},enmClanList:{},zombieFilterActive:true,badgeFilterActive:false,badgeFilterExpr:"",nameFilterActive:false,nameFilterExpr:"",healActive:true,healCity:1,healBelow:100,healTimer:60,healAttacking:false,healMinSta:0,attackPwr:true,attackRetries:5,attackUseMax:false,attackMax:60,attackUsePerFoe:false,attackPerFoe:40,attackRevenge:false,attackRevengeTo:"all",attkdelayUseA:false,attkdelayUseB:true,attkdelayA:0,attkdelayB:0,crewMercenary:false,crewMarksman:false,crewKeepTraveling:false,publishActive:false,publishAfter:15,publishTo:"",levelRangeActive:false,levelRangeMin:0,levelRangeMax:10000,mafiaRangeActive:false,mafiaRangeMin:100,mafiaRangeMax:501,skipIced:true,skipBosses:false,skipIcedByMe:false,skipUseHealth:false,skipHealth:100,skipHealed:true,skipUnderAttk:false,skipUnderAttkPct:15,skipWrongCash:false,skipUseMinCash:false,skipByMinCash:0,rapidFireActive:true,rapidFireCount:4,redIceActive:false,redIceMaxAttk:25,redIceAfterWon:true,redIceEpicBattle:false,stopKeepStaOn:false,stopKeepSta:0,stopKeepExpOn:false,stopKeepExp:0,stopByIces:false,stopIceAmount:0,stopByLevelup:true,stopResume:true,stopResumeDelay:5,stopAutomatic:false,timerStartActive:false,timerStartMins:30,timerFightActive:false,timerFightMins:10,timerFightResume:5,timerCityActive:false,timerCityMins:2,rivalListOn:false,rivalListType:{1:true,2:true,3:true,4:true},rivalListRefresh:1,whiteListBucket:false,whiteListBucketID:"",whiteListBucketAuth:"",whiteListBucketRand:false,whiteListCountActive:false,whiteListCount:3,randomizeWhiteList:false,travelToStartCity:false,travelAutomatic:true,useAttackPriority:false,attackPriority:"mafia-low"});function Battlefieldv2(){var ab=0,aP=1,a4=2,ay=3;var aW={FIGHTLIST:"Fightlist",THIEF:"Thief",RIVAL:"Rival",PROFILE:"Profile",WHITELIST:"Whitelist",CLANBATTLE:"ClanBattle"};var aF={NORMAL:0,WHITE:1,FAMILY:2,BATTLE:4,BUCKET:8};var aq={StartCity:MW.currentCity(),CurrentCity:0,ReadyToHeal:0,Aborted:false,AutoPaused:false,AttackMode:aF.NORMAL,AttackerUsedBoost:false,ForceHeal:false,badgeFilter:false,nameFilter:false,WorstItems:{},FamilyListArray:{},IceCache:[],IceIDsCache:{},BlackListTable:null,WhiteListTable:null,CurrentTableList:"",InventoryData:new Config("cache_loot_name",null,true),Timer:null,Crew:null,UserBlackList:null,UserWhiteList:null,ClanBlackList:null,ClanWhiteList:null,EpicBattle:null,EpicBattleFortress:null,IceOverlay:["","overlay_killed","overlay_iced","overlay_stolen","iced_self","was_iced"],EventTemplate:'${opp}:<br>&#187; ${text}<br>&#187; Fights: <span style="color:green;">${fights}</span>, Stamina: <span style="color:green;">${stamina}</span>, Damage: <span style="color:green;">${health}</span>.'};var ae=UserConfig.bfopt;var z=new TimerMessage("#msgcontainer");var aT;var aO;var aY;var ad;var U;var l;var aC;var ba;var H;var C={level:function(bb){if(ae.levelRangeActive===true){if(bb.level<ae.levelRangeMin||bb.level>ae.levelRangeMax){Logger.debug("Filtered Level: "+bb.toString(true));return false}}return true},mafia:function(bb){if(ae.mafiaRangeActive===true){if(bb.mafia<ae.mafiaRangeMin||bb.mafia>ae.mafiaRangeMax){Logger.debug("Filtered Mafia: "+bb.toString(true));return false}}return true},name:function(bb){if(ae.nameFilterActive===true&&j(bb.clanName+" "+bb.name,ae.nameFilterExpr)===true){Logger.debug("Filtered Name: "+bb.toString(true));return false}return true},badge:function(bc){var bb=bc.badgesToString();if(ae.badgeFilterActive===true&&j(bb,ae.badgeFilterExpr)===true){Logger.debug("Filtered Badge ("+bb+"): "+bc.toString(true));return false}return true},zombie:function(bc){var bb=aH.currentZombieState;if(ae.zombieFilterActive===true&&bb&&j(bc.badgesToString(),bb)===true){Logger.debug("Filtered By Event ("+bb+"): "+bc.toString(true));return false
}return true},clan:function(bb){if(bb.clanId&&aq.ClanBlackList.exists(bb.clanId)){Logger.debug("Filtered Clan: "+bb.clanName);return false}return true},iced:function(bb){return bb.is_iced!==true||ae.skipIced!==true}};var aH={health:0,maxHealth:0,healthPct:0,stamina:0,maxStamina:0,userCash:0,atkGained:0,defGained:0,expToNextLevel:0,total_ices:0,season_ices:0,season_target:0,session_ices:0,heal_count:0,exp_fight:0,exp_fight_max:0,exp_fight_min:0,exp_per_sta:0,currCityName:{toString:function(){return'<span class="good">'+global.city(aq.CurrentCity).name+"</span>"}},powerPack:{time1:0,time2:0,count:0,on:false,avail:function(){var bb=aH;if(!(bb.powerPack.on&&bb.powerPack.count>0)){return{hospital:false,stamina:false}}return{hospital:ae.useHealPack&&(ae.useHealPackWhen<bb.stamina)&&(bb.powerPack.time2==0),stamina:ae.useStamPack&&(ae.useStamPackWhen<bb.expToNextLevel)&&(bb.powerPack.time1==0)}},toString:function(){var bc=aH.powerPack.avail();var bb=aH.powerPack.count;bb=Util.setColor(bb,(bb>0?"green":"red"));if(bc.hospital&&bc.stamina){return"Both ("+bb+")"}if(bc.hospital){return"Hospital ("+bb+")"}if(bc.stamina){return"Stamina ("+bb+")"}return Util.setColor("Inactive","grey")}}};var P=function(bb){this.inBattle=bb.inBattle;this.userName=bb.userName;this.opponentName=bb.opponentName;this.userScore=bb.userScore;this.opponentScore=bb.opponentScore;this.timeStart=bb.timeStart;this.timeEnd=bb.timeEnd;this.started=bb.started;return this};P.prototype={toString:function(){if(this.inBattle){var bb=Util.setColor(this.userName,"red")+" VS "+Util.setColor(this.opponentName,"red");bb+=(this.timeEnd>5?" Started!":" Finished!");return bb+" > Score: "+this.userScore+" vs "+this.opponentScore}else{return"Unknow Battle"}},update:function(bc){var bb=this;Util.each(bb,function(bd){if(bc.hasOwnProperty(bd)){bb[bd]=bc[bd]}})},finished:function(){return this.timeEnd<5}};var V=new PopupObject("battlefield_popup",{type:"main",title:"BATTLEFIELD",width:750,onclose:function(){aZ();ae.fromDomElements();ae.save()}});var af=function(){this.fightCount=0;this.fightWon={};this.fightLost={};this.icesWon={};this.killWon={};this.icesLost={};this.foesAttacked={};this.revenge={};this.cash={won:0,lost:0};this.expGained=0;this.staminaSpend=0;this.coinsGained=0;return this};var u=function(){var bf=String(parseInt((new Date()).getTime()/1000));var bg=new Config("bf_stats");var be={};var bb={};var bd=(be[bf]={});var bc=(bd[0]={fightCount:0,fightWon:0,fightLost:0,icesWon:0,killWon:0,icesLost:0,foesAttacked:0,revenge:0,expGained:0,staminaSpend:0,coinsGained:0,cash:{won:{},lost:{},toString:function(){var bj=global.city(aq.CurrentCity);var bi=this,bh='<span class="cur_cash" title="';global.cities.each(function(bl,bk){if(bi.won[bl]){bh+=bk.name+": "+Util.formatNum(bi.won[bl])+" \n"}});bh+='">';bh+=bj.currency+Util.formatNum(bi.won[aq.CurrentCity]||0);bh+="</span>";return bh}}});this.expPerSta=function(){var bh=bc.expGained/bc.staminaSpend;return isNaN(bh)?0:bh.toFixed(2)};this.currentTotal=bc;this.get=function(bi,bj){var bh=bd;if(bi&&be[bi]){bh=be[bi]}if(Util.isSet(bj)&&bh[bj]){bh=bh[bj]}return bh};this.addStolenIce=function(bi){bb[bi.id]=bi.name;var bh=(bd[aq.CurrentCity].icesLost[bi.id]||0)+1;bd[aq.CurrentCity].icesLost[bi.id]=bh;bc.icesLost++};this.add=function(bj,bi,bl){var bl=bl||aq.CurrentCity;var bk=H.current;var bh;if(!Util.isSet(bi)){bi=1}if(bd[bl]){if(bj==="cash"){if((bi=Util.parseNum(bi))>0){bc.cash["won"][bl]+=bi;bd[bl]["cash"]["won"]+=bi}else{bc.cash["lost"][bl]-=bi;bd[bl]["cash"]["lost"]-=bi}}else{if(Util.isObject(bh)){bh=bd[bl][bj];bb[bk.id]=bk.name;bh[bk.id]=(parseInt(bh[bk.id])||0)+bi}else{bd[bl][bj]+=bi}bc[bj]+=bi}}};this.load=function(bh){bg.load(function(){bg.each(function(bi,bj){if(bi==="opp"){bb=bj}else{be[bi]=bj}});bh&&bh(be,bf)})};this.save=function(bh){Logger.debug("SessionStats; (fights:"+bc.fightCount+", save:"+(bc.fightCount>9)+").");if(bc.fightCount<10){return}bg.add("opp",bb);Util.each(be,function(bi,bj){bg.add(bi,bj)});bg.save(bh)};this.each=function(bh){Util.each(bd[aq.CurrentCity],bh)};global.cities.each(function(bh){bd[bh]=new af();bc.cash.won[bh]=bc.cash.lost[bh]=0});return this};var O=function(){var bc,be=this;var bd={a:{1:"Your health fall down very quickly.<br>",2:"You lost 5 times in a row.<br>",3:"You lost 5 ices in a row.<br>",4:"You fought against 15 dead bodies in a row.<br>"},b:{f1:'Enable "Automatic" option in Travel line to travel if this happen again.',f2:'Enable "Start City" option in Travel line to travel if this happen again.',f3:"You must select the cities where you want to travel.",ok:"AutoTravel will force to fight in "}};function bf(bg){if(aq.AttackMode===aF.NORMAL){bc[bg]++}}this.stolenIce=function(){bf("stolenIce");return bb()};this.attack=function(){bf("attack");return bb()};this.lose=function(){bf("loses");return bb()};this.heal=function(){return bb(true)};this.reset=function(bg){if(!bg||!Util.isSet(bc[bg])){bc={stolenIce:0,attack:0,loses:0}}else{bc[bg]=0}};function bb(bi){var bg,bj,bh;switch(true){case (bi===true):bg=bd.a[1];
break;case (bc.loses>4):bg=bd.a[2];H.clear(aW.FIGHTLIST);break;case (bc.stolenIce>4):bg=bd.a[3];break;case (bc.attack>14):bg=bd.a[4];H.clear(aW.FIGHTLIST);break;default:return false}switch(false){case (bj=ae.travelAutomatic):bg+=bd.b["f1"];break;case (bj=ae.travelToStartCity):bg+=bd.b["f2"];break;case (bj=p()):bg+=bd.b["f3"];break;default:bg+=bd.b["ok"];break}if(bj){bg+=global.city(bj).name+"."}a5(bg,"help",null,"autotravel");be.reset();return false}be.reset();return this};var b=function(){var bd={};var bc=this;function bb(be,bg){var bf=bd[aq.CurrentCity];if(e$(".slot_used",bg)){bf[be]=bc.USED}else{if(e$("a:regex(href,crew_type=fight)",bg)){bf[be]=bc.AVAILABLE}else{bf[be]=bc.ACTIVE}}}this.update=function(bg){var bf=bd[aq.CurrentCity];var be=h$(bg);if(bf){bf.marksman=(bf.mercenary=bc.USED);bb("mercenary",$("#CityCrewModule .crewslotstype:eq(1) .crew_main_box:eq(0)",be));bb("marksman",$("#CityCrewModule .crewslotstype:eq(1) .crew_main_box:eq(1)",be))}};this.status=function(be){var bf=(Util.isNumber(be)?be:aq.CurrentCity);if(Util.isSet(bd[bf])){return bd[bf]}else{return{mercenary:bc.USED,marksman:bc.USED}}};this.is_active=function(bf){var be=bd[aq.CurrentCity];if(Util.isSet(be)){return be[bf]===bc.ACTIVE}return false};this.is_available=function(bg){var be=false;if(ae.crewKeepTraveling){Util.each(bd,function(bi,bh){if(ae.travelTo[bi]&&bh[bg]!==bc.USED){be=bi;return false}})}if(be===false){var bf=bd[aq.CurrentCity];if(Util.isSet(bf)){if(bd[aq.CurrentCity][bg]!==bc.USED){be=aq.CurrentCity}}}return be};this.load=function(bg){var bf=[];function be(bh){if(bh){aA(bh,function(bi){bc.update(bi);be(bf.shift())})}else{bg&&bg()}}Util.each(bd,function(bi,bh){bf.push(bi)});be(bf.shift())};this.activate=function(bf,bh,bg){function be(){var bj=bd[aq.CurrentCity];var bi=global.city(aq.CurrentCity).name;if(bj[bh]===bc.AVAILABLE){i('Activating "'+bh+'" for '+bi,true);MW.activateCityCrew(aq.CurrentCity,"fight",((bh==="mercenary")?1:2),function(bl,bk){a5(bi+":<br>"+bk,"help",null,"activatecrew");bj[bh]=(bl?bc.ACTIVE:bc.USED);bg&&bg(bl)});return}else{if(bj[bh]===bc.ACTIVE){a5(bi+":<br>Crew is already active.","help",null,"activatecrew")}else{a5(bi+":<br>Crew is not available.","help",null,"activatecrew")}}}if(bf!==aq.CurrentCity){if(ae.travelToStartCity){aq.StartCity=bf}aA(bf,function(bi){bc.update(bi);be()})}else{be()}};global.cities.each(function(bf,be){if(be.hasCrew){bd[bf]={mercenary:bc.UNKNOW,marksman:bc.UNKNOW}}});return this};b.prototype={AVAILABLE:1,ACTIVE:2,USED:4,UNKNOW:8};var Z=function(){var bd={},bc="",bb=this;this.start=function(be){bd[be]=(new Date()).getTime()};this.stop=function(bg){var bf=bd[bg];var be=(new Date()).getTime();if(bf){Logger.debug('Completed "'+bg+'" in '+Util.toDelayString(be-bf))}delete bd[bg]};return this};var aI=function(bf){bf=h$(bf);this.fight_wrapper=$("#fight_wrapper",bf);this.atkbtn_req=$("#fightv2_atkbtn_boost_on a",bf).attr("requirements");this.poweratkbtn_req=$("#fightv2_poweratkbtn_boost_on a",bf).attr("requirements");this.atkbtn_boost_on=$("#fightv2_atkbtn_boost_on a",bf).attr("href");this.atkbtn_boost_off=$("#fightv2_atkbtn_boost_off a",bf).attr("href");this.poweratkbtn_boost_on=$("#fightv2_poweratkbtn_boost_on a",bf).attr("href");this.poweratkbtn_boost_off=$("#fightv2_poweratkbtn_boost_off a",bf).attr("href");this.opponent_icon=$("#defender_pic img",bf).attr("src");this.opponent_level=$("#defender_badge",bf).next().next().text();this.popup=Util.parsePopup(bf).html();this.inMafia=($("a:regex(href,xw_action=remove_and_fight)",bf).length>0);var be,bd,bc,bb=bf.find("script:regex(text,FightV2.init)").text();if(bb){be=Util.substr(bb,"fight_result = {",";FightV2",15,0);bd=Util.substr(bb,"var feed","MW.Feed(feed)",0,0)}if(be){this.fight_result=Util.parseJSON(be)}if(bd&&(bc=e$(".fv2_boost_ask_allowed a",this.fight_wrapper))){bc.attr("onclick",bd+"MW.Feed(feed);")}be=bb=bd=bf=bc=null;return this};var g=function(bd,bb){var bc=this;this.reqs={atk:{stamina:1,health:20},pwr:{stamina:5,health:20}};this.id=0;this.badges=[];this.title="";this.name="";this.level=0;this.mafia=0;this.clanName="";this.clanId=0;this.ice_state=0;this.is_iced=false;this.fights=0;this.alive=false;this.won=0;this.lost=0;this.type=(bd||aW.FIGHTLIST);this.retries=0;this.attack_url="";this.pwrattack_url="";this.powerAttack=false;this.damage_given=0;this.other_damage=0;if(Util.isObject(bb)){Util.each(bc,function(be){if(bb.hasOwnProperty(be)){bc[be]=bb[be]}});if(bb.id&&!bb.attack_url){bc.attack_url="remote/"+MW.getIntURL("fight","attack_pop")+"&view_style=json&origin=profile_page&opponent_id=p%7C"+bb.id+"&clkdiv=btn_attack_p"+bb.id}}return this};g.prototype={toString:function(bc){var bd=this;var bb=bd.badgesToString();var be=bd.clanName?" "+bd.clanName+" ":"";if(bc){return bb+be+bd.name+" Level "+bd.level+" Mafia "+bd.mafia}return"Level "+Util.setColor(bd.level,"yellow")+' "'+Util.setColor(bd.type,"green")+'" '+bd.anchor()},badgesToString:function(){var bb=this;var bc=[];Util.each(bb.badges,function(be,bd){bc.push(bd.name)});return bc.join(" ")
},skip:function(bb){this.skipped=true;if(!this.result_text){this.result_text=bb}},hasPwrAtkUrl:function(){return/xw_controller=fight/i.test(this.pwrattack_url)},hasAtkUrl:function(){return/xw_controller=fight/i.test(this.attack_url)},getAttackUrl:function(bc){var bb="use_boost="+(aq.AttackerUsedBoost?"1":"0");if(/xw_controller=fight/i.test(this.attack_url)){this.attack_url=this.attack_url.replace(/use_boost=\d+/,bb)}if(/xw_controller=fight/i.test(this.pwrattack_url)){this.pwrattack_url=this.pwrattack_url.replace(/use_boost=\d+/,bb);this.pwrattack_url=this.pwrattack_url.replace(/click_amt=\d+/,"click_amt="+(bc||1))}if(this.powerAttack&&this.pwrattack_url){return this.pwrattack_url}else{this.powerAttack=false}return this.attack_url},requirements:function(bb,bc){if(bb&&bb.stamina&&bb.health){this.reqs.atk=bb}else{if(bc&&bc.stamina&&bc.health){this.reqs.pwr=bc}else{if(this.powerAttack&&this.pwrattack_url){return this.reqs.pwr}else{return this.reqs.atk}}}},anchor:function(){return[this.clan(),Util.setAnchor(MW.getProfileLink(this.id),this.name)].join(" ")},profile:function(){return MW.getProfileLink(this.id)},clan:function(){if(this.clanId&&this.clanName){return Util.setAnchor(MW.getFamilyLink(this.clanId),Util.setColor(this.clanName,"red"))}else{if(this.clanName){return Util.setColor(this.clanName,"red")}}return""},clone:function(){var bc=new g(this.type);for(var bb in bc){if(typeof(bc[bb])!=="function"){bc[bb]=this[bb]}}return bc},isValid:function(){var be=this;var bd=parseInt(be.id);var bc=true;var bb=Util.isSet(aq.IceIDsCache[be.id]);if(isNaN(bd)||bd<1||bd===98025069){return false}if(aq.UserBlackList.exists(bd)){Logger.debug("Skipped blacklisted id: "+bd);return false}if(be.type===aW.THIEF&&ae.attackRevengeTo==="all"){return true}if(be.is_boss===true&&ae.skipBosses===true){return false}if(be.type===aW.PROFILE||aq.UserWhiteList.exists(bd)){return true}if(be.type===aW.RIVAL&&ae.rivalListType){if(ae.rivalListType[be.rivalType]!==true){Logger.debug("Skipped wrong rival type: "+be.rivalType);return false}}if(ae.skipIcedByMe===true&&bb===true){if(be.type===aW.FIGHTLIST){Logger.debug("Skipped opponent that was iced: "+bd);return false}}Util.each(C,function(bf,bg){return(bc=bg(be))});return bc}};var aw=function(bb){try{this.id=Util.parseNum(bb.thief_id);this.name=Util.trim($("<div>"+bb.thief_name+"</div>").text());this.level=Util.parseNum(bb.thief_class);this.inClan=bb.thief_in_clan;this.inMafia=bb.thief_isInMafia;this.type=bb.thief_class;this.profile=bb.thief_profile;this.picture=bb.thief_pic;this.btn=bb.thief_btn;this.action=$(bb.thief_btn).attr("href");this.pic=$(bb.thief_pic).attr("src")}catch(bc){}if(!/remote/i.test(this.action)){if(this.id){this.action="remote/"+MW.getIntURL("fight","attack_pop")+"&origin=stolen_ice_popup&opponent_id=p%7C"+this.id}else{a5("BUG detected: Thief has not an attack url or id.","help")}}bb=null;return this};aw.prototype={anchor:function(){if(this.id&&this.name){return Util.setAnchor(MW.getProfileLink(this.id),this.name)}return"unknow"},toOpponent:function(){var bb=this;return(new g(aW.THIEF,{id:bb.id,name:bb.name,attack_url:bb.action,level:bb.level,clanName:bb.clanName}))}};var ai=function(bb){var bc=c$("div").html(bb);this.title=bc.find("#fake_item_card_title").text();this.pic=bc.find("#fake_item_card_img img").attr("src");this.quantity=bc.find("#fake_item_card_qty, #fake_item_card_subtitle").text();if(/victory/.test(this.pic)){this.type="coins"}bc.empty();bb=bc=null;return this};var aL=function(bb,bd){var be=aq.InventoryData.data;var bc=c$("div").html(bb);this.name="Unknow";this.type="Unknow";this.item_id=bc.find(".item_card_mini").attr("item_id");this.pic=bc.find(".item_card_mini img").attr("src");this.attack=Util.parseNum(bc.find(".attack").text());this.defense=Util.parseNum(bc.find(".defense").text());this.count=parseInt(bd);if(Util.isSet(be=be[this.item_id])){this.name=be.name;this.type=be.type}bc.empty();bb=bc=be=null;return this};aL.prototype.toString=function(){var bb=this.name;if(this.attack){bb+=' <span class="attack">'+this.attack+"</span>"}if(this.defense){bb+=' <span class="defense">'+this.defense+"</span>"}if(this.increaseAttack){bb+=' (<span class="attack" style="color:green;">+'+this.increaseAttack+"</span>)"}if(this.increaseDefense){bb+=' (<span class="defense" style="color:green;">+'+this.increaseDefense+"</span>)"}return bb};var aS=function(bb){var bc=c$("div").html(bb);this.title=bc.find(".ice > div > div").text();this.pic=bc.find(".ice img").attr("src");this.count=Util.parseNum(this.title);this.event=true;this.item_id=String(this.title).toLowerCase().replace(/\s/g,"");if(this.count<1){this.count=1}bc.empty();bb=bc=null;return this};var ao=function(bd){this.time=(new Date()).toLocaleTimeString();this.city=global.city(aq.CurrentCity).name;this.isKilled=bd.you_just_killed;this.count=bd.total_ice_count;this.season_ices=bd.ices_so_far;this.season_target=bd.ices_target;this.action="";this.canPublish=false;this.link="";if(bd.feed_js&&/MW.Feed/i.test(bd.feed_js)){this.canPublish=true;
this.action='<a href="javascript: void(0);"class="sexy_button_new medium white sexy_announce_gray" onclick="'+bd.feed_js+'"><span><span>Share</span></span></a>';try{var bc=(new Function(Util.substr(bd.feed_js,"var feed = {","MW.Feed")+"\n return feed;"))();this.link=bc.link;this.description=bc.description}catch(bb){Logger.error(bb)}}bd=null;return this};var m=function(){var bb={};this.add=function(bd,be){if(!bd){return}var bc="["+(new Date()).toLocaleTimeString()+"]";if(bd.action&&bd.canPublish===true){bb[bc]=(bd.isKilled?" KILL ":" ICED ")+"#"+bd.count+" to "+be}};this.length=function(){return Util.length(bb)};this.publishTo=function(bf,bg){var bc="You've ${count} ICES.<br>Auto-Publish has posts all and reset the count.";var be="Error code #${errorcode}<br>${errormsg}";var bd=bb;bb={};facebook.streamPublish({target:bf,name:"{*actor*} has eliminated some players!",properties:bd},function(bh){if(Util.isString(bh)){bc=Util.render(bc,{count:Util.length(bd)});a5(bc,"published",null,"autopublish")}else{if(bh.error_code||bh.error){be=Util.render(be,{errorcode:(bh.error?bh.error.code:bh.error_code),errormsg:(bh.error?bh.error.message:bh.error_msg)});a5(be,"published",null,"autopublish")}}bg&&bg()})};this.clear=function(){bb=[]};return this};var aM=function(){var bf=this;var bc={};var be={};function bd(bi,bh){var bj=aq.InventoryData.data[bi.item_id];var bg=(bj&&Util.isObject(aq.WorstItems))?aq.WorstItems[bj.type]:false;if(bj&&bg){if(bj.attack&&bj.attack>bg.att){aH.atkGained+=(bi.increaseAttack=(bj.attack-bg.att))*bh}if(bj.defense&&bj.defense>bg.def){aH.defGained+=(bi.increaseDefense=(bj.defense-bg.def))*bh}}return Util.isSet(bj)}function bb(bg,bh){Logger.debug("getItemInfo: Loading loot...");MW.getItemInfo(bg.item_id,function(bi,bj){bg.name=bi;if(be&&be[bj]){bg.type=be[bj]}if(!Util.isSet(aq.InventoryData.data[bg.item_id])){aq.InventoryData.add("forceReload",true);aq.InventoryData.data[bg.item_id]={id:bg.item_id,name:bi,type:be[bj],attack:bg.attack,defense:bg.defense};aq.InventoryData.save(bh)}Logger.debug('Loot Item "'+bi+'" loaded.')})}this.load=function(bh){var bg=["id","name","type","attack","defense"];aq.InventoryData.load(function(){if(!aq.InventoryData.data||aq.InventoryData.forceReload){aq.InventoryData.data={};MW.getInventoryData(function(bi){if(bi&&bi.Items){Util.each(bi.Items.data,function(bl,bk){var bj=(aq.InventoryData.data[bl]={});Util.each(bg,function(bm,bn){bj[bn]=bk[bn]})});aq.InventoryData.forceReload=false;aq.InventoryData.save(function(){Logger.debug("Inventory Data saved.");bh&&bh(true)})}else{httpXDRequest({method:"GET",url:"http://mwaddon.com/download/?rel=other&f=inventory.json",onload:function(bj){var bk=bj&&bj.responseText;if(bk&&bk.charAt(0)==="{"){aq.InventoryData.data=Util.parseJSON(bk);aq.InventoryData.save(function(){Logger.debug("Inventory Loaded from mwaddon site.");bh&&bh(true)})}else{bh&&bh(false)}}})}})}else{bh&&bh(true)}})};this.add=function(bh){var bg=bh.count||1;if(Util.isSet(bc[bh.item_id])){(bh=bc[bh.item_id]).count+=bg}else{bc[bh.item_id]=bh}if(!bd(bh,bg)){bb(bh,function(){bd(bh,bg)})}return bh};this.get=function(bg){return bc[bg]};this.exists=function(bg){return Util.isSet(bc[bg])};this.each=function(bj,bg){var bi=bc;var bh={name:function(bm,bl){var bk=bm.name.toLowerCase();var bn=bl.name.toLowerCase();return((bk<bn)?-1:((bk>bn)?1:0))},attack:function(bl,bk){return(bk.attack||0)-(bl.attack||0)},defense:function(bl,bk){return(bk.defense||0)-(bl.defense||0)},best:function(bn,bl){var bm=bn.attack||0,bq=bn.defense||0,bk=bl.attack||0,bp=bl.defense||0,bo=(bn.increaseAttack||0)+(bn.increaseDefense||0),br=(bl.increaseAttack||0)+(bl.increaseDefense||0);switch(true){case (bo!=br):return br-bo;case (bm!=bk):return bk-bm;case (bq!=bp):return bp-bq;default:return 0}}};if(Util.isSet(bg)&&Util.isSet(bh[bg])){bi=[];Util.each(bc,function(bk,bl){bi.push(bl)});bi.sort(bh[bg])}Util.each(bi,bj)};if(unsafeWindow.Item&&unsafeWindow.Item.Types){be={};Util.each(unsafeWindow.Item.Types,function(bg,bh){be[bh]=bg})}return this};var E=function(bb){this.id=bb;return this};E.prototype={add:function(bc){var bb=(new Date()).toDateString();if(!Util.isSet(bc.id)||bc.id===0){return}if(bc.level){ae.get(this.id)[bc.id]=(bc.name+"  level "+bc.level+" at "+bb)}else{ae.get(this.id)[bc.id]=(bc.name+" at "+bb)}ae.save()},merge:function(bc){var bb=ae.get(this.id);Util.each(bc,function(bd,be){if(Util.isNumber(parseInt(bd))){bb[bd]=be}})},copy:function(){var bb={};Util.each(ae.get(this.id),function(bc,bd){bb[bc]=bd});return bb},exists:function(bb){return Util.isSet(bb)&&Util.isString(ae.get(this.id)[bb])},each:function(bb){Util.each(ae.get(this.id),bb)},remove:function(bb){if(Util.isSet(bb)&&ae.get(this.id)){delete ae.get(this.id)[bb]}},length:function(){return Util.length(ae.get(this.id))},clear:function(){ae.set(this.id,{});ae.save()},toArray:function(){var bc=ae.get(this.id);var bb=[];if(Util.length(bc)>0){Util.each(bc,function(be,bd){if(parseInt(be)&&Util.isString(bd)){}bb.push({id:be,name:(Util.doRgx(/^(.*?) level/i,bd).$1||bd)})
})}return bb}};var h=function(){this.attacked={};this.current=null;this.revenge=null;for(var bb in aW){if(bb!=="Thief"){this[aW[bb]]=[]}}return this};h.prototype={addCurrentToBlackList:function(){var bb=!aq.UserBlackList.exists(this.current.id);aq.UserBlackList.add(this.current);return bb},addCurrentToWhiteList:function(){var bb=!aq.UserWhiteList.exists(this.current.id);aq.UserWhiteList.add(this.current);return bb},getList:function(){return this[aK()]},rnd:function(bb){return Math.floor(Math.random()*bb)},setCurrent:function(bb){var bc=this;bc.current=null;if(bc.revenge){Logger.debug("Swith to Thief: "+bc.revenge.toString(true)+" --- "+bc.revenge.isValid());bc.current=bc.revenge;bc.revenge=null;return bc.current}var bd=bc.getList();if(bd.length>0){if(!Util.isSet(bb)||bb===0||bd.length===1){bc.current=bd.shift()}else{if(Util.isString(bb)){switch(bb){case"random":bc.current=bd.splice(bc.rnd(bd.length),1).shift();break;case"pop":bc.current=bd.pop();break;default:bc.current=bd.shift()}}else{if(Util.isNumber(bb)){bc.current=bd.splice(bb,1).shift()}}}}bc.setLockTime(bc.current,60000);return bc.current},setRandomCurrent:function(){return this.setCurrent("random")},setLastCurrent:function(){return this.setCurrent("pop")},setLockTime:function(bc,bb){if(bc&&(bc.type===aW.FIGHTLIST||bc.type===aW.RIVAL)){this.attacked[bc.id]=(new Date()).getTime()+bb}},add:function(bd){var bc=this[bd.type];var bb=null;if(this.current&&this.current.id==bd.id){return false}if(Util.isArray(bc)&&!this.attackedRecently(bd)){Util.each(bc,function(be,bf){if(bf.id==bd.id){bb=bf;return false}});if(bb!==null){bb.is_iced=bd.is_iced}else{bc.push(bd)}return true}return false},attackedRecently:function(bb){if(this.attacked[bb.id]){return(this.attacked[bb.id]-(new Date()).getTime())>0}return false},length:function(bc){var bb=this[bc||aK()];return(bb&&bb.length)||0},clear:function(bb){this[bb||aK()]=[]},sort:function(bb){var bd=this[aW.FIGHTLIST];var bc={name:function(bg,bf){var be=bg.name.toLowerCase();var bh=bf.name.toLowerCase();return((be<bh)?-1:((be>bh)?1:0))},"level-high":function(bf,be){return be.level-bf.level},"mafia-high":function(bf,be){return be.mafia-bf.mafia},"level-low":function(bf,be){return bf.level-be.level},"mafia-low":function(bf,be){return bf.mafia-be.mafia},iced:function(bf,be){return bf.is_iced?-1:1},boss:function(bf,be){if(bf.is_boss==be.is_boss){return 0}return bf.is_boss?-1:1}};if(bd.length>0){bd.sort(bc[bb])}},each:function(bd,bc){var bb=this[bc||aK()];if(Util.isArray(bb)&&Util.isFunc(bd)){Util.each(bb,bd)}},load:function(bg){var be=0,bf=0,bd=this;var bc=aK();aq.Crew.update(bg);if(bc!==aW.PROFILE){var bb=W(bg);if((bf=bb.length)>0){Util.each(bb,function(bh,bi){if(bi.isValid()&&bd.add(bi)===true){be++}});if(bc===aW.FIGHTLIST){bc=bd[bc];if(bc.length>20){bc.splice(0,bc.length-20)}}if(ae.useAttackPriority){bd.sort(ae.attackPriority)}}}return{found:bf,added:be}}};var M={gridData:function(bb){return function(bd,bc){d(aq.CurrentTableList=bb);if(bc){M.attack_toggle(bd,bc)}if(bd&&$(bd.target).is("a.fg-button")){$(".mwa-grid-custom a.fg-button").removeClass("ui-state-disabled");$(bd.target).addClass("ui-state-disabled")}}},attack_toggle:function(bd,bc){var bb=(bc<4);$("a.whitelist_attack",V.content).css("display",bb?"inline-block":"none");$("a.bucket_attack",V.content).css("display",bb?"none":"inline-block");if(bc===2||bc===3){$(".mwa-grid-custom a.fg-button").removeClass("ui-state-disabled");$(".mwa-grid-custom a.fg-button:first",".tab_layer:visible").addClass("ui-state-disabled")}},hideLowEvents_click:function(){var bb=$("#eventslogger",V.content);if($(this).hasClass("checked")){$("li[fights=1], li[fights=0]",bb).hide()}else{$("li",bb).show()}return false},applyIceFormat_click:function(){var bb=$(this).attr("action");switch(bb){case"apply":ap();break;case"clear":aq.IceCache=[];ap();break;case"help":showHelpPopup({icon:"info",message:"Use the commands below to format the log entries:<br><br>${description} -> Full Ice popup description (use it alone).<br>${opp_name} -> The Opponent name.<br>${att_name} -> The Attacker name (you).<br>${event} -> The type of event (ICE or KILL).<br>${count} -> The total ice count.<br>${city} -> The the city from where you get the ice.<br>${time} -> The time when you get the ice.<br>${newline} -> Add a line break."});break}return false},editfilter:function(){var bb=$(this).attr("edit");var bc="Add values delimited by new lines:";showPromptPopup(bc,ae.get(bb+"FilterExpr"),function(bd){ae.set(bb+"FilterExpr",bd);aJ()},250);return false},sortloot_click:function(){var bb=$(this).attr("href").substring(1);$("#lootlistlog",V.content).empty();l.each(function(bd,bc){ax(bc,true)},bb);return false},revenge_click:function(){aq.Aborted=false;if(H.revenge){H.current=H.revenge;a9()}return false},use_boost_click:function(){var bb=(this.id==="fightv2_boost_on")?"on":"off";httpAjaxRequest({url:"remote/"+MW.getIntURL("fight","setBoostToggle")+"&toggle_state="+bb,success:function(){$("#fightv2_boost_on, #fightv2_boost_off",V.content).removeClass("checked");
$("#fightv2_boost_"+bb,V.content).addClass("checked");aq.AttackerUsedBoost=(bb==="on")}});return false},showLog_click:function(){var bb=String($(this).attr("href")).substring(1);$("#events_list .buttons a").removeClass("selected");$(this).addClass("selected");n(bb,"_logs");return false},addNewToList_click:function(){var bb=$(this).attr("name");var bc="Paste all MW profiles OR IDs by line or comma delimited:";showPromptPopup(bc,"",function(bd){S(bb,bd)},250);return false},deleteSelected_click:function(bd){var bc=$(bd.target),be=bc.attr("iid"),bb=bc.attr("list");if(bb&&be){aq[bb].remove(be);d(bb)}return false},clearList_click:function(){var bb=$(this).attr("name");showAskPopup("Clear "+bb,"It cant be undone, are you sure?",function(){aq[bb].clear();d(bb)});return false},mwProfile_click:function(bd){var bc=$(bd.target),be=bc.attr("iid"),bb=bc.attr("list");if(bb&&be){if(/^Clan/i.test(bb)){unsafeWindow.open(MW.getFamilyLink(be))}else{unsafeWindow.open(MW.getProfileLink(be))}}return false},addFromList_click:function(){var bb=$(this).attr("name");$("#import_settings").remove();c$("input:file","id:import_settings,name:files[],name:"+bb).css({position:"absolute",width:1,left:"-100px",opacity:0}).appendTo(V.content).change(M.importData_change).click();return false},importData_change:function(bc){var bb=$(this).attr("name");if(!bc.target.files&&bb){return}FileSystem.fileReader(bc.target.files,function(be){var bd=Util.parseJSON(be);if(bd.type&&bd.user&&bd.clan){aq["User"+bb].merge(bd.user);aq["Clan"+bb].merge(bd.clan);showHelpPopup({icon:"info",title:"Import List",message:"List imported successfully."});ae.save()}else{showHelpPopup({icon:"error",title:"Import List",message:"Not a valid list."})}$(bc.target).remove()})},saveList_click:function(){var bc=$(this).attr("name");var bb={type:bc,user:aq["User"+bc].copy(),clan:aq["Clan"+bc].copy()};FileSystem.fileSave("data:application/json;base64,"+Base64.encode(Util.toJSON(bb)));return true},sort_click:function(){H.sort(this.id.substr(8));aj();return false},refresh_click:function(){$("#opponents_table",V.content).empty();$("#ctrlcontainer",V.content).hide();i();aV();G();ae.fromDomElements();ac();setTimeout(function(){H.clear(aW.FIGHTLIST);$("#opponents_table").empty();a1(function(bb){if(bb&&bb.added>0){aj()}else{i('No players found. Try change filters and click "Refresh".')}$("#ctrlcontainer",V.content).show()})},500);return false},attack_click:function(){aq.Aborted=false;ae.fromDomElements();ae.save();var bb=this.id.match(/attack_id_(\d+)/)[1];H.setCurrent(parseInt(bb));if(ae.travelToStartCity){aq.StartCity=ae.startCity}$("#fight_wrapper",V.content).empty();a2();ah(a9);return false},powerAttack_click:function(){H.current.powerAttack=true;a9();return false},attackAgain_click:function(){a9();return false},runAway_click:function(){aq.AttackMode=aF.NORMAL;aZ("User stopped.");aG();$("#fightOpt",V.content).hide();$("#ajaxloader_overlay").show();ae.save(function(){if(H.length()>0){aj()}$("#ajaxloader_overlay").hide();$("#fightOpt",V.content).fadeIn(500)});return false},autoMode_click:function(){httpAjaxStopRequests();aq.Aborted=false;ae.fromDomElements();ae.save();function bb(){if(ae.timerStartActive===true){f(ae.timerStartMins)}else{aR();ah(aE)}}if(ae.travelToStartCity&&aq.AttackMode!==aF.BATTLE){aq.StartCity=ae.startCity}a2();ba.reset();R(true);if(ae.crewKeepTraveling){aq.Crew.load(bb)}else{bb()}return false},continue_click:function(){aq.Aborted=false;ah(aE);return false},attackWhiteList_click:function(){if(aq.UserWhiteList.toArray().length==1){showHelpPopup({icon:"info",message:"You need a minimal of 2 player on Whitelist to attack."})}else{aq.Aborted=false;aq.AttackMode=aF.WHITE;aq.UserWhiteList.attack_count=1;M.autoMode_click()}return false},attackBucketList_click:function(){aq.Aborted=false;H.clear();aq.AttackMode=aF.BUCKET;M.autoMode_click();return false},attackFamily_click:function(){aq.AttackMode=aF.FAMILY;aq.Aborted=false;a2();aD(M.autoMode_click);return false},stop_click:function(){$(this).remove();aZ("User stopped.");setTimeout(function(){i("AutoFight was stopped.");R(true)},500);return false},skip_click:function(){$(this).remove();H.current.skip("User skip manually.");return false},autoHeal_click:function(){var bb=$(this).attr("instantheal");$(this).remove();aq.ForceHeal=true;if(parseInt(bb)===1){G();A(function(){aR();N()})}return false},heal_click:function(){al();A(J);return false}};function d(bd){var be,bc=[],bb=Resources.content.delete_red_png;switch(bd){case"ClanBlackList":case"ClanWhiteList":be=/^(.*?) at (.*?)$/i;break;case"UserBlackList":case"UserWhiteList":be=/^(.*?) level (\d+) at (.*?)$/i;break}aq[bd].each(function(bj,bi){var bg=Util.doRgx(be,bi),bh='<div list="'+bd+'" iid="'+bj+'">',bf='<img src="'+bb+'" list="'+bd+'" iid="'+bj+'">';if(bg.$1&&bg.$2&&bg.$3){bc.push([bg.$2,bh+bg.$1+"</div>",bg.$3,bf])}else{if(bg.$1&&bg.$2){bc.push([0,bh+bg.$1+"</div>",bg.$2,bf])}else{bg=Util.doRgx(/^(.*?) level (\d+)/,bi);if(bg.$1&&bg.$2){bc.push([bg.$2,bh+bg.$1+"</div>",(new Date()).toDateString(),bf])
}}}});aq[bd.substr(4)+"Table"].appendData(bc)}function aJ(bg,bc){try{var be=String(ae.nameFilterExpr).replace(/\\n/g,"\n");var bb=String(ae.badgeFilterExpr).replace(/\\n/g,"\n");var bf=be.split(/\n/).length;var bd=bb.split(/\n/).length;$("#nameFilterStatus",V.content).text("Has "+bf+" entries.");$("#badgeFilterStatus",V.content).text("Has "+bd+" entries.");ae.nameFilterExpr=be;ae.badgeFilterExpr=bb}catch(bh){}if(bg&&bc){M.attack_toggle(bg,bc)}}function aQ(){V.content.css("margin",0);var bl=c$("div","id:fv2_widget_wrapper").appendTo(V.content).css({height:350,"max-height":350});c$("div","id:fight_wrapper").appendTo(bl);var bf=c$("div","options_wrapper").appendTo(bl);var bj=new TabObject({id:"fightOpt",height:310,background:"transparent",appendTo:bf,tabs:[{label:"Config Page 1",onclick:M.attack_toggle},{label:"Config Page 2",onclick:aJ},{label:"BlackList",onclick:M.gridData("UserBlackList")},{label:"WhiteList",onclick:M.gridData("UserWhiteList")},{label:"BucketList",onclick:M.attack_toggle}]});c$("div","ajaxloader_overlay").css({"padding-top":25,display:"none"}).append(c$("img").attr("src",global.zGraphicsURL+"socialmissions/ajax-loader.gif")).appendTo(bf);var bm=c$("ul").appendTo(bj.getLayout(0));c$("li").appendTo(bm).append(x$("bfopt_traveltostartcity","Start City:")).append(s$("bfopt_startcity",100)).append(c$("span").text("Travel To:")).append(DropDownObject("bfopt_travelto","Select cities",140,global.cityNames)).append(x$("bfopt_timercityactive","After:")).append(n$("bfopt_timercitymins",40)).append(c$("span").text("min.")).append(x$("bfopt_travelautomatic","Automatic."));c$("li").appendTo(bm).append(x$("bfopt_healactive","Heal in")).append(s$("bfopt_healcity",100)).append(n$("bfopt_healbelow","Health below",40)).append(n$("bfopt_healminsta","Stamina above",40)).append(x$("bfopt_healattacking","Attacking. ")).append(n$("bfopt_healtimer","Timer:",40)).append(c$("span").text("sec."));c$("li").appendTo(bm).append(x$("bfopt_rapidfireactive","Rapid Fire! Burst:")).append(n$("bfopt_rapidfirecount",50)).append(x$("bfopt_useattackpriority","Prioritize attacks by:")).append(s$("bfopt_attackpriority",150)).append(x$("bfopt_attackpwr","Power Attack!"));c$("li").appendTo(bm).append(x$("bfopt_attackusemax","Maximum attacks:")).append(n$("bfopt_attackmax",60)).append(x$("bfopt_attackuseperfoe","Attacks Per Foe:")).append(n$("bfopt_attackperfoe",60)).append(n$("bfopt_attackretries","Error Retries:",40));c$("li").appendTo(bm).append(x$("bfopt_attackrevenge","Revenge:")).append(s$("bfopt_attackrevengeto",180)).append(x$("bfopt_rivalliston","Rivals:")).append(DropDownObject("bfopt_rivallisttype","Rival List",200,{1:"You Attacked",2:"Your Attackers",3:"Your Rivals",4:"Family Rivals"})).append(n$("bfopt_rivallistrefresh","Refresh (min.):",30));c$("li").appendTo(bm).append(x$("bfopt_rediceactive","RedICE if attacks below:")).append(n$("bfopt_redicemaxattk",35)).append(x$("bfopt_rediceafterwon","AutoRedICE if you won.")).append(x$("bfopt_rediceepicbattle","AutoRedICE if in Epic Battle."));c$("li").appendTo(bm).append(x$("bfopt_attkdelayusea","Delay when attack same player:")).append(s$("bfopt_attkdelaya",70)).append(x$("bfopt_attkdelayuseb","Delay when changing player")).append(s$("bfopt_attkdelayb",70));c$("li").appendTo(bm).append(x$("bfopt_crewmercenary","Activate Crew: Mercenary")).append(x$("bfopt_crewmarksman","Activate Crew: Marksman")).append(x$("bfopt_crewkeeptraveling","Travel until all crew is used."));c$("li").appendTo(bm).append(x$("bfopt_publishactive","Auto Publish after:")).append(s$("bfopt_publishafter",80)).append(t$("bfopt_publishto","ices to page/group (empty for wall):",180));c$("li").appendTo(bm).append(x$("bfopt_usestampack","Use StaminaPack if exp. above:")).append(n$("bfopt_usestampackwhen",50)).append(x$("bfopt_usehealpack","Use HealthPack if stamina above:")).append(n$("bfopt_usehealpackwhen",50));bm=c$("ul").appendTo(bj.getLayout(1));c$("li").appendTo(bm).append(x$("bfopt_namefilteractive","Name filter:")).append(c$("span","id:nameFilterStatus").css("color","gold")).append(b$("edit it","edit:name,class:ui-sexy-green",true).click(M.editfilter)).append(x$("bfopt_badgefilteractive","Badge filter:")).append(c$("span","id:badgeFilterStatus").css("color","gold")).append(b$("edit it","edit:badge,class:ui-sexy-green",true).click(M.editfilter));c$("li").appendTo(bm).append(x$("bfopt_levelrangeactive","Level:")).append(n$("bfopt_levelrangemin",40)).append(n$("bfopt_levelrangemax","-",40)).append(x$("bfopt_mafiarangeactive","Mafia:")).append(n$("bfopt_mafiarangemin",40)).append(n$("bfopt_mafiarangemax","-",40)).append(x$("bfopt_zombiefilteractive","Infection Events: Attack Opposite Side."));c$("li").appendTo(bm).append(x$("bfopt_skipiced","Skip Iced targets.")).append(x$("bfopt_skipicedbyme","Skip iced by me.")).append(x$("bfopt_skipusemincash","Skip cash below:")).append(n$("bfopt_skipbymincash",40)).append(x$("bfopt_skipwrongcash","Skip wrong cash."));c$("li").appendTo(bm).append(x$("bfopt_skipbosses","Skip Bosses. ")).append(x$("bfopt_epicbattle","Join family Battles.")).append(n$("bfopt_epicbattlerefresh","Refresh:",40)).append(x$("bfopt_epicbattlefortress","Attack Fortress."));
c$("li").appendTo(bm).append(x$("bfopt_skipusehealth","Skip health:")).append(s$("bfopt_skiphealth",80)).append(x$("bfopt_skipunderattk","Skip under attack if damage")).append(s$("bfopt_skipunderattkpct",80)).append(x$("bfopt_skiphealed","Skip Healed."));c$("li").appendTo(bm).append(x$("bfopt_stopbyices","Stop when ICE amount is more than:")).append(n$("bfopt_stopiceamount",40)).append(x$("bfopt_stopkeepstaon","Stop If stamina is less than:")).append(n$("bfopt_stopkeepsta",40));c$("li").appendTo(bm).append(x$("bfopt_stopbylevelup","Stop after LevelUp.")).append(x$("bfopt_stopkeepexpon","Stop before LevelUp and keep:")).append(n$("bfopt_stopkeepexp",40)).append(c$("span").text("Exp."));c$("li").appendTo(bm).append(x$("bfopt_stopautomatic","Stop AutoFight if health fall down quickly.")).append(x$("bfopt_stopresume","Keep and resume after (min):")).append(n$("bfopt_stopresumedelay",40));c$("li").appendTo(bm).append(x$("bfopt_timerstartactive","Start Fighting after (min):")).append(n$("bfopt_timerstartmins",40)).append(x$("bfopt_timerfightactive","AutoPause after (min):")).append(n$("bfopt_timerfightmins",40)).append(n$("bfopt_timerfightresume"," resume after (min): ",40));c$("li").appendTo(bm).append(c$("label","for:bfopt_maxloglength").text("Log Length:")).append(s$("bfopt_maxloglength",100).css("margin-left",5)).append(x$("bfopt_showsocialevents","Show social events.")).append(x$("bfopt_collectclanfightxp","Collect Clan fight XP."));$("a",bm).css("margin-left",5);function be(bp,bo){var bn=c$("div",bo+"_table").appendTo(bp).css({"float":"right",padding:"40px 50px 0px 0px"});Util.each([{id:"add_new_list",name:bo,text:"Add New",evt:M.addNewToList_click},{id:"clear_ulist",name:"User"+bo,text:"Clear UserList",evt:M.clearList_click},{id:"clear_clist",name:"Clan"+bo,text:"Clear ClanList",evt:M.clearList_click},{id:"add_from_list",name:bo,text:"Load List",evt:M.addFromList_click},{id:"get_current_list",name:bo,text:"Save List",evt:M.saveList_click}],function(br,bq){b$(bq.text,"id:"+bq.id+",name:"+bq.name+",class:short white fightV2AttackBtn").appendTo(c$("dl").appendTo(bn).css("margin",5)).click(bq.evt)});return bp}aq.BlackListTable=new DataGridTable({id:"BlacklistGrid",pageType:"droplist",cellspacing:0,showNumbers:false,columns:[{title:"Level",width:40,center:true,sort:"numeric"},{title:"Name",width:290,sort:"string",click:M.mwProfile_click},{title:"Added",width:120,sort:"string"},{title:"",width:20,center:true,click:M.deleteSelected_click}],buttons:[{label:"Users",click:M.gridData("UserBlackList")},{label:"Families",click:M.gridData("ClanBlackList")}]});be(bj.getLayout(2),"BlackList").append(aq.BlackListTable.wrapper);$(".mwa-grid-custom",aq.BlackListTable.topbar).append(x$("bfopt_useblacklist","Add to blacklist").css("margin-left",10));aq.WhiteListTable=new DataGridTable({id:"WhitelistGrid",pageType:"droplist",cellspacing:0,showNumbers:false,columns:[{title:"Level",width:40,center:true,sort:"numeric"},{title:"Name",width:290,sort:"string",click:M.mwProfile_click},{title:"Added",width:120,sort:"string"},{title:"",width:20,center:true,click:M.deleteSelected_click}],buttons:[{label:"Users",click:M.gridData("UserWhiteList")},{label:"Families",click:M.gridData("ClanWhiteList")}]});be(bj.getLayout(3),"WhiteList").append(aq.WhiteListTable.wrapper);$(".mwa-grid-custom",aq.WhiteListTable.topbar).append(x$("bfopt_whitelistcountactive","Limit:").css("margin-left",10)).append(n$("bfopt_whitelistcount",20)).append(x$("bfopt_randomizewhitelist","Random"));var bi=c$("div").css("padding",20).appendTo(bj.getLayout(4));var bk=c$("div","id:mwaddon_message").appendTo(bi);var bg=function(bp,bo,bn){return c$("fieldset").append(c$("legend").text(bp)).append(c$("div").html(bo)).append(bn)};Resources.getPicture("info_icon_png","div").text("What's this?").addClass("mwa-message-title").appendTo(bk);c$("div","class:mwa-message-body").appendTo(bk).html("If you're a part of a clan which uses a MWLISTS bucket,<br>you can use this feature to fetch the list and attack the targets.");bg("Enter the Bucket ID:","You must use a valid bucket url or id.",t$("bfopt_whitelistbucketid",650)).appendTo(bi);bg("Authorization Code:","Optional: If you've an account and an authorization code paste it, otherwise leave blank.",t$("bfopt_whitelistbucketauth",650)).appendTo(bi);c$("center").css("margin-top",10).appendTo(bi).append(x$("bfopt_whitelistbucketrand","Randomize list to attack in any order."));var bd=c$("div","id:wrapper_info").appendTo(V.content);var bh=c$("div","class:fightV2_msg_ctrl").appendTo(bd);c$("div","class:fightV2_result").appendTo(bd);c$("div").css("clear","both").appendTo(bd);c$("center","ctrlcontainer").appendTo(bh).append(b$("Random Attacks!","class:short red").click(M.autoMode_click)).append(b$("Attack WhiteList!","class:short red whitelist_attack").css("margin-left",5).click(M.attackWhiteList_click)).append(b$("Attack Families!","class:short red whitelist_attack").css("margin-left",5).click(M.attackFamily_click)).append(b$("Attack BucketList!","class:short red bucket_attack").hide().css("margin-left",5).click(M.attackBucketList_click));
c$("center","msgcontainer").css("margin",5).appendTo(bh);c$("center","leaderboardmsg").css("margin",5).appendTo(bh);var bb=c$("div","id:wrapper_log_stats").appendTo(V.content);var bc=c$("div","class:fightV2_stats").appendTo(bb);Util.each([{name:"Current City:",cls:"stat_travel",id:"currcityname"},{name:"Total Fights:",cls:"stamina",id:"fightCount"},{name:"Won Fights:",cls:"attack",id:"fightWon"},{name:"Lost Fights:",cls:"defense",id:"fightLost"},{name:"Foes Attacked:",cls:"attack",id:"foesAttacked"},{name:"Foes Ice/Kill:",cls:"stat_kill",id:["icesWon","killWon"]},{name:"Session Ices:",cls:"stat_kill",id:"session_ices"},{name:"Times healed:",cls:"health",id:"heal_count"},{name:"Stolen/Revenge:",res:"thief_icon_png",id:["icesLost","revenge"]},{name:"Clan fight XP:",cls:"stat_iced",id:["exp_fight","exp_fight_max"]},{name:"Ice Season:",cls:"stat_iced",id:["season_ices","season_target"]},{name:"Total Ices:",cls:"stat_iced",id:"total_ices"},{name:"Attack gained:",cls:"mafia_attack",id:"atkgained"},{name:"Defense gained:",cls:"mafia_defense",id:"defgained"},{name:"Exp. gained:",cls:"experience",id:["expGained","exptonextlevel"]},{name:"Exp. per stamina:",cls:"experience",id:"exp_per_sta"},{name:"Victory Coins:",cls:"stat_victory",id:"coinsGained"},{name:"Cash:",cls:"cash",id:"cash"},{name:"PowerPack:",cls:"stat_powerpack",id:"powerpack"},{name:"Load Rivals:",res:"timer_icon_png",id:"loadrivals"},{name:"Auto Travel:",res:"timer_icon_png",id:"timetotravel"},{name:"Auto Pause:",res:"timer_icon_png",id:"timetopause"}],function(bq,br){var bo=c$("span").text(br.name);var bp=c$("dl").appendTo(bc);var bs=c$("dt").append(bo);var bn=c$("dd");if(br.cls){bs.addClass(br.cls)}else{if(br.icn){bp.append(c$("img").attr("src",global.zGraphicsURL+br.icn))}else{if(br.res){bp.addClass(Resources.className(br.res)).css({width:"auto","padding-left":19})}}}bp.append(bs);bp.append(bn);if(Util.isString(br.id)){bn.append(c$("span","id:mass_stat_"+br.id).text("0"))}else{bn.append(c$("span","id:mass_stat_"+br.id[0]).text("0"));bn.append(c$("span").text("/"));bn.append(c$("span","id:mass_stat_"+br.id[1]).text("0"))}});(function(bp){var bn,bo=c$("div","events_list").appendTo(bp);c$("div","class:buttons").appendTo(bo).append(c$("a","href:#items,class:selected").text("General").click(M.showLog_click)).append(c$("a","href:#loot").text("Loot").click(M.showLog_click)).append(c$("a","href:#iced").text("Ices").click(M.showLog_click)).append(c$("a","href:#events").text("Events").click(M.showLog_click));c$("ul","id:items_logs").height(420).appendTo(bo);c$("div","id:loot_logs").appendTo(bo).append(c$("div","class:buttons").css("text-align","right").append(c$("a","href:#name").text("Name").click(M.sortloot_click)).append(c$("a","href:#attack").text("Attack").click(M.sortloot_click)).append(c$("a","href:#defense").text("Defense").click(M.sortloot_click)).append(c$("a","href:#best").text("Best").click(M.sortloot_click))).append(c$("ul","id:lootlistlog").height(401));bn=c$("div","id:iced_logs").height(420).css("text-align","center").appendTo(bo);var bq=c$("div","class:ice-log-header").appendTo(bn);t$("bfopt_logformat","FORMAT:",220).appendTo(bq);c$("a","action:apply").text("apply").appendTo(bq).click(M.applyIceFormat_click);c$("a","action:help").text("help").appendTo(bq).click(M.applyIceFormat_click);c$("a","action:clear").text("clear").appendTo(bq).click(M.applyIceFormat_click);c$("a").text("select all").css({"float":"right","margin-right":15}).appendTo(bq).attr("onclick","$('#text_plain_ice_log').select(); return false;");c$("textarea","readonly:readonly,id:text_plain_ice_log").appendTo(bn);c$("div","id:events_logs").height(420).appendTo(bo).append(c$("center").append(x$("hide_one_fights","Hide one or less fights events.").click(M.hideLowEvents_click))).append(c$("ul","id:eventslogger"));bn=c$("div","opponents_list").appendTo(bp);c$("div","class:header").appendTo(bn).append(c$("a","sort_by_name").text("Name").click(M.sort_click)).append(c$("a","sort_by_level-high").text("Level").click(M.sort_click)).append(c$("a","sort_by_mafia-high").text("Mafia").click(M.sort_click)).append(c$("a").text("Refresh").click(M.refresh_click));c$("ul","id:opponents_table").appendTo(bn)})(c$("div","class:fightV2_log").appendTo(bb));V.applyOptions({bfopt_healcity:global.cityNames,bfopt_startcity:global.cityNames,bfopt_attkdelaya:{1:"1-3",2:"2-4",3:"3-5",4:"1-5"},bfopt_attkdelayb:{1:"1",2:"2",3:"3",4:"4"},bfopt_attackrevengeto:{all:"Everyone",filtered:"Use Filters"},bfopt_maxloglength:{10:"10",50:"50",100:"100",250:"250",500:"500",1000:"1000"},bfopt_publishafter:{5:"5",10:"10",15:"15",20:"20"},bfopt_skiphealth:{20:"> 20%",30:"> 30%",40:"> 40%",50:"> 50%",60:"> 60%",70:"> 70%",80:"> 80%",90:"> 90%",100:"> 100%"},bfopt_skipunderattkpct:{5:"> 5%",10:"> 10%",15:"> 15%",20:"> 20%",25:"> 25%",30:"> 30%",40:"> 40%",50:"> 50%"},bfopt_attackpriority:{"mafia-high":"Highest Mafia","mafia-low":"Lower Mafia","level-high":"Highest Level","level-low":"Lower Level",boss:"Bosses"}})}function n(bc,be,bb,bd){$("div[id*="+be+"],ul[id*="+be+"]",V.content).stop().css("opacity",1).hide();
if(bb===true){$("#"+bc+be,V.content).fadeIn(1000,bd)}else{$("#"+bc+be,V.content).show()}}function I(be){if(ae.attkdelayUseA!==true){be();return}var bd=1,bb=3,bc=5;switch(ae.attkdelayA){case 2:bd=2;bb=4;break;case 3:bd=3;bb=5;break;case 4:bb=5;break}bc=Math.floor(Math.random()*(bb-bd+1))+bd;z.start("Ready to attack "+H.current.anchor()+" in %N% seconds...",bc,be)}function aU(bc){if(ae.attkdelayUseB!==true){bc();return}var bb=ae.attkdelayB;if(!Util.isSet(bb)||bb<1){bb=2}z.start("Ready to attack "+H.current.anchor()+" in %N% seconds...",bb,bc)}var aX={"0":function(bb){i("Loading fight page...",true);httpAjaxRequest({url:"remote/"+MW.getIntURL("fight"),liteLoad:1,success:function(bc){c(bc);i();if(/<!--[^:]*:\s*fight_controller/.test(bc)){bb(H.load(bc))}else{Logger.error("Unexpected page, looking for a fight or epicbattle page.");bb&&bb(0)}}})},"1":function(bc){H.clear(aW.PROFILE);Util.each(aq.UserWhiteList.toArray(),function(bd,be){if(aq.UserBlackList.exists(be.id)){aq.UserWhiteList.remove(be.id)}else{H.add(new g(aW.PROFILE,{id:be.id,name:be.name,level:be.level}))}});var bb=H.length(aW.PROFILE);if(bb<2){i("Whitelist is empty.");aZ("No opponents to attack.")}else{setTimeout(bc,500)}},"2":function(bc){H.clear(aW.PROFILE);Util.each(aq.FamilyListArray,function(bd,be){if(!aq.UserBlackList.exists(be.id)){H.add(new g(aW.PROFILE,{id:be.id,name:be.name,clanId:be.clanId,clanName:be.clanName}))}});var bb=H.length(aW.PROFILE);if(bb<1){i("There is not more Family members to attack.");aZ("No opponents to attack.")}else{setTimeout(bc,500)}},"4":function(bb){i("Loading battle page...",true);httpAjaxRequest({url:"remote/"+MW.getIntURL("EpicBattle"),liteLoad:1,success:function(bc){c(bc);i();if(/<!--[^:]*:\s*epicbattle_controller/.test(bc)){bb(H.load(bc))}else{Logger.error("Unexpected page, looking for a epicbattle page.");bb&&bb(0)}}})},"8":function(bf){var bc="http://mwlists.com/_api/";var bb=Util.doRgx(/bucket=([a-zA-Z0-9]+)/,ae.whiteListBucketID).$1||ae.whiteListBucketID;var be=function(){if(ae.whiteListBucketAuth){bc+=["_getlive.php?bucket=",bb,"&authid=",ae.whiteListBucketAuth].join("")}else{bc+=("_export.php?bucket="+bb)}return bc};var bd=function(){aX["8"](bf)};H.clear(aW.PROFILE);httpXDRequest({method:"GET",url:be(),onload:function(bh){var bi=Util.parseJSON(Util.trim(bh.responseText));if(ae.whiteListBucketRand===true&&Util.isArray(bi)){bi.sort(function(){return(Math.round(Math.random())-0.5)})}Util.each(bi,function(bj,bk){H.add(new g(aW.PROFILE,{id:Util.parseNum(bk.mwid||bk.mwpid),name:Util.trim(bk.mwname),level:Util.parseNum(bk.mwlevel)}))});var bg=H.length(aW.PROFILE);if(bg<2){z.start("No Tagerts found, reload bucketList in %N%...",30,bd)}else{bf&&bf(bg)}}})}};function S(bb,bj){var bf=/(profile|family).php\?id=([^\s&]+)|(user|id)=([^\s&]+)|(p?\|?[0-9]{4,})[,\s]/g,bd,bc=[],be=[],bh=" "+String(bj).split(/\n/g," ")+" ";while((bd=bf.exec(unescape(bj)))){var bi={};if(bd[1]==="profile"||bd[3]==="user"||String(bd[5]).charAt(0)==="p"){bi.isClan=false}else{bi.isClan=true}if(bd[2]){bd=Util.trim(bd[2]);if(bd.indexOf("{")!==-1){bd=Util.parseJSON(bd);bd=(bd.id||bd.user);if(bd){bi.id=Base64.decode(bd)}}}else{if(bd[4]){bi.id=Base64.decode(bd[4])}else{if(bd[5]){bi.id=bd[5]}}}bc.push(bi)}if(bc.length<1){return}var bg=new Collection(bc);bg.onMove(function(bp,bl,bn){try{var bk,bo=aq[(bn.isClan?"Clan":"User")+bb];if(!bn||bo.exists(Util.parseNum(bn.id))){bg.MoveNext();return}if(bn.isClan){bk=MW.getIntURL("clan")+"&from_red_link=1&id="+Base64.encode(bn.id)}else{bk=MW.getIntURL("stats")+"&user="+bn.id}httpAjaxRequest({url:"remote/"+bk,message:"Loading id: "+bn.id,success:function(br){var bq;if(bn.isClan){bq=au(br);bq.id=bn.id}else{bq=x(br)}if(!bq.error_msg){bo.add(bq)}else{be.push(Util.setColor(bn.id,"red")+": "+bq.error_msg)}bg.MoveNext()}})}catch(bm){bg.MoveNext();Logger.error(bm)}});bg.onEnd(function(){ae.save();bg.clear();d(aq.CurrentTableList);if(be.length>0){showHelpPopup({icon:"error",title:"Adding profiles to "+bb,message:"There has been encountered the following errors:<br><br>"+be.join("<br>")})}});bg.MoveFirst()}function aK(){if(aq.AttackMode&(aF.WHITE|aF.FAMILY|aF.BUCKET)){return aW.PROFILE}else{if(aq.AttackMode===aF.BATTLE){return aW.CLANBATTLE}else{if(H[aW.RIVAL]&&H[aW.RIVAL].length>0){return aW.RIVAL}return aW.FIGHTLIST}}}function x(bc){try{var bd=new MWProfile(bc);if(bd.myself){throw"You can't add yourself"}return(new g(aW.PROFILE,{id:bd.id,name:bd.name,level:bd.level,isInMafia:bd.inMafia}))}catch(bb){return{error_msg:bb}}}function au(be){var bc={};var bb=h$(be);try{bc.name=bb.find("#clan_main #clan_header > h3").text()}catch(bd){Logger.error(bd);return{error_msg:bd.message}}return bc}function aD(bh){var bf='Found <span style="color:green;">${added}</span> Players in Family ${family}.<br>${result}...';var bc="remote/"+MW.getIntURL("clan")+"&from_red_link=1&id=";var be=aq.ClanWhiteList.toArray();var bb=be.length;aq.FamilyListArray=[];function bd(bi){httpAjaxRequest({url:bc+Base64.encode(bi.id),success:function(bj){bg(bj,bi.id)}})
}function bg(bl,bk){var bi=h$(bl);var bj={added:0,family:bi.find("#clan_main #clan_header > h3").text(),result:"All families loaded, starting..."};bi.find("ul#member_list li").each(function(bm,bn){var bo,bq=e$(".name_n_rank a",bn);try{if(bq!==null){bo=Util.parseNum(Base64.decode(Util.uSplit(bq.attr("href")).user));if(bo&&bo>0&&!aq.UserBlackList.exists(bo)){aq.FamilyListArray.push({id:bo,name:bq.text(),clanId:bk,clanName:bj.family});bj.added++}}}catch(bp){Logger.error("AttackFamilies.getFamily:"+bp.message)}});if(be.length>0){bj.result="Loading next family...";bd(be.shift())}else{bj.result="Total: "+bb+" families and "+aq.FamilyListArray.length+" foes.";bh()}a5(Util.render(bf,bj),"help",null,String(bj.family).replace(/\s+/g,"_"))}i("Loading families...",true);if(be.length<1){i("There is no families in your enemy family list.");aZ()}else{bd(be.shift())}}function a1(bb){if(aq.AttackMode===aF.WHITE){if(ae.whiteListCountActive){if(aq.UserWhiteList.attack_count>ae.whiteListCount){aq.AttackMode=aF.NORMAL}else{aq.UserWhiteList.attack_count++}}}aX[aq.AttackMode](bb)}function j(bd,bc){var bb=false;if(Util.isString(bd)&&bd.length>2){if(Util.isString(bc)&&bc.length>2){var be=bd.toLowerCase();Util.each(bc.split(/\n/),function(bg,bf){if(Util.isString(bf)&&(bf=Util.trim(bf)).length>2){return !(bb=(be.indexOf(bf.toLowerCase())>-1))}})}}return bb}function aj(){if(H.length()<1){return}var bb=c$("ul","id:opponents_table");H.each(function(bd,bf){var bc=bf.is_iced?"#433":"white";var bg=[bf.title||"","<br>",bf.anchor(),"<br>Level: ",bf.level].join("");var bh=c$("li","id:enemy_player_"+bd);var be="";Util.each(bf.badges,function(bj,bi){be+=['<img title="',bi.name,'" src="',bi.src,'">'].join("")});c$("div","class:player_icons").html(be).appendTo(bh);c$("div","class:player_name").css("color",bc).html(bg).appendTo(bh);c$("div","class:player_mafia").text(bf.mafia).appendTo(bh);b$("Attack","class:short red,id:attack_id_"+bd).appendTo(bh).click(M.attack_click);bh.appendTo(bb)});$("#opponents_table").replaceWith(bb)}function am(bc){var bb=$(bc||"#items_logs");if(bb.children().length>ae.maxLogLength){bb.children().last().remove()}}function X(bb){if(bb.type==="coins"){aC.add("coinsGained",Util.parseNum(bb.quantity))}if(!ae.get("showSocialEvents")){return}a5("Social Event:<br>"+bb.title+" "+bb.quantity,"social",bb.pic)}function ax(be,bb){if(!Util.isSet(be)){return}var bc=e$("#loot_"+be.item_id,"#lootlistlog",V.content);var bd=c$("img").css("vertical-align","middle").attr({width:30,height:30,src:be.pic});if(bc!==null){$("#item_count",bc).text(be.count)}else{c$("li","loot_"+be.item_id).append(bd).append(c$("span").css("margin-left",10).text("Found ")).append(c$("span","item_count").css("color","green").text(be.count)).append(c$("span").css("margin-left",5).append(be.toString()))[bb?"appendTo":"prependTo"]("#lootlistlog")}}function a5(be,bd,bc,bg){if(!Util.isString(bd)){bd="fight"}var bb=bd+"_item_"+bg;var bf=e$("#items_logs #"+bb);if(Util.isSet(bg)){if(bf){bf.empty().addClass(bd)}else{bf=c$("li","class:"+bd+",id:"+bb)}}else{bf=c$("li","class:"+bd)}c$("div","class:timestamp").appendTo(bf).html((new Date()).toUTCString());if(bc){bf.addClass("hasicon").append(c$("img").attr("src",bc))}c$("div","class:message_text").appendTo(bf).html(be);$("a.sexy_button_new",bf).css("color","black").removeClass("medium").addClass("short");$("#items_logs").prepend(bf);am()}function v(be,bd){if(Util.isSet(be)&&be.length>0){var bc;for(bc=0;bc<be.length;bc++){if(/item_with_preview/.test(be[bc])){ax(l.add(new aL(be[bc],bd)))}else{if(/fake_item_card/.test(be[bc])){X(new ai(be[bc]))}else{if(/item_card_mini ice/.test(be[bc])){var bb=new aS(be[bc]);am("#eventslogger");c$("li").html("&#187; "+Util.setColor("You won: "+bb.title,"green")).prependTo("#eventslogger")}else{Logger.error("Unknow Loot Found:\n"+be[bc])}}}}}}function ap(){var bb="";ae.logFormat=$("#bfopt_logformat",V.content).val();Util.each(aq.IceCache,function(bd,be){var bc={description:be.description,opp_name:be.from,att_name:facebook.user.first_name,event:(be.isKilled?"KILL":"ICE"),count:be.count,city:be.city,time:be.time,newline:"\n"};bb+=Util.render(ae.logFormat,bc)+"\n"});$("#text_plain_ice_log",V.content).val(bb)}function ak(be,bf){var bg="${name} ${event} ${oppname} to get ${count}.";var bb="Season ice: ${ices} of ${target} (left ${left} ices).";var bd="# [${time}] ${event} ${count} to ${oppname}";var bc={time:(new Date()).toLocaleTimeString(),name:"You",event:"ICED",count:be.count,ices:be.season_ices||0,target:be.season_target||0,oppname:bf.anchor()};be.from=Util.trim((bf.clanName||"")+" "+bf.name);aq.IceCache.push(be);aq.IceIDsCache[bf.id]=aq.IceCache.length-1;bc.left=bc.target-bc.ices;ba.reset("stolenIce");if(be.isKilled){aC.add("killWon");aH.session_ices+=2;bc.event="KILLED"}else{aC.add("icesWon");aH.session_ices++}if(bf.type===aW.THIEF){aC.add("revenge");bc.event+=" the THIEF"}if(be.season_ices&&be.season_target){bg+=("<br>"+bb)}a5(Util.render(bg,bc)+"<br>"+be.action,"iced",bf.image);ap();if(ae.publishActive&&be.canPublish){U.add(be,(bf.clanId?bf.clanName+" "+bf.name:bf.name))
}}function a8(bf,be){var bc="ICE STOLEN BY: ";var bb=bf.type;be.skip("The ice was just stolen by "+bf.anchor());aC.addStolenIce(bf);ba.stolenIce();function bd(){if(be.type===aW.CLANBATTLE){bb="But you're in a epic battle.";return true}if(bf.inMafia){bb="But is in your mafia.";return true}if(ae.attackRevenge!==true){bb="Set Revenge ON if you want to take your revenge!.";return true}if(aq.UserBlackList.exists(bf.id)){bb="But was skipped because is in your blacklist.";return true}bb="When fighting against "+be.name+".";return false}if(bd()!==true){H.revenge=bf.toOpponent()}a5(bc+bf.anchor()+"<br>"+bb,"stolen_ice",bf.pic)}function F(bc,bb){var be=c$("li").attr("fights",bc.fights);var bd=bb||bc.result_text||"Too late, was iced.";be.html(Util.render(aq.EventTemplate,{opp:bc.toString(),fights:bc.fights,health:bc.damage_given,stamina:String(bc.fights*a6()),text:bd}));am("#eventslogger");if($("#hide_one_fights",V.content).hasClass("checked")&&bc.fights<2){be.hide()}be.prependTo("#eventslogger")}function ac(){Util.each(aH,function(bb,bd){var bc=e$("#mass_stat_"+bb.toLowerCase());if(bc!==null){bc.html(String(bd))}});Util.each(aC.currentTotal,function(bb,bd){var bc=e$("#mass_stat_"+bb);if(bc!==null){bc.html(String(bd))}})}function i(bd,bb,be){var bc=$("#msgcontainer").empty().show();if(Util.isString(bd)){if(bb===true){Resources.getPicture("ajax_loader_gif","span").appendTo(bc).html(bd).css("padding-left",18)}else{bc.html(bd)}if(Util.isFunc(be)){bc.append(c$("a","href:#").text("click here to continue.").click(be))}}else{bc.hide()}}function aA(be,bg){if(aq.Aborted){return}var bc="Traveling to ${city}...";var bf="Unexpected city (#${trycount}), taveling to ${city} in %N% seconds.";var bb={trycount:1};if(global.city(be).enabled!==true){if(aq.CurrentCity===(be=(aq.StartCity=1))){bg&&bg();return}}(function bd(){if(aq.Aborted){return}bb.trycount++;bb.city=global.city(be).name;i(Util.render(bc,bb),true);MW.travel(be,function(bh,bi){if((aq.CurrentCity=parseInt(bh))===parseInt(be)){i();T();aq.Crew.update(bi);bg&&bg(bi)}else{if(bb.trycount>3){Logger.error("Can't travel to "+global.city(be).name+" the city will be removed.");global.city(be).enabled=false;be=p()||1;bb.trycount=0;z.start(Util.render(bc,bb),3,bd)}else{z.start(Util.render(bf,bb),3,bd)}}},null,"fight")})()}function A(bg){if(aq.Aborted){return}var be,bc=0,bf=false;function bb(){var bh=(new Date()).getTime();if(aq.AutoPaused===true){aZ("AutoPaused.");aq.AutoPaused=false;f();return}if((++bc)<4){be=parseInt(ae.healCity)}else{if(be!==1){be=1}else{bc=0;z.start("Error healing. Try again in %N% seconds.",60,bb);return}}if(aq.ReadyToHeal>bh){if(!aq.ForceHeal){aq.ForceHeal=true;if(ae.stopAutomatic===true){a5("AutoStop:<br>Your health fall down very quickly.","help",null,"autostop");i("Seem you're under attack!, AutoFight was stopped.");aZ("AutoStopped.");if(ae.stopResume){f(parseInt(ae.stopResumeDelay||5))}return}else{ba.heal()}}if(ae.useHealPack&&aH.powerPack.avail().hospital){ag("hospital",bg,function(){aH.powerPack.on=false;bb()})}else{bc--;z.start("Ready to heal in %N% seconds.",Math.ceil((aq.ReadyToHeal-bh)/1000),bb)}return}aq.ForceHeal=false;if(be===1&&be!==aq.CurrentCity){bd("remote/"+MW.getIntURL("hospital","heal",aq.CurrentCity)+"&xcity=1")}else{if(be!==0&&be!==aq.CurrentCity){aA(be,function(){bd("remote/"+MW.getIntURL("hospital","heal",be))})}else{bd("remote/"+MW.getIntURL("hospital","heal",be))}}}function bd(bh){i("Healing at "+global.city(be).name+"...",true);httpAjaxRequest({url:bh,success:function(bi){try{c(bi);if(bi.current_health<Math.min(ae.healBelow,aH.maxHealth-100)){z.start(bi.hospital_message+" try again in %N% seconds.",5,bb)}else{var bk=(bi.waitHealTimer||ae.healTimer);aH.heal_count++;aq.ReadyToHeal=(new Date()).getTime()+(bk*1000);Logger.debug("ReadyToHeal set to: "+bk+" secs.");a5(bi.hospital_message,"heal",null,"healmessage");B(0,aH.healthPct);at(aH.health);ac();if(aq.CurrentCity!==aq.StartCity&&(ae.travelToStartCity||be!==1)){aA(aq.StartCity,bg)}else{bg&&bg()}}}catch(bj){z.start("Error healing. Try again in %N% seconds.",5,bb)}}})}bb()}function ag(bc,bd,bb){httpAjaxStopRequests();G();R(true);i("Using PowerPack...",true);$("#mass_stat_powerpack").html(Util.setColor("Loading","green"));MW.usePack(function(be){$("#mass_stat_powerpack").html(Util.setColor("Inactive","grey"));if(be){c(be);if(be&&be.success){a5(be.message,"help",null,"powerpack");aR();bd&&bd()}else{a5("PowerPack:<br>Seem there was a server error.","help",null,"powerpack");bb&&bb()}}else{aH.powerPack.on=false;ah(bb)}},bc)}function a9(){al();if(aH.stamina<a6()){showHelpPopup({icon:"info",title:"No stamina left",message:"You need to have some stamina to attack."});M.runAway_click();return}if(aH.health<H.current.requirements().health){A(av);return}av(false)}function Q(bc){var bb=UserConfig.main.autoDeposit[aq.CurrentCity];if(bb&&bb.active===true){if(aH.userCash>bb.amount){i("Depositing "+Util.setColor(Util.formatNum(aH.userCash),"green")+"...",true);MW.deposit(aq.StartCity,aH.userCash,function(bd){i();
if(bd){a5(bd,"bank",null,"deposit")}if(Util.isFunc(bc)){bc()}});return}}if(Util.isFunc(bc)){bc()}}function c(be,bd){var bb;try{if(be.user_fields){bb=be.user_fields;if(ae.epicBattle===true&&be.questData&&be.questData.inClanBattle){if(aq.EpicBattle){aq.EpicBattle.update(be.questData.inClanBattle)}else{aq.EpicBattle=new P(be.questData.inClanBattle)}}else{aq.EpicBattle=null}}else{if(bd!==false){bb=MW.update(be)}else{bb=MW.evaluateUserFields(be)}}if(bb){aq.CurrentCity=parseInt(bb.current_city_id);aH.health=parseInt(bb.user_health);aH.maxHealth=parseInt(bb.user_max_health);aH.stamina=parseInt(bb.user_stamina);aH.maxStamina=parseInt(bb.user_max_stamina);aH.expToNextLevel=parseInt(bb.exp_to_next_level);aH.userCash=parseInt(bb.user_cash);aH.powerPack.ask=parseInt(bb.powerPackAsk)!=0;aH.powerPack.time1=parseInt(bb.powerPackStaminaUse);aH.powerPack.time2=parseInt(bb.powerPackHealthUse);aH.powerPack.count=parseInt(bb.powerPackCount);if(Util.isBoolean(bb.powerPackOn)){aH.powerPack.on=(bb.powerPackOn==true)}else{aH.powerPack.on=parseInt(bb.powerPackOn)>0}aH.healthPct=parseInt((aH.health*100)/aH.maxHealth);return true}}catch(bc){Logger.error(bc)}return false}function ah(bb){i("Updating...",true);httpAjaxRequest({url:"remote/"+MW.getIntURL("survey","show_nps_survey"),success:function(bc){i();c(bc);ac();if(Util.isFunc(bb)){bb()}else{N()}}})}function a6(){return global.city(aq.CurrentCity).ratio}function p(){if(aq.AttackMode===aF.BATTLE){return(aq.StartCity=1)}if((ae.crewMercenary&&aq.Crew.is_active("mercenary"))||(ae.crewMarksman&&aq.Crew.is_active("marksman"))){return false}var bb=[];Util.each(ae.travelTo,function(bd,bc){bd=Util.parseNum(bd);if(global.city(bd).enabled===true&&aq.StartCity!==bd){if(bc===true){bb.push(bd)}}});if(bb.length>0){aq.StartCity=parseInt(bb[Math.floor(Math.random()*bb.length)]);return aq.StartCity}return false}function aR(){T();y();r()}function G(){z.clear();aT.clear();aO.clear();aY.clear();ad.clear()}function T(){aT.clear();if(ae.timerCityActive){aT.start(ae.timerCityMins*60)}}function f(bb){aO.clear();aO.start((bb||ae.timerFightResume)*60)}function y(){aY.clear();if(ae.timerFightActive){aY.start(ae.timerFightMins*60)}}function r(){ad.clear();if(ae.rivalListOn){ad.start(ae.rivalListRefresh*60)}}function Y(bd){var bb=false;var bc=function(){if(bb===false){bb=true;i();bd()}};i("Paused while publishing your ices. ",false,bc);U.publishTo(ae.publishTo,bc)}function o(bf){var bd=ae.crewMercenary,bc=ae.crewMarksman,bb=aq.Crew,be=false;if((bd||bc)){if((bd&&bb.is_active("mercenary"))||(bc&&bb.is_active("marksman"))){return false}if(bd&&(be=bb.is_available("mercenary"))!==false){bb.activate(be,"mercenary",bf);return true}if(bc&&(be=bb.is_available("marksman"))!==false){bb.activate(be,"marksman",bf);return true}}if(ae.travelToStartCity&&aq.CurrentCity!==aq.StartCity){aA(aq.StartCity,function(bg){if(aq.AttackMode===aF.NORMAL){H.clear(aW.FIGHTLIST);H.load(bg)}bf()});return true}else{aq.StartCity=aq.CurrentCity;return false}}function W(bi){var bb=h$(bi);var bh=(e$("a:regex(href,rivals_remove|rivals_add)",bb)!==null);var bg=10;var be=[];function bd(bj,bk){var bl=e$("a:regex(href,action=attack)",bk);var bn=e$("td:eq(0) a:regex(href,controller=clan)",bk);if(bl===null){if(bh&&(bl=e$("a:regex(href,action=rivals_push_top)",bk))){bg=Number(Util.uSplit(bl.attr("href")).push_top)}return}var bm=new g(bh?aW.RIVAL:aW.FIGHTLIST);if(bn!==null){bm.clanId=Base64.decode(Util.uSplit(bn.attr("href")).id);bm.clanName=Util.trim(bn.text())}if(bh){bm.rivalType=bg}bm.attack_url=bl.attr("href");bm.id=Util.uSplit(bm.attack_url).opponent_id;bm.is_boss=/bot/.test(bm.id);bm.id=Util.parseNum(bm.id);bm.title=Util.trim($("td:eq(0) span:first",bk).text());bm.name=Util.trim($("td:eq(0) a:regex(href,controller=stats)",bk).text());bm.level=Util.parseNum($("td:eq(0) *[class^=fight_list_level]",bk).text());bm.mafia=Util.parseNum($("td:eq(1)",bk).text());bm.is_iced=$("td:eq(0)",bk).hasClass("fight_list_player_dead");bm.requirements(Util.parseJSON(bl.attr("requirements")));$(".fight_list_badge_area img",bk).each(function(bo,bp){bp=$(bp);bm.badges.push({name:Util.trim(bp.attr("title")),src:bp.attr("src")})});if(bm.badges.length<2){bm.badges.push({name:"",src:global.zGraphicsURL+"home/icon_hitlist_75x75_01.gif"})}if(bm.is_boss){bm.name=Util.trim($(".fight_list_name_area > span:first",bk).text())}be.push(bm);bl=bn=null}function bc(bj,bm){var bl,bk=e$(".fr a:regex(href,action=attack)",bm);if(bk==null){return}bl=new g(aW.CLANBATTLE);bl.attack_url=bk.attr("href");bl.id=Util.parseNum(Util.uSplit(bl.attack_url).opponent_id);bl.requirements(Util.parseJSON(bk.attr("requirements")));if(!Util.isSet(bl.id)||bl.id===0){return}if((bk=e$(".fl a:regex(href,controller=clan)",bm))){bl.clanId=Base64.decode(Util.uSplit(bk.attr("href")).id);bl.clanName=Util.trim(bk.text())}bl.is_iced=false;bl.name=Util.trim($(".fl a:regex(href,controller=stats)",bm).text());(function(bo){var bn=Util.doRgx(/Level:\s*(\d+)\s*(\w*)/i,bo);bl.level=Util.parseNum(bn.$1);bl.mafia=Util.parseNum(Util.doRgx(/Mafia: (\d+)/i,bo).$1);
bl.title=(bn.$2||"")})($(".fl",bm).text());be.push(bl);bk=bl=null}function bf(){var bj=e$("#their_wall a:regex(href,action=attackFortress)",bb);if(bj!==null){aq.EpicBattleFortress={reqs:Util.parseJSON(bj.attr("requirements")),url:bj.attr("href")}}else{aq.EpicBattleFortress=null}}if(e$("#battle_target_list",bb)!==null){bb.find("#battle_target_list .fight_entry").each(bc);if(be.length<1){bf()}a5(aq.EpicBattle+"<br>Found "+be.length+" opponents.","help",null,"epicbattle")}else{if(bh){bb.find("a:regex(href,action=rivals_push_top)").each(function(bj,bk){try{bg-=Number(Util.uSplit($(bk).attr("href")).push_top)}catch(bk){}});bb.find(".fight_table tr:has(a)").each(bd)}else{bb.find(".fight_table tr:has(.action)").each(bd)}}bi=bb=null;Logger.debug("Loaded "+be.length+" opponents.");return be}function K(){if(!aq.EpicBattleFortress){aE();return}i("Attacking "+aq.EpicBattle.opponentName+" Fortress...",true);httpAjaxRequest({url:aq.EpicBattleFortress,liteLoad:1,success:function(bc){c(bc);var bb=h$(bc).find(".message_body:first").text();if(bb){a5(bb,"help",null,"epicbattlefortress")}H.load(bc);aE()}})}function aE(){if(aq.Aborted){return}if(ae.collectClanFightXp&&(aH.exp_fight>=aH.exp_fight_max)&&(aH.exp_fight_max>aH.exp_fight_min)){MW.collectClanXP("exp_fight",function(bd){if(bd){aH.exp_fight_min=aH.exp_fight_max;a5(bd,"help",null,"clanxp")}else{ae.collectClanFightXp=false}})}if(ae.publishActive&&U.length()>=ae.publishAfter){Y(aE);return}if(H.current){t();H.current=null}if(aq.AutoPaused===true){aZ();aq.AutoPaused=false;f();return}if(o(aE)===true){return}if(aq.AttackMode!==aF.BATTLE){if(aq.EpicBattle&&aq.EpicBattle.inBattle&&aq.EpicBattle.started){a5(aq.EpicBattle.toString(),"help",null,"epicbattle");aq.AttackMode=aF.BATTLE;H.clear(aW.CLANBATTLE);p();a1(aE);return}}else{if(aq.EpicBattle==null||aq.EpicBattle.finished()){if(aq.EpicBattle){a5(aq.EpicBattle.toString(),"help",null,"epicbattle")}H.clear(aW.CLANBATTLE);aq.AttackMode=aF.NORMAL;a1(aE);return}}var bb="setRandomCurrent";if((aq.AttackMode===aF.NORMAL&&ae.useAttackPriority)||(aq.AttackMode===aF.WHITE&&ae.randomizeWhiteList!==true)){bb="setCurrent"}var bc=H[bb]();while(bc&&bc.isValid()!==true){bc=H[bb]()}if(!bc){if(aq.AttackMode===aF.BATTLE){if(ae.epicBattleFortress===true&&aq.EpicBattleFortress!==null){K()}else{z.start("No opponents to attack, reloading epic battle in %N%...",ae.epicBattleRefresh,function(){a1(aE)})}}else{a1(aE)}}else{aU(N)}}function N(){if(aq.Aborted===true||o(N)===true){return}if(!Util.isSet(H.current)||H.current.ice_state>0){Q(aE);return}var bd=H.current;var bb=ae;var bc={RapidFire:false,Health:aH.health,Stamina:aH.stamina,ToLevel:aH.expToNextLevel,SessionIces:aH.session_ices,Delay:(bb.stopResumeDelay>0?bb.stopResumeDelay*60:300),MinHealth:bd.requirements().health,MinStamina:bd.requirements().stamina,StaminaPack:aH.powerPack.avail().stamina,ToIce:bd.attacks_to_ice||0,clickAmount:Math.max(Math.min(ae.rapidFireCount||0,4),1)};if(!bd.hasAtkUrl()){bd.skip("Opponent has not an valid attack url.");aE();return}bb.rapidFireCount=Math.max(Math.min(bb.rapidFireCount,5),1);bb.healBelow=Math.max(bc.MinHealth,bb.healBelow);bc.KeepSta=Math.max((bb.stopKeepStaOn?bb.stopKeepSta:0),bc.MinStamina);bc.KeepHlt=Math.max((bb.healActive?bb.healBelow:0),bc.MinHealth);if((bd.powerAttack=bb.attackPwr)&&(bb.attackUseMax!==true||bc.ToIce>0||bd.curHealthPct<20)){bc.RapidFire=(bb.rapidFireActive&&(bb.attackUsePerFoe!==true||(bd.fights+(bc.clickAmount*15))<bb.attackPerFoe))}else{bc.RapidFire=false}if(bd.fights>0){if(bb.attackUsePerFoe&&bd.fights>=bb.attackPerFoe){bd.skip("Limited attacks per foe reached: "+bd.fights)}if(bd.fights<20&&bb.attackUseMax&&bc.ToIce>0&&bb.attackMax<bc.ToIce){bd.skip("Skip by Maximum Attacks: "+bc.ToIce+" (+/- "+bd.health+" health).")}if(bb.skipHealed&&bd.curOtherDamage<0){bd.skip("Seem that was healed.")}if(aq.AttackMode!==aF.BATTLE&&bd.type!=aW.PROFILE){if(ae.skipUseHealth&&bd.curHealthPct>ae.skipHealth){bd.skip("Health percentage: "+bd.curHealthPct+"%")}if(ae.skipUseMinCash&&(bd.cash<1||parseInt(bd.cash/bd.fights)<ae.skipByMinCash)){bd.skip("Cash gained per fight is too low.")}if(ae.skipWrongCash&&bd.cashFrom!==aq.StartCity){bd.skip("Cash gained from different city.")}if(ae.skipUnderAttk&&bd.curOtherDamage){if(bd.curHealthPct>5&&bd.curOtherDamage>ae.skipUnderAttkPct){bd.skip("So many damage from others ("+bd.curOtherDamage+"%).")}}}}if(bd.skipped===true){Q(aE);return}if(bb.stopKeepExpOn&&bc.ToLevel<bb.stopKeepExp){bc.Stop="AutoFight deactivated, you need "+bc.ToLevel+" exp. points to levelup."}else{if(bc.Stamina<bc.KeepSta&&(!ae.crewMercenary||aq.Crew.is_available("mercenary")===false)){if((bc.Stamina<bc.MinStamina)&&bc.StaminaPack){Q(function(){ag("stamina",aE,function(){aH.powerPack.on=false;N()})});return}if(bb.stopResume){bc.Pause="No stamina left, continue in %N% seconds."}else{bc.Stop="AutoFight deactivated, No stamina left."}}else{if(aq.ForceHeal){A(N);return}else{if(bc.Health<bc.KeepHlt){if(bc.Stamina<bb.healMinSta&&!bc.StaminaPack){if(bc.Health<bc.MinHealth){if(bb.stopResume){bc.Pause="Heal was not possible due your low stamina, continue in %N% seconds."
}else{bc.Stop="AutoFight deactivated, Heal was not possible due your low stamina."}}}else{if(bb.healActive!==true){if(bb.stopResume){bc.Pause="Healing is set off, continue in %N% seconds."}else{bc.Stop="AutoFight deactivated, Healing is set off."}}else{if(bb.healAttacking||bd.fights===0||bc.Health<bc.MinHealth){A(N);return}}}}else{if(bb.stopByIces&&bc.SessionIces>=bb.stopIceAmount){bc.Stop="AutoFight deactivated, you made "+bc.SessionIces+" ices."}}}}}if(bc.Stop){G();Q(function(){i(bc.Stop);aZ("AutoFight was stopped.")});return}if(bc.Pause){G();Q();R(false,true);z.start(bc.Pause,bc.Delay,function(){H.clear();ah(function(){aR();aE()})});return}R();av(true,bc.RapidFire?bc.clickAmount:1)}function av(bc,bi){if(aq.Aborted){return}var bh=H.current;var bd=bh.getAttackUrl(bi);var be=bh.attacks_to_ice||0;var bb="Attacking "+bh.anchor()+"...";if(bh.retries>0){bb+="<br>Retry #"+bh.retries+"."}if(be>0){bb+="<br>You need ~"+be+" attacks to ice."}i(bb,true);function bg(bj){if(bc){if(bh.retries<ae.attackRetries){bh.retries++;N()}else{R(true);bh.skip("So many server errors.");aE()}}else{i(bj||"There was an error.");J(true)}}function bf(){if(aq.UserWhiteList.exists(bh.id)){aq.UserWhiteList.remove(bh.id);a5(bh.anchor()+"<br>Currently part of your mafia. Removed from WhiteList.","iced",bh.image);ae.save()}}httpAjaxRequest({url:bd,liteLoad:1,success:function(bk){if(aq.Aborted===true){return}if(c(bk)!==true){bg();return}var bj=w(bk);switch(bj.success){case aP:bg("Error: Unknow server response.");break;case ay:R();bf();Q(aE);break;case a4:bg("Error: No fight response.");break;case ab:if(!bk.fight_result&&aq.AttackMode===aF.NORMAL){H.load(bk)}if(bc){if(bj.levelUp_stop){aZ("Leveled up.");i("AutoFight deactivated, you Leveled UP!!.")}else{if(!bj.attack_again){R();Q(aE)}else{bh.retries=0;I(N)}}}else{t();i();Q(J)}break}},error:function(bj){if(bc){bg(bj)}else{i(bj);J(true)}}})}function k(bd){var bc={my_rank:bd.my_rank};var bb=$("#leaderboardmsg",V.content);if(bc.my_rank!=1){bc.name=bd.name;bc.ices_left=bd.ices_left}if(bd.showRankUp&&bc.my_rank!=1){bc.rank=bd.rank;msg="You just passed ${name} ranked at #${rank} and are currently placed at #${my_rank}."}else{if(my_rank==1){msg="You are currently at rank #1 on your ${type} Iceboard.";if(bd.boardType){bc.type="Family"}else{bc.type="Mafia"}}else{msg="You need just ${ices_left} more ${type} to outrank ${name}, ranked at #${rank}.";bc.rank=bd.rank;if(bc.ices_left==1){bc.type="ice"}else{bc.type="ices"}}}bb.text(Util.render(msg,bc));bb.show()}function at(bb){$("#bfatt_health",V.content).html(bb)}function an(bc,bb){$("#bfatt_stamina",V.content).html(bc);$("#bfatt_max_stamina",V.content).html(bb)}function B(bb,bd){var bf;var bh;var bi;var be;var bg=215;var bc;function bj(bk){switch(true){case (bk<34):return"hpbg_low";case (bk<67):return"hpbg_mid";default:return"hpbg_high"}}if(bb==0){be=Math.min(Math.max(bd,0),100);bc=$("#attacker_hp",V.content);bf=(be/100)*bg;bh=bj(be)}else{bi=Math.min(Math.max(bd,0),100);bc=$("#defender_hp",V.content);bf=(bi/100)*bg;bh=bj(bi)}if(bc.width()==bf){return}if(bd>0&&bd<100){bc.stop(true).animate({width:bf+"px"},400)}else{bc.stop(true).animate({width:bf+"px"},100)}bc.removeClass("hpbg_low hpbg_mid hpbg_high");bc.addClass(bh)}function aa(bd,bb,bc){if($("#fightv2_boost_on",V.content).hasClass("checked")||bc){$("#attacker_attack",V.content).html(bd)}else{$("#attacker_attack",V.content).html(bb)}}function aN(){$("#attacker_fight_status",V.content).empty();$("#wrapper_defender",V.content).empty();$("#defender_best_items .fightV2ItemList",V.content).empty();$("#divAttackerDmgTaken",V.content).empty();$("#wrapper_info .fightV2_result",V.content).empty()}function L(bg,be){var bf,bc,bd;if(bg==0){bf=$("#divAttackerOtherAtkId",V.content);bd=$("#spanAttackerOtherAtk",V.content);bc=$("#spanAttackerOtherAtkLabel",V.content)}else{bf=$("#divDefenderOtherAtkId",V.content);bd=$("#spanDefenderOtherAtk",V.content);bc=$("#spanDefenderOtherAtkLabel",V.content)}if(!Util.isSet(be)||be==0){bf.hide();bd.html("");bc.html("")}else{var bb=-be;bf.show();bd.removeClass("fv2_dmg_negative");bd.removeClass("fv2_dmg_positive");if(bb<=0){bd.html(bb+"%");bd.addClass("fv2_dmg_negative");bc.html("other attackers")}else{bd.html("");bd.addClass("fv2_dmg_positive");bc.html("healed")}}}function a3(bd,bb){var bc;if(bd==0){bc=$("#divAttackerDmgTaken",V.content)}else{bc=$("#divDefenderDmgTaken",V.content)}bc.fadeIn(500);bc.removeClass("fv2_dmg_negative fv2_dmg_positive");if(bb<0){bc.html(-bb);bc.css("color","green")}else{bc.html("-"+bb);bc.css("color","red")}}function a0(bc,bb){if(bc==0){$("#attacker_boost_used_tag",V.content).html(bb);$("#attacker_boost_used",V.content).show()}else{$("#defender_boost_used_tag",V.content).html(bb);$("#defender_boost_used",V.content).show()}}function s(bd,bb,bc){var be=0;if(Util.isSet(bd)&&bd>0){be=bd}$(".boost_wgt_boost_count",V.content).html(be);if(be>0){$("#fv2_boost_toggle_ask_btns",V.content).hide()}else{$("#fv2_boost_toggle_ask_btns",V.content).show();if(bc>0){$(".fv2_boost_ask_allowed",V.content).hide()
}else{$(".fv2_boost_ask_allowed",V.content).show()}}$(".boost_wgt_next_boost",V.content).hide();if(Util.isSet(bb)&&bb!=""){$(".boost_wgt_next_boost",V.content).html(bb);$(".boost_wgt_next_boost",V.content).show()}}function ar(be,bb){var bd;if(be==0){bd="attacker"}else{bd="defender"}for(var bc in bb){if(bb[bc]!=""){$("#"+bd+"attacker_best_item_"+bc,V.content).html(bb[bc])}}}function aV(bb){if(!Util.isSet(bb)){$("#wrapper_info .fightV2_result",V.content).empty();return}$("#wrapper_info .fightV2_result",V.content).html(bb).find(".impulse_buy, #figthv2_moreinfo_btn").remove()}function D(bb){$("#attacker_fight_status",V.content).css("opacity",0).removeClass("good bad");$("#defender_fight_status",V.content).css("opacity",0).removeClass("good bad");if(Util.isSet(bb)&&bb==true){$("#attacker_fight_status",V.content).html("Won").addClass("good");$("#defender_fight_status",V.content).html("Lost").addClass("bad")}else{$("#attacker_fight_status",V.content).html("Lost").addClass("bad");$("#defender_fight_status",V.content).html("Won").addClass("good")}$("#attacker_fight_status",V.content).stop(true).animate({opacity:1},300);$("#defender_fight_status",V.content).stop(true).animate({opacity:1},300)}function aZ(bb){aq.Aborted=true;httpAjaxStopRequests();G();if(bb){R(true)}if(H.current){H.current.skip(bb||"AutoFight stopped.");t()}}function az(bb){if(Util.isSet(bb.sase_item_received)&&bb.sase_item_received!=""){$("#defender_fight_sase_status div#defender_fight_sase_status_img").html(bb.sase_item_recvd_img);$("#defender_fight_sase_status div#defender_fight_sase_status_text").html(bb.sase_item_recvd_text);$("#defender_fight_sase_status").show()}}function a(bd,bb){if(bd.ice_state<1){return}$("#fv2_defender_"+aq.IceOverlay[bd.ice_state],V.content).show();if(Util.isSet(bb.sase_event_on)){if(bd.ice_state===1){$("#fv2_defender_overlay_killed img.fv2_overlaybg").attr("src",bb.sase_kill_state_bg)}else{if(bd.ice_state===2){$("#fv2_defender_overlay_iced img.fv2_overlaybg").attr("src",bb.sase_ice_state_bg)}}var bc=$("#defender_fight_sase_status");if(bc!=undefined&&bc.length>0){bc.hide()}if(Util.isset(bb.sase_item_recvd_text)){$("#fv2_defender_overlay_iced div.fv2_defender_overlay_brag_wrapper").html('<span style="color:#FFD927;">'+bb.sase_item_recvd_text+"</span>")}}if(bd.ice_state===3&&bd.thief){$(".fv2_defender_overlay_name",V.content).html(bd.thief.profile);$(".fv2_defender_overlay_level",V.content).html(bd.thief.type);$(".fv2_defender_overlay_pic",V.content).html(bd.thief.picture);$(bd.thief.btn).removeAttr("onclick").attr("href","#").click(M.revenge_click).appendTo($("#fv2_defender_overlay_stolen_btn",V.content).empty())}if(aH.show_ice_season){$(".fv2_defender_overlay_next_title",V.content).html("Next Ice Prize");$(".fv2_defender_overlay_next_count",V.content).html(aH.season_ices+"/"+aH.season_target)}else{$(".fv2_defender_overlay_next_title",V.content).html("Total Ices");$(".fv2_defender_overlay_next_count",V.content).html(aH.total_ices)}}function q(bc){$(".fv2_btncontainer",bc).empty();$("a.close",bc).remove();$("#fv2_wgt_open_button_wrapper, #fv2_wgt_button_open_link, #wrapper_items_won, .fv2_boost_ask_not_allowed",bc).remove();$("#fightv2_boost_on, #fightv2_boost_off",bc).removeAttr("onclick").removeClass("checked").css("cursor","pointer");$("#fightv2_boost_"+(aq.AttackerUsedBoost?"on":"off"),bc).addClass("checked");$("#attacker_health",bc).attr("id","bfatt_health").html(aH.health);$("#attacker_stamina",bc).attr("id","bfatt_stamina").html(aH.stamina);$("#attacker_max_stamina",bc).attr("id","bfatt_max_stamina").html(aH.maxStamina);global.zGraphicsURL+"character_silhouette.jpg";var bb=String(bc.html()).replace(/src=['"]null['"]/g,'src="'+global.zGraphicsURL+'character_silhouette.jpg"');$("#fight_wrapper",V.content).html(bb).find("#fightv2_boost_on, #fightv2_boost_off").click(M.use_boost_click);bc=null}function a2(){$("#ctrlcontainer, #leaderboardmsg",V.content).hide();$("#msgcontainer",V.content).show();$("#fightmsgcontainer",V.content).show();$("#options_wrapper",V.content).hide();$("#opponents_table",V.content).empty();$("#fv2_widget_wrapper",V.content).show();$("#fight_wrapper",V.content).html(Base64.decode("PGRpdiBpZD0id3JhcHBlcl9hdHRhY2tlciIgY2xhc3M9InVzZXJib3giIHN0eWxlPSJmbG9hdDpsZWZ0O3Bvc2l0aW9uOnJlbGF0aXZlOyI+PC9kaXY+CQ0KPGRpdiBpZD0iZmlnaHRfYnRuX3BhbmVsIiBzdHlsZT0iZmxvYXQ6IGxlZnQ7Ij4JDQoJPGRpdiBpZD0iYXR0YWNrZXJfYmVzdF9pdGVtcyIgc3R5bGU9ImZsb2F0OiBsZWZ0OyI+DQoJCTxkaXYgY2xhc3M9InN1YmhkciI+VG9wIEl0ZW1zPC9kaXY+DQoJPC9kaXY+CQ0KCTxkaXYgaWQ9IndyYXBwZXJfYWN0aW9ucyIgc3R5bGU9ImZsb2F0OiBsZWZ0OyI+DQoJCTxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDEwcHg7dGV4dC1hbGlnbjpyaWdodDsgcGFkZGluZy1yaWdodDoxNXB4OyBoZWlnaHQ6IDIwcHg7Ij48L2Rpdj4NCgkJPGRpdiBjbGFzcz0iZnYyX2J0bmNvbnRhaW5lciIgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlOyAiPjwvZGl2PgkJCQ0KCTwvZGl2Pg0KCTxkaXYgaWQ9ImRlZmVuZGVyX2Jlc3RfaXRlbXMiIHN0eWxlPSJmbG9hdDogbGVmdDsiPg0KCQk8ZGl2IGNsYXNzPSJzdWJoZHIiPlRvcCBJdGVtczwvZGl2Pg0KCTwvZGl2PgkJDQoJPGRpdiBzdHlsZT0iY2xlYXI6IGJvdGg7Ij48L2Rpdj4NCjwvZGl2PgkNCjxkaXYgaWQ9IndyYXBwZXJfZGVmZW5kZXIiIGNsYXNzPSJ1c2VyYm94IiBzdHlsZT0iZmxvYXQ6bGVmdDtwb3NpdGlvbjpyZWxhdGl2ZTsiPjwvZGl2Pg0KPGRpdiBzdHlsZT0iY2xlYXI6IGJvdGg7Ij48L2Rpdj4J")).show();
$("#attacker_health",V.content).attr("id","bfatt_health").html(aH.health);$("#attacker_stamina",V.content).attr("id","bfatt_stamina").html(aH.stamina);$("#attacker_max_stamina",V.content).attr("id","bfatt_max_stamina").html(aH.maxStamina);n("events","_list");aV()}function aG(){$("#ctrlcontainer",V.content).show();$("#fightmsgcontainer",V.content).hide();$("#fight_wrapper",V.content).hide();$("#options_wrapper",V.content).show();$("#msgcontainer",V.content).empty().show();$(".fightV2_result",V.content).empty();$("#attacker_boost_used",V.content).empty();n("opponents","_list");al();aN()}function J(bc){var bd=al();var bb=H.current;if(bb&&bb.alive&&bb.hasAtkUrl()){c$("div","fv2_button_row1").appendTo(bd).append(b$("Attack again","class:short red fightV2AttackBtn").click(M.attackAgain_click))}if(ae.attackPwr&&bb&&bb.alive&&bb.hasPwrAtkUrl()){c$("div","fv2_button_row2").appendTo(bd).append(b$("Power Attack","class:short red fightV2AttackBtn").click(M.powerAttack_click))}if(bd.length<2&&!bc&&aH.healthPct<80){c$("div","fv2_button_row3").appendTo(bd).append(b$("Heal","class:short red fightV2AttackBtn").click(M.heal_click))}c$("div","fv2_button_row3").appendTo(bd).append(b$("Run Away","class:fightV2AttackBtn").click(M.runAway_click))}function R(bb,bg){var bh=al();var bf=(H.current&&H.current.fights>0);if(bh.length<1||bh.is(":hidden")){return}var bc=b$("Run Away","class:fightV2AttackBtn").click(M.runAway_click);var bd=b$("Skip","class:short white fightV2AttackBtn").click(M.skip_click);var be=b$("Heal","class:short red fightV2AttackBtn").attr("instantheal",(bg===true)?"1":"0").click(M.autoHeal_click);if(aq.Aborted===true){c$("div","fv2_button_row3").appendTo(bh).append(bc);c$("div","fv2_button_row1").appendTo(bh).append(b$("continue","class:short white fightV2AttackBtn").click(M.continue_click))}else{if(bb!==true){c$("div","fv2_button_row1").appendTo(bh).append(b$("Stop","class:short red fightV2AttackBtn").click(M.stop_click));if(aH.healthPct<80){c$("div","fv2_button_row2").appendTo(bh).append(be)}c$("div","fv2_button_row3").appendTo(bh).append(bf===true?bd:bc)}else{c$("div","fv2_button_row3").appendTo(bh).append(bc)}}}function al(){return $("#wrapper_actions .fv2_btncontainer").empty()}function w(bi){var bk,bb;var bh=false;var bf=H.current;var bc=false;var be=false;if(Util.isSet(bi.fight_result)){if(bi.clanXp&&bi.clanXp.exp_fight){aH.exp_fight=bi.clanXp.exp_fight.xp;aH.exp_fight_max=bi.clanXp.exp_fight.xp_max}bb=bi;if(bb.worstitems){aq.WorstItems=bb.worstitems}}else{if(/fight_controller/.test(bi)||aq.AttackMode===aF.BATTLE){bb=new aI(bi)}else{return{success:a4}}}if(bb.popup&&/levelUpBg/.test(bb.popup)){if(ae.stopByLevelup){$("#popup_fodder").html(bb.popup);be=true;setTimeout(function(){$(".pop_bg, .pop_box","#popup_fodder").show();$(".pop_box","#popup_fodder").css("z-index",1001)},1000)}}if(!(bk=bb.fight_result)){if(bb.inMafia){return{success:ay}}else{return{success:a4}}}function bg(){if(bk.cash_city===aq.CurrentCity){return a6()}return 1}bf.alive=bc=!(bk.defender.was_iced||bk.defender.is_iced||bk.defender.is_killed||bk.defender.iced_self||bk.defender.you_iced);if(bb.fight_wrapper){bh=true;aC.add("foesAttacked",1);bf.requirements(Util.parseJSON(bb.atkbtn_req),Util.parseJSON(bb.poweratkbtn_req));bf.attack_url=bb.atkbtn_boost_off;bf.pwrattack_url=bb.poweratkbtn_boost_off;if(bb.opponent_icon){bf.image=bb.opponent_icon}if(bb.opponent_level){bf.level=Util.parseNum(bb.opponent_level)}}if(bk.status!="ok"){if(bk.status=="failed"){if(Util.isSet(bk.error)){Logger.error("parseAttack: "+bk.error)}}return{success:a4}}if(bk.defender&&bk.defender.mafia_size){bf.mafia=parseInt(bk.defender.mafia_size)}aq.AttackerUsedBoost=bk.use_boost;if(Util.isSet(bk.loot)){v(bk.loot,bg())}if(Util.isSet(bk.socialMessageCards)){v(bk.socialMessageCards,bg())}if(bf.ice_state===0){if(bk.you_just_killed||bk.you_just_iced){if(bk.you_just_killed){bf.ice_state=1;bf.skip("You just killed and got your x2 iced count.")}else{bf.ice_state=2;bf.skip("You just iced and got your ice.")}ak(new ao(bk),bf)}else{if(bk.ice_was_just_stolen){bf.ice_state=3;a8(new aw(bk),bf)}else{if(bk.defender.iced_self){bf.ice_state=4;bf.skip("Has been iced by self.")}else{if(bk.defender.was_iced||bk.defender.is_iced||bk.defender.is_killed){bf.ice_state=5;bf.skip("Already was iced.")}}}}}if(bk.show_ice_season){aH.show_ice_season=bk.show_ice_season}if(bk.ices_so_far){aH.season_ices=bk.ices_so_far}if(bk.ices_target){aH.season_target=bk.ices_target}if(bk.total_ice_count){aH.total_ices=bk.total_ice_count}if(bf.fights==0||!bf.startedHealthPct){bf.startedHealthPct=bk.defender.current_health_pct}bf.exp=bk.experience;bf.won=bk.power_attack.won;bf.lost=bk.power_attack.lost;bf.fights=(bf.lost+bf.won);bf.cashFrom=bk.cash_city;bf.cash=(bk.cash!=""?bk.cash:0);bf.curHealthPct=parseInt(bk.defender.current_health_pct);bf.curOtherDamage=parseInt(bk.defender.other_damage);bf.damage_given+=bk.defender.damage_dealt;if(bf.curOtherDamage<0){bf.startedHealthPct-=bf.curOtherDamage;bf.other_damage=0}else{bf.other_damage+=bf.curOtherDamage
}if(bf.startedHealthPct&&(bf.startedHealthPct>bf.curHealthPct)){var bd=bf.startedHealthPct-bf.curHealthPct-bf.other_damage;var bj=bd/bf.fights;if(bd>0){bf.health=parseInt((bf.damage_given*bf.curHealthPct)/bd)}else{bf.health=0}if(bj>0){bf.attacks_to_ice=Math.ceil(bf.curHealthPct/bj)}else{bf.attacks_to_ice=0}}aH.healthPct=bk.attacker.current_health_pct;if(bk.attacker.other_damage>0){a5("You're under attack!<br>Trying to heal...","help",null,"underattack");aq.ForceHeal=true}if(bk.isWin){ba.reset("loses")}else{if(aq.AttackMode===aF.BATTLE&&ae.redIceEpicBattle===true){if(bc===true&&bf.autoRedIce!==true){bf.autoRedIce=true;a5("You lost but RedIce for EpicBattle is active.","blacklist",bf.image,"redice")}}else{if(ae.redIceActive===true){if(!bh&&bf.attacks_to_ice>=ae.redIceMaxAttk){bf.skip("So many fights for RedIce:"+bf.attacks_to_ice);bc=false}}else{if(bf.won>0&&ae.redIceAfterWon===true){if(bc===true&&bf.autoRedIce!==true){bf.autoRedIce=true;a5("You lost after win "+bf.won+" figths.<br>Red Ice mode temporarily activated for "+bf.anchor(),"blacklist",bf.image,"redice")}}else{if(bf.won<1){if(ae.get("useBlacklist")){if(H.addCurrentToBlackList()){a5('"The beast" '+bf.anchor()+"<br>Too strong!, added to BlackList.","blacklist",bf.image,bf.id);if(bf.fights>0){bf.skip("You lost, blacklisted.")}}}ba.lose()}bc=false}}}}if(bb.fight_wrapper){q(bb.fight_wrapper)}a7(bk,bf);bk=bb=null;return{success:ab,attack_again:bc,levelUp_stop:be}}function t(){var bb=H.current;if(bb.updated!==true){bb.updated=true;F(bb);aC.add("fightCount",bb.lost+bb.won);aC.add("staminaSpend",a6()*bb.fights);aC.add("expGained",bb.exp);aC.add("cash",bb.cash,bb.cashFrom);if(bb.won>0){aC.add("fightWon",bb.won)}if(bb.lost>0){aC.add("fightLost",bb.lost)}if(aq.AttackMode===aF.NORMAL){if(bb.type!==aW.RIVAL){if(bb.fights>1||bb.startedHealthPct>0||bb.ice_state>0){ba.reset("attack")}else{ba.attack()}}}}ac()}function a7(bd,bb){if(!(bd&&bb)){return}a(bb,bd);B(0,bd.attacker.current_health_pct);B(1,bd.defender.current_health_pct);at(bd.attacker.health);aa(bd.attacker.skill_atk,bd.attacker.skill_atk_no_boost,aq.AttackerUsedBoost);an(bd.attacker.stamina,bd.attacker.max_stamina);a3(0,bd.attacker.damage_dealt);a3(1,bd.defender.damage_dealt);L(0,bd.attacker.other_damage);L(1,bd.defender.other_damage);aV(bd.fight_info_div);D(bd.isWin);$("#defender_boost_used, #attacker_boost_used",V.content).hide();if(Util.isSet(bd.attacker.boost_used_tag)&&bd.attacker.boost_used_tag!=""){a0(0,bd.attacker.boost_used_tag)}if(Util.isSet(bd.defender.boost_used_tag)&&bd.defender.boost_used_tag!=""){a0(1,bd.defender.boost_used_tag)}s(bd.boost.total_qty,bd.boost.next,bd.boost.ask_timeout,bd.boost.qty_array);az(bd);if(bd.zombieOn){var bc=$("#attacker_zombie_badge_icon",V.content);bc.html(bd.attacker_zombie_status);aH.currentZombieState=Util.trim($("img",bc).attr("title"))}if(Util.isSet(bd.leaderboard)){if(bd.leaderboard.isOn&&bd.leaderboard.toShow){k(bd.leaderboard.data)}}}function aB(){try{if(unsafeWindow.FightV2){Logger.debug("Killing FightV2 Class.");if(unsafeWindow.CloseJS){unsafeWindow.CloseJS()}unsafeWindow.FightV2=null}}catch(bb){}aQ();H=new h();aq.UserBlackList=new E("blackList");aq.UserWhiteList=new E("whiteList");aq.ClanBlackList=new E("frdClanList");aq.ClanWhiteList=new E("enmClanList");aq.Crew=new b();ba=new O();U=new m();aC=new u();aH.exp_per_sta={toString:aC.expPerSta};aC.load();aT=new Countdown({success:function(){var bc=p();if(bc!==false){a5("AutoTravel will force to fight in "+global.city(bc).name+".","help",null,"autotravel")}},step:function(bd,bc){$("#mass_stat_timetotravel").html(bc)},stop:function(){$("#mass_stat_timetotravel").html(Util.setColor("Inactive","grey"))}});aO=new Countdown({success:function(){aq.Aborted=false;i("Updating...",true);ah(aE);aR()},step:function(bd,bc){$("#msgcontainer").html("Resume AutoFight in: "+bc)}});aY=new Countdown({success:function(){aq.AutoPaused=true;$("#mass_stat_timetopause").html(Util.setColor("Waiting","green"))},step:function(bd,bc){$("#mass_stat_timetopause").html(bc)},stop:function(){$("#mass_stat_timetopause").html(Util.setColor("Inactive","grey"))}});ad=new Countdown({success:function(){if(aq.AttackMode===aF.BATTLE){return}$("#mass_stat_loadrivals").html(Util.setColor("Loading","green"));httpAjaxRequest({url:"remote/"+MW.getIntURL("fight")+"&tab=1",liteLoad:1,success:function(be){var bd,bc=H.load(be);if(bc<1){bd="Rival list successfully loaded:<br>Found "+bc.found+", no rivals added."}else{bd="Rival list successfully loaded:<br>Found "+bc.found+", added "+bc.added+" rivals."}a5(bd,"help",null,"rivals");r()}})},step:function(bd,bc){$("#mass_stat_loadrivals").html(bc)},stop:function(){$("#mass_stat_loadrivals").html(Util.setColor("Inactive","grey"))}});n("items","_logs");aG();i("Loading...",true);httpAjaxRequest({url:"remote/"+MW.getIntURL("survey","show_nps_survey"),success:function(bc){if(V.content.length<1){return}try{c(bc);ac();if($("#inner_page").attr("class")=="fight_controller"){H.load($("#inner_page").html());if(H.length()>0){aj();
i();$("#ctrlcontainer",V.content).show()}else{M.refresh_click()}}else{M.refresh_click()}}catch(bd){i("Error loading stats, please Close and Open again.");return}}});ae.toDomElements();$(".ui-multi-checkbox",V.content).trigger("update");l=new aM();l.load(V.show)}setTimeout(function(){ae.add("travelTo",UserConfig.getSettingFrom(global.cityNames,false));ae.load(function(){showSupportPopup("Battlefield",aB)})},300)}UserConfig.create("bhopt",{userBlackListOn:true,clanBlackListOn:true,userBlackList:{},clanBlackList:{},redBounty:false,healOn:true,healMin:100,deposit:false,delay:60});function BountyHunter(){var d=UserConfig.bhopt;var B=new TimerMessage("#bh_messages");var o={Aborted:false,Paused:false,ReadyToHeal:0,DepositAmount:100000,MaxHealth:(global.User.max_health()-200),ResumeFunction:null,BountyList:null,Tabs:null,BlackList:null,ClanList:null,Expressions:{en_US:[{expr:/You (LOST) the fight along with .([\d,\.]+), taking\s*(\d+) damage and dealing\s*(\d+)/i,fields:["msg","lost","cash","take","deal"],convert:[String,Boolean,Util.parseNum,parseInt,parseInt]},{expr:/You (WON) the fight, taking\s*(\d+) damage and dealing\s*(\d+) damage to your enemy\.\s*You gained\s*.([\d,\.]+) and\s*(\d+) exp/i,fields:["msg","won","take","deal","cash","exp"],convert:[String,Boolean,parseInt,parseInt,Util.parseNum,parseInt]},{expr:/You are too weak to fight/i,fields:["low_health"],convert:[Boolean]},{expr:/This player is currently part of your mafia/i,fields:["in_mafia"],convert:[Boolean]},{expr:/someone else took out/i,fields:["too_late"],convert:[Boolean]},{expr:/have enough stamina to attack anybody on the hitlist/i,fields:["low_stamina"],convert:[Boolean]},{expr:/closer to your level/i,fields:["low_level"],convert:[Boolean]},{expr:/You knocked out/i,fields:["knock_out"],convert:[Boolean]},{expr:/could not be completed\. Please try again/i,fields:["try_again"],convert:[Boolean]}]}};var q={health:0,maxHealth:0,stamina:0,maxStamina:0,expToNextLevel:0,cash:0,city:MW.currentCity()};var i=new PopupObject("bountyhunter_popup",{type:"main",title:"BOUNTY HUNTER",width:700,onclose:function(){o.Aborted=true;httpAjaxStopRequests();B.clear();d.fromDomElements();d.save()}});var w=function(D){var C=this;if((D=e$("table.messages",h$(D)))===null){this.valid=false}else{this.valid=true;this.response=Util.trim(D.text());this.attack_url=D.find("a.sexy_button_new").attr("href");this.vCoins=Util.parseNum(D.find("div:has(img:regex(src,victory_icon))").text())}Util.each(o.Expressions,function(E,G){if(G.expr.test(C.response)){var F=Util.doRgx(G.expr,C.response);Util.each(G.fields,function(H,I){C[I]=G.convert[H](F["$"+H])})}});D=null;return this};var f=function(E){var D=this;function C(H,G){return Util.setAnchor(MW.getProfileLink(H),G)}function F(H,G){return Util.setAnchor(MW.getFamilyLink(H),Util.setColor(G,"red"))}if($(E).is("tr")){this.cash=Util.parseNum($("td:eq(3)",E).text());this.payer={clan:m($("td:eq(2) a:regex(href,xw_controller=clan)",E)),user:m($("td:eq(2) a:regex(href,xw_controller=stats)",E)),anchor:function(){var G="";if(D.payer.clan){G=F(D.payer.clan.id,D.payer.clan.name)+" "}return G+C(D.payer.user.id,D.payer.user.name)}};this.target={badge:$(".fight_badge img",E).attr("src"),clan:m($("td:eq(1) a:regex(href,xw_controller=clan)",E)),user:m($("td:eq(1) a:regex(href,xw_controller=stats)",E)),link:$("a:regex(href,hitlist)",E).attr("href"),anchor:function(){var G="";if(D.target.clan){G=F(D.target.clan.id,D.target.clan.name)+" "}return G+C(D.target.user.id,D.target.user.name)}};this.id=(this.target.clan?this.target.clan.id:"")+this.target.user.id;this.valid=!(o.ClanList.exists(D)||(o.BlackList.exists(D)&&d.redBounty!==true))}else{this.valid=false}E=null;return this};f.prototype.toString=function(){if(this.valid){return'Bounty of <span class="cash">'+Util.formatNum(this.cash)+"</span> to "+this.target.anchor()}else{return"Invalid Bounty"}};var r=function(){var C=[];this.current=null;this.add=function(D){if(D.valid===true){C.push(D)}};this.get=function(D){return(this.current=C.splice(parseInt(D),1).shift())};this.each=function(D){Util.each(C,D)};this.shift=function(){return(this.current=C.shift())};this.clear=function(){C=[]};this.length=function(){return C.length};this.sort=function(){C.sort(function(E,D){return D.cash-E.cash})};return this};var k=function(C){this.toJSON=function(){return Util.toJSON(d.get(C))};this.addID=function(E,D){d.get(C)[E]=D};this.add=function(E){if(!this.exists(E)){try{Logger.debug("Adding To BlackList:"+E.target.user.id);d.get(C)[E.target.user.id]=E.target.user.name;d.save()}catch(D){Logger.debug("CSBlackList.add: "+D.message)}}};this.exists=function(E){try{return Util.isString(d.get(C)[E.target.user.id])}catch(D){return false}};this.each=function(D){Util.each(d.get(C),D)};this.remove=function(D){if(Util.isSet(D)&&d.get(C)){if(Util.isArray(D)){Util.each(D,function(E,F){delete d.get(C)[F]})}else{delete d.get(C)[D]}}};this.clear=function(D){d.set(C,{});d.save(D)};this.length=function(){return Util.length(d.get(C))};this.toArray=function(){var D=[];
if(Util.length(d.get(C))>0){Util.each(d.get(C),function(F,E){if(parseInt(F)&&Util.isString(E)){}D.push({id:F,name:E})})}return D};return this};var p={list_click:function(){var F=Util.parseJSON($(this).attr("event-data"));var D=$("#bhopt_"+F.i+"blacklist");var C=F.i=="user"?o.BlackList:o.ClanList;if($("option",D).length<1){if(F.e!="import"){return false}}switch(F.e){case"clear":D.empty();d.fromDomElements();d.save();break;case"export":d.fromDomElements();if(C.length()<1){return false}FileSystem.fileSave("data:application/json;base64,"+Base64.encode(C.toJSON()));break;case"import":c$("input:file","name:files[]").css({position:"absolute",width:1,left:"-100px",opacity:0}).appendTo("body").change(function(G){$(this).remove();if(!G.target.files){return}FileSystem.fileReader(G.target.files,function(I){try{Util.each(Util.parseJSON(I),function(K,J){if(parseInt(K)){C.addID(K,J)}});d.toDomElements();d.save();showHelpPopup({icon:"info",title:"Import List",message:"List imported successfully."})}catch(H){Logger.error(H)}})}).click();break;case"remove":var E=[];$("option:selected",D).each(function(G,H){E.push(H.value)});if(E.length>0){C.remove(E);d.toDomElements();d.save()}break}return false},attack_click:t(function(){var C=o.BountyList.get($(this).attr("target"));if(C){o.Aborted=false;o.Tabs.showTab(2);o.Tabs.buttonEnabled(0,false);u("stop_hunting");h(C,function(D){a();if(D){l(D)}})}return false}),refresh_click:t(function(){$("#main_controls a").addClass("disabled");$(".bh_hitlist .bounty_attack a").unbind().addClass("disabled");g("Loading Hitlist...",true);c(function(){o.Tabs.showTab(0,false);$("#main_controls a").removeClass("disabled")})}),start_click:t(function(){u("stop_hunting");o.Aborted=false;o.Tabs.showTab(2);o.Tabs.buttonEnabled(0,false);j();return false}),stop_click:t(function(){var C=$("#attack_messages").html();if(C){b(C+'<span style="color:grey;float:right;">&nbsp;CANCELLED&nbsp;</span>',"info");$("#attack_messages").empty()}a();return false})};function t(C){return function(){var D=$(this);if(!D.hasClass("disabled")){C.apply(this)}return false}}function u(C){var D=new RegExp(C,"i");$("#main_controls a").each(function(E,F){$(F)[D.test(F.id)?"show":"hide"]()})}function m(C){var D=C.attr("href");var F=Util.uSplit(D);var G=F.id||F.user;try{if(G){G=Base64.decode(G)}}catch(E){}return{id:Util.parseNum(G||""),name:Util.trim(C.text()),url:D}}function x(C){$("#attack_messages").hide().html(C).fadeIn()}function g(D,C){$("#bh_messages").css("padding-left",(C===true?20:0)).toggleClass("mwa_res_ajax_loader_gif",C===true).html(D)}function b(C,F,G){var D=i.content.find("#content_wrapper .bh_log");var E=Util.setColor("["+(new Date()).toLocaleTimeString()+"]","grey");if(!Util.isSet(F)||F=="info"){F="mwa_res_info_icon_png"}else{F="mwa_res_ajax_error_png"}if(!G){c$("li","class:"+F).prependTo(D).html(E+"  "+C)}else{(e$("#"+G,D)||c$("li","class:"+F+",id:"+G)).prependTo(D).html(E+"  "+C)}}function c(D,C){httpAjaxRequest({url:"remote/"+MW.getIntURL("hitlist","view",1),liteLoad:1,message:C,success:function(E){v(E);l(E);D&&D()}})}function l(C){o.BountyList.clear();h$(C).find("table.hit_list tr:has(a:regex(href,hitlist))").each(function(D,E){var F=new f(E);if(F.valid){o.BountyList.add(F)}});o.BountyList.sort();b("Found "+o.BountyList.length()+" bounties.");g("Found "+o.BountyList.length()+" bounties.");y()}function y(){var C=$("#content_wrapper .bh_hitlist").empty();o.BountyList.each(function(D,E){c$("li").css("background",'url("'+E.target.badge+'") 0px 50% no-repeat').append(c$("div","class:bounty_user").html(E.target.anchor())).append(c$("div","class:bounty_user").html(E.payer.anchor())).append(c$("div","class:bounty_cash cash").html(Util.formatNum(E.cash))).append(c$("div","class:bounty_attack").append(b$("Hunt!","target:"+D+",class:short red").click(p.attack_click))).appendTo(C)})}function v(E){var C;try{if(E.user_fields){C=E.user_fields}else{C=MW.update(E)}q.city=parseInt(C.current_city_id);q.cash=parseInt(C.user_cash);q.health=parseInt(C.user_health);q.maxHealth=parseInt(C.user_max_health);q.stamina=parseInt(C.user_stamina);q.maxStamina=parseInt(C.user_max_stamina);q.expToNextLevel=parseInt(C.exp_to_next_level)}catch(D){}}function z(E){if(o.Aborted===true||!Util.isFunc(E)){return}var D=4;function C(){D--;if(D>0){g("Healing at "+global.city(1).name+"...",true);httpAjaxRequest({url:"remote/"+MW.getIntURL("hospital","heal")+"&xcity=1",success:function(F){try{v(F);if(q.health<q.maxHealth-100){B.start(F.hospital_message+" try again in %N% seconds.",5,C)}else{MW.getWaitHealTimer(function(H){if(!isNaN(H)){Logger.debug("ReadyToHeal set to: "+H+" secs.");o.ReadyToHeal=(new Date()).getTime()+(parseInt(H)*1000)}});E(true,F.hospital_message)}}catch(G){B.start("Error healing. Try again in %N% seconds.",5,C)}}})}else{E(false,"Error healing: so many retries.")}}C()}function A(D,C){if(q.city==1&&d.deposit&&(q.cash>o.DepositAmount||C)){g('Depositing <span class="cash">'+Util.formatNum(q.cash)+"</span> Cash...",true);MW.deposit(1,q.cash,function(F,E){if(E){v(E);
b(F,"info")}else{b(F,"error")}D()})}else{D()}}function j(){if(o.Aborted===true){return}if(o.BountyList.length()<1){g("No bounties left...");B.start("No bounties left, reload in %N%...",d.delay,function(){c(j)});return}var C=o.BountyList.shift();if(C.valid!==true){j();return}h(C,function(){if(o.Paused===true){g("Hunting Paused...");o.ResumeFunction=j}else{setTimeout(j,1000)}})}function h(I,H){if(o.Paused===true){g("Hunting Paused...");o.ResumeFunction=function(){h(I,H)};return}var D='<span style="color:green;font-weight:bold;">YOU WON!</span>&nbsp;&nbsp;&nbsp;<span class="attack">${deal}</span>&nbsp;<span class="defense" style="color:red;">${take}</span>&nbsp;&nbsp;&nbsp;<span class="experience">${expe}</span>&nbsp;&nbsp;&nbsp;<span class="cash">${format_cash}</span>&nbsp;&nbsp;&nbsp;<span class="victory">${vcns}</span>';var G='<span style="color:red;font-weight:bold;">YOU LOST!</span>&nbsp;&nbsp;&nbsp;<span class="attack">${deal}</span>&nbsp;<span class="defense" style="color:red;">${take}</span>&nbsp;&nbsp;&nbsp;<span class="cash" style="color:red;">${format_cash}</span>';var F={user:null,expe:0,cash:0,vcns:0,deal:0,take:0,format_cash:""};o.DepositAmount=Math.max(o.DepositAmount,1000);d.healMin=Math.min(Math.max(d.healMin,20),o.MaxHealth);if(I&&I.target&&I.target.link){b("Hunting "+I);F.user=I.target.anchor();E()}else{H()}function E(){if(o.Aborted===true){return}if(o.Paused===true){g("Hunting Paused...");o.ResumeFunction=E;return}if(q.city!==1){g("Traveling to "+global.city(1).name,true);httpAjaxRequest({url:"remote/"+MW.getIntURL("travel","travel")+"&destination=1&from=hitlist&zone=1",success:function(J){o.BountyList.clear();v(J);l(J);E()}});return}g("Attacking to "+I.target.anchor(),true);httpAjaxRequest({url:I.target.link,liteLoad:1,success:C})}function C(M){if(o.Aborted===true){return}var L=new w(M);var J=true;var K=L.response;v(M);if(L.attack_url){I.target.link=L.attack_url}else{J=false}if(L.low_stamina){a();return}if(d.healOn&&q.health<d.healMin){if(d.healOn){z(function(O,N){b(N);if(O===true){E()}else{a()}})}return}else{if(L.low_health){B.start("Health so low... check again in %N%",d.delay,function(){o.BountyList.clear();c(E)});return}}if(L.won){F.vcns+=L.vCoins;F.expe+=(L.exp||0);F.cash+=(L.cash||0);F.deal+=(L.deal||0);F.take+=(L.take||0);F.format_cash=Util.formatNum(F.cash);x(K=Util.render(D,F))}else{if(L.lost){o.BlackList.add(I);F.cash-=(L.cash||0);F.deal+=(L.deal||0);F.take+=(L.take||0);F.format_cash=Util.formatNum(F.cash);x(K=Util.render(G,F));J=(d.redBounty===true)}else{if(L.too_late){b($("#attack_messages").html(),"info");J=false}else{if(L.valid!==true){J=false;K="Bad luck... someone else took out the bounty."}else{J=(L.try_again===true)}}}}if(L.knock_out){b(K,"info");J=false;F.earned_cash=Util.formatNum(I.cash);K=Util.render('You knocked out ${user} and earned <span class="cash">${earned_cash}</span>',F)}if(L.in_mafia){J=false;K=Util.render("${user} is in your mafia.",F);o.BlackList.add(I)}if(J===true){if(L.lost&&L.cash&&L.cash>0){A(E,true)}else{E()}}else{$("#attack_messages").empty();b(K,"info");A(function(){H(M)})}}}function a(){o.Tabs.buttonEnabled(0,o.Aborted=true);g("Hunting Stopped.");httpAjaxStopRequests();B.clear();d.toDomElements();d.save();u("refresh_hitlist|start_hunting")}function s(){var D=i.content.css({padding:"0px 5px","text-align":"left"});c$("div","id:main_controls").appendTo(c$("div","id:main_panel").append(c$("span","id:bh_messages")).appendTo(D)).append(b$("Refresh","id:refresh_hitlist,class:short orange").click(p.refresh_click)).append(b$("Hunt'em","id:start_hunting,class:short green").click(p.start_click)).append(b$("Take A Rest","id:stop_hunting,class:short red").hide().click(p.stop_click));o.Tabs=new TabObject({id:"content_wrapper",appendTo:D,height:400,padding:5,tabs:[{label:"Bounty List",onclick:y},{label:"Settings",onclick:function(){Logger.debug("Hunting will be Paused.");o.Paused=true;d.toDomElements()}},{label:"Hunting Log",onclick:function(){Logger.debug("Hunting will be Resumed.");o.Paused=false;d.fromDomElements();if(Util.isFunc(o.ResumeFunction)){o.ResumeFunction();o.ResumeFunction=null}}}]});o.Tabs.header.attr("id","attack_messages").css({width:380,"text-align":"center"});c$("ul","class:bh_hitlist").appendTo(o.Tabs.content[0]);c$("ul","class:bh_log").appendTo(o.Tabs.content[2]);E().appendTo(o.Tabs.content[1]);function C(G){var F=c$("div","class:ui-right");Util.each(G,function(H,J){var I=Util.toJSON({i:J,e:H});F.append(b$(H,false,true).attr("event-data",I).click(p.list_click))});return F}function E(){var F=c$("div").append(x$("bhopt_deposit","Desposit Cash.")).append(x$("bhopt_healon","Heal when:")).append(n$("bhopt_healmin",40)).append(x$("bhopt_redbounty","BloodHunting.")).append(n$("bhopt_delay","Delay",40)).append(c$("div","class:ui-line"));c$("div","class:ui-blacklist ui-left").appendTo(F).append(c$("div","class:ui-top").append(x$("bhopt_userblackliston","User Blacklist:")).append(C({"import":"user","export":"user",remove:"user",clear:"user"}))).append(c$("select","id:bhopt_userblacklist,multiple:multiple"));
c$("div","class:ui-blacklist ui-right").appendTo(F).append(c$("div","class:ui-top").append(x$("bhopt_clanblackliston","Clan Blacklist:")).append(C({"import":"clan","export":"clan",remove:"clan",clear:"clan"}))).append(c$("select","id:bhopt_clanblacklist,multiple:multiple"));return F}}function n(){if((o.Expressions=o.Expressions[global.User.locale()])){o.BountyList=new r();o.BlackList=new k("userBlackList");o.ClanList=new k("clanBlackList");if(UserConfig.main.autoDeposit[1]){o.DepositAmount=UserConfig.main.autoDeposit[1].amount}s();d.toDomElements();c(i.show,"Loading Hitlist...")}else{i.destroy();showHelpPopup({icon:"error",message:"Bounty Hunter can't work with the current game language."})}}d.load(function(){showSupportPopup("BountyHunter",n)})}UserConfig.create("caopt",{});function CollectAllCities(){var h={aborted:false,options:UserConfig.caopt,user:global.User,countdowns:{},cityData:null};var k={expand:function(){$("#list-cities .expanded",d.content).removeClass("expanded");$(this).parent().addClass("expanded");return false},collect:function(){var u=$(this).attr("city");var v=$(".city-content[city="+u+"]",d.content);if(Util.disableButton(this)!==true){c(false);v.addClass("collecting");l(u,$(this).attr("filter"),function(){v.removeClass("collecting");c(true)})}return false},collectAll:function(){var u=$(this).attr("city");var v=$(".city-content[city="+u+"]",d.content);if(Util.disableButton(this)!==true){c(false);h.options.fromDomElements();h.options.save();v.addClass("collecting");j($(this).attr("city"),function(){v.removeClass("collecting");c(true)})}return false},collectAllCities:function(){var u=$(this);if(Util.disableButton(this)!==true){c(false);h.options.fromDomElements();h.options.save();g(function(){u.removeClass("disabled")})}return false},upgrade:function(){if(Util.disableButton(this)){return false}var x=$(this).attr("city");var w=$(this).attr("filter");var v={3:4,4:5,5:1,6:4,7:5};var u="remote/"+MW.getIntURL("propertyV2","buy");u+="&city="+x+"&building_type="+v[w];c(false);q(x,u,a);return false}};var d=new PopupObject("collectall_popup",{type:"main",title:"COLLECT ALL CITIES",width:690,center:false,onclose:function(){h.aborted=true;httpAjaxStopRequests();h.options.fromDomElements();h.options.save();o();Util.each(h.countdowns,function(u,v){v.clear()})},buttons:[{label:"Collect All Cities!",addClass:"short white",onclick:k.collectAllCities}]});function c(u){if(u===true){$("#collectall_popup a").removeClass("disabled")}else{$("#collectall_popup a").addClass("disabled")}}function i(v,u){if(!Util.isSet(h.countdowns[v])){h.countdowns[v]=new Countdown({id:v,selector:"#collectall_popup #"+v,delay:0,success:a})}h.countdowns[v].start(u)}function m(){var u=$("#list-cities .expanded",d.content).attr("city");var v=c$("ul","id:list-cities");Util.each(h.cityData,function(D,z){var C=c$("li","class:city-content,city:"+D).appendTo(v);var B=c$("div","class:city-name").text(z.name);var x="countdown-"+D;var w=c$("div","id:collect-all").appendTo(C);if(z.timeLeft&&z.timeLeft>0){c$("span","id:"+x).appendTo(w);i(x,z.timeLeft)}else{if(h.countdowns[x]){h.countdowns[x].clear()}b$("Collect All","class:short green,city:"+D).appendTo(w).click(k.collectAll)}var y=c$("div","class:city-taskmaster").appendTo(C);if(global.city(D).hasCrew){y.append(x$("caopt_crew"+D+"_taskmaster","Taskmaster"));y.append(x$("caopt_crew"+D+"_guardian","Guardian"));if(!Util.isObject(h.options["crew"+D])){h.options.add("crew"+D,{taskmaster:false,guardian:false})}}c$("div","id:ajax-loader-"+D+",class:city-ajax mwa_res_ajax_loader_gif").appendTo(C).text("Collecting...");c$("div","class:city-name").appendTo(C).text(z.name).click(k.expand);var A=c$("ul","class:city-items").appendTo(C);Util.each(z.items,function(E,F){var I=c$("div","class:action");var H=c$("li","class:city-item-"+E).appendTo(A);var G="countdown-"+D+"-"+E;c$("div","class:name "+F.icon).appendTo(H).text(F.name);c$("div","class:amount").appendTo(H).text(F.amount);if(F.timeLeft&&F.timeLeft>0){I.append(c$("span","id:"+G));i(G,F.timeLeft)}else{if(h.countdowns[G]){h.countdowns[G].clear()}if(F.collect){I.append(c$("a","city:"+D+",filter:"+E).text("collect").click(k.collect))}else{if(F.upgrade){I.append(c$("a","city:"+D+",filter:"+E).text("upgrade").click(k.upgrade))}}}H.append(I)})});$("#list-cities",d.content).replaceWith(v);$("li[city="+(u||1)+"]",v).addClass("expanded")}function n(){c$("ul","id:list-cities").appendTo(d.content);c$("ul","id:messagelogger").appendTo(d.content)}function b(x,v,u){var w=Util.setColor("["+(new Date()).toLocaleTimeString()+"] ","grey");var y=x?Util.setColor(global.city(x).name+": ","gold"):"";var z=(u==="error")?Resources.getPicture("ajax_error_png","li"):Resources.getPicture("info_icon_png","li");if(u!=="error"){v=Util.setColor(v,"#E1E1E1")}else{v=Util.setColor(v,"red")}z.prependTo("#messagelogger").append(c$("p").html(w+y+v))}function q(v,u,w){httpAjaxRequest({url:u,liteLoad:1,success:function(x){var y=Util.parseJSON(x.data);b(v,y.purchase_message||y.success_message||y.result);
w&&w()}})}function r(x,v,w){var u=UserConfig.main.autoDeposit[x];if(u.active===true&&Number(v)>u.amount){MW.travel(x,function(){MW.deposit(x,v,function(y){b(x,y);w&&w()})})}else{w&&w()}}function l(v,u,x){var w=global.city(v);MW.collect(v,function(y){b(v,y.message||"Unknow response.",(y.success?"info":"error"));t(y.data);r(v,y.cash,x)},Number(u))}function t(v){var w=$(".city-content[city="+v.cityId+"]",d.content);var u="countdown-"+v.cityId;if(v.canCollectAll!==true){$("#collect-all",w).empty().append(c$("span","id:"+u));i(u,v.timeToCollectAll)}Util.each(v.timeToNextCollect,function(B,y){var x=$(".city-item-"+B,w);var A=$(".action",x).empty();var z="countdown-"+v.cityId+"-"+B;if(y.timeLeft!==true&&y.timeLeft>0){$(".amount",x).text("-");A.append(c$("span","id:"+z));i(z,y.timeLeft)}else{A.append(c$("a","city:"+v.cityId+",filter:"+B).text("collect").click(k.collect))}})}function j(u,D,x){var z=global.city(u);var A=$("#"+u,d.content);var v=h.cityData[u];var y=false;var B=h.options["crew"+u]||{};function C(){MW.collect(u,function(E){if(E){if(Util.isArray(E.messages)){Util.each(E.messages,function(F,G){b(u,G)})}else{b(u,E.message,(E.success?"info":"error"))}t(E.data);w(2,function(){r(u,E.cash,D)})}else{D&&D()}})}function w(G,F){var E=(G===1?"Taskmaster":"Guardian");if((G===1&&B.taskmaster===true)||(G===2&&B.guardian===true)){MW.activateCityCrew(u,"prop",G,function(I,H){if(I){b(u,E+" activated.")}else{b(u,E+" -> "+H,"error")}F()})}else{F()}}if(z.hasCrew===true){w(1,C)}else{C()}}function g(v){var u=new Collection(h.cityData);u.onMove(function(z,x,w){if(h.aborted){return}if(w.timeLeft&&w.timeLeft>0){u.MoveNext();return}var y=$(".city-content[city="+x+"]",d.content);y.addClass("collecting");j(x,function(){y.removeClass("collecting");u.MoveNext()},false)});u.onEnd(function(){$(".city-content.collecting",d.content).removeClass("collecting");b(null,"All work done!");a(v)});u.MoveFirst()}function o(){var v=Reminders.get("notf7413fa832416a11db2e8c328");var u=0;if(v.id){Util.each(h.cityData,function(x,w){if(!w.timeLeft||w.timeLeft<10){u=0;return false}else{if(u<1||u>w.timeLeft){u=w.timeLeft}}});if(u>0){v.timeout=(new Date()).getTime()+(u*1000)}else{v.timeout=0}Reminders.save()}}function s(z){var u=h$(z);var y={};var x={};var w=function(A){if(A.id){return Util.doRgx(/propv2-collectall-(\d)/i,A.id).$1}};var v=function(A){if(A){A=A.replace("reward-icon","")}return A?Util.trim(A):""};u.find("script:regex(text,propv2-collect-)").each(function(A,B){var C=new Function(String($(B).text()).replace("CountdownController.addCountdown","return "));try{C=C();if(C&&C.id){y[C.id]=C}}catch(B){}});u.find("#propv2-hp-cont-coll > li").each(function(B,C){var A=$(".city-name",C).text();var D=Util.doRgx(/propv2-coll-(\w+)/i,$(".city-name",C).attr("id")).$1;var E=w($("span[id^=propv2-collectall]",C).get(0));if(E&&A){x[E]={name_id:D,name:A,items:{}};if(Util.isSet(y["propv2-collect-"+E+"-timer"])){x[E].timeLeft=y["propv2-collect-"+E+"-timer"].time_left}$(".city-collect-items > li",C).each(function(G,J){var F=Util.doRgx(/propv2-coll-\d-(\d|\w+)/i,J.id).$1;var I=Util.toUrl($(".action > a",J));I=Util.doRgx(/xw_action=(collectAll|travel)/,I).$1;if(F){var H={icon:v($(".reward-icon",J).attr("class")),name:$(".name-label",J).text(),amount:$(".amount",J).text()};if(I=="collectAll"){H.collect=true}else{if(I=="travel"){H.upgrade=true}}if(Util.isSet(y["propv2-collect-"+E+"-"+F+"-timer"])){H.timeLeft=y["propv2-collect-"+E+"-"+F+"-timer"].time_left}x[E].items[F]=H}})}});h.cityData=x}function p(u){httpAjaxRequest({url:"remote/"+MW.getIntURL("module","reloadModule")+"&module=PropertiesV2Module&width=450&height=500&position=1",liteLoad:1,success:u})}function a(u){c(false);p(function(v){s(v);m();h.options.toDomElements();u&&u()})}function f(){loadingScreen("Loading...");p(function(u){if(!u){d.destroy();showHelpPopup({icon:"error",title:"Cant get Mafia info!",message:"Please, try again.<br>If still not working reload the game."});return}s(u);n();m();h.options.toDomElements();loadingScreen();d.show()})}h.options.load(function(){showSupportPopup("CollectAllCities",f)})}function Configuration(){var l,o=UserConfig.main;var a=[{id:"opt_Toolbar",label:"Show MWAddon Toolbar."},{id:"opt_ChromeBM",label:"Add Chrome bookmarks to the Bookmarks menu (if available).",padleft:25},{id:"opt_Community",label:"Show MWAddon Community News."},{id:"opt_CommunityLimit",label:"Community News Limit:",numeric:true,padleft:25},{id:"opt_JobRates",label:"Modify jobs stats to show energy/stamita ratios."},{id:"opt_CollectionPage",label:"Modify Collection Page to use Multi Gifter popup for send gifts."},{id:"opt_ProfilePage",label:"Modify User's Profiles to add new actions."},{id:"opt_FamilyPage",label:"Modify Family's Pages to add new actions."},{id:"opt_WarPage",label:"Modify War Page to add new buttons."},{id:"opt_FightPage",label:"Modify Fight Page to add new actions."},{id:"opt_ArenaMarketPage",label:"Modify Arena Marketplace for bulk builder."}];var g=new PopupObject("config_popup",{type:"main",title:"CONFIGURATION",width:650,center:false,buttons:[{label:"Save configuration"}],onclose:i});
var m={uploadTooltips:function(){j();return false},tooltipEditor:function(){g.close();if(Tooltips.EditMode!==true){Tooltips.EditMode=true;showHelpPopup({icon:"info",title:"Tooltips Edition Mode",message:"Tooltip Edit Mode has been activated.<br>Now every time you move your mouse over a control that can contains a tooltip, a edit box will appear where you can click to edit/add the tooltip.",buttons:[{label:"Accept",addClass:"short white"}]})}else{Tooltips.EditMode=false;showHelpPopup({icon:"info",title:"Tooltips Edition Mode",message:"Tooltip Edit Mode has been deactivated.",buttons:[{label:"Accept",addClass:"short white"}]})}return false},givepermissions_click:function(){var p="read_stream,publish_stream,user_groups,user_likes,offline_access,read_friendlists";facebook.requestPermission(p,function(q){Logger.debug("Give All Permissions: "+q)});return false},savelogin_click:function(){var q=$("#short_service_login"),p=o.shortServiceLogin;p[$("#login_name_text",q).text()]=$("#login_name",q).val();p[$("#login_key_text",q).text()]=$("#login_key",q).val();o.save(h)},refreshgroups_click:function(){var p=$(this);if(!p.hasClass("disabled")){p.addClass("disabled");global.Groups.refresh(function(){global.Groups.addToSelect("#groups_list",0);p.removeClass("disabled")})}return false},removegroup_click:function(){var p=$(this);if(p.hasClass("disabled")){return false}p.addClass("disabled");$("option:selected","#groups_list").each(function(q,r){if(parseInt(r.value)!==0){delete o.groups[r.value]}});o.save(function(){global.Groups.addToSelect("#groups_list",0);p.removeClass("disabled")});return false},services_change:function(){var q=$("#short_service_info",g.content),r=$("#short_service_login",g.content),s=o.shortServiceLogin,p=URLServices.shorten[this.value];if(Util.isSet(p)){if(p.login){r.show();q.hide();$("p",r).html(p.description);$("#login_name_text",r).html(p.login.name);$("#login_key_text",r).html(p.login.key);$("#login_name",r).val(s[p.login.name]||"");$("#login_key",r).val(s[p.login.key]||"")}else{r.hide();q.html(p.description).show()}}else{if(Util.isSet(p=URLServices.unshorten[this.value])){$("#unshort_service_info").html(p.description)}}return false},import_click:function(){$("#import_settings").click();return false},export_click:function(){d(function(p){FileSystem.fileSave(p)});return true},privacy_change:function(){var p=this;var r=o.privacy;var q=$("#friendlists",g.content);if(this.options[this.selectedIndex].value!="CUSTOM"){q.hide();return false}facebook.needAppPermission("read_friendlists",function(s){if(!s){p.selectedIndex=1;return}facebook.friendlist(function(t){if(!t||t.error_code||t.data.length<1){showHelpPopup({icon:"error",title:"friendlist length",message:"Seem that you haven't friendlists."});return}q.empty();Util.each(t.data,function(u,w){var v=c$("option","value:"+w.id).text(w.name);q.append(v);if(r&&r.allow==w.id){v.attr("selected","selected")}});q.show()})});return false},language_change:function(){var q,p=this.options[this.selectedIndex].value;if(p==="none"){p=global.mw_locale}if(Tooltips.resourceExists(p)){q=Tooltips.getResource(p).description}else{if(Util.isSet(Tooltips.remoteFiles[p])){q=Tooltips.remoteFiles[p].description}}if(q){o.toolTipLanguage=p;$("#language_description",g.content).empty().append(c$("p").css("color","green").text("Description:")).append(c$("div").html(q.replace(/\n/g,"<br>")))}else{$("#language_description",g.content).empty()}return false}};function n(p){if(!p.target.files){return}FileSystem.fileReader(p.target.files,function(r){try{g.destroy();Util.each(Util.parseJSON(r),function(s,t){if(!Util.isSet(UserConfig[s])){return}UserConfig[s].load(function(){UserConfig[s].fromObject(t);UserConfig[s].save()})});showHelpPopup({icon:"info",title:"Import Setting",message:"File Settings imported successfully.",buttons:[{label:"Accept",addClass:"medium white",onclick:Configuration}]})}catch(q){Logger.error(q)}})}function h(){showHelpPopup({icon:"info",title:"Login Saved",message:"Your login information has been saved successfully."})}function d(r){var q={};var p=new Collection(UserConfig);p.onMove(function(v,t,u){if(u._isConfigObject!==true){p.MoveNext();return}var s=Util.isArray(u._excludedToExport)?new RegExp(u._excludedToExport.join("|"),"i"):false;u.load(function(){q[t]={};u.each(function(w,x){if(s===false||!s.test(w)){q[t][w]=x}});p.MoveNext()})});p.onEnd(function(){r(Util.toJSON(q,true))});i(p.MoveFirst)}function c(){return c$("input:file","id:import_settings,name:files[]").css({position:"absolute",width:1,left:"-100px",opacity:0}).change(n)}function i(r){var p=$("option:selected","#privacy").val();if(p!=="CUSTOM"){o.set("privacy",{value:p})}else{o.set("privacy",{value:p,friends:"SOME_FRIENDS",allow:$("option:selected","#friendlists").val()})}o.fromDomElements();o.save(r);if(o.toolTips===true){var q=k();if(!Tooltips.resourceExists(q)){if(Util.isSet(Tooltips.remoteFiles[q])){Tooltips.getRemoteResource(Tooltips.remoteFiles[q].filename)}}}}function k(){var p=$("#main_tooltiplanguage").val();
if(p==="none"){return global.mw_locale}else{return p}}function b(u){var s=Tooltips.getLocalizedResource();var p=c$("div").css("text-align","left");var r=c$("div","class:config_wrapper");function q(w,v){return c$("fieldset").append(c$("legend").text(w)).append(v)}var t=k();c$("style").text(Resources.get("tooltip_upload_css")).appendTo(p);q("Language:",c$("input:text","id:field_language")).appendTo(r);q("Description:",c$("textarea","id:field_description").height(120)).appendTo(r);r.appendTo(p);$("#field_language",p).val(t);$("#field_description",p).val(s.description);showMiniPopup({id:"uploadtooltip",parent:g.content,content:p,tooltips:false,title:"Upload Tooltip File",accept:function(){u({loc:$("#field_language",p).val(),description:$("#field_description",p).val()})}})}function j(){var p=Tooltips.getLocalizedResource();b(function(r){var q={sign:global.USER_ID,loc:r.loc,description:r.description,content:Util.toJSON(p.content)};loadingScreen("Uploading file...");httpXDRequest({method:"POST",url:"http://mwaddon.com/tooltips/upload.php",data:$.param(q),onload:function(s){loadingScreen();if(s.responseText=="OK"){showHelpPopup({icon:"info",title:"Upload File",message:"File successfully uploaded."});Tooltips.getServerLanguages(function(){var t=$("#main_tooltiplanguage").empty();g.applyOptions({main_tooltiplanguage:Tooltips.toArray()});t.val(Tooltips.getCurrentLanguage()).change();Tooltips.updateLocalFileTimeStamp()})}else{showHelpPopup({icon:"error",title:"Upload File",message:"There was an error: "+(s.responseText.length<100?Util.formatText(s.responseText):"unknow")})}}})})}function f(){c$("div").appendTo(g.header).html("Version: "+AppInfo.version).css({"font-family":"Arial","font-size":14,"font-weight":"bold",opacity:"0.5",position:"absolute",top:50,right:15});g.content.css("padding","10px 30px");var q,p=new TabObject({id:"config_tabs",appendTo:g.content,padding:20,height:300,tabs:["General","Features","Auto Actions","Services","Publish","Tooltips"]});q=p.getLayout(0).append(c$("span").text("You need to give ")).append(b$("All required Permission","id:give_all_permissions",true).click(m.givepermissions_click)).append(c$("span").text(" to Mafia Wars.")).append(c$("div").css({clear:"both","margin-top":5})).append(x$("main_helpNotes","Add the Help Notes menu at Startup.")).append(c$("div").css({clear:"both","margin-top":5})).append(x$("main_publishPreview","Use Facebook user interface (UI).")).append(c$("div").css({clear:"both","margin-top":5})).append(x$("main_debugMode","Debug Mode, (CTRL + SHIFT + J to open debug window).")).append(c$("div").css({clear:"both",margin:"10px 0px 10px 0px","border-bottom":"1px solid #333"})).append(c$("div").append(n$("main_fbtimeout","Facebook Requests Timeout (sec):",50)).css({"padding-right":200,"text-align":"right"})).append(c$("div").css({clear:"both","margin-top":5})).append(c$("div").append(n$("main_rqtimeout","MafiaWars Requests Timeout (sec):",50)).css({"padding-right":200,"text-align":"right"})).append(c$("div").css({clear:"both","margin-top":5})).append(c$("div").append(n$("main_jstimeout","JSON Services Timeout (sec):",50)).css({"padding-right":200,"text-align":"right"})).append(c$("div").css({clear:"both",margin:"10px 0px 10px 0px","border-bottom":"1px solid #333"}));c$("center").appendTo(q).css("margin-top",20).append(c()).append(b$("Import settings","class:medium orange").css("margin-right",5).click(m.import_click)).append(b$("Export settings","id:export_settings,class:medium orange").click(m.export_click)).append(c$("div").css({clear:"both","margin-top":5}));q=p.getLayout(1);Util.each(a,function(r,t){var s;if(t.numeric!=true){s=x$("main_"+t.id,t.label).appendTo(q)}else{s=n$("main_"+t.id,t.label,50).appendTo(q)}if(t.padleft){s.css("margin-left",t.padleft)}c$("div").css({clear:"both","margin-top":6}).appendTo(q)});q=p.getLayout(2);x$("main_autoheal","Auto heal,").css("width",150).appendTo(q);n$("main_autohealwhen","when health goes below:",60).appendTo(q);c$("span").text(" In: ").appendTo(q);s$("main_autohealin",120).appendTo(q);c$("p").text("Autodeposit in:").appendTo(q);q=c$("ul").appendTo(q).css("list-style-type","none");global.cities.each(function(r,s){var t="main_autodeposit_"+r;c$("li","id:"+t).appendTo(q).height(25).append(x$(t+"_active",s.name,"div").css({"float":"left",width:100})).append(t$(t+"_amount"," When cash is more than: ",150))});q=p.getLayout(3).append(c$("div").text("Select the shortener service:")).append(s$("main_shortserviceid",548).change(m.services_change)).append(c$("div","id:short_service_info").css({"margin-top":5,"min-height":100})).append(c$("div","id:short_service_login").css({"margin-top":5,"min-height":100}).hide()).append(c$("div").css({"border-top":"1px solid #333","padding-top":5}).text("Select the unshortener service:")).append(s$("main_unshortserviceid",548).change(m.services_change)).append(c$("div","id:unshort_service_info").css({"margin-top":5,"min-height":100}));q=$("#short_service_login");b$("Save Login","class:medium white").click(m.savelogin_click).css("float","right").appendTo(q);
c$("div").css("float","left").width(420).appendTo(q).append(c$("p").css("margin","2px 0px 2px 0px")).append(c$("span","id:login_name_text").css("color","green")).append(c$("input:text","id:login_name").width(320).css("float","right")).append(c$("div").css("clear","both")).append(c$("span","id:login_key_text").css("color","green")).append(c$("input:text","id:login_key").width(320).css("float","right"));q=p.getLayout(4).append(c$("div").css("margin-bottom",5).text("Wall posts privacy: ")).append(s$("privacy",200).change(m.privacy_change)).append(s$("friendlists",200).hide());q.append(c$("div").css({clear:"both","margin-top":5})).append(c$("div").text("Manage Groups:").css({clear:"both","margin-top":5,"border-top":"1px solid #333"})).append(c$("select","id:groups_list,multiple:multiple").css({"float":"left",width:400,height:200,"margin-right":5})).append(c$("div").css("float","left").append(b$("Refresh","class:green medium").click(m.refreshgroups_click)).append(c$("div").css({clear:"both","margin-top":5})).append(b$("Remove","class:red medium").click(m.removegroup_click)));p.getLayout(5).append(x$("main_tooltips","Enable Tooltips helps.")).append(c$("div").css("float","right").append(b$("Upload","class:short orange").css("margin-right",5).click(m.uploadTooltips)).append(b$("Tooltip Editor","class:short orange").click(m.tooltipEditor))).append(c$("div").text("Language selection").css({"border-bottom":"1px solid #333",margin:"10px 0px 5px 0px"})).append(c$("div").text("Current Mafia Wars language: "+global.mw_locale)).append(s$("main_tooltiplanguage").width("100%").change(m.language_change).append(c$("option","value:none").text("Use Mafia Wars language"))).append(c$("div","id:language_description").css({"margin-top":8,"border-top":"1px solid #333"}));c$("a","target:_black").appendTo(c$("center").css({margin:5,height:25}).appendTo(g.content)).attr("href","https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=CQVWPSUMDKW5N").append(c$("img").attr("src","https://www.paypal.com/en_US/i/btn/btn_donate_SM.gif"));g.applyOptions({main_autohealin:{1:"New York",0:"Current City"},main_tooltiplanguage:Tooltips.toArray(),main_shortserviceid:URLServices.toArray("shorten"),main_unshortserviceid:URLServices.toArray("unshorten"),privacy:{EVERYONE:"Everyone",ALL_FRIENDS:"All friends",FRIENDS_OF_FRIENDS:"Friends of friends",SELF:"Myself",CUSTOM:"From friend list"}});global.Groups.addToSelect("#groups_list",0);if(o.privacy){$("#privacy option[value="+o.privacy.value+"]",g.content).attr("selected","selected")}}o.load(function(){f();o.toDomElements();g.show();$("select",g.content).change()})}UserConfig.create("cmopt",{toggleSelected:false,nyActiveProperties:["chop_shop","weapons_depot","armory","private_zoo"]});function CraftManager(){var y;var h=UserConfig.cmopt;var u={DisabledProperties:{},cash_by_city:global.User.cash_by_city(),nyCashProps:false,countdowns:{},ny_props:{chop_shop:{name:"Chop Shop",icon:global.zGraphicsURL+"PropertiesV2/global_properties/collect_and_craft/chop_shop.png"},weapons_depot:{name:"Weapons Depot",icon:global.zGraphicsURL+"PropertiesV2/global_properties/collect_and_craft/weapons_depot.png"},armory:{name:"Armory",icon:global.zGraphicsURL+"PropertiesV2/global_properties/collect_and_craft/armory.png"},private_zoo:{name:"Private Zoo",icon:global.zGraphicsURL+"PropertiesV2/global_properties/collect_and_craft/private_zoo.png"}},nyreqs:{old:"remote/"+MW.getIntURL("LimitedTimeProperty","getMasterPropertyDiv")+"&id=","new":"remote/"+MW.getIntURL("LimitedTimeProperty","getNewMasterPropertyDiv")+"&id="},reqs:{7:"remote/"+MW.getIntURL("propertyV2","createData")+"&city=7",8:"remote/"+MW.getIntURL("propertyV2","createData")+"&city=8",9:"remote/"+MW.getIntURL("propertyV2","createData")+"&city=9"}};var D=function(){this.name="Unknow";this.level=0;this.attack="0";this.defense="0";this.bonus="";this.requirements=[];this.canBuy=function(){if(!Util.isString(this.buy)){return false}var F=true;Util.each(this.requirements,function(G,H){return(F=(!Util.isSet(H.have)||H.have>=H.need))});return F};return this};var g=function(I,F,G){var H=[];this.id=I;this.icon=String(G).replace(/^https/,"http");this.name=(F?F:"Unknow");this.level=0;this.is_ny=false;this.canUpgrade=false;this.length=function(){return H.length};this.get=function(J){return H[J]||new D()};this.add=function(J){H.push(J)};this.each=function(J){Util.each(H,J)};return this};var B=function(){var F={};this.add=function(G){if(G&&G.id){F[G.id]=G}};this.getCollection=function(){return new Collection(F)};this.get=function(G){return F[G]};this.length=function(){return Util.length(F)};this.each=function(I,G){var H=F;if(G){H=[];Util.each(F,function(K,J){H.push(J)});H.sort(function(L,K){if(L.is_ny_cash&&K.is_ny_cash){return L.upgrade_cost-K.upgrade_cost}if(L.is_ny_cash||K.is_ny_cash){return(L.is_ny_cash?-1:1)}if((L.type||K.type)&&(L.type!=K.type)){return(L.type==5?-1:1)}var J=L.name.toLowerCase();var M=K.name.toLowerCase();return((J<M)?-1:((J>M)?1:0))})}Util.each(H,I)};
return this};var w={changeProps:function(){x();return false},toggleSelected:function(){var F=!$(this).hasClass("checked");$(".property_outer:has(.checkbox)",n.content).each(function(G,H){if(F||$(".checkbox.checked",H).length>0){$(H).show()}else{$(H).hide()}});return false},upgrade:function(){if($(this).hasClass("disabled")){return false}$(".property_inner a",n.content).addClass("disabled");var I=$(this);var H=I.attr("name");var L=y.get(H);var G,F,K;if(!L.upgrade){return}h.fromDomElements();h.save();if(L.is_ny){G=L.upgrade}else{if(L.is_ny_cash){F=parseInt($("#upgrade_in_"+L.id,n.content).val());K=$("#level_"+L.id,n.content);G=L.upgrade}else{G="remote/";G+=MW.getIntURL("propertyV2","buy",Util.uSplit(L.upgrade).city);G+=L.upgrade}}(function J(){i("Upgrading "+L.name+"...",true);httpAjaxRequest({url:G,liteLoad:1,success:function(M){if(n.is_closed===true||u.autocrafting===true){return}var N=p(M);if(L.is_ny_cash){if(/success/i.test(N)){L.level++}else{if(/bank/i.test(N)){G+="&fundtype=bank"}}if(F>L.level){K.text(L.level);setTimeout(J,1000)}else{y.each(r)}}else{o(L.id,true)}i(N);b(N,"info")},error:function(M){i(M);b(M,"info")}})})();return false},build:function(){if($(this).hasClass("disabled")){return false}$(".property_inner a",n.content).addClass("disabled");var F=$(this).attr("name");var H=$("option:selected","#cmopt_build_"+F).val();var G=y.get(F).get(H);h.fromDomElements();h.save();s(F,G);return false},build_change:function(){var F=$(this).attr("name");if(F){r(F)}},upgrade_change:function(){var F=Util.doRgx(/upgrade_in_(.*)/,this.id).$1;if(F){r(F)}},upgrade_keyup:function(){var F=$(this);var G=F.attr("timeout");if(G){clearTimeout(G)}F.attr("timeout",setTimeout(function(){F.removeAttr("timeout");F.change()},600))},refresh:function(){u.restart=true;n.close();return false},autocraft:function(){var F=$(this);if(F.hasClass("disabled")){return false}h.fromDomElements();h.save();if(F.hasClass("green")){F.removeClass("green").addClass("red disabled");u.tab.showTab(3);u.autocrafting=true;E(false);b("AutoCrafting started.","info");C()}else{F.removeClass("red").addClass("green disabled");u.autocrafting=false;E(true);b("AutoCrafting stopped.","info");i("AutoCrafting stopped.")}setTimeout(function(){F.removeClass("disabled")},5000);return false}};var n=new PopupObject("craftmanager_popup",{type:"main",title:"CRAFT MANAGER",width:700,background:"black url("+global.zGraphicsURL+"LimitedTimeProperty/generic.png) 0% 0% repeat-x",onclose:function(){u.autocrafting=false;A();Util.each(u.countdowns,function(G,F){F.clear()});httpAjaxStopRequests();h.fromDomElements();h.save();if(u.restart===true){CraftManager()}},buttons:[{label:"Refresh",addClass:"medium white",onclick:w.refresh},{label:"AutoCraft",addClass:"medium green",onclick:w.autocraft}]});function x(){var I=c$("div").css("text-align","left");var H=c$("ul","class:multicheckbox").appendTo(I);var G=[],F=h.nyActiveProperties;if(!Util.isArray(F)){F=[]}Util.each(u.ny_props,function(K,J){G.push({id:K,name:J.name,level:J.level,ready:J.ready,is_ready:J.is_ready})});G.sort(function(L,K){var J=L.name.toLowerCase();var N=K.name.toLowerCase();var M=K.level-L.level;if(M===0){if((L.is_ready&&K.is_ready)||(!L.is_ready&&!K.is_ready)){return((J<N)?-1:((J>N)?1:0))}else{return((!L.is_ready&&K.is_ready)?1:((L.is_ready&&!K.is_ready)?-1:0))}}return M});Util.each(G,function(L,K){var J=x$("chk"+K.id,K.name);var M=c$("li").append(J);if(F.indexOf(K.id)!==-1){J.addClass("checked")}c$("span").appendTo(M).css({color:"grey","margin-left":10}).text("level "+K.level);if(K.is_ready){c$("img").css("float","right").appendTo(M).attr("src",K.ready)}H.append(M)});G=null;showMiniPopup({id:"selectprops",parent:n.content,content:I,title:"CHOOSE PROPERTIES",accept:function(){var J=[];$("li > .checkbox.checked").each(function(K,L){if(J.length<5){J.push(L.id.substr(3))}else{return false}});if(J.length>0){h.nyActiveProperties=J;h.save(w.refresh)}}})}function j(G){function I(J){Util.each(J,function(L,K){if(!Util.isString(K.type)||!/Cash/i.test(K.type)||parseInt(K.maxlevel)!=0){return}var N="ny_cash_"+K.property_id;var M=new g(N,K.name.replace(/\+/g," "),K.property_pic);M.is_ny_cash=true;M.city_id=1;M.canUpgrade=parseInt(K.maxlevel)==0;M.level=parseInt(K.level);M.upgrade_cost=parseInt(K.upgrade_cost);M.build_cost=parseInt(K.build_cost);M.last_collected=parseInt(K.last_collected);M.upgrade=K.buy_url;y.add(M)});if(J&&Util.length(J)>0){u.nyCashProps=true;u.tab.buttonDisplay(2,true)}}try{var F=new Function(G.replace(/MW\.PropertyImprovement_Local\.all_prop_flashdata\s?=/i,"return "));I(F())}catch(H){Logger.error(H)}}function q(F){var K,G;try{K=$(".depotTitle",F).attr("id").replace("depotTitle","");if(!(G=u.ny_props[K])){throw"Property Not found: "+K}}catch(I){Logger.error(I);return}var J=new g(K,G.name,G.icon);var H=$("a.impulse_buy:regex(href,xw_action=speedup)",F);J.is_ny=true;J.city_id=1;J.level=Util.parseNum(Util.textNodes($(".propLevel",F)));if(H.length>0){try{J.speedup=H.attr("href");J.speedup_cost=Util.parseJSON(H.attr("requirements")).favor
}catch(I){}}$(".cs_deck_of_cards > div",F).each(function(L,M){$(".cs_outer",M).each(function(O,Q){var P=new D();var N=[];P.name=$(".cd_item_name",Q).text();P.level=Util.parseNum($(".cs_recipe_card_banner .cs_bigtext",Q).text());P.image=$(".cs_item_image img",Q).attr("src");$(".cs_item_stats > span, .cs_item_stats > img",Q).each(function(S,R){R=$(R);if(R.hasClass("cs_attack")){P.attack=R.text()}else{if(R.hasClass("cs_defense")){P.defense=R.text()}else{if(R.hasClass("cs_bonus")){N.push(Util.trim(R.text()+" "+(R.find("img").attr("alt")||"")))}else{if(R.is("img")){N.push(Util.trim(Util.textNodes(R.parent())+" "+(R.attr("alt")||"")))}else{N.push(R.text()+" "+R.attr("class"))}}}}});$(".cs_cs_ingredients > .cs_ingredient",Q).each(function(T,U){var R=$("img",U);var S=Util.doRgx(/(\d+)\/(\d+)/,$(".num_items",U).text());P.requirements.push({name:R.attr("alt"),icon:R.attr("src"),have:parseInt(S.$1),need:parseInt(S.$2)})});if(N.length>0){P.bonus=N.join(",")}if(J.level<P.level){P.requirements.push({name:J.name+" level",need:P.level,have:J.level})}P.buy=$(".cs_buy_button a:regex(href,xw_action=build|xw_action=craft)",Q).attr("href");J.add(P)})});return J}function m(H){if(!H||!H.properties){return}var F={},I,G=parseInt((new Date()).getTime()/1000);if(Util.isArray(H.items)){Util.each(H.items,function(J,K){F[K.id]=K})}Util.each(H.properties,function(L,N){if(!N.purchase_items){return}var K=(N.last_purchase_time_stamp+N.purchase_refresh_rate);var O=Util.trim(N.name_unlocalized.toLowerCase().replace(/\s/g,"_"));var M=N.city_id;var J="&city="+M+"&building_type="+N.id;I=new g(O,N.name,N.image_url);I.time_left=Math.max(0,K-G);I.level=Util.parseNum(N.level);I.buy_avail=parseInt(N.available_purchases);I.type=N.type;I.city_id=M;if(isNaN(I.buy_avail)){I.buy_avail=0}if(I.time_left>0){if(u.countdowns[O]){u.countdowns[O].start(I.time_left)}else{v(O,I.time_left)}}else{if(u.countdowns[O]){u.countdowns[O].clear()}}Util.each(N.parts_required,function(P,Q){if(F[Q.id]){return(I.canUpgrade=(F[Q.id].num_owned>Q.quantity))}else{return(I.canUpgrade=false)}});if(I.canUpgrade){I.upgrade=J}else{I.canUpgrade=false}Util.each(N.purchase_items,function(Q,S){var R=new D();var P=(S.property?H.properties[S.property]:N);R.name=S.name;R.level=parseInt(S.unlock_level);R.image=S.image;R.attack=S.attack||0;R.defense=S.defense||0;R.bonus=S.special_ability_text;if(S.price>0){R.requirements.push({name:"Cash",type:"cash",icon:global.zGraphicsURL+global.city(M).cashIcon,need:S.price,have:u.cash_by_city[M]||0})}if(S.rp>0){R.requirements.push({name:"Reward Points",type:"rp",icon:global.zGraphicsURL+"v3/icon-gf-coin.gif",need:S.rp,have:global.User.reward_points()})}if(P.level<R.level){R.requirements.push({type:"level",name:P.name+" level",need:R.level,have:P.level})}else{if((I.buy_avail&&I.buy_avail>0)||G>K){R.buy="remote/"+MW.getIntURL("propertyV2","portBuyItem")+J+"&id="+Q}}I.add(R)});y.add(I)})}function z(){c$("div","id:craft_messages").appendTo(c$("div").css({height:40,"border-bottom":"1px solid #333",padding:"5px 5px 5px 20px"}).appendTo(n.content));u.tab=new TabObject({id:"craft",appendTo:n.content,overflow:true,height:420,tabs:["Global Prop.","City Prop.","New York Cash","Event Log"]});u.tab.getLayout(3).append(c$("ul","id:craftingLogger").css({"padding-top":10,height:410}));u.tab.buttonDisplay(2,false);b$("Select Props","class:ui-sexy-green",true).css("margin-right",10).appendTo(u.tab.header).click(w.changeProps);x$("cmopt_toggleselected","Show selected only.").appendTo(u.tab.header).click(w.toggleSelected)}function k(I,F){var J=0,L="build_"+F.id,K=F.id+"_enabled";var M=(F.is_ny?"0":(F.is_ny_cash?"2":"1"));var N=c$("div","class:property_outer,id:prop_id_"+F.id);u.tab.getLayout(M).append(N);N=c$("div","class:property_inner").appendTo(N);if(!F.is_ny_cash&&!F.is_ny){x$("cmopt_"+K,"","div").attr("title","Enable/Disable this property for AutoCrafting.").css({margin:0,width:50,height:60,"float":"left"}).appendTo(N)}var G=c$("div","class:buttons").appendTo(N);if(F.is_ny_cash){b$("Upgrade","class:medium orange,id:upgrade_"+F.id+",name:"+F.id).css("margin-top",15).click(w.upgrade).appendTo(G)}else{b$("Craft","class:short green disabled,id:"+L+",name:"+F.id).click(w.build).appendTo(G);c$("div").css({clear:"both","margin-top":5}).appendTo(G);b$("Upgrade","class:short orange disabled,id:upgrade_"+F.id+",name:"+F.id).click(w.upgrade).appendTo(G)}N=c$("div","class:body,id:"+F.id+"_body").appendTo(N);N.addClass(F.is_ny_cash?"ny_property_icon2":(F.is_ny?"ny_property_icon":"property_icon"));N.css("background-image",'url("'+F.icon+'")');c$("h4").html(F.name+' (Level <span id="level_'+F.id+'">0</span>):').appendTo(N);c$("div","id:"+F.id+"_countdown,class:cdn_timer").appendTo(N);N=c$("p").appendTo(N);if(F.is_ny_cash){n$("upgrade_in_"+F.id,"Upgrade to Level:",100).appendTo(N);$("input",N).val(F.level).change(w.upgrade_change).keyup(w.upgrade_keyup);return}var H=c$("select","id:cmopt_"+L+",name:"+F.id).width(480).appendTo(N);c$("div","id:item_requirements").appendTo(N);F.each(function(P,Q){var O="Level "+Q.level+" - "+Q.name;
if(Q.attack>0||Q.defense>0){O+=" ["+Q.attack+"/"+Q.defense+"]"}if(Q.bonus){O+=" ["+Q.bonus+"]"}c$("option","value:"+P).text(O).appendTo(H);if(Q.level<=F.level&&Q.rp<1){J=P}});if(!F.is_ny_cash){if(!Util.isSet(h[L])){h.add(L,J)}if(!Util.isSet(h[K])){h.add(K,true)}}H.change(w.build_change)}function C(){var G=true;if(n.is_closed===true){return}y.each(function(K,J){if(u.DisabledProperties[K]){return true}var H=$("option:selected","#cmopt_build_"+K).val();var I=J.get(H);if((J.is_ny||h.get(K+"_enabled"))&&I&&I.canBuy()){s(K,I);return(G=false)}else{return G}});if(G){var F=l();if(Util.isSet(F)){i('<span id="'+F.id+'_countdown"></span>');b("AutoCrafting paused: Waiting for the next available item.","info")}else{i("AutoCrafting stopped.");b("AutoCrafting stopped: You can't craft more items.","info")}}}function l(){var F;Util.each(u.countdowns,function(H,G){if(G.arguments.delay>0){if(!Util.isSet(F)){F=G}else{if(G.arguments.delay<F.arguments.delay){F=G}}}});if(F){return F.arguments}else{return null}}function E(F){Util.each(u.tab.buttons,function(H,G){G.toggleClass("disabled",F===false)})}function s(G,F){i("Crafting "+F.name+"...",true);$("#"+G+"_countdown",n.content).html(Util.setColor("Loading...","green"));httpAjaxRequest({url:F.buy,success:function(H){var H=d(H);i(H.message);b(H.message);if(H.success){o(G)}else{u.DisabledProperties[G]=true;if(u.autocrafting){C()}}},error:function(H){b("Error crafting "+F.name+".");o(G)}})}function i(H,I){var F=$("#craft_messages").empty();var G=c$("span").html(H||"");if(I){Resources.getPicture("ajax_loader_gif").css({"float":"left","padding-left":20,width:"auto"}).append(G).prependTo(F)}else{G.appendTo(F).hide().fadeIn(500)}}function b(G,F){var H=Util.setColor("["+(new Date()).toLocaleTimeString()+"] ","grey");var I=(F==="error")?Resources.getPicture("ajax_error_png","li"):Resources.getPicture("info_icon_png","li");if(F!=="error"){G=Util.setColor(G,"#E1E1E1")}else{G=Util.setColor(G,"red")}I.prependTo("#craftingLogger").append(c$("p").html(H+(G||"")))}function d(H){var F={success:false,message:""};if(!H.data){H=h$(H).find(".pop_box > div > div:eq(2)").html();if((F.success=(Util.isString(H)&&H.indexOf("<br>")>-1))){F.message=H.substr(0,H.indexOf("<br>"))}else{F.message="Error crafting this item."}}else{var G=Util.parseJSON(H.data);F.success=G.result=="success";F.message=G.purchase_message}return F}function p(G){if(!G.data){return h$(G).find(".message_body:first").text()}var F=Util.parseJSON(G.data);if(F.result&&F.description){return Util.formatText(F.result)+"! "+F.description}else{return F.purchase_message||F.success_message||F.result}}function c(H,G,F){if(H){if(isFinite(parseInt(G))){return u.nyreqs["new"]+G}else{return u.nyreqs.old+G}}else{return u.reqs[F]}}function o(J,I){var F,H=y.get(J);try{f(c(H.is_ny,H.id,H.city_id),function(K){y.each(r);if(u.autocrafting){C()}})}catch(G){Logger.debug("RefreshProperty: "+G.message);return}}function A(){var G=Reminders.get("notffbc5f933e82cb85467a8fbec");if(G.id){var F=l();if(F){G.timeout=(new Date()).getTime()+(F.delay*1000)}else{G.timeout=0}Reminders.save()}}function r(J,I){var F;if(!Util.isSet(I)){I=y.get(J)}if(!(F=e$("#prop_id_"+J,n.content))){return}$("#level_"+J,F).text(I.level);if(I.is_ny_cash){$("#"+J+"_countdown",F).empty();if(I&&I.canUpgrade&&parseInt($("input",F).val())>I.level){$("#upgrade_"+J,F).removeClass("disabled")}else{$("#upgrade_"+J,F).addClass("disabled")}$("#"+J+"_countdown",F).html(H())}else{if(!u.countdowns[J]||u.countdowns[J].started!==true){$("#"+J+"_countdown",F).html(Util.setColor("Ready!","green"))}G()}function H(){var K=parseInt($("input",F).val());var L=I.level;var M=0;while(L<K){M+=I.build_cost+(I.upgrade_cost*L);L++}return"Cost: $"+Util.setColor(Util.formatNum(M),"green")}function G(){var K=$("select option:selected",F).val();var N=I.get(K);var O=$("#item_requirements",F);var M=$("a#build_"+J),P=$("#upgrade_"+I.id);var L="Craft";if(I.buy_avail&&I.buy_avail>0){L+=" ("+I.buy_avail+")"}M.toggleClass("disabled",N.canBuy()===false).find("span:last").text(L);if(I.canUpgrade){M.removeClass("medium").addClass("short");P.removeClass("disabled").show()}else{M.removeClass("short").addClass("medium").css("margin-top",15);P.addClass("disabled").hide()}if(!I.selectedIndex||I.selectedIndex!=K){I.selectedIndex=K;O.empty()}else{return}if(N.requirements.length>0){c$("div").text("You need:").appendTo(O).css({"float":"left",color:"grey"});Util.each(N.requirements,function(Q,R){var S=c$("div","class:req_field").attr("title",R.name).appendTo(O);if(Util.isSet(R.icon)){c$("img").appendTo(S).attr({src:R.icon,alt:R.name})}else{c$("span").text(R.name+": ").appendTo(S)}if(Util.isSet(R.have)){c$("span").text(R.need+"/"+R.have).appendTo(S).css({color:(R.have<R.need?"red":"green")})}else{c$("span").text(Util.formatNum(R.need)).appendTo(S).css("color","yellow")}})}}}function v(G,F){u.countdowns[G]=new Countdown({id:G,selector:"#craftmanager_popup #"+G+"_countdown",delay:F,text:"Build new item in:",success:o})}function f(G,H){function F(I){var K=Util.doRgx(/var timeLeft\s?=\s?(\d+)/i,I).$1;
var J=Util.doRgx(/id:\s?'buildTimer?Prop([\w\d]+)'/i,I).$1;if(K&&(K=parseInt(K))>0&&J){if(u.countdowns[J]){u.countdowns[J].start(K)}else{v(J,K)}}else{if(J&&u.countdowns[J]){u.countdowns[J].clear()}}}httpAjaxRequest({url:G,liteLoad:1,success:function(K){if(K.data){try{K=Util.parseJSON(K.data);if(K.cities){Util.each(K.cities,function(L,M){u.cash_by_city[M.city]=M.cash_amt})}m(K)}catch(J){Logger.error(J)}}else{var I=h$(K,true);F($("script:regex(text,addCountdown)",I).text());y.add(q(I))}H&&H(true)},error:function(){b("There was an error while loading properties.","error");H&&H(false)}})}function a(G){var F=0;Util.each(u.reqs,function(I,H){F++;f(H,function(){loadingScreen("Loading properties data ("+(--F)+")...")})});Util.each(h.nyActiveProperties,function(H,I){F++;f(c(true,I),function(){loadingScreen("Loading properties data ("+(--F)+")...")})});Util.until({retries:300,test:function(){return(F<1)},success:G})}function t(){function F(){b("Properties loaded successfully.","info");loadingScreen();if(y.length()>0){y.each(k,true);h.toDomElements();i("Default items selected.");y.each(function(H,G){if(u.countdowns[H]){u.countdowns[H].start()}else{if(!G.is_ny_cash){v(H,0)}}r(H)});n.show();w.toggleSelected.apply($("#cmopt_toggleselected",n.content))}else{n.destroy();showHelpPopup({icon:"error",title:"Craft Manager",message:"Can't load your properties. Please, try again later."})}}y=new B();z();loadingScreen("Loading properties...");httpAjaxRequest({url:"remote/"+MW.getIntURL("travel","travel")+"&from=propertyV2&destination=1",success:function(H){var G=h$(H);j(G.find("script:regex(text,all_prop_flashdata =)").text());G.find("div.propertyLimitedTimeCardContainer").each(function(J,K){var I=Util.parseNum(K.id);if(I>0){u.ny_props[I]={name:Util.formatText($(".propertyLimitedTimeCardName",K).text()),icon:$(".propertyLimitedTimeCardImg",K).attr("src"),level:Util.parseNum($(".propertyLimitedTimeCardLevel",K).text()),ready:$(".propertyLimitedTimeCardCraftReady",K).attr("src"),is_ready:!$(".propertyLimitedTimeCardCraftReady",K).hasClass("propertyInvisible")}}});G.find("div.propertyCollectAndCraftCardContainer").each(function(J,K){var I=String($(".propertyCollectAndCraftCardName",K).text()).toLowerCase().replace(/\s+/g,"_");if(Util.isSet(u.ny_props[I])){u.ny_props[I]={name:Util.formatText($(".propertyCollectAndCraftCardName",K).text()),icon:$(".propertyCollectAndCraftCardImg",K).attr("src"),level:Util.parseNum($(".propertyCollectAndCraftCardLevel",K).text()),ready:$(".propertyCollectAndCraftCardCraftReady",K).attr("src"),is_ready:!$(".propertyCollectAndCraftCardCraftReady",K).hasClass("propertyInvisible")}}});a(F)}})}h.load(function(){showSupportPopup("CraftManager",t)})}UserConfig.create("fcopt",{});function FightClubBuyer(){var a={Abort:false,UserFavor:0,UserTokens:0,Queue:null,Marketplace:null};var m=new PopupObject("fightclubbuyer_popup",{type:"main",title:"FIGHTCLUB BUYER",width:650,top:20,onclose:function(){a.Abort=true;httpAjaxStopRequests()}});var c=function(p){this.icon=$("> div:eq(0) > div:eq(0) img",p).attr("src");this.name=Util.trim($("> div:eq(0) > div:eq(1)",p).text());this.attack=Util.parseNum($("> div:eq(0) > div:last > div:first",p).text());this.defense=Util.parseNum($("> div:eq(0) > div:last > div:last",p).text());this.tokens=Util.parseNum($("> div:eq(1) > div:first > div:eq(0)",p).text());this.favor=Util.parseNum($("> div:eq(1) > div:first > div:eq(1) span",p).text());this.buy=$("> div:eq(1) > div:first > a",p).attr("href");try{this.id=parseInt(Util.uSplit(this.buy).favor_id)}catch(q){}return this};var j=function(){var p=[];var q={name:function(t,s){var r=t.name.toLowerCase();var u=s.name.toLowerCase();return((r<u)?-1:((r>u)?1:0))},att:function(s,r){return r.attack-s.attack},def:function(s,r){return r.defense-s.defense},tokens:function(s,r){if(r.tokens==s.tokens){return q.name(s,r)}return r.tokens-s.tokens}};this.get=function(r){return p[parseInt(r)]};this.getById=function(t){for(var r=0,s;(s=p[r]);r++){if(s.id==t){return s}}};this.add=function(r,s){if(s){p.push(new c(s))}};this.each=function(s,r){if(Util.isString(r)){this.sort(r)}Util.each(p,s)};this.length=function(){return p.length};this.sort=function(r){if(Util.isSet(q[r])){p.sort(q[r])}};return this};var o=function(){var r=this;var q={};var p="#fc_selected";this.totalCost={tokens:0,favor:0};this.add=function(t,u){if(!Util.isSet(t)){return}var s=e$("li#item_id"+t.id,p)||c$("li","id:item_id"+t.id).appendTo(p);u=q[t.id]=(parseInt(q[t.id]||0)+parseInt(u));s.html('Buy <span class="quantity">'+u+"</span> "+t.name);s.append(c$("div","class:remove").click(function(){q[t.id]=0;$(this).unbind();$("li#item_id"+t.id,p).remove();r.updateCost();l();return false}));r.updateCost();l()};this.updateCost=function(){r.totalCost={tokens:0,favor:0};a.Marketplace.each(function(s,t){var u=q[t.id];if(u&&u>0){if(t.tokens>0){r.totalCost.tokens+=t.tokens*u}if(t.favor>0){r.totalCost.favor+=t.favor*u}}})};this.clear=function(){r.totalCost={tokens:0,favor:0};q={};$(p).empty();l()};this.toArray=function(){var s=[];
Util.each(q,function(u,t){if(t&&t>0){s.push({quantity:t,item:a.Marketplace.getById(u)})}});return s};return this};var n={start:function(){var r=$(this);if(r.hasClass("disabled")){return false}var s=a.Queue.toArray();if(s.length>0){if(a.Queue.totalCost.favor>a.UserFavor){p("You've not enough Reward Points.")}else{if(a.Queue.totalCost.tokens>a.UserTokens){p("You've not enough Victory Coins.")}else{a.Queue.clear();g(s)}}}function p(q){showHelpPopup({icon:"info",title:"Fight Club Buyer",message:q+"<br>Remove some items and try again."})}return false},sort_click:function(){b(this.value)},selectItem_click:function(){if($(this).hasClass("selected")){return false}$("#fc_selectable li",m.content).removeClass("selected");$(this).addClass("selected");i(a.Marketplace.get($(this).attr("index")));return false}};function i(q){var p=m.content;var r="<div>Cost: "+k(q.tokens,"tokens")+((q.favor>0)?("  "+k(q.favor,"favor")):"")+'</div><div>Quantity: <input type="text" id="item_quantity"></div>';$("#item_stats_inner a",p).unbind();$("#item_stats_outer",p).stop(true).animate({scrollLeft:600},"fast","linear",function(){this.scrollLeft=0;$("#item_name",p).text(q.name);$("#item_stats_inner",p).css("background-image","url("+q.icon+")").html(r);$("#item_quantity",p).width(50).val(1);$("#item_stats_outer",p).animate({scrollLeft:300},"fast","linear",function(){var s=$("#item_quantity",p);b$("Add to queue","class:short green").click(function(){a.Queue.add(q,s.val())}).hide().appendTo("#item_stats_inner").fadeIn("normal");s.focus().select()})})}function g(s){var r=m.content;var p=new Collection(s);var q=a.Marketplace.get($("#fc_selectable .selected").attr("index"));var x=$("#item_stats_inner",r);var v=$("#item_stats_outer",r);var u=$("#item_name",r);v.get(0).scrollLeft=0;x.html('<div>Progress: <span id="current_count">0</span> of <span id="total_count">0</span></div>');p.onEnd(function(){$("#item_stats_outer").stop(true).animate({scrollLeft:600},"fast","linear",function(){this.scrollLeft=0;u.html("COMPLETED!");x.empty().addClass("completed").attr("style"," ").append(c$("div").text("Process was finished.")).append(b$("Go back","class:short orange").one("click",function(){$("#fc_selected").show();$("#fc_log, #disable_overlay").hide();x.removeClass("completed");i(q);l()}));v.animate({scrollLeft:300},"fast","linear")})});p.onMove(function(B,y,A){if(a.Abort===true){return}var z=A.item;v.stop(true).animate({scrollLeft:600},"fast","linear",function(){this.scrollLeft=0;x.css("background-image","url("+z.icon+")");$("#total_count",x).text(A.quantity);$("#current_count",x).text(0);v.animate({scrollLeft:300},"fast","linear",function(){w(z,A.quantity,0)})})});function t(z){var y=Resources.getPicture("ajax_loader_gif","span").css("padding-left",18);u.empty().append(y.text(z))}function w(A,B,y){(function z(){if(a.Abort===true){return}t(" Buying "+A.name+"...");httpAjaxRequest({url:A.buy,liteLoad:1,error:function(C){f(C);if(y<B){setTimeout(z,500)}else{p.MoveNext()}},success:function(D){var C=h$(D).find(".messages .message_body");y+=1;a.UserTokens-=A.tokens;a.UserFavor-=A.favor;f($("> span",C).text());$("#current_count",x).text(y);l();if(y<B){setTimeout(z,500)}else{p.MoveNext()}}})})()}$("#fc_log textarea").val("");$("#fc_selected").hide();$("#fc_log, #disable_overlay").show();p.MoveFirst()}function f(q){var r=(new Date()).toLocaleTimeString();var p=$("#fc_log textarea").get(0);p.value="["+r+"] "+q+"\n"+p.value}function l(){$("#start_button",m.content).toggleClass("disabled",$("#fc_selected li").length<1);$("#total_tokens",m.content).text(a.UserTokens);$("#total_favor",m.content).text(a.UserFavor);$("#to_spend .tokens",m.content).text(a.Queue.totalCost.tokens);$("#to_spend .favor",m.content).text(a.Queue.totalCost.favor)}function k(q,p){return'<span class="'+p+'">'+q+"</span>"}function b(q){var p=$("#fc_selectable",m.content);if(q&&p.attr("sortedby")==q){return}p.empty().attr("sortedby",q);a.Marketplace.each(function(s,t){if(t.id==0||t.id==1){return}var r=k(t.tokens,"tokens");if(t.attack>0||t.defense>0){r+=k(t.attack,"attack")+k(t.defense,"defense")}var u=c$("li","index:"+s).appendTo(p).append(c$("img").attr("src",t.icon)).append(c$("div","class:item_name").text(t.name)).append(c$("div","class:item_stats").html(r)).click(n.selectItem_click)},q)}function h(){var p=c$("div","id:main_wrapper").appendTo(m.content);c$("div","class:top_header").appendTo(p).append(c$("div").html('Tokens: <span id="total_tokens" class="tokens">0</span>')).append(c$("div").html('Favor: <span id="total_favor" class="favor">0</span>')).append(c$("div","id:to_spend").css("float","right").html("Need: "+k(0,"tokens")+" "+k(0,"favor")));c$("div","class:left_wrapper").appendTo(p).append(c$("div","id:disable_overlay")).append(c$("div","class:sort_list").append(s$("sort_list","Sorted By:",150,{click:n.sort_click}))).append(c$("ul","id:fc_selectable"));p=c$("div","class:right_wrapper").appendTo(p);c$("div","id:more_info").appendTo(p).append(c$("div","id:item_stats_outer").append(c$("div","id:item_name")).append(c$("div","id:item_stats_inner"))).append(c$("ul","id:fc_selected")).append(c$("div","id:fc_log").append(c$("textarea","readonly:readonly"))).append(c$("center").append(b$("START BUYING","class:short green disabled,id:start_button").click(n.start)));
m.applyOptions({sort_list:{name:"Name",att:"Attack",def:"Defense",tokens:"Tokens"}})}function d(){function p(){showHelpPopup({icon:"error",message:"Cannot load the Marketplace Items."});m.destroy()}httpAjaxRequest({url:"remote/"+MW.getIntURL("marketplace","marketplace_category")+"&category=8",message:"Loading Marketplace...",liteLoad:1,error:p,success:function(r){var q=h$(r);a.Marketplace=new j();a.Queue=new o();a.UserFavor=global.User.reward_points();a.UserTokens=Util.parseNum(q.find(".marketplace_heading > div:has(img:regex(src,victory_icon))").text());q.find("#full_list > div:has(a:regex(href,buy))").each(a.Marketplace.add);if(a.Marketplace.length()>0){h();b("name");m.show();l()}else{p()}}})}d()}UserConfig.create("fgopt",{_excludedToExport:["excludedGifts","today","acceptGiftCount"],today:0,acceptGiftCount:0,sendGiftCount:0,sendBack:true,sendInternally:true,excludedPattern:"reached your limit|gold mastery|cannot accept more",dailyLimit:"cannot accept any more Free Gifts today",excludedGifts:{},activeFriends:{},customLists:{},useractions:{},selectedGifts:{},activeFRMin:1,ignoreLimits:false,hideUnchecked:false});function FreeGiftsCenter(){var b=UserConfig.fgopt;var n={Aborted:false,AcceptGiftLimit:250,ThankSent:{},FriendList:{},Events:{3013:"mafia_invite",3012:"gift",3052:"energy_pack",3018:"safehouse",3053:"none",3054:"none",3066:"help",3065:"none",3067:"none",3070:"family"},Request:null,Collector:null};var f=new PopupObject("freegiftscenter_popup",{type:"main",title:"FREE GIFTS CENTER",onclose:function(){b.fromDomElements();b.selectedGifts={};$(".snd_selectable li:has(>.checked)",f.content).each(function(H,I){b.selectedGifts[$(I).attr("gid")]=true});b.save()}});var G=function(I){var J=Util.uSplit(I.acceptUrl);var H={to:[],message:I.sendbackMsg,data:I.sendbackData,title:""};this.id=I.event_hash;this.type=n.Events[I.event_type];this.url=I.acceptUrl;this.rem=I.ignoreUrl;this.icon=I.sender_pic;this.name=I.sender_name;this.body=I.request_msg;if(I.sendbackData){H.to.push(String(I.sender_id));this.send=H}this.gift={item_id:I.data.item_id,item_cat:I.data.item_cat,name:I.item_name,img:I.item_pic};this.user_id=Util.parseNum(J.from_user);this.profile=MW.getProfileLink(J.from_user);return this};var B=function(L){var M,K,J,H;if(e$(".acceptonly",L)){J=$(".acceptonly",L);H=$(".ignore",L);K=$(".state_accept a:first",L)}else{J=$(".state_accept > a:first",L);H=$(".state_accept > a:eq(1)",L);K=$(".state_sendback .state_sendback_button",L)}this.id=L.id.substr(12);this.type=Util.doRgx(/(\w+)/,$(L).attr("class")).$1||"gift";this.url=Util.toUrl(J);this.rem=Util.toUrl(H);this.icon=Util.getPicture($(".player_pic",L).attr("style"));this.name=Util.trim($(".body > h4",L).text());this.body=Util.trim($(".body > p[id^=zmc_bodytext]",L).text());this.send=p(K.attr("onclick"));var M=Util.uSplit(this.url);var I=UserFreeGifts.getByItemId(M.item_id,M.item_cat);this.gift={item_id:M.item_id,item_cat:M.item_cat,name:I.name,img:UserFreeGifts.getImageUrl(I.img)};this.user_id=Util.parseNum(M.from_user);this.profile=MW.getProfileLink(this.user_id);return this};var j=function(){var H={};var I={};this.add=function(K){var J=K.gift.item_id;I[K.id]=K;if(!Util.isSet(H[J])){H[J]=[]}H[J].push(K)};this.get=function(J){return I[J]};this.remove=function(J){delete I[J]};this.toArray=function(K){var J=[];Util.each(I,function(M,L){if(!Util.isSet(K)||L.type===K){J.push(L)}});return J};this.toGroup=function(K){var J={};Util.each(I,function(N,M){if(!Util.isSet(K)||M.type===K){var L=J[M.gift.item_id];if(!Util.isSet(L)){J[M.gift.item_id]=(L=[])}L.push(M)}});return J};this.each=function(J){Util.each(I,J)};return this};var u=function(){var H=[];this.length=function(){return H.length};this.amountOf=function(J){var I=0;Util.each(H,function(K,L){if(L.iid&&parseInt(L.iid)===parseInt(J)){I+=L.amount}});return I};this.add=function(I){H.push(I)};this.get=function(I){return H[I]};this.all=function(){return H};this.each=function(I){Util.each(H,I)};this.remove=function(I){H.splice(I,1)};this.clear=function(){H=[]};return this};var k={is:function(J){try{var L=parseInt((new Date()).getTime()/1000);var H=b.excludedGifts[J];var I=H?(H-L):0;return(I>0)}catch(K){Logger.error(K)}return false},add:function(I){try{var H=parseInt((new Date()).getTime()/1000)+(6*60*60);b.excludedGifts[I]=H;b.save()}catch(J){Logger.error(J)}},reset:function(){b.set("excludedGifts",{});b.save()}};var o={toggleGiftsVisibility:function(){var H=$(".snd_selectable",f.content);if($("#fgopt_hideunchecked",f.content).hasClass("checked")){H.find("li:not(:has(>.checked))").hide()}else{H.find("li").show()}return false},removeFromCollector:function(){var H=$(this).attr("index");n.Collector.remove(H);a();d();return false},addAllGifts_click:function(){var H=$(this).attr("mode");$("ul.mss_selectable li",f.content).each(function(I,J){var K=$(J);if(H=="1"){if(b.useractions[K.attr("iid")]){C(K,null,b.useractions[K.attr("iid")]);K.remove()}}else{C(K);K.remove()}});a();return false},addGift_click:function(){var I=e$("ul.mss_selectable li.selected",f.content);
if(!I){$("#mss_info",f.content).html("Select a gift first!.");return false}var H=C(I,$("#mass_body #mss_amount").val());if(H<1){I.fadeOut(100,function(){I.remove()})}else{$(".gift_amount",I).text(H+"x")}a();return false},selectGift_click:function(){if($(this).hasClass("selected")){return}$("#mass_body .mss_selectable li").removeClass("selected");$("#mass_body #mss_amount").focus().val($(this).attr("count")||0).select();$(this).addClass("selected");return false},startSending_click:function(){if(!$(this).hasClass("disabled")&&!$("#friendlists").hasClass("loading")){r()}return false},friendLists_change:function(){if($(this).hasClass("disabled")||$(this).hasClass("loading")){return false}var H=$("option:selected",this).val();$("#send_body #snd_users").empty();if(H!=="none"){$("#remove_list_btn")[Util.isSet(b.customLists[H])?"show":"hide"]();$("#snd_messages").html("Adding Friends...");setTimeout(function(){D(H)},200)}else{$("#remove_list_btn").hide()}},editFriends_click:function(){if($(this).hasClass("disabled")||$("#friendlists").hasClass("loading")){return false}var H=[];var I=$("#send_body #snd_users");$("option",I).each(function(J,K){H.push(K.value)});showFriendsSelector(function(J){if(J.length>0){I.empty();Util.each(J,function(L,K){c$("option","value:"+K.uid).appendTo(I).text(K.name)})}},H);return false},saveFriends_click:function(){if($(this).hasClass("disabled")){return false}var H=[];var I=b.customLists;var M=$("#send_body #snd_users");var J=$("#friendlists option:selected");var L=J.val();if(Util.isSet(b.customLists[L])){K(J.text(),I[L]=[])}else{showPromptPopup("Friend List name (SIX char. min.):","Saved List",function(N){if(Util.isString(N)&&N.length>5){K(N,I[N.replace(/\s/g,"_")]=[])}})}function K(N,O){$("option",M).each(function(P,Q){O.push(Q.value)});b.save(s);t('Friend list "'+N+'" saved.')}return false},removeList_click:function(){var I=$("#friendlists");var J=$("option:selected",I).val();var H=$("option:selected",I).text();if(!Util.isSet(b.customLists[J])){$(this).hide();return false}showAskPopup("Remove Friendlist","Are you sure to remove?",function(){delete b.customLists[J];delete n.FriendList[J];b.save();$("option:selected",I).remove();I[0].selectedIndex=0;I.change();t('Friend list "'+H+'" removed.')});return false},clearFriends_click:function(){if(!$(this).hasClass("disabled")){$("#send_body #snd_users").empty()}return false},resetActiveFriends_click:function(){b.set("activeFriends",{});b.save(function(){showHelpPopup({icon:"info",title:"Reset Active Friends List",message:"Your active friends list is now empty."})});return false},finishCollector_click:function(){$("#mss_info").show();$("#mss_messages").hide();A("setup","mass");o.clearCollector_click();h();$(".tab_bar",f.content).removeClass("disabled");$(this).unbind().remove();return false},clearCollector_click:function(){$("#mass_body .mss_selected").empty();z();n.Collector.clear();d();return false},startCollector_click:function(){if($(this).hasClass("disabled")){return false}if(n.Collector.length()>0){A("logger","mass");y()}return false},tab_click:function(){if($(".tab_bar",f.content).hasClass("disabled")||$(this).hasClass("active")){return false}var H=$(this).attr("tb");switch(H){case"mass":z();o.clearCollector_click();break;case"send":t();$("#send_body #snd_users").empty();s();$("#friendlists").change();break;case"cnfg":$("#total_activefriends").text(Util.length(b.activeFriends));break}$(".tab_bar li",f.content).removeClass("active");$(this).addClass("active");A(H,"body");b.fromDomElements();b.save();return false},accept_click:function(){if($(this).hasClass("disabled")){return false}$(this).addClass("disabled");var H=$(this).hasClass("acceptonly");var I=$(this).attr("req");var J=n.Request.get(I);var K=$("#reqslist > li#req_"+I);if(!Util.isSet(J)){K.addClass("failed");$(".state_accept",K).hide();$(".state_completed",K).fadeIn(500);$(".body p",K).html("There was an error with this request.");return false}if(b.ignoreLimits!==true&&k.is(J.gift.item_id)&&!K.hasClass("asking")){K.addClass("asking");$(".state_accept",K).hide();$(".state_retry",K).fadeIn(500);$(".body p",K).html("You've reached the limit of this gift.<br>Are you sure to continue?");return false}$(".state_accept, .state_completed, .state_retry",K).hide();K.removeClass("asking").addClass("completed");$(".body #loading_overlay",K).show();$(".body p",K).hide();v(J,(b.sendBack&&!H),function(L){var M=L.image?'<img src="'+L.image+'">':"";n.Request.remove(I);b.save();if(i(L.message)){k.add(J.gift.item_id)}$(".body",K).hide().html(M+"<p>"+L.message+"</p>").fadeIn(500);$(".state_completed",K).fadeIn(500)},function(L){$(".body",K).append("<span>"+L+"</span>")});return false},clear_request_click:function(){var H=$(this).attr("req");$("#req_"+H).fadeOut(500,function(){$("#req_"+H).remove()});return false},ignore_request_click:function(){var J=$(this).attr("req");var H=n.Request.get(J);var I=$("#reqslist > li#req_"+J);$(".state_accept, .state_completed, .state_retry",I).hide();$(".body #loading_overlay",I).show();
$(".body p",I).hide();if($(this).hasClass("thanksonly")&&H.send&&H.send.to){httpAjaxRequest({url:H.rem,liteLoad:1});c(H.send,function(K){I.removeClass("asking").addClass("completed");$(".body #loading_overlay",I).hide();$(".body p",I).hide().html("<p>"+K+"</p>").fadeIn(500);$(".state_completed",I).fadeIn(500)},b.sendInternally)}else{httpAjaxRequest({url:H.rem,liteLoad:1,success:function(K){$("#req_"+J).fadeOut(500,function(){$("#req_"+J).remove()})}})}return false},refresh_click:function(){A("ajaxloader","body");$("#category_select",f.content).val("all").change();g(function(){h();A("reqs","body")});return false},clear_all:function(){$("#reqslist li.completed").fadeOut(500,function(){$("#reqslist li.completed").remove()})},reset_click:function(){k.reset();showHelpPopup({icon:"info",title:"Reset Exclude list",message:"The gifts added to the exclude list has been reset."});return false},resetDailyLimit_click:function(){Logger.debug("Daily Gift Count was reset.");b.set("today",(new Date()).getDay());b.set("acceptGiftCount",0);b.save();return false},category_change:function(J){var H="req_box";var I=$("option:selected",this).val();if(I&&I!=="all"){H+=" "+I}$("#reqslist",f.content).attr("class",H)},filter_change:function(J){var I=$(this);var H=I.val();clearTimeout(I.attr("timeout"));if(!Util.isString(H)||H.length<4){$("#reqslist > li.matched",f.content).removeClass("matched");return true}I.attr("timeout",setTimeout(function(){var K=new RegExp(H,"i");$("#reqslist > li",f.content).each(function(L,M){if(K.test($(".body p",M).text())){$(M).addClass("matched")}else{$(M).removeClass("matched")}});if(!$("#reqslist").hasClass("search")){$("#category_select",f.content).val("search").change()}},500))}};function D(H){if(!Util.isSet(n.FriendList.all)){return}if(Util.isSet(n.FriendList[H])&&Util.isSet(n.FriendList[H].uids)){var I=$("#send_body #snd_users");Util.each(n.FriendList[H].uids,function(K,J){try{J=parseInt(J);if(!isNaN(J)&&Util.isSet(n.FriendList.all[J])){var M=e$("option[value="+J+"]",I);if(!M){M=c$("option","value:"+J).appendTo(I)}M.text(n.FriendList.all[J])}}catch(L){}});t("Friends Loaded.")}}function s(I){var H=(n.FriendList.active={name:"Most Active Friends",uids:[]});Util.each(b.activeFriends,function(J,K){if(K>b.activeFRMin){H.uids.push(J)}});Util.each(b.customLists,function(K,J){n.FriendList[K]={name:K.replace(/_/g," "),uids:J}});Util.each(n.FriendList,function(M,J){if(M==="all"){return true}try{var L=$("option[value="+M+"]","#friendlists");if(L.length<1){$("#friendlists").append(c$("option","value:"+M).text(J.name))}else{L.text(J.name)}}catch(K){}})}function E(H){facebook.getAppFriends(function(J){var I=(n.FriendList.all={});if(!J.error){Util.each(J,function(L,K){I[K.uid]=K.name});H&&H()}})}function l(){$("#snd_messages").empty().append(Resources.getPicture("ajax_loader_gif","span").css("padding-left",18).text("Loading Friend Lists..."));var H="free_gift_id=100&free_gift_cat=1&ajax=1&fbml_iframe=1";httpAjaxRequest({url:"remote/"+MW.getIntURL("requests","friend_selector")+H,liteLoad:1,success:function(K){var J=h$(K);var I=Util.doRgx(/MW.Request.setTabFriendLists\(([^\)]+)/,K).$1;if(I){I=Util.parseJSON(I);Util.each(I,function(N,M){var L=String(J.find("#mfs_tab_"+N).text()||N);n.FriendList[N]={name:L,uids:M}});t("All friendlists loaded.");if($(".tab_bar li.active",f.content).attr("tb")==="send"){s()}}}})}function p(K){var H={to:[]};if(K&&K.indexOf("sendGiftbackRequest")>-1){try{var I=Util.doRgx(/sendGiftbackRequest\((.*?)\);/i,K).$1;if(I){I=Util.parseJSON('{"a":['+I+"]}").a;H.to.push(String(I[0]));H.message=I[1];H.data=I[2];H.title=I[3];return H}}catch(J){Logger.error("getSendBackRequest: "+J.message)}}return}function v(L,M,O,N){var I=false,K,J,H=false;if(L.send&&L.send.to){F(L.send.to[0])}httpAjaxRequest({url:L.url,liteLoad:1,success:function(P){I=Util.isBoolean(P.is_success)?P.is_success:(parseInt(P.is_success)===1);if(I){K=P.item_image_path;J=P.success_message;if(M===true&&L.send&&L.send.to){H=true;c(L.send,N,b.sendInternally)}}else{J=P.fail_message?Util.setColor(P.fail_message,"red"):Util.setColor("There was an error with this request.","red")}if(I&&L.type=="gift"){b.acceptGiftCount+=1}O({success:I,image:K,message:J,isBackSent:H})},error:function(P){O({success:false,message:P})}})}function C(L,K,I){var J=L.attr("iid");var H=parseInt(L.attr("count"))-n.Collector.amountOf(J);K=Math.min(H,(K||H));n.Collector.add({iid:J,name:$(".gift_name",L).text(),icon:$("img",L).attr("src"),action:I||$("#mass_body #mss_action").val(),amount:K});return H-K}function F(H){if(!isNaN(H=parseInt(H))){if(Util.isNumber(b.activeFriends[H])){b.activeFriends[H]++}else{b.activeFriends[H]=1}b.save()}}function i(I){var H=new RegExp(b.excludedPattern,"i");if(b.excludedPattern){return H.test(I)}else{return false}}function w(H){if(Util.isString(b.dailyLimit)&&b.dailyLimit.length>3){if((new RegExp(b.dailyLimit,"i")).test(H)){b.set("acceptGiftCount",n.AcceptGiftLimit);b.save();return true}else{return false}}}function z(){var H=Math.max(n.AcceptGiftLimit-b.acceptGiftCount,0);
$("#mss_info",f.content).html("You can collect about "+H+" more gifts today.")}function t(H){if(H){H+="<br>"}else{H=""}H+="You've sent "+b.sendGiftCount+" gifts today.";$("#snd_messages",f.content).html(H)}function r(){var S=false;var H=[];var O=[];var J=[];var Q=$(".snd_selectable li:has(.checked)");var N,M=0;function R(T){var U=(T!==true?"mwa_res_ajax_error_png":"mwa_res_ok_icon_png");$("#snd_messages div[name=load]").attr("name","ok").removeClass().addClass(U)}function K(V,U){var T=Resources.getPicture("info_icon_png");switch(U){case"error":T=Resources.getPicture("ajax_error_png");break;case"load":T=Resources.getPicture("ajax_loader_gif");break}T.prependTo("#snd_messages").attr("name",(U?U:"info")).append(c$("span").html(V))}function P(){K("Process Finished.");$("#send_body .start_ctrl a, #friendlists, .snd_selectable, .tab_bar",f.content).removeClass("disabled")}function L(U){if(S||n.Aborted||!N){P();return}function T(V,X,W){if(V&&X&&W){R(true);U({message:X,data:V,title:W})}else{R(false);K("Error loading the gift data.","error");U()}}K('Loading and preparing "'+N.gift.name+'" to be send.',"load");if(N.gift.request_id){MW.getCityRequest(N.gift.request_id,T)}else{MW.getGiftRequest(N.id,N.gift.item_cat,T,N.gift.params)}}function I(){$("#snd_messages").empty();K(O.length+" Requests To Send.");function U(W){if(S||n.Aborted){P();return}if(!Util.isSet(W)){T();return}var V=Math.min(N.amount,50);W.to=H.splice(0,V);N.amount-=V;K('Sending "'+N.gift.name+'" to '+W.to.length+" friend(s).","load");c(W,function(Y,Z,X){if(n.Aborted===true){return}R(Z);K(Y);if(Z===true){T()}else{if(O.length>0){showAskPopup("Error Sending Requests","Do you want to continue?",T,P)}else{P()}}},b.sendInternally)}function T(){if(S||n.Aborted||H.length<1){P()}else{if(!N||N.amount<1){if(O.length>0){N=O.shift();K("Ready to send x"+N.amount+" "+N.gift.name+".")}else{P();return}}L(U)}}T()}$("#send_body .start_ctrl a, #friendlists, .snd_selectable, .tab_bar",f.content).addClass("disabled");$("#snd_messages").empty();if(Q.length<1){K("Check a gift to send.");P();return}$("#send_body #snd_users option").each(function(T,U){H.push(parseInt(U.value))});if(H.length<1){K("Select which friends you want to send gifts.");P();return}Q.each(function(T,V){var W=$(V).attr("gid");var U=Number($("#gift_"+W+"_quantity",f.content).val()||0);if(U>0){M+=U;O.push({id:W,gift:UserFreeGifts.get(W),amount:U})}else{J.push({id:W,gift:UserFreeGifts.get(W)})}});if(J.length>0){M=H.length-M;if(M>J.length){M=parseInt(M/J.length)}Util.each(J,function(T,U){O.push({id:U.id,gift:U.gift,amount:M})})}I()}function q(){var T=false;var H=[];var O=[];var Q=$(".snd_selectable li:has(.checked)");var L,R,M,J=50;$("#send_body .start_ctrl a, #friendlists, .snd_selectable, .tab_bar",f.content).addClass("disabled");$("#snd_messages").empty();if(Q.length<1){K("Check a gift to send.");P();return}$("#send_body #snd_users option").each(function(U,V){H.push(parseInt(V.value))});if(H.length<1){K("Select which friends you want to send gifts.");P();return}if(Q.length===1){M=UserFreeGifts.get((R=Q.attr("gid")))}else{L=[];Q.each(function(U,V){L.push($(V).attr("gid"))});J=Math.min(50,parseInt(H.length/L.length));L=new Collection(L);L.onEnd(L.MoveFirst);L.onMove(function(V,U,W){M=UserFreeGifts.get((R=W))});L.MoveFirst()}while(H.length>0){O.push(H.splice(0,J))}function N(V){if(T||n.Aborted){P();return}function U(W,Y,X){if(W&&Y&&X){S(true);V({message:Y,data:W,title:X})}else{S(false);K("Error loading the gift data.","error");V()}}K('Loading and preparing "'+M.name+'" to be send.',"load");if(M.request_id){MW.getCityRequest(M.request_id,U)}else{MW.getGiftRequest(R,M.item_cat,U,M.params)}}function I(){var W=O.length;$("#snd_messages").empty();K(W+" Requests To Send. "+J+" friend(s) per request.");function V(X){if(T||n.Aborted){P();return}if(!Util.isSet(X)){U();return}X.to=O.shift();K('Sending "'+M.name+'" to '+X.to.length+" friend(s).","load");c(X,function(Y,Z){S(Z);K(Y);if(Z===true){U()}else{if(O.length>0){showAskPopup("Error Sending Requests","Do you want to continue?",U,P)}else{P()}}},b.sendInternally)}function U(){if(T||n.Aborted||O.length<1){P()}else{if(L){L.MoveNext();setTimeout(function(){N(V)},50)}else{N(V)}}}U()}function S(U){var V=(U!==true?"mwa_res_ajax_error_png":"mwa_res_ok_icon_png");$("#snd_messages div[name=load]").attr("name","ok").removeClass().addClass(V)}function K(W,V){var U=Resources.getPicture("info_icon_png");switch(V){case"error":U=Resources.getPicture("ajax_error_png");break;case"load":U=Resources.getPicture("ajax_loader_gif");break}U.prependTo("#snd_messages").attr("name",(V?V:"info")).append(c$("span").html(W))}function P(){K("Process Finished.");$("#send_body .start_ctrl a, #friendlists, .snd_selectable, .tab_bar",f.content).removeClass("disabled")}I()}function y(){var R=0;var Q=false;var H,L=new Collection(n.Collector.all());var P=n.Request.toGroup("gift");function J(){$(this).unbind().remove();Q=true;O();return false}L.onEnd(O);L.onMove(function(T,S,V){if(V.iid){b.useractions[V.iid]=V.action
}if(Q||n.Aborted){}else{if(V.amount<1||!Util.isSet(P[V.iid])){L.MoveNext()}else{if(b.ignoreLimits!==true&&k.is(V.iid)){I('"'+V.name+'" skipped. Limits are reached.');L.MoveNext()}else{P[V.iid].sort(function(Y,X){var W=(Y.send&&Y.send.to);var Z=(X.send&&X.send.to);if(V.action==="ignore"||V.action==="okonly"){return(W&&!Z)?1:(!W&&Z)?-1:0}else{return(W&&!Z)?-1:(!W&&Z)?1:0}});K(Util.setColor(V.name,"green")+":");H=new Collection(P[V.iid].splice(0,V.amount));H.onEnd(L.MoveNext);H.onMove(U);H.MoveFirst()}}}function U(Y,W,X){if(Q||n.Aborted){return}if(!Util.isSet(X)){H.MoveNext();return}var Z=V.name+" ("+(Y+1)+" of "+V.amount+")";if(V.action==="ignore"){N("Ignore to "+X.name,true);httpAjaxRequest({url:X.rem,liteLoad:1,success:function(aa){n.Request.remove(X.id);I("Request ignored by the user.","info",X);H.MoveNext()}});return}if(V.action==="thank"){N("Thank to "+X.name,true);c(X.send,function(aa){n.Request.remove(X.id);I("Thank only: "+aa,"info",X);H.MoveNext()},true);return}if(b.ignoreLimits!==true&&k.is(V.iid)){L.MoveNext();return}if(V.action==="accept"){N("Accept and Thank to "+X.name,true)}else{N("Accept to "+X.name,true)}v(X,b.sendBack&&(V.action==="accept"),function(aa){n.Request.remove(X.id);if(Q||n.Aborted){return}if(aa.success){R+=1;M(Z,X,aa);if(i(aa.message)&&!k.is(V.iid)){k.add(V.iid);I('Limit reached. "'+V.name+'" added to exclude list.')}}else{I(aa.message,"error",X)}if(w(aa.message)){I("Daily Limit reached, stopped.","info");Q=true;O();return}if(aa.isBackSent!==true){H.MoveNext()}},function(aa){I("Accept and Thank: "+aa,"info",X);H.MoveNext()})}});function M(S,T,U){var V=U.image||global.zGraphicsURL+"v3/icon_gift_27x28_01.png";var X=S+" from "+Util.setAnchor(T.profile,T.name);var W=Util.isString(T.icon)?c$("img").attr("src",T.icon):c$("span");c$("li").prependTo("#mss_successlog").append(c$("h4").html(X)).append(W).append(c$("img").attr("src",V)).append(c$("p").html(U.message))}function I(V,T,U){var W=(T==="error")?Resources.getPicture("ajax_error_png","li"):Resources.getPicture("info_icon_png","li");var S=Util.isSet(U)?Util.setAnchor(U.profile,U.name)+": ":"";if(T!=="error"){V=Util.setColor(V,"#E1E1E1")}else{V=Util.setColor(V,"red")}W.prependTo("#mss_messagelog").append(c$("p").html(S+V))}function K(S){$("#mss_reqname",f.content).html(S)}function N(S,T){$("#mss_messages").toggleClass("mwa_res_ajax_loader_gif",T===true);$("#mss_message",f.content).html(S)}function O(){b.save();L.clear();K("Finished");N(R+" gifts collected.");I("Process finished at "+(new Date()).toUTCString(),"info");$("#mss_messages a").remove();n.Collector.clear();b$("Return","class:short green").css("float","right").appendTo("#mss_messages").click(o.finishCollector_click)}$(".tab_bar",f.content).addClass("disabled");$("#mss_successlog, #mss_messagelog",f.content).empty();$("#mss_messages a",f.content).remove();$("#mss_reqname, #mss_message",f.content).empty();$("#mss_info").hide();$("#mss_messages").show();b$("STOP","class:short red").css("float","right").appendTo("#mss_messages").click(J);I("Process started at "+(new Date()).toUTCString(),"info");L.MoveFirst()}function c(K,M,J){var H=[];if(K&&Util.isArray(K.to)){if(K.to.length===1){if(n.ThankSent[K.to[0]]===true){I();return}}else{Util.each(K.to,function(N,O){if(n.ThankSent[O]!==true){H.push(O)}});if((K.to=H).length<1){I();return}}}else{I();return}function L(N){if(n.Aborted===true){return}facebook.sendRequest(K,function(P){Util.each(K.to,function(Q,R){n.ThankSent[R]=true});if(P===false){if(N>0){L(--N)}else{M(Util.setColor("Error sending request.","red"),false)}}else{var O=Util.parseNum(h$(P).text());b.sendGiftCount+=O;M(P,true,O)}},J)}function I(){M(Util.setColor("Can't sent to this user(s) again.","yellow"),false)}L(3)}function g(H){httpAjaxRequest({url:"remote/"+MW.getIntURL("messageCenter","view"),success:function(L){var I=h$(L);var J=I.find("script:regex(ZmcController)");var K=I.find("ul#zmc_message_list_ul li");f.content.append(J);J=unsafeWindow.ZmcController;n.Request=new j();if(Util.isSet(J.allEvents)){Util.each(J.allEvents,function(M,N){n.Request.add(new G(N))})}else{K.each(function(M,N){n.Request.add(new B(N))})}H&&H(true)},error:function(I){H&&H(false);showBadResponse(I)}})}function A(I,K,H,J){$("div[id*=_"+K+"]",f.content).hide();var L=$("#"+I+"_"+K,f.content);if(H){L.fadeIn(H,J)}else{L.show()}}function x(){f.content.height(680);var L=c$("ul","class:tab_bar").appendTo(f.content);c$("li","tb:reqs,class:request active").appendTo(L).click(o.tab_click).append(c$("a","href:#").html("<span><em>Requests</em></span>"));c$("li","tb:mass,class:collector").appendTo(L).click(o.tab_click).append(c$("a","href:#").html("<span><em>Collector</em></span>"));c$("li","tb:send,class:sender").appendTo(L).click(o.tab_click).append(c$("a","href:#").html("<span><em>Sender</em></span>"));c$("li","tb:cnfg").appendTo(L).click(o.tab_click).append(c$("a","href:#").html("<span><em>Configuration</em></span>"));c$("div","ajaxloader_body").css("padding-top",40).height(600).appendTo(f.content).append(c$("img").attr("src",global.zGraphicsURL+"socialmissions/ajax-loader.gif"));
function M(O){var N=c$("div","class:frame_box").appendTo(O);c$("div").css("float","left").appendTo(N).append(t$("filter_text","Search:",150)).append(s$("category_select","Category:",150));c$("div").css("float","right").appendTo(N).append(b$("Clear all","class:short white").click(o.clear_all)).append(b$("Refresh","class:short orange").css("margin-left",5).click(o.refresh_click));c$("ul","id:reqslist,class:req_box").height(560).appendTo(O)}function J(O){var N=c$("div","class:frame_box").appendTo(O);c$("div","id:mss_info").css("min-height",40).appendTo(N);c$("div","id:mss_messages").append(c$("span","id:mss_reqname")).append(c$("span","id:mss_message").css("margin-left",5)).appendTo(N);N=c$("div","id:setup_mass,class:frame_box").appendTo(O).css("height",520);c$("div","class:li_wrapper").appendTo(N).append(c$("div","class:top_ctrl").css("height",60).append(s$("mss_action","Action:",260)).append(c$("div").css({clear:"both","margin-top":4})).append(n$("mss_amount","Amount:",50)).append(b$("Selected","class:short green").click(o.addGift_click)).append(b$("All","class:short white").click(o.addAllGifts_click)).append(b$("All (S)","class:short white,mode:1").click(o.addAllGifts_click))).append(c$("ul","class:mss_selectable").css("height",430));c$("div","class:li_wrapper").appendTo(N).append(c$("ul","class:mss_selected")).append(c$("center","class:start_ctrl").append(b$("CLEAR","class:medium white").click(o.clearCollector_click)).append(b$("START!","class:medium green").click(o.startCollector_click)));O=c$("div","logger_mass").appendTo(O);O.append(c$("ul","mss_messagelog").height(250));O.append(c$("ul","mss_successlog").height(300))}function H(O){var N=c$("div","class:frame_box").appendTo(O);c$("div","id:snd_messages").appendTo(N);N=c$("div","class:frame_box").appendTo(O).css("height",500);c$("div","class:li_wrapper").appendTo(N).append(c$("div","class:top_ctrl").appendTo(N).append(x$("fgopt_hideunchecked","Hide unchecked gifts.").click(o.toggleGiftsVisibility))).append(c$("ul","class:snd_selectable").css("height",436));c$("div","class:li_wrapper").appendTo(N).append(c$("div","class:top_ctrl").appendTo(N).append(s$("friendlists","List:",200)).append(c$("a","id:remove_list_btn").text("Remove").click(o.removeList_click))).append(c$("select","multiple:multiple,id:snd_users").css({height:406,width:"100%",margin:0})).append(c$("center","class:start_ctrl").append(b$("CLEAR","class:medium white").click(o.clearFriends_click)).append(b$("EDIT","class:medium orange").click(o.editFriends_click)).append(b$("SAVE","class:medium orange,id:save_friends_btn").click(o.saveFriends_click)).append(b$("SEND","class:medium green").click(o.startSending_click)));$("#friendlists").change(o.friendLists_change)}function K(N){c$("div","class:frame_box").append(x$("fgopt_sendback",'Send requests back (check "Don\'t ask again..." on confirmation box to make it faster).')).append(c$("div").css({clear:"both","margin-bottom":5})).append(x$("fgopt_sendinternally","Send requests internally only (don't send facebook request).")).append(c$("div").css({clear:"both","margin-bottom":5})).append(x$("fgopt_ignorelimits","Continue collecting when limits are reached.")).appendTo(N);c$("div","class:frame_box").append(c$("h4").css("margin",0).text("Daily Limit:")).append(c$("a","href:#").text("Reset internal count.").click(o.resetDailyLimit_click)).append(c$("div").css({clear:"both","margin-bottom":5})).append(c$("input:text","id:fgopt_dailylimit").width("100%")).appendTo(N);c$("div","class:frame_box").append(c$("h4").css("margin",0).text("Excluded Gifts:")).append(c$("a","href:#").text("Reset all gifts in excluded list.").click(o.reset_click)).append(c$("div").css({clear:"both","margin-bottom":5})).append(c$("input:text","id:fgopt_excludedpattern").width("100%")).appendTo(N);c$("div","class:frame_box").append(c$("h4").css("margin",0).text("Active Friends:")).append(n$("fgopt_activefrmin","Active Friends are those who send me",50)).append(c$("span").text("requests or more.  ")).append(c$("div").html("Total Active Friends "+Util.setColor(0,"yellow","total_activefriends"))).append(c$("div").html('Only those friends which you can send requests will be added when you select "Active Friends" list.')).append(c$("div").css({clear:"both","margin-bottom":5})).append(c$("a","href:#").text("Reset active friends list.").click(o.resetActiveFriends_click)).appendTo(N)}M(c$("div","reqs_body").height(640).appendTo(f.content));J(c$("div","mass_body").height(640).appendTo(f.content));H(c$("div","send_body").height(640).appendTo(f.content));K(c$("div","cnfg_body").height(640).appendTo(f.content));$("#filter_text",f.content).keypress(o.filter_change).change(o.filter_change);$("#category_select",f.content).change(o.category_change);UserFreeGifts.each(function(P,O){var N=x$("checked_gift_"+P,O.name,"div");if(b.selectedGifts[P]===true){N.addClass("checked")}c$("li","gid:"+P).appendTo(".snd_selectable").append(n$("gift_"+P+"_quantity")).append(N.css("float","left").prepend(c$("img").attr("src",UserFreeGifts.getImageUrl(O.img))))
},true);function I(){var N={all:"All",search:"Search"};Util.each(n.Events,function(P,O){if(O!=="none"){N[O]=Util.formatText(O.replace(/_/g," "))}});return N}f.applyOptions({mss_action:{accept:"Accept And Thank",okonly:"Accept Only",thank:"Thank Only",ignore:"Ignore"},category_select:I(),friendlists:{none:"New List",active:"Most Active"}})}function h(){var I=$("#reqslist",f.content).empty();var H=Resources.getPicture("ajax_loader_gif").text("Loading...").css("padding-left",18).attr("id","loading_overlay");n.Request.each(function(N,L){var J='<a href="'+L.profile+'" target="_black">'+L.name+"</a>";var K=c$("span","class:player_pic,title:"+L.name);var M=c$("li","id:req_"+N+",class:"+L.type).appendTo(I);M=c$("div","class:li_wrapper clearfix").appendTo(M);if(L.icon){K.css("background","url('"+L.icon+"') 50% 50% no-repeat")}K.append(c$("span")).appendTo(M);if(b.sendBack&&L.send&&L.send.to){c$("div","class:buttons state_accept").appendTo(M).width(150).append(b$("Accept And Thank","class:medium white,req:"+N).click(o.accept_click)).append(c$("a","href:#,class:acceptonly,req:"+N).text("accept").click(o.accept_click)).append(c$("span").text(" | ")).append(c$("a","href:#,class:thanksonly,req:"+N).text("thanks").click(o.ignore_request_click)).append(c$("span").text(" | ")).append(c$("a","href:#,class:ignore,req:"+N).text("ignore").click(o.ignore_request_click))}else{c$("div","class:buttons state_accept").appendTo(M).append(b$("Accept","class:medium white,req:"+N).click(o.accept_click)).append(c$("a","href:#,class:ignore,req:"+N).text("ignore").click(o.ignore_request_click))}c$("div","class:buttons state_retry").appendTo(M).hide().append(b$("Clear","class:medium white,req:"+N).click(o.clear_request_click)).append(c$("a","href:#,class:ignore,continue:true,req:"+N).text("continue").click(o.accept_click));c$("div","class:buttons state_completed").appendTo(M).hide().append(b$("Clear","class:medium white,req:"+N).click(o.clear_request_click));c$("div","class:body").append("<h4>"+J+"</h4><p>"+L.body+"</p>").appendTo(M).append(H.clone().hide())});if($("li",I).length<1){c$("li").appendTo(I).append(c$("center").css("padding-top",40).text("You don't have request."))}}function d(){var H=$(".mss_selectable",f.content).empty();Util.each(n.Request.toGroup("gift"),function(J,I){var M=I[0].gift,K=I[0].body,L=I.length;L-=n.Collector.amountOf(J);if(L<1){return}c$("li","iid:"+J+",title:"+K+",count:"+I.length).appendTo(H).append(c$("img").attr("src",M.img)).append(c$("div","class:gift_amount").text(I.length+"x")).append(c$("div","class:gift_name").text(M.name)).click(o.selectGift_click)})}function a(){var H=$("#mass_body .mss_selected",f.content).empty();n.Collector.each(function(I,K){var J=$("#mss_action option[value="+K.action+"]","#mass_body").text();J=Util.setColor(J,"green")+" ";J+=Util.setColor(K.amount,"yellow");c$("li").appendTo(H).click(o.removeFromCollector).append(c$("img").attr("src",K.icon)).append(c$("div","class:gift_name").html(J+" "+K.name)).append(c$("div","class:remove,index:"+I).click(o.removeFromCollector))})}function m(){var H=new Date().getDay();if(b.today!==H){b.set("sendGiftCount",0);o.resetDailyLimit_click()}loadingScreen("Loading requests...");g(function(I){loadingScreen();if(I!==true){f.destroy();return}n.Collector=new u();x();h();b.toDomElements();A("reqs","body");A("control","panel");A("setup","mass");E(l);f.show();o.toggleGiftsVisibility()})}facebook.init(function(H){if(H===true){b.load(function(){showSupportPopup("FreeGiftsCenter",m)})}else{f.destroy()}})}UserConfig.create("hfopt",{_excludedToExport:["collectedStreams","lastPostTime","warLootCollected","warLootNames","warLootAttack","warLootDefense"],actions:{skipif:{},fail:{}},disableAPI:false,maxLogLength:50,lastPostTime:0,collectedStreams:[],feedsLimit:100,fbListFilterOn:false,fbListFilter:{},userFilterOn:false,userFilter:{},doGotoWar:false,doGiveSocialHelp:true,GiveSocialHelp:{},doSocialMissions:false,doClaimBonusAndReward:true,ClaimBonusAndReward:{},doPropertyHelp:true,PropertyHelp:{},doSendEnergyAndPhones:true,doAcceptGiftEvent:true,doCityCrew:true,doDailyTake:true,helpDelay:3,refreshDelay:60,joinMission:0,joinMissionAfter:0,diff_easy:false,diff_medium:false,diff_hard:true,diff_event:false,maxFreeSlots:100,warLootSkipCollected:true,warLootCollected:{},warLootNames:[],warLootAttack:0,warLootDefense:0,warLootExpertMode:false,opUseNameFilter:false,opNameFilter:"",dtCheckMinAtkDef:false,dtMinAttack:30,dtMinDefense:30,dtLootPriority:"Attack Point\nDefense Point",skipUnknowWarLeader:false,skipFriendlyWarLeaders:false});var UserStreams={content:[],add:function(b,a){UserStreams.content.push({id:b,action:a})}};function HomeFeedCenter(){var a="Unexpected server response, check this stream manually.";var b=new TimerMessage("#auto_feed_helper_messages");var g=false;var r=true;var J;var I;var D;var y=UserConfig.hfopt;var p=new PopupObject("homefeedcenter_popup",{type:"main",title:"HOME FEED CENTER",onclose:function(){g=true;httpAjaxStopRequests();b.clear();y.fromDomElements();
y.save()}});var s={none:"General",doGotoWar:"Go to War",doGiveSocialHelp:"Give Social Help",doDailyTake:"Daily Take",doSocialMissions:"Operations",doClaimBonusAndReward:"Claim Bonus And Reward",doPropertyHelp:"Property Help",doSendEnergyAndPhones:"Send Energy And Phones",doCityCrew:"City Crew"};var O=function(Y){var W=this;var X;try{if(!Y.attachment){throw Error("Stream: Invalid feed")}var Z=Y.attachment.media[0];if(!Y.attachment.href){Y.attachment.href=Z.href}if(!Y.attachment.href){throw Error("Stream: Invalid href")}if(/app_full_proxy/.test(Z.src)){Z.src=unescape(Util.uSplit(Z.src).src)}W.url=Util.uSplit(Y.attachment.href);W.id=W.url.next_controller+"_"+W.url.next_action;W.url=M(W.url);W.action=D.get(W.id,W.url);W.isValid=true;W.feed=Y;W.user_id=Y.source_id;W.isNew=(Y.created_time>y.lastPostTime);W.gid=(W.action?W.action.group:"")}catch(V){W.id="Unknow";W.isValid=false;Logger.error(V.message)}W.isCollected=function(){return false;var aa=y.collectedStreams;if(Util.isArray(aa)){return aa.indexOf(Y.post_id)!==-1}else{y.set("collectedStreams",[]);y.save()}return false};W.collected=function(){var aa=y.collectedStreams;if(!Util.isArray(aa)){y.set("collectedStreams",(aa=[]))}else{if(aa.length>199){aa=aa.splice(0,1)}}aa.push(Y.post_id);y.save()};return this};var o=function(V,W){var Z=y.get("lastPostTime");var X=Z;var Y=[];this.get=function(aa){return Y[aa]};this.shift=function(){return Y.shift()};this.remove=function(aa){Y[aa]=null};this.length=function(){var aa=0;for(var ab=0;ab<Y.length;ab++){if(Util.isSet(Y[ab])){aa++}}return aa};this.each=function(aa){Util.each(Y,aa)};this.slice=function(aa){Y=Y.slice(0,aa)};Util.each(V,function(af,ad){if(ad&&ad.created_time){var ac=parseFloat(facebook.session.uid);var aa=parseFloat(ad.source_id);var ae=ad.target_id?parseFloat(ad.target_id):null;if(ad.created_time>X){X=ad.created_time}if(aa!==ac&&(ae==null||ae==ac)){var ab=new O(ad);if(ab.isValid&&(W!==true||ab.isNew)){Y.push(ab)}}}});y.set("lastPostTime",X);y.save();this.lastTime=X;return this};var U=function(V){this.name=V.name;this.group=V.group;this.next=V.next;this.skipif=V.skipif;this.fail=V.fail;return this};var Q=function(){var V={};this.add=function(X,W){V[X]=W};this.get=function(Y,W){var X=V[Y];if(X&&X.match&&Util.isString(W)){Util.each(X.match,function(aa,Z){if(W.indexOf(aa)>-1){X=Util.merge(Z,X,new RegExp("name|match"));return false}})}return X};this.each=function(W){Util.each(V,W)};return this};var B=function(V){var X=/do_ajax\('popup_fodder','(remote\/html_server.php[^']+)/i;var W=$("div:first img",V);this.pic=W.attr("src");this.url=Util.doRgx(X,$(".collectbutton a",V).attr("onclick")).$1;this.attack=parseInt($(".attack",V).text()||0);this.defense=parseInt($(".defense",V).text()||0);this.name=W.attr("title");return this};var N=function(){var V=[];this.add=function(W){if(W&&W.url){V.push(W)}};this.length=function(){return V.length};this.get=function(W){return V[W]};this.getByName=function(X){var W;if(Util.isString(X)&&X.length>0){var Y=new RegExp(X,"i");Util.each(V,function(Z,aa){if(Y.test(aa.name)){W=aa;return false}})}return W};this.getByStats=function(Y,X){var W;if(Util.isString(name)&&name.length>0){Util.each(V,function(Z,aa){if(aa.attack>=Y||aa.defense>=X){W=aa;return false}})}return W};this.names=function(){var W=[];Util.each(V,function(X,Y){W.push(Y.name)});return W.join(", ")};this.each=function(W){Util.each(V,W)};return this};var S={expertMode:function(){$("#doGotoWar_config",p.content)[$(this).hasClass("checked")?"addClass":"removeClass"]("expert-mode-on");return false},editlootName:function(){var W=[];var V="Set loot by name, put them separated by lines:";$("#warlootnames option",p.content).each(function(X,Y){W.push(Y.innerText)});showPromptPopup(V,W.join("\n"),function(X){if(!X){y.warLootNames=[]}else{W=[];Util.each(X.split("\n"),function(Z,Y){if((Y=Util.trim(Y)).length>1){W.push(Y)}});y.warLootNames=W}y.save();t()},200);return false},selectHelp:function(){var Z=$(this),W=$("#logList");var aa=Z.position(),V=Z.width();var X=W.position().top;var Y=X+W.height()-Z.outerHeight();Z.addClass("selected").css({top:Math.max(X,Math.min(Y,aa.top)),width:V})},unselectHelp:function(){$(this).removeAttr("style").removeClass("selected")},likeFeed_click:function(){var V=$(this);V.unbind().css("opacity",0.5);facebook.likeAdd(V.attr("postid"),function(W){if(W===true){V.replaceWith(Util.setColor("Liked!","yellow")).css("opacity",1)}else{V.replaceWith(Util.setColor("Fail","red")).css("opacity",1)}});return false},addFblistToFilter_click:function(){n();return false},addUserToFilter_click:function(){var V=[];var W=$("#hfopt_userfilter");$("option",W).each(function(X,Y){V.push(Y.value)});showFriendsSelector(function(X){if(X&&X.length>0){W.empty();Util.each(X,function(Z,Y){c$("option","value:"+Y.uid).text(Y.name).appendTo(W)})}},V);return false},clearUserFilter_click:function(){$("#hfopt_userfilter",p.content).empty();return false},clearFblistFilter_click:function(){$("#hfopt_fblistfilter",p.content).empty();y.set("fbListFilter",{});
return false},helpFeed_click:function(){if($(this).hasClass("disabled")){return false}$(this).addClass("disabled");var W='Unknow feed.<br>You can still help by <a href="${link}" target="_black">click here</a>.';var ab=$(this).attr("feed");var aa=$("li[feed="+ab+"]");var Y=$(".body > p",aa).empty();var V=$(".state_completed",aa);var X=I.get(ab);$(".state_accept, .state_completed",aa).hide();if(X&&X.action&&h(X.action.enable)){Resources.getPicture("ajax_loader_gif","span").appendTo(Y).css("padding-left",18).text("Loading...");E(X.url,X.action,function(ac,ad){ac=l(ac);X.collected();aa.addClass("collected");if(ad===true){m(V,X.feed.post_id,ac)}Z(ac)})}else{Z(Util.render(W,{link:X.feed.attachment.href}));aa.addClass("collected")}function Z(ac,ad){Y.hide().html(ac).fadeIn(500,function(){V.show()})}return false},deleteFeed_click:function(){L($(this).attr("feed"));return false},skip_click:function(){f("control","panel",500,R("#status_panel","empty"))},refresh_click:function(){f("ajaxloader","body");f("status","panel");c$("div").css("padding-top",5).appendTo($("#status_panel").empty()).text("Loading... wait a moment please.");H(function(V){if(!Util.isArray(V)){v();return}I=new o(V);j();t();f("feedlist","body");f("control","panel",500)})},cancel_click:function(){b.clear();g=true;y.save(S.refresh_click);$("#logList, #logSkippedList").empty();return false},config_click:function(){$("#control_panel").fadeOut(500,function(){$("#minipopup_overlay").fadeIn(500);$("#panel_container").animate({height:290},"normal",function(){$("#config_panel").fadeIn(500)})})},save_click:function(){y.fromDomElements();y.save();$("#config_panel").fadeOut(500,function(){$("#panel_container").animate({height:35},"normal",function(){$("#minipopup_overlay").fadeOut(500);$("#control_panel").fadeIn(500)})})},keyup:function(){var V=this.value;clearTimeout($(this).attr("timeout"));$(this).attr("timeout",setTimeout(function(){if(Util.isString(V)&&V.length>3){$("li[feed]","#feedlist_body").each(function(W,X){if(Util.doRgxTest(V,$(".body > p",X).text())){$(X).show()}else{$(X).hide()}})}else{$("li[feed]","#feedlist_body").show()}},1000))},change:function(){var V=$("option:selected",this).val();if(V==="none"){$("li[feed]","#feedlist_body").show();return}$("li[feed]","#feedlist_body").hide();$("li[gid="+V+"]","#feedlist_body").show()},clearall:function(){$("li.collected",p.content).each(function(V,W){L($(W).attr("feed"))})},clearCollected:function(){showAskPopup("Clear Collected","Cant be undone.<br>Are you sure?",function(){y.warLootCollected={};y.save();t()});return false},config_change:function(X){var V=$(this).parent();var W=$(this).attr("name");if(!$(X.target).hasClass("checkbox")&&!$(this).hasClass("selected")){$(".selected",V).toggleClass("selected",false);$(this).toggleClass("selected",true);f(W,"config")}return false},subconfig_change:function(Y){var V=$(this).parent().parent();var W=$(this).attr("name");var X=D.get(W);if(!$(Y.target).hasClass("checkbox")&&!$(this).hasClass("selected")){$(".selected",V).removeClass("selected");$(this).addClass("selected");if(X){$("#action_skipif",V).attr("name",W).val(X.skipif||"");$("#action_fail",V).attr("name",W).val(X.fail||"")}}return false},action_issue_change:function(){var X=$(this).attr("name");var V=Util.doRgx(/action_(\w+)/,this.id).$1;var W=this.value;if(!Util.isString(X)||!Util.isString(W)){return}if(W.length<1){delete D.get(X)[V];delete y.actions[V][X]}else{if(W!==D.get(X)[V]){y.actions[V][X]=W;D.get(X)[V]=W}}}};function R(V,X,W){return function(){$(V,W)[X]()}}function n(){loadingScreen("Loading Facebook Friend lists...");facebook.friendlist(function(V){loadingScreen();if(!Util.isArray(V.data)){return}var X=c$("div","class:fb_friendlist");Util.each(V.data,function(Y,Z){if(Z.list_type==="user_created"){x$(Z.id,Z.name,"div").appendTo(X).toggleClass("checked",Util.isSet(y.fbListFilter[Z.id]))}});var W=c$("div").css("text-align","left").append(X);showMiniPopup({id:"addfriendlist",parent:p.content,content:W,title:"ADDING FRIENDLISTS FILTER",accept:function(){y.set("fbListFilter",{});$(".checkbox.checked",X).each(function(Y,Z){y.fbListFilter[Z.id]=$(Z).text()});y.toDomElements();y.save()}})})}function t(){var V=$("#warlootnames").empty();Util.each(y.warLootNames,function(X,W){c$("option","value:"+W).appendTo(V).text(W)});V=$("#warlootcollected").empty();Util.each(y.warLootCollected,function(X,W){c$("option","value:"+X).appendTo(V).text("x"+W.count+" "+W.name)})}function A(V){var X=$(V);if(!X.length||!X.attr){return""}var W=X.attr("href");if(typeof(W)=="string"&&/https?/.test(W)){return W}return Util.doRgx(/['"](remote[^'"]*)/,X.attr("onclick")).$1}function M(Z){if(!Util.isSet(Z)){return""}var W,V;var Y="remote/"+MW.getIntURL(Z.next_controller,Z.next_action);var aa=function(ab){return Util.doRgx(/"([^"]+)"/,ab).$1||ab};for(var X in Z){if(!/next_|from|zy_track|value/.test(X)){if(X==="friend"){Y+=("&"+X+"="+Util.parseNum(Z[X]))}else{Y+=("&"+X+"="+Z[X])}}}if(String(Z.next_params).charAt(0)==="{"){Util.each(Util.parseParam(Z.next_params),function(ac,ab){Y+=("&"+ac+"="+ab)
})}if(String(Z.value).charAt(0)==="{"){Util.each(Util.parseParam(Z.value),function(ac,ab){Y+=("&"+ac+"="+ab)})}return Y}function l(V){if(typeof(V)!=="string"){return V}var W=$("<div>"+V.replace(/<div[^>]*>/g,"<div>")+"</div>");$("img, .sexy_button_new, .sexy_button, br, div:empty, .msg_energy_but_col, script",W).remove();return W.html()}function m(W,V,X){X=h$("<div>"+X+"</div>").text();if(!V||!(Util.isString(X)&&X.length>2)){return}c$("a","href:#,class:ignore").text("Comment").appendTo(W).click(function(){var Y=$(this);Y.unbind().css("opacity",0.5);facebook.commentAdd(V,X,function(Z){if(Z&&Z.id){Y.replaceWith(Util.setColor("Commented!","yellow")).css("opacity",1)}else{Y.replaceWith(Util.setColor("Fail","red")).css("opacity",1)}});return false})}function h(V,W){if(typeof(V)=="undefined"){return true}return $(V,W).attr("checked")}function k(){var V=parseInt(y.get("refreshDelay"));if(V<2){V=2}return V}function w(){if(UserStreams.content.length>0){Util.each(UserStreams.content,function(V,W){if(W.id&&W.action){if(W.action.group!=="none"&&Util.isSet(s[W.action.group])){D.add(W.id,W.action)}}})}D.add("DailyTakeV3_collect_stake",{name:"Daily Take Reward",group:"doDailyTake",next:C,skipif:"You have already collected"});D.add("war_view",{name:"Go to war",group:"doGotoWar",next:K});D.add("war_share_reward_feed_click",{name:"Claim war reward",group:"doClaimBonusAndReward",next:P,fail:"You cannot claim this reward"});D.add("socialmission_joinMission",{name:"Join in a mission",group:"doSocialMissions",next:F});D.add("robbing_mastery_bonus",{name:"Claim robbing mastery bonus",group:"doClaimBonusAndReward",next:".message_body a:regex(href,xw_action=mastery_bonus)"});D.add("index_ach_celeb",{name:"Get archivement reward",group:"doClaimBonusAndReward",next:".message_body a:regex(href,xw_action=ach_celeb)",fail:"You already got the bonus before|This bonus has expired"});D.add("story_claim_boss_bonus",{name:"Claim a boss bonus",group:"doClaimBonusAndReward",next:".message_body a:regex(href,xw_action=claim_boss_bonus)"});D.add("index_crm_levelup_claim",{name:"Get free Loyalty Points",group:"doClaimBonusAndReward",next:".message_body a:regex(href,xw_action=crm_levelup_claim)",skipif:"have already received the maximum amount",fail:"You are too late"});D.add("propertyV2_getBoost",{name:"Get a property boost",group:"doPropertyHelp",next:".message_body a:regex(href,xw_action=getBoost)"});D.add("index_send_energy_mbox",{name:"Send energy",group:"doSendEnergyAndPhones",next:".message_body a:regex(href,xw_action=send_energy_mbox)"});D.add("socialmission_rewardBrag",{name:"Claim social mission reward",group:"doClaimBonusAndReward",fail:"You are too late to claim a reward."});D.add("job_collect_loot",{name:"Collect a loot",group:"doPropertyHelp",skipif:"have to wait"});D.add("limitedTimeProperty_addPropertyPart",{name:"Send Limited Time Property Parts",group:"doPropertyHelp",skipif:"You have already sent \\d+ parts today",fail:"You have already sent|feed have been claimed|feed has expired|has all parts needed|could not be completed"});D.add("limitedTimeProperty_addAnyPropertyPart",{name:'Send "Any" Limited Property Parts',group:"doPropertyHelp",skipif:"You have already sent \\d+ parts today",fail:"You have already sent|feed have been claimed|feed has expired|You can only send parts to friend"});D.add("limitedTimeProperty_upgradeBragFeed",{name:"Limited Time Property Upgraded",group:"doPropertyHelp",skipif:"You already have all parts needed for this level",fail:"All rewards from this feed have been claimed|You have already collected|feed has expired"});D.add("fight_iced_boost_claim",{name:"Get iced boost",group:"doClaimBonusAndReward",skipif:"You can only receive \\d+ free iced fight boosts per day",fail:"This boost is no longer available"});D.add("fight_send_boost_from_feed",{name:"Collect Fight Boost",group:"doClaimBonusAndReward",fail:"This boost is no longer available|You have already received|You are too late"});D.add("index_levelUpBonusClaim",{name:"Get levelup Bonus",group:"doClaimBonusAndReward",skipif:"You have already collected the maximum",fail:"available bonus rewards have already been claimed|You have already received"});D.add("lootladderevent_share_feed_click",{name:"Collect a Share Loot Event",group:"doClaimBonusAndReward",skipif:"try again tomorrow"});D.add("lootladderevent_ask_feed_click",{name:"Collect an Ask Loot Event",group:"doClaimBonusAndReward",skipif:"try again tomorrow"});D.add("lootladderevent_brag_feed_click",{name:"Collect a Golden Loot Event",group:"doClaimBonusAndReward",skipif:"try again tomorrow"});D.add("Epicclanboss_ask_feed_click",{name:"Collect Boss help item",group:"doClaimBonusAndReward",skipif:"You have already collected \\d+ Rifle Rounds today|You are at max capacity",fail:"You are too late|already collected"});D.add("job_give_help",{name:"Give job help",group:"doGiveSocialHelp",skipif:"Try again tomorrow",fail:"You are too late to help|have already helped|already helped out"});D.add("story_give_help_social",{name:"Give social help",group:"doGiveSocialHelp",skipif:"Try again tomorrow",fail:"You are too late to help|have already helped|already helped out"});
D.add("story_give_help_moscow_social",{name:"Give moscow help",group:"doGiveSocialHelp",skipif:"Try again tomorrow",fail:"You are too late to help|have already helped|already helped out|to be social network friends"});D.add("job_sd_boost_get",{name:"Collect 2x loot boosts",group:"doClaimBonusAndReward",skipif:"you can only collect \\d+ boosts from feeds per day",fail:"these boosts have already been claimed|already helped your friend|this request has expired"});D.add("propertyV2_one_click_get",{name:"Get Rob Squad",group:"doPropertyHelp",skipif:"can only collect \\d+ Rob Squads|you have too many Rob Squads in your inventory",fail:"already helped your friend|request has expired"});D.add("propertyV2_collect_all_share",{name:"Get Free Property Parts",group:"doPropertyHelp",skipif:"you have already collected the maximum amount",fail:"already helped your friend|you are too late"});D.add("propertyV2_itemFeedHelp",{name:"Property item Help",group:"doPropertyHelp",skipif:"You have already helped \\d+ people today",fail:"has already received the maximum amount|You have already helped"});D.add("propertyV2_cs_redeem_special_item_feed",{name:"Property special help",group:"doPropertyHelp",fail:"cannot receive any more Exotic Feeds from you today"});D.add("ClanProperty_getPartsFromFeed",{match:{"item_id=20000":{name:"Get Reinforced Concrete"},"item_id=13000":{name:"Get Artillery Shell"}},name:"Get Clan Property Parts",group:"doPropertyHelp",skipif:"already collected the maximum number",fail:"already collected from this request|There was an issue processing your request"});D.add("index_levelup_boost_claim",{name:"Get levelup boost",group:"doClaimBonusAndReward",fail:"All of the available bonus rewards have already been claimed."});D.add("FeedOfTheDay_feed_accept",{name:"Collect Don's Gift",group:"doClaimBonusAndReward",fail:"already helped your friend with this request",skipif:"You have reached your limit for collecting"});D.add("job_mastery_feed_claim",{name:"Collect job Mastery reward",group:"doClaimBonusAndReward",skipif:"have claimed the maximum number",fail:"You can only claim this reward once"});D.add("quest_questFeedReward",{name:"Claim quest reward",group:"doClaimBonusAndReward",skipif:"you may only accept \\d+ rewards a day",fail:"the max number of people have already|you may only collect from a feed once|encountered an error"});D.add("job_accept_city_crew_feed",{name:"Join in a crew",group:"doCityCrew",fail:"Crew queue is full|users already assisted|time limit to assist|You are already"});D.add("bossfightv2_ask_feed_click",{name:"Collect a Boss Fight item",group:"doClaimBonusAndReward",fail:"feed has expired"});D.add("map_mapboss_reward_claim",{name:"Claim boss reward",group:"doClaimBonusAndReward",fail:"You have already received"});D.add("propertyV2_getCustomer",{name:"Get a customer",group:"doPropertyHelp",fail:"You already helped this user"});D.add("propertyV2_cs_help_item",{name:"Send Property Parts",group:"doPropertyHelp",fail:"has received all the help"});D.add("index_send_energy",{name:"Send energy",group:"doSendEnergyAndPhones",fail:"You have already helped today|has already got their Energy"});D.add("index_power_pack_get",{name:"Send Power Pack",group:"doSendEnergyAndPhones",fail:"already helped|feed is expired|you have too many"});D.add("robbing_call_for_help_get_phone",{name:"Get robbing phone",group:"doSendEnergyAndPhones",fail:"too many friends help|You cannot help"});D.add("robbing_one_click_get",{name:"Get Rob Squad",group:"doSendEnergyAndPhones",fail:"you've already helped"});D.add("job_accept_city_crew",{name:"Join in a crew",group:"doCityCrew"});D.add("propertyV2_cs_help_initial",{name:"Property Started",group:"doPropertyHelp"});D.add("propertyV2_cs_help_final",{name:"Property Upgraded",group:"doPropertyHelp"})}function E(V,W,X){httpAjaxRequest({url:V,error:function(){X("Error getting response from server.")},success:function(ab){var aa,Z,Y=h$(ab);if((Z=Y.find(".fl_Container .fl_Box")).length>0){if((aa=Z.find(".fl_Msg, div:first").text())){X(Util.trim(aa),!Util.doRgxTest(W.fail,aa))}else{aa=Z.find(".fl_Sorry1, .fl_Sorry2").text();X(Util.trim(aa||a),false)}return}if(Util.isFunc(W.next)){W.next.apply(W,[Y,X])}else{if(Util.isString(W.next)&&(Z=Y.find(W.next)).length>0){E(A(Z),{},X)}else{aa=Y.find(".message_body:first, #mbox_generic_1 tr:eq(1)").html();if(aa&&aa.length>0){X(aa,!Util.doRgxTest(W.fail,aa))}else{X(a)}}}}})}function L(W){var V=$("li[feed="+W+"]");V.fadeOut(500,R(V,"remove"));I.remove(parseInt(W));$("#total_feeds","#feed_center_header").html(I.length())}function v(){f("feedlist","body");$("#status_panel").empty().append(c$("div").css({"text-align":"center","padding-top":5}).append(c$("span").text("There is some error in facebook response.")).append(b$("Retry","class:short white").css("margin-left",5).click(S.refresh_click)).append(b$("Cancel","class:short white").css("margin-left",5).click(S.skip_click)))}function c(V,W,X){X=String(y.get(X));if(y.get(W)&&X.length>1){return !(new RegExp(X.replace(/\s*,\s*/g,"|"),"i")).test(V)
}return false}function K(Z,ah){var X=Z.find(".helpers_rewards ul img").attr("title");var aa=Util.parseNum(Util.doRgx(/Attack:\s?(\d+)/i,X).$1||1);var ac=Util.parseNum(Util.doRgx(/Defense:\s?(\d+)/i,X).$1||1);var W=$(".leader_info li div img",Z).attr("src");var ai;var ab={att:"a:regex(href,xw_controller=war&xw_action=attack)",shr:".war_attacks div.left a:regex(href,controller=stats)",scs:".post_help_results p, .pop_box > div > div > div:eq(1)",msg:".message_body:first"};function Y(){var ak=String(X).replace(/\W+/g,"");var aj=y.warLootCollected[ak]||{count:0};aj.name=Util.trim(Util.doRgx(/^([\w\d\s]+)/,X).$1);aj.count+=1;console.log(aj);y.warLootCollected[ak]=aj;y.save()}function af(aj){if(aj){httpAjaxRequest({url:aj,success:ae})}else{var ak=Util.parsePopup(Z.html());ah(ak.find(ab.scs).text()||"No opponents to attack.",false)}}function ag(ak){var al=ak.find(ab.att);if(al.length<1){return null}var aj=al.filter(function(an){var am=A(this);try{return Util.uSplit(am).target_id!=global.User.id}catch(ao){}return false}).last();if(aj.length>0){return A(aj)}else{return null}}function ae(ap){if(!MW.update(ap)){ah(a);return}var ao=false;var aj=h$(ap);var am=ag(aj);if(am){af(am)}else{var ak=Util.parsePopup(ap);var al=aj.find(ab.msg).text();var an=ak.find(ab.scs).text();aj.find(ab.shr).each(function(ar,aq){try{var au=Base64.decode(Util.uSplit(aq.href).user);if(global.USER_ID===au){Logger.debug("Helped in War with loot: ( "+X+" )");return !(ao=true)}}catch(at){}});if(ao===true){if(an.length>0&&al.length>0){Logger.debug("War Loot not allowed.");r=false}else{r=true;Y()}}ah((an||al||"You helped this war."),ao)}}if(!X){ah("Unknow War loot.",false);return}if((W=Util.doRgx(/\d+_(\d+)_\d+_q/,W).$1)){if(y.skipFriendlyWarLeaders===true&&Util.isSet(J[W])){ah("Opponent leader is your friend.",false);return}}else{if(y.skipUnknowWarLeader===true){ah("Opponent leader is unknow.",false);return}}if(r===true||y.warLootExpertMode===true){var V=false,ad=false;Util.each(y.warLootNames,function(ak,aj){if((V=(new RegExp(Util.trim(aj),"i")).test(X))){return false}});if(y.warLootSkipCollected===true){Util.each(y.warLootCollected,function(ak,aj){if((ad=(new RegExp(Util.trim(aj.name),"i")).test(X))){return false}})}if(ad||(!V&&y.warLootAttack>aa&&y.warLootDefense>ac)){ah("War skipped: ( "+X+" )",false);return}}af(ag(Z))}function G(aa,ae){var X=h$(aa);var W=X.find(".helpers_rewards ul img").attr("title");var Y=parseInt(Util.doRgx(/Attack:\s?(\d+)/i,W).$1||1);var ab=parseInt(Util.doRgx(/Defense:\s?(\d+)/i,W).$1||1);var ad=false;var Z={att:"a:regex(href,xw_controller=war&xw_action=attack):last",shr:".war_attacks div.left a:regex(href,controller=stats)",scs:".post_help_results p, .pop_box > div > div > div:eq(1)",msg:".message_body:first"};var ac=X.find(Z.att);function V(ai,ag){function af(aj){httpAjaxRequest({url:aj,success:ah})}function ah(ap){if(!MW.update(ap)){ae(a);return}var ao=false;var aj=h$(ap);var al=aj.find(Z.att);if(al.length>0){af(A(al))}else{var ak=Util.parsePopup(ap);var am=aj.find(Z.msg).text();var an=ak.find(Z.scs).text();aj.find(Z.shr).each(function(ar,aq){try{var au=Base64.decode(Util.uSplit(aq.href).user);if(global.USER_ID===au){Logger.debug("Helped in War with loot: ( "+W+" )");return !(ao=true)}}catch(at){}});if(ao===true){if(an.length>0&&am.length>0){Logger.debug("War Loot not allowed.");r=false}else{r=true;ag.count+=1;y.save()}}ae((an||am||"You helped this war."),ao)}}af(ai)}if(!W){ae("Unknow War loot.",false);return}if(ac.length<1){ae("This war is already over.",false);return}if(y.warloot&&Util.length(y.warloot)>0&&r===true){Util.each(y.warloot,function(ag,af){if(af.name){ad=(new RegExp(af.name,"i")).test(W)}else{if(af.attack){ad=(af.attack<=Y)}else{if(af.defense){ad=(af.defense<=ab)}}}if(ad&&af.limit>0){ad=(af.count<af.limit)}if(ad===true){V(A(ac),af);return false}});if(ad!==true){ae("Wrong War Loot. ( "+W+" )",false)}}else{V(A(ac),{})}}function P(V,Z){var W=Util.parsePopup(V.html());var X=String(W.find(".pop_box > div > div > div:eq(1)").text()||V.find(".message_body:first").text());var Y=(!Util.doRgxTest(this.fail,X)&&X.length>0);if(X.length<1){X="There was some error."}Z(X,Y)}function C(V,aa){var Y=Util.parsePopup(V.html());var Z=new N();var X=(function(){var ab=Util.trim(y.dtLootPriority);if(!Util.isString(ab)||ab.length<1){return""}else{if(/\n/.test(ab)){ab=ab.split(/\n/).join("|")}}return ab})();function W(ab){if(!ab){return false}httpAjaxRequest({url:ab.url,success:function(ad){var ac=h$(ad).find("#collectText");if(ac.length>0){aa(ac.text(),true)}else{aa("Seem that an user has received the reward before you.")}}});return true}if(Y.length>0){Y.find("#dt_body_area .collectbox .dt_pop_item").each(function(ab,ac){Z.add(new B(ac))})}if(Z.length()<1){aa($(".message_body",V).text()||'This "Daily Take" was taken.');return}if(W(Z.getByName(X))!==true){if(!y.dtCheckMinAtkDef||W(Z.getByStats(y.dtMinAttack,y.dtMinDefense))!==true){aa("Filtered. ("+Z.names()+")")}}}function F(Y,ae){if(e$(".socialMissionSelector",Y)==null){ae("You can't join. Try helping out other mafia members.");
return}try{var aa=y.get("maxFreeSlots");var Z=$(".missionSelectHeaderTitle",Y).text();var W=$(".missionDifficulty > span",Y).attr("class");var ag=parseInt($("#hfopt_joinmission").val());var af=parseInt($("#hfopt_joinmissionafter").val());var ac="a:regex(onclick,action=selectPosition)";var V=$(ac,Y).length;var ad=[];if(c(Z,"opUseNameFilter","opNameFilter")){ae('Filtered name "'+Z+'".');return}if(V>aa){ae('Filtered "'+Z+'". Too many slots free ('+V+").");return}if(!y.get("diff_"+W.toLowerCase())){ae('Filtered "'+Z+"\". Difficulty don't match.");return}$(".missionSelectorBox:has("+ac+")",Y).each(function(aj,ak){var ah=0;var ai=(e$("dd.energy",ak)!==null);var al=(e$("dd.stamina",ak)!==null);if((ai||al)&&!Util.isSet(ad[4])){ad[4]=$(ac,ak)}if(ai&&!al){ah=1}else{if(!ai&&al){ah=2}else{if(ai&&al){ah=3}}}if(!Util.isSet(ad[ah])){Logger.debug("Adding SpendType: "+ah);ad[ah]=$(ac,ak)}});var ab=(ad[ag]||ad[af]);if(typeof(ab)=="undefined"||ab.length<1){ae('Filtered "'+Z+"\". Spend type don't match.");return}}catch(X){Logger.error(X);ae(a);return}httpAjaxRequest({url:A(ab),success:function(ah){if(MW.update(ah)){ae('You has join in "'+Z+'" mission.',true)}else{ae(a)}}})}function f(W,Y,V,X){$("div[id*=_"+Y+"]",p.content).hide();var Z=$("#"+W+"_"+Y,p.content);if(V){Z.fadeIn(V,X)}else{Z.show()}}function i(ad,Y){var af=$("#logList");var ab=ad.action.name;var ac=ad.feed;if(af.children().length>y.get("maxLogLength")){af.children().last().remove()}var Z=c$("li"),X,W;var ae=ac.attachment;var aa=c$("a","target:_black").attr("href",ac.permalink).text(ae.name||ae.description);var V=ae.media[0]?c$("img","class:feed_icon,title:"+ab).attr("src",ae.media[0].src):c$("span");X=c$("div").addClass("li_wrapper clearfix").appendTo(Z).append(V);W=c$("div","class:buttons").appendTo(X).append(c$("a","href:#,class:ignore,postid:"+ac.post_id).text("like it").click(S.likeFeed_click)).append(c$("div").css("clear","both"));c$("div","class:body").append(c$("h4").append(aa)).append(c$("p").html(Y)).appendTo(X);Z.prependTo(af);X.mouseenter(S.selectHelp).mouseleave(S.unselectHelp);m(W,ac.post_id,Y)}function T(Z,W){var Y=Util.setColor("["+(new Date()).toLocaleTimeString()+"] ","grey");var X=$("#logSkippedList");var V=Util.setAnchor(Z.feed.permalink,Z.action.name);if(X.children().length>y.get("maxLogLength")){X.children().last().remove()}Resources.getPicture("info_icon_png","li").prependTo(X).append(c$("p").html(Y+" "+V+": "+W))}function d(V){Resources.getPicture("ajax_loader_gif","span").css("padding-left",18).appendTo($("#auto_feed_helper_messages").empty()).html(V)}function q(){var V=y.get("helpDelay");var Z=k();var Y=0;var W=0;if(y.skipFriendlyWarLeaders===true){if(!Util.isSet(J)){showHelpPopup({icon:"error",message:"You've selected to skip friendly war leaders but HFC was not retrieved a list of your friends.<br>Please, reload HFC or uncheck this option in your War configuration."});return}}function ab(ad,ac){if(g){return}$("#completed_helps").text(Y);$("#skipped_helps").text(W);$("#total_feeds","#feed_center_header").html(I.length());if(I.length()<1){b.start("All helps finished!. continue in %N% seconds.",Z,aa);return}if(!ac){X(I.shift())}else{b.start(""+ad,ac,function(){X(I.shift())})}}function X(ad){if(g){return}function ac(af){Logger.debug(ad.action.name+" skipped.");if(Util.isSet(af)){T(ad,af)}W++;ab()}if(!Util.isSet(ad)||!Util.isSet(ad.action)){ab();return}try{if(ad.isCollected()){ac();return}if(!y.get(ad.gid)){ac();return}if(Util.isSet(y.get(ad.gid.substr(2)))){if(y.get(ad.gid.substr(2))[ad.id]===false){ac();return}}if(ad.action.skip===true){ac();return}d("Helping in:  "+ad.action.name);E(ad.url,ad.action,function(af,ag){af=l(af);ad.collected();ad.action.skip=Util.doRgxTest(ad.action.skipif,af);if(ad.action.skip||ag!==true){T(ad,af)}else{i(ad,af)}Y++;ab("Done!, Next in %N%...",V)})}catch(ae){Logger.error("collectStream: "+ae.message);ab()}}function aa(){if(g){return}function ac(ad){b.start(ad,Z,aa)}d("Refreshing home posts...");H(function(ad){if(ad&&ad.error){ac(ad.error.message+" try again in %N%...");return}if(!Util.isArray(ad)){ac("Error loading posts, try again in %N%...");return}if(ad.length<1||(I=new o(ad,true)).length()<1){ac("No new posts, try again in %N%...");return}$("#total_feeds","#feed_center_header").html(I.length());X(I.shift())})}$("#status_panel").empty();c$("div").appendTo("#status_panel").css({padding:"5px 0 0 15px","float":"left"}).append(c$("span").css("color","green").text("Success: ")).append(c$("span","completed_helps").text(0)).append(c$("span").css({color:"green","margin-left":5}).text("Skip: ")).append(c$("span","skipped_helps").text(0));c$("div","auto_feed_helper_messages").appendTo("#status_panel").html("Preparing...").css({padding:"5px 0 0 30px","float":"left"});b$("CANCEL","class:short red").click(S.cancel_click).appendTo("#status_panel").css({"float":"right","margin-right":40});f("automode","body");f("status","panel",500);y.fromDomElements();y.save(function(){g=false;if(I.length()>0){I.slice(y.feedsLimit);X(I.shift())
}else{aa()}})}function u(){var ae=c$("div","control_panel").height(35);var ac=c$("div","config_panel");var ad=c$("select","id:hfopt_grouping").width(152);var V=c$("div","id:main_selector,class:select_tab").css({width:250,height:230});p.content.css("margin-top",5);c$("dl","class:total_requests").appendTo(c$("div","feed_center_header").appendTo(p.header)).append('<dt id="total_feeds">'+I.length()+"</dt>").append("<dd>Total Posts</dd>");c$("div","id:minipopup_overlay").appendTo(p.content);c$("div","panel_container").appendTo(p.content).append(c$("div","status_panel").height(35)).append(ae).append(ac);c$("div","class:search_box").appendTo(ae).append(c$("label","for:hfopt_filter").text("Search: ")).append(c$("input:text","id:hfopt_filter").width(149).keyup(S.keyup)).append(ad.change(S.change));c$("div","class:control_box").appendTo(ae).append(b$("Clear all","class:short white").click(S.clearall)).append(b$("Refresh","class:short orange").css("margin-left",5).click(S.refresh_click)).append(b$("Config","class:short orange").css("margin-left",5).click(S.config_click)).append(b$("AutoHelp","class:short orange").css("margin-left",10).click(q));V.appendTo(ac);Util.each(s,function(ah,ag){var af=c$("div","name:"+ah).appendTo(V).click(S.config_change);ad.append(c$("option","value:"+ah).text(ag));if(ah!=="none"){af.append(x$("hfopt_"+ah.toLowerCase()).css("margin",0))}c$("p").text(ag).appendTo(af)});$("div[name=none]",V).addClass("selected");ac.append(c$("div","class:config_tab,id:none_config").append(aa())).append(c$("div","class:config_tab,id:doGotoWar_config").append(Y())).append(c$("div","class:config_tab,id:doGiveSocialHelp_config").append(X("GiveSocialHelp"))).append(c$("div","class:config_tab,id:doSocialMissions_config").append(W())).append(c$("div","class:config_tab,id:doClaimBonusAndReward_config").append(X("ClaimBonusAndReward"))).append(c$("div","class:config_tab,id:doPropertyHelp_config").append(X("PropertyHelp"))).append(c$("div","class:config_tab,id:doAcceptGiftEvent_config").append(Z())).append(c$("div","class:config_tab,id:doCityCrew_config").append(Z())).append(c$("div","class:config_tab,id:doDailyTake_config").append(ab())).append(c$("div","class:config_tab,id:doSendEnergyAndPhones_config").append(Z())).append(c$("div","class:save_config").append(b$("Save Configuration","class:short orange").click(S.save_click)));if(y.warLootExpertMode){$("#doGotoWar_config",ac).addClass("expert-mode-on")}c$("div").appendTo(p.content).css({width:"100%",height:35});c$("div","feedlist_body").height(700).appendTo(p.content);c$("div","ajaxloader_body").css("padding-top",25).height(675).append(c$("img").attr("src",global.zGraphicsURL+"socialmissions/ajax-loader.gif")).appendTo(p.content);c$("div","automode_body").height(700).append(c$("ul","id:logList,class:feed_box").height(400)).css("border-bottom","2px solid #333;").append(c$("ul","id:logSkippedList,class:skipped_log").height(300)).appendTo(p.content);function Z(){return c$("center").css("margin-top",10).html("This category don't have any configuration.")}function X(aj){var ag=c$("div");var af=String(aj).toLowerCase();var ah=y.get(aj);var ai=c$("div","class:select_tab,name:checkboxlist,id:hfopt_"+af);ai.height(150).width(400).appendTo(ag);t$("action_skipif","Skip Check:",335,{change:S.action_issue_change,focusout:S.action_issue_change}).appendTo(ag).css({"float":"right",margin:"5px 0px 0px 0px"});t$("action_fail","Fail Check:",335,{change:S.action_issue_change,focusout:S.action_issue_change}).appendTo(ag).css({"float":"right",margin:"5px 0px 0px 0px"});D.each(function(al,an){var am=y.actions.skipif[al];var ak=y.actions.fail[al];if(an.group!=="do"+aj){return}if(!Util.isSet(ah[al])){ah[al]=true}if(Util.isString(am)&&am.length>0){an.skipif=am}if(Util.isString(ak)&&ak.length>0){an.fail=ak}c$("div","name:"+al).appendTo(ai).click(S.subconfig_change).append(x$(al).attr("value",al).css("margin",0)).append(c$("p").text(an.name))});return ag}function aa(){var af=c$("div");var ag=new TabObject({id:"hfc_filters_wrapper",appendTo:af,height:177,tabs:["General","Friends","Friend List"]});c$("div").css("padding",5).appendTo(ag.content[0]).append(x$("hfopt_disableapi","Dont use Facebook API.")).append(c$("div").css({clear:"both","margin-top":5})).append(n$("hfopt_feedslimit","Feeds Limit",100)).append(c$("div").css({clear:"both","margin-top":5})).append(s$("hfopt_maxloglength","Log Length:",100)).append(c$("div").css({clear:"both","margin-top":5})).append(s$("hfopt_helpdelay","Help delay:",100)).append(c$("div").css({clear:"both","margin-top":5})).append(s$("hfopt_refreshdelay","Refresh delay:",100));c$("div","class:ui-filterlist").appendTo(ag.content[1]).append(c$("div","class:ui-top").append(x$("hfopt_fblistfilteron","Friendlist filter:")).append(c$("div","class:css_right").css({"margin-right":4,padding:3}).append(b$("Edit",false,true).click(S.addFblistToFilter_click)).append(b$("Clear",false,true).click(S.clearFblistFilter_click)))).append(c$("select","id:hfopt_fblistfilter,multiple:multiple"));
c$("div","class:ui-filterlist").appendTo(ag.content[2]).append(c$("div","class:ui-top").append(x$("hfopt_userfilteron","Friends filter ")).append(c$("div","class:css_right").css({"margin-right":4,padding:3}).append(b$("Edit",false,true).click(S.addUserToFilter_click)).append(b$("Clear",false,true).click(S.clearUserFilter_click)))).append(c$("select","id:hfopt_userfilter,multiple:multiple"));return af}function Y(){var ai={width:210,height:100};var af=c$("table");var ah=c$("tbody").appendTo(af);var ag=c$("tr").appendTo(ah);c$("td").appendTo(ag).append(c$("span").text("Specific War loot:")).append(c$("div","class:expert-mode css_right").append(b$("edit","class:ui-sexy-green",true).click(S.editlootName)));c$("td").appendTo(ag).append(x$("hfopt_warlootskipcollected","Skip collected:")).append(c$("div","class:css_right").append(b$("clear","class:ui-sexy-orange",true).click(S.clearCollected)));ag=c$("tr").appendTo(ah);c$("select","id:warlootnames,multiple:multiple").css(ai).appendTo(c$("td").appendTo(ag));c$("select","id:warlootcollected,multiple:multiple").css(ai).appendTo(c$("td").appendTo(ag));ag=c$("tr").appendTo(ah);c$("td").appendTo(ag).append(c$("fieldset").height(60).append(c$("legend").text("Filter:")).append(n$("hfopt_warlootattack","Minimum Attack:",40)).append("<br>").append(n$("hfopt_warlootdefense","Minimum Defense:",40)));c$("td").appendTo(ag).append(c$("fieldset").height(60).append(c$("legend").text("Betray:")).append(x$("hfopt_skipunknowwarleader","Skip Unknow Leaders","div")).append(x$("hfopt_skipfriendlywarleaders","Skip Friendly Leaders","div")));c$("td","colspan:2").appendTo(c$("tr").appendTo(ah)).append(x$("hfopt_warlootexpertmode","Enable Expert Mode","div").click(S.expertMode));return af}function ab(){return c$("div").append(c$("div").text("1st CHECK -> Loot Priority/Filter")).append(c$("textarea","cols:50,rows:8,id:hfopt_dtlootpriority")).append(c$("div").css("clear","both").css("margin-top",5)).append(x$("hfopt_dtcheckminatkdef","2nd Check -> Minimal Attack/Defense","div")).append(n$("hfopt_dtminattack","Minimal Attack:",60)).append(n$("hfopt_dtmindefense","-OR- Minimal Defense:",60))}function W(){var af=c$("div");c$("div").css("margin",5).append(c$("span").text("Mission difficulty: ")).append(c$("input:checkbox","id:hfopt_diff_easy")).append(c$("label","for:hfopt_diff_easy").text("Easy")).append(c$("input:checkbox","id:hfopt_diff_medium")).append(c$("label","for:hfopt_diff_medium").text("Medium")).append(c$("input:checkbox","id:hfopt_diff_hard")).append(c$("label","for:hfopt_diff_hard").text("Hard")).append(c$("input:checkbox","id:hfopt_diff_event")).append(c$("label","for:hfopt_diff_event").text("Event")).appendTo(af);c$("div").css("margin",5).append(c$("label","for:hfopt_joinmission").text("Join only in: ")).append(c$("select","id:hfopt_joinmission").width(90)).append(c$("label","for:hfopt_joinmissionafter").text(" if not possible then: ")).append(c$("select","id:hfopt_joinmissionafter").width(90)).appendTo(af);c$("div").css("margin",5).append(c$("label","for:hfopt_maxfreeslots").text("And only if remain: ")).append(c$("select","id:hfopt_maxfreeslots").width(110)).appendTo(af);c$("div").css("margin",5).append(x$("hfopt_opusenamefilter","Active Operation Name Filter:")).append(c$("br")).append(c$("textarea","cols:45,rows:6,id:hfopt_opnamefilter")).appendTo(af);return af}p.applyOptions({hfopt_userfilteraction:{skip:"Skipping",help:"Helping"},hfopt_maxloglength:{50:"50",200:"200",500:"500",1000:"1000"},hfopt_joinmission:{4:"Any",1:"Energy",2:"Stamina",3:"Both"},hfopt_joinmissionafter:{0:"None",1:"Energy",2:"Stamina",3:"Both",4:"Any"},hfopt_maxfreeslots:{100:"Any slots",1:"1 slot",2:"2 slots",3:"3 slots",4:"4 slots"},hfopt_helpdelay:{0:"None",1:"1 sec",2:"2 sec",3:"3 sec",5:"5 sec"},hfopt_refreshdelay:{2:"2 sec",5:"5 sec",15:"15 sec",30:"30 sec",60:"1 min",180:"3 min",300:"5 min",600:"10 min"}})}function j(){var W=I.length();var X,V=c$("ul","class:feed_box").height(700);I.each(function(Z,ac){var ab=ac.feed;var ad=ab.attachment;var Y='<a href="'+ab.permalink+'" target="_black">';var aa=ad.description?ad.description:ad.caption;Y+=(ad.name||ad.caption||ad.description)+"</a>";X=c$("li","gid:"+(ac.gid||"none")+",feed:"+Z).appendTo(V);if(ac.isNew){X.addClass("new_post")}X=c$("div","class:li_wrapper clearfix").appendTo(X);if(ad.media&&ad.media[0]&&ad.media[0].src){c$("img","class:feed_icon").attr("src",ad.media[0].src).appendTo(X)}c$("div","class:buttons state_accept").appendTo(X).append(b$("Help","class:medium white,feed:"+Z).click(S.helpFeed_click)).append(c$("a","href:#,class:ignore,feed:"+Z).text("ignore").click(S.deleteFeed_click));c$("div","class:buttons state_completed").appendTo(X).css("display","none").append(b$("Clear","class:medium white,feed:"+Z).click(S.deleteFeed_click)).append(c$("div").css("clear","both")).append(c$("a","href:#,class:ignore,postid:"+ab.post_id).text("like it").click(S.likeFeed_click)).append(c$("div").css("clear","both"));c$("div","class:body").append("<h4>"+Y+"</h4><p>"+aa+"</p>").appendTo(X)
});if(W<1){c$("li").appendTo(V).append(c$("center").text("No Posts Found.")).css("margin",15)}$("#feedlist_body").empty().append(V);$("#total_feeds","#feed_center_header").html(W);if($("#hfopt_grouping").val()!=="none"){$("#hfopt_grouping").change()}}function H(X,W){var V={limit:y.feedsLimit};if(y.fbListFilterOn===true&&Util.length(y.fbListFilter)>0){V.flid=[];Util.each(y.fbListFilter,function(Y){V.flid.push('"'+Y+'"')})}if(y.userFilterOn===true&&Util.length(y.userFilter)>0){V.uid=[];Util.each(y.userFilter,function(Y){V.uid.push('"'+Y+'"')})}if(y.disableAPI===true||W===true){facebook.homeFeedParser(X,V)}else{facebook.queryFeed(X,V)}}function z(V){httpAjaxRequest({url:"remote/"+MW.getIntURL("war","all_rewards_popup"),liteLoad:1,success:function(Z){if(String(Z).indexOf("var user_fields =")===-1){return}var Y=[],X=0,W=0;$(".ItemCardBox > div",h$(Z)).each(function(ac,ae){var ab=$(".itemCardName",ae).text(),ad=parseInt($(".attack",ae).text()),aa=parseInt($(".defense",ae).text());if($(ae).hasClass("unequipped")){if(ab){Y.push(Util.trim(ab.replace("...","")))}}if(X>ad){X=ad}if(W>aa){W=aa}if(y.warLootAttack<ad){y.warLootAttack=ad}if(y.warLootDefense<aa){y.warLootDefense=aa}});y.warLootNames=Y;if(Y.length>0){y.warLootAttack+=1;y.warLootDefense+=1}else{y.warLootAttack=X-1;y.warLootDefense=W-1}y.save()}})}function x(){if(y.warlootLimited){y.warloot={};delete y.warlootLimited;y.save();showHelpPopup({icon:"info",title:"New WarLoot System!",message:"Your war loot has been reset.<br>Please, go to Configuration and add your preferences.",onclose:x});return}loadingScreen("Loading friends...");facebook.getAppFriends(function(V){J={};Util.each(V,function(X,W){J[W.uid]=W.name})});loadingScreen("Loading home posts...");H(function(V){if(!Util.isSet(V)||V.error){V=[]}else{}D=new Q();w();I=new o(V);Logger.debug("HFC: "+I.length());u();y.toDomElements();j();t();f("feedlist","body");f("control","panel");f("none","config");loadingScreen();p.show()})}y.load(function(){var W=function(){loadingScreen();showSupportPopup("HomeFeedCenter",x);if(y.warLootExpertMode!==true){z()}};var V=function(){showAskPopup("Cant Initialize FB API","Would you like to disable it and continue anyway?",function(){y.disableAPI=true;W()},p.destroy)};loadingScreen("Initializing...");facebook.init(function(X){if(X===true){facebook.needAppPermission("read_stream",function(Y){if(Y===true){W()}else{V()}})}else{V()}})})}function InventoryAnalyzer(b){var p=new Config("LootQuantities");var t={};var g=["Weapons","Armor","Vehicles","Animals","Henchmen"];var s={"1":0,"2":1,"3":2,"8":3,"13":4};var d,c={list:Base64.decode("PGxpIGlkeD0iJHtpbmRleH0iPg0KICAgIDxkaXYgY2xhc3M9InF1YWxpdHkiPg0KICAgICAgICA8aW1nIHRpdGxlPSIke2FjdGl2ZV90aXRsZX0iIHN0eWxlPSJtYXJnaW4tdG9wOiAxcHg7IiBzcmM9IiR7YWN0aXZlX3VybH0iPg0KICAgIDwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9InF1YWxpdHkiPiR7cXVhbGl0eV9pY29ufTwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9InNwYWNlIj48L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJpdGVtX25hbWUiPiR7aXRlbV9uYW1lfTwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9InNwYWNlIj48L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJudW1iZXIgcXVhbnRpdHkiPiR7cXVhbnRpdHl9PC9kaXY+DQogICAgPGRpdiBjbGFzcz0ic3BhY2UiPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9Im51bWJlciI+JHt2MX08L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJudW1iZXIiPiR7djJ9PC9kaXY+DQogICAgPGRpdiBjbGFzcz0ibnVtYmVyIj4ke3YzfTwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9InNwYWNlIj48L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJudW1iZXIiPiR7djR9PC9kaXY+DQogICAgPGRpdiBjbGFzcz0ibnVtYmVyIj4ke3Y1fTwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9Im51bWJlciI+JHt2Nn08L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJzcGFjZSI+PC9kaXY+DQogICAgPGRpdiBjbGFzcz0idG90YWwiPiR7djd9PC9kaXY+DQogICAgPGRpdiBjbGFzcz0idG90YWwiPiR7djh9PC9kaXY+DQogICAgPGRpdiBjbGFzcz0idG90YWwiPiR7djl9PC9kaXY+DQo8L2xpPg=="),table:Base64.decode("PGRpdiBjbGFzcz0iaGVhZGVyIj4NCiAgICA8ZGl2IGNsYXNzPSJxdWFsaXR5Ij4ke2FjdGl2ZX08L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJzcGFjZSI+PC9kaXY+DQogICAgPGRpdiBjbGFzcz0icXVhbGl0eSI+JHtxdWFsaXR5fTwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9InNwYWNlIj48L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJpdGVtX25hbWUiPiR7aXRlbV9uYW1lfTwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9InNwYWNlIj48L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJudW1iZXIgcXVhbnRpdHkiIHRpdGxlPSIke3NxfSI+JHtscX08L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJzcGFjZSI+PC9kaXY+DQogICAgPGRpdiBjbGFzcz0ibnVtYmVyIiB0aXRsZT0iJHtzMX0iPiR7bDF9PC9kaXY+DQogICAgPGRpdiBjbGFzcz0ibnVtYmVyIiB0aXRsZT0iJHtzMn0iPiR7bDJ9PC9kaXY+DQogICAgPGRpdiBjbGFzcz0ibnVtYmVyIiB0aXRsZT0iJHtzM30iPiR7bDN9PC9kaXY+DQogICAgPGRpdiBjbGFzcz0ic3BhY2UiPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9Im51bWJlciIgdGl0bGU9IiR7czR9Ij4ke2w0fTwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9Im51bWJlciIgdGl0bGU9IiR7czV9Ij4ke2w1fTwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9Im51bWJlciIgdGl0bGU9IiR7czZ9Ij4ke2w2fTwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9InNwYWNlIj48L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJ0b3RhbCIgdGl0bGU9IiR7czd9Ij4ke2w3fTwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9InRvdGFsIiB0aXRsZT0iJHtzOH0iPiR7bDh9PC9kaXY+DQogICAgPGRpdiBjbGFzcz0idG90YWwiIHRpdGxlPSIke3M5fSI+JHtsOX08L2Rpdj4NCjwvZGl2Pg0KPHVsIGNsYXNzPSJpdGVtX2xpc3QiPiR7bGlzdH08L3VsPg==")};var u=function(){return{top_offense:[],top_defense:[],top_combined:[],weak_offense:[],weak_defense:[],weak_combined:[],get_offense:[],get_defense:[],get_combined:[],give_away:[]}
};var a={all:[],Weapons:u(),Armor:u(),Vehicles:u(),Animals:u(),Henchmen:u(),Qualities:null,ItemTypes:null,Locations:null,global:{Weapons_offense:0,Weapons_defense:0,Weapons_combined:0,Armor_offense:0,Armor_defense:0,Armor_combined:0,Vehicles_offense:0,Vehicles_defense:0,Vehicles_combined:0,Animals_offense:0,Animals_defense:0,Animals_combined:0,Henchmen_offense:0,Henchmen_defense:0,Henchmen_combined:0,Total_offense:0,Total_defense:0,Total_combined:0,Qualities:{Total:0,"1":0,"2":0,"3":0,"4":0,"5":0}},get:function(w,v){return a[w][v]}};var f=new PopupObject("inventoryanalyzer_popup",{type:"main",title:"INVENTORY ANALYZER"});var m={refresh_click:function(){f.close();InventoryAnalyzer(true);return false},takeSnapshot_click:function(){var v;if(!p.base){p.add("base",(v={}))}else{v=p.base}Util.each(a.all,function(x,w){v[x]=w.quantity});p.save(function(){showHelpPopup({icon:"info",title:"Inventory Analyzer says:",message:"Snapshot taken successfully."})});i();return false},filter_click:function(){i();return false},tab_click:function(){$(".cs_tabs",f.content).removeClass("activeTab").addClass("inactiveTab");$(this).removeClass("inactiveTab").addClass("activeTab");i();return false},toMGSend_click:function(){var v=Util.uSplit(c$(this).attr("gift-link"));if(v.gift_category&&v.gift_id){f.close();setTimeout(function(){MultiGifter(v.gift_category,v.gift_id,InventoryAnalyzer)},1000)}},toMGFav_click:function(){n();return false},remWishlist_click:function(){var w=$(this).attr("wid");var v="remote/"+MW.getIntURL("wishlist","remove");httpAjaxRequest({url:v+"&isajax=1&retwl=1&wid="+w,success:j});return false},addWishlist_click:function(){var y=$(this).attr("itemid");for(var x=0;x<d.length;x++){if(parseInt(y)===parseInt(d[x].id)){return false}}var w=$(this).text();var v="remote/"+MW.getIntURL("wishlist","add");$(this).replaceWith(c$("span").text(w));httpAjaxRequest({url:v+"&isajax=1&retwl=1&gift_category=1&gift_id="+y,success:j});return false},item_click:function(){var w=$("#type_filter option:selected",f.content).val();var v=$("#show_filter option:selected",f.content).val();$(".item_list li.selected",f.content).toggleClass("selected",false);$(this).toggleClass("selected",true);q(a.get(w,v)[$(this).attr("idx")])},genTable_click:function(){var v="data:text/html;base64,";v+=Base64.encode(l());unsafeWindow.open(v,"_black")}};var o={attack:function(w,v){return v.attack-w.attack},defense:function(w,v){return v.defense-w.defense},combined:function(w,v){return(v.attack+v.defense)-(w.attack+w.defense)},quantity:function(w,v){return v.quantity-w.quantity}};function n(){var w=$("#type_filter option:selected",f.content).val();var v="give_away";showAskPopup("Adding to Multi Gifter","Do you want to add all unnecessary "+w+" to<br>MultiGifter Favorites ?",function(){setTimeout(x,1000)});function x(){var y=UserConfig.mgopt;y.load(function(){var B,A,z=y.giftFav;Util.each(a.get(w,v),function(D,C){if(C.tradeable!==1||C.quantity<1){return}A=Util.uSplit(C.gift_link);if(A.gift_category&&A.gift_id){B=A.gift_category+"_"+A.gift_id;if(z.indexOf(B)===-1){z.push(B)}}});y.save();showAskPopup("Adding to Multi Gifter","All "+w+" were added.<br>Do you like to open MultiGifter now ?",function(){f.close();setTimeout(MultiGifter,1000)})})}}function l(){var x="<html><head></head><body>";var w=$(".item_list",f.content).clone();var v=$(".header",f.content).clone();w.find(".space").remove();v.find(".space").remove();w.find("img").replaceWith(function(){var z;var B=$(this).attr("title");var y=$(this).attr("src");var A='<span title="'+B+'">';if(/active-icon/.test(y)){return A+"A</span>"}if(/inactive-icon/.test(y)){return A+"N</span>"}if((z=/Quality:\s*(\w)\w+/.exec(B))){return A+z[1]+"</span>"}return""});w=w.html();v=v.html();w=w.replace(/<li[^>]*>/g,"<tr>").replace(/<\/li>/g,"</tr>");w=w.replace(/<div[^>]*>/g,"<td>").replace(/<\/div>/g,"</td>");v=v.replace(/<div[^>]*>/g,"<th>").replace(/<\/div>/g,"</th>");x+='<table cellspacing="0" cellpadding="4" border="1" style="text-align:center;"><tbody>';x+="<tr>"+v+"</tr>"+w;return x+"</tbody></table></body></html>"}function j(v){try{var x=Util.parseJSON(v.data);if(x&&x.wldata){d=x.wldata;h()}else{showHelpPopup({icon:"error",message:"Error adding item to wishlist"})}}catch(w){Logger.error(w)}}function h(){var v=global.zGraphicsURL+"inventory/ItemCard/icons/Inventory-wishlist2-icon.png";var w=$("#wishlist").empty();Util.each(d,function(y,z){var x=c$("div","class:attack_defense");x.append(c$("span","class:attack").html(z.attack||0));x.append(c$("span","class:defense").html(z.defense||0));c$("div","class:wl_item,title:"+z.name).append(c$("img","class:remove,wid:"+y).attr("src",v).click(m.remWishlist_click)).append(c$("img").attr("src",z.image).width(50).height(50)).append(x).appendTo(w)})}function i(){var y='<span style="color:${color};" title="You ${text} ${amount} from your last snapshot.">${quantity}</span>';var A=$("#type_filter option:selected",f.content).val();var B=$("#show_filter option:selected",f.content).val();var x=parseInt($("#loc_filter option:selected",f.content).val());
var v=$("#snapshot_filter").hasClass("checked");var z=/get/.test(B);var w={active:"A",quality:"Q",item_name:"Item Name",list:"",sq:(z?"Items needed":"Item quantity"),lq:"QT",s1:(z?"Attack gained if equipped":"Items equipped in attack"),s2:(z?"Defense gained if equipped":"Items equipped in defense"),s3:(z?"Combined gained if equipped":"Items equipped in tournaments"),s4:"Attack",s5:"Defense",s6:"Combined",s7:(z?"Attack gained if total equipped":"Total attack from this item"),s8:(z?"Defense gained if total equipped":"Total defense from this item"),s9:(z?"Combined gained if total equipped":"Total combined from this item"),l1:(z?"+A":"EA"),l2:(z?"+D":"ED"),l3:(z?"+C":"ET"),l4:"AT",l5:"DF",l6:"CB",l7:(z?"GA":"TA"),l8:(z?"GD":"TD"),l9:(z?"GC":"TC")};Util.each(a[A][B],function(D,E){var F=0,C=t[E.id];if(isNaN(C)){C=0}if((x>0&&x!==E.location)||(v&&C==0)){return true}if(z){F=E["need"+B.substr(B.lastIndexOf("_"))]}else{F=E.quantity}w.list+=Util.render(c.list,{index:D,active_title:(E.active?"Active item - Your Mafia is using this item in fights/robs.":"Inactive item - Your Mafia is not using this item in fights/robs."),active_url:global.zGraphicsURL+"inventory/ItemCard/icons/"+(E.active?"Inventory-active-icon.png":"Inventory-inactive-icon.png"),quality_icon:(a.Qualities[String(E.quality)]||{}).image,item_name:E.name,quantity:Util.render(y,{quantity:F,text:(C>-1?"won":"lost"),color:(C>0?"green":(C==0?"white":"red")),amount:C}),v1:(z?E.gain_offense:E.equipped_offense),v2:(z?E.gain_defense:E.equipped_defense),v3:(z?E.gain_combined:E.equipped_combined),v4:E.attack,v5:E.defense,v6:E.combined,v7:(z?E.gained_offense:E.attack*E.quantity),v8:(z?E.gained_defense:E.defense*E.quantity),v9:(z?E.gained_combined:E.combined*E.quantity)})});if(w.list.length<1){w.list='<div style="margin-top:25px;">No items match your criteria.</div>'}$("#info_table").html(Util.render(c.table,w)).find("li").click(m.item_click)}function q(z){var v=$("#item_info",f.content).empty();if(!Util.isSet(z)){c$("div").text("Select an item to show extended info.").appendTo(v);return}var y=c$("div","class:info");var A=a.Locations[z.location];var w="http://mafiawars.wikia.com/index.php?title=Special:Search&search="+((Util.isString(z.name)&&z.name.length>0)?z.name.replace(/\s+?/g,"+"):"");var x=(function(){var B=[];if(z.subtypes&&z.subtypes.length){Util.each(z.subtypes,function(E,D){var C=a.Subtypes[String(D)];if(Util.isSet(C)){B.push(C.name)}})}if(B.length>0){return B.join(", ")}else{return}})();v.append(c$("div","class:imagen").html(z.image)).append(y);if(x){c$("div").css({"float":"left","margin-right":5}).html("Item type: "+x+" ").appendTo(y)}if(z.tradeable===1){c$("div").click(m.toMGSend_click).css("cursor","pointer").attr({title:"Open with MultiGifter.","gift-link":z.gift_link}).append(c$("img").attr("src",global.zGraphicsURL+"inventory/ItemCard/icons/Inventory-gift-icon.png")).appendTo(c$("div").css({"float":"right","margin-right":5}).appendTo(y))}if(z.favor_id>0&&parseInt(z.rp_price)>0){c$("div").appendTo(y).css({"float":"left",color:"green"}).html("("+z.rp_price+" RP)")}else{if(z.pawn_shop>0&&parseInt(z.lp_price)>0){c$("div").appendTo(y).css({"float":"left",color:"green"}).html("("+z.lp_price+" LP)")}else{if(z.purchasable&&parseInt(z.cash_price)>0){c$("div").appendTo(y).css({"float":"left",color:"green"}).html("(buy: "+z.cash_price+")")}}}c$("div").css("clear","both").html("You can search it at ").appendTo(y).append(c$("a","target:_black").attr("href",w).text("wikia"));if(z.tradeable===1){c$("div").html("This item can be added to ").appendTo(y).append(c$("a","href:#,itemid:"+z.id).text("wishlist").click(m.addWishlist_click))}if(A&&A.link&&A.name){c$("div").html("You can get this item in ").appendTo(y).append(c$("a","target:_black").attr("href",A.link).text(A.name))}}function r(){var z=b$("","class:short white button_icon");var B=b$("","class:short white button_icon");var x=b$("","class:short white sexy_send_gift_new button_icon");var A=b$("","class:short white sexy_send_gift_new button_icon");z.find("span:last").replaceWith(Resources.getPicture("snapshot_icon_png","div"));z.attr("title","Take a new snapshot of your current inventory loot amounts.");B.find("span:last").replaceWith(Resources.getPicture("createtable_icon_png","div"));B.attr("title","Generate a html table to open in a new tab.");x.attr("title","Send unused loot to the MultiGifter favourites.");A.find("span:last").replaceWith(Resources.getPicture("refresh_icon_png","div"));A.attr("title","Refresh your inventory (use it to get a fresh copy of your inventory).");c$("div","class:frame_box").height(80).appendTo(f.content).append(c$("div","item_info").text("Select an item to show extended info.")).append(c$("div","wishlist"));c$("div","class:frame_box middle_bar").append(c$("select","id:type_filter").width(120).change(m.filter_click)).append(c$("select","id:show_filter").width(160).change(m.filter_click)).append(c$("select","id:loc_filter").width(160).change(m.filter_click)).append(x$("snapshot_filter","Modified.").click(m.filter_click).attr("title","Show only modified items from the last snapshot.")).append(x.click(m.toMGFav_click)).append(B.click(m.genTable_click)).append(z.click(m.takeSnapshot_click)).append(A.click(m.refresh_click)).appendTo(f.content);
c$("div","info_table").appendTo(f.content).css({margin:"0px 2px 2px 2px",padding:"0px 2px 2px 2px"});function w(E,C){var D=c$("div","class:mafia_strength").append(c$("div","class:total_title").append(c$("span").text(E)));Util.each(["Weapons","Armor","Vehicles","Animals","Henchmen","Total"],function(G,F){var I=a.global[F+"_"+C];var H="attack";if(C=="defense"){H="defense"}else{if(C=="combined"){H="mwa_res_combined_icon_png"}}c$("div","class:mafia_strength_spacing").appendTo(D).append(c$("div","class:stat_name").text(F+":")).append(c$("span","class:text_positioning "+H).text(I))});return D}function v(){var D=a.global.Qualities;var C=c$("div","class:mafia_strength qualities").append(c$("div","class:total_title").append(c$("span").text("Qualities equipped")));Util.each(a.Qualities,function(F,E){var G=D[F];c$("div","class:mafia_strength_spacing").appendTo(C).append(c$("div").css("float","left").html(E.image).css("margin-left",5)).append(c$("div","class:stat_name").text(E.name+":")).append(c$("span","class:text_positioning").text(G))});c$("div","class:mafia_strength_spacing").appendTo(C).append(c$("div","class:stat_name").text("Total:")).append(c$("span","class:text_positioning").text(D.Total));return C}c$("div","class:frame_box").css({"padding-left":38,height:210}).append(w("Attack Strength","offense")).append(w("Defense Strength","defense")).append(w("Combined Strength","combined")).append(v()).appendTo(f.content);f.applyOptions({type_filter:{Weapons:"Weapons",Armor:"Armor",Vehicles:"Vehicles",Animals:"Animals",Henchmen:"Henchmen"},show_filter:{top_offense:"Top offense",top_defense:"Top defense",top_combined:"Top combined",weak_offense:"Weak offense",weak_defense:"Weak defense",weak_combined:"Weak combined",get_offense:"Need for offense",get_defense:"Need for defense",get_combined:"Need for tournament",give_away:"To given away."},loc_filter:(function y(){var C={0:"All Locations"};Util.each(a.Locations,function(E,D){C[E]=D.name});return C})()})}function k(w){var x=a.global.Qualities;var v=p.base;if(p.base){Util.each(p.base,function(z,y){p.add("item_"+z,parseInt(y))});delete p.base;p.save()}Util.each(w,function(E,C){var B=a[g[s[C.type]]];var z=(C.attack+C.defense)>0;var D=(C.unique!==1);var y=p.get("item_"+E);if(!y||isNaN(y)){p.add("item_"+E,y=0)}if(C.quantity!=y){t[E]=C.quantity-y}try{if(B){C.equipped_combined=0;C.need_offense=0;C.need_defense=0;C.need_combined=0;C.gained_offense=0;C.gained_defense=0;C.gained_combined=0;C.need_total=0;C.gain_offense=0;C.gain_defense=0;C.gain_combined=0;C.combined=C.attack+C.defense;C.offense=C.attack;C.is_equipped=(C.equipped_offense+C.equipped_defense>0);C.equipped_quantity=Math.max(C.equipped_offense,C.equipped_defense);if(C.is_equipped){B.top_combined.push(C);x[C.quality]+=C.equipped_quantity;x.Total+=C.equipped_quantity;if(C.equipped_offense>0){B.top_offense.push(C)}if(C.equipped_defense>0){B.top_defense.push(C)}}else{if(!C.is_equipped&&z&&C.quantity>0){B.top_combined.push(C);if(C.attack>C.defense){B.weak_offense.push(C)}else{B.weak_defense.push(C)}}}if(z&&D){B.get_combined.push(C);B.get_offense.push(C);B.get_defense.push(C)}}}catch(A){Logger.error(A)}});p.save();Util.each(g,function(z,F){var C=a[F];C.top_offense.sort(o.attack);C.top_defense.sort(o.defense);C.top_combined.sort(o.combined);C.weak_offense.sort(o.attack);C.weak_defense.sort(o.defense);var E=[];var D=501;Util.each(C.top_combined,function(G,H){if(D>0){E.push(H);D-=H.quantity;H.equipped_combined=H.quantity;if(D<0){H.equipped_combined+=D}}else{C.weak_combined.push(H)}});C.weak_combined.sort(o.combined);(C.top_combined=E).sort(o.combined);var y={get_offense:[],get_defense:[],get_combined:[]};Util.each(["offense","defense","combined"],function(H,I){var G="get_"+I;Util.each(C[G],function(L,K){var P=C["top_"+I];var O=501,N=0;var J={gain:"gain_"+I,needed:"need_"+I,gained:"gained_"+I,equipped:"equipped_"+I};for(var M=0;M<P.length;M++){O-=P[M][J.equipped];if(K[I]>P[M][I]){N=K[I]-P[M][I];K[J.needed]+=P[M][J.equipped];K[J.gained]+=(N*P[M][J.equipped])}if(O<1){break}}K[J.gain]=N;if(K[J.needed]>0){K.need_total=Math.max(K.need_offense,K.need_defense);K.need_total=Math.max(K.need_total,K.need_combined);y[G].push(K)}})});(C.get_offense=y.get_offense).sort(o.attack);(C.get_defense=y.get_defense).sort(o.defense);(C.get_combined=y.get_combined).sort(o.combined);var B={};var A=C.weak_offense.slice();A=A.concat(C.weak_defense);Util.each(A.concat(C.weak_combined),function(H,G){if(B[String(G.id)]===true){return true}if(G.equipped_offense<1&&G.equipped_defense<1&&G.equipped_combined<1){C.give_away.push(G);B[String(G.id)]=true}});C.give_away.sort(o.quantity);Util.each(["offense","defense","combined"],function(H,I){var J=a.global;var G={top:"top_"+I,equipped:"equipped_"+I,groupStrength:F+"_"+I,totalStrength:"Total_"+I};Util.each(C[G.top],function(L,K){var M=K[I]*K[G.equipped];J[G.groupStrength]+=M;J[G.totalStrength]+=M})})})}MW.getInventoryData(function(v){a.ItemTypes=v.Item.Types;a.Locations=v.Item.Locations;a.Qualities=v.Item.Qualities;a.Subtypes=v.Item.Subtypes;
a.Locations[7]={name:"Challenge Mission",link:"http://mafiawars.wikia.com/wiki/Challenge_Mission"};a.Locations[8]={name:"Free Gifts",link:"http://mafiawars.wikia.com/wiki/Free_Gifts"};a.Locations[10]={name:"Special Event",link:"http://mafiawars.wikia.com/wiki/Missions"};a.Locations[13]={name:"Operations",link:"http://mafiawars.wikia.com/wiki/Operations"};a.Locations[14]={name:"Crafting",link:"http://mafiawars.wikia.com/wiki/Category:Properties"};p.load(function(){k(a.all=v.Items.data);r();i();httpAjaxRequest({url:"remote/"+MW.getIntURL("wishlist","add")+"&isajax=1&retwl=1&gift_category=0&gift_id=0",success:j});f.show()})},b)}function MafiaRecruiter(){var a={UserIds:[],MessageElt:null,LogElt:null,Abort:false,Stats:{friends:0,playing:{toString:function(){return a.UserIds.length}},recruited:0}};var h=new PopupObject("mafiarecruiter_popup",{type:"main",title:"Mafia Recruiter",width:660,center:false,onclose:function(){a.Abort=true}});function c(){Util.each(a.Stats,function(m,n){var l=e$("#stat_"+m,h.content);if(l){l.html(String(n))}})}function f(m,l){var n=a.LogElt;Resources.getPicture(l||"info_icon_png","li").prependTo(n).append(c$("p").html(m))}function i(n,m){var l=a.MessageElt.empty();if(Util.isString(n)){if(m===true){Resources.getPicture("ajax_loader_gif","span").appendTo(l).html(n).css("padding-left",18)}else{l.html(n)}}else{l.hide()}}function d(l,n){var m="http://apps.facebook.com/inthemafia/profile.php?id="+escape('{"user":"'+l.id+'"}');return Util.setAnchor(m,Util.setColor(l.name,n))}function j(l){var m=Util.htmlDecode(l.find(".stats_title .stats_title_text:first").text());return Util.parseNum(m.substr(m.lastIndexOf('"')+1))}function k(){var m=$("#mfs_btn",h.content).empty();var o=parseInt($("#mfs_min_level",a.MessageElt).val())||20;var n="&zy_track=feed&fromfeed=1&from=${id}&user=${id}";var l=new Collection(a.UserIds);l.onMove(function(r,s,p){if(a.Abort===true){return}else{c()}var q="remote/"+MW.getIntURL("stats","view");i("Recruiting "+d(p,"gold"),true);httpAjaxRequest({url:q+Util.render(n,{id:p.id}),success:function(u){var v=h$(u);var t=$(".zy_popup_box_body_dark a:regex(href,xw_action=remove)",v);if(t.length>0){if(j(v)>=o){a.Stats.recruited++;f(d(p,"green")+" recruited!","ok_icon_png")}else{i("Removing "+d(p,"red"),true);httpAjaxRequest({url:t.attr("href"),success:l.MoveNext});f(d(p,"grey")+" skipped.");return}}else{f(d(p,"red")+" failed.","ajax_error_png")}l.MoveNext()}})});l.onEnd(function(){c();f("You've grown your mafia by "+Util.setColor(a.Stats.recruited,"gold")+"!");i("Recruitment Completed!")});l.MoveFirst()}function g(o){var n=o.find("#mfs_container");var l=c$("div","id:mafiainvite_stats").css({position:"absolute",top:400,left:30,width:205});$(".mfs",n).html(['<div class="line"></div>','<div class="mfs_selectable" style="height: 385px;">','<ul id="mfs_loglist"></ul></div>','<div class="line"></div>'].join(""));Util.each([{name:"Total Friends:",id:"friends"},{name:"Friends Playing:",id:"playing"},{name:"Recruited:",id:"recruited"}],function(p,q){c$("div").appendTo(l).append(c$("span").text(q.name)).append(c$("span","id:stat_"+q.id).css("float","right"))});$(".mfs_inner_box > .mfs",n).after(l);n.css("position","relative");var m=$(".mfs_error_out",n).removeClass().addClass("mfs_message_out").empty();c$("div","class:mfs_active_message").appendTo(m);c$("div","id:mfs_btn").appendTo(m).css("float","right").append(b$("Recruit All","class:short green").click(k));n.appendTo(h.content);a.MessageElt=$(".mfs_active_message",h.content);a.LogElt=$(".mfs #mfs_loglist",h.content);a.MessageElt.append(t$("mfs_min_level","Minimum Level:",60))}function b(){httpAjaxRequest({url:"remote/"+MW.getIntURL("recruit","view"),message:"Loading facebook friends...",success:function(m){var l={};if(!m){h.destroy();showHelpPopup({icon:"error",title:"Cant get Mafia info!",message:"Please, try again.<br>If still not working reload the game."});return}loadingScreen("Checking who play MW...");facebook.getAppFriends(function(n){loadingScreen();Util.each(n,function(p,o){l[o.uid]=o});(m=h$(m)).find("#player_recruit_box .mfs_selectable .mfs_add").each(function(q,r){var p=$(r);var o={id:Util.doRgx(/mfs_user_(\d+)/i,p.attr("id")).$1,name:(p.text()||"Member")};if(!r.style||!r.style.display||r.style.display!=="none"){if(Util.isSet(l[o.id])){a.UserIds.push(o)}a.Stats.friends++}});g(m);h.show();c();$("#mfs_min_level",a.MessageElt).val(20);f("Found "+a.Stats.friends+" friends.");f("Mafia Recruiter initialized.");if(a.UserIds.length<1){$("#mfs_btn",h.content).empty()}})}})}facebook.init(function(l){if(l===true){showSupportPopup("MafiaRecruiter",b)}else{h.destroy();showHelpPopup({icon:"error",title:"No facebook connection",message:"Mafia Recruiter requires a connection with facebook."})}})}function MafiaWiper(){var j=false;var a=[];var m=new Config("mwopt",{ignored:[]});var g=new PopupObject("mafiawiper_popup",{type:"main",title:"MAFIA WIPER",onclose:function(){j=true}});var l={resetIgnored_click:function(){$(".member_list ul li").each(function(n,o){$(o).show()
});m.set("ignored",[]);m.save();$(this).hide();return false},ignore_click:function(){m.get("ignored").push($(this).attr("uid"));m.save();$(this).parent().parent().fadeOut(500,function(){$("#remove_ignored").css("display","inline")});return false},profile_click:function(){var n=$(this).attr("uid");$(this).removeClass("white").parent().parent().css("border-color","#777");unsafeWindow.open("http://www.facebook.com/profile.php?id="+n,"_black");return false},remove_click:function(){if($("#ask_for_delete").attr("checked")){if(!confirm("Are you sure to remove?")){return false}}f(this.id.substring(5));return false},removeAll_click:function(){if(confirm("Are you really sure to remove ALL?")){i()}return false},createFriendList_click:function(){var n=$(this);if(n.hasClass("disabled")){return false}n.addClass("disabled");facebook.needAppPermission("manage_friendlists",function(o){if(o==true){facebook.friendlistCreate($("#friendlistname").val(),function(p){if(p&&p.id){d(p.id)}else{showHelpPopup({icon:"error",title:"Error creating friendlist",message:"Make sure the friendlist name doesn't exists."});n.removeClass("disabled")}})}else{n.removeClass("disabled")}},true)}};function h(){c$("center","class:info").appendTo(g.content).append(c$("div","top_div")).append(c$("div","loading_div").css("margin-top",5).append(c$("div").append(b$("Remove All","class:short red").click(l.removeAll_click))));c$("div","id:create_friend_list").hide().appendTo(c$("div","class:frame_box clearfix").appendTo(g.content)).append(c$("label","for:friendlistname").text("You can create a new Facebook FriendList:")).append(c$("input:text","id:friendlistname").val("No Playing Mafia Wars")).append(b$("Create","class:short white").click(l.createFriendList_click));c$("div","class:clearfix").css("height",25).appendTo(g.content).append(c$("input:checkbox","checked:checked,id:ask_for_delete")).append(c$("label","for:ask_for_delete").text("Ask for remove")).append(c$("a","remove_ignored").text("Reset ignored members").hide().css("margin-left",20).click(l.resetIgnored_click));c$("ul").appendTo(c$("div","class:member_list").appendTo(g.content))}function k(o){var n={};Util.each(o,function(q,p){n[p.uid]=p});return n}function c(){function n(o){g.destroy();showHelpPopup({icon:"error",message:o})}MW.getGiftData(function(o){if(!o||!o.groups_levels){n("Cant load your MafiaWars friends.");return}loadingScreen("Loading Application users...");facebook.getAppFriends(function(p){var q=[];if(!p||p.error){n(p.error.message);return}else{p=k(p)}Util.each(o.groups_levels,function(s,r){if(!Util.isSet(p[s])){a.push({id:s,name:r});q.push(s)}});loadingScreen("Checking users wall posts...");facebook.queryUsersFeed(q,function(s){if(s&&!s.error){var r=[];q={};Util.each(s,function(t,u){q[u.source_id]=true});Util.each(a,function(u,t){if(q[t.id]!==true){r.push(t)}});a=r}h();$("#top_div").html("Members not playing Mafia Wars: "+a.length);b();loadingScreen();g.show()})})})}function f(n,p){if(j){return}var o=$("#user_"+n,".member_list").parent();c$("img").attr("src",Resources.content.ajax_loader_gif).appendTo(o.empty());httpAjaxRequest({url:"remote/"+MW.getIntURL("stats")+"&user="+a[n].id,success:function(q){httpAjaxRequest({url:$(".zy_popup_box_body_dark a:regex(href,xw_action=remove)",q).attr("href"),success:function(r){if(MW.update(r)){o.html(Util.setColor("User has been removed.","green"))}else{o.html(Util.setColor("Error. but maybe removed.","red"))}delete a[n];p&&p()}})}})}function i(){var o=0;function n(){if(o<a.length){if(typeof(a[o])!=="undefined"&&m.get("ignored").indexOf(String(a[o].id))===-1){$("#loading_div").html("Deleting "+a[o].name);f(o++,n)}else{o++;n()}}else{$("#loading_div").html("All members has been removed.")}}n()}function b(){var o=$(".member_list ul",g.content);var q;for(var p=0,n;(n=a[p]);p++){if(n.name){q=c$("li").appendTo(o);q.append(c$("span","class:user_name").text(n.name));c$("div","class:buttons").appendTo(q).append(b$("FB Profile","uid:"+n.id+",class:short white").click(l.profile_click)).append(b$("Remove","class:short red,id:user_"+p).click(l.remove_click)).append(b$("Ignore","class:short green,uid:"+n.id).click(l.ignore_click));if(m.get("ignored").indexOf(n.id)!==-1){q.hide()}}}$("#create_friend_list").show();if(m.get("ignored").length>0){$("#remove_ignored").css("display","inline")}}function d(o){var q=c$("span").css("margin-left",5);var n=a.length;$("#create_friend_list").empty().append(c$("img").css("vertical-align","middle").attr("src",Resources.content.ajax_loader_gif)).append(q);var p=new Collection(a);p.onEnd(function(){$("#create_friend_list").html("FriendList successfully created.")});p.onMove(function(s,t,r){if(r&&r.id){q.text("Adding user ("+(s+1)+"/"+n+")...");facebook.friendlistAdd(o,r.id,p.MoveNext)}else{p.MoveNext()}});p.MoveFirst()}facebook.init(function(n){if(n===true){facebook.needAppPermission("read_stream",function(o){if(o===true){m.load(function(){showSupportPopup("MafiaWiper",c)})}else{g.destroy();showHelpPopup({icon:"error",title:"No Permissions",message:"You have not granted the required permissions for Mafia Wiper."})
}})}})}var GameCollections={content:{Crew:{"Bring Back the Pack":[300022,300023,300024,300025,300026,300027,300028],"Prototype Carjacking":[300001,300002,300003,300004,300005,300006,300007],"Theft of a Drone":[300008,300009,300010,300011,300012,300013,300014],"Weapons Shipment Hijackin":[300015,300016,300017,300018,300019,300020,300021]},Special:{"Silence Don Romo":[100036,100037,100038,100039,100040,100041,100042],"Mystery Bag":[400008,400009,400010,400011,400012,400013,400014],Slots:[100029,100030,100031,100032,100033,100034,100035],"Global Cup":[100022,100023,100024,100025,100026,100027,100028],"ST. Patrick's Day":[100008,100009,100010,100011,100012,100013,100014],"Chinese New Year":[400001,400002,400003,400004,400005,400006,400007],"Valentine Day":[100001,100002,100003,100004,100005,100006,100007],"Tools of the Trade":[500001,500002,500003,500004,500005,500006,500007],"Stolen Diamond":[500008,500009,500010,500011,500012,500013,500014],"Pantheon Trophies":[705001,705002,705003,705004,705005,705006,705007],"Continental Rings":[705008,705009,705010,705011,705012,705013,705014],"Championship Belts":[705015,705016,705017,705018,705019,705020,705021],"Easter Crime Basket":[100015,100016,100017,100018,100019,100020,100021]},Mission:{Operations:[800001,800002,800003,800004,800005,800006,800007]},"New York":{"Diamond Flush":[1036,1037,1038,1039,1040,1041,1042],"Heart Flush":[1043,1044,1045,1046,1047,1048,1049],Sculptures:[1022,1023,1024,1025,1026,1027,1028],"Poker Chips":[1029,1030,1031,1032,1033,1034,1035],"Club Flush":[1050,1051,1052,1053,1054,1055,1056],Boxing:[1085,1086,1087,1088,1089,1090,1091],Cigars:[1001,1002,1003,1004,1005,1006,1007],"Spade Flush":[1057,1058,1059,1060,1061,1062,1063],Billiards:[1092,1093,1094,1095,1096,1097,1098],Rings:[1008,1009,1010,1011,1012,1013,1014],Ties:[1064,1065,1066,1067,1068,1069,1070],Paintings:[1015,1016,1017,1018,1019,1020,1021],Cufflinks:[1071,1072,1073,1074,1075,1076,1077],Barber:[1099,1100,1101,1102,1103,1104,1105],"Great Race Horses":[1078,1079,1080,1081,1082,1083,1084],"Daily Chance":[1106,1107,1108,1109,1110,1111,1112],"Money Laundering":[1113,1114,1115,1116,1117,1118,1119]},Cuba:{"Rum Drinks":[2001,2002,2003,2004,2005,2006,2007],"Tropical Fruits":[2008,2009,2010,2011,2012,2013,2014],Entertainers:[2015,2016,2017,2018,2019,2020,2021],"Tropical Fish":[2022,2023,2024,2025,2026,2027,2028],Beards:[2029,2030,2031,2032,2033,2034,2035]},Moscow:{"Prison Tattoos":[3001,3002,3003,3004,3005,3006,3007],"Matryoshka Dolls":[3008,3009,3010,3011,3012,3013,3014],"Russian Leaders":[3015,3016,3017,3018,3019,3020,3021],"Vodka Drinks":[3022,3023,3024,3025,3026,3027,3028],"Soviet Memorabilia":[3029,3030,3031,3032,3033,3034,3035],"Faberge Egg":[3036,3037,3038,3039,3040,3041,3042]},"Las Vegas":{Matchbooks:[5057,5058,5059,5060,5061,5062,5063],Cactus:[5036,5037,5038,5039,5040,5041,5042],"Mojave Animals":[5043,5044,5045,5046,5047,5048,5049],"Poker Hands":[5050,5051,5052,5053,5056,5054,5055]},Bangkok:{"Chess Set":[4001,4002,4003,4004,4005,4006,4007],Masks:[4008,4009,4010,4011,4012,4013,4014],Spices:[4015,4016,4017,4018,4019,4020,4021],Carvings:[4022,4023,4024,4025,4026,4027,4028],Orchids:[4029,4030,4031,4032,4033,4034,4035]},Italy:{"Dinner Is Served":[6001,6002,6003,6004,6005,6006,6007],"Roman Standards":[6008,6009,6010,6011,6012,6013,6014],"The Great Inventor":[6015,6016,6017,6018,6019,6020,6021],"Famous Rulers":[6022,6023,6024,6025,6026,6027,6028]},Brazil:{Beaches:[7001,7002,7003,7004,7005,7006,7007],"Musical Instruments":[7008,7009,7010,7011,7012,7013,7014],"Amazonian Plants":[7015,7016,7017,7018,7019,7020,7021],Drinks:[7022,7023,7024,7025,7026,7027,7028],"Head Dresses":[7029,7030,7031,7032,7033,7034,7035]},Chicago:{"Car Bonnets":[8001,8002,8003,8004,8005,8006,8007],Stickpins:[8008,8009,8010,8011,8012,8013,8014],"Sharp Dressers":[8015,8016,8017,8018,8019,8020,8021]}},add:function(b,a){GameCollections.content[b]=a}};UserConfig.create("mgopt",{delay:3,giftFav:[],userFav:[],giftPages:true,userPages:true,keepOne:true,search:[],hideZeroAmount:true});function MultiGifter(I,k,z){var w=UserConfig.mgopt;var i=new TimerMessage("#next_gift_timer");var t={is_working:false,daily_left:0,gift_count_avail:0,categories:{0:"Collections",1:"Loot",2:"Boosts"},Inventory:null,Friends:null};var M=[];var G={};var d=GameCollections.content;var m=new PopupObject("multigifter_popup",{type:"main",title:"MULTI GIFTER",onclose:function(){i.clear();O.cancel_click();httpAjaxStopRequests();w.fromDomElements();w.save();if(z){setTimeout(z,1000)}}});var j=function(T){var W,S,R,V=0;this.setItemsPerPage=function(X){T=X};this.setCat=function(X){if(typeof(S[X])!=="undefined"){V=X}};this.currentPage=function(X){if((X=parseInt(X))){return(R[V]=((X<1)?1:(X>this.pages())?this.pages():X))}return R[V]};this.getPageItems=function(Z){if(!w.get("userPages")){return S[V]}var X=S[V].length;var aa=(this.currentPage(Z)-1)*T;var Y=aa+T;return S[V].slice(aa,(Y>X?X:Y))};this.getItem=function(X){return W[X]};this.getName=function(X){if(W[X]){return W[X].name
}return"ERROR"};this.pages=function(){if(w.get("giftPages")){return Math.floor(S[V].length/T)+1}return 1};this.updateFavorites=function(){var Y=w.get("userFav");S[1]=[];R[1]=1;for(var X=0;X<Y.length;X++){S[1].push(W[Y[X]])}};this.search=function(Y){if(typeof(Y)!=="string"){Y=""}S[2]=[];R[2]=1;if(Y.length<1){return}for(var X=0;X<S[0].length;X++){if(S[0][X].name.toLowerCase().match(Y.toLowerCase())){S[2].push(S[0][X])}}};this.update=function(Y){U();for(var X in Y.groups_levels){if(!Y.groups_levels[X].match("Unknown")){S[0].push(W[X]={id:X,name:Y.groups_levels[X]})}}S[0].sort(function(ab,aa){var Z=ab.name.toLowerCase();var ac=aa.name.toLowerCase();return((Z<ac)?-1:((Z>ac)?1:0))});this.updateFavorites()};function U(){S={0:[],1:[],2:[]};W={};R={0:1,1:1,2:1};V=0}U();return this};var J=function(U){var T,V,S,R,X=0;this.selected={};this.setItemsPerPage=function(Z){U=Z};this.setCat=function(Z){if(typeof(T[Z])!=="undefined"){X=Z}};this.currentPage=function(Z){if((Z=parseInt(Z))){return(R[X]=((Z<1)?1:(Z>this.pages())?this.pages():Z))}return R[X]};this.getPageItems=function(ac){var aa=Y();if(!w.get("giftPages")){return aa}var Z=aa.length;var ad=(this.currentPage(ac)-1)*U;var ab=ad+U;return aa.slice(ad,(ab>Z?Z:ab))};this.getAllItems=function(){return Y().slice()};this.getItem=function(Z,aa){return S[Z][aa]};this.pages=function(){if(w.get("giftPages")){return Math.floor(Y().length/U)+1}return 1};this.lootFilter=function(ac){V[1]=[];R[1]=1;var ae,ah,aa,aj,ai,ag,ak,Z;var ab=(parseInt(ac.attack.q)||0)*ac.attack.op;var af=(parseInt(ac.defense.q)||0)*ac.defense.op;for(var ad=0;ad<T[1].length;ad++){ae=T[1][ad];ah=(ae.active==true&&ac.active)||(ae.active==false&&ac.inactive);aj=ab==0||(ae.attack*ac.attack.op)>ab;ai=af==0||(ae.defense*ac.defense.op)>af;ag=ac.ItemTypes.length===0||ac.ItemTypes[ae.type]===true;ak=ac.Qualities.length===0||ac.Qualities[ae.quality]===true;Z=ac.Locations.length===0||ac.Locations[ae.location]===true;if(ah&&aj&&ai&&ag&&ak&&Z){V[1].push(ae)}}};this.clearLootFilter=function(){V[1]=null};this.collectionFilter=function(ac,ad){if(ac=="all"){V[0]=null;return}V[0]=[];R[0]=1;var Z=[],ab;if(ad=="all"){Util.each(d[ac],function(af,ae){Z=$.merge(Z,ae)})}else{Z=d[ac][ad]}for(var aa=0;aa<T[0].length;aa++){ab=T[0][aa];if(Z.indexOf(parseInt(ab.id))!==-1){V[0].push(ab)}}};this.clearCollectionFilter=function(){V[0]=null};this.search=function(aa){if(typeof(aa)!=="string"){aa=""}T[4]=[];R[4]=1;if(aa.length<1){return}for(var ab in t.categories){for(var Z=0;Z<T[ab].length;Z++){if(T[ab][Z].name.toLowerCase().match(aa.toLowerCase())){T[4].push(T[ab][Z])}}}};this.updateFavorites=function(){var ab=w.get("giftFav");T[3]=[];R[3]=1;var Z=0,ac=0;for(var aa=0;aa<ab.length;aa++){Z=ab[aa].charAt(0);ac=ab[aa].substring(2);T[3].push(S[Z][ac])}};this.select=function(Z,aa){if(Util.isSet(S[Z][aa])){return(this.selected=S[Z][aa])}return};this.updateAmounts=function(ab){var ac,aa;for(var ad in t.categories){for(var Z=0;Z<T[ad].length;Z++){ac=(T[ad][Z].amount=ab[ad][T[ad][Z].id]);if(inventory&&inventory[Z]){inventory[Z].quantity=ac}}}};this.update=function(ab,ad){var aa,ac;W();for(var ae in t.categories){for(var Z in ab.item_names[ae]){T[ae].push((aa=(S[ae][Z]={cat:ae,id:Z,name:ab.item_names[ae][Z],amount:ab.item_amounts[ae][Z],img:ab.item_imgs[ae][Z]})));if(ae==1&&typeof(ac=ad.data[Z])!=="undefined"){aa.type=ac.type;aa.attack=ac.attack;aa.defense=ac.defense;aa.quality=ac.quality;aa.location=ac.location;aa.active=ac.active;aa.eqoff=ac.equipped_offense;aa.eqdef=ac.equipped_defense;aa.image=ac.image}}}this.updateFavorites()};function Y(){return V[X]||T[X]}function W(){V={0:null,1:null};T={0:[],1:[],2:[],3:[],4:[],5:[]};S={0:{},1:{},2:{}};R={0:1,1:1,2:1,3:1,4:1};X=0}W();return this};var O={saveSettings_click:function(){w.fromDomElements();w.save();q("gift");q("user");$("#gift_page, #user_page").change();return false},publish_click:function(){var R=$(this);if(R.hasClass("disabled")){return false}R.addClass("disabled");var U=String($("#main_log textarea").val());var T=$("#main_log #group_selection").val();var S=new Object();var V=(parseInt(T)>0)?"http://www.facebook.com/groups/${target}/?id=${id}":"http://www.facebook.com/${target}/posts/${id}";Util.each(U.split(/\n/),function(X,Y){var W=Util.doRgx(/^\#\s\[([\d\.:]+)\]\s(.*)/,Y);S["["+W.$1+"]"]=W.$2});facebook.streamPublish({target:T,name:"{*actor*} sent inventory items!",properties:S},function(W){if(W){var X=Util.doRgx(/(\d+)_(\d+)/,W);R.unbind().removeClass("sexy_announce_gray disabled").attr({href:Util.render(V,{id:X.$2,target:X.$1}),target:"_black"}).find("span > span").text("View")}});return false},clear_click:function(){var R=$(this).attr("id");showAskPopup("Clearing Favorites","Are you sure to clear your favotires ?",function(){if(R==="gift_fav_clear"){w.set("giftFav",[]);w.save(function(){t.Inventory.updateFavorites();v("gift",3)})}else{w.set("userFav",[]);w.save(function(){t.Friends.updateFavorites();v("user",1)})}});return false},addAllGifts_click:function(){F();return false},selectAll_click:function(){$(".checkboxlist[name="+$(this).attr("name")+"] input:checkbox").each(function(R,S){S.checked=true
});return false},selectNone_click:function(){$(".checkboxlist[name="+$(this).attr("name")+"] input:checkbox").each(function(R,S){S.checked=false});return false},showTab_click:function(){b($(this).attr("name"));return false},filterItems_click:function(){t.Inventory.lootFilter(N());v("gift",1);return false},clearFilter_click:function(){t.Inventory.clearLootFilter();v("gift",1);return false},collectionFilterType_change:function(){p($(this).val());return false},collectionFilter_change:function(){t.Inventory.collectionFilter($(this).attr("group"),$(this).val());v("gift",0);return false},saveSearch:function(){var R=prompt("Write the name of the new search:","MySearch");if(R){w.get("search").push({name:R,text:$("#search_gift").val()});w.save();h()}return false},removeSearch:function(){var R=$("#saved_search")[0].selectedIndex;if(R===0){return false}if(confirm("Are you sure to delete this Search?")){w.get("search").splice($("#saved_search")[0].selectedIndex-1,1);h();$("#search_gift").val("").change()}return false},textFocus:function(){this.select();return false},giftAddRemove_click:function(){var R=$(this).parent();l("gift",R.attr("gcat")+"_"+R.attr("gid"),$(this).hasClass("remove"));$(this).toggleClass("remove",$(this).hasClass("remove")==false);return false},userAddRemove_click:function(){l("user",$(this).parent().attr("uid"),$(this).hasClass("remove"));$(this).toggleClass("remove",$(this).hasClass("remove")==false);return false},search_change:function(){var R=this.selectedIndex-1;if(R<0){$("#search_gift").val("").change();return false}$("#search_gift").val(w.get("search")[R].text).change();return false},removeUser_click:function(){var R=$(this).parent().attr("id");$(this).parent().remove();$("li[uid="+R.substring(5)+"]").toggleClass("selected",false);K();return false},user_click:function(){var R=$(this).parent();var S=e$("#user_"+R.attr("uid"),"#selected_users");if(S!==null){$("a",S).click();return false}o(R.attr("uid"));R.toggleClass("selected",true);K();return false},gift_click:function(){var R=$(this).parent();r(R.attr("gcat"),R.attr("gid"));return false},clearUsers_click:function(){$("li.selected","#user_list").toggleClass("selected",false);$("#selected_users").empty();K();return false},addRem_click:function(){var S=$("#count_addrem").attr("action");var R=$(this).attr("amount");if(S=="add"){x(R,t.Inventory.selected)}else{x("-"+R,t.Inventory.selected)}return false},finish_click:function(){$("#mglist_queue").empty();g();$("#vertical_spacer").animate({"padding-top":422},500,"linear");$("#mglist_queue").animate({height:320},500,"linear");$("#main_log").fadeOut(500,function(){$("#main_container").fadeIn(500)});return false},toggleAction_click:function(){var R=$(this).attr("action");if(R=="add"){$("#start_controls a[amount]").removeClass("green").addClass("red");$(this).attr("action","remove").html("REM")}else{$("#start_controls a[amount]").removeClass("red").addClass("green");$(this).attr("action","add").html("ADD")}return false},cancel_click:function(){t.is_working=false;return false},delQueue_click:function(){M=[];$("#mglist_queue").empty();t.gift_count_avail=t.daily_left;return false},start_click:function(){if(M.length>0){$('*[id^="delete_id_"]',"#mglist_queue").hide();$("#global_messages").empty();c("message");$("#main_container").fadeOut(500,function(){$("#mglist_queue").animate({height:430},500,"linear");$("#vertical_spacer").animate({"padding-top":300},500,"linear");$("#main_log").fadeIn(500);c("status");t.is_working=true;f()})}else{g("Please, add a job before start.","green")}return false},deleteJob_click:function(){var R=this.id.substring(10);if(!isNaN(R)){H(parseInt(R))}return false},category_change:function(){var S=this.selectedIndex;var R=$(this).attr("name");if(R=="gift"){$("#gift_fav_clear").css("display",(S===3?"inline":"none"));$("div[id^=filter_container]").hide();(e$("#filter_container_"+S)||$("#filter_container_msg")).show()}else{$("#user_fav_clear").css("display",(S===1?"inline":"none"))}y(R).setCat(S);q(R);$("#"+R+"_page")[0].selectedIndex=y(R).currentPage()-1;$("#"+R+"_page").change()},giftPage_change:function(){L("gift",this.selectedIndex+1)},userPage_change:function(){L("user",this.selectedIndex+1)},prevPage_click:function(){var R=$(this).attr("name");if(y(R).currentPage()>1){$("#"+R+"_page")[0].selectedIndex=y(R).currentPage()-2;$("#"+R+"_page").change()}return false},nextPage_click:function(){var R=$(this).attr("name");if(y(R).currentPage()<y(R).pages()){$("#"+R+"_page")[0].selectedIndex=y(R).currentPage();$("#"+R+"_page").change()}return false},doSearch:function(){$("#search_"+$(this).attr("name")).change()},input_change:function(){var R=this.id.substring(7);y(R).search(this.value.toLowerCase());v(R,(R=="gift"?4:2))}};function y(R){return(R==="gift"?t.Inventory:t.Friends)}function F(){var R=c$("div").css("text-align","left").append(c$("center","class:addtitle").text("ADDING GIFTS TO QUEUE"));c$("form").appendTo(c$("div").appendTo(R).css("padding-left",50)).append(c$("div").css("margin-bottom",8).append(c$("input:radio","id:defined_opt,name:mode,value:0,checked:checked")).append(c$("label","for:defined_opt").text("Quantity:")).append(c$("input:text","name:quantity,value:1"))).append(c$("div").css("margin-bottom",8).append(c$("input:radio","id:all_opt,name:mode,value:1")).append(c$("label","for:all_opt").text("Add all possible."))).append(c$("div").css("margin-bottom",8).append(c$("input:radio","id:butone_opt,name:mode,value:2")).append(c$("label","for:butone_opt").text("Add all but one.")));
var T=new PopupObject({appendTo:m.content,type:"help",autoOpen:true,zIndex:99999,closeAfterClick:true,hideCloseButton:true,content:R,buttons:[{label:"Accept",addClass:"short white",onclick:S},{label:"Cancel",addClass:"short red"}]});function S(){var V=parseInt($("form input:checked",R).val());var U=parseInt($("form input:text",R).val());if(V==0&&(isNaN(U)||U<1)){return}Util.each(t.Inventory.getAllItems(),function(W,X){switch(V){case 0:x(U,X,true);break;case 1:x(X.amount,X,true);break;case 2:x(X.amount-1,X,true);break}})}}function s(){var aa=c$("div","id:main_log").appendTo(m.content);var V=c$("div","id:main_container").appendTo(m.content);var Y=c$("div","class:controls");var U=c$("div","class:controlbar").appendTo(V);c$("div").css("clear","both").appendTo(V);c$("div","class:leftside").appendTo(U).append(c$("div","id:gift_page_box").append(c$("a","name:gift,id:mgpage_prev,class:active").click(O.prevPage_click)).append(c$("select","id:gift_page").width(70).change(O.giftPage_change)).append(c$("a","name:gift,id:mgpage_next,class:active").click(O.nextPage_click))).append(c$("select","id:gift_category,name:gift").width(200).change(O.category_change)).append(b$("Clear","id:gift_fav_clear",true).click(O.clear_click).hide());c$("div","class:rightside").css("text-align","right").appendTo(U).width(290).append(b$("Config","name:config,class:short white").click(O.showTab_click)).append(b$("Filters","name:filter,class:short orange").click(O.showTab_click)).append(b$("Search","name:search,class:short orange").click(O.showTab_click));c$("div","id:gift_list,class:item_list").appendTo(V);var Z=c$("div","class:tab_container").appendTo(V);c$("center","tab_selected_gift").appendTo(Z).append(c$("div").text("Selected gift:")).append(c$("div","id:giftcard, class:ItemCardBox").css({cursor:"default","margin-top":5,width:"auto"}));var T=c$("div","tab_filter").hide().appendTo(Z);c$("div","filter_container_0").css("padding",20).appendTo(T).append(s$("collection_filter_type","Select Collection Type",260,{change:O.collectionFilterType_change})).append(c$("div").css({clear:"both","margin-top":5})).append(s$("collection_filter","Select Collection Name",260,{change:O.collectionFilter_change}));var W=new TabObject({id:"filter_list",appendTo:c$("div","filter_container_1").hide().appendTo(T),height:110,tabs:["GENERAL","TYPE","QUALITY","ORIGIN"]});W.getLayout(0).css("padding","0px 5px").append(c$("input:checkbox","id:active_filter,checked:checked")).append(c$("label","for:active_filter").text("Active items.")).append(c$("input:checkbox","id:inactive_filter,checked:checked")).append(c$("label","for:inactive_filter").text("Inactive items.")).append("<br /><br />").append(c$("span").text("Attack is: ")).append(c$("select","id:attack_more_less")).append(c$("span").text(" than ")).append(c$("input:text","id:attack_amount").width(60)).append("<br />").append(c$("span").text("Defense is: ")).append(c$("select","id:defense_more_less")).append(c$("span").text(" than ")).append(c$("input:text","id:defense_amount").width(60));function R(ac,ab){c$("ul","class:checkboxlist,name:"+ab).appendTo(ac);c$("center").css({"float":"left","margin-top":20}).appendTo(ac).append(b$("all","name:"+ab,true).width(40).click(O.selectAll_click)).append(c$("div").css("margin-top",5)).append(b$("none","name:"+ab,true).width(40).click(O.selectNone_click))}R(W.getLayout(1),"ItemTypes");R(W.getLayout(2),"Qualities");R(W.getLayout(3),"Locations");c$("center").css("margin-top",2).appendTo("#filter_container_1").append(b$("Filter Items",false,true).width(80).click(O.filterItems_click)).append(b$("Clear Filter",false,true).css("margin-left",5).width(80).click(O.clearFilter_click));c$("div","filter_container_msg").hide().appendTo(T).append(c$("center").css("margin",10).text('Filter work only with "Collection" and "Loot" categories.'));Util.each(G,function(ab,ac){var ad=$("ul[name="+ab+"]");Util.each(ac,function(af,ag){var ae=typeof(ag)=="string"?ag:ag.name;c$("li").appendTo(ad).append(c$("input:checkbox","id:"+ab+"_"+af+",checked:checked").val(af)).append(c$("label","for:"+ab+"_"+af).text(ae))})});c$("div","tab_search").css("padding-top",20).hide().appendTo(Z).append(c$("div").append(c$("label","for:search_gift").text("Type the text to search:"))).append(c$("input:text","id:search_gift").width(220).focus(O.textFocus).change(O.input_change)).append(b$("Go","name:gift",true).click(O.doSearch)).append(b$("Save",false,true).click(O.saveSearch)).append("<br /><br />").append(c$("div").append(c$("label","for:saved_search").text("Select a saved search:"))).append(c$("select","id:saved_search").width(222).change(O.search_change)).append(b$("Remove",false,true).click(O.removeSearch));c$("div","tab_config").css("padding-top",20).hide().appendTo(Z).append(x$("mgopt_hidezeroamount","Hide items that i dont have.","div")).append(x$("mgopt_keepone","Keep at least one item.","div")).append(x$("mgopt_giftpages","Show gift list pages.","div")).append(x$("mgopt_userpages","Show user list pages.","div")).append(b$("Save","class:short white").click(O.saveSettings_click));
c$("div").css("clear","both").appendTo(V);U=c$("div","class:controlbar").appendTo(V);c$("div","class:leftside").appendTo(U).append(c$("div","id:user_page_box").append(c$("a","name:user,id:mgpage_prev,class:active").click(O.prevPage_click)).append(c$("select","id:user_page").width(70).change(O.userPage_change)).append(c$("a","name:user,id:mgpage_next,class:active").click(O.nextPage_click))).append(c$("select","id:user_category,name:user").width(200).change(O.category_change)).append(b$("Clear","id:user_fav_clear",true).click(O.clear_click).hide());c$("div","class:rightside").appendTo(U).append(c$("label","for:search_user").text("Search:")).append(c$("input:text","id:search_user").width(140).focus(O.textFocus).change(O.input_change)).append(b$("Go","name:user",true).click(O.doSearch)).append(c$("div").css("float","right").append(b$("Clear","title:Clear all selected friends.",true).click(O.clearUsers_click)));c$("div").css("clear","both").appendTo(V);c$("div","id:user_list,class:item_list").appendTo(V);c$("div","id:selected_users").appendTo(V);c$("div","id:vertical_spacer").appendTo(m.content);Y.appendTo(m.content);c$("div","message_controls").appendTo(Y).append('<span id="global_messages">');c$("div","start_controls").appendTo(Y).append(c$("div","class:gift_delay").append(c$("label","for:mgopt_delay").html("Delay:&nbsp;")).append(c$("input:text","id:mgopt_delay").width(30).focus(O.textFocus))).append(c$("span").width(50).append(c$("a","id:count_addrem,action:add").html("ADD").click(O.toggleAction_click))).append(b$("1","amount:1,class:medium green").click(O.addRem_click).width(40)).append(b$("5","amount:5,class:medium green").click(O.addRem_click).width(40)).append(b$("10","amount:10,class:medium green").click(O.addRem_click)).append(b$("25","amount:25,class:medium green").click(O.addRem_click)).append(b$("50","amount:50,class:medium green").click(O.addRem_click)).append(b$("ALL","amount:all,class:short green").click(O.addRem_click)).append(b$("ALL OF ALL","class:short green,title:Add all gifts that you can see.").click(O.addAllGifts_click)).append(b$("CLEAR","class:short red,title:Clear all gifts added.").click(O.delQueue_click)).append(b$("START","class:short orange").click(O.start_click).width(80));c$("center","finish_controls").appendTo(Y).append(b$("FINISH").addClass("short orange").click(O.finish_click));b$("CANCEL","id:cancel_button,class:short orange").click(O.cancel_click).appendTo(c$("div","status_controls").appendTo(Y));c$("div","mglist_queue").appendTo(m.content);c$("textarea","readonly:readonly").attr("onclick","$(this).select();").appendTo(aa);Y=c$("div","status_controls").appendTo(aa).css("padding",20);Resources.getPicture("ajax_loader_gif").css("float","left").appendTo(Y);c$("div","id:next_gift_timer").appendTo(Y).css("float","right");c$("div").css("padding-left",35).appendTo(Y).append(c$("span").text("Current Job:").css({"margin-right":5,color:"grey"})).append(c$("span","id:status_current_job_text"));c$("div").css({"padding-left":35,"margin-top":10}).appendTo(Y).append(c$("span").text("Job Progress:").css({"margin-right":5,color:"grey"})).append(c$("span","id:status_send_message"));c$("div","finish_controls").appendTo(aa).append(c$("div").css("padding-left",20).text("Select Group:")).append(c$("select","id:group_selection").css({"margin-left":20,width:580})).append(b$("Publish","class:short white sexy_announce_gray").click(O.publish_click));global.Groups.addToSelect("#group_selection");q("user");q("gift");h();m.applyOptions({attack_more_less:{1:"More","-1":"Less"},defense_more_less:{1:"More","-1":"Less"},gift_category:{0:"Collections",1:"Loot",2:"Boosts",3:"Favorites",4:"Search"},user_category:{0:"All MW Friends",1:"Favorites",2:"Search"},collection_filter_type:{all:"All"}});var S=$("#collection_filter_type");for(var X in d){S.append(c$("option","value:"+X).text(X))}p("all")}function v(S,R){$("#"+S+"_category")[0].selectedIndex=R;$("#"+S+"_category").change()}function n(S){var T=[];for(var R=0;R<S.length;R++){T.push(t.Friends.getName(S[R]))}return T}function P(T,S){var R=Math.max(T.length,S.length);for(var U=0;U<R;U++){if(T[U]!=S[U]){return false}}return true}function E(R,S){return(R===S||R.id==S.id&&R.cat==S.cat)}function a(R){var S=[];$("#selected_users").children().each(function(T,U){S.push(U.id.substring(5))});return S}function H(R){if(M.length>1){M.splice(R,1);Q()}else{O.delQueue_click()}K()}function c(S,R){if(t.is_working){return}$("*[id*=_controls]",m.content).hide();if(R){$("#"+S+"_controls",m.content).fadeIn(R)}else{$("#"+S+"_controls",m.content).show()}}function b(R){$("*[id^=tab_]",m.content).hide();$("#tab_"+R,m.content).show()}function D(){M=[];t.is_working=false;c("finish","slow")}function K(R){if(M.length>0||t.Inventory.selected.id&&$("#selected_users").children().length>0){c("start",R)}else{$("#global_messages").css("color","white").html("You have "+t.gift_count_avail+" gifts left to send today (10000 daily).");c("message",R)}}function p(T){var R=$("#collection_filter").attr("group",T).empty().append(c$("option","value:all").text("All"));
if(typeof(d[T])!=="undefined"){for(var S in d[T]){R.append(c$("option","value:"+S).text(S))}}R.change()}function h(){var T=$("#saved_search").empty().append(c$("option","value:-1").text("None"));var S=w.get("search");for(var R=0;R<S.length;R++){T.append(c$("option","value:"+R).text(S[R].name))}}function q(S){var U=$("#"+S+"_page").empty();for(var T=0,R=y(S).pages();T<R;T++){U.append(c$("option","value:"+T).text((T+1)+"/"+R))}$("#"+S+"_page_box")[w.get(S+"Pages")?"show":"hide"]()}var r=function(S,T){var R=t.Inventory.select(S,T);if(Util.isSet(R)){$("li.selected","#gift_list").toggleClass("selected",false);$("li[gcat="+R.cat+"][gid="+R.id+"]","#gift_list").toggleClass("selected",true);$("#giftcard").empty().append(C(R));b("selected_gift")}K()};function o(R){if(e$("#user_"+R)!==null){return}c$("div","user_"+R).appendTo("#selected_users").text(t.Friends.getName(R)).append(c$("a").text("X").click(O.removeUser_click))}function L(S,W){var T,R="";var U={user:function(Y){if(!Util.isSet(Y)){return""}var X='<li uid="'+Y.id+'"><div class="checkbox">'+Y.name+"</div>";X+='<a title="Add/Remove from favorites" ';if(w.get("userFav").indexOf(Y.id)===-1){X+='class="favorite"></a></li>'}else{X+='class="favorite remove"></a></li>'}return X},gift:function(Y){if(!Util.isSet(Y)||((!Y.amount||Y.amount<1)&&w.get("hideZeroAmount"))){return""}var X='<li gcat="'+Y.cat+'" gid="'+Y.id+'">';X+='<img src="'+Y.img+'">';X+='<div class="item_name">'+Y.name+" (";if(Y.active){X+=Util.setColor(Math.max(Y.eqoff,Y.eqdef),"green","item_equipped")+"/"}X+=Util.setColor(Y.amount,"grey","item_quantity")+")";if((Y.attack&&Y.attack>0)||(Y.defense&&Y.defense>0)){X+=' (<span class="more_in">';X+=Y.attack+"|"+Y.defense+"</span>)"}X+='</div><a title="Add/Remove from favorites" ';if(w.get("giftFav").indexOf(Y.cat+"_"+Y.id)===-1){X+='class="favorite"></a></li>'}else{X+='class="favorite remove"></a></li>'}return X}};var V=y(S).getPageItems(W);for(T=0;T<V.length;T++){R+=U[S](V[T])}$("#"+S+"_list").html("<ul>"+R+"</ul>");$("div","#"+S+"_list").click(O[S+"_click"]);if(S=="user"){$("#selected_users").children().each(function(X,Y){$("#user_list li[uid="+Y.id.substring(5)+"]").addClass("selected")})}else{if(t.Inventory.selected&&t.Inventory.selected.id){T=t.Inventory.selected;$("#gift_list li[gid="+T.id+"][gcat="+T.cat+"]").addClass("selected")}}$("a","#"+S+"_list").click(O[S+"AddRemove_click"])}function l(U,T,R){var S=w.get(U+"Fav");if(R===true){S.splice(S.indexOf(T),1)}else{S.push(T)}w.save();y(U).updateFavorites()}function N(){var R={active:$("#active_filter")[0].checked,inactive:$("#inactive_filter")[0].checked,attack:{op:parseInt($("#attack_more_less").val())||0,q:parseInt($("#attack_amount").val())||0},defense:{op:parseInt($("#defense_more_less").val())||0,q:parseInt($("#defense_amount").val())||0}};$(".checkboxlist").each(function(S,T){var U=(R[$(T).attr("name")]={});$("input:checkbox",T).each(function(V,W){if(W.checked){U[W.value]=true}})});return R}function C(U){if(!Util.isSet(U)){return}var V;var R="http://mwfb.static.zgncdn.com/mwfb/graphics/inventory/ItemCard/icons/";var S=c$("div","class:defenseCard equipped visible").css({"float":"none","text-align":"left"}).append(c$("div","class:itemCardName").text(U.name)).append(c$("div","class:itemCardQuantity").html("x"+U.amount).append(V=c$("span").css("margin-left",5))).append(c$("div","class:itemCardImage").html(U.image||'<img src="'+U.img+'">'));if(parseInt(U.cat)==1){c$("div","class:attack_defense").appendTo(S).append(c$("span","class:attack").text(U.attack).css({"margin-left":17,"padding-right":6})).append(c$("span","class:defense").text(U.defense));var T=(U.active?"Active item - Your Mafia is using this item in fights/robs.":"Inactive item - Your Mafia is not using this item in fights/robs.");c$("div","class:icon equippedIcon").appendTo(S).append(c$("img","title:"+T).attr("src",R+"Inventory-"+(U.active?"":"in")+"active-icon.png"));c$("div","class:icon").appendTo(S).html(G.Qualities[U.quality].image);if((U.eqoff&&U.eqoff>0)||(U.eqdef&&U.eqdef>0)){V.append("(").append(c$("span","title:Number active on attack.").css("color","#FF9121").text(U.eqoff)).append("/").append(c$("span","title:Number active on defense.").css("color","#609AD1").text(U.eqdef)).append(")")}}return S}function g(T,R){var S=T||"You have "+t.gift_count_avail+" gifts left to send today (10000 daily).";if(t.daily_left){$("#global_messages").css("color",R||"white").html("<strong>"+S+"</strong>")}c("message");setTimeout(K,4000)}function x(W,U,Z){var T=-1;var S=a();var X=U.amount||0;var R=0;for(var Y=0;Y<M.length;Y++){if(M[Y].quantity){R+=(M[Y].quantity*M[Y].recip.length);if(E(M[Y].gift,U)){X-=(M[Y].quantity*M[Y].recip.length);if(P(M[Y].recip,S)){T=Y}}}}X=Math.floor(X/S.length);var V=Math.min(X,t.daily_left-R);switch(W){case"all":W=V;break;case"-all":W=U.amount*-1;break;default:W=parseInt(W);break}if(U.cat<0||U.id<1){if(!Z){g("Please, select a gift to send.","red")}return false}if(S.length<1){if(!Z){g("Please, select the user to send gift.","red")}return false
}if(typeof(W)=="undefined"){if(!Z){g("You need to set the gift amount.","red")}return false}if(V<1&&W>0){if(!Z){g("You dont have gifts left to send.","red")}return false}W=Math.min(W,V);if(T>-1){M[T].quantity+=W}else{T=M.length;M[T]={thisID:T,gift:U,recip:S,quantity:W,giftSend:0}}t.gift_count_avail=t.daily_left-R;t.gift_count_avail-=(Math.max(0,W)*S.length);if(M[T].quantity>0){B(T)}else{H(T)}return true}function Q(){var R=0;$("#mglist_queue").empty();for(var S=0;S<M.length;S++){M[S].thisID=S;R+=(M[S].quantity*M[S].recip.length);B(S)}t.gift_count_avail=t.daily_left-R}function B(W){var U=M[W];var V="queue_item_"+W;var T="Send "+U.quantity+" "+U.gift.name+"(s) To ";if(U.recip.length==1){T+=Util.setColor(t.Friends.getName(U.recip[0]),"yellow")}else{T+='<span title="'+n(U.recip).join(", ");T+='" style="color: yellow; cursor: pointer;">';T+=U.recip.length+" users.</span>"}var R=e$("#"+V)||c$("div","class:queue_item,id:"+V).prependTo("#mglist_queue");R.empty();c$("div","class:update_timestamp").appendTo(R).html(new Date().toUTCString());c$("div","class:status").append(c$("div")).appendTo(R);c$("div","class:icon").appendTo(R).append(c$("img").attr({width:40,height:40,src:U.gift.img}));var S=new TableObject(R);c$("span").css("float","right").text("Job:").appendTo(S.cell(0,0));c$("span").css("float","right").text("Status:").appendTo(S.cell(1,0));c$("span","class:job_txt,id:queue_item_status_"+W).text("Waiting.").appendTo(S.cell(1,1));c$("span","class:job_txt,id:queue_job_name").appendTo(S.cell(0,1)).html(T);b$("delete","delete_id_"+W).click(O.deleteJob_click).appendTo(R).css("float","right")}function A(R){R=parseInt(R);return(R>49)?50:(R>24)?25:(R>9)?10:(R>4)?5:(R>0)?R:1}function f(){if(M.length<1){return}var U,S,V="";var T=$("#main_log textarea",m.content).get(0);var X=function(aa,ab){if(isNaN(parseInt(aa))){aa=3}i.start("Next in %N% sec.",aa,ab)};T.value="";function W(){S=M[0];U={gift_category:S.gift.cat,gift_count:1,gift_id:S.gift.id,gift_key:global.gift_key,sendkey:""};for(var aa=0;aa<S.recip.length;aa++){U["recipients["+aa+"]"]=S.recip[aa]}$("#status_current_job_text").text("Sending "+(S.quantity*S.recip.length)+" "+S.gift.name+"(s)");$("#queue_item_status_"+S.thisID).text("Working...");Z()}function Y(){T.value+=["# [",(new Date()).toLocaleTimeString(),"] Sent ",S.giftSend," ",S.gift.name,"(s) to ",n(S.recip).join(", "),"\n"].join("");if(!t.is_working){M=[]}else{M.splice(0,1)}$(".status > div","#queue_item_"+S.thisID).addClass("complete");if(M.length>0){W()}else{D()}}function R(aa){$("#queue_item_status_"+aa.thisID).html(["You have sent ",aa.giftSend*aa.recip.length," ",aa.gift.name,"(s)."].join(""))}function Z(){if(!t.is_working){Y();return}U.gift_count=A(S.quantity);$("#next_gift_timer").html("Sending now.");$("#status_send_message").html("Sending "+U.gift_count+" "+S.gift.name+".");httpAjaxRequest({url:"remote/"+MW.getIntURL("gift","send"),liteLoad:0,data:U,success:function(ad){if(!MW.update(ad)){$("#status_send_message").html("Error sending gift request.");R(S);X(5,Y);return}var ac=MW.parseGiftData(ad);var aa=ac.item_amounts[S.gift.cat][S.gift.id]||0;S.gift.amount=aa;if(t.Inventory.all[S.gift.id]){t.Inventory.all[S.gift.id].quantity=aa}t.gift_count_avail=(t.daily_left=ac.gifts_daily_left);var ab=$("#gift_list li[gid="+S.gift.id+"][gcat="+S.gift.cat+"]");ab.find("#item_quantity").text(aa);ab.find("#item_equipped").text(Math.max(S.gift.eqoff,S.gift.eqdef));V=h$(ad).find(".message_body").text();$("#status_send_message").html(V);$("#next_gift_timer").html("Next in "+$("#mgopt_delay").val()+" sec.");if(/You\s*gave|Has\s*dado|Du\s*hast|Vous\s*avez\s*donn|Hai\s*dato/i.test(V)){S.quantity=Math.min(S.quantity-U.gift_count,aa);S.giftSend+=U.gift_count;if(S.quantity>0){X($("#mgopt_delay").val(),Z)}else{X($("#mgopt_delay").val(),Y)}}else{X($("#mgopt_delay").val(),Y)}R(S)}})}W()}function u(){t.Inventory=new J(50);t.Friends=new j(50);MW.getGiftData(function(R){t.Friends.update(R);t.daily_left=R.gifts_daily_left;t.gift_count_avail=R.gifts_daily_left;Logger.debug("gift_key: "+global.gift_key);Logger.debug("daily_left: "+R.gifts_daily_left);MW.getInventoryData(function(S){Logger.debug("Loading inventory...");t.Inventory.all=S.Items.data;G.ItemTypes=S.Item.Types;G.Locations=S.Item.Locations;G.Qualities=S.Item.Qualities;t.Inventory.update(R,S.Items);Logger.debug("Inventory loaded...");s();if(I&&k){r(I,k)}v("gift",(w.get("giftFav").length>0)?3:0);v("user",(w.get("userFav").length>0)?1:0);g();w.toDomElements();c("none");m.show()})})}w.load(function(){showSupportPopup("MultiGifter",u)})}UserConfig.create("ocopt",{_excludedToExport:["publishedOps","today","todayLinks"],defaultGroup:0,addSlackers:false,today:0,ignoredOps:{},publishedOps:{},todayLinks:{}});function OperationsCenter(){var q=0;var u=1;var b=2;var C=3;var l=4;var f={};var k={};var t={};var j=/'?(?:link|href)'?:\s*'([^']+)/g;var H;var g=UserConfig.ocopt;var m=new PopupObject("operationscenter_popup",{type:"main",title:"OPERATIONS CENTER",zIndex:30,onclose:function(){g.fromDomElements();
g.save();H.clear()}});var A=function(N,L,M,J){var I=this,O=L,K;this.name=$.trim($(".missionName",O).text());this.difficulty=$.trim($(".missionDifficulty > span",O).text());this.slots={total:0,free:0,users:[]};this.owner_id=Util.doRgx(/(\d+)/,global.USER_ID).$1;this.instance_id=N;this.feed_key=f[N].feed_key;this.mission_num=f[N].mission_num;this.is_owner=true;this.missionPic=Util.getPicture($(".missionPic",O).attr("style"));this.leader=null;this.slackers=false;this.mastered=100;this.is_mastered=false;this.status=C;this.page=M;this.type=J;this.timer="";this.taskMastery=c$("div").css("display","none");if(e$(".missionTimeText .missionTimer",O)){this.status=u;this.timer=Util.setColor("Mission Started!","yellow")}else{if(e$(".missionAction a:regex(onclick,collectReward)",O)){this.status=q;this.timer=Util.setColor("Mission Completed!","green")}else{if(e$(".missionAction a:regex(onclick,startMission)",O)){this.status=b;this.timer=Util.setColor("Not Started.","white")}else{if((K=e$(".missionAction a:regex(onclick,removeMission)",O))){this.status=l;this.timer=Util.setColor("Leader removed you.","red");this.owner_id=Util.doRgx(/removeMission\(['"](\d+)['"],/,K.attr("onclick")).$1}}}}if((K=e$("*[id^=taskDoJob_"+N+"_]",O))){this.is_owner=false;this.owner_id=K.attr("id").substr(K.attr("id").lastIndexOf("_")+1);this.leader=$(".missionLeader > div:eq(1) > div:eq(1) > div:eq(0)",O).text();this.leaderLink=$(".missionLeader > div:eq(1) > div:eq(1) > div:eq(1) a",O).attr("href");if((K=e$(".doTaskModule",O))){this.taskName=$(".doTaskName",K);this.taskMastery=$(".doTaskMastery",K);this.taskMastery.removeClass().addClass("task_mastery");this.taskName.removeClass().addClass("task_name");this.position=K.attr("id").substr(12,1);this.mastered=parseInt(this.taskMastery.find("div").css("width"));this.is_mastered=(this.mastered===100)}}else{if(this.status===u){this.is_mastered=true}}$(".missionTaskBox",O).each(function(R,Q){I.slots.total++;if(e$(".missionTaskImage > div",Q)==null){I.slots.free++;I.slots.users[R]={name:"Free slot",profile:"#",image:Util.getPicture($(".missionTaskImage",Q).attr("style")),progress:"0%"}}else{var P=$(".missionTaskStatus > div",Q).css("width");var S=$("#socialmission_box_hover_"+R+"_"+N+"_big tr:first a:first img",O);I.slots.users[R]={name:S.attr("title"),profile:S.parent().attr("href"),image:$(".missionTaskImage img",Q).attr("src"),progress:P};if(P!=="100%"){I.slackers=true}}});this.getJoinUrl=function(){return MW.getExtURL("socialmission","joinMission",{zy_track:"feed",sendtime:Math.round(new Date().getTime()/100),friend:"p|"+I.owner_id,next_params:{owner_id:"p|"+I.owner_id,feed_key:I.feed_key,instance_id:I.instance_id,mission_num:I.mission_num}})};this.getUrl=function(Q){var P={owner:I.owner_id,instance:I.instance_id,type:I.type,page:I.page};if(Q==="doTask"){var P={owner_id:I.owner_id,instance_id:I.instance_id,position:I.position}}else{if(Q==="sendPostBack"){P={instance:I.instance_id}}}return"remote/"+MW.getIntURL("socialmission",Q)+"&"+$.param(P)};this.info=function(){return"["+I.difficulty+" ("+I.slots.free+"/"+I.slots.total+")] "+I.name};return this};var c=function(){var K={};function J(M){try{clearInterval(M)}catch(L){}}function I(N,M){var L;return(function(){if((L=e$("li[instance="+N+"] .mission_header .operation_status span",m.content))){if(M>1){L.text(Util.toDateString(M--,null,"s"))}else{J(N);$("li[instance="+N+"]").hide()}}})}this.add=function(M,L){if(Util.isSet(K[M])){J(M)}K[M]=setInterval(I(M,L),1000)};this.clear=function(){$.each(K,function(L,M){J(M)})};return this};var v=function(J){var I=this;this.id=$(J).attr("instance");this.mission=t[I.id];this.hide=function(){var K=$(J).parent().parent();K.fadeOut(500,K.remove)};this.remove=function(){delete t[I.id];I.hide()};this.isDisable=function(){return $(J).hasClass("disabled")};this.enable=function(){$(J).removeClass("disabled")};this.disable=function(){$(J).addClass("disabled")};return this};var d={add:function(I,J){if(Util.isSet(J)){g.get(I+"Ops")[J]=true;g.save()}if(I==="ignored"){$("#ignored_count",m.content).text(this.length(I))}},is:function(I,J){if(Util.isSet(J)){return g.get(I+"Ops")[J]===true}return false},isNot:function(I,J){return this.is(I,J)!==true},reset:function(I){g.set(I+"Ops",{});g.save();if(I==="ignored"){$("#ignored_count",m.content).text(this.length(I))}},length:function(I){var K=0;for(var J in g.get(I+"Ops")){if(J){K++}}return K}};var s={refresh_click:function(){H.clear();n("remote/"+MW.getIntURL("socialmission"),"initiator",function(){n("remote/"+MW.getIntURL("socialmission"),"helper",function(){loadingScreen("hide");D()})});return false},resetList_click:function(){var I=String($(this).attr("href")).substr(1);d.reset(I);D();showHelpPopup({icon:"info",title:"Reset",message:"List "+I+" has been reset."});return false},ignore_click:function(){var I=new v(this);d.add("ignored",I.id);I.hide();return false},startMission_click:function(){var I=new v(this);if(I.isDisable()){return false}I.disable();httpAjaxRequest({url:I.mission.getUrl("startMission"),liteLoad:1,success:function(J){if(MW.update(htmlText)){showHelpPopup({icon:"info",title:"Mission Started!",message:'The mission "'+I.mission.name+'" has been started.<br>You need to refresh all missions to see the changes.'});
I.remove()}}});return false},collectReward_click:function(){var I=new v(this);if(I.isDisable()){return false}I.disable();httpAjaxRequest({url:I.mission.getUrl("collectReward"),liteLoad:1,success:function(J){var K=h$(J).find("script:regex(text,pop_socialmission_collect_dialog)");$("#popup_fodder").empty().append(K);I.remove()}});return false},doTask_click:function(){var I=new v(this);if(I.isDisable()){return false}I.disable();httpAjaxRequest({url:I.mission.getUrl("doTask"),success:function(L){try{var K=$.parseJSON(L.data);if(K.do_task_status===2){I.mission.mastered=K.progress;a(K,I.id,function(M){if((I.mission.is_mastered=M)){$("#operations_list .task_buttons a").addClass("disabled");i(I.mission.page,I.mission.type,D)}})}o(K,I.id)}catch(J){Logger.error(J)}I.enable()}});return false},removeMission_click:function(){var I=new v(this);if(I.isDisable()){return false}I.disable();httpAjaxRequest(I.mission.getUrl("removeMission"),I.remove)},close_click:function(){(new v(this)).remove();return false},refreshGroups_click:function(){var I=new v(this);if(I.isDisable()){return false}I.disable();global.Groups.refresh(function(){global.Groups.addToSelect("#select_fbgroups",g.defaultGroup);I.enable()});return false},setDefault_click:function(){g.set("defaultGroup",$("#select_fbgroups option:selected").val());g.save();showHelpPopup({icon:"info",title:"Default group",message:"The selected group has been saved as default."});return false},publish_click:function(){var I=new v(this);if(I.isDisable()){return false}I.disable();x(I.mission,function(){D();I.enable()});return false},publishAgain_click:function(){showHelpPopup({icon:"info",title:"mission published",message:"This mission has been published.<br>Do you want to reset published missions? ",buttons:[{label:"Reset",addClass:"short green",onclick:function(){d.reset("published");D()}},{label:"Close",addClass:"short white"}]});return false},publishAll_click:function(){var I=new v(this);if(I.isDisable()){return false}I.disable();B(I.enable);return false},shortLinks_click:function(){E(function(I){$("#shortlinks_area").val(I)});return false},checkbox_click:function(){g.fromDomElements();g.save()},selectAll_click:function(){$("#shortlinks_area",m.content).select();return false},goBack_click:function(){G("main","panel");return false}};function h(I){try{var K=$.parseJSON(Util.uSplit(I).next_params);if(!K.instance_id){throw TypeError('Cant read "instance_id" from url.')}if(!K.feed_key){throw TypeError('Cant read "feed_key" from url.')}if(!K.mission_num){throw TypeError('Cant read "mission_num" from url.')}return(f[K.instance_id]=K)}catch(J){Logger.error(J);return{key:0,num:0}}}function w(K,L){var J=String($(L).text());var I=Util.doRgx(/postInitActionFeed([\w\d]+)/,J).$1;k[I]="postInitActionFeed"+I+"();";m.content.append(L)}function r(L,M){var K=String($(M).text());var I=Util.doRgx(/id:\s*['"]missionTimer_(.*?)['"]/,K).$1;var J=Util.doRgx(/time_left:\s*(\d+)/,K).$1;H.add(I,J)}function i(I,J,K){httpAjaxRequest({url:"remote/"+MW.getIntURL("socialmission"),liteLoad:1,data:{type:J,page:I},success:function(O){if(!MW.update(O)){K&&K();return}var N,M=h$(O);M.find("script:regex(text,var postInitActionFeed)").each(w);M.find("script:regex(text,missionTimer_)").each(r);while((N=j.exec(O))){if(/joinMission/.test(N[1])){h(unescape(N[1]))}}M.find(".socialMission").each(function(Q,R){if(!R.id||R.id.length<14){return}var S,P=R.id.substring(14);Logger.debug("loading mission:"+P);if(Util.isSet(f[P])){t[P]=new A(P,R,I,J)}});var L=M.find(".socialMissionPaging .right");if(L.hasClass("pagingDisabled")||L.attr("disabled")){K&&K()}else{K&&K(Util.doRgx(/viewPage\((\d)\);/i,L.attr("onclick")).$1)}}})}function D(){var J=c$("ul");var I={};$.each(t,function(U,T){if(d.is("ignored",T.instance_id)){return}var Q=c$("li","instance:"+U),K;var L=false,M=true,O,S;var P=T.slackers?Util.setColor("Yes","red"):Util.setColor("No","green");if(d.is("published",T.instance_id)){I[T.instance_id]=true}c$("div","class:mission_header").append(c$("span","class:operation_name").text(T.name)).append(c$("span").css("margin-left",10).text("Slots: "+T.slots.free+"/"+T.slots.total)).append(c$("span").css("margin-left",10).html("Slackers: "+P)).append(S=c$("span").css("margin-left",10)).append(c$("span","class:operation_status").html(T.timer)).appendTo(Q);if(!T.is_owner){S.html('Leader: <a href="'+T.leaderLink+'" target="_black">'+T.leader+"</a>")}c$("img").attr("src",T.missionPic).appendTo(Q);var N=c$("div","class:task_buttons").appendTo(Q);c$("div","class:stats").appendTo(Q).append(T.is_mastered?c$("div","class:mastered_message").text("100% Mastered!"):T.taskMastery).append(K=c$("div","id:operation_slots")).append(c$("div","id:job_result").hide());$.each(T.slots.users,function(W,Y){var V=c$("a","target:_black").appendTo(K).attr("href",Y.profile);var X=c$("div","class:task_box").appendTo(V);c$("div","class:task_image").appendTo(X).append(c$("img","title:"+Y.name).attr("src",Y.image));c$("div","class:task_status").appendTo(X).append(c$("div","class:fill").css("width",Y.progress))
});if(T.status===u){if(!T.is_mastered){O={text:"Do Job",cls:"medium orange",click:s.doTask_click}}else{if(T.slots.free>0){if(d.isNot("published",T.instance_id)){O={text:"Publish",cls:"sexy_announce_gray medium white",click:s.publish_click}}else{O={text:"Published!",cls:"sexy_announce_gray medium white",click:s.publishAgain_click}}}else{O={text:"Remember",cls:"sexy_announce_gray medium white",click:k[U]}}}}else{if(T.status===b){O={text:"Start Now",cls:"medium white",click:s.startMission_click}}else{if(T.status===q){O={text:"Collect",cls:"medium green",click:s.collectReward_click};M=false}else{if(T.status===l){O={text:"Close",cls:"medium white",click:s.removeMission_click};M=false}else{O={text:"Close",cls:"medium white",click:s.close_click};M=false}}}}if(Util.isSet(O)){var R=b$(O.text,"class:"+O.cls+",instance:"+U).appendTo(N);if(Util.isFunc(O.click)){R.click(O.click)}else{R.attr("onclick",O.click)}}if(M===true){c$("br").appendTo(N);c$("a","href:#,class:ignore,instance:"+U).text("ignore").appendTo(N).click(s.ignore_click)}if(T.is_mastered){Q.appendTo(J)}else{Q.prependTo(J)}});g.set("publishedOps",I);g.save();$("#operations_list").empty().append(J.children())}function o(M,I,Q){var K=M.task_data,P="";var J=$("li[instance="+I+"] #operation_slots",m.content);var O=$("li[instance="+I+"] #job_result",m.content);if(O.length>0){clearTimeout(parseInt(O.attr("timeout")));O.clearQueue()}if(M.do_task_status===2){P+="<div>Gained: ";if(Util.isSet(K.payouts)){var L=K.payouts[0];P+='<span class="'+L.cssClass+'">'+L.amount+"</span>"}P+="</div><div>Spent: ";if(Util.isSet(K.requirements)){var R=K.requirements[0];P+='<span class="'+R.cssClass+'">'+R.amount+"</span>"}}else{P+=Util.setColor("You can't do this mission. You have not enough energy/stamina.","red")}O.html(P).show();J.hide();var N=setTimeout(function(){O.fadeOut(2000,function(){O.empty().hide();J.show()})},5000);O.attr("timeout",N)}function a(K,N,M){if(!K.do_task_status==2){return}var J,I,L=K.progress;if((I=$("li[instance="+N+"] .task_mastery")).length<1){return}if(K.is_task_mastered){L=100}J=I.find("div");J[0].mastery_percentage=Math.ceil((parseInt(J.css("width"))/parseInt(I.css("width")))*100);J.clearQueue();J.animate({mastery_percentage:L},{easing:"linear",duration:500,step:function(){var P=$(this);var O=parseInt(this.mastery_percentage)+"% Mastered!";if(this.mastery_percentage>L){this.mastery_percentage=L}P.css("width",this.mastery_percentage+"%");$("p",P).text(O);if(P.parent().length>0){P.parent()[0].firstChild.nodeValue=O}},complete:function(){var P=$(this);var O=parseInt(this.mastery_percentage)+"% Mastered!";P.css("width",this.mastery_percentage+"%");$("p",P).text(O);M(K.is_task_mastered)}})}function G(J,L,I,K){$("div[id*=_"+L+"]",m.content).hide();var M=$("#"+J+"_"+L,m.content);if(I){M.fadeIn(I,K)}else{M.show()}}function y(I){var J=[];Util.each(t,function(K,L){if(d.isNot("ignored",L.instance_id)&&(d.isNot("published",L.instance_id)||I===true)&&L.is_mastered&&L.slots.free>0){if(L.slackers!==true||g.get("addSlackers")){J.push(L)}}});return J}function x(L,K){var J=$("#select_fbgroups option:selected",m.content).val();var I=(L.is_owner===false)?'{*actor*} needs your expertise helping to "'+L.leader+'" before time runs out.':"{*actor*} needs your expertise to finish an operation before time runs out.";facebook.streamPublish({target:J,name:L.info(),caption:I,picture:L.missionPic,link:L.getJoinUrl(),actionText:"Join Operation"},function(M){if(M){d.add("published",L.instance_id);K&&K(true)}})}function F(I){if(I&&!I.error){showPublishMessage();return true}else{showHelpPopup({icon:"error",title:"Post Error",message:"There was an error publishing your links.<br>"+I.error.message});return false}}function B(M){var L,J=y();var I={};var K=$("#select_fbgroups option:selected").val();if(J.length>1){Util.each(J,function(P,Q){var N=P+1;var O="#"+((N>9)?"":"0")+N+" Leader ";O+=(Q.is_owner?facebook.user.first_name:Q.leader);I[O]={text:Q.info(),href:Q.getJoinUrl()}});L={target:K,name:"{*actor*} needs your expertise to finish this operations",properties:I};facebook.streamPublish(L,function(N){if(F(N)){Util.each(J,function(O,P){d.add("published",P.instance_id)});D()}M()})}else{if(J.length===1){x(J[0],function(N){if(F(N)){D()}M()})}else{showHelpPopup({icon:"info",title:"No Valid Operations",message:"To publish missions, they should have at least 1 free slot"+($("#ocopt_addslackers")[0].checked?".":" and no slackers.")});M()}}}function E(O){var K="",J,N,M;var L=y(true);if(L.length<1){showHelpPopup({icon:"info",title:"No Valid Operations",message:"To get short links, should be 1 or more slots free and no slackers."});return}var I=new Collection(L);I.onMove(function(R,P,Q){J=Q;N=(J.is_owner===false)?" from: "+J.leader+" => ":" => ";M=g.get("todayLinks")[J.instance_id];if(Util.isSet(J.instance_id)&&Util.isSet(M)){K+=(J.info()+N+M+"\n");I.MoveNext();return}getShortURL(J.getJoinUrl(),function(S){g.get("todayLinks")[J.instance_id]=S;g.save();K+=(J.info()+N+S+"\n");I.MoveNext()},I.MoveNext)});
I.onEnd(function(){G("shortlinks","panel");O&&O(K)});G("loading","panel");I.MoveFirst()}function z(){var I=c$("div","id:main_panel,class:extended_info").height(130).appendTo(m.content);c$("div","class:groups_selection").append(c$("label","for:select_fbgroups").css("margin-right",5).text("Publish in:")).append(c$("select","id:select_fbgroups").css("margin-right",5).width(400)).append(c$("a","href:#").text("Default").click(s.setDefault_click)).append(b$("Refresh groups","class:short white").css("float","right").click(s.refreshGroups_click)).appendTo(I);c$("div").width("100%").append(c$("input:checkbox","id:ocopt_addslackers").click(s.checkbox_click)).append(c$("label","for:ocopt_addslackers").text("Publish/Short missions with slackers.")).appendTo(I);c$("div","class:left_box").appendTo(I).append(c$("a","href:#ignored").html('Reset Ignored (<span id="ignored_count">'+d.length("ignored")+"</span>)").click(s.resetList_click)).append("<br />").append(c$("a","href:#published").text("Reset Published").click(s.resetList_click)).append("<br />").append(b$("Refresh operations","class:medium white").click(s.refresh_click));c$("div","class:right_box").appendTo(I).append(b$("Short All Operations","class:sexy_send_gift_new medium white").click(s.shortLinks_click)).append("<br />").append(b$("Publish All Operations","class:sexy_announce_gray medium white").click(s.publishAll_click));c$("div","class:user_stats").appendTo(I).append(c$("div").append($("#stat_energy_cont").clone()).append($("#stat_stamina_cont").clone()));c$("div","id:shortlinks_panel,class:extended_info").height(130).append(c$("textarea","id:shortlinks_area").click(s.selectAll_click)).append(c$("div","class:shorting_buttons").append(b$("Select All","class:medium white").click(s.selectAll_click)).append("<br /><br />").append(b$("Go back","class:medium white").click(s.goBack_click))).appendTo(m.content);c$("div","id:loading_panel,class:extended_info").css("text-align","center").height(130).append(c$("img").attr("src",global.zGraphicsURL+"socialmissions/ajax-loader.gif")).appendTo(m.content);c$("ul","operations_list").height(600).appendTo(m.content)}function n(I,J,L){function K(M){if(M){loadingScreen("Loading "+J+" operations, page "+M+"...");i(M,J,K)}else{L&&L()}}loadingScreen("Loading "+J+" operations...");i(1,J,K)}function p(){var I=new Date().getDay();if(g.get("today")!==I){g.set("today",I);g.set("todayOps",{});g.set("todayLinks",{});g.save()}H=new c();n("remote/"+MW.getIntURL("socialmission"),"initiator",function(){n("remote/"+MW.getIntURL("socialmission"),"helper",function(){z();D();global.Groups.addToSelect("#select_fbgroups",g.get("defaultGroup"));g.toDomElements();G("main","panel");loadingScreen("hide");m.show()})})}facebook.init(function(I){if(I===true){g.load(p)}})}function PluginManager(){var d,a=new Config("remotePluginFiles",{data:{}});var h=new PopupObject("pluginmanager_popup",{type:"main",title:"PLUG-IN MANAGER",width:750,onclose:function(){p();Plugins.save(Plugins.update)}});var m={upload_click:function(){var t=$(this).attr("guid");if(t){g(t,$(this))}return false},install_click:function(){var t=$(this).attr("guid");var v=a.data[t];if(!v){return}function u(){showHelpPopup({icon:"error",title:"Plugin Installation",message:"Plugin "+v.name+" was not installed."})}l(v.claim,function(){httpXDRequest({method:"GET",url:"http://mwaddon.com/download/?rel=plugins&f="+v.file,onload:function(w){try{Plugins.addNew(Util.parseJSON(w.responseText),function(y){if(y){y.fver=v.fver;y.active=true;Plugins.save(function(){if(y.runat===Plugins.RUNAT_STARTUP){showAskPopup("Refresh","This Plugin requires to refresh the game to take effect.<br>Would you like to refresh the game now?",function(){unsafeWindow.location.reload()},s)}else{s()}})}else{u()}})}catch(x){u()}}})});return false},addnew_click:function(){c({name:"New Plugin"},function(t){if(t){t.active=true;s()}});return false},edit_click:function(){var t=$(this).attr("guid");if(t){var u=Plugins.get(t);u.active=$("#chk"+t).hasClass("checked");c(u,function(v){if(v){v.fver=parseInt((new Date()).getTime()/1000);s()}})}return false},uninstall_click:function(){var t=$(this).attr("guid");if(t){showAskPopup("Uninstall","You are going to uninstall this plugin. Are you sure?",function(){Plugins.remove(t,s)})}return false},import_click:function(){f(function(t){Plugins.addNew(Util.parseJSON(t),function(u){Plugins.save(s)})});return false},export_click:function(){var t=$(this).attr("guid");if(t){FileSystem.fileSave(Plugins.get(t).encode())}return false},shareLink_click:function(){var u=$(this).attr("guid");if(u){var t=Plugins.get(u).getLink();if(t.length<5000){unsafeWindow.open("https://www.facebook.com/sharer/sharer.php?u="+escape(t),"_blank")}else{showHelpPopup({icon:"error",title:"Install link too long.",message:"You can't create an install link for this Plugin."})}}return false}};function q(u){var t=Plugins.convertBookmarklet(u);if(t){return"execRemoteScript('"+t+"?'+Math.random());"}return u}function f(u){var t=c$("div").css("text-align","left").append(c$("div","class:config_wrapper").append(c$("input:file","id:local_file,name:files[]")).append(c$("hr")).append(t$("remote_source","Remote:")).append(c$("hr")).append(s$("server_source","Server:",(function(){var v=[c$("option","value:0").text("Select Server Plugin")];
Util.each(a.data,function(y,x){var w=Util.trim(y.replace(/([A-Z])/g," $1"));v.push(c$("option","value:"+y).text(w))});return v})())));showMiniPopup({id:"loadfile",parent:h.content,content:t,title:"LOAD FILE",accept:function(){var v=$("#local_file",t).get(0);if(v.files&&v.files[0]){FileSystem.fileReader(v.files,u)}else{if((v=$("#remote_source",t).val())){if(/^https?.*?\.mwa$/.test(v)){httpXDRequest({method:"GET",url:v,onload:function(w){u(w&&w.responseText)}})}}else{if((v=$("#server_source",t).val())!="0"){httpXDRequest({method:"GET",url:"http://mwaddon.com/download/?rel=plugins&f="+v,onload:function(w){u(w&&w.responseText)}})}}}}})}function i(u,t){return c$("fieldset").append(c$("legend").text(u)).append(t)}function l(v,x){if(!v){x&&x();return}else{v=v.replace(/\n/g,"<br />")}var t=c$("div").css("text-align","left");var u=c$("div","class:config_wrapper");var w=c$("div","class:disclaimer_notice").height(260);i("Read before Install:",w).appendTo(u);u.appendTo(t);w.html(v);showMiniPopup({id:"disclamer",parent:h.content,content:t,title:"Disclaimer Notice",accept:x})}function r(x,A){var z=a.data[x]||{sign:global.USER_ID,perms:"",claim:""};var w=Plugins.get(x);var v=c$("div").css("text-align","left");var t=c$("select","id:p_runat");var y=c$("div","class:config_wrapper");var u=c$("div","class:icon_box");if(String(w.code).lenght<3){showHelpPopup({icon:"error",title:"Upload File",message:"The plugin code is not valid."});return}u.appendTo(y).append(c$("img","id:plugin_image_icon").hide());i("Plugin Icon (32x32 image jpg/png):",c$("input:text","id:field_icon")).appendTo(y);i("Uploader Name:",c$("input:text","id:field_upln")).appendTo(y);i("Permissions (use commas to delimited):",c$("input:text","id:field_perms")).appendTo(y);i("Legal Notice:",c$("textarea","id:field_claim").height(120)).appendTo(y);y.appendTo(v);$("#field_icon",v).attr("onchange","$('#plugin_image_icon').attr('src',this.value).show();");if(!z.icon&&facebook.session&&facebook.session.uid){z.icon="https://graph.facebook.com/"+facebook.session.uid+"/picture"}if(facebook.user&&facebook.user.first_name){if(z.sign===global.USER_ID){z.upln=facebook.user.first_name}}$("#field_icon",v).val(z.icon);$("#field_perms",v).val(z.perms);$("#field_claim",v).val(String(z.claim).replace(/<br>/g,"\n"));$("#field_upln",v).val(z.upln);if(z.icon){$("#plugin_image_icon",v).attr("src",z.icon).show()}showMiniPopup({id:"uploadfile",parent:h.content,content:v,title:"Upload File",accept:function(){var B={icon:$("#field_icon",v).val(),upln:$("#field_upln",v).val()||facebook.user.first_name,perms:$("#field_perms",v).val(),claim:$("#field_claim",v).val()};A(B)}})}function g(t,u){r(t,function(w){if(!w){return}var v=Plugins.get(t);if(!v.fver||v.fver<100){v.fver=parseInt((new Date()).getTime()/1000);Plugins.save()}w.type="plugins";w.guid=v.guid;w.name=v.name;w.sign=global.USER_ID;w.fver=v.fver;w.data=v.encode();loadingScreen("Uploading file...");httpXDRequest({method:"POST",url:"http://mwaddon.com/upload.php",data:$.param(w),onload:function(x){loadingScreen();if(x.responseText=="OK"){b(s);showHelpPopup({icon:"info",title:"Upload File",message:"File successfully uploaded."})}else{u.removeClass("disabled");showHelpPopup({icon:"error",title:"Upload File",message:"There was an error: "+(x.responseText.length<100?Util.formatText(x.responseText):"unknow")})}}})})}function c(v,x){var u=c$("div").css("text-align","left");var t=c$("select","id:p_runat");var w=c$("div","class:config_wrapper");i("Name:",c$("input:text","id:p_name")).css({display:"inline",width:"65%"}).appendTo(w);i("Run at:",t).css({display:"inline","float":"right"}).appendTo(w);c$("hr").appendTo(w);i("Code:",c$("textarea","id:p_code").height(150)).appendTo(w);c$("option","value:0").text("User Click").appendTo(t);c$("option","value:1").text("Startup").appendTo(t);c$("option","value:2").text("Page Load").appendTo(t);w.appendTo(u);if(v.name){$("#p_name",u).val(v.name)}if(v.runat){$("#p_runat",u).val(v.runat)}if(v.code){$("#p_code",u).val(v.code)}showMiniPopup({id:"editplugin",parent:h.content,content:u,title:v.name,accept:function(){var y=q($("#p_code",u).val());if(y){v.code=jsMinifier(y);v.name=$("#p_name",u).val();v.runat=Number($("#p_runat",u).val());if(!isFinite(v.runat)){v.runat=0}Plugins.addNew(v,x)}else{x&&x()}}})}function p(){$(".checkbox",h.content).each(function(t,u){Plugins.get(u.id.substr(3)).active=$(u).hasClass("checked")})}function o(){$("a[event-name]",d.body).each(function(t,u){$(u).click(m[$(u).attr("event-name")+"_click"])})}function j(u,v){var t=a.data&&a.data.trusted;if(u==global.USER_ID){return true}else{if(Util.isArray(t)&&Util.inArray(global.USER_ID,t)){return true}else{if(v&&Util.isArray(v)&&Util.inArray(global.USER_ID,v)){return true}}}return false}function s(){var u=[],t=1;Plugins.each(function(w,x){var y=a.data[x.guid],z=[];var v=c$("div");x.index=t;z.push(x$("chk"+w).toggleClass("checked",x.active));z.push(t++);z.push(x.name);z.push(b$("Uninstall","class:ui-sexy-red,event-name:uninstall,guid:"+x.guid,true));
if(Util.isSet(y)){if(y.fver===x.fver){v.html("Version is up to date.&nbsp;&nbsp;")}else{if(y.fver>x.fver){v.text("Version is outdated: ");v.append(b$("Update","class:ui-sexy-green,event-name:install,guid:"+y.guid,true))}else{if(y.fver<x.fver){v.text("Version is most recent: ");v.append(b$("Upload","class:ui-sexy-orange,event-name:upload,guid:"+x.guid,true))}}}if(j(y.sign,y.perms)){v.append(b$("Edit it","event-name:edit,guid:"+x.guid,true))}}else{v.text("Your plugin: ");v.append(b$("Upload","class:ui-sexy-orange,event-name:upload,guid:"+x.guid,true));if(j(x.sign)){v.append(b$("Edit it","event-name:edit,guid:"+x.guid,true))}}z.push(v);u.push(z)});Util.each(a.data,function(x,z){var A=[];if(z&&z.name&&!Plugins.exists(x)){var w=c$("div","class:image_icon");var v=String(z.name).replace(/\s+/g,"").toLowerCase();var y=MW.getProfileLink(z.sign);if(/^http/.test(z.icon)){w.css("background-image","url("+z.icon+")")}else{w.css("background-image","url(http://mwaddon.com/getimage.php?n="+v+")")}A.push(c$("a",{target:"_blank",href:y}).append(w));A.push(t++);A.push(z.name);A.push(b$("Install","class:ui-sexy-green,event-name:install,guid:"+z.guid,true));A.push("Uploader: "+(z.upln||"Unknow."));u.push(A)}});d.appendData(u);o()}function n(){var t={enabledesc:function(w,v){var u=$(w).is(".checkbox"),z=$(v).is(".checkbox");if(u&&z){u=!$(w).hasClass("checked");z=!$(v).hasClass("checked")}return((!u&&z)?1:((u&&!z)?-1:0))},enableasc:function(w,v){var u=$(w).is(".checkbox"),z=$(v).is(".checkbox");if(u&&z){u=$(w).hasClass("checked");z=$(v).hasClass("checked")}return((!u&&z)?1:((u&&!z)?-1:0))},status:function(w,v){var u=$(w).attr("event-name"),z=$(v).attr("event-name");return((u==z)?0:((u>z)?1:-1))}};d=new DataGridTable({id:"plmanagergrid",appendTo:h.content,columns:[{title:"&nbsp;",label:"Sort by enable/disable.",width:30,center:true,sort:{asc:t.enableasc,desc:t.enabledesc}},{title:"#",label:"Position.",width:20,center:true,sort:"numeric"},{title:"Name",width:250,sort:"string"},{title:"Status",width:100,center:true,sort:t.status},{title:"Description",width:"auto"}],defaultSort:function(v,u){try{var w=t.status(u[3],v[3]);if(w===0){return global.SortingBy.string(v[2],u[2])}return w}catch(x){return 0}},buttons:[{label:"Add New",click:m.addnew_click}]});d.onBeforePageChange(p);d.onBeforeSorting(p);d.onPageChange(o);d.onSorting(o)}function b(t){httpXDRequest({method:"GET",url:"http://mwaddon.com/download/info.php?t=plugins&_=_",onerror:t,onload:function(u){var v=Util.trim(u.responseText);if(v&&v.charAt(0)==="{"){a.data=Util.parseJSON(v);a.save(t)}else{if(Util.isFunc(t)){t()}}}})}function k(){n();s();loadingScreen();h.show()}a.load(function(){loadingScreen("Loading...");b(k)})}function ReminderManager(){var k,p=new Config("remoteRemindersFiles",{data:{}});var j=new PopupObject("remindermanager_popup",{type:"main",title:"REMINDER MANAGER",width:750,onclose:function(){c();Reminders.save();Reminders.isDisabled=false}});var r={upload_click:function(){var s=$(this).attr("guid");if(s){q(s,$(this))}return false},install_click:function(){var s=$(this).attr("guid");var u=p.data[s];if(!u){return}function t(){showHelpPopup({icon:"error",title:"Reminder Installation",message:"Reminder "+u.name+" was not installed."})}g(u.claim,function(){httpXDRequest({method:"GET",url:"http://mwaddon.com/download/?rel=reminders&f="+u.file,onload:function(v){try{Reminders.addNew(Util.parseJSON(v.responseText),function(x){if(x){x.fver=u.fver;x.active=true;Reminders.save(a)}else{t()}})}catch(w){t()}}})});return false},addnew_click:function(){o({name:"New Reminder"},function(s){if(s){s.active=true;a()}});return false},edit_click:function(){var t=$(this).attr("guid");if(t){var s=Reminders.get(t);s.active=$("#chk"+t).hasClass("checked");o(s,function(u){if(u){u.fver=parseInt((new Date()).getTime()/1000);a()}})}return false},uninstall_click:function(){var s=$(this).attr("guid");if(s){showAskPopup("Uninstall","You are going to uninstall this reminder. Are you sure?",function(){Reminders.remove(s,a)})}return false},export_click:function(){var s=$(this).attr("guid");if(s){FileSystem.fileSave(Reminders.get(s).encode())}return false},shareLink_click:function(){var t=$(this).attr("guid");if(t){var s=Reminders.get(t).getLink();if(s.length<5000){unsafeWindow.open("https://www.facebook.com/sharer/sharer.php?u="+escape(s),"_blank")}else{showHelpPopup({icon:"error",title:"Install link too long.",message:"You can't create an install link for this Plugin."})}}return false}};function m(t,s){return c$("fieldset").append(c$("legend").text(t)).append(s)}function g(u,w){if(!u){w&&w();return}else{u=u.replace(/\n/g,"<br />")}var s=c$("div").css("text-align","left");var t=c$("div","class:config_wrapper");var v=c$("div","class:disclaimer_notice").height(260);m("Read before Install:",v).appendTo(t);t.appendTo(s);v.html(u);showMiniPopup({id:"disclamer",parent:j.content,content:s,title:"Disclaimer Notice",accept:w})}function b(v,y){var x=p.data[v]||{sign:global.USER_ID,perms:"",claim:""};var u=c$("div").css("text-align","left");
var s=c$("select","id:p_runat");var w=c$("div","class:config_wrapper");var t=c$("div","class:icon_box");t.appendTo(w).append(c$("img","id:plugin_image_icon").hide());m("Plugin Icon (32x32 image jpg/png):",c$("input:text","id:field_icon")).appendTo(w);m("Uploader Name:",c$("input:text","id:field_upln")).appendTo(w);m("Permissions (use commas to delimited):",c$("input:text","id:field_perms")).appendTo(w);m("Legal Notice:",c$("textarea","id:field_claim").height(120)).appendTo(w);w.appendTo(u);$("#field_icon",u).attr("onchange","$('#plugin_image_icon').attr('src',this.value).show();");if(!x.icon&&facebook.session&&facebook.session.uid){x.icon="https://graph.facebook.com/"+facebook.session.uid+"/picture"}if(facebook.user&&facebook.user.first_name){if(x.sign===global.USER_ID){x.upln=facebook.user.first_name}}$("#field_icon",u).val(x.icon);$("#field_upln",u).val(x.upln);$("#field_perms",u).val(x.perms);$("#field_claim",u).val(x.claim);if(x.icon){$("#plugin_image_icon",u).attr("src",x.icon).show()}showMiniPopup({id:"uploadfile",parent:j.content,content:u,title:"Upload File",top:40,accept:function(){var z={icon:$("#field_icon",u).val(),upln:$("#field_upln",u).val()||facebook.user.first_name,perms:$("#field_perms",u).val(),claim:$("#field_claim",u).val()};y(z)}})}function q(s,t){b(s,function(v){if(!v){return}var u=Reminders.get(s);if(!u.fver||u.fver<100){u.fver=parseInt((new Date()).getTime()/1000);Reminders.save()}v.type="reminders";v.guid=u.guid;v.name=u.name;v.sign=global.USER_ID;v.fver=u.fver;v.data=u.encode();loadingScreen("Uploading file...");httpXDRequest({method:"POST",url:"http://mwaddon.com/upload.php",data:$.param(v),onload:function(w){loadingScreen();if(w.responseText=="OK"){f(a);showHelpPopup({icon:"info",title:"Upload File",message:"File successfully uploaded."})}else{t.removeClass("disabled");showHelpPopup({icon:"error",title:"Upload File",message:"There was an error: "+(w.responseText.length<100?Util.formatText(w.responseText):"unknow")})}}})})}function h(s){if(!Util.isString(s)||s.length<1){return""}var t=Util.uSplit(s);if(t.xw_controller&&t.xw_action){var s="";Util.each(t,function(u,v){if(!/cb|tmp|xw_person|xw_client_id|snapi_auth|zy_/.test(u)){s+=("&"+u+"="+v)}});return s.substring(1)}else{return""}}function o(w,A){var x=(w.values?w.values():w);var s=c$("div").css("text-align","left");var v=[c$("option","value:0").text("Bookmarks")];var u=[c$("option","value:0").text("Plugins")];var z=[c$("option","value:"+Reminders.CHECK_AT).text("AT"),c$("option","value:"+Reminders.CHECK_EVERY).text("EVERY")];var t=function(B){if(B){return jsMinifier(B)}return""};Util.each(UserConfig.main.userLinks,function(B,C){v.push(c$("option","value:"+(B+1)).text(C.name))});Plugins.each(function(B,C){if(C.runat===0){u.push(c$("option","value:"+C.guid).text(C.name))}});var y=new TabObject({id:"custom_exec",height:141,tabs:["Message","onClick","onBeforeShow"]});c$("div","class:config_wrapper").appendTo(s).append(t$("p_name","Name:",350)).append(c$("hr")).append(s$("p_checktype","Run:",90,z)).append(n$("p_every",40)).append(c$("span").text("h.")).append(s$("p_runplugin",200,u)).append(c$("hr")).append(t$("p_gotopage","Go To:",218)).append(s$("bookmark_gotopage",120,{click:r.bookmark_click},v)).append(c$("hr")).append(t$("p_resetcheck","Reset:",345)).append(c$("hr")).append(t$("p_timerid","Timer ID:",329)).append(c$("hr")).append(y.main);c$("textarea","id:p_message").appendTo(y.getLayout(0));c$("textarea","id:p_onClick").appendTo(y.getLayout(1));c$("textarea","id:p_onBeforeShow").appendTo(y.getLayout(2));Util.each(x,function(B,C){if(!Util.isFunc(C)){$("#p_"+B,s).val(C)}});showMiniPopup({id:"disclamer",parent:j.content,content:s,title:w.name,top:40,accept:function(){s.find("input, select, textarea").each(function(C,E){var D=$(E).val();if(E.id&&E.id.indexOf("p_")==0){var B=E.id.substring(2);if(!Util.isString(D)||D.length<1){w[B]=null}else{if(/onClick|onBeforeShow/i.test(B)){D=t(D)}if(/gotopage|resetcheck/.test(B)){D=h(D)}w[B]=D}}});Reminders.addNew(w,A)}})}function c(){$(".checkbox",j.content).each(function(s,t){Reminders.get(t.id.substr(3)).active=$(t).hasClass("checked")})}function n(){$("a[event-name]",k.body).each(function(s,t){$(t).click(r[$(t).attr("event-name")+"_click"])})}function l(t,u){var s=p.data&&p.data.trusted;if(t==global.USER_ID){return true}else{if(Util.isArray(s)&&Util.inArray(global.USER_ID,s)){return true}else{if(u&&Util.isArray(u)&&Util.inArray(global.USER_ID,u)){return true}}}return false}function a(){var t=[],s=1;Reminders.each(function(v,x){var w=p.data[v],y=[];var u=c$("div");x.index=s;y.push(x$("chk"+v).toggleClass("checked",x.active));y.push(s++);y.push(x.name);y.push(b$("Uninstall","class:ui-sexy-red,event-name:uninstall,guid:"+v,true));if(Util.isSet(w)){if(w.fver===x.fver){u.html("Version is up to date.&nbsp;&nbsp;")}else{if(w.fver>x.fver){u.text("Version is outdated: ");u.append(b$("Update","class:ui-sexy-green,event-name:install,guid:"+w.guid,true))}else{if(w.fver<x.fver){u.text("Version is most recent: ");
u.append(b$("Upload","class:ui-sexy-orange,event-name:upload,guid:"+v,true))}}}if(l(w.sign,w.perms)){u.append(b$("Edit it","event-name:edit,guid:"+v,true))}}else{u.text("Your reminder: ");u.append(b$("Upload","class:ui-sexy-orange,event-name:upload,guid:"+v,true));if(l(x.sign)){u.append(b$("Edit it","event-name:edit,guid:"+v,true))}}y.push(u);t.push(y)});Util.each(p.data,function(w,y){var z=[];if(y&&y.name&&!Reminders.exists(w)){var v=c$("div","class:image_icon");var u=String(y.name).replace(/\s+/g,"").toLowerCase();var x=MW.getProfileLink(y.sign);if(/^http/.test(y.icon)){v.css("background-image","url("+y.icon+")")}else{v.css("background-image","url(http://mwaddon.com/getimage.php?n="+u+")")}z.push(c$("a",{target:"_blank",href:x}).append(v));z.push(s++);z.push(y.name);z.push(b$("Install","class:ui-sexy-green,event-name:install,guid:"+w,true));z.push("Uploader: "+(y.upln||"Unknow."));t.push(z)}});k.appendData(t);n()}function i(){var s={enabledesc:function(v,u){var t=$(v).is(".checkbox"),w=$(u).is(".checkbox");if(t&&w){t=!$(v).hasClass("checked");w=!$(u).hasClass("checked")}return((!t&&w)?1:((t&&!w)?-1:0))},enableasc:function(v,u){var t=$(v).is(".checkbox"),w=$(u).is(".checkbox");if(t&&w){t=$(v).hasClass("checked");w=$(u).hasClass("checked")}return((!t&&w)?1:((t&&!w)?-1:0))},status:function(v,u){var t=$(v).attr("event-name"),w=$(u).attr("event-name");return((t==w)?0:((t>w)?1:-1))}};k=new DataGridTable({id:"rdmanagergrid",appendTo:j.content,columns:[{title:"&nbsp;",label:"Enable / Disable.",width:30,center:true,sort:{asc:s.enableasc,desc:s.enabledesc}},{title:"#",label:"Position.",width:20,center:true,sort:"numeric"},{title:"Name",width:250,sort:"string"},{title:"Status",width:100,center:true,sort:s.status},{title:"Description",width:"auto"}],defaultSort:function(u,t){try{var v=s.status(t[3],u[3]);if(v===0){return global.SortingBy.string(u[2],t[2])}return v}catch(w){return 0}},buttons:[{label:"Add New",click:r.addnew_click}]});k.onBeforePageChange(c);k.onBeforeSorting(c);k.onPageChange(n);k.onSorting(n)}function f(s){httpXDRequest({method:"GET",url:"http://mwaddon.com/download/info.php?t=reminders&_=_",onerror:s,onload:function(t){var u=Util.trim(t.responseText);if(u&&u.charAt(0)==="{"){p.data=Util.parseJSON(u);p.save(s)}else{if(Util.isFunc(s)){s()}}}})}function d(){Reminders.isDisabled=true;i();a();loadingScreen();j.show()}p.load(function(){loadingScreen("Loading...");f(d)})}UserConfig.create("rbopt",{maxLogLength:500,useStamPack:false,useStamPackWhen:2000,startCity:1,useArsonist:false,useScout:false,delayMin:1,delayMax:3,enableAutoBank:true,useRobSquad:false,useBurners:false,maxBurnCount:1,burnAfterRobSquad:false,stopKeepStaOn:false,stopKeepSta:0,stopByLevelup:true,stopKeepExpOn:false,stopKeepExp:0,stopRobLimitOn:false,stopRobLimit:20,stopByCashOn:false,stopByCash:5000,stopByLootOn:false,stopByLootName:"",stopByLootAmount:20,stopByBoardsOn:false,stopByBoards:20,timerStartOn:false,timerStart:30,timerRobOn:false,timerRob:10,timerCityOn:false,timerCity:2,resumeRobOn:false,resumeRob:5,maxGroupSizeOn:false,maxGroupSize:500});function RobMaster(){var w=UserConfig.rbopt;var m=null;var j=null;var H=new TimerMessage("#rob_messages");var T,Q,L;var u={Aborted:false,StartCity:MW.currentCity(),CurrentCity:0,Tab:null,PropFilterActive:false,WorstItems:{},InventoryData:new Config("cache_loot_name",null,true),PropNames:{"1":["Flophouse","Pawnshop","Tenement","Warehouse","Restaurant","Dockyard","Office Park","Uptown Hotel","Mega Casino","Chop Shop","Weapons Depot","Armory","Private Zoo"],"5":["Slots","Table Games","Restaurant","Poker Room","Hotel","Vault","Fountain"],"7":["Headquarters","Workshop","Black Market","Refinery","Barracks"],"8":["Truck Shop","Speakeasy","Warehouse","Distillery","Docks"],"9":["Sports Stadium","East End Pub","Nightclub","Underground Station","Royal Bank"]}};var q=new PopupObject("robmaster_popup",{type:"main",title:"ROB MASTER",width:750,center:false,onclose:function(){aa();w.fromDomElements();w.save()}});var A={mafiaSize:global.User.mafia_size(),stamina:0,maxStamina:0,userCash:0,robCount:0,successRobs:0,failedRobs:0,boards:0,fullboards:0,atkGained:0,defGained:0,expGained:0,staminaSpend:0,toNextLevel:0,refresh_cost:0,rob_all_cost:0,phones_left:0,rob_all_count:0,toNextLevel:0,successRatio:{toString:function(){return Util.toFixed(Util.percent(A.successRobs,A.robCount))+"%"}},exp_per_sta:{toString:function(){return Util.toFixed(A.expGained/A.staminaSpend)}},currCityName:{toString:function(){return'<span class="good">'+global.city(u.CurrentCity).name+"</span>"}},powerPack:{time1:0,time2:0,count:0,on:false,avail:function(){var ab=A;if(!(ab.powerPack.on&&ab.powerPack.count>0)){return false}return w.useStamPack&&(w.useStamPackWhen<ab.toNextLevel)&&(ab.powerPack.time1==0)},toString:function(){var ab=A.powerPack.count;ab=Util.setColor(ab,(ab>0?"green":"red"));if(A.powerPack.avail()){return"Stamina ("+ab+")"}return Util.setColor("Inactive","grey")}},crew:{scout:false,arsonist:false,toString:function(){var ab=[];
if(A.crew.scout){ab.push("Scout")}if(A.crew.arsonist){ab.push("Arsonist")}if(ab.length>0){return Util.setColor(ab.join(", "),"green")}return Util.setColor("Inactive","grey")}},cash:{toString:function(){var ac=A.cash;var ab='<span class="cur_cash" title="${title}">${text}</span>';var ad={title:"",text:"0"};global.cities.each(function(ag,af){if(ac[ag]){var ae=af.currency+Util.formatNum(ac[ag]);if(ag==u.CurrentCity){ad.text=ae}else{ad.title+=af.name+": "+ae+" \n"}}});return Util.render(ab,ad)}}};var S=function(ac){var ab=e$(".rob_res_burner_button a",ac);this.id=ac.id;this.difficulty=Util.doRgx(/(rob_difficulty_(easy|medium|hard))/,$(".rob_difficulty",ac).attr("class")).$2;this.name=Util.formatText(Util.trim($(".rob_prop_name",ac).text()));this.icon=$(".rob_prop_img img",ac).attr("src");this.success=false;this.stamina=0;this.groupsize=0;if(ab!==null){this.backupUrl=Util.toUrl(ab)}else{if(e$(".rob_res_outcome",ac)){this.closed=true}else{this.groupsize=Util.parseNum($(".rob_prop_group_size",ac).text());this.stamina=Util.parseNum($(".rob_prop_stamina",ac).text());this.robUrl=$(".rob_btn a",ac).attr("href");if(u.MafiaSize<this.groupsize){this.closed=true}}}ac=ab=null;return this};var B=function(ac){var ad=new Array();var ab=$("#rob_refresh_cost",ac);var af=Util.doRgx(/robAllHelper\((\d+)[\s,]+(\d+)[\s,]+(\d+)\)/i,$("#oneClickRobAll",ac).attr("onclick"));this.get=function(ag){return ad[ag]};this.each=function(ag){Util.each(ad,ag)};this.updateResult=function(ah,ai){var aj=ad[ah];if(aj){var ag=new l(ai);ag.staminaSpend=aj.stamina;aj.success=ag.success;if(ag.burner){aj.backupUrl=ag.burner}else{aj.closed=true;if(ag.robbed_img){aj.icon=ag.robbed_img}}return ag}else{return false}};this.refresh=ab.attr("href");try{A.refresh_cost=Util.parseJSON(ab.attr("requirements")).stamina}catch(ae){A.refresh_cost=0}A.rob_all_count=Util.parseNum(af.$1);A.rob_all_cost=Util.parseNum(af.$2);A.phones_left=Util.parseNum($("#call_backup_phones_left",ac).text());$(".rob_board .rob_slot",ac).each(function(ag,ah){ad.push(new S(ah))});this.length=ad.length;af=ab=ac=null;return this};var l=function(af){var ae=$(".rob_res_expanded",(af=h$(af)));var ab=e$(".rob_fail_text",af);if(ab){this.success=false;this.fail=ab.text();af=ab=null;return this}var ag=$(".rob_res_condensed .rob_res_burner_button a",af);var ad=$(".rob_res_target_pic",ae);var ac=$(".rob_res_lootdrop_name img, .rob_loot_pic img",ae).eq(0);var ah=$(".rob_res_expanded_details_cash",ae);var aj=$(".rob_res_expanded_details_exp",ae);var ai=$(".rob_res_expanded_details_item",ae);this.success=$(".rob_res_outcome",ae).hasClass("good");this.robbed_img=$(".rob_res_condensed .rob_prop_img_robbed img",af).attr("src");this.target={name:ad.find("img").attr("title"),pic:ad.find("img").attr("src"),link:ad.find("a").attr("href")};if(ac.length>0){this.loot=new J(ac)}else{if(ai.length>0&&ai.text()){ac=Util.doRgx(/(\d+)\s(.*)/,Util.trim(ai.text()));if(ac.$2){this.loot=j.searchLootByName(ac.$2);this.loot.count=parseInt(ac.$1)}}}if(ah.length>0){this.cash=Util.parseNum(ah.text())}else{this.cash=0}if(aj.length>0){this.experience=Util.parseNum(aj.text())}else{this.experience=0}if(ag.length>0){this.burner=Util.toUrl(ag)}af=ae=ag=ad=ac=ah=aj=null;return this};var J=function(ab,ad){var ac=this;this.item_id=0;this.name=(ab&&ab.name)||"Unknow";this.type="Unknow";this.icon=global.zGraphicsURL+"item_crate_01.png";this.attack=0;this.defense=0;this.count=ad||1;if(ab){if(ab.id){ac.item_id=ab.id;ac.name=ab.name;ac.type=ab.type;ac.attack=ab.attack;ac.defense=ab.defense}else{if(ab.length>0){ac.item_id=parseInt(ab.attr("item_id")||0);ac.name=Util.trim(ab.attr("alt"));ac.icon=ab.attr("src");if(ac.item_id>0){ab=u.InventoryData.data[ac.item_id]}else{ab=j.searchLootByName(ac.name)}if(ab){ac.name=ab.name;ac.type=ab.type;ac.attack=ab.attack;ac.defense=ab.defense}}else{Logger.error("Detected Bug [RobMaster::CSLoot]: Unknow Loot ID.");Logger.object(ab)}}}ab=null;return this};J.prototype.toString=function(){var ab=this.name;if(this.attack){ab+=' <span class="attack">'+this.attack+"</span>"}if(this.defense){ab+=' <span class="defense">'+this.defense+"</span>"}if(this.increaseAttack){ab+=' (<span class="attack" style="color:green;">+'+this.increaseAttack+"</span>)"}if(this.increaseDefense){ab+=' (<span class="defense" style="color:green;">+'+this.increaseDefense+"</span>)"}return ab};var n=function(){var af=this;var ac={};var ae={};function ad(ai,ah){var aj=u.InventoryData.data[ai.item_id];var ag=(aj&&Util.isObject(u.WorstItems))?u.WorstItems[aj.type]:false;if(aj&&ag){if(aj.attack&&aj.attack>ag.att){A.atkGained+=(ai.increaseAttack=(aj.attack-ag.att))*ah}if(aj.defense&&aj.defense>ag.def){A.defGained+=(ai.increaseDefense=(aj.defense-ag.def))*ah}}return Util.isSet(aj)}function ab(ag,ah){Logger.debug("getItemInfo: Loading loot...");MW.getItemInfo(ag.item_id,function(ai,aj){ag.name=ai;if(ae&&ae[aj]){ag.type=ae[aj]}if(!Util.isSet(u.InventoryData.data[ag.item_id])){u.InventoryData.add("forceReload",true);u.InventoryData.data[ag.item_id]={id:ag.item_id,name:ai,type:ae[aj],attack:ag.attack,defense:ag.defense};
u.InventoryData.save(ah)}Logger.debug('Loot Item "'+ai+'" loaded.')})}this.load=function(ah){var ag=["id","name","type","attack","defense"];u.InventoryData.load(function(){if(!u.InventoryData.data||u.InventoryData.forceReload){u.InventoryData.data={};MW.getInventoryData(function(ai){if(ai&&ai.Items){Util.each(ai.Items.data,function(al,ak){var aj=(u.InventoryData.data[al]={});Util.each(ag,function(am,an){aj[an]=ak[an]})});u.InventoryData.forceReload=false;u.InventoryData.save(function(){Logger.debug("Inventory Data saved.");ah&&ah(true)})}else{ah&&ah(false)}})}else{ah&&ah(true)}})};this.getQuantityByName=function(ag){var ah;Util.each(ac,function(aj,ai){if((new RegExp(ag,"i")).test(ai.name)){ah=ai;return false}});if(ah){return parseInt(ah.count)||0}else{return 0}};this.searchLootByName=function(ag){var ai=new RegExp(Util.trim(ag||"Unknow"),"i");var ah;Util.each(u.InventoryData.data,function(ak,aj){if(ai.test(aj.name)){ah=new J(aj,1);return false}});if(!ah){ah=new J({name:ag},1)}return ah};this.add=function(ah){var ag=ah.count||1;if(!ah.item_id||ah.item_id<1){return ah}if(Util.isSet(ac[ah.item_id])){(ah=ac[ah.item_id]).count+=ag}else{ac[ah.item_id]=ah}if(!ad(ah,ag)){ab(ah,function(){ad(ah,ag)})}return ah};this.get=function(ag){return ac[ag]};this.exists=function(ag){return Util.isSet(ac[ag])};this.each=function(aj,ag){var ai=ac;var ah={name:function(am,al){var ak=am.name.toLowerCase();var an=al.name.toLowerCase();return((ak<an)?-1:((ak>an)?1:0))},attack:function(al,ak){return(ak.attack||0)-(al.attack||0)},defense:function(al,ak){return(ak.defense||0)-(al.defense||0)},best:function(an,al){var am=an.attack||0,aq=an.defense||0,ak=al.attack||0,ap=al.defense||0,ao=(an.increaseAttack||0)+(an.increaseDefense||0),ar=(al.increaseAttack||0)+(al.increaseDefense||0);switch(true){case (ao!=ar):return ar-ao;case (am!=ak):return ak-am;case (aq!=ap):return ap-aq;default:return 0}}};if(Util.isSet(ag)&&Util.isSet(ah[ag])){ai=[];Util.each(ac,function(ak,al){ai.push(al)});ai.sort(ah[ag])}Util.each(ai,aj)};if(unsafeWindow.Item&&unsafeWindow.Item.Types){ae={};Util.each(unsafeWindow.Item.Types,function(ag,ah){ae[ah]=ag})}return this};var Z={save_settings:function(){w.fromDomElements();w.save(X)},city_change:function(){var ab=$(this).val();Util.each(u.PropNames,function(ac){if(ac!==ab){$("#rbopt_propertyfilter"+ac).hide()}else{$("#rbopt_propertyfilter"+ac).show()}})},tab1_click:function(){$("> div",u.Tab.header).hide();$("#tab1_right").show();return false},tab2_click:function(){$("> div",u.Tab.header).hide();$("#tab2_right").show();return false},tab3_click:function(){$("> div",u.Tab.header).hide();$("#tab3_right").show();return false},robAll_click:function(){if(Util.disableButton(this)!==true){k();M(function(ab){g();V()})}return false},rob_click:function(){var ab=$(this);var ad=ab.attr("slotid");var ac=$("#rob_board li[slotid="+ad+"]");if(Util.disableButton(this)!==true){k();U(ad,function(ae){g();ac.replaceWith(G(ad,m.get(ad)))})}return false},refresh_click:function(){if(Util.disableButton(this)!==true){k();f(function(){g();V()})}return false},start_click:function(){httpAjaxStopRequests();u.Aborted=false;w.fromDomElements();w.save();R();E();X();u.StartCity=w.startCity;if(w.timerStartOn){Q.start(w.timerStart*60)}else{K();T.start();s(d)}return false},stop_click:function(){aa();return false}};function k(){$("a",u.Tab.header).addClass("disabled");$("#rob_board a",q.content).addClass("disabled");$("#start_btn, #stop_btn",q.content).hide();$("#rob_messages",q.content).show()}function g(){$("a",u.Tab.header).removeClass("disabled");$("#rob_board a",q.content).removeClass("disabled");$("#start_btn",q.content).show();$("#rob_messages",q.content).hide()}function R(){$("#start_btn",q.content).hide();$("#rob_messages, #stop_btn",q.content).show();u.Tab.buttonDisplay(0,false);u.Tab.showTab(1)}function x(){V();$("#start_btn",q.content).show();$("#rob_messages, #stop_btn",q.content).hide();u.Tab.buttonDisplay(0,true);u.Tab.showTab(0)}function d(){if(w.delayMin===0&&w.delayMax===0){o();return}var ad=Math.max(w.delayMin,0),ab=Math.min(w.delayMax,5);var ac=Math.floor(Math.random()*(ab-ad+1))+ad;I(function(){H.start("Next Rob in %N% seconds...",ac,o)})}function X(){var ab=w.get("propertyFilter"+u.CurrentCity);if(ab){Util.each(ab,function(ac,ad){if((u.PropFilterActive=(ad===false))){return false}})}else{u.PropFilterActive=false}}function i(ad){if(ad.closed===true||ad.success===true){return false}if(ad.backupUrl){if((w.useBurners!==true||A.phones_left<1)||ad.burners&&ad.burners>=w.maxBurnCount){return false}}if(w.maxGroupSizeOn===true&&ad.groupsize>w.maxGroupSize){return false}if(!Util.isSet(u.PropNames[u.CurrentCity])){Logger.error("(RobMaster::isValidSlot): undefined PropNames in cityId "+u.CurrentCity);return true}var ac,ab=w.get("propertyFilter"+u.CurrentCity)||{};Util.each(u.PropNames[u.CurrentCity],function(af,ae){if((new RegExp(ae,"i")).test(ad.name)){ac=String(af);return false}});if(!ab){Logger.error("(RobMaster::isValidSlot): undefined settings properties filter.");
return true}if(!ac){Logger.error("(RobMaster::isValidSlot): undefined propId for "+ad.name);return true}return(ac&&ab[ac]===false)?false:true}function I(ac){var ab=UserConfig.main.autoDeposit[u.CurrentCity];if(w.enableAutoBank&&ab&&ab.active===true){if(A.userCash>ab.amount){D("Depositing "+Util.setColor(Util.formatNum(A.userCash),"green")+"...",true);MW.deposit(u.StartCity,A.userCash,function(ad){D();if(ad){Y(ad,"info")}if(Util.isFunc(ac)){ac()}});return}}if(Util.isFunc(ac)){ac()}}function E(){w.stopByLootAmount=Math.max(w.stopByLootAmount,1);w.stopByBoards=Math.max(w.stopByBoards,1)}function y(ad,ae){var ab=w;var ac={toLevel:A.toNextLevel,StaminaPack:A.powerPack.avail().stamina};if(w.stopByLootOn===true&&(ac.tmp=j.getQuantityByName(w.stopByLootName))>w.stopByLootAmount){ac.Stop="AutoRob deactivated, collected x"+ac.tmp+" "+w.stopByLootName}else{if(w.stopByBoardsOn===true&&A.boards>w.stopByBoards){ac.Stop="AutoRob deactivated, cleared x"+(A.boards-1)+" boards."}else{if(w.stopByCashOn&&(A.cash[u.CurrentCity]>w.stopByCash)){ac.Stop="AutoRob deactivated, collected "+String(A.cash)}else{if(ab.stopKeepExpOn&&ac.toLevel<ab.stopKeepExp){ac.Stop="AutoRob deactivated, you need "+ac.toLevel+" exp. points to levelup."}else{if(ab.stopKeepStaOn&&A.stamina<ab.stopKeepSta){if(ab.resumeRobOn){ac.Pause="Below the stamina limit, continue in %N% seconds."}else{ac.Stop="AutoRob deactivated, you saved "+A.stamina+" stamina."}}else{if(A.stamina<ad){if(ac.StaminaPack){I(function(){usePowerPack("stamina",o,function(){A.powerPack.on=false;o()})});return}else{if(ab.resumeRobOn){ac.Pause="No stamina left, continue in %N% seconds."}else{ac.Stop="AutoRob deactivated, No stamina left."}}}else{if(ab.stopRobLimitOn&&A.successRobs>=ab.stopRobLimit){ac.Stop="AutoRob deactivated, you rob "+A.successRobs+" times successfully."}}}}}}}if(ac.Stop){a();I(function(){D(ac.Stop);aa(false)})}else{if(ac.Pause){a();I();H.start(ac.Pause,Math.max(Number(ab.resumeRob),1)*60,function(){s(function(){K();o()})})}else{ae&&ae()}}}function b(ac,ab){ac=Number(ac);if(ac===1||ac===2){MW.activateCityCrew(u.CurrentCity,"rob",ac,function(ae,ad){Y(ad,"info");A.crew[ac===1?"scout":"arsonist"]=false;ab&&ab()})}}function o(){if(u.Aborted===true){return}if(P()===true){Util.tryTo({times:3,success:o,fail:function(){D("Not able to travel to StartCity, RobMaster has been stopped.");aa()},action:function(ae,af){if(u.Aborted===true){return}var ad="Traveling to "+(global.city(u.StartCity).name);if(ae>0){ad+=" (#"+ae+")"}D(ad+"...",true);MW.travel(u.StartCity,function(ah,ag){if((u.CurrentCity=parseInt(ah))===parseInt(u.StartCity)){D();z(ag);m=new B(ag);O(ag);C();af&&af(true)}else{af&&af(false)}},null,"robbing")}});return}if(w.useArsonist===true&&A.crew.arsonist===true){b(2,o);return}if(w.useScout===true&&A.crew.scout===true){b(1,o);return}if(w.burnAfterRobSquad!==true&&A.refresh_cost==0){f(o);return}if(w.useRobSquad===true&&A.refresh_cost==9&&A.rob_all_count>0){if(w.maxGroupSizeOn!==true&&u.PropFilterActive!==true){y(A.rob_all_cost,function(){M(d)});return}}var ac=0,ab=-1;m.each(function(ad,ae){if(i(ae)===true){ab=ad;ac=ae.stamina;return false}});if(ab<0){f(o)}else{y(ac,function(){U(ab,d)})}}function p(ae,ad){var ac={success:false};function af(ak){var ag=h$(ak);var aj=/\(x\s*2\)/.test(ag.find("div:has(.item_with_preview)").text());var ai=/9-0/.test(ag.find("ul").prev().text());var ah=ag.find(".item_with_preview");if(ai){A.fullboards+=1}if(ah.length>0){ac.loot=new J(ah,(aj?2:1))}ac.expbonus=Number(Util.doRgx(/(\d+) Bonus Experience/i,ak).$1||0);A.expGained+=ac.expbonus}function ab(ag){A.robCount+=1;if(ag.success===true){A.successRobs+=1}else{A.failedRobs+=1}A.cash[u.CurrentCity]+=(ag.cash||0);A.expGained+=(ag.experience||0);if(!ad){A.staminaSpend+=(ag.staminaSpend||0)}}if(ae){O(ae);if(ae.worstitems){u.WorstItems=ae.worstitems}Util.each(["refresh_cost","rob_all_cost","phones_left"],function(ag,ah){if(Util.isSet(ae[ah])){A[ah]=Number(ae[ah])}});if(ae.slot&&Util.isSet(ae.slot_id)){ac.slot_id=ae.slot_id;ac.success=true;ab(ac.slot=m.updateResult(ae.slot_id,ae.slot));ac.slot.burnUsed=ad}else{if(ae.slots){ac.success=true;ac.slots=[];Util.each(ae.slots,function(ah,ai){var ag=m.updateResult(ah,ai);ab(ag);ac.slots.push(ag)})}}if(ae.popup){af(ae.popup)}r(ac)}if(A.refresh_cost<1){A.rob_all_cost=0}C();return ac}function U(ab,ad){var ac=m.get(Number(ab));if(ac&&!ac.closed&&(ac.backupUrl||ac.robUrl)){if(ac.backupUrl&&A.phones_left<1){ad&&ad(false);return}D("Robbing "+ac.name+"...",true);httpAjaxRequest({url:ac.backupUrl||ac.robUrl,liteLoad:1,success:function(af){var ae=Util.isSet(ac.backupUrl);if(ae){if(ac.burners){ac.burners++}else{ac.burners=1}}af=p(af,ae);if(af.success){ad&&ad(af)}else{ad&&ad(false)}}})}else{ad&&ad(false)}}function M(ab){if(A.refresh_cost>0&&A.rob_all_count>0&&A.rob_all_cost>0){D("Robbing All...",true);httpAjaxRequest({url:"remote/"+MW.getIntURL("robbing","rob_all"),liteLoad:1,success:function(ac){ac=p(ac);if(ac.success){ab&&ab(ac)}else{ab&&ab(false)}}})}else{ab&&ab(false)}}function f(ac){var ab=A.refresh_cost;
D("Refreshing Board...",true);httpAjaxRequest({url:"remote/"+MW.getIntURL("robbing","refresh"),liteLoad:1,success:function(ad){if(O(ad)){m=new B(ad);C();A.staminaSpend+=ab;A.boards+=1}ac&&ac()}})}function z(ab){A.crew.scout=(A.crew.arsonist=false);h$(ab).find("a.mw_new_ajax:regex(href,crew_type=rob)").each(function(ad,ae){var ac=$(ae).attr("href");if(ac){if(/crew_slot=1/.test(ac)){A.crew.scout=true}else{if(/crew_slot=2/.test(ac)){A.crew.arsonist=true}}}})}function F(ac,ab){httpAjaxRequest({url:"remote/"+MW.getIntURL("robbing","view"),liteLoad:1,message:ab,success:function(ad){m=new B(ad);z(ad);O(ad);C();A.boards+=1;ac&&ac()}})}function N(af){var ab=h$(af);var ae=$("h2",ab).next();var ac=ae.next();var ad=ac.next();return{successText:Util.trim(ae.text()),loot:new J(ac),rewardText:Util.trim(ad.text())}}function Y(ae,ad){var af=c$("li");var ac=$("#rob_logs",q.content);var ab=(ad==="error")?Resources.getPicture("ajax_error_png","div"):Resources.getPicture("info_icon_png","div");if(ad!=="error"){ae=Util.setColor(ae,"#E1E1E1")}else{ae=Util.setColor(ae,"red")}ab.addClass("tiny-message").html(ae);c$("div","class:timestamp").appendTo(af).html((new Date()).toUTCString());af.append(c$("div","class:message_text").append(ab));$("#rob_logs").prepend(af);W("#rob_logs")}function r(ab){var ae=c$("li");var ac='<div>${success} ${name} ${burner}</div><div>Got <span class="experience">${exp}</span> and <span class="cash">${cash}</span>.</div>';function ad(af,ag){var ai=c$("div","class:log-block").appendTo(ae);var aj=m.get(Number(af));var ah={burner:(ag.burnUsed===true?Util.setColor("Burner!!","yellow"):""),success:(ag.success?Util.setColor("Success!","green"):Util.setColor("Failed!","red")),name:aj.name,exp:ag.experience,cash:ag.cash};if(ag.loot){h(ag.loot)}c$("img").appendTo(ai).attr("src",aj.icon);c$("div","class:message_text").appendTo(ai).html(Util.render(ac,ah))}c$("div","class:timestamp").appendTo(ae).html((new Date()).toUTCString());if(ab.slot){ad(ab.slot_id,ab.slot)}else{if(ab.slots){Util.each(ab.slots,ad)}}if(ab.loot){h(ab.loot);c$("div","class:log-block rob-all-result").appendTo(ae).append(c$("div").html("Loot: x"+ab.loot.count+" "+Util.setColor(ab.loot.name,"gold"))).append(c$("div").html('Experience: <span class="experience">'+ab.expbonus+" points.</span>"))}$("#rob_logs").prepend(ae);W("#rob_logs")}function h(ae,ac){if(!Util.isSet(ae)){return}ae=j.add(ae);var ab=e$("#loot_"+ae.item_id,"#loot_logs",q.content);var ad=c$("img",{src:ae.icon});if(ab!==null){$(".loot-count",ab).text(ae.count||1)}else{c$("li","loot_"+ae.item_id).append(ad).append(c$("span").text(" Found")).append(c$("span","class:loot-count").text(ae.count||1)).append(c$("span").append(ae.toString()))[ac?"appendTo":"prependTo"]("#loot_logs")}}function W(ab){if(!ab){W("#rob_logs");W("#event_logs")}else{var ac=$(ab);if(ac.children().length>w.maxLogLength){ac.children().last().remove()}}}function G(ab,ag){var af=c$("li","class:rob-slot,slotid:"+ab);var ae=b$("Rob","class:short red,slotid:"+ab);if(ag.icon){af.append(c$("img").attr("src",ag.icon))}var ad=c$("div","class:slot-action").appendTo(af);var ac=c$("div","class:slot-body").appendTo(af);if(ag.backupUrl){ae=b$("Help","class:short white,slotid:"+ab)}c$("div","class:slot-name,rob_difficulty_"+ag.difficulty).appendTo(ac).text(ag.name);if(ag.closed===true){af.addClass("slot-closed")}else{ad.append(ae.click(Z.rob_click));c$("div","class:slot-datail").appendTo(ac).append(c$("div","class:slot-size").text(ag.groupsize)).append(c$("div","class:slot-stamina").text(ag.stamina))}return af}function V(){var ab=c$("ul","id:rob_board");m.each(function(ac,ad){ab.append(G(ac,ad))});$("#rob_board",q.content).replaceWith(ab)}function D(ae,ad){var ac=$("#rob_messages",q.content).empty();var ab=c$("span").html(ae);if(ad===true){ab.css("padding-left",18).addClass(Resources.className("ajax_loader_gif"))}ac.append(ab)}function O(ad){var ab;try{if(ad.user_fields){ab=ad.user_fields}else{ab=MW.evaluateUserFields(ad)}if(ab){u.CurrentCity=parseInt(ab.current_city_id);A.stamina=parseInt(ab.user_stamina);A.maxStamina=parseInt(ab.user_max_stamina);A.toNextLevel=parseInt(ab.exp_to_next_level);A.userCash=parseInt(ab.user_cash);A.powerPack.ask=parseInt(ab.powerPackAsk)!=0;A.powerPack.time1=parseInt(ab.powerPackStaminaUse);A.powerPack.time2=parseInt(ab.powerPackHealthUse);A.powerPack.count=parseInt(ab.powerPackCount);if(Util.isBoolean(ab.powerPackOn)){A.powerPack.on=(ab.powerPackOn==true)}else{A.powerPack.on=parseInt(ab.powerPackOn)>0}return true}}catch(ac){Logger.error(ac)}return false}function C(){Util.each(A,function(ab,ad){var ac=e$("#rob_stat_"+ab);if(ac!==null){ac.html(String(ad))}})}function P(){if(u.CurrentCity!==u.StartCity){return true}}function s(ab){D("Updating...",true);httpAjaxRequest({url:"remote/"+MW.getIntURL("survey","show_nps_survey"),success:function(ac){D();O(ac);C();if(Util.isFunc(ab)){ab()}else{o()}}})}function t(){var ah=c$("div","class:top-wrapper").appendTo(q.content);var af=c$("div","class:middle-wrapper").appendTo(q.content);
var ae=c$("div","class:bottom-wrapper").appendTo(q.content);var ac=c$("ul","class:rightside").appendTo(ae);var ab=c$("ul","id:options-wrapper").appendTo(ah);var ag=c$("div","class:leftside").appendTo(af);u.Tab=new TabObject({id:"rob_info",height:420,appendTo:c$("div","class:leftside").css("padding-left",3).prependTo(ae),tabs:[{label:"Board",onclick:Z.tab1_click},{label:"Event",onclick:Z.tab2_click},{label:"Loot",onclick:Z.tab3_click}]});c$("div","class:options-save").appendTo(ah).append(b$("Save Settings","class:white short").click(Z.save_settings));c$("div","id:tab1_right").appendTo(u.Tab.header).append(b$("Refresh","class:short white").css("margin-right",10).click(Z.refresh_click)).append(b$("Rob All","id:rob_all_button,class:short red").click(Z.robAll_click));c$("div","id:tab2_right").appendTo(u.Tab.header).hide().append(s$("rbopt_maxloglength","Log Length:",100,{change:Z.save_settings}));c$("div","id:tab3_right").appendTo(u.Tab.header).hide();c$("ul","id:rob_board").appendTo(u.Tab.getLayout(0));c$("ul","id:rob_logs").appendTo(u.Tab.getLayout(1));c$("ul","id:loot_logs").appendTo(u.Tab.getLayout(2));var ad=c$("div").width(365);Util.each(u.PropNames,function(aj,ak){var ai=DropDownObject("rbopt_propertyfilter"+aj,"City Properties",360,u.PropNames[aj]);ai.hide();ad.append(ai)});Util.each([{clear:false,element:s$("rbopt_startcity","City:",110,{change:Z.city_change})},{clear:false,element:ad},{clear:false,element:[n$("rbopt_delaymin","Delay:",40),n$("rbopt_delaymax","-",40)]},{clear:true,element:x$("rbopt_enableautobank","AutoBank.")},{clear:false,element:x$("rbopt_userobsquad","Use Rob Squads.")},{clear:false,element:[x$("rbopt_useburners","Use Burners (per prop):"),n$("rbopt_maxburncount",40)]},{clear:false,element:x$("rbopt_burnafterrobsquad","Use Burners even after a RobSquad.")},{clear:true,element:[x$("rbopt_timerstarton","Start Robbing after (min):"),n$("rbopt_timerstart",40)]},{clear:false,element:[x$("rbopt_usestampack","Use StaminaPack if experience to LevelUp is above:"),n$("rbopt_usestampackwhen",60)]},{clear:true,element:[x$("rbopt_stoproblimiton","Stop if success robberies is more than:"),n$("rbopt_stoproblimit",60)]},{clear:false,element:[x$("rbopt_stopkeepstaon","Stop If stamina is less than:"),n$("rbopt_stopkeepsta",60)]},{clear:true,element:[x$("rbopt_stopkeepexpon","Stop if experience is less than:"),n$("rbopt_stopkeepexp",60)]},{clear:false,element:x$("rbopt_stopbylevelup","Stop after LevelUp.")},{clear:false,element:[x$("rbopt_timerrobon","Stop after (min):"),n$("rbopt_timerrob",40)]},{clear:true,element:[x$("rbopt_stopbycashon","Stop after collect:"),n$("rbopt_stopbycash",100),c$("span").text("cash.")]},{clear:false,element:[x$("rbopt_stopbylooton","Stop by Loot "),t$("rbopt_stopbylootname","Name:",100),n$("rbopt_stopbylootamount",", Quantity",60)]},{clear:true,element:[x$("rbopt_stopbyboardson","Stop by Boards Quantity:"),n$("rbopt_stopbyboards",40)]},{clear:false,element:[x$("rbopt_resumerobon","Resume after (min):"),n$("rbopt_resumerob",40)]},{clear:false,element:[x$("rbopt_maxgroupsizeon","Maximum Mafia Size:"),n$("rbopt_maxgroupsize",60)]},{clear:true,element:x$("rbopt_usearsonist","Activate Crew: Arsonist")},{clear:false,element:x$("rbopt_usescout","Activate Crew: Scout")}],function(ai,aj){var ak=c$("li").appendTo(ab);if(aj.clear){ak.css("clear","both")}if(Util.isArray(aj.element)){Util.each(aj.element,function(al,am){ak.append(am)})}else{ak.append(aj.element)}});c$("center","id:rob_messages").appendTo(ag);c$("center","id:start_btn").appendTo(ag).append(b$("Start Robbing!","class:short red").click(Z.start_click));c$("center","id:stop_btn").appendTo(c$("div","class:rightside").appendTo(af)).append(b$("Stop","class:short red").click(Z.stop_click));Util.each([{name:"Current City:",cls:"stat_travel",id:"currCityName"},{name:"Stamina:",cls:"stamina",id:["stamina","maxStamina"]},{name:"Stamina Spent:",cls:"stamina",id:"staminaSpend"},{name:"Total Robs:",cls:"stamina",id:"robCount"},{name:"Success:",cls:"attack",id:"successRobs"},{name:"Failed:",cls:"defense",id:"failedRobs"},{name:"Success Ratio:",cls:"defense",id:"successRatio"},{name:"Boards:",cls:"stat_board",id:"boards"},{name:"Full Boards:",cls:"stat_fullboard",id:"fullboards"},{name:"Burners:",res:"burner_icon_png",id:"phones_left"},{name:"RobSquads:",res:"squad_icon_png",id:"rob_all_count"},{name:"RobSquad Cost:",res:"squad_icon_png",id:"rob_all_cost"},{name:"Attack gained:",cls:"mafia_attack",id:"atkGained"},{name:"Defense gained:",cls:"mafia_defense",id:"defGained"},{name:"Exp. gained:",cls:"experience",id:["expGained","toNextLevel"]},{name:"Exp. per stamina:",cls:"experience",id:"exp_per_sta"},{name:"Cash:",cls:"cash",id:"cash"},{name:"Crew:",cls:"stat_crew",id:"crew"},{name:"PowerPack:",cls:"stat_powerpack",id:"powerPack"},{name:"Auto Stop:",res:"timer_icon_png",id:"timetopause"},{name:"RunTime:",res:"timer_icon_png",id:"timerruntime"}],function(ai,aj){var am=c$("li");var al=c$("div","class:stat-name").appendTo(am);var ak=c$("div","class:stat-value").appendTo(am);
al.text(aj.name);if(aj.cls){al.addClass(aj.cls)}else{if(aj.res){al.addClass(Resources.className(aj.res)).css({width:"auto","padding-left":19})}}if(Util.isString(aj.id)){ak.append(c$("span","id:rob_stat_"+aj.id).text("0"))}else{ak.append(c$("span","id:rob_stat_"+aj.id[0]).text("0"));ak.append(c$("span").text("/"));ak.append(c$("span","id:rob_stat_"+aj.id[1]).text("0"))}am.appendTo(ac)});q.applyOptions({rbopt_startcity:global.cityNames,rbopt_attkdelaya:{1:"1-3",2:"2-4",3:"3-5",4:"1-5"},rbopt_attkdelayb:{1:"1",2:"2",3:"3",4:"4"},rbopt_maxloglength:{50:"50",250:"250",500:"500",1000:"1000",5000:"5000",10000:"10000"}})}function aa(ab){u.Aborted=true;a();T.stop();httpAjaxStopRequests();if(ab!==false){x()}}function K(){c()}function a(){H.clear();Q.clear();L.clear()}function c(){L.clear();if(w.timerRobOn){L.start(w.timerRob*60)}}function v(){global.cities.each(function(ac,ab){A.cash[ac]=0});Util.each(u.PropNames,function(ae,ac){var ab=w.get("propertyFilter"+ae);if(!ab){var ad={};Util.each(ac,function(af){ad[af]=true});w.add("propertyFilter"+ae,ad)}});Q=new Countdown({success:function(){u.Aborted=false;D("Updating...",true);K();s(o)},step:function(ac,ab){$("#rob_messages").html("Resume AutoRob in: "+ab)}});L=new Countdown({success:function(){u.Aborted=true;a();$("#rob_stat_timetopause").html(Util.setColor("Waiting","green"));if(w.resumeRobOn===true){Q.start(w.resumeRob*60)}else{D("AutoRob deactivated, time is out.");aa(false)}},step:function(ac,ab){$("#rob_stat_timetopause").html(ab)},stop:function(){$("#rob_stat_timetopause").html(Util.setColor("Inactive","grey"))}});T=new TimerElapsed({step:function(ac,ab){$("#rob_stat_timerruntime").html(ab)},stop:function(ac,ab){$("#rob_stat_timerruntime").html(ab)}});t();F(function(){V();w.toDomElements();q.show();x();$("#rbopt_startcity").change();$(".ui-multi-checkbox",q.content).trigger("update");Y("Rob Master initialized.")},"Loading Rob board...")}w.load(function(){j=new n();j.load(function(){showSupportPopup("RobMaster",v)})})}UserConfig.create("ulopt",{profile:true,promote:true,slots:true,warhelp:false,brcrew:true,chcrew:true});function UserLinks(){var f=UserConfig.ulopt;var j=new Config("usershortenlinks",{});var a={profile:{name:"Profile",long_url:MW.getProfileLink()},promote:{name:"Promote",long_url:MW.getExtURL("group","view",{next_params:{promote:"yes",pid:global.USER_ID}})},slots:{name:"Slots",long_url:MW.getExtURL("stats","view",{next_params:{user:global.USER_ID,vegasslots:"1",referrer:"ad_feed"}})},warhelp:{name:"War Help",long_url:MW.getExtURL("war","view",{next_params:{leader_id:global.USER_ID}})},brcrew:{name:"Brazil Crew",long_url:MW.getExtURL("job","accept_city_crew_feed",{next_params:{target_id:global.USER_ID}})},chcrew:{name:"Chicago Crew",long_url:MW.getExtURL("job","accept_city_crew_feed",{next_params:{target_id:global.USER_ID}})}};var k={publishAll_click:function(){var l=$(this);showGroupSelection(0,function(m,n){g(m,n,function(){l.unbind().removeClass("sexy_announce_gray").addClass("disabled").find("span > span").text("Published!")})});return false},resetAll_click:function(){j=new Config("usershortenlinks",{});j.save(function(){i.destroy();UserLinks()});return false},publish_click:function(){var l=$(this);var n=l.attr("isfor");var m=d[n];if(!/http/.test(a[n].long_url)||l.hasClass("disabled")){return false}l.addClass("disabled");m.link=a[n].long_url;showGroupSelection(0,function(o,p){m.target=o;m.message=p;facebook.streamPublish(m,function(){l.unbind().removeClass("sexy_announce_gray").find("span > span").text("Published!")})});return false},text_click:function(){$(this).select();return false}};var i=new PopupObject("userlinks_popup",{title:"My Links",type:"normal",buttons:[{label:"Publish All",addClass:"short green sexy_announce_gray",onclick:k.publishAll_click},{label:"Reset all links",addClass:"short white",onclick:k.resetAll_click},{label:"Close"}],onclose:function(){f.fromDomElements();f.save();j.save()}});var d={promote:{name:"Who doesn't want to be a gangster?",caption:"Promote me to your top-mafia and turn you into a really gangster!!",picture:global.zGraphicsURL+"levelup_test_2.jpg",actionText:"Promote me"},slots:{name:"{*actor*} owns a Vegas Slot Machine!",caption:"{*actor*} is offering free spins to all!",picture:global.zGraphicsURL+"vegas_slots_777.png",actionText:"Play Slots"},warhelp:{name:"{*actor*} needs your help in a War",caption:"{*actor*} is gearing up for a war and needs your help to win. Arm yourself and follow {*actor*} into battle. To the victor go the spoils, so you'll both be rewarded handsomely if you emerge victorious.",picture:global.zGraphicsURL+"DW_feed_red_02.png",actionText:"Help"},energy:{name:"{*actor*} wants an energy pack!",caption:"{*actor*} needs an energy pack to help grow their criminal empire.",picture:global.zGraphicsURL+"mw_feed_energypack_90x90_02.gif",actionText:"Send one"},chcrew:{name:"{*actor*} needs your help in Chicago",caption:"Join {*actor*}'s elite crew in Chicago and you'll both get rewarded handsomely.",picture:global.zGraphicsURL+"crew_module/chicago/feed_crew1.png",actionText:"Join Now"},brcrew:{name:"{*actor*} needs your help in Brazil",caption:"Join {*actor*}'s elite crew in Brazil and you'll both get rewarded handsomely.",picture:global.zGraphicsURL+"crew_module/brazil/feed_crew1.png",actionText:"Join Now"},masteryboost:{name:"{*actor*} is sharing a Mastery boost!",caption:"Here is a Mastery boost to help you do jobs faster. If you accept, we'll both get a boost to help us with jobs. Sweet!.",picture:global.zGraphicsURL+"AsnSocialJob/MFS-2x_mastery.jpg",actionText:"Accept"},sdboostget:{name:"Help me loot!",caption:"Please give me 2x loot boosts to help me get powerful loot faster.",picture:global.zGraphicsURL+"boosts/big_item_boost-2xLoot-feed-icon.png",actionText:"Give 2x Loot Boost"}};
function g(n,o,p){var m={};var l=1;f.fromDomElements();f.save();Util.each(a,function(q,r){if(/http/.test(r.long_url)&&f.get(q)){m["#"+(l++)]={text:r.name,href:r.long_url}}});facebook.streamPublish({target:n,message:o,name:"{*actor*} wants to share some personal links!",properties:m},p)}function b(n,m,l){$("#"+n+"_link").val(m+" => "+l);j.add(n,l)}function h(){Util.each(a,function(n,m){var l=c$("li").appendTo(c$("ul").appendTo(i.content));x$("ulopt_"+n,m.name+" Link:").appendTo(l);if(Util.isSet(d[n])){b$("Publish","class:short white sexy_announce_gray,isfor:"+n).appendTo(l).click(k.publish_click)}l=c$("div").appendTo(l);l=c$("input:text","readonly:readonly,id:"+n+"_link").appendTo(l);l.width(300).val("Loading...").click(k.text_click)})}function c(){h();Util.each(a,function(m,l){if(j[m]){b(m,l.name,(l.short_url=j[m]))}else{if(l.long_url){getShortURL(l.long_url,function(n){b(m,l.name,n)},function(n){$("#"+m+"_link").val(n)})}}});f.load(function(){f.toDomElements();i.show()})}j.load(c)}function WallCleaner(){var k={};var j={refresh_click:function(){var l=$(this);if(Util.disableButton(this)!==true){$("#feed_list_wrapper").removeClass().addClass("loading");a(function(m){c(m);$("#feed_list_wrapper").removeClass().addClass("idlelist");l.removeClass("disabled")})}return false},deleteall_click:function(){if(!$("#feed_list_wrapper").hasClass("idlelist")||Util.disableButton(this)===true){return false}var o=$(this);var p=Resources.className("ajax_loader_gif");var m=$("#top_wrapper .log-messages").addClass(p).text("Loading...");var n=new Collection();function l(){o.removeClass("disabled");$("#feed_list_wrapper, #top_wrapper").removeClass();$("#feed_list_wrapper").addClass("idlelist");$("#refreshbtn").removeClass("disabled");n.clear()}$("#feed_list_wrapper .feed_list > li").each(function(q,r){n.add($(r).attr("post_id"),r)});n.onEnd(function(){var q=$("#top_wrapper .log-button").empty();m.removeClass(p).text("All work Done!.");b$("Finish","class:short green").appendTo(q).click(function(){$(this).unbind();l();$("#refreshbtn").click();return false})});n.onMove(function(r,q,s){var t=Util.trim($(".body h4",s).text());m.text('Removing "'+t+'"...');facebook.removeFeed(q,function(u){if(u){d("Removed: "+t+".","info");$(s).remove()}else{d("Error: "+t+".","error")}n.MoveNext()})});if(n.length()>0){showAskPopup("Remove All","You're going to remove all visible posts.<br>It can't be undone, are you sure?",function(){$("#refreshbtn").addClass("disabled");$("#feed_list_wrapper, #top_wrapper").removeClass().addClass("logging");d("Remove All Started...","info");n.MoveFirst()},l)}else{l()}return false},deleteFeed_click:function(){var m=$(this).attr("post_id");var l=$(this).parent();if(m){i(l);facebook.removeFeed(m,function(n){if(n){f("li[post_id="+m+"]")}else{l.html('<span style="color:red;">Error deleting.</span>')}})}return false},ignoreFeed_click:function(){var l=$(this).attr("post_id");if(l){k[l]=true;$(this).parent().find("a").addClass("disabled").unbind();f("li[post_id="+l+"]")}return false}};var g=new PopupObject("wallcleaner_popup",{type:"main",title:"WALL CLEANER",width:700,center:false,buttons:[{label:"Remove All Visible",addClass:"short white",onclick:j.deleteall_click}]});function d(m,l){var n=Util.setColor("["+(new Date()).toLocaleTimeString()+"] ","grey");var o=(l==="error")?Resources.getPicture("ajax_error_png","li"):Resources.getPicture("info_icon_png","li");if(l!=="error"){m=Util.setColor(m,"#E1E1E1")}else{m=Util.setColor(m,"red")}o.prependTo("#feed_list_wrapper .feed_log").append(c$("p").html(n+(m||"")))}function i(l){var m=Resources.className("ajax_loader_gif");$(l).html('<div class="'+m+'" style="margin: 10px auto; width: auto;">Loading...</div>')}function f(l){var m=$(l,g.content);m.fadeOut(function(){m.remove()})}function a(l){facebook.queryWallFeeds(function(m){l(Util.isArray(m)?m:false)},{until:Calendar.getUnixTime(),filter:$("#actor_id option:selected",g.content).val(),search:$("#search_text option:selected",g.content).val()})}function h(){var l=c$("div","id:top_wrapper").appendTo(g.content);c$("fieldset").append(c$("legend").text("Filter:")).append(t$("datepicker","Until:",80)).append(s$("actor_id","By: ",140)).append(t$("search_text","Text: ",200)).append(b$("Refresh","id:refreshbtn,class:short orange").css("float","right").click(j.refresh_click)).appendTo(l);c$("div","class:remove-all-messages").appendTo(l).append(c$("div","class:log-button")).append(c$("div","class:mwa_res_ajax_loader_gif log-messages").text("Loading..."));c$("div","id:feed_list_wrapper, class:idlelist").height(500).append(c$("ul","class:feed_list").height(500)).append(c$("ul","class:feed_log").height(500)).append(c$("img",{src:global.zGraphicsURL+"socialmissions/ajax-loader.gif"}).addClass("ajax_loader_gif").css({"padding-top":25,margin:"auto"})).appendTo(g.content);$("#datepicker").attr("readonly","readonly").calendar();g.applyOptions({actor_id:{any:"Any",myself:"Myself",others:"Others",empty:"No commented"}})}function c(l){if(!l){return}var o,n=c$("ul","class:feed_list").height(500);
function m(q){var r=new Date(q*1000);var p={h:Util.padNum(r.getHours(),2),m:Util.padNum(r.getMinutes(),2),s:Util.padNum(r.getSeconds(),2)};return r.toLocaleDateString()+" "+p.h+":"+p.m+":"+p.s}Util.each(l,function(q,s){if(k[s.post_id]===true){return true}var t=s.attachment;var p=Util.setAnchor(s.permalink,t.name||t.caption||t.description);var r="By"+(s.target_id?" a friend ":" you ")+" at "+m(s.created_time);if(s.comments&&s.comments.count>0){r+=' -- <span style="color:#D4DE16;">'+s.comments.count+" comments.</span>"}o=c$("li","post_id:"+s.post_id).appendTo(n);o=c$("div","class:li_wrapper clearfix").appendTo(o);if(t.media&&t.media[0]&&t.media[0].src){c$("img","class:feed_icon").attr("src",t.media[0].src).appendTo(o)}c$("div","class:buttons").appendTo(o).append(b$("Delete","class:short white,post_id:"+s.post_id).click(j.deleteFeed_click)).append(c$("a","class:ignore,post_id:"+s.post_id).text("ignore").click(j.ignoreFeed_click));c$("div","class:body").append("<h4>"+p+"</h4><p>"+r+"</p>").appendTo(o)});$(".feed_list",g.content).replaceWith(n)}function b(){Calendar.init(g.zIndex);h();Calendar.setMonth(-1);Calendar.setDate("#datepicker");loadingScreen("Loading Wall posts...");a(function(l){if(l){c(l)}loadingScreen();g.show()})}facebook.init(function(l){if(l===true){facebook.needAppPermission("read_stream",function(m){if(m===true){showSupportPopup("WallCleaner",b)}else{g.destroy();showHelpPopup({icon:"error",title:"No Permissions",message:"You have not granted the required permissions for Wall Cleaner."})}})}})}function PageCollection(){if(!UserConfig.main.opt_CollectionPage){return}var a=function(){var b=Util.uSplit($(this).attr("href"));MultiGifter(b.gift_category,b.gift_id);$("#TopField").focus();return false};$("a:regex(href,gift_id)").each(function(b,c){if(c.href&&c.href.indexOf("xw_controller=gift")!==-1){$(c).removeAttr("onclick").click(a)}})}function PageClan(){if(e$("#bf_actions")!==null||UserConfig.main.opt_FamilyPage!==true){return}var j=[];var k=(e$("#profile_popup")||c$("div","id:profile_popup")).hide();var l=c$("div","id:overlay_pop_bg,class:pop_bg").css("z-index",10000).hide();var m=c$("div");var i=(e$("#bf_actions")||c$("div","id:bf_actions").insertAfter("#clan_profile_link")).css({padding:"0px 10px","text-align":"left","font-weight":"bold",height:50,"margin-top":10});var c={stats_rivals_add:"list_menu_icon_png",stats_clan_rivals_add:"list_menu_icon_png",stats_rivals_remove:"delete_red_png",stats_clan_rivals_remove:"delete_red_png"};var a=['<center style="margin: 10px auto; ">','<span class="',Resources.className("ajax_loader_gif"),'" style="padding-left: 18px; ">',"Loading...","</span></center>"].join("");var b=['<div style="margin:5px;">','<div style="color:gold;">${title}:</div>',"<div>${text}</div></div>"].join("");var f=['<a style="margin: -5px 2px; position: relative;  left: 6px;  bottom: -12px;" ','href="${href}" memberid="${id}" fbid="${fbId}" class="sexy_button_new">','<span><span><div class="${res}" style="margin: -4px -9px;"></div>',"</span></span></a>"].join("");var h=function(n){$(document).unbind("mouseup",h);k.hide()};function d(w){var p=$(this);var s=$(this).attr("href");var x=p.attr("fbid");var u=p.attr("memberid");var r=unsafeWindow.MW.CreateContextual();var o=c$("div").appendTo(k.empty()).css("margin",5);var v=function(){r.doContextual(p,k,8,0,-9)};function t(y){return function(z){o.html(a);v();k.show();l.show();httpAjaxRequest({url:y.link,liteLoad:1,success:function(B){var A=h$(B).find("table.messages .message_body").text();if(!A){A=Util.setColor("Cant read message.","red")}global.UserProfiles[u]=false;k.html(Util.render(b,{title:y.name,text:A}));l.hide();v();$(document).bind("mouseup",h)}});return false}}function q(z){var y=$("ul",o);var A=Resources.getPicture("promote_png","span").css("padding-left",21);$("#ajax_loader",y).remove();Util.each(c,function(C,D){var E=z.commands[C];var B=Resources.getPicture(D,"span").css("padding-left",21);if(E){c$("li").append(B.text(E.name)).appendTo(y).click(t(E))}});if(z.inMafia){c$("li").append(A.text("Promote")).appendTo(y).click(function(){httpAjaxStopRequests();MW.goPage("remote/"+MW.getIntURL("group","view")+"&promote=yes&pid="+escape("p|"+u),"#inner_page")})}if(k.is(":visible")){v()}}function n(){var A=c$("ul","class:ui-context-menu");var y=Resources.getPicture("zynga_png","span").css("padding-left",21);var B=Resources.getPicture("facebook_png","span").css("padding-left",21);var z=Resources.getPicture("ajax_loader_gif","span").css("padding-left",21);c$("li").append(y.text("MW Profile")).appendTo(A).click(function(){httpAjaxStopRequests();MW.goPage(s,"#inner_page")});if(x){c$("li").append(B.text("FB Profile")).appendTo(A).click(function(){unsafeWindow.open("http://www.facebook.com/profile.php?id="+x,"_blank")})}c$("li","id:ajax_loader").append(z.text("Loading...")).appendTo(A);o.empty().append(A);v();k.show();$(document).bind("mouseup",h)}n();if(global.UserProfiles[u]){q(global.UserProfiles[u])}else{httpAjaxStopRequests();httpAjaxRequest({url:s,liteLoad:1,success:function(y){var z=new MWProfile(y);
if(z&&z.link){global.UserProfiles[u]=z}q(z)}})}return false}function g(){var o=0;var n=$(this).attr("name");var q=UserConfig.bfopt;var p;var r=function(){Util.each(j,function(u,s){var t=(new Date()).toDateString();p[s.id]=s.name+" level "+s.level+" at "+t;o++});q.save(function(){showHelpPopup({icon:"info",title:"Adding family members to "+n,message:"You've added "+o+" users to Battlefield's "+n+"!",autoclose:5})})};q.load(function(){p=q.get(n);showAskPopup("Clear "+n,"Do you want to clear "+n+" before add all family's members?",function(){q.set(n,(p={}));r()},r)});return false}k.addClass("tooltip contextual clan_confirm").css({"min-width":150,"max-width":350,"min-height":25});$("#clan_main").append(l).append(k);$("ul#member_list li.member_sort").each(function(q,r){var p=e$("div.name_n_rank a",r);var n=e$("div.member_name",r);var t=e$("a[memberid]",r).attr("memberid");var o=e$(".clan_member_pic",r).attr("src");if(p&&n&&t){$(".clan_arrow",r).width(100);c$("div").appendTo(c$("div").css("float","right").appendTo(n)).css({"margin-left":10,"margin-top":10}).append($(Util.render(f,{id:t,res:Resources.className("createtable_icon_png"),href:p.attr("href"),fbId:o&&Util.doRgx(/\d+_(\d+)_\d+_q/,o).$1})).click(d));try{j.push({id:t,name:Util.trim(p.text()),level:Util.trim($("td.member_level",r).text())})}catch(s){}}});i.text("BATTLEFIELD:").append(m);m.html(['<strong class="good" style="font-size: 12px; ">','Click on "Add to ????" to add all family\'s members into that list.',"</strong>"].join(""));b$("Add to Whitelist","class:short green,name:whiteList").css("float","right").appendTo(m).click(g);b$("Add to Blacklist","class:short red,name:blackList").css({"float":"right",margin:"0px 5px 0px 5px"}).appendTo(m).click(g)}function PageFight(){var a=[];if(UserConfig.main.get("opt_FightPage")!==true){return}$("a:regex(href,xw_action=rivals_remove)").each(function(d,f){a.push(Util.toUrl(f))});if(a.length<1){return}var b=(e$("#mwaddon_message")||c$("div","id:mwaddon_message")).empty();var c=function(d){var f=function(){var g=a.length;httpAjaxRequest({url:a.shift(),message:"Removing... left "+g+" Rival(s)",liteLoad:1,success:function(h){if(a.length>0){f()}else{$("#inner_page").html(h)}}})};showAskPopup("Clear Rivals List","You are going to clear all your rivals list.<br>This cant be undone, continue?",f);return false};Resources.getPicture("info_icon_png","div").text("MWAddon says:").addClass("mwa-message-title").appendTo(b);c$("div","class:mwa-message-body").append(c$("span").text("You've "+a.length+" rivals added to your list. ")).append(c$("a","href:#").text("[ Clear ]").click(c)).appendTo(b);b.insertBefore("table.fight_table")}function PageJob(){if(!UserConfig.main.get("opt_JobRates")){return}if(e$(".job_list")!==null){$("tr","table[class=job_list]").each(function(a,g){try{var f=parseInt($('td[class*="job_reward"] > span.experience',g).text());var d=parseInt($('td[class*="job_energy"] > span.energy',g).text());if(f&&d){var c=$('td[class*="job_energy"]',g);(e$("#job_energy_ratio",c)||c$("div","job_energy_ratio").appendTo(c)).html((f/d).toFixed(2)+" Ratio").css({color:"green","font-weight":"bold"})}}catch(b){Logger.error("PageJob: "+b)}})}else{if(e$("#new_user_jobs")!==null){$('div[id^="job_"]',"#new_user_jobs").each(function(a,g){try{var f=parseInt($("dd.experience",g).text());var d=parseInt($("dd.energy",g).text());if(f&&d){var c=$("dd.energy",g).parent();(e$("#job_energy_ratio",c)||c$("dt","job_energy_ratio").appendTo(c)).html("("+(f/d).toFixed(2)+")").css({color:"green","font-weight":"bold"})}}catch(b){Logger.error(b)}})}else{if(e$("#brazil_jobs")!==null){$(".job","#brazil_jobs").each(function(a,g){try{var f=parseInt($("ul.pays .experience",g).attr("current_value"));var d=parseInt($("ul.uses .energy",g).attr("current_value"));if(f&&d){var c=$("ul.uses",g);(e$("#job_energy_ratio",c)||c$("li","job_energy_ratio").appendTo(c)).html("("+(f/d).toFixed(2)+")").css({color:"green","font-weight":"bold"})}}catch(b){Logger.error(b)}})}}}}function PageJobMap(){if(!UserConfig.main.get("opt_JobRates")){return}if(e$("#job_panel")!==null){$(".job_container","#job_panel").each(function(a,g){try{var f=e$("dd.experience",g);var d=e$("dd.energy",g)||e$("dd.stamina",g);if(f&&d){var c=d.parent();(e$("#job_energy_ratio",c)||c$("dd","job_energy_ratio").appendTo(c)).html("("+(parseInt(f.text())/parseInt(d.text())).toFixed(2)+")").css({color:"green","font-weight":"bold"})}}catch(b){Logger.error(b)}})}}function PageArenaMarket(){if(UserConfig.main.get("opt_ArenaMarketPage")!==true){return}var d=(e$("#mwaddon_message")||c$("div","id:mwaddon_message")).empty();var h=(e$("#mwa_contextual")||c$("div","id:mwa_contextual")).hide();var g=Util.parseNum($("#powerup_ticket_count").text());var j=c$("div","id:overlay_pop_bg,class:pop_bg").css("z-index",10000).hide();var a=$(".powerups_carousel_powerup_ticket_image:first").clone();var f=function(k){if(event.target.id!=="bulk_quantity"){$(document).unbind("mouseup",f);h.hide()}};var b=['<span class="',Resources.className("ajax_loader_gif"),'" style="padding-left: 18px;" id="building_progress">',"Wait please...","</span>"].join("");
function i(k,l){h.show();j.show();httpAjaxRequest({url:k.replace(/qty=\d/i,"qty="+l),liteLoad:1,success:function(m){if(m.data){var n=Util.parseJSON(m.data);g=parseInt(n.tickets);h.hide();j.hide();unsafeWindow.MW.LobbyMarketplace.postBuildPowerup(m)}}})}function c(p){var l=$(this);var m=$(this).attr("build-url");var q=Util.parseJSON($(this).attr("requirements"));var o=unsafeWindow.MW.CreateContextual();var n=c$("span","id:cost_info,class:green").text("0");var k=function(s){var r=parseInt($(this).val());if((r=(r*((q.favor||1)*2)))>g){n.css("color","red")}else{n.css("color","green")}return n.text(r)};h.empty();c$("div","class:mwa_contextual_title").appendTo(h).text("Select Amount:");c$("p").append(n$("bulk_quantity",40)).append(a).append(n).appendTo(h);c$("p").append(b$("Start","class:short green").click(function(s){var r=parseInt($("#bulk_quantity").val());if(r>1&&(r*((q.favor||1)*2))<g){h.empty();c$("div","class:mwa_contextual_title").appendTo(h).text("Building...");c$("p").appendTo(h).html(b);i(m,r)}else{}})).appendTo(h);$("#bulk_quantity",h).keyup(k);o.doContextual(l,h,8,0,-9);h.show();$(document).bind("mouseup",f);event.preventDefault();return false}$("a:regex(onclick,xw_action=buildPowerups)").each(function(l,m){var k=Util.toUrl(m);$(m).removeAttr("onclick").attr("build-url",k).click(c)});Resources.getPicture("info_icon_png","div").text("MWAddon says:").addClass("mwa-message-title").appendTo(d);c$("div","class:mwa-message-body").html("Bulk mode activated.<br>Click a Build button to show options.").appendTo(d);d.css({width:280,margin:"20px 0 0 10px"}).insertBefore(".powerup_ticket_container");a.css({"float":"none","vertical-align":"bottom","margin-right":5});j.appendTo("#inner_page");h.addClass("tooltip contextual clan_confirm").css({margin:5,"text-align":"center","min-width":150,"max-width":350,"min-height":25,width:180}).appendTo("#inner_page")}function PageProfile(){if(!UserConfig.main.get("opt_ProfilePage")||e$("#modified_profile")||e$("#change_title")){return}var d=new MWProfile($("#inner_page"));if(!(d.id&&d.id!=0)){return}var c=$(".stats_title_text:first").css({overflow:"hidden","max-width":560}).attr("id","modified_profile");var g=$(".title.stats_title").css("height","auto").siblings("table:last"),b=g.prev();c$("div","class:box").appendTo(c$("div","class:motd_outer").insertBefore(g)).append(c$("div","class:box_top").append(c$("div","class:box_top_right"))).append(c$("div","class:box_middle").append(c$("div","class:box_middle_right").css("padding-left",10))).append(c$("div","class:box_bottom").append(c$("div","class:box_bottom_right")));var a=$(".motd_outer").clone().insertAfter(".motd_outer").find(".box_middle_right");$(".motd_outer:first .box_middle_right").append(b);function f(){var i=$(this).attr("name");var h=UserConfig.bfopt;h.load(function(){var m=Util.htmlDecode(c.text());var k=Util.substr(m,'"','"',1,0,0,true);var l=Util.parseNum(m.substr(m.lastIndexOf('"')+1));if(Util.isSet(h.get(i)[d.id])){showHelpPopup({icon:"info",title:"Battlefield's "+i,message:"The player "+k+" is already in Battlefield's "+i+".",autoclose:5});return}var j=(new Date()).toDateString();h.get(i)[d.id]=k+"  level "+l+" at "+j;h.save(function(){showHelpPopup({icon:"info",title:"Battlefield's "+i,message:"You've added "+k+" to Battlefield's "+i+"!",autoclose:5})})});return false}$("#travel_menu a").each(function(h,k){var j;if(k.href){if((j=/&nextParams=(.*?)&/.exec(k.href))){if((j=/"user".*?"(.+?)"/.exec(unescape(unescape((j[1])))))){c$("a","href:#").appendTo(a).text("Facebook Profile").attr("onclick","window.open('http://www.facebook.com/profile.php?id="+Base64.decode(j[1])+"');return false;");c$("span").text(" | ").appendTo(a);return false}}}});c$("a","href:#,name:blackList").appendTo(a).text("Add to Blacklist").click(f);if(d.inMafia){c$("span").text(" | ").appendTo(a);c$("a","href:#").appendTo(a).text("Promote").attr("onclick","do_ajax('inner_page','remote/"+d.promote+"',1,1,0,0);return false;")}else{c$("span").text(" | ").appendTo(a);c$("a","href:#,name:whiteList").appendTo(a).text("Add to Whitelist").click(f)}}function PageWar(){if(!UserConfig.main.opt_WarPage){return}var d={"font-size":10,"vertical-align":"top",position:"relative","z-index":1};var b={display:"inline-block",cursor:"pointer",width:14,border:0,margin:"0px 1px 0px"};function c(f){return"http://www.facebook.com/"+f}function a(f){return"http://apps.facebook.com/inthemafia/profile.php?id="+escape('{"user":"'+f+'"}')}$("#declare_war > .go_to_war").prependTo("#declare_war");$("#declare_war_anchor, a:regex(href,declare_war_anchor)").remove();$("img:regex(src,profile)").each(function(h,l){var g,k=$(l).parents("li:first, dd:first");if((g=Util.doRgx(/\d+_(\d+)_\d+_q/,$(l).attr("src")).$1)&&e$("#link_"+g)===null){var j=c$("img",{src:Resources.get("facebook_png")}).css(b);var f=c$("img",{src:Resources.get("zynga_png")}).css(b);$(j).attr({title:"Click to open Facebook profile page.",onclick:'window.open("'+c(g)+'","_blank");'});$(f).attr({title:"Click to open Mafia Wars profile page.",onclick:'window.open("'+a(g)+'","_blank");'});
c$("div","id:link_"+g).appendTo(k).text("LINK: ").append(j).append(f).css(d)}})}Resources.add("battlefield_popup_css","data:text/css;base64,I2JhdHRsZWZpZWxkX3BvcHVwIGlucHV0LAojYmF0dGxlZmllbGRfcG9wdXAgc2VsZWN0IHsKICAgIG1hcmdpbjogMHB4IDJweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgLm1hZmlhX2F0dGFjayAgewogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9aWNvbl9tYWZpYV9hdHRhY2tfMjJ4MTZfMDEuZ2lmKSBuby1yZXBlYXQgMHB4IDUwJTsKICAgIHBhZGRpbmctbGVmdDogMTlweDsKICAgIGJhY2tncm91bmQtc2l6ZTogMTZweDsKICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiAxNnB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAubWFmaWFfZGVmZW5zZSB7CiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1pY29uX21hZmlhX2RlZmVuc2VfMjJ4MTZfMDEuZ2lmKSBuby1yZXBlYXQgMHB4IDUwJTsKICAgIHBhZGRpbmctbGVmdDogMTlweDsKICAgIGJhY2tncm91bmQtc2l6ZTogMTZweDsKICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiAxNnB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAuc3RhdF90cmF2ZWwgIHsgCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1pY29uX3RyYXZlbF8zMngxN18wMS5naWYpIG5vLXJlcGVhdCAwcHggNTAlOwogICAgcGFkZGluZy1sZWZ0OiAxOXB4OwogICAgYmFja2dyb3VuZC1zaXplOiAxNnB4OwogICAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IDE2cHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIC5zdGF0X3ZpY3RvcnkgewogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9dmljdG9yeV9pY29uLmdpZikgbm8tcmVwZWF0IDBweCA1MCU7CiAgICBwYWRkaW5nLWxlZnQ6IDE5cHg7CiAgICBiYWNrZ3JvdW5kLXNpemU6IDE2cHg7CiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMTZweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgLnN0YXRfcG93ZXJwYWNrIHsKICAgIGJhY2tncm91bmQ6IHVybCgke2Jhc2VfdXJsfUhQX3Bvd2VycGFjay5wbmcpIG5vLXJlcGVhdCAwcHggNTAlOwogICAgYmFja2dyb3VuZC1zaXplOiAxNnB4IDE2cHg7CiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMTZweDsKICAgIHBhZGRpbmctbGVmdDogMTlweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgLnN0YXRfaWNlZCB7CiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1tYXBfYmFzZWRfam9icy9tYXN0ZXJ5X3N0YXJzX21lZF84MXgzMF8wMi5wbmcpIG5vLXJlcGVhdCAtNjRweCAtMTNweDsKICAgIHBhZGRpbmctbGVmdDogMTlweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgLnN0YXRfa2lsbCB7CiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1tYXBfYmFzZWRfam9icy9tYXN0ZXJ5X3N0YXJzX21lZF84MXgzMF8wMi5wbmcpIG5vLXJlcGVhdCAtNDdweCAycHg7CiAgICBwYWRkaW5nLWxlZnQ6IDE5cHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICNmdjJfd2lkZ2V0X3dyYXBwZXIgewogICAgYmFja2dyb3VuZDogYmxhY2sgdXJsKCR7YmFzZV91cmx9ZmlnaHQvdjIvZmlnaHRfbWFpbl9iYWNrZ3JvdW5kLmpwZykgdG9wIGxlZnQgbm8tcmVwZWF0OwogICAgd2lkdGg6IDc1MHB4OwogICAgaGVpZ2h0OiAzNTBweDsKICAgIGJvcmRlcjogMHB4OwogICAgdG9wOiAwcHg7CiAgICBsZWZ0OiAwcHg7IAogICAgcG9zaXRpb246IHJlbGF0aXZlOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjb3B0aW9uc193cmFwcGVyIHsKICAgIGJhY2tncm91bmQ6IGJsYWNrIHVybCgke2Jhc2VfdXJsfXNvY2lhbG1pc3Npb25zL2JnX3RleHR1cmVfbW9kdWxlLmpwZykgbm8tcmVwZWF0IHNjcm9sbCA1MCUgMCU7CiAgICBwYWRkaW5nOiAwcHggNXB4OwogICAgaGVpZ2h0OiAxMDAlOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjZmlnaHRfd3JhcHBlciBkaXYudXNlcmJveCB7CiAgICB3aWR0aDogMjMycHg7CiAgICBoZWlnaHQ6IDM0NXB4OwogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9ZmlnaHQvdjIvZmlnaHRfcGxheWVyYmFja2dyb3VuZC5wbmcpIDAgMzVweCBuby1yZXBlYXQ7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBmbG9hdDogbGVmdDsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQojYmF0dGxlZmllbGRfcG9wdXAgI2F0dGFja2VyX2ZpZ2h0X3N0YXR1cywgI2RlZmVuZGVyX2ZpZ2h0X3N0YXR1cyB7CiAgICBoZWlnaHQ6IDM2cHg7CiAgICBmb250LXNpemU6IDI4cHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICAjYXR0YWNrZXJfZmlnaHRfc3RhdHMgewogICAgbWFyZ2luOiAxMHB4IGF1dG87CiAgICB3aWR0aDogMjAwcHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICAjYXR0YWNrZXJfcGljIHsKICAgIGZsb2F0OiBsZWZ0OwogICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICB3aWR0aDogMTQ3cHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIC5kaXZIUEJhciB7CiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1maWdodC92Mi9maWdodF9oZWFsdGhfZ3JleS5wbmcpIHRvcCBsZWZ0IHJlcGVhdC14OwogICAgd2lkdGg6IDIxNXB4OwogICAgaGVpZ2h0OiAyM3B4OwogICAgbWFyZ2luOiA1cHggYXV0bzsKfQojYmF0dGxlZmllbGRfcG9wdXAgI2ZpZ2h0X2J0bl9wYW5lbCB7CiAgICBoZWlnaHQ6IDM1MHB4OwogICAgZmxvYXQ6IGxlZnQ7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICNhdHRhY2tlcl9iZXN0X2l0ZW1zLCAjZGVmZW5kZXJfYmVzdF9pdGVtcyB7CiAgICB3aWR0aDogNjVweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1hcmdpbi10b3A6IDQ1cHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2FjdGlvbnMgewogICAgd2lkdGg6IDEzMHB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjd3JhcHBlcl9kZWZlbmRlciB7CiAgICBtYXJnaW46IDVweCA1cHggMCA1cHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICNmaWdodF9idG5fcGFuZWwgZGl2LmJvb3N0Y29udGFpbmVyIHsKICAgIHdpZHRoOiAxODVweDsKICAgIG1hcmdpbjogMnB4IDAgMCA0MHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWluLWhlaWdodDogNzhweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgI2ZpZ2h0X2J0bl9wYW5lbCBkaXYuYm9vc3Rjb250YWluZXIgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAubGlzdGVkIHsKICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybCgke2Jhc2VfdXJsfXYzL2ljb25fd2lzaGxpc3RfYWRkXzE5eDE0XzAxLmdpZikgbm8tcmVwZWF0IC0xcHggNTAlOwogICAgcGFkZGluZy1sZWZ0OiAxOXB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjZmlnaHRPcHQgewogICAgbWFyZ2luOiAwcHg7CiAgICB3aWR0aDogNzM4cHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICNmaWdodE9wdCB1bCB7CiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICB3aWR0aDogMTAwJTsKICAgIG1hcmdpbjogMHB4OwogICAgcGFkZGluZzogMHB4OwogICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIG92ZXJmbG93OiBhdXRvOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjZmlnaHRPcHQgdWwgbGkgewogICAgZGlzcGxheTogYmxvY2s7CiAgICBtYXJnaW46IDBweCAwcHggMHB4IDVweDsKICAgIHBhZGRpbmc6IDBweDsKICAgIGhlaWdodDogMjhweDsKICAgIGxpbmUtaGVpZ2h0OiAyOHB4OwogICAgbWF4LWhlaWdodDogMjhweDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2luZm8gewogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9ZmlnaHQvdjIvZmlnaHRfbG9vdHRyYXlfc2xpdmVyLmpwZykgdG9wIGxlZnQgcmVwZWF0LXg7CiAgICBoZWlnaHQ6IDEyMHB4OwogICAgbWFyZ2luLXRvcDogMHB4OwogICAgbWFyZ2luLXJpZ2h0OiBhdXRvOwogICAgbWFyZ2luLWJvdHRvbTogMHB4OwogICAgbWFyZ2luLWxlZnQ6IGF1dG87CiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzMzMzsKfSAKI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2luZm8gLmZpZ2h0VjJfbXNnX2N0cmwgewogICAgZmxvYXQ6IGxlZnQ7CiAgICB3aWR0aDogNDkwcHg7CiAgICBoZWlnaHQ6IDEwMHB4OwogICAgbWFyZ2luOiAxNHB4IDExcHggMDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICB6LWluZGV4OiAwOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjd3JhcHBlcl9pbmZvICNjdHJsY29udGFpbmVyIHsKICAgIGhlaWdodDogNDBweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfaW5mbyAuZmlnaHRWMl9yZXN1bHQgewogICAgZmxvYXQ6IHJpZ2h0OwogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9ZmlnaHQvdjIvZmlnaHRfbG9vdHRyYXlfbGluZS5wbmcpIDAgNTAlIG5vLXJlcGVhdDsKICAgIHdpZHRoOiAyMTBweDsKICAgIGhlaWdodDogMTAwcHg7CiAgICBwYWRkaW5nOiAxMHB4IDVweCAxMHB4IDE1cHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2xvZ19zdGF0cyB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke2Jhc2VfdXJsfWl0YWx5X2Q0LmpwZyk7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgMCU7CiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgaGVpZ2h0OiA0NTBweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX3N0YXRzIHsKICAgIGJhY2tncm91bmQ6IHVybCgke2Jhc2VfdXJsfWZpZ2h0L3YyL2ZpZ2h0X2xvb3R0cmF5X2xpbmUucG5nKSAwIDUwJSBuby1yZXBlYXQ7CiAgICBmbG9hdDogcmlnaHQ7CiAgICBoZWlnaHQ6IDk3JTsKICAgIHdpZHRoOiAyMTBweDsKICAgIHBhZGRpbmc6IDEwcHggNXB4IDEwcHggMTVweDsKICAgIHRleHQtYWxpZ246IGxlZnQ7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2xvZ19zdGF0cyAuZmlnaHRWMl9zdGF0cyBkbCB7CiAgICBoZWlnaHQ6IDIwcHg7CiAgICBtYXJnaW46IDBweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX3N0YXRzIGRsIGltZyB7CiAgICBmbG9hdDogbGVmdDsKICAgIGhlaWdodDogMTlweDsKICAgIHdpZHRoOiAxOXB4OwogICAgbWFyZ2luLXJpZ2h0OiAycHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2xvZ19zdGF0cyAuZmlnaHRWMl9zdGF0cyBkbCBkdCB7CiAgICBmbG9hdDogbGVmdDsKICAgIG1hcmdpbjogMHB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjd3JhcHBlcl9sb2dfc3RhdHMgLmZpZ2h0VjJfc3RhdHMgZGwgZGQgewogICAgZmxvYXQ6IHJpZ2h0OwogICAgbWFyZ2luOiAwcHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2xvZ19zdGF0cyAuZmlnaHRWMl9zdGF0cyAubnVtYmVycyB7CiAgICBmbG9hdDogcmlnaHQ7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIG1hcmdpbjogMHB4OwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIHBhZGRpbmc6IDBweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX2xvZyB7CiAgICBmbG9hdDogbGVmdDsKICAgIGhlaWdodDogOTklOwogICAgd2lkdGg6IDUxNXB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjd3JhcHBlcl9sb2dfc3RhdHMgLmZpZ2h0VjJfbG9nICNldmVudHNfbGlzdCB7CiAgICBoZWlnaHQ6IGF1dG87CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIGhlaWdodDogMTAwJTsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX2xvZyAjZXZlbnRzX2xpc3QgI2ZpZ2h0bG9ncyB7CiAgICBib3JkZXI6IDBweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX2xvZyAjZXZlbnRzX2xpc3QgLmJ1dHRvbnMgewogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzMzM7CiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjMzMzOwp9CQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX2xvZyAjZXZlbnRzX2xpc3QgLmJ1dHRvbnMgYSB7CiAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICMzMzM7CiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjMzMzOwogICAgcGFkZGluZy1sZWZ0OiAxMHB4OwogICAgcGFkZGluZy1yaWdodDogMTBweDsKICAgIG9wYWNpdHk6IDAuNTsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX2xvZyAjZXZlbnRzX2xpc3QgLmJ1dHRvbnMgYS5zZWxlY3RlZCB7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIG9wYWNpdHk6IDE7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2xvZ19zdGF0cyAuZmlnaHRWMl9sb2cgI2V2ZW50c19saXN0IC5idXR0b25zIGE6Zmlyc3QtY2hpbGQgewogICAgbWFyZ2luLWxlZnQ6IDIwcHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2xvZ19zdGF0cyAuZmlnaHRWMl9sb2cgI2ljZWRfbG9ncyB0ZXh0YXJlYSN0ZXh0X3BsYWluX2ljZV9sb2cgewogICAgd2lkdGg6IDUwMHB4OwogICAgaGVpZ2h0OiAzNzBweDsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwogICAgYm9yZGVyOiAxcHggc29saWQgIzIyMjsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX2xvZyAjaWNlZF9sb2dzIC5pY2UtbG9nLWhlYWRlciB7CiAgICBjbGVhcjogYm90aDsKICAgIHBhZGRpbmc6IDVweCAwcHggNXB4IDEwcHg7CiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBmb250LXNpemU6IDEycHg7CiAgICB0ZXh0LWFsaWduOiBsZWZ0Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjd3JhcHBlcl9sb2dfc3RhdHMgLmZpZ2h0VjJfbG9nICNpY2VkX2xvZ3MgLmljZS1sb2ctaGVhZGVyIGEgewogICAgbWFyZ2luLWxlZnQ6IDVweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX2xvZyB1bCB7CiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7CiAgICBtYXJnaW46IDBweDsKICAgIG92ZXJmbG93OiBhdXRvOwogICAgcGFkZGluZzogMHB4OwogICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIHdpZHRoOiAxMDAlOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAuZmlnaHRWMl9sb2cgdWwjbG9vdGxpc3Rsb2cgbGksCiNiYXR0bGVmaWVsZF9wb3B1cCAuZmlnaHRWMl9sb2cgdWwjZXZlbnRzbG9nZ2VyIGxpIHsKICAgIHBhZGRpbmc6IDhweCA1cHggMHB4IDEwcHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2xvZ19zdGF0cyAuZmlnaHRWMl9sb2cgdWwjbG9vdGxpc3Rsb2csCiNiYXR0bGVmaWVsZF9wb3B1cCAjd3JhcHBlcl9sb2dfc3RhdHMgLmZpZ2h0VjJfbG9nIHVsI2l0ZW1zX2xvZ3MgewogICAgbWFyZ2luLXRvcDogNXB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjd3JhcHBlcl9sb2dfc3RhdHMgLmZpZ2h0VjJfbG9nICNldmVudHNfbG9ncyBjZW50ZXIgewogICAgcGFkZGluZy10b3A6IDEwcHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2xvZ19zdGF0cyAuZmlnaHRWMl9sb2cgI2V2ZW50c19saXN0IHVsI2V2ZW50c2xvZ2dlciB7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBtYXJnaW4tdG9wOiA1cHg7CiAgICBoZWlnaHQ6IDM5MHB4OwogICAgb3ZlcmZsb3cteTogbm9uZTsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX2xvZyAjZXZlbnRzX2xpc3QgdWwjZXZlbnRzbG9nZ2VyIGxpIHsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMzMzOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjc3RhdHNfbG9ncyB0YWJsZSB7CiAgICB3aWR0aDogOTglOwogICAgbWFyZ2luOiAxNXB4IDBweCAwcHggNXB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjc3RhdHNfbG9ncyB0YWJsZSB0cjpmaXJzdC1jaGlsZCB0aDpmaXJzdC1jaGlsZCB7CiAgICB3aWR0aDogMTAwcHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICNzdGF0c19sb2dzIHRhYmxlIHRyOmZpcnN0LWNoaWxkIHRoIHsKICAgIHdpZHRoOiA1MHB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjc3RhdHNfbG9ncyB0YWJsZSB0ciB0ZDpmaXJzdC1jaGlsZCB7CiAgICB0ZXh0LWFsaWduOiBsZWZ0Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjc3RhdHNfbG9ncyB0YWJsZSB0ciB0ZCB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICN3cmFwcGVyX2xvZ19zdGF0cyAuZmlnaHRWMl9sb2cgI29wcG9uZW50c19saXN0IHsKICAgIGhlaWdodDogMTAwJTsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX2xvZyAjb3Bwb25lbnRzX2xpc3QgLmhlYWRlciB7CiAgICBoZWlnaHQ6IDUlOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjd3JhcHBlcl9sb2dfc3RhdHMgLmZpZ2h0VjJfbG9nICNvcHBvbmVudHNfbGlzdCAuaGVhZGVyIGEgewogICAgZmxvYXQ6IGxlZnQ7CiAgICBtYXJnaW4tbGVmdDogMjBweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgI3dyYXBwZXJfbG9nX3N0YXRzIC5maWdodFYyX2xvZyAjb3Bwb25lbnRzX2xpc3QgI29wcG9uZW50c190YWJsZSB7CiAgICBoZWlnaHQ6IDk1JTsKfQojYmF0dGxlZmllbGRfcG9wdXAgLmZpZ2h0VjJfcmVzdWx0IC5yYXBpZGZpcmUgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luLXRvcDogNnB4OwogICAgaGVpZ2h0OiAyNXB4OwogICAgY29sb3I6IGdyZWVuOwogICAgZm9udC1zaXplOiAyMHB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBmb250LWZhbWlseTogdGFob21hOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAuZmlnaHRWMl9yZXN1bHQgLnJhcGlkZmlyZV9jb3VudCB7CiAgICBkaXNwbGF5OiBub25lOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luLXRvcDogMXB4OwogICAgY29sb3I6IHllbGxvdzsKICAgIGZvbnQtc2l6ZTogMjRweDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAuZmlnaHRWMl9sb2cgdWwjaXRlbXNfbG9ncyBsaSwgCiNiYXR0bGVmaWVsZF9wb3B1cCAuZmlnaHRWMl9sb2cgdWwjb3Bwb25lbnRzX3RhYmxlIGxpIHsKICAgIG1hcmdpbi10b3A6IDRweDsKICAgIHBhZGRpbmc6IDBweCAxMHB4IDZweCAxMHB4OwogICAgbWluLWhlaWdodDogNjBweDsKICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjMzMzOwogICAgYmFja2dyb3VuZC1zaXplOiA0MHB4IDQwcHg7CiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IDQwcHggNDBweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgLmZpZ2h0VjJfbG9nIHVsI2l0ZW1zX2xvZ3MgbGkgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTBweCAxOXB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAuZmlnaHRWMl9sb2cgdWwjb3Bwb25lbnRzX3RhYmxlIGxpIGRpdiB7CiAgICBmbG9hdDogbGVmdDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7CiAgICBjb2xvcjogd2hpdGU7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIC5maWdodFYyX2xvZyB1bCNvcHBvbmVudHNfdGFibGUgbGkgLnBsYXllcl9pY29ucyB7CiAgICBtYXJnaW46IDBweCA1cHg7CiAgICB3aWR0aDogMzBweDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBoZWlnaHQ6IDYwcHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIC5maWdodFYyX2xvZyB1bCNvcHBvbmVudHNfdGFibGUgbGkgLnBsYXllcl9pY29ucyBpbWcgewogICAgaGVpZ2h0OiAyNXB4OwogICAgd2lkdGg6IDI1cHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIC5maWdodFYyX2xvZyB1bCNvcHBvbmVudHNfdGFibGUgbGkgLnBsYXllcl9uYW1lIHsKICAgIHdpZHRoOiAyNjBweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgLmZpZ2h0VjJfbG9nIHVsI29wcG9uZW50c190YWJsZSBsaSAucGxheWVyX21hZmlhIHsKICAgIHdpZHRoOiA1MHB4OwogICAgcGFkZGluZzogNXB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAuZmlnaHRWMl9sb2cgdWwjb3Bwb25lbnRzX3RhYmxlIGxpID4gYS5zZXh5X2J1dHRvbl9uZXcgewogICAgZmxvYXQ6IHJpZ2h0OwogICAgbWFyZ2luLXJpZ2h0OiAxNXB4Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCAuZmlnaHRWMl9sb2cgdWwjaXRlbXNfbG9ncyBsaSAubWVzc2FnZV90ZXh0IHsKICAgIHBhZGRpbmctbGVmdDogNDVweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGNvbG9yOiB3aGl0ZTsKfQojYmF0dGxlZmllbGRfcG9wdXAgLmZpZ2h0VjJfbG9nIHVsI2l0ZW1zX2xvZ3MgbGkuaGFzaWNvbiAubWVzc2FnZV90ZXh0IHsKICAgIHBhZGRpbmctbGVmdDogOTBweDsKfQojYmF0dGxlZmllbGRfcG9wdXAgLmZpZ2h0VjJfbG9nIHVsI2l0ZW1zX2xvZ3MgbGkgLnRpbWVzdGFtcCB7CiAgICBwYWRkaW5nLWJvdHRvbTogNXB4OwogICAgZm9udC1zaXplOiAxMHB4OwogICAgY29sb3I6ICM2NjY7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIC5maWdodFYyX2xvZyB1bCNpdGVtc19sb2dzIGxpLmhhc2ljb24gaW1nIHsKICAgIHdpZHRoOiAzOHB4OwogICAgaGVpZ2h0OiAzOHB4OwogICAgZmxvYXQ6IGxlZnQ7CiAgICBtYXJnaW4tbGVmdDogNDVweDsKICAgIGJvcmRlcjogc29saWQgMXB4ICNGRkQ5Mjc7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIC5maWdodFYyX2xvZyB1bCNpdGVtc19sb2dzIGxpLmxvb3QgewogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7YmFzZV91cmx9YWNoaWV2ZW1lbnRzL213YWNoX2NvbGxlY3Rvcl83NXg3NV8wMS5naWYpOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAuZmlnaHRWMl9sb2cgdWwjaXRlbXNfbG9ncyBsaS5maWdodCB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtiYXNlX3VybH1ob21lL2ljb25fZmlnaHRfNzV4NzVfMDEuZ2lmKTsKfQojYmF0dGxlZmllbGRfcG9wdXAgLmZpZ2h0VjJfbG9nIHVsI2l0ZW1zX2xvZ3MgbGkuaWNlZCwKI2JhdHRsZWZpZWxkX3BvcHVwIC5maWdodFYyX2xvZyB1bCNpdGVtc19sb2dzIGxpLmtpbGwsCiNiYXR0bGVmaWVsZF9wb3B1cCAuZmlnaHRWMl9sb2cgdWwjaXRlbXNfbG9ncyBsaS5zdG9sZW5faWNlIHsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke2Jhc2VfdXJsfWhvbWUvaWNvbl9oaXRsaXN0Xzc1eDc1XzAxLmdpZik7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIC5maWdodFYyX2xvZyB1bCNpdGVtc19sb2dzIGxpLmhlYWwgewogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7YmFzZV91cmx9cmVkX2Nyb3NzX3NtYWxsLmdpZik7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIC5maWdodFYyX2xvZyB1bCNpdGVtc19sb2dzIGxpLmJhbmsgewogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7YmFzZV91cmx9aG9tZS9pY29uX2xvb3RfNzV4NzVfMDEuZ2lmKTsKfQojYmF0dGxlZmllbGRfcG9wdXAgLmZpZ2h0VjJfbG9nIHVsI2l0ZW1zX2xvZ3MgbGkud2hpdGVsaXN0IHsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke2Jhc2VfdXJsfURXX2ZlZWRfZ3JuXzAxLnBuZyk7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIC5maWdodFYyX2xvZyB1bCNpdGVtc19sb2dzIGxpLmJsYWNrbGlzdCB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtiYXNlX3VybH1EV19mZWVkX3JlZF8wMS5wbmcpOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAuZmlnaHRWMl9sb2cgdWwjaXRlbXNfbG9ncyBsaS5oZWxwIHsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke2Jhc2VfdXJsfWhvbWUvaWNvbl9jYWxsX2Zvcl9oZWxwXzc1eDc1XzAxLmdpZik7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICNldmVudHNfbGlzdCB1bCNpdGVtc19sb2dzIGxpLnB1Ymxpc2hlZCB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtiYXNlX3VybH1td19pY2VkX2ZlZWQxXzkweDkwLmdpZik7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwICNldmVudHNfbGlzdCB1bCNpdGVtc19sb2dzIGxpLnNvY2lhbCB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtiYXNlX3VybH1ob21lL2ljb25faGFuZHNoYWtlXzc1eDc1LnBuZyk7Cn0KCgojYmF0dGxlZmllbGRfcG9wdXAgdGFibGUubXdhLWdyaWQgdHIgdGQ6bGFzdC1jaGlsZCB7CiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjNDQ0Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCB0YWJsZS5td2EtZ3JpZCB0ciB0ZDpmaXJzdC1jaGlsZCB7CiAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICM0NDQ7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIHRhYmxlLm13YS1ncmlkIHRyIHRkIHsKICAgIHBhZGRpbmc6IDBweCA4cHggIWltcG9ydGFudDsKICAgIGhlaWdodDogMThweCAhaW1wb3J0YW50OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzMzM7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIGRpdi5td2EtZ3JpZC13cmFwcGVyIHsKICAgIGZsb2F0OiBsZWZ0Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCBkaXYubXdhLWdyaWQtYmFyIHsKICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7CiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDsKICAgIHBhZGRpbmc6IDVweCAwcHg7Cn0KI2JhdHRsZWZpZWxkX3BvcHVwIHRhYmxlLm13YS1ncmlkIHRyIHRkIGltZyB7CiAgICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tOwogICAgY3Vyc29yOiBwb2ludGVyOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCB0YWJsZS5td2EtZ3JpZCB0ciB0ZCBkaXYgewogICAgY3Vyc29yOiBwb2ludGVyOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCBmaWVsZHNldCB7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjNjY2Owp9CiNiYXR0bGVmaWVsZF9wb3B1cCBmaWVsZHNldCBkaXYgewogICAgdGV4dC1hbGlnbjogbGVmdDsKfQojYmF0dGxlZmllbGRfcG9wdXAgZmllbGRzZXQgbGVnZW5kIHsKICAgIGNvbG9yOiBnb2xkOwp9CiNiYXR0bGVmaWVsZF9wb3B1cCAjbXdhZGRvbl9tZXNzYWdlIHsKICAgIHdpZHRoOiA2ODRweCAhaW1wb3J0YW50OwogICAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50OwogICAgbWFyZ2luLWJvdHRvbTogNXB4Owp9Cg==");
Resources.add("bountyhunter_popup_css","data:text/css;base64,I2JvdW50eWh1bnRlcl9wb3B1cCAudmljdG9yeSB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFja2dyb3VuZF91cmx9dmljdG9yeV9pY29uLmdpZikgbm8tcmVwZWF0IDBweCA1MCU7DQogICAgcGFkZGluZy1sZWZ0OiAxOXB4Ow0KICAgIGJhY2tncm91bmQtc2l6ZTogMTZweDsNCiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMTZweDsNCn0NCiNib3VudHlodW50ZXJfcG9wdXAgI21haW5fcGFuZWwgew0KICAgIGJvcmRlci1ib3R0b206IDFweCBkb3R0ZWQgIzMzMzsNCiAgICBtYXJnaW4tYm90dG9tOiA1cHg7DQogICAgaGVpZ2h0OiAzMHB4Ow0KICAgIHBhZGRpbmc6IDVweCAwcHggMHB4IDEwcHg7DQp9DQojYm91bnR5aHVudGVyX3BvcHVwICNtYWluX3BhbmVsICNtYWluX2NvbnRyb2xzIHsNCiAgICBmbG9hdDogcmlnaHQ7DQp9DQojYm91bnR5aHVudGVyX3BvcHVwICNtYWluX3BhbmVsICNtYWluX2NvbnRyb2xzIGEgew0KICAgIG1hcmdpbi1yaWdodDogNXB4Ow0KICAgIHdpZHRoOiAxMDBweDsNCn0NCiNib3VudHlodW50ZXJfcG9wdXAgI21haW5fcGFuZWwgI2JoX21lc3NhZ2VzIHsNCiAgICBsaW5lLWhlaWdodDogMzBweDsNCn0NCiNib3VudHlodW50ZXJfcG9wdXAgI2NvbnRlbnRfd3JhcHBlciB1bC5iaF9sb2csDQojYm91bnR5aHVudGVyX3BvcHVwICNjb250ZW50X3dyYXBwZXIgdWwuYmhfaGl0bGlzdCB7DQogICAgbGlzdC1zdHlsZS10eXBlOiBub25lOw0KICAgIG92ZXJmbG93OiBhdXRvOw0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgbWFyZ2luOiAwcHg7DQogICAgcGFkZGluZzogMHB4Ow0KfQ0KI2JvdW50eWh1bnRlcl9wb3B1cCAjY29udGVudF93cmFwcGVyIHVsLmJoX2xvZyBsaSB7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICMyMjI7DQogICAgbWFyZ2luOiAwcHggMHB4IDRweDsNCiAgICBwYWRkaW5nOiAwcHggMHB4IDBweCAxOHB4Ow0KICAgIHdpZHRoOiBhdXRvICFpbXBvcnRhbnQ7DQogICAgYmFja2dyb3VuZC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7DQogICAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IDE2cHggIWltcG9ydGFudDsNCiAgICBtaW4taGVpZ2h0OiAxNnB4ICFpbXBvcnRhbnQ7DQp9DQojYm91bnR5aHVudGVyX3BvcHVwICNjb250ZW50X3dyYXBwZXIgdWwuYmhfaGl0bGlzdCBsaSB7DQogICAgYm9yZGVyOiAycHggc29saWQgIzFGMUYxRjsNCiAgICBtYXJnaW46IDBweCAwcHggNHB4Ow0KICAgIHBhZGRpbmc6IDBweCAwcHggMHB4IDM2cHg7DQogICAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IDMwcHggIWltcG9ydGFudDsNCiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMzBweCAhaW1wb3J0YW50Ow0KICAgIG1pbi1oZWlnaHQ6IDMwcHggIWltcG9ydGFudDsNCn0NCiNib3VudHlodW50ZXJfcG9wdXAgI2NvbnRlbnRfd3JhcHBlciB1bC5iaF9oaXRsaXN0IGxpIC5ib3VudHlfdXNlciB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgd2lkdGg6IDIwMHB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAzMHB4Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgbWFyZ2luLXJpZ2h0OiAzcHg7DQogICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgIzIyMjsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KfQ0KI2JvdW50eWh1bnRlcl9wb3B1cCAjY29udGVudF93cmFwcGVyIHVsLmJoX2hpdGxpc3QgbGkgLmJvdW50eV9jYXNoIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICB3aWR0aDogMTAwcHg7DQogICAgbGluZS1oZWlnaHQ6IDMwcHg7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCn0NCiNib3VudHlodW50ZXJfcG9wdXAgI2NvbnRlbnRfd3JhcHBlciB1bC5iaF9oaXRsaXN0IGxpIC5ib3VudHlfYXR0YWNrIHsNCiAgICB3aWR0aDogNzBweDsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgbGluZS1oZWlnaHQ6IDI2cHg7DQp9DQojYm91bnR5aHVudGVyX3BvcHVwICNjb250ZW50X3dyYXBwZXIgLnVpLWxlZnQgew0KICAgIGZsb2F0OiBsZWZ0Ow0KfQ0KI2JvdW50eWh1bnRlcl9wb3B1cCAjY29udGVudF93cmFwcGVyIC51aS1yaWdodCB7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KfQ0KI2JvdW50eWh1bnRlcl9wb3B1cCAjY29udGVudF93cmFwcGVyIC51aS1ibGFja2xpc3Qgew0KICAgIHdpZHRoOiA0OSU7DQp9DQojYm91bnR5aHVudGVyX3BvcHVwICNjb250ZW50X3dyYXBwZXIgLnVpLWJsYWNrbGlzdCBkaXYudWktdG9wIHsNCiAgICBjbGVhcjogYm90aDsNCn0NCiNib3VudHlodW50ZXJfcG9wdXAgI2NvbnRlbnRfd3JhcHBlciAudWktYmxhY2tsaXN0IGRpdi51aS10b3Agc3Bhbi5jaGVja2JveCB7DQogICAgbGluZS1oZWlnaHQ6IDI0cHg7DQp9DQojYm91bnR5aHVudGVyX3BvcHVwICNjb250ZW50X3dyYXBwZXIgLnVpLWJsYWNrbGlzdCBzZWxlY3Qgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGhlaWdodDogMzQwcHg7DQp9DQojYm91bnR5aHVudGVyX3BvcHVwIC51aS1saW5lIHsNCiAgICBjbGVhcjogYm90aDsNCiAgICBtYXJnaW46IDVweCAwcHg7DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IGRvdHRlZCAjMzMzOw0KfQ0K");Resources.add("collectall_popup_css","data:text/css;base64,I2NvbGxlY3RhbGxfcG9wdXAgdWwsIA0KI2NvbGxlY3RhbGxfcG9wdXAgbGksDQojY29sbGVjdGFsbF9wb3B1cCBwIHsNCiAgICBtYXJnaW46IDBweDsNCiAgICBwYWRkaW5nOiAwcHg7DQp9DQojY29sbGVjdGFsbF9wb3B1cCB1bCB7DQogICAgbGlzdC1zdHlsZS10eXBlOiBub25lOw0KfQ0KI2NvbGxlY3RhbGxfcG9wdXAgZmllbGRzZXQgew0KICAgIG1pbi1oZWlnaHQ6IDE3MHB4Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM0NDQ7DQogICAgbWFyZ2luLWJvdHRvbTogNXB4Ow0KfQ0KI2NvbGxlY3RhbGxfcG9wdXAgZmllbGRzZXQgbGVnZW5kIHsNCiAgICBjb2xvcjogIzU1NTsNCiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KICAgIGZvbnQtc2l6ZTogMTFweDsNCn0NCiNjb2xsZWN0YWxsX3BvcHVwICNtZXNzYWdlbG9nZ2VyIHsNCiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7DQogICAgb3ZlcmZsb3c6IGF1dG87DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDQ0Ow0KICAgIG1hcmdpbjogMnB4Ow0KICAgIGhlaWdodDogMjUwcHgNCn0NCiNjb2xsZWN0YWxsX3BvcHVwICNtZXNzYWdlbG9nZ2VyIGxpIHsNCiAgICBwYWRkaW5nOiAzcHg7DQogICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMyMjI7DQogICAgbWFyZ2luOiAxcHg7DQogICAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IDE4cHggIWltcG9ydGFudDsNCiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMThweCAhaW1wb3J0YW50Ow0KICAgIG1pbi1oZWlnaHQ6IDE4cHggIWltcG9ydGFudDsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1cHggNTAlOw0KfQ0KI2NvbGxlY3RhbGxfcG9wdXAgI21lc3NhZ2Vsb2dnZXIgbGkgcCB7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KICAgIHBhZGRpbmctbGVmdDogMzBweDsNCn0NCiNjb2xsZWN0YWxsX3BvcHVwICNzdGF0dXNfbWVzc2FnZSB7DQogICAgZGlzcGxheTogbm9uZTsNCiAgICB3aWR0aDogYXV0bzsNCiAgICBtYXJnaW4tbGVmdDogMjAwcHg7DQogICAgcGFkZGluZy1sZWZ0OiAyMHB4Ow0KfQ0KI2NvbGxlY3RhbGxfcG9wdXAgZmllbGRzZXQud29ya2luZyAjc3RhdHVzX21lc3NhZ2Ugew0KICAgIGRpc3BsYXk6IGJsb2NrOw0KfQ0KI2NvbGxlY3RhbGxfcG9wdXAgZmllbGRzZXQud29ya2luZyAjc2V0dGluZ3NfY29uZiB7DQogICAgZGlzcGxheTogbm9uZTsNCn0NCiNjb2xsZWN0YWxsX3BvcHVwIHVsI2xpc3QtY2l0aWVzIHsNCiAgICBvdmVyZmxvdzogYXV0bzsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIG1hcmdpbjogNXB4Ow0KICAgIHBhZGRpbmc6IDBweDsNCiAgICBoZWlnaHQ6IDMzMHB4Ow0KfQ0KI2NvbGxlY3RhbGxfcG9wdXAgLmNpdHktY29udGVudCB7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzMyMzIzMjsNCiAgICBtYXJnaW46IDNweCAwOw0KICAgIHBhZGRpbmctbGVmdDogMzBweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTcxNzE3Ow0KfQ0KI2NvbGxlY3RhbGxfcG9wdXAgLmNpdHktY29udGVudCAjY29sbGVjdC1hbGwgew0KICAgIGZsb2F0OiByaWdodDsNCiAgICBtYXJnaW46IDVweDsNCiAgICBsaW5lLWhlaWdodDogMjVweDsNCiAgICBtaW4taGVpZ2h0OiAyN3B4Ow0KICAgIG1heC13aWR0aDogMTAwcHg7DQogICAgbWluLXdpZHRoOiAxMDBweDsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQp9DQojY29sbGVjdGFsbF9wb3B1cCAuY2l0eS1jb250ZW50IC5jaXR5LXRhc2ttYXN0ZXIgew0KICAgIGZsb2F0OiByaWdodDsNCiAgICBtYXJnaW46IDEwcHg7DQogICAgbWluLXdpZHRoOiAxNjBweDsNCn0NCiNjb2xsZWN0YWxsX3BvcHVwIC5jaXR5LWNvbnRlbnQgLmNpdHktdGFza21hc3RlciA+IHNwYW4gew0KICAgIG1hcmdpbi1yaWdodDogMTBweDsNCn0NCiNjb2xsZWN0YWxsX3BvcHVwIC5jaXR5LWNvbnRlbnQgLmNpdHktYWpheCB7DQogICAgZGlzcGxheTogbm9uZTsNCiAgICBtYXJnaW46IDEwcHggNTBweCAxMHB4IDBweDsNCiAgICB3aWR0aDogYXV0bzsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgcGFkZGluZy1sZWZ0OiAxOXB4Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCn0NCiNjb2xsZWN0YWxsX3BvcHVwIC5jaXR5LWNvbnRlbnQuY29sbGVjdGluZyAuY2l0eS1hamF4IHsNCiAgICBkaXNwbGF5OiBibG9jazsNCn0NCiNjb2xsZWN0YWxsX3BvcHVwIC5jaXR5LWNvbnRlbnQgLmNpdHktbmFtZSB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9UHJvcGVydGllc1YyL2Fzc2V0cy9BcnJvd1VuU2VsZWN0ZWQucG5nKSBuby1yZXBlYXQgMCA4cHg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIHBhZGRpbmc6IDhweCAwIDhweCAzMHB4Ow0KICAgIG1hcmdpbi1sZWZ0OiAtMjBweDsNCiAgICBmb250LXNpemU6IDE2cHg7DQogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCiAgICAvKmZsb2F0OiBsZWZ0OyovDQp9DQojY29sbGVjdGFsbF9wb3B1cCAuY2l0eS1jb250ZW50LmV4cGFuZGVkIC5jaXR5LW5hbWUgew0KICAgIGJhY2tncm91bmQ6IHVybCgke2Jhc2VfdXJsfVByb3BlcnRpZXNWMi9hc3NldHMvQXJyb3dTZWxlY3RlZC5wbmcpIG5vLXJlcGVhdCAtMXB4IDhweDsNCn0NCiNjb2xsZWN0YWxsX3BvcHVwIC5jaXR5LWNvbnRlbnQgLmNpdHktbmFtZSAuY2hlY2tib3ggew0KICAgIGZsb2F0OiByaWdodDsNCn0NCiNjb2xsZWN0YWxsX3BvcHVwIC5jaXR5LWNvbnRlbnQgLmNpdHktaXRlbXMgew0KICAgIGRpc3BsYXk6IG5vbmU7DQogICAgbWFyZ2luLWxlZnQ6IC0zMHB4Ow0KICAgIG1pbi1oZWlnaHQ6IDEwMHB4Ow0KfQ0KI2NvbGxlY3RhbGxfcG9wdXAgLmNpdHktY29udGVudC5leHBhbmRlZCAuY2l0eS1pdGVtcyB7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQojY29sbGVjdGFsbF9wb3B1cCAuY2l0eS1jb250ZW50IC5jaXR5LWl0ZW1zIGxpIHsNCiAgICBtaW4taGVpZ2h0OiAyMHB4Ow0KICAgIHBhZGRpbmc6IDZweCAxMDBweCAzcHggMTIwcHg7DQogICAgbWFyZ2luLWJvdHRvbTogNXB4Ow0KfQ0KI2NvbGxlY3RhbGxfcG9wdXAgLmNpdHktY29udGVudCAuY2l0eS1pdGVtcyBsaTpudGgtY2hpbGQob2RkKSB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzIzMjMyMzsNCn0NCiNjb2xsZWN0YWxsX3BvcHVwIC5jaXR5LWNvbnRlbnQgLmNpdHktaXRlbXMgbGkgPiBkaXYgew0KICAgIGZsb2F0OiBsZWZ0Ow0KfQ0KI2NvbGxlY3RhbGxfcG9wdXAgLmNpdHktY29udGVudCAuY2l0eS1pdGVtcyBsaSAubmFtZSB7DQogICAgcGFkZGluZy1sZWZ0OiAxOXB4Ow0KICAgIHdpZHRoOiAxMjVweDsNCn0NCiNjb2xsZWN0YWxsX3BvcHVwIC5jaXR5LWNvbnRlbnQgLmNpdHktaXRlbXMgbGkgLmFtb3VudCB7DQogICAgd2lkdGg6IDEwMHB4Ow0KfQ0KI2NvbGxlY3RhbGxfcG9wdXAgLmNpdHktY29udGVudCAuY2l0eS1pdGVtcyBsaSAuYWN0aW9uIHsNCiAgICBmbG9hdDogcmlnaHQ7DQp9DQojY29sbGVjdGFsbF9wb3B1cCAuY2l0eS1jb250ZW50IC5jaXR5LWl0ZW1zIGxpIC5yb2Itc3F1YWQgew0KICAgIGJhY2tncm91bmQ6IHVybCgke2Jhc2VfdXJsfVByb3BlcnRpZXNWMi9hc3NldHMvcm9ic3F1YWQucG5nKSBuby1yZXBlYXQ7DQogICAgaGVpZ2h0OiAxOHB4Ow0KfQ==");
Resources.add("config_popup_css","data:text/css;base64,I2NvbmZpZ19wb3B1cCAuZnJhbWVfYm94IHsNCglib3JkZXI6IDFweCBzb2xpZCAjNEY0RjRGOw0KCW1hcmdpbi1ib3R0b206IDIwcHg7DQoJcGFkZGluZzogMTBweDsNCgl0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KI2NvbmZpZ19wb3B1cCBkaXYuY2hlY2tib3ggew0KCWJhY2tncm91bmQ6IHVybCgke2Jhc2VfdXJsfWZsYWdzL213X21lc3NhZ2Vib3hfY2hlY2tib3gyX25vcm1hbGl6ZWQuZ2lmKSBuby1yZXBlYXQgc2Nyb2xsIDAlIDAlIHRyYW5zcGFyZW50Ow0KCXRleHQtYWxpZ246IGxlZnQ7DQoJbWFyZ2luLXRvcDogNHB4Ow0KCW1pbi1oZWlnaHQ6IDIwcHg7DQoJd2lkdGg6IGF1dG87IA0KCXBhZGRpbmctbGVmdDogMzBweDsgDQoJaGVpZ2h0OiAyMHB4Ow0KCWN1cnNvcjogcG9pbnRlcjsNCn0NCiNjb25maWdfcG9wdXAgZGl2LmNoZWNrYm94LmNoZWNrZWQgew0KCWJhY2tncm91bmQ6IHVybCgke2Jhc2VfdXJsfWZsYWdzL213X21lc3NhZ2Vib3hfY2hlY2tib3gxX25vcm1hbGl6ZWQuZ2lmKSBuby1yZXBlYXQgc2Nyb2xsIDAlIDAlIHRyYW5zcGFyZW50Ow0KfQ==");Resources.add("craftmanager_popup_css","data:text/css;base64,I2NyYWZ0bWFuYWdlcl9wb3B1cCB1bCwgDQojY3JhZnRtYW5hZ2VyX3BvcHVwIGxpLA0KI2NyYWZ0bWFuYWdlcl9wb3B1cCBwIHsNCiAgICBtYXJnaW46IDBweDsNCiAgICBwYWRkaW5nOiAwcHg7DQp9DQojY3JhZnRtYW5hZ2VyX3BvcHVwIC5wcm9wZXJ0eV9vdXRlciB7DQogICAgbWFyZ2luOiAycHg7DQp9DQojY3JhZnRtYW5hZ2VyX3BvcHVwIC5wcm9wZXJ0eV9pbm5lciB7DQogICAgYm9yZGVyOiB0aGluIHNvbGlkICMzMzM7DQogICAgcGFkZGluZzogNXB4Ow0KfQ0KI2NyYWZ0bWFuYWdlcl9wb3B1cCAucHJvcGVydHlfaW5uZXIgLm55X3Byb3BlcnR5X2ljb24gew0KICAgIGJhY2tncm91bmQtc2l6ZTogNzVweCBhdXRvOw0KICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiA3NXB4IGF1dG87DQogICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsNCn0NCiNjcmFmdG1hbmFnZXJfcG9wdXAgLnByb3BlcnR5X2lubmVyIC5ueV9wcm9wZXJ0eV9pY29uMiB7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogNXB4IC02MHB4Ow0KICAgIGJhY2tncm91bmQtc2l6ZTogNzVweCBhdXRvOw0KICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiA3NXB4IGF1dG87DQogICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsNCn0NCiNjcmFmdG1hbmFnZXJfcG9wdXAgLnByb3BlcnR5X2lubmVyIC5wcm9wZXJ0eV9pY29uIHsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1cHggLTEwcHg7DQogICAgYmFja2dyb3VuZC1zaXplOiA3NXB4IDc1cHg7DQogICAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IDc1cHggNzVweDsNCiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Ow0KfQ0KI2NyYWZ0bWFuYWdlcl9wb3B1cCAucHJvcGVydHlfaW5uZXIgZGl2LmJvZHkgew0KICAgIG1pbi1oZWlnaHQ6IDYycHg7DQogICAgcGFkZGluZzogMHB4IDgwcHggMHB4IDgwcHg7DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICBtYXgtaGVpZ2h0OiA2MnB4Ow0KfQ0KI2NyYWZ0bWFuYWdlcl9wb3B1cCAucHJvcGVydHlfaW5uZXIgZGl2LmJvZHkgaDQgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG1hcmdpbjogMnB4IDBweCAycHggMTBweDsNCn0NCiNjcmFmdG1hbmFnZXJfcG9wdXAgLnByb3BlcnR5X2lubmVyIGRpdi5ib2R5IGRpdi5jZG5fdGltZXIgew0KICAgIGZsb2F0OiByaWdodDsNCiAgICBtYXJnaW46IDJweCAzMHB4IDJweCAwcHg7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KfQ0KI2NyYWZ0bWFuYWdlcl9wb3B1cCAucHJvcGVydHlfaW5uZXIgZGl2LmJvZHkgcCB7DQogICAgbWFyZ2luOiAwcHg7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIHBhZGRpbmctdG9wOiAyM3B4Ow0KfQ0KI2NyYWZ0bWFuYWdlcl9wb3B1cCAucHJvcGVydHlfaW5uZXIgZGl2LmJ1dHRvbnMgew0KICAgIHBhZGRpbmctdG9wOiAycHg7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KfQ0KI2NyYWZ0bWFuYWdlcl9wb3B1cCAucHJvcGVydHlfaW5uZXIgZGl2LmJ1dHRvbnMgYSB7DQogICAgd2lkdGg6IDc1cHg7DQp9DQojY3JhZnRtYW5hZ2VyX3BvcHVwICNpdGVtX3JlcXVpcmVtZW50cyB7DQogICAgcGFkZGluZy1sZWZ0OiAyNXB4Ow0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgbWF4LWhlaWdodDogMjBweDsNCiAgICBoZWlnaHQ6IDE5cHg7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KfQ0KI2NyYWZ0bWFuYWdlcl9wb3B1cCAjaXRlbV9yZXF1aXJlbWVudHMgLnJlcV9maWVsZCB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgbWFyZ2luOiAwcHggMHB4IDBweCAxNXB4Ow0KfQ0KI2NyYWZ0bWFuYWdlcl9wb3B1cCAjaXRlbV9yZXF1aXJlbWVudHMgLnJlcV9maWVsZCBpbWcgew0KICAgIHdpZHRoOiAxOHB4Ow0KICAgIGhlaWdodDogMThweDsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtYXJnaW4tcmlnaHQ6IDJweDsNCn0NCiNjcmFmdG1hbmFnZXJfcG9wdXAgdWwgew0KICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsNCiAgICBvdmVyZmxvdzogYXV0bzsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KI2NyYWZ0bWFuYWdlcl9wb3B1cCAjY3JhZnRpbmdMb2dnZXIgbGkgew0KICAgIHBhZGRpbmc6IDNweDsNCiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgIzIyMjsNCiAgICBtYXJnaW46IDFweDsNCiAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50Ow0KICAgIGJhY2tncm91bmQtc2l6ZTogMThweCAhaW1wb3J0YW50Ow0KICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiAxOHB4ICFpbXBvcnRhbnQ7DQogICAgbWluLWhlaWdodDogMThweCAhaW1wb3J0YW50Ow0KICAgIGJhY2tncm91bmQtcG9zaXRpb246IDVweCA1MCU7DQp9DQojY3JhZnRtYW5hZ2VyX3BvcHVwICNjcmFmdGluZ0xvZ2dlciBsaSBwIHsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgcGFkZGluZy1sZWZ0OiAzMHB4Ow0KfQ0KI2NyYWZ0bWFuYWdlcl9wb3B1cCAjY3JhZnRfbWVzc2FnZXMgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIHdpZHRoOiA1NTBweDsNCiAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQp9DQojY3JhZnRtYW5hZ2VyX3BvcHVwIHVsLm11bHRpY2hlY2tib3ggew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM0RjRGNEY7DQogICAgbWluLWhlaWdodDogMTQwcHg7DQogICAgbWFyZ2luOiAwcHggYXV0byAxNXB4IGF1dG87DQogICAgb3ZlcmZsb3c6IGF1dG87DQogICAgcGFkZGluZzogNXB4Ow0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgd2lkdGg6IDYwJTsNCiAgICBoZWlnaHQ6IDIwMHB4Ow0KfQ0KI2NyYWZ0bWFuYWdlcl9wb3B1cCB1bC5tdWx0aWNoZWNrYm94IGxpIHsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjMkYyRjJGOw0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgcGFkZGluZzogNXB4IDBweCAycHggOHB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAyNXB4Ow0KfQ==");Resources.add("fightclubbuyer_popup_css","data:text/css;base64,I2ZpZ2h0Y2x1YmJ1eWVyX3BvcHVwIHNwYW4udG9rZW5zIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoIiR7YmFzZV91cmx9dmljdG9yeV9pY29uLmdpZiIpIDAgNTAlIG5vLXJlcGVhdDsNCiAgICBwYWRkaW5nLWxlZnQ6IDE2cHg7DQogICAgYmFja2dyb3VuZC1zaXplOiAxOHB4ICFpbXBvcnRhbnQ7DQogICAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IDE4cHggIWltcG9ydGFudDsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCBzcGFuLmZhdm9yIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoIiR7YmFzZV91cmx9L3YzL2ljb24tZ2YtY29pbi5naWYiKSAwIDUwJSBuby1yZXBlYXQ7DQogICAgcGFkZGluZy1sZWZ0OiAxNnB4Ow0KICAgIGJhY2tncm91bmQtc2l6ZTogMTRweCAhaW1wb3J0YW50Ow0KICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiAxNHB4ICFpbXBvcnRhbnQ7DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgI21haW5fd3JhcHBlciB7DQogICAgcGFkZGluZzogMnB4Ow0KICAgIG1hcmdpbjogNXB4Ow0KICAgIGJvcmRlcjogc29saWQgMXB4ICM2NjY7DQogICAgaGVpZ2h0OiA0NDBweDsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCB1bCB7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KICAgIG1hcmdpbjogMHB4Ow0KICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsNCiAgICBvdmVyZmxvdzogYXV0bzsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIHBhZGRpbmc6IDBweCA1cHg7DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgdWwjZmNfc2VsZWN0YWJsZSB7DQogICAgaGVpZ2h0OiAzODJweDsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCAjZmNfc2VsZWN0ZWQsDQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgI2ZjX2xvZyB7DQogICAgaGVpZ2h0OiAyNDhweDsNCiAgICBib3JkZXItdG9wOiBkb3R0ZWQgMXB4ICM2NjY7DQogICAgYm9yZGVyLWJvdHRvbTogZG90dGVkIDFweCAjNjY2Ow0KICAgIHBhZGRpbmctdG9wOiAxcHg7DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgI2ZjX2xvZyB7DQogICAgZGlzcGxheTogbm9uZTsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCAjZmNfbG9nIHRleHRhcmVhIHsNCiAgICB3aWR0aDogOTAlOw0KICAgIGhlaWdodDogMjAwcHg7DQogICAgbWFyZ2luLXRvcDogNXB4Ow0KICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KfQ0KI2ZpZ2h0Y2x1YmJ1eWVyX3BvcHVwIHVsI2ZjX3NlbGVjdGFibGUgbGkgew0KICAgIHBhZGRpbmc6IDNweDsNCiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzIyMjsNCiAgICBtYXJnaW46IDFweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDsNCiAgICBtaW4taGVpZ2h0OiAxOHB4ICFpbXBvcnRhbnQ7DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgI2ZjX3NlbGVjdGFibGUgbGk6aG92ZXIgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICMyMjI7DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgI2ZjX3NlbGVjdGFibGUgbGkuc2VsZWN0ZWQgew0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHllbGxvdzsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCAjZmNfc2VsZWN0ZWQgbGkgew0KICAgIHBhZGRpbmc6IDNweDsNCiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzIyMjsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCAjZmNfc2VsZWN0ZWQgbGkgZGl2LnJlbW92ZSB7DQogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7YmFzZV91cmx9cmVxdWVzdHMvY3Jvc3MucG5nKTsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgd2lkdGg6IDE2cHg7DQogICAgaGVpZ2h0OiAxNnB4Ow0KICAgIGN1cnNvcjogcG9pbnRlcjsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCAjZmNfc2VsZWN0ZWQgbGkgc3Bhbi5xdWFudGl0eSB7DQogICAgY29sb3I6IGdvbGQ7DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgdWwgbGkgaW1nIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICB3aWR0aDogMThweDsNCiAgICBoZWlnaHQ6IDE4cHg7DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgdWwgbGkgZGl2Lml0ZW1fbmFtZSB7DQogICAgbWFyZ2luOiAwcHggMHB4IDBweCA1cHg7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICBtYXgtaGVpZ2h0OiAyMHB4Ow0KICAgIG1heC13aWR0aDogMjYycHg7DQogICAgaGVpZ2h0OiAyMHB4Ow0KfQ0KI2ZpZ2h0Y2x1YmJ1eWVyX3BvcHVwIHVsIGxpIGRpdi5pdGVtX3N0YXRzIHsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgbGluZS1oZWlnaHQ6IDE4cHg7DQogICAgZm9udC1zaXplOiAxMXB4Ow0KfQ0KI2ZpZ2h0Y2x1YmJ1eWVyX3BvcHVwIHVsIGxpIGRpdi5pdGVtX3N0YXRzIHNwYW4gew0KICAgIG1hcmdpbi1yaWdodDogNXB4Ow0KICAgIHBhZGRpbmctbGVmdDogMTZweDsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCBkaXYubGVmdF93cmFwcGVyIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICB3aWR0aDogMzIwcHg7DQogICAgYm9yZGVyLXJpZ2h0OiBzb2xpZCAxcHggIzY2NjsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCBkaXYubGVmdF93cmFwcGVyICNkaXNhYmxlX292ZXJsYXkgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB6LWluZGV4OiAxOw0KICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOw0KICAgIG9wYWNpdHk6IDAuNDsNCiAgICB3aWR0aDogMzI1cHg7DQogICAgaGVpZ2h0OiA0MjFweDsNCiAgICBkaXNwbGF5OiBub25lOw0KfQ0KI2ZpZ2h0Y2x1YmJ1eWVyX3BvcHVwIGRpdi5yaWdodF93cmFwcGVyIHsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgd2lkdGg6IDMwMHB4Ow0KICAgIG1hcmdpbjogMnB4IDZweCAwcHggMnB4Ow0KfQ0KI2ZpZ2h0Y2x1YmJ1eWVyX3BvcHVwIGRpdi5zb3J0X2xpc3Qgew0KICAgIGJvcmRlci1ib3R0b206IDFweCBkb3R0ZWQgIzQ0NDsNCiAgICBwYWRkaW5nOiA1cHggMHB4Ow0KfQ0KI2ZpZ2h0Y2x1YmJ1eWVyX3BvcHVwIGRpdi5uZXdfbGluZSB7DQogICAgY2xlYXI6IGJvdGg7DQogICAgbWFyZ2luLXRvcDogNXB4DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgZGl2LnJpZ2h0X3dyYXBwZXIgI21vcmVfaW5mbyB7DQogICAgY2xlYXI6IGJvdGg7DQogICAgaGVpZ2h0OiA0MTBweDsNCiAgICBib3JkZXI6IGRvdHRlZCAxcHggIzY2NjsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCBkaXYucmlnaHRfd3JhcHBlciAjbW9yZV9pbmZvIGNlbnRlciB7DQogICAgcGFkZGluZy10b3A6IDRweDsNCiAgICB3aWR0aDogMjk4cHg7DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgZGl2LnJpZ2h0X3dyYXBwZXIgI21vcmVfaW5mbyAjaXRlbV9zdGF0c19vdXRlciB7DQogICAgd2lkdGg6IDI5OHB4Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgZGl2LnJpZ2h0X3dyYXBwZXIgI21vcmVfaW5mbyAjaXRlbV9zdGF0c19vdXRlciAjaXRlbV9uYW1lIHsNCiAgICBoZWlnaHQ6IDIwcHg7DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMyMjI7DQogICAgcGFkZGluZzogMHB4IDMwMHB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAyMnB4Ow0KICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogICAgcGFkZGluZzogMHB4IDMwMHB4Ow0KICAgIHdpZHRoOiAzMDBweDsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCBkaXYucmlnaHRfd3JhcHBlciAjbW9yZV9pbmZvICNpdGVtX3N0YXRzX291dGVyICNpdGVtX3N0YXRzX2lubmVyIHsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIGhlaWdodDogOTBweDsNCiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Ow0KICAgIGJhY2tncm91bmQtcG9zaXRpb246IDMxMHB4IDUwJTsNCiAgICBwYWRkaW5nOiAxMHB4IDMwMHB4IDBweCA0MDBweDsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgIHdpZHRoOiAyMTBweDsNCn0NCiNmaWdodGNsdWJidXllcl9wb3B1cCBkaXYucmlnaHRfd3JhcHBlciAjbW9yZV9pbmZvICNpdGVtX3N0YXRzX291dGVyICNpdGVtX3N0YXRzX2lubmVyLmNvbXBsZXRlZCB7DQogICAgcGFkZGluZy1sZWZ0OiAzNjBweDsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtiYXNlX3VybH0vaW1wdWxzZV9hcnJvd19hdHRhY2tfMDEucG5nKTsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAzMTBweCA1MCU7DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgLnRvcF9oZWFkZXIgew0KICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMzMzOw0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgaGVpZ2h0OiAyMHB4Ow0KICAgIG1heC1oZWlnaHQ6IDIwcHg7DQogICAgcGFkZGluZy1yaWdodDogMjBweDsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQp9DQojZmlnaHRjbHViYnV5ZXJfcG9wdXAgLnRvcF9oZWFkZXIgZGl2IHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtYXJnaW4tbGVmdDogMjBweA0KfQ0KI2ZpZ2h0Y2x1YmJ1eWVyX3BvcHVwIC50b3BfaGVhZGVyIHNwYW4gew0KICAgIG1hcmdpbi1sZWZ0OiA1cHgNCn0=");
Resources.add("freegiftscenter_popup_css","data:text/css;base64,I2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCBzcGFuLnBsYXllcl9waWMgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIHdpZHRoOiA1NHB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCBzcGFuLnBsYXllcl9waWMgc3BhbiB7DQogICAgYmFja2dyb3VuZDogdXJsKCIke2Jhc2VfdXJsfXYzL3VzZXJwaWNfb3V0bGluZV81NHg1NF8wMS5wbmciKSA1MCUgNTAlIG5vLXJlcGVhdDsNCiAgICBkaXNwbGF5OiBibG9jazsNCiAgICBoZWlnaHQ6IDU0cHg7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIC5mcmFtZV9ib3ggew0KICAgIGNsZWFyOiBib3RoOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICMzMzM7DQogICAgbWFyZ2luOiA1cHg7DQogICAgcGFkZGluZzogMTBweCA4cHg7DQogICAgbWluLWhlaWdodDogMjdweDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bCB7DQogICAgbGlzdC1zdHlsZS10eXBlOiBub25lOw0KICAgIG92ZXJmbG93OiBhdXRvOw0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLnRhYl9iYXIgew0KICAgIGJhY2tncm91bmQ6IHVybCgiJHtiYXNlX3VybH16bWMvdGFic19iZ18xeDQ1XzAxLmdpZiIpIDAgMTAwJSByZXBlYXQteDsNCiAgICBoZWlnaHQ6IDQ4cHg7DQogICAgb3ZlcmZsb3c6IHZpc2libGU7DQogICAgcGFkZGluZy1sZWZ0OiA2cHg7DQogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLnRhYl9iYXIgbGkgew0KICAgIGJhY2tncm91bmQ6IHVybCgiJHtiYXNlX3VybH16bWMvdGFiX2RpdmlkZXJfMngyN18wMS5naWYiKSAwIDExcHggbm8tcmVwZWF0Ow0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG1hcmdpbi1sZWZ0OiA1cHg7DQogICAgcGFkZGluZy1sZWZ0OiA2cHg7DQogICAgd2lkdGg6IDE1MHB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC50YWJfYmFyIGxpOmZpcnN0LWNoaWxkIHsNCiAgICBiYWNrZ3JvdW5kOiBub25lOw0KICAgIG1hcmdpbi1sZWZ0OiAwOw0KICAgIHBhZGRpbmctbGVmdDogMDsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgdWwudGFiX2JhciBsaSBhIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoIiR7YmFzZV91cmx9em1jL3RhYl9pbmFjdGl2ZV8xNTB4OTBfMDEucG5nIikgMCAwIG5vLXJlcGVhdDsNCiAgICBjb2xvcjogd2hpdGU7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgaGVpZ2h0OiA0NXB4Ow0KICAgIHBhZGRpbmctbGVmdDogM3B4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC50YWJfYmFyIGxpLmFjdGl2ZSBhIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoIiR7YmFzZV91cmx9em1jL3RhYl9hY3RpdmVfMTUweDEyMF8wMS5wbmciKSAtNHB4IDFweCBuby1yZXBlYXQ7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLnRhYl9iYXIgbGkgYSBzcGFuIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoIiR7YmFzZV91cmx9em1jL3RhYl9pbmFjdGl2ZV8xNTB4OTBfMDEucG5nIikgMTAwJSAxMDAlIG5vLXJlcGVhdDsNCiAgICBkaXNwbGF5OiBibG9jazsNCiAgICBoZWlnaHQ6IDQ1cHg7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLnRhYl9iYXIgbGkuYWN0aXZlIGEgc3BhbiB7DQogICAgYmFja2dyb3VuZDogdXJsKCIke2Jhc2VfdXJsfXptYy90YWJfYWN0aXZlXzE1MHgxMjBfMDEucG5nIikgMTAwJSAtNzVweCBuby1yZXBlYXQ7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLnRhYl9iYXIgbGkgZW0gew0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIGZvbnQtc2l6ZTogMTBweDsNCiAgICBmb250LXN0eWxlOiBub3JtYWw7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgbGluZS1oZWlnaHQ6IDEycHg7DQogICAgcGFkZGluZy10b3A6IDE2cHg7DQogICAgaGVpZ2h0OiAyMHB4Ow0KICAgIHBhZGRpbmctbGVmdDogMzVweDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC50YWJfYmFyIGxpLmNvbGxlY3RvciBlbSB7DQogICAgYmFja2dyb3VuZDogdXJsKCIke2Jhc2VfdXJsfXYzL2ljb25fc2hlZXRfMjV4MjRfMDEucG5nIikgMnB4IDEwcHggbm8tcmVwZWF0Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC50YWJfYmFyIGxpLnJlcXVlc3QgZW0gew0KYmFja2dyb3VuZDogdXJsKCIke2Jhc2VfdXJsfXYzL2ljb25fZ2lmdF8yN3gyOF8wMS5wbmciKSAycHggNXB4IG5vLXJlcGVhdDsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgdWwudGFiX2JhciBsaS5zZW5kZXIgZW0gew0KYmFja2dyb3VuZDogdXJsKCIke2Jhc2VfdXJsfXYzL2ljb25fc2VuZGdpZnRfMjJ4MTZfMDEuZ2lmIikgNXB4IDEzcHggbm8tcmVwZWF0Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCAjbWFzc19ib2R5IHVsLA0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCAjc2VuZF9ib2R5IHVsIHsNCiAgICBoZWlnaHQ6IDQ2MHB4Ow0KICAgIG1hcmdpbi10b3A6IDJweDsNCiAgICBib3JkZXI6IHNvbGlkIDFweCAjNjY2Ow0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgcGFkZGluZzogNXB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCAjbWFzc19ib2R5IHVsIGxpIGltZywNCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgI3NlbmRfYm9keSB1bCBsaSBpbWcgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIHdpZHRoOiAxOHB4Ow0KICAgIGhlaWdodDogMThweDsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgI21hc3NfYm9keSB1bCBsaSwNCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgI3NlbmRfYm9keSB1bCBsaSB7DQogICAgcGFkZGluZzogM3B4Ow0KICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjMjIyOw0KICAgIG1hcmdpbjogMXB4Ow0KICAgIHdpZHRoOiBhdXRvICFpbXBvcnRhbnQ7DQogICAgYmFja2dyb3VuZC1zaXplOiAxOHB4ICFpbXBvcnRhbnQ7DQogICAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IDE4cHggIWltcG9ydGFudDsNCiAgICBtaW4taGVpZ2h0OiAxOHB4ICFpbXBvcnRhbnQ7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogNXB4IDUwJTsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgdWwjbXNzX3N1Y2Nlc3Nsb2cgbGkgaDQgew0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICBsaW5lLWhlaWdodDogMThweDsNCiAgICBtYXJnaW4tYm90dG9tOiA0cHg7DQogICAgcGFkZGluZy10b3A6IDJweDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIGNvbG9yOiAjRkZEOTI3Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bCNtc3Nfc3VjY2Vzc2xvZyBsaSBwIHsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgbWluLWhlaWdodDogMzVweDsNCiAgICBwYWRkaW5nLWxlZnQ6IDQwcHg7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsI21zc19tZXNzYWdlbG9nIGxpIHAgew0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICBoZWlnaHQ6IDIwcHg7DQogICAgcGFkZGluZy1sZWZ0OiAzMHB4Ow0KICAgIG1hcmdpbi1ib3R0b206IDFweDsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgI21hc3NfYm9keSAjbXNzX21lc3NhZ2VzIHsNCiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7DQogICAgZGlzcGxheTogbm9uZTsNCiAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50Ow0KICAgIGxpbmUtaGVpZ2h0OiAzMHB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCAjc2VuZF9ib2R5IHVsIGxpIGltZyB7DQogICAgbWFyZ2luLXJpZ2h0OiA1cHg7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwICNzZW5kX2JvZHkgdWwuc25kX3NlbGVjdGFibGUgbGkgZGl2IHsNCiAgICB3aWR0aDogMjMwcHg7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwICNzZW5kX2JvZHkgdWwuc25kX3NlbGVjdGFibGUgbGkgaW5wdXQgew0KICAgIG9wYWNpdHk6IDAuNDsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgd2lkdGg6IDMwcHg7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwICNzZW5kX2JvZHkgdWwuc25kX3NlbGVjdGFibGUgbGk6aG92ZXIgaW5wdXQgew0KICAgIG9wYWNpdHk6IDE7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsI21zc19zdWNjZXNzbG9nIGxpIGltZyB7DQogICAgbWFyZ2luLXJpZ2h0OiA1cHg7DQogICAgaGVpZ2h0OiAzMHB4Ow0KICAgIHdpZHRoOiAzMHB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCAjc2VuZF9ib2R5ICNzbmRfbWVzc2FnZXMgew0KICAgIG1pbi1oZWlnaHQ6IDgwcHg7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICBtYXgtaGVpZ2h0OiA4MHB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCAjc2VuZF9ib2R5ICNzbmRfbWVzc2FnZXMgZGl2IHsNCiAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50Ow0KICAgIGJhY2tncm91bmQtc2l6ZTogMThweCAhaW1wb3J0YW50Ow0KICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiAxOHB4ICFpbXBvcnRhbnQ7DQogICAgbWluLWhlaWdodDogMThweCAhaW1wb3J0YW50Ow0KICAgIGJhY2tncm91bmQtcG9zaXRpb246IDBweCA1MCU7DQogICAgcGFkZGluZzogMnB4IDVweCAycHggMjBweDsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgI21hc3NfYm9keSBkaXYubGlfd3JhcHBlciwNCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgI3NlbmRfYm9keSBkaXYubGlfd3JhcHBlciB7DQogICAgd2lkdGg6IDM0NHB4Ow0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG1hcmdpbjogMnB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCAjbWFzc19ib2R5IHVsI21zc19zdWNjZXNzbG9nIGxpIGltZyB7DQogICAgd2lkdGg6IDMycHg7DQogICAgaGVpZ2h0OiAzMnB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCAjbWFzc19ib2R5IHVsLm1zc19zZWxlY3RhYmxlIGxpIHsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwICNtYXNzX2JvZHkgdWwubXNzX3NlbGVjdGFibGUgbGkuc2VsZWN0ZWQsDQojZnJlZWdpZnRzY2VudGVyX3BvcHVwICNzZW5kX2JvZHkgdWwuc25kX3NlbGVjdGFibGUgbGkuc2VsZWN0ZWQgew0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHllbGxvdzsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgI21hc3NfYm9keSB1bC5tc3Nfc2VsZWN0YWJsZSBsaTpob3ZlciwNCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgI3NlbmRfYm9keSB1bC5zbmRfc2VsZWN0YWJsZSBsaTpob3ZlciB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMzsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgdWwgbGkgZGl2LmdpZnRfbmFtZSB7DQogICAgbWFyZ2luOiAwcHggMHB4IDBweCA1cHg7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICBtYXgtaGVpZ2h0OiAyMHB4Ow0KICAgIG1heC13aWR0aDogMjYycHg7DQogICAgaGVpZ2h0OiAyMHB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bCBsaSBkaXYuZ2lmdF9hbW91bnQgew0KICAgIG1hcmdpbjogMHB4IDNweCAwcHggOHB4Ow0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgbWF4LWhlaWdodDogMjBweDsNCiAgICBtYXgtd2lkdGg6IDMwcHg7DQogICAgbWluLXdpZHRoOiAyMHB4Ow0KICAgIGNvbG9yOiB5ZWxsb3c7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwICNtYXNzX2JvZHkgdWwubXNzX3NlbGVjdGVkIGxpIGRpdi5xdWFudGl0eSB7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KICAgIG1hcmdpbi1yaWdodDogMTBweDsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgI21hc3NfYm9keSB1bC5tc3Nfc2VsZWN0ZWQgbGkgZGl2LnF1YW50aXR5IGlucHV0IHsNCiAgICBmb250LXdlaWdodDogYm9sZDsgDQogICAgY29sb3I6IHJnYigyMDgsIDIwOCwgMjA4KTsgDQogICAgYm9yZGVyOiAxcHggc29saWQgcmdiKDE1MywgMTUzLCAxNTMpOyANCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsgDQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIHdpZHRoOiAzMHB4Ow0KICAgIGhlaWdodDogMTVweDsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgI21hc3NfYm9keSB1bC5tc3Nfc2VsZWN0ZWQgbGkgYSB7DQogICAgbWFyZ2luLWxlZnQ6IDJweDsNCiAgICBmbG9hdDogcmlnaHQ7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwICNtYXNzX2JvZHkgdWwubXNzX3NlbGVjdGVkIGxpIC5yZW1vdmUgew0KICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwOi8vbXdmYi5zdGF0aWMuenluZ2EuY29tL213ZmIvZ3JhcGhpY3MvcmVxdWVzdHMvY3Jvc3MucG5nKTsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgd2lkdGg6IDE2cHg7DQogICAgaGVpZ2h0OiAxNnB4Ow0KICAgIGN1cnNvcjogcG9pbnRlcjsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgLnRvcF9jdHJsIHsNCiAgICBib3JkZXI6IHNvbGlkIDFweCAjNjY2Ow0KICAgIGhlaWdodDogMjBweDsNCiAgICBwYWRkaW5nOiA1cHg7DQogICAgbWFyZ2luLXRvcDogMnB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCAudG9wX2N0cmwgYSB7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KICAgIG1hcmdpbi1sZWZ0OiA1cHg7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIC5zdGFydF9jdHJsIHsNCiAgICBoZWlnaHQ6IDM3cHg7DQogICAgYm9yZGVyOiBzb2xpZCAxcHggIzY2NjsNCiAgICBtYXJnaW4tdG9wOiAycHg7DQogICAgcGFkZGluZy10b3A6IDNweDsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgLnN0YXJ0X2N0cmwgYSB7DQogICAgbWFyZ2luLXJpZ2h0OiAxMHB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGRpdi5saV93cmFwcGVyIHsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzIyMjsNCiAgICBwYWRkaW5nOiA2cHggMTRweCAwIDUycHg7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLnJlcV9ib3ggbGk6Zmlyc3QtY2hpbGQgew0KICAgIGJvcmRlci13aWR0aDogMHB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGxpIHsNCiAgICBtaW4taGVpZ2h0OiA3NnB4Ow0KICAgIG1heC1oZWlnaHQ6IDE2MHB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGxpLmdpZnQgew0KICAgIGJhY2tncm91bmQ6IHVybCgiJHtiYXNlX3VybH12My9pY29uX2dpZnRfMjd4MjhfMDEucG5nIikgMTdweCAyMHB4IG5vLXJlcGVhdDsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgdWwucmVxX2JveCBsaS5tYWZpYV9pbnZpdGUgew0KICAgIGJhY2tncm91bmQ6IHVybCgiJHtiYXNlX3VybH12My9pY29uX21hZmlhX2hhdF8zMngyNV8wMS5wbmciKSAxNHB4IDIwcHggbm8tcmVwZWF0Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGxpLmVuZXJneV9wYWNrIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoIiR7YmFzZV91cmx9djMvaWNvbl9lbmVyZ3lfcGFja18yOXgyN18wMS5wbmciKSAxNnB4IDIwcHggbm8tcmVwZWF0Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGxpLmhlbHAgew0KICAgIGJhY2tncm91bmQ6IHVybCgiJHtiYXNlX3VybH1tYXBfYmFzZWRfam9icy9leHBlcnRfdmlldy9pY29uX21lZ2FwaG9uZS5wbmciKSAxN3B4IDIwcHggbm8tcmVwZWF0Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGxpLmZhbWlseSB7DQogICAgYmFja2dyb3VuZDogdXJsKCIke2Jhc2VfdXJsfXYzL0ZhbWlseV9aTUNfSWNvbi5wbmciKSAxNXB4IDIwcHggbm8tcmVwZWF0ICFpbXBvcnRhbnQ7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLm1hZmlhX2ludml0ZSBsaSB7DQogICAgZGlzcGxheTogbm9uZTsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgdWwubWFmaWFfaW52aXRlIGxpLm1hZmlhX2ludml0ZSB7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLmdpZnQgbGkgew0KICAgIGRpc3BsYXk6IG5vbmU7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLmdpZnQgbGkuZ2lmdCB7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLmVuZXJneV9wYWNrIGxpIHsNCiAgICBkaXNwbGF5OiBub25lOw0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5lbmVyZ3lfcGFjayBsaS5lbmVyZ3lfcGFjayB7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLnNhZmVob3VzZSBsaSB7DQogICAgZGlzcGxheTogbm9uZTsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgdWwuc2FmZWhvdXNlIGxpLnNhZmVob3VzZSB7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLmhlbHAgbGkgew0KICAgIGRpc3BsYXk6IG5vbmU7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLmhlbHAgbGkuaGVscCB7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLmZhbWlseSB7DQogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgdWwuZmFtaWx5IGxpIHsNCiAgICBkaXNwbGF5OiBub25lOw0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5mYW1pbHkgbGkuZmFtaWx5IHsNCiAgICBkaXNwbGF5OiBibG9jazsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgdWwuc2VhcmNoIGxpIHsNCiAgICBkaXNwbGF5OiBub25lOw0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5zZWFyY2ggbGkubWF0Y2hlZCB7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLnJlcV9ib3ggbGkgZGl2LmJ1dHRvbnMgew0KICAgIGZsb2F0OiByaWdodDsNCiAgICBmb250LXNpemU6IDEwcHg7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgbWFyZ2luOiAzcHggMHB4IDBweCAxNHB4Ow0KICAgIHRleHQtYWxpZ246IHJpZ2h0Ow0KICAgIHdpZHRoOiA3MHB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGxpIGRpdi5ib2R5IHsNCiAgICBtYXJnaW4tcmlnaHQ6IDEwMHB4Ow0KICAgIG1hcmdpbi1sZWZ0OiA2NXB4Ow0KICAgIG1pbi1oZWlnaHQ6IDYwcHg7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGxpIGRpdi5ib2R5ICNsb2FkaW5nX292ZXJsYXkgaW1nIHsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgYm90dG9tOiAtM3B4Ow0KICAgIG1hcmdpbi1yaWdodDogNXB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGxpIGg0IHsNCiAgICBmb250LXNpemU6IDE0cHg7DQogICAgbGluZS1oZWlnaHQ6IDE4cHg7DQogICAgbWFyZ2luLWJvdHRvbTogNHB4Ow0KICAgIHBhZGRpbmctdG9wOiAycHg7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLnJlcV9ib3ggbGkgcCB7DQogICAgbGluZS1oZWlnaHQ6IDE1cHg7DQogICAgbWFyZ2luLWJvdHRvbTogNXB4Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGxpLmZhaWxlZCBwIHsNCiAgICBjb2xvcjogcmVkOw0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGxpLmFza2luZyBwIHsNCiAgICBjb2xvcjogeWVsbG93Ow0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bC5yZXFfYm94IGxpIGltZyB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgbWF4LXdpZHRoOiA1NHB4Ow0KICAgIG1heC1oZWlnaHQ6IDU0cHg7DQogICAgbWFyZ2luLXJpZ2h0OiA1cHg7DQp9DQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLnJlcV9ib3ggbGkgZGl2LmJ1dHRvbnMgYS5zZXh5X2J1dHRvbl9uZXcgew0KICAgIG1hcmdpbi1ib3R0b206IDZweDsNCn0NCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgdWwucmVxX2JveCBsaSBkaXYuYnV0dG9ucyBhLmlnbm9yZSwNCiNmcmVlZ2lmdHNjZW50ZXJfcG9wdXAgdWwucmVxX2JveCBsaSBkaXYuYnV0dG9ucyBhLmFjY2VwdG9ubHksDQojZnJlZWdpZnRzY2VudGVyX3BvcHVwIHVsLnJlcV9ib3ggbGkgZGl2LmJ1dHRvbnMgYS50aGFua3Nvbmx5IHsNCiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KfQ0KI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCB1bCwgI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCBsaSwgI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCBkbCwgI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCBkdCwgI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCBkZCwgI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCBoMiwgI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCBoMywgI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCBoNCwgI2ZyZWVnaWZ0c2NlbnRlcl9wb3B1cCBwIHsNCiAgICBtYXJnaW46IDBweDsNCiAgICBwYWRkaW5nOiAwcHg7DQp9");
Resources.add("friend_selection_popup_css","data:text/css;base64,I2ZyaWVuZF9zZWxlY3Rpb25fcG9wdXAgI21mc19jb250YWluZXIgew0KICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50Ow0KICAgIHdpZHRoOiBhdXRvOw0KICAgIGhlaWdodDogNTQycHg7DQogICAgbWFyZ2luOiAxMHB4IGF1dG87DQp9DQojZnJpZW5kX3NlbGVjdGlvbl9wb3B1cCAjbWZzX2NvbnRhaW5lciAubWZzX291dGVyIHsNCiAgICBib3JkZXI6IDJweCBncm9vdmUgIzQ0NDsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgbWFyZ2luOiAwcHggMHB4IDBweCAxMnB4Ow0KICAgIHdpZHRoOiA2NzVweDsNCiAgICBoZWlnaHQ6IDUyMHB4Ow0KICAgIGJhY2tncm91bmQ6IGJsYWNrOw0KICAgIG9wYWNpdHk6IDAuNjsNCiAgICB0b3A6IDYwcHg7DQogICAgLW1vei1ib3JkZXItcmFkaXVzOiA4cHg7DQogICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogOHB4Ow0KfQ0KI2ZyaWVuZF9zZWxlY3Rpb25fcG9wdXAgI21mc19jb250YWluZXIgLm1mc19pbm5lciB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGhlaWdodDogNTYwcHg7DQp9DQojZnJpZW5kX3NlbGVjdGlvbl9wb3B1cCAjbWZzX2NvbnRhaW5lciBkaXYubWZzIHsNCiAgICB3aWR0aDogMzExcHg7DQogICAgaGVpZ2h0OiA0MDlweDsNCiAgICBtYXJnaW4tbGVmdDogMTVweDsNCiAgICBwYWRkaW5nOiAxMHB4Ow0KICAgIGJhY2tncm91bmQ6IHVybCgke2Jhc2VfdXJsfS9yZXF1ZXN0cy9NRlNfYmFjay5wbmcpIGxlZnQgdG9wIG5vLXJlcGVhdDsNCn0NCiNmcmllbmRfc2VsZWN0aW9uX3BvcHVwICNtZnNfY29udGFpbmVyIGRpdi5tZnNfbmFtZV9maWx0ZXJfY29udGFpbmVyIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH0vcmVxdWVzdHMvYXJyb3cucG5nKSAxNXB4IDhweCBuby1yZXBlYXQ7DQogICAgcGFkZGluZzogNXB4IDEwcHggNXB4IDQwcHg7DQp9DQojZnJpZW5kX3NlbGVjdGlvbl9wb3B1cCAjbWZzX2NvbnRhaW5lciBkaXYubWZzX25hbWVfdGl0bGVfY29udGFpbmVyIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH0vcmVxdWVzdHMvYXJyb3cucG5nKSAxNXB4IDhweCBuby1yZXBlYXQ7DQogICAgcGFkZGluZzogMTNweCAxMHB4IDVweCAxMDBweDsNCiAgICBjb2xvcjogI0ZDMDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KI2ZyaWVuZF9zZWxlY3Rpb25fcG9wdXAgI21mc19jb250YWluZXIgLm1mc19uYW1lX2ZpbHRlcl9ib3ggew0KICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50Ow0KICAgIGNvbG9yOiB3aGl0ZTsNCiAgICBmb250LXNpemU6IDEzcHg7DQogICAgaGVpZ2h0OiAyNXB4Ow0KICAgIHdpZHRoOiAyNjBweDsNCiAgICBib3JkZXI6IG5vbmU7DQp9DQojZnJpZW5kX3NlbGVjdGlvbl9wb3B1cCAjbWZzX2NvbnRhaW5lciBkaXYubGluZSB7DQogICAgaGVpZ2h0OiAycHg7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9L3JlcXVlc3RzL2xpbmUucG5nKSA1MCUgNTAlIG5vLXJlcGVhdDsNCiAgICBib3JkZXI6IG5vbmU7DQp9DQojZnJpZW5kX3NlbGVjdGlvbl9wb3B1cCAjbWZzX2NvbnRhaW5lciBkaXYubWZzX3NlbGVjdGFibGUsDQojZnJpZW5kX3NlbGVjdGlvbl9wb3B1cCAjbWZzX2NvbnRhaW5lciBkaXYubWZzX3NlbGVjdGVkIHsNCiAgICBvdmVyZmxvdzogYXV0bzsNCiAgICBtYXJnaW46IDEwcHggNXB4Ow0KICAgIGhlaWdodDogMzAwcHg7DQp9DQojZnJpZW5kX3NlbGVjdGlvbl9wb3B1cCBkaXYubWZzX3NlbGVjdGVkIHVsLCAjZnJpZW5kX3NlbGVjdGlvbl9wb3B1cCBkaXYubWZzX3NlbGVjdGFibGUgdWwgew0KICAgIG1hcmdpbjogMDsNCiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7DQp9DQojZnJpZW5kX3NlbGVjdGlvbl9wb3B1cCBkaXYubWZzX3NlbGVjdGFibGUgLm1mc19hZGQgew0KICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH0vcmVxdWVzdHMvcGx1cy5wbmcpIDFweCAycHggbm8tcmVwZWF0Ow0KICAgIHBhZGRpbmctbGVmdDogMjBweDsNCiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCn0NCiNmcmllbmRfc2VsZWN0aW9uX3BvcHVwIGRpdi5tZnNfc2VsZWN0YWJsZSAubWZzX2FkZC5pc19hZGRlZCwNCiNmcmllbmRfc2VsZWN0aW9uX3BvcHVwIGRpdi5tZnNfc2VsZWN0YWJsZSAubWZzX2FkZC5pc19oaWRkZW4gew0KICAgIGRpc3BsYXk6IG5vbmU7DQp9DQojZnJpZW5kX3NlbGVjdGlvbl9wb3B1cCBkaXYubWZzX3NlbGVjdGFibGUgLm1mc19hZGQ6aG92ZXIgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICMyNDI0MjQ7DQp9DQojZnJpZW5kX3NlbGVjdGlvbl9wb3B1cCBkaXYubWZzX3NlbGVjdGVkIC5tZnNfcmVtb3ZlIHsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9L3JlcXVlc3RzL2Nyb3NzLnBuZykgMXB4IDJweCBuby1yZXBlYXQ7DQogICAgcGFkZGluZy1sZWZ0OiAyMHB4Ow0KICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KI2ZyaWVuZF9zZWxlY3Rpb25fcG9wdXAgZGl2Lm1mc19zZWxlY3RlZCAubWZzX3JlbW92ZTpob3ZlciB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzI0MjQyNDsNCn0NCiNmcmllbmRfc2VsZWN0aW9uX3BvcHVwIGRpdi5tZnNfYnV0dG9ucyB7DQogICAgdGV4dC1hbGlnbjogcmlnaHQ7DQogICAgbWFyZ2luOiAyMHB4IDQwcHggMCAwOw0KfQ==");Resources.add("global_css","data:text/css;base64,I2ZibXdfYWRkb25fcG9wdXAgLnBvcF9ib3ggaW5wdXQsDQojZmJtd19hZGRvbl9wb3B1cCAucG9wX2JveCB0ZXh0YXJlYSwNCiNmYm13X2FkZG9uX3BvcHVwIC5wb3BfYm94IHNlbGVjdCwNCiNtd2FfY29udGV4dHVhbCBpbnB1dCwNCiNtd2FfY29udGV4dHVhbCBzZWxlY3Qgew0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgIGNvbG9yOiAjRDBEMEQwOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7DQogICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7DQogICAgLW1vei1ib3JkZXItcmFkaXVzOiAzcHg7DQogICAgYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICBsaW5lLWhlaWdodDogMTRweDsNCiAgICBtaW4taGVpZ2h0OiAxMHB4Ow0KfQ0KI2ZibXdfYWRkb25fcG9wdXAgbGFiZWwgaW5wdXQsIA0KI2ZibXdfYWRkb25fcG9wdXAgbGFiZWwgc2VsZWN0LCANCiNmYm13X2FkZG9uX3BvcHVwIGxhYmVsIHRleHRhcmVhIHsNCiAgICBtYXJnaW4tbGVmdDogNHB4Ow0KfQ0KI2ZibXdfYWRkb25fcG9wdXAgbGFiZWwgew0KICAgIG1hcmdpbi1yaWdodDogNHB4Ow0KfQ0KI2ZibXdfYWRkb25fcG9wdXAgLmNoZWNrYm94IHsNCiAgICBtYXJnaW4tcmlnaHQ6IDVweDsNCn0NCiNtd2FfY29udGV4dHVhbCAubXdhX2NvbnRleHR1YWxfdGl0bGUgew0KICAgIGNvbG9yOiBnb2xkOw0KICAgIGZvbnQtc2l6ZTogMThweDsNCiAgICBsaW5lLWhlaWdodDogMzBweDsNCn0NCi5jc3NfcmlnaHQgew0KICAgIGZsb2F0OiByaWdodDsNCn0NCi5jc3NfbGVmdCB7DQogICAgZmxvYXQ6IGxlZnQ7DQp9DQoNCiNtd2Ffb3ZlcmxheV9wb3AgI213YV9vdmVybGF5X3BvcF9iZyB7DQogICAgei1pbmRleDogMjAwMDA7DQp9DQojbXdhX292ZXJsYXlfcG9wICNtd2Ffb3ZlcmxheV9wb3BfYm94IHsNCiAgICB0b3A6IDEwMHB4Ow0KICAgIHotaW5kZXg6IDIwMDAxOw0KfQ0KI213YV9vdmVybGF5X3BvcCAjbXdhX292ZXJsYXlfcG9wX2JveC5maXhlZC1wb3NpdGlvbiB7DQogICAgdG9wOiAxMTVweDsNCiAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgbWFyZ2luOiAwcHggYXV0byAhaW1wb3J0YW50Ow0KICAgIGxlZnQ6IDBweCAhaW1wb3J0YW50Ow0KICAgIHJpZ2h0OiAwcHggIWltcG9ydGFudDsNCn0NCg0KLnVpLXNleHktYnV0dG9uIHsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjQjdCN0I3Ow0KICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgIC1tb3otYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDNweDsNCiAgICBwYWRkaW5nOiAwcHg7DQogICAgdGV4dC1zaGFkb3c6IC0xcHggLTFweCAwIHJnYmEoMCwgMCwgMCwgMC4zKTsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgY29sb3I6IGJsYWNrOw0KICAgIG1pbi13aWR0aDogMzBweDsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgIGRpc3BsYXk6IGlubGluZTsNCiAgICBtYXJnaW4tcmlnaHQ6IDJweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodEdyZXk7DQogICAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCBsaWdodEdyZXksICM3MDcwNzApOw0KICAgIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgbGlnaHRHcmV5LCAjNzA3MDcwKTsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgbGlnaHRHcmV5LCAjNzA3MDcwKTsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCBsaWdodEdyZXksICM3MDcwNzApOw0KICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0b3AsIGxpZ2h0R3JleSwgIzcwNzA3MCk7DQp9DQoudWktc2V4eS1idXR0b24udWktc2V4eS1ncmVlbiB7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzU3OTEwMDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTc5MTAwOw0KICAgIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI0M2Rjc3QywgIzNCNjYwMyk7DQogICAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjQzZGNzdDLCAjM0I2NjAzKTsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI0M2Rjc3QywgIzNCNjYwMyk7DQogICAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI0M2Rjc3QywgIzNCNjYwMyk7DQogICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvcCwgI0M2Rjc3QywgIzNCNjYwMyk7DQp9DQoudWktc2V4eS1idXR0b24udWktc2V4eS1vcmFuZ2Ugew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZjdiMDA7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmN2IwMDsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2U1N2UsICNmZjk5MDApOw0KICAgIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZTU3ZSwgI2ZmOTkwMCk7DQogICAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2U1N2UsICNmZjk5MDApOw0KICAgIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2U1N2UsICNmZjk5MDApOw0KICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0b3AsICNmY2U1N2UsICNmZjk5MDApOw0KfQ0KLnVpLXNleHktYnV0dG9uLnVpLXNleHktcmVkIHsNCiAgICBjb2xvcjogd2hpdGU7DQogICAgYm9yZGVyOiAxcHggc29saWQgI2I4MTIwMDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjgxMjAwOw0KICAgIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmNjQ0ZiwgIzdkMDgwMCk7DQogICAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmY2NDRmLCAjN2QwODAwKTsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmNjQ0ZiwgIzdkMDgwMCk7DQogICAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmNjQ0ZiwgIzdkMDgwMCk7DQogICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmNjQ0ZiwgIzdkMDgwMCk7DQp9DQoudWktc2V4eS1idXR0b246aG92ZXIgew0KICAgIG9wYWNpdHk6IDAuODsNCiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQp9DQoudWktc2V4eS1idXR0b24gPiBzcGFuID4gc3BhbiB7DQogICAgcGFkZGluZzogMXB4IDRweCAxcHg7DQogICAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnTHVjaWRhIEdyYW5kZScsIFRhaG9tYSwgVmVyZGFuYSwgQXJpYWwsIHNhbnMtc2VyaWY7DQogICAgZm9udC1zaXplOiAxMHB4Ow0KICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQogICAgbGluZS1oZWlnaHQ6IDEuNDsNCn0NCi51aS1idXR0b24udWktY29ybmVyLWFsbCB7DQogICAgLW1vei1ib3JkZXItcmFkaXVzOiAzcHg7DQogICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAzcHg7DQogICAgYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgIGZsb2F0OiBub25lOw0KICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1Ow0KICAgIHBhZGRpbmc6IDA7DQp9DQoudWktYnV0dG9uID4gLnVpLWJ1dHRvbi10ZXh0IHsNCiAgICBwYWRkaW5nOiAxcHggNHB4IDFweDsNCiAgICBmb250LWZhbWlseTogJ1RyZWJ1Y2hldCBNUycsICdMdWNpZGEgR3JhbmRlJywgVGFob21hLCBWZXJkYW5hLCBBcmlhbCwgc2Fucy1zZXJpZjsNCiAgICBmb250LXNpemU6IDEwcHg7DQogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCiAgICBsaW5lLWhlaWdodDogMS40Ow0KfQ0KDQoudWktbXVsdGktY2hlY2tib3ggew0KICAgIG1hcmdpbjogMHB4IDJweDsNCiAgICBoZWlnaHQ6IDE4cHg7DQogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgIHdpZHRoOiAxNDBweDsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICBjb2xvcjogI0QwRDBEMDsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjOTk5Ow0KICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOw0KICAgIC1tb3otYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDNweDsNCiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDNweDsNCiAgICBmb250LXNpemU6IDEzcHg7DQogICAgZm9udC1mYW1pbHk6IEFyaWFsOw0KICAgIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KfQ0KLnVpLW11bHRpLWNoZWNrYm94IC51aS1tdWx0aS1idXR0b24gew0KICAgIHdpZHRoOiAxN3B4Ow0KICAgIGZsb2F0OiByaWdodDsNCiAgICBtaW4td2lkdGg6IDE3cHg7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJSA1MCU7DQp9DQoudWktbXVsdGktY2hlY2tib3gudWktbXVsdGktb3ZlciAudWktbXVsdGktYnV0dG9uIHsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwJSA1MCU7DQp9DQoudWktbXVsdGktY2hlY2tib3ggLnVpLW11bHRpLW91dGVyIHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQp9DQoudWktbXVsdGktY2hlY2tib3ggLnVpLW11bHRpLWN0cmwgew0KICAgIHBhZGRpbmc6IDBweCAycHggMHB4IDJweDsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgIHdpZHRoOiAxMTBweDsNCiAgICBwYWRkaW5nOiAwcHggMnB4IDBweCAycHg7DQogICAgY3Vyc29yOiBkZWZhdWx0Ow0KICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lOw0KICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgLW8tdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgdXNlci1zZWxlY3Q6IG5vbmU7DQp9DQoudWktbXVsdGktY2hlY2tib3ggLnVpLW11bHRpLW1lbnUgew0KICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgIzk5OTsNCiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjOTk5Ow0KICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjOTk5Ow0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB6LWluZGV4OiAxOw0KICAgIGJhY2tncm91bmQ6IG5vbmUgcmVwZWF0IHNjcm9sbCAwJSAwJSBibGFjazsNCiAgICBkaXNwbGF5OiBub25lOw0KfQ0KLnVpLW11bHRpLWNoZWNrYm94LnVpLW11bHRpLW92ZXIgLnVpLW11bHRpLW1lbnUgew0KICAgIGRpc3BsYXk6IGJsb2NrOw0KfQ0KLnVpLW11bHRpLWNoZWNrYm94IC51aS1tdWx0aS1tZW51IC5jaGVja2JveCB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7DQp9DQoudWktbXVsdGktY2hlY2tib3ggLnVpLW11bHRpLW1lbnUgLmNoZWNrYm94OmhvdmVyIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0Ow0KfQ0KLnVpLW11bHRpLWNoZWNrYm94IC51aS1tdWx0aS1tZW51IC51aS1tdWx0aS10b3Agew0KICAgIG1pbi1oZWlnaHQ6IDIwcHg7DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGdyZXk7DQogICAgcGFkZGluZzogMHB4IDJweDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQoudWktbXVsdGktY2hlY2tib3ggLnVpLW11bHRpLW1lbnUgLnVpLW11bHRpLXRvcCBhIHsNCiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KICAgIGZvbnQtc2l6ZTogOHB4Ow0KICAgIG1hcmdpbjogMHB4IDVweDsNCn0NCg0KDQojdWktZGF0ZXBpY2tlci1kaXYgew0KCWZvbnQtc2l6ZTogMTFweDsNCn0NCnRhYmxlLnVpLWRhdGVwaWNrZXItY2FsZW5kYXIgdGQgew0KCWZvbnQtc2l6ZTogLjllbTsNCn0NCiN0aW55X25vdGlmeSB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHdpZHRoOiA3MCU7DQogICAgbWluLWhlaWdodDogMjBweDsNCiAgICB0b3A6IDBweDsNCiAgICBwYWRkaW5nOiAycHg7DQogICAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjNDY0NjQ2LCAjMUExQTFBKTsNCiAgICBiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM0NjQ2NDYsICMxQTFBMUEpOw0KICAgIGJhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICM0NjQ2NDYsICMxQTFBMUEpOw0KICAgIHotaW5kZXg6IDk5OTk7DQogICAgYm9yZGVyOiB0aGluIHNvbGlkICMzMzM7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgIG9wYWNpdHk6IDA7DQogICAgbGVmdDogMDsNCiAgICBib3JkZXItcmFkaXVzOiAzcHg7DQogICAgLXdlYmtpdC1ib3gtc2hhZG93OiAjMTExIDBweCAwcHggMTJweDsNCiAgICAtbW96LWJveC1zaGFkb3c6ICMxMTEgMHB4IDBweCAxMnB4Ow0KICAgIGJveC1zaGFkb3c6ICMxMTEgMHB4IDBweCAxMnB4Ow0KfQ0KDQojZmJtd19hZGRvbl9wb3B1cCBkaXYucG9wX2JnIHsNCiAgICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDsNCiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50Ow0KfQ0KDQpkaXYuaW5wdXRmaWxlLA0KZGl2LmlucHV0ZmlsZSB0YWJsZSwNCmRpdi5pbnB1dGZpbGUgdGFibGUgdGQ6Zmlyc3QtY2hpbGQgew0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICB3aWR0aDogMTAwJTsgICAgDQp9DQpkaXYuaW5wdXRmaWxlIHRkOmZpcnN0LWNoaWxkID4gaW5wdXQgew0KICAgIG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7DQogICAgcGFkZGluZzogMHB4ICFpbXBvcnRhbnQ7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KfQ0KZGl2LmlucHV0ZmlsZSBpbnB1dFt0eXBlPWZpbGVdIHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgdG9wOiAwcHg7DQogICAgb3BhY2l0eTogMDsNCiAgICByaWdodDogMHB4Ow0KICAgIHotaW5kZXg6IDE7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7DQogICAgbWFyZ2luOiAwcHggIWltcG9ydGFudDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgYm9yZGVyOiAwcHg7DQogICAgdGV4dC1hbGlnbjogcmlnaHQ7DQp9DQpkaXYuaW5wdXRmaWxlIGEgew0KICAgIHBhZGRpbmctbGVmdDogMThweDsNCiAgICBtYXJnaW4tbGVmdDogOHB4Ow0KfQ0KLnJvYl9zcXVhZCB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9UHJvcGVydGllc1YyL2Fzc2V0cy9yb2JzcXVhZC5wbmcpIG5vLXJlcGVhdDsNCiAgICBwYWRkaW5nLWxlZnQ6IDE5cHg7DQp9DQoNCi5ub3RpZmljYXRpb24tZ2xvYmUgew0KICAgIHdpZHRoOiA1MHB4Ow0KICAgIGhlaWdodDogNTBweDsNCiAgICBib3JkZXI6IG5vbmU7DQogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogNTAlOw0KfQ0KLm5vdGlmaWNhdGlvbi1jb3VudCB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHRvcDogNXB4Ow0KICAgIHJpZ2h0OiA1cHg7DQogICAgYmFja2dyb3VuZC1jb2xvcjogcmVkOw0KICAgIGNvbG9yOiB3aGl0ZTsNCiAgICBwYWRkaW5nOiAycHg7DQogICAgZm9udC1mYW1pbHk6IHRhaG9tYSwgYXJpYWwsICdzYW5zLXNlcmlmJzsNCiAgICBmb250LXNpemU6IDE2cHg7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNGNDQ7DQogICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI0IwMDsNCiAgICBib3JkZXItcmlnaHQtY29sb3I6ICNCMDA7DQp9DQouZW1wdHktbm90aWZ5LWFsZXJ0IHsNCiAgICBwYWRkaW5nLXRvcDogMjBweDsNCiAgICBmb250LXNpemU6IDIzcHg7DQogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCn0NCi5ub3RpZnktdGFzay1pY29uIHsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCU7DQogICAgaGVpZ2h0OiA1MHB4Ow0KICAgIHdpZHRoOiA1MHB4Ow0KICAgIHBhZGRpbmc6IDBweDsNCiAgICBtYXJnaW46IDJweCBhdXRvOw0KfQ0KLm5vdGlmeS10YXNrLXRpdGxlIHsNCiAgICBjb2xvcjogI0ZDMDsNCiAgICBmb250LXNpemU6IDE0cHg7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCn0NCi5ub3RpZnktdGFzay1tZXNzYWdlIHsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICBtYXgtaGVpZ2h0OiAzNnB4Ow0KfQ0KDQp1bC51aS1jb250ZXh0LW1lbnUgew0KICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsNCiAgICBtYXJnaW46IDBweDsNCiAgICBwYWRkaW5nOiAwcHg7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAxODsNCn0NCnVsLnVpLWNvbnRleHQtbWVudSBsaSB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAxODsNCiAgICBjb2xvcjogd2hpdGU7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICBwYWRkaW5nOiA1cHggMTBweCA1cHggMTBweDsNCiAgICBoZWlnaHQ6IDE2cHg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KdWwudWktY29udGV4dC1tZW51IGxpOmhvdmVyIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzIzMjMyOw0KICAgIGNvbG9yOiAjRkZEOTI3Ow0KfQ0KdWwudWktY29udGV4dC1tZW51IGxpIHNwYW4gew0KICAgIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KICAgIGJhY2tncm91bmQtc2l6ZTogMTZweCAhaW1wb3J0YW50Ow0KICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7DQp9DQoNCmRpdi5td2EtZ3JpZC13cmFwcGVyIHsNCiAgICBtYXJnaW46IDVweDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KZGl2Lm13YS1ncmlkLXdyYXBwZXIgZGl2Lm13YS1ncmlkLWJhciB7DQogICAgcGFkZGluZzogNXB4Ow0KICAgIG1hcmdpbjogMHB4Ow0KfQ0KdGFibGUubXdhLWdyaWQgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgbWFyZ2luOiAwcHg7DQp9DQp0YWJsZS5td2EtZ3JpZCB0Ym9keSB0ZC5td2EtZ3JpZC1jZW50ZXIsDQp0YWJsZS5td2EtZ3JpZCB0aGVhZCB0aC5td2EtZ3JpZC1jZW50ZXIgew0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCn0NCnRhYmxlLm13YS1ncmlkIHRoZWFkIHRoIHsNCiAgICBiYWNrZ3JvdW5kOiAjNTU1IHVybCgke2Jhc2VfdXJsfW1hcF9iYXNlZF9qb2JzL2V4cGVydF92aWV3L2V4cGVydHZpZXdfbmF2X21pZC5naWYpIDUwJSA1MCUgcmVwZWF0LXg7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgY29sb3I6ICNFRUU7DQogICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjNDQ0Ow0KICAgIHBhZGRpbmc6IDNweCAwcHggM3B4IDEwcHg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KdGFibGUubXdhLWdyaWQgdGhlYWQgdGgubXdhLWdyaWQtc3RhdGUtZGlzYWJsZWQgew0KICAgIGN1cnNvcjogZGVmYXVsdDsNCn0NCnRhYmxlLm13YS1ncmlkIHRoZWFkIHRoIGRpdi5td2Etc29ydC13cmFwcGVyIHsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgcGFkZGluZy1yaWdodDogMjBweDsNCn0NCnRhYmxlLm13YS1ncmlkIHRoZWFkIHRoIGRpdi5td2Etc29ydC13cmFwcGVyIHNwYW4gew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICBkaXNwbGF5OiBpbmxpbmU7DQogICAgdG9wOiA1MCU7DQogICAgbWFyZ2luLXRvcDogLThweDsNCiAgICByaWdodDogMDsNCn0NCnRhYmxlLm13YS1ncmlkIHRoZWFkIHRoLm13YS1ncmlkLXN0YXRlLWRpc2FibGVkIGRpdi5td2Etc29ydC13cmFwcGVyIHNwYW4gew0KICAgIGRpc3BsYXk6IG5vbmU7DQp9DQp0YWJsZS5td2EtZ3JpZCB0ciB0ZCB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzIyMjsNCiAgICBmb250LXdlaWdodDogbm9ybWFsOw0KICAgIHBhZGRpbmc6IDRweCA1cHg7DQogICAgaGVpZ2h0OiAyOHB4Ow0KfQ0KdGFibGUubXdhLWdyaWQgdHI6aG92ZXIgdGQgew0KICAgIGJhY2tncm91bmQ6ICMzMzM7DQp9DQpkaXYubXdhLWdyaWQtd3JhcHBlciAubXdhLWdyaWQtaW5mbyB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgcGFkZGluZy10b3A6IDJweDsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQp9DQpkaXYubXdhLWdyaWQtd3JhcHBlciAubXdhLWdyaWQtcGFnaW5hdGUgew0KICAgIGZsb2F0OiByaWdodDsNCiAgICB0ZXh0LWFsaWduOiByaWdodDsNCn0NCmRpdi5td2EtZ3JpZC13cmFwcGVyIC5td2EtZ3JpZC1udW1iZXJzIC51aS1idXR0b24sDQpkaXYubXdhLWdyaWQtd3JhcHBlciAubXdhLWdyaWQtY3VzdG9tIC51aS1idXR0b24gew0KICAgIHBhZGRpbmc6IDJweCA2cHg7DQogICAgbWFyZ2luOiAwOw0KICAgIGN1cnNvcjogcG9pbnRlcjsNCn0NCmRpdi5td2EtZ3JpZC13cmFwcGVyIC5td2EtZ3JpZC1udW1iZXJzIC51aS1idXR0b246aG92ZXIsDQpkaXYubXdhLWdyaWQtd3JhcHBlciAubXdhLWdyaWQtY3VzdG9tIC51aS1idXR0b246aG92ZXIgew0KICAgIGNvbG9yOiBnb2xkOw0KfQ0KZGl2Lm13YS1ncmlkLXdyYXBwZXIgLm13YS1ncmlkLW51bWJlcnMgLnVpLWJ1dHRvbi51aS1zdGF0ZS1kaXNhYmxlZDpob3ZlciwNCmRpdi5td2EtZ3JpZC13cmFwcGVyIC5td2EtZ3JpZC1jdXN0b20gLnVpLWJ1dHRvbi51aS1zdGF0ZS1kaXNhYmxlZDpob3ZlciB7DQogICAgY29sb3I6ICNFRUU7DQp9DQpkaXYubXdhLWdyaWQtd3JhcHBlciAubXdhLWdyaWQtZmlsdGVyIHsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgdGV4dC1hbGlnbjogcmlnaHQ7DQp9DQpkaXYubXdhLWdyaWQtd3JhcHBlciAubXdhLWdyaWQtY3VzdG9tIHsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCn0NCiNtd2FkZG9uX21lc3NhZ2Ugew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIHdpZHRoOiAzNTBweDsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjMzMzOw0KICAgIHBhZGRpbmc6IDNweDsNCiAgICBiYWNrZ3JvdW5kOiAjMDcwNzA3Ow0KICAgIGJvcmRlci1yYWRpdXM6IDJweDsNCn0NCiNtd2FkZG9uX21lc3NhZ2UgLm13YS1tZXNzYWdlLXRpdGxlIHsNCiAgICBtYXJnaW4tcmlnaHQ6IDVweDsNCiAgICBsaW5lLWhlaWdodDogMjRweDsNCiAgICBwYWRkaW5nLWxlZnQ6IDI2cHg7DQogICAgY29sb3I6IHdoZWF0Ow0KICAgIHdpZHRoOiBhdXRvOw0KfQ0KI213YWRkb25fbWVzc2FnZSAubXdhLW1lc3NhZ2UtYm9keSB7DQogICAgZm9udC1zaXplOiAxM3B4Ow0KICAgIHBhZGRpbmctbGVmdDogMjZweDsNCn0NCg0KI2ZibXdfYWRkb25fcG9wdXAgLnBvcF9ib3ggew0KICAgIHRvcDogODBweDsNCn0NCiNmYm13X2FkZG9uX3BvcHVwIC5wb3BfYm94ID4gLm13YS1wb3B1cC1ib3R0b20gew0KICAgIHBhZGRpbmc6IDEwcHggNXB4IDBweDsNCiAgICBib3JkZXItdG9wOiAycHggc29saWQgIzJGMkYyRjsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgbWF4LWhlaWdodDogNDBweDsNCiAgICBoZWlnaHQ6IDQwcHg7DQp9DQojZmJtd19hZGRvbl9wb3B1cCAubXdhLXBvcHVwLW1haW4gPiAucG9wX2JveCA+IC5td2EtcG9wdXAtdG9wIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH16bWMvYnJpY2tfYmdfNzAweDczXzAxLmpwZykgbGVmdCB0b3AgcmVwZWF0LXg7DQogICAgaGVpZ2h0OiA3MHB4Ow0KICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjMkYyRjJGOw0KfQ0KI2ZibXdfYWRkb25fcG9wdXAgLm13YS1wb3B1cC1tYWluID4gLnBvcF9ib3ggPiAubXdhLXBvcHVwLXRvcCA+IGNlbnRlciB7DQogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCiAgICBmb250LXNpemU6IDMycHg7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHdpZHRoOiAxMDAlOw0KICAgIG9wYWNpdHk6IDAuNTsNCiAgICBmb250LWZhbWlseTogSW1wYWN0LCAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBHcmFuZGUnLCBUYWhvbWEsIFZlcmRhbmEsIEFyaWFsLCBzYW5zLXNlcmlmOw0KICAgIHRvcDogMTVweDsNCn0NCiNmYm13X2FkZG9uX3BvcHVwIC5td2EtcG9wdXAtbWFpbiA+IC5wb3BfYm94IHsNCiAgICBib3JkZXI6IDRweCBzb2xpZCAjQTk5RTlFOw0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgei1pbmRleDogMTAxOw0KICAgIGJhY2tncm91bmQtY29sb3I6ICMxMjEyMTI7DQogICAgdG9wOiAxNXB4Ow0KICAgIHdpZHRoOiA3MzBweDsNCn0NCiNmYm13X2FkZG9uX3BvcHVwIC5td2EtcG9wdXAtbWFpbiA+IC5wb3BfYm94ID4gLm13YS1wb3B1cC1jb250ZW50IHsNCiAgICBjbGVhcjogYm90aDsNCn0NCg0KI2ZibXdfYWRkb25fcG9wdXAgLm13YS1wb3B1cC1tb2Rlcm4gPiAucG9wX2JveCB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzEyMTIxMjsNCiAgICB6LWluZGV4OiAxMDAwMDA7DQogICAgYm9yZGVyOiAycHggc29saWQgIzg4ODsNCiAgICBib3JkZXItcmFkaXVzOiAzcHg7DQp9DQojZmJtd19hZGRvbl9wb3B1cCAubXdhLXBvcHVwLW1vZGVybiA+IC5wb3BfYm94ID4gLm13YS1wb3B1cC10b3Agew0KICAgIGhlaWdodDogMzBweDsNCiAgICBtaW4taGVpZ2h0OiAzMHB4Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgY29sb3I6IGdvbGRlbnJvZDsNCiAgICBsaW5lLWhlaWdodDogMzBweDsNCiAgICBwYWRkaW5nLWxlZnQ6IDhweDsNCiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzg4ODsNCiAgICBiYWNrZ3JvdW5kOiAjNTU1IHVybCgke2Jhc2VfdXJsfW1hcF9iYXNlZF9qb2JzL2V4cGVydF92aWV3L2V4cGVydHZpZXdfbmF2X21pZC5naWYpIDUwJSA1MCUgcmVwZWF0LXg7DQp9DQojZmJtd19hZGRvbl9wb3B1cCAubXdhLXBvcHVwLW1vZGVybiA+IC5wb3BfYm94ID4gLm13YS1wb3B1cC1ib3R0b20gew0KICAgIHBhZGRpbmc6IDEwcHggNXB4IDBweDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgaGVpZ2h0OiAzOHB4Ow0KICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjODg4Ow0KfQ0KI2ZibXdfYWRkb25fcG9wdXAgLm13YS1wb3B1cC1tb2Rlcm4gPiAucG9wX2JveCA+IC5td2EtcG9wdXAtY29udGVudCB7DQogICAgY2xlYXI6IGJvdGg7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIG1hcmdpbjogMTBweCAwcHg7DQogICAgY29sb3I6IHdoaXRlU21va2U7DQp9DQojZmJtd19hZGRvbl9wb3B1cCAuY2FzaF9oZWxwX2JveCA+IC5wb3BfYm94ID4gLm13YS1wb3B1cC10b3Agew0KICAgIGhlaWdodDogMzBweDsNCiAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICMzMzM7DQogICAgbWFyZ2luLWJvdHRvbTogMTVweDsNCiAgICBmb250LXNpemU6IDE4cHg7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgY29sb3I6ICM5ODk4OTg7DQp9DQoNCi50b29sdGlwLWVkaXQtb3ZlcmxheSB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHotaW5kZXg6IDk5NTAwOw0KICAgIGJvcmRlcjogMnB4IHNvbGlkIGdyZWVuWWVsbG93Ow0KICAgIGN1cnNvcjogcG9pbnRlcjsNCn0NCi50b29sdGlwLWVkaXQtb3ZlcmxheSAudG9vbHRpcC1lZGl0LWJnIHsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7DQogICAgb3BhY2l0eTogMC40Ow0KfQ0KLnRvb2x0aXAtZWRpdC1vdmVybGF5IGltZyB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGJvdHRvbTogMHB4Ow0KICAgIHJpZ2h0OiAwcHg7DQogICAgd2lkdGg6IDE2cHg7DQogICAgaGVpZ2h0OiAxNnB4Ow0KfQ0K");
Resources.add("groupselection_popup_css","data:text/css;base64,I2dyb3Vwc2VsZWN0aW9uX3BvcHVwIC5wb3B1cF9ib2R5IHsNCgltYXJnaW4tdG9wOiAyMHB4Ow0KCW1hcmdpbi1yaWdodDogMTBweDsNCgltYXJnaW4tYm90dG9tOiAyMHB4Ow0KCW1hcmdpbi1sZWZ0OiA1MHB4Ow0KCWhlaWdodDogMjAwcHg7DQoJdGV4dC1hbGlnbjogbGVmdDsNCn0NCiNncm91cHNlbGVjdGlvbl9wb3B1cCBhIHsNCgl0ZXh0LWRlY29yYXRpb246IG5vbmU7DQoJZm9udC1zaXplOiAxNHB4Ow0KfQ0KI2dyb3Vwc2VsZWN0aW9uX3BvcHVwIHAgew0KICAgIG1hcmdpbjogMXB4Ow0KCXBhZGRpbmc6IDBweDsNCn0=");Resources.add("homefeedcenter_popup_css","data:text/css;base64,I2ZlZWRfY2VudGVyX2hlYWRlciBwLCAjaG9tZWZlZWRjZW50ZXJfcG9wdXAgdWwsIA0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIGxpLCAjaG9tZWZlZWRjZW50ZXJfcG9wdXAgZGwsIA0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIGR0LCAjaG9tZWZlZWRjZW50ZXJfcG9wdXAgZGQsIA0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIGgyLCAjaG9tZWZlZWRjZW50ZXJfcG9wdXAgaDMsIA0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIGg0LCAjaG9tZWZlZWRjZW50ZXJfcG9wdXAgcCB7DQogICAgbWFyZ2luOiAwcHg7DQogICAgcGFkZGluZzogMHB4Ow0KfQ0KI2ZlZWRfY2VudGVyX2hlYWRlciB7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KICAgIGhlaWdodDogNjRweDsNCiAgICBtYXJnaW4tcmlnaHQ6IDUwcHg7DQogICAgbWFyZ2luLXRvcDogNnB4Ow0KfQ0KI2ZlZWRfY2VudGVyX2hlYWRlciBkbC50b3RhbF9yZXF1ZXN0cyB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgbWFyZ2luOiAxNHB4IDBweCAwcHg7DQp9DQojZmVlZF9jZW50ZXJfaGVhZGVyIGRsLnRvdGFsX3JlcXVlc3RzIGR0IHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH16bWMvdG90YWxfcmVxdWVzdHNfYnViYmxlXzM4eDM4XzAxLnBuZykgbm8tcmVwZWF0IDBweCAwcHg7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgZm9udC1zaXplOiAxOHB4Ow0KICAgIGhlaWdodDogMzhweDsNCiAgICBsaW5lLWhlaWdodDogMzhweDsNCiAgICBtYXJnaW4tcmlnaHQ6IDZweDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgd2lkdGg6IDM4cHg7DQp9DQojZmVlZF9jZW50ZXJfaGVhZGVyIGRsLnRvdGFsX3JlcXVlc3RzIGRkIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH16bWMvdG90YWxfcmVxdWVzdHNfYmdfMjAweDI0XzAxLnBuZykgbm8tcmVwZWF0IDEwMCUgNTAlOw0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICBoZWlnaHQ6IDM4cHg7DQogICAgbGluZS1oZWlnaHQ6IDM4cHg7DQogICAgbWFyZ2luLWxlZnQ6IDVweDsNCiAgICBwYWRkaW5nOiAwcHggMjBweCAwcHggMzlweDsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIGZpZWxkc2V0IHsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDQ0Ow0KICAgIG1hcmdpbi1ib3R0b206IDVweDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCBmaWVsZHNldCBsZWdlbmQgew0KICAgIGNvbG9yOiAjNTU1Ow0KICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQogICAgZm9udC1zaXplOiAxMXB4Ow0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIHVsLmZlZWRfYm94IHsNCiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7DQogICAgb3ZlcmZsb3c6IGF1dG87DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgdWwuc2tpcHBlZF9sb2cgew0KICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsNCiAgICBvdmVyZmxvdzogYXV0bzsNCiAgICBwYWRkaW5nOiAzcHg7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNDQ0Ow0KICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjNDQ0Ow0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIHVsLnNraXBwZWRfbG9nIGxpIHsNCiAgICBib3JkZXI6IDJweCBzb2xpZCAjMUYxRjFGOw0KICAgIG1hcmdpbjogMHB4IDBweCA0cHg7DQogICAgcGFkZGluZzogMHB4IDBweCAwcHggMTZweDsNCiAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50Ow0KICAgIGJhY2tncm91bmQtc2l6ZTogMTZweCAhaW1wb3J0YW50Ow0KICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7DQogICAgbWluLWhlaWdodDogMTZweCAhaW1wb3J0YW50Ow0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIHVsLnNraXBwZWRfbG9nIGxpIGltZyB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgd2lkdGg6IDIwcHg7DQogICAgaGVpZ2h0OiAyMHB4Ow0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIHVsLnNraXBwZWRfbG9nIGxpIHAgew0KICAgIG1hcmdpbjogMXB4IDBweCAwcHggM3B4Ow0KICAgIGhlaWdodDogMjBweDsNCiAgICBsaW5lLWhlaWdodDogMjBweDsNCiAgICBvdmVyZmxvdy15OiBoaWRkZW47DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgI2ZlZWRsaXN0X2JvZHkgdWwuZmVlZF9ib3ggbGk6Zmlyc3QtY2hpbGQgew0KICAgIGJvcmRlci13aWR0aDogMHB4Ow0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIHVsLmZlZWRfYm94IGxpIHsNCiAgICBtYXJnaW46IDBweCAwcHggNnB4Ow0KICAgIGhlaWdodDogODBweDsNCiAgICBtYXgtaGVpZ2h0OiAxMDBweDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCB1bC5mZWVkX2JveCBsaS5uZXdfcG9zdCB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9em1jL25ld19tZXNzYWdlX2NhbGxvdXRfNDV4NDVfMDEucG5nKSBuby1yZXBlYXQgMHB4IDBweDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCB1bC5mZWVkX2JveCBkaXYubGlfd3JhcHBlciB7DQogICAgcGFkZGluZzogNHB4IDE0cHggMnB4IDRweDsNCiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgIzFGMUYxRjsNCiAgICBib3JkZXItdG9wOiAycHggc29saWQgIzFGMUYxRjsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCAjYXV0b21vZGVfYm9keSB1bCNsb2dMaXN0IGRpdi5zZWxlY3RlZCB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGJhY2tncm91bmQtY29sb3I6ICMxMjEyMTI7DQogICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICM0NDQ7DQogICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM0NDQ7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgdWwuZmVlZF9ib3ggbGkgaW1nLmZlZWRfaWNvbiB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgd2lkdGg6IDcwcHg7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgdWwuZmVlZF9ib3ggbGkubmV3X3Bvc3QgaW1nLmZlZWRfaWNvbiB7DQogICAgbWFyZ2luOiAxNXB4IDAgMCAxNXB4Ow0KICAgIHdpZHRoOiA1NXB4Ow0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIHVsLmZlZWRfYm94IGxpIGRpdi5idXR0b25zIHsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgZm9udC1zaXplOiAxMHB4Ow0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgIG1hcmdpbjogM3B4IDBweCAwcHggMTRweDsNCiAgICB0ZXh0LWFsaWduOiByaWdodDsNCiAgICB3aWR0aDogNzBweDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCB1bC5mZWVkX2JveCBsaSBkaXYuYm9keSB7DQogICAgbWFyZ2luOiAwcHggODBweDsNCiAgICBoZWlnaHQ6IDcwcHg7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgI2F1dG9tb2RlX2JvZHkgdWwuZmVlZF9ib3ggbGkgZGl2LmJvZHkgew0KICAgIG1hcmdpbi1sZWZ0OiA4MHB4Ow0KICAgIGhlaWdodDogNzBweDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCB1bC5mZWVkX2JveCBsaSBoNCB7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KICAgIG1hcmdpbi1ib3R0b206IDRweDsNCiAgICBwYWRkaW5nLXRvcDogMnB4Ow0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwIHVsLmZlZWRfYm94IGxpIHAgew0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICBsaW5lLWhlaWdodDogMTVweDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCB1bC5mZWVkX2JveCBsaSBkaXYuYnV0dG9ucyBhLnNleHlfYnV0dG9uX25ldyB7DQogICAgbWluLXdpZHRoOiA2MnB4Ow0KICAgIG1hcmdpbi1ib3R0b206IDZweDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCB1bC5mZWVkX2JveCBsaSBkaXYuYnV0dG9ucyBhLmlnbm9yZSB7DQogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCAuc2VsZWN0X3RhYiB7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzRGNEY0RjsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtaW4taGVpZ2h0OiAxNDBweDsNCiAgICBvdmVyZmxvdzogYXV0bzsNCiAgICBwYWRkaW5nOiA1cHg7DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCAuc2VsZWN0X3RhYiBkaXYgew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICMyRjJGMkY7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICBwYWRkaW5nOiAwcHggMnB4IDJweCA1cHg7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgLnNlbGVjdF90YWIgZGl2LnNlbGVjdGVkIHsNCiAgICBib3JkZXI6IDFweCBzb2xpZCB5ZWxsb3c7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgLnNlbGVjdF90YWIgZGl2IGlucHV0IHsNCiAgICBmbG9hdDogbGVmdDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCAuc2VsZWN0X3RhYiBkaXYgcCB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIHdpZHRoOiA4NiU7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCAuY29uZmlnX3RhYiB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgcGFkZGluZzogMHB4IDEwcHg7DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICB3aWR0aDogNDIwcHg7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgLnNhdmVfY29uZmlnIHsNCiAgICBjbGVhcjogYm90aDsNCiAgICBwYWRkaW5nLXRvcDogOHB4Ow0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwICNmZWVkbGlzdF9ib2R5LCANCiNob21lZmVlZGNlbnRlcl9wb3B1cCAjYXV0b21vZGVfYm9keSAgew0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgI3BhbmVsX2NvbnRhaW5lciB7DQogICAgYmFja2dyb3VuZDogIzExMSB1cmwoJHtiYXNlX3VybH16bWMvdGFic19iZ18xeDQ1XzAxLmdpZikgcmVwZWF0LXggMHB4IDEwMCU7DQogICAgd2lkdGg6IDEwMCU7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHotaW5kZXg6IDEwOw0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwICNwYW5lbF9jb250YWluZXIgLnNlYXJjaF9ib3ggew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG1hcmdpbjogMHB4IDVweDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIHdpZHRoOiAzNzBweDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCAjcGFuZWxfY29udGFpbmVyIC5jb250cm9sX2JveCB7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KICAgIG1hcmdpbjogMHB4IDVweDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgd2lkdGg6IDM0MHB4Ow0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwICNzdGF0dXNfcGFuZWwsIA0KI2hvbWVmZWVkY2VudGVyX3BvcHVwICNjb250cm9sX3BhbmVsICB7DQogICAgaGVpZ2h0OiAzNXB4Ow0KICAgIHdpZHRoOiAxMDAlOw0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwICNjb25maWdfcGFuZWwgew0KICAgIG1hcmdpbjogNXB4Ow0KICAgIHdpZHRoOiAxMDAlOw0KfQ0KI2hvbWVmZWVkY2VudGVyX3BvcHVwICNtaW5pcG9wdXBfb3ZlcmxheSB7DQogICAgZGlzcGxheTogbm9uZTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDc1MHB4Ow0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsNCiAgICBvcGFjaXR5OiAwLjU7DQogICAgei1pbmRleDogNTsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCAucG9wX2JveCBjZW50ZXIgew0KICAgIGhlaWdodDogMzBweDsNCiAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICMzMzM7DQogICAgbWFyZ2luLWJvdHRvbTogMTVweDsNCiAgICBmb250LXNpemU6IDE4cHg7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgY29sb3I6ICM5ODk4OTg7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgLnBvcF9ib3ggLmZiX2ZyaWVuZGxpc3Qgew0KICAgIGhlaWdodDogMjAwcHg7DQogICAgb3ZlcmZsb3c6IGF1dG87DQogICAgbWFyZ2luOiAwcHggMTBweCA1cHg7DQogICAgYm9yZGVyOiAycHggc29saWQgIzQ0NDsNCiAgICBwYWRkaW5nOiA1cHg7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgLnVpLWZpbHRlcmxpc3QgZGl2LnVpLXRvcCB7DQogICAgY2xlYXI6IGJvdGg7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgLnVpLWZpbHRlcmxpc3QgZGl2LnVpLXJpZ2h0IHsNCiAgICBmbG9hdDogcmlnaHQ7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgLnVpLWZpbHRlcmxpc3QgZGl2LnVpLXRvcCBzcGFuLmNoZWNrYm94IHsNCiAgICBsaW5lLWhlaWdodDogMjRweDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCAudWktZmlsdGVybGlzdCA+IHNlbGVjdCB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxNTBweDsNCn0NCiNob21lZmVlZGNlbnRlcl9wb3B1cCAuZXhwZXJ0LW1vZGUgew0KICAgIGRpc3BsYXk6IG5vbmU7DQp9DQojaG9tZWZlZWRjZW50ZXJfcG9wdXAgLmV4cGVydC1tb2RlLW9uIC5leHBlcnQtbW9kZSB7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQo=");
Resources.add("inventoryanalyzer_popup_css","data:text/css;base64,I2ludmVudG9yeWFuYWx5emVyX3BvcHVwIC5ibGFjayB7DQogICAgd2lkdGg6IDI0MHB4Ow0KICAgIG1hcmdpbi1yaWdodDogNXB4Ow0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOyANCiAgICBjb2xvcjogcmdiKDIwOCwgMjA4LCAyMDgpOyANCiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMTUzLCAxNTMsIDE1Myk7IA0KICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOyANCiAgICBmb250LXNpemU6IDE0cHg7DQp9DQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLm1lbnViYXIgew0KICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybCgke2Jhc2VfdXJsfWludmVudG9yeS9OQVYvSW52ZW50b3J5LW5hdi1iZy5wbmcpIG5vLXJlcGVhdCB0b3AgbGVmdDsNCiAgICBoZWlnaHQ6IDUwcHg7DQp9DQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLm1lbnViYXIgLmlubmVyX2JveCB7DQogICAgcGFkZGluZzogMTJweCA1cHggMHB4IDIxMHB4Ow0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgaGVpZ2h0OiAzNXB4Ow0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIC5tZW51YmFyIC5idXR0b25fYm94IHsNCiAgICBmbG9hdDogcmlnaHQ7DQp9DQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLm1lbnViYXIgLmJ1dHRvbl9ib3ggYSB7DQogICAgbWFyZ2luLXJpZ2h0OiA1cHg7DQp9DQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLmZyYW1lX2JveCB7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzJGMkYyRjsNCiAgICBtYXJnaW46IDRweCAzcHggNHB4IDNweDsNCiAgICBtaW4taGVpZ2h0OiAyNnB4Ow0KICAgIHBhZGRpbmc6IDRweDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIGRpdi5oZWFkZXIgew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7DQogICAgaGVpZ2h0OiAyMHB4Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIHBhZGRpbmc6IDJweDsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCBkaXYuaGVhZGVyIGRpdi5pdGVtX25hbWUgew0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCB1bC5pdGVtX2xpc3Qgew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7DQogICAgaGVpZ2h0OiAzNzVweDsNCiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7DQogICAgbWFyZ2luOiAwcHg7DQogICAgb3ZlcmZsb3cteDogaGlkZGVuOw0KICAgIG92ZXJmbG93LXk6IGF1dG87DQogICAgcGFkZGluZzogMHB4Ow0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIHVsLml0ZW1fbGlzdCBsaSB7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzMzMzsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgaGVpZ2h0OiAxOXB4Ow0KICAgIG1hcmdpbjogMXB4Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgcGFkZGluZzogMXB4Ow0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIHVsLml0ZW1fbGlzdCBsaS5zZWxlY3RlZCB7DQogICAgYm9yZGVyOiAxcHggc29saWQgI0NDMDsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCBkaXYubnVtYmVyIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtYXgtd2lkdGg6IDMwcHg7DQogICAgbWluLXdpZHRoOiAzMHB4Ow0KICAgIHBhZGRpbmc6IDFweDsNCiAgICB3aWR0aDogYXV0bzsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCBkaXYubnVtYmVyLnF1YW50aXR5IHsNCiAgICBtYXgtd2lkdGg6IDQwcHg7DQogICAgbWluLXdpZHRoOiA0MHB4Ow0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIGRpdi5xdWFsaXR5IHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtYXgtd2lkdGg6IDE2cHg7DQogICAgbWluLXdpZHRoOiAxNnB4Ow0KICAgIHBhZGRpbmc6IDFweDsNCiAgICB3aWR0aDogYXV0bzsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCBkaXYudG90YWwgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG1heC13aWR0aDogNTBweDsNCiAgICBtaW4td2lkdGg6IDUwcHg7DQogICAgcGFkZGluZzogMXB4Ow0KICAgIHdpZHRoOiBhdXRvOw0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIGRpdi5zcGFjZSB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzNGM0YzRjsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBoZWlnaHQ6IDE5cHg7DQogICAgbWF4LXdpZHRoOiAxcHg7DQogICAgbWluLXdpZHRoOiAxcHg7DQogICAgd2lkdGg6IDFweDsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCBkaXYuaXRlbV9uYW1lIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtYXgtd2lkdGg6IDIyMHB4Ow0KICAgIHBhZGRpbmc6IDFweDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIHdpZHRoOiAyMjBweDsNCiAgICBwYWRkaW5nOiAwcHggNXB4Ow0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIC5mcmFtZV9ib3ggZGl2I2l0ZW1faW5mbyB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgd2lkdGg6IDM3OHB4Ow0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIC5mcmFtZV9ib3ggZGl2LmltYWdlbiB7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzVGNUY1RjsNCiAgICBmbG9hdDogbGVmdDsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCAuZnJhbWVfYm94IGRpdi5pbmZvIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBoZWlnaHQ6IDgwcHg7DQogICAgbWFyZ2luLWxlZnQ6IDVweDsNCiAgICBtYXgtaGVpZ2h0OiA4MHB4Ow0KICAgIG1heC13aWR0aDogMjkwcHg7DQp9DQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLmZyYW1lX2JveCBkaXYjd2lzaGxpc3Qgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIHdpZHRoOiAzMDBweDsNCn0JDQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLmZyYW1lX2JveCBkaXYud2xfaXRlbSB7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzRGNEY0RjsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBoZWlnaHQ6IDcycHg7DQogICAgbWFyZ2luOiAxcHg7DQogICAgcGFkZGluZzogM3B4Ow0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgd2lkdGg6IDkwcHg7DQp9DQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLmZyYW1lX2JveCBkaXYud2xfaXRlbSBpbWcucmVtb3ZlIHsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIC5mcmFtZV9ib3ggZGl2LndsX2l0ZW0gLmF0dGFja19kZWZlbnNlIHsNCiAgICBtYXJnaW46IDBweDsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCAuZnJhbWVfYm94IGRpdi53bF9pdGVtIC5hdHRhY2tfZGVmZW5zZSAuZGVmZW5zZSB7DQogICAgbWFyZ2luLWxlZnQ6IDVweDsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCAubWFmaWFfc3RyZW5ndGggew0KICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybCgke2Jhc2VfdXJsfWludmVudG9yeS9zdW1tYXJ5L01hZmlhLXN0cmVuZ3RoLWJveDIucG5nKSBuby1yZXBlYXQ7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgaGVpZ2h0OiAyMTBweDsNCiAgICB3aWR0aDogMTYwcHg7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIC5tYWZpYV9zdHJlbmd0aCA+IGRpdjpsYXN0LWNoaWxkIHsNCiAgICBtYXJnaW4tdG9wOiAxNXB4Ow0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIC5tYWZpYV9zdHJlbmd0aC5xdWFsaXRpZXMgPiBkaXY6bGFzdC1jaGlsZCB7DQogICAgbWFyZ2luLXRvcDogMzVweDsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCAubWFmaWFfc3RyZW5ndGggLnRvdGFsX3RpdGxlIHsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICBtYXJnaW4tYm90dG9tOiAyMXB4Ow0KICAgIG1hcmdpbi1sZWZ0OiBhdXRvOw0KICAgIG1hcmdpbi1yaWdodDogYXV0bzsNCiAgICBwYWRkaW5nLXRvcDogMTBweDsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIHdpZHRoOiAxNjBweDsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCAubWFmaWFfc3RyZW5ndGgucXVhbGl0aWVzIC50b3RhbF90aXRsZSB7DQogICAgbWFyZ2luLWJvdHRvbTogMTNweDsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCAubWFmaWFfc3RyZW5ndGggLnRvdGFsX3RpdGxlIHNwYW4gew0KICAgIGNvbG9yOiAjRkZDRDAwOw0KICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQp9DQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLm1hZmlhX3N0cmVuZ3RoIC5tYWZpYV9zdHJlbmd0aF9zcGFjaW5nIHsNCiAgICBoZWlnaHQ6IDE4cHg7DQogICAgbWFyZ2luLWxlZnQ6IDJweDsNCiAgICBtYXJnaW4tdG9wOiA3cHg7DQp9DQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLm1hZmlhX3N0cmVuZ3RoLnF1YWxpdGllcyAubWFmaWFfc3RyZW5ndGhfc3BhY2luZyB7DQogICAgbWFyZ2luLXRvcDogNHB4Ow0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIC50ZXh0X3Bvc2l0aW9uaW5nIHsNCiAgICBjb2xvcjogIzk5OTsNCiAgICBmb250LXNpemU6IDExcHg7DQp9DQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLm1hZmlhX3N0cmVuZ3RoIC5tYWZpYV9zdHJlbmd0aF9zcGFjaW5nIC5zdGF0X25hbWUgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG1hcmdpbi1sZWZ0OiAxMHB4Ow0KICAgIHdpZHRoOiA4MHB4Ow0KfQ0KI2ludmVudG9yeWFuYWx5emVyX3BvcHVwIC5zZXh5X2J1dHRvbl9uZXcuYnV0dG9uX2ljb24gPiBzcGFuIHsNCiAgICB3aWR0aDogMjhweDsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCAuc2V4eV9idXR0b25fbmV3LmJ1dHRvbl9pY29uID4gc3BhbiA+IHNwYW4gew0KICAgIG1pbi1oZWlnaHQ6IDE2cHg7DQogICAgcGFkZGluZy1sZWZ0OiAwcHg7DQp9DQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLnNleHlfYnV0dG9uX25ldy5idXR0b25faWNvbiA+IHNwYW4gPiBkaXYgew0KICAgIGhlaWdodDogMjZweDsNCn0NCiNpbnZlbnRvcnlhbmFseXplcl9wb3B1cCAuZnJhbWVfYm94Lm1pZGRsZV9iYXIgYSB7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KICAgIG1hcmdpbi1sZWZ0OiA1cHg7DQp9DQojaW52ZW50b3J5YW5hbHl6ZXJfcG9wdXAgLm13YV9yZXNfY29tYmluZWRfaWNvbiB7DQogICAgYmFja2dyb3VuZC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7DQogICAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IDE2cHggIWltcG9ydGFudDsNCiAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50Ow0KICAgIHBhZGRpbmctbGVmdDogMTlweCAhaW1wb3J0YW50Ow0KfQ0K");
Resources.add("mafiarecruiter_popup_css","data:text/css;base64,I21hZmlhcmVjcnVpdGVyX3BvcHVwIHVsI21mc19sb2dsaXN0IHsNCiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7DQogICAgb3ZlcmZsb3c6IGF1dG87DQogICAgcGFkZGluZzogM3B4Ow0KICAgIGZvbnQtc2l6ZTogMTJweDsNCn0NCiNtYWZpYXJlY3J1aXRlcl9wb3B1cCB1bCNtZnNfbG9nbGlzdCBsaSB7DQogICAgcGFkZGluZzogMHB4IDBweCAwcHggMTZweDsNCiAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50Ow0KICAgIGJhY2tncm91bmQtc2l6ZTogMTZweCAhaW1wb3J0YW50Ow0KICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7DQogICAgbWluLWhlaWdodDogMTZweCAhaW1wb3J0YW50Ow0KfQ0KI21hZmlhcmVjcnVpdGVyX3BvcHVwIHVsI21mc19sb2dsaXN0IGxpIGltZyB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgd2lkdGg6IDIwcHg7DQogICAgaGVpZ2h0OiAyMHB4Ow0KfQ0KI21hZmlhcmVjcnVpdGVyX3BvcHVwIHVsI21mc19sb2dsaXN0IGxpIHAgew0KICAgIG1hcmdpbjogMXB4IDBweCAwcHggM3B4Ow0KICAgIGhlaWdodDogMjBweDsNCiAgICBsaW5lLWhlaWdodDogMjBweDsNCiAgICBvdmVyZmxvdy15OiBoaWRkZW47DQp9DQojbWFmaWFyZWNydWl0ZXJfcG9wdXAgLm1mc19tZXNzYWdlX291dCB7DQogICAgaGVpZ2h0OiAzNXB4Ow0KICAgIG1hcmdpbjogMHB4IDVweCAwcHggMTBweDsNCiAgICBsaW5lLWhlaWdodDogMzBweDsNCn0NCiNtYWZpYXJlY3J1aXRlcl9wb3B1cCAubWZzX21lc3NhZ2Vfb3V0IC5tZnNfYWN0aXZlX21lc3NhZ2Ugew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIHdpZHRoOiA0NTBweDsNCiAgICBtYXgtd2lkdGg6IDQ1MHB4Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQp9DQo=");Resources.add("mafiawiper_popup_css","data:text/css;base64,I21hZmlhd2lwZXJfcG9wdXAgLmZyYW1lX2JveCB7DQoJYm9yZGVyOiAxcHggc29saWQgIzJGMkYyRjsNCgloZWlnaHQ6IDQwcHg7DQoJbWFyZ2luOiA1cHg7DQoJcGFkZGluZzogMTBweCAyMHB4IDBweDsNCgl0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KI21hZmlhd2lwZXJfcG9wdXAgaW5wdXQgew0KCXZlcnRpY2FsLWFsaWduOiB0b3A7DQp9DQojbWFmaWF3aXBlcl9wb3B1cCAuZnJhbWVfYm94IGlucHV0IHsNCgl2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KCXdpZHRoOiAyMzBweDsNCgltYXJnaW4tcmlnaHQ6IDVweDsNCgltYXJnaW4tbGVmdDogNXB4Ow0KfQ0KI21hZmlhd2lwZXJfcG9wdXAgLmZyYW1lX2JveCBhIHsNCglmbG9hdDogcmlnaHQ7DQp9DQojbWFmaWF3aXBlcl9wb3B1cCAuaW5mbyB7DQoJaGVpZ2h0OiA1MHB4Ow0KCW1hcmdpbjogNXB4Ow0KfQ0KI21hZmlhd2lwZXJfcG9wdXAgLm1lbWJlcl9saXN0IHsNCglib3JkZXI6IDFweCBzb2xpZCAjOTk5Ow0KCWhlaWdodDogMzgwcHg7DQoJbWFyZ2luOiA0cHg7DQoJcGFkZGluZzogNXB4Ow0KCW92ZXJmbG93LXg6IGhpZGRlbjsNCglvdmVyZmxvdy15OiBhdXRvOw0KfQ0KI21hZmlhd2lwZXJfcG9wdXAgLm1lbWJlcl9saXN0IHVsIHsNCglwYWRkaW5nOiAwcHg7DQoJbWFyZ2luOiAwcHg7DQoJbGlzdC1zdHlsZS10eXBlOiBub25lOw0KfQ0KI21hZmlhd2lwZXJfcG9wdXAgLm1lbWJlcl9saXN0IHVsIGxpIHsNCglib3JkZXI6IDFweCBzb2xpZCAjMzMzOw0KCWhlaWdodDogNDVweDsNCgltYXJnaW46IDFweDsNCglvdmVyZmxvdzogaGlkZGVuOw0KfQ0KI21hZmlhd2lwZXJfcG9wdXAgLm1lbWJlcl9saXN0IHVsIGxpIHNwYW4udXNlcl9uYW1lIHsNCglmbG9hdDogbGVmdDsNCgltYXgtd2lkdGg6IDQwMHB4Ow0KCXBhZGRpbmc6IDEycHggNXB4Ow0KfQ0KI21hZmlhd2lwZXJfcG9wdXAgLm1lbWJlcl9saXN0IHVsIGxpIC5idXR0b25zew0KCWZsb2F0OiByaWdodDsNCglwYWRkaW5nOiA4cHggNXB4Ow0KfQ0KI21hZmlhd2lwZXJfcG9wdXAgLm1lbWJlcl9saXN0IHVsIGxpIC5idXR0b25zIGF7DQoJbWFyZ2luLWxlZnQ6IDVweDsNCn0NCg==");Resources.add("menu_default_css","data:text/css;base64,I213YV9tZW51X2Fycm93IHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXotaW5kZXg6IDI1OwoJdG9wOiAyMHB4OwoJbGVmdDogMnB4OwoJd2lkdGg6IDQwcHg7CgloZWlnaHQ6IDQwcHg7Cn0KI213YV9tZW51IHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXotaW5kZXg6IDMwOwoJdG9wOiAxMHB4OwoJbGVmdDogLTE3OHB4OwoJd2lkdGg6IDE4MHB4OwoJbWluLXdpZHRoOiAxODBweDsKCW1heC13aWR0aDogMjQwcHg7Cgktd2Via2l0LWJveC1zaGFkb3c6IDNweCAzcHggMnB4IHJnYmEoMCwgMCwgMCwgMC41KTsKCS1tb3otYm94LXNoYWRvdzogM3B4IDNweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpOwoJYm94LXNoYWRvdzogM3B4IDNweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpOwoJZm9udC1zaXplOiAxMnB4OwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgl0ZXh0LWFsaWduOiBsZWZ0OwoJYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7Cgktd2Via2l0LWJvcmRlci1yYWRpdXM6IDZweDsKICAgIC1tb3otYm9yZGVyLXJhZGl1czogNnB4OwogICAgYm9yZGVyLXJhZGl1czogNnB4Owp9CiNtd2FfbWVudSAubXdhLW1lbnUtdGl0bGUgewogICAgb3BhY2l0eTogMC42Owp9CiNtd2FfbWVudSAubXdhLW1lbnUtdGl0bGUgPiBpbWcgewogICAgZmxvYXQ6IGxlZnQ7CiAgICB3aWR0aDogMjJweDsKICAgIGhlaWdodDogMjJweDsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKfQojbXdhX21lbnUgLm13YS1tZW51LXRpdGxlID4gZGl2IHsKICAgIG1hcmdpbi1sZWZ0OiAyOHB4OwogICAgcGFkZGluZy10b3A6IDJweDsKfQojbXdhX21lbnUgLnVpLXdpZGdldC1oZWFkZXIsCiNtd2FfdG9vbGJhciAudWktd2lkZ2V0LWhlYWRlciB7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDQ0ICFpbXBvcnRhbnQ7Cn0KI213YV9tZW51IC5zdWJtZW51IGRpdi5td2EtbWVudS10b3AsCiNtd2FfdG9vbGJhciAuc3VibWVudSBkaXYubXdhLW1lbnUtdG9wIHsKICAgIGhlaWdodDogMjBweDsKICAgIHBhZGRpbmc6IDBweCA1cHg7CiAgICBsaW5lLWhlaWdodDogMjJweDsKfQojbXdhX21lbnUgLnN1Ym1lbnUgZGl2Lm13YS1tZW51LWJvdHRvbSwKI213YV90b29sYmFyIC5zdWJtZW51IGRpdi5td2EtbWVudS1ib3R0b20gewogICAgaGVpZ2h0OiAxMHB4Owp9CiNtd2FfbWVudSA+IGRpdi5td2EtbWVudS10b3AgewoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHdoaXRlOwoJcGFkZGluZzogNHB4IDBweCA0cHggMTZweDsKCWhlaWdodDogMjBweDsKfQojbXdhX21lbnUgPiBkaXYubXdhLW1lbnUtYm90dG9tLAojbXdhX3Rvb2xiYXIgPiBkaXYubXdhLW1lbnUtYm90dG9tIHsKCWJvcmRlci10b3A6IDFweCBzb2xpZCB3aGl0ZTsKCXBhZGRpbmc6IDRweCAwcHggNHB4IDE2cHg7CgloZWlnaHQ6IDIwcHg7Cn0KI213YV9tZW51IHVsIHsKICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsKICAgIG1hcmdpbjogMHB4OwogICAgcGFkZGluZzogMHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7Cn0KI213YV9tZW51ID4gdWwgewogICAgbWluLWhlaWdodDogMjAwcHg7CiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjNDQ0Owp9CiNtd2FfbWVudSBkaXYuc3VibWVudSwKI213YV90b29sYmFyIGRpdi5zdWJtZW51IHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICB6LWluZGV4OiAzMTsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgIC13ZWJraXQtYm94LXNoYWRvdzogM3B4IDNweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgLW1vei1ib3gtc2hhZG93OiAzcHggM3B4IDJweCByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICBib3gtc2hhZG93OiAzcHggM3B4IDJweCByZ2JhKDAsIDAsIDAsIDAuNSk7Cn0KI213YV9tZW51IGRpdi5zdWJtZW51IHVsIHsKICAgIHdpZHRoOiAyMjBweDsKICAgIG1pbi13aWR0aDogMTgwcHg7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIHRleHQtYWxpZ246IGxlZnQ7Cn0KI213YV9tZW51IC5yaWdodF9hcnJvdyB7CiAgICBiYWNrZ3JvdW5kOiAjMjIyIHVybCgke2Jhc2VfdXJsfW1hcmtldHBsYWNlX3NtYWxsZXJfYXJyb3dfcmlnaHQuZ2lmKSBuby1yZXBlYXQgOTYlIDUwJTsKfQojbXdhX21lbnUgdWwgbGksCiNtd2FfdG9vbGJhciBkaXYuc3VibWVudSB1bCBsaSB7Cgljb2xvcjogd2hpdGU7CglkaXNwbGF5OiBibG9jazsKCW92ZXJmbG93OiBoaWRkZW47CglwYWRkaW5nOiA0cHggMTBweCA0cHggMTBweDsKCWhlaWdodDogMTZweDsKCWN1cnNvcjogcG9pbnRlcjsKCWJhY2tncm91bmQtY29sb3I6ICMyMjI7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgYmxhY2s7Cn0KI213YV9tZW51IGRpdiB7CiAgICBjdXJzb3I6IGRlZmF1bHQ7Cn0KI213YV9tZW51IHVsIGxpOmxhc3QtY2hpbGQsCiNtd2FfdG9vbGJhciBkaXYuc3VibWVudSB1bCBsaTpsYXN0LWNoaWxkIHsKICAgIGJvcmRlci1ib3R0b206IDBweDsKfQojbXdhX21lbnUgdWwgbGkgc3BhbiwKI213YV90b29sYmFyIGRpdi5zdWJtZW51IHVsIGxpIHNwYW4gewogICAgbGluZS1oZWlnaHQ6IDE4cHg7CgliYWNrZ3JvdW5kLXNpemU6IDE2cHggIWltcG9ydGFudDsKICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7Cn0KI213YV9tZW51IHVsIGxpLmltcG9ydGFudCBzcGFuIHsKCWJhY2tncm91bmQtaW1hZ2U6IHVybCgke2Jhc2VfdXJsfWNhdXRpb25Ub3BJY29uLnBuZykgIWltcG9ydGFudDsKCWJhY2tncm91bmQtcG9zaXRpb246IDBweCA1MCUgIWltcG9ydGFudDsKCWJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQgIWltcG9ydGFudDsKfQojbXdhX21lbnUgdWwgbGkubWFpbiB7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgd2hpdGU7Cn0KI213YV9tZW51IHVsIGxpOmhvdmVyLAojbXdhX3Rvb2xiYXIgZGl2LnN1Ym1lbnUgdWwgbGk6aG92ZXIgewoJYmFja2dyb3VuZC1jb2xvcjogIzMyMzIzMjsKCWNvbG9yOiAjRkZEOTI3Owp9CiNtd2FfbWVudSAubXdhLW1lbnUtd3JhcHBlciB7CiAgICBtYXgtaGVpZ2h0OiAyNzVweDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDQ0OwogICAgbWluLWhlaWdodDogMTAwcHg7CiAgICBiYWNrZ3JvdW5kOiBibGFjazsKfQojbXdhX21lbnUgaW5wdXQsCiNtd2FfdG9vbGJhciBpbnB1dCB7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGNvbG9yOiAjRDBEMEQwOwogICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTsKICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOwogICAgLW1vei1ib3JkZXItcmFkaXVzOiAzcHg7CiAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDNweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGxpbmUtaGVpZ2h0OiAxNHB4OwogICAgbWluLWhlaWdodDogMTRweDsKICAgIG1hcmdpbjogMHB4IDJweDsKICAgIGhlaWdodDogMTRweDsKICAgIHBhZGRpbmc6IDBweCA1cHg7CiAgICBtYXgtaGVpZ2h0OiAxNHB4OwogICAgd2lkdGg6IDE0MHB4Owp9Cg==");
Resources.add("multigifter_popup_css","data:text/css;base64,I211bHRpZ2lmdGVyX3BvcHVwIHsNCiAgICBtaW4taGVpZ2h0OiA3ODVweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCBkaXYuY29udHJvbGJhciB7DQogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7YmFzZV91cmx9bWFwX2Jhc2VkX2pvYnMvZXhwZXJ0X3ZpZXcvZXhwZXJ0dmlld19uYXZfbWlkLmdpZik7DQogICAgYm9yZGVyLWNvbG9yOiBibGFjazsNCiAgICBoZWlnaHQ6IDM1cHg7DQogICAgbWF4LWhlaWdodDogMzVweDsNCiAgICBvdmVyZmxvdy15OiBoaWRkZW47DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICB3aWR0aDogYXV0bzsNCiAgICBjbGVhcjogYm90aDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCBkaXYuY29udHJvbGJhciBkaXYubGVmdHNpZGUgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIHdpZHRoOiA0MDBweDsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgbGluZS1oZWlnaHQ6IDI4cHg7DQogICAgcGFkZGluZy1sZWZ0OiA1cHg7DQogICAgbWF4LWhlaWdodDogMzBweDsNCiAgICBtYXgtd2lkdGg6IDQwMHB4Ow0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwIGRpdi5jb250cm9sYmFyIGRpdi5yaWdodHNpZGUgew0KICAgIGZsb2F0OiByaWdodDsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgbGluZS1oZWlnaHQ6IDI4cHg7DQogICAgbWF4LWhlaWdodDogMzBweDsNCiAgICBtYXJnaW4tcmlnaHQ6IDVweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCBkaXYuY29udHJvbGJhciBkaXYucmlnaHRzaWRlIGEsDQojbXVsdGlnaWZ0ZXJfcG9wdXAgZGl2LmNvbnRyb2xiYXIgZGl2LmxlZnRzaWRlIGEsDQojbXVsdGlnaWZ0ZXJfcG9wdXAgI3RhYl9zZWFyY2ggYnV0dG9uLA0KI211bHRpZ2lmdGVyX3BvcHVwICNmaWx0ZXJfY29udGFpbmVyXzEgYnV0dG9uIHsNCiAgICBtYXJnaW4tbGVmdDogNXB4Ow0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwICNmaWx0ZXJfY29udGFpbmVyXzEgPiBjZW50ZXIgYnV0dG9uIHsNCiAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDsNCiAgICBsaW5lLWhlaWdodDogMThweCAhaW1wb3J0YW50Ow0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwICN1c2VyX3BhZ2VfYm94LA0KI211bHRpZ2lmdGVyX3BvcHVwICNnaWZ0X3BhZ2VfYm94IHsNCiAgICBmbG9hdDogcmlnaHQ7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgZGl2LnRhYl9jb250YWluZXIgew0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgaGVpZ2h0OiAxODBweDsNCiAgICB3aWR0aDogMzEycHg7DQogICAgYm9yZGVyOiAxcHggZG90dGVkICMzMzM7DQogICAgcGFkZGluZzogMXB4IDBweCAxcHggMTBweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCBkaXYuY29udHJvbHMgew0KICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke2Jhc2VfdXJsfW1hcF9iYXNlZF9qb2JzL2V4cGVydF92aWV3L2V4cGVydHZpZXdfbmF2X21pZC5naWYpOw0KICAgIGhlaWdodDogMzhweDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgd2lkdGg6IGF1dG87DQogICAgYm9yZGVyLWNvbG9yOiBibGFjazsNCiAgICBjbGVhcjogYm90aDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCBkaXYuY29udHJvbHMgI3N0YXJ0X2NvbnRyb2xzIGEubWVkaXVtIHsNCiAgICBtYXJnaW4tbGVmdDogNXB4Ow0KICAgIG1hcmdpbi10b3A6IDJweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCBkaXYuY29udHJvbHMgI3N0YXJ0X2NvbnRyb2xzIGEuc2hvcnQgew0KICAgIG1hcmdpbi1sZWZ0OiA1cHg7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgZGl2LmNvbnRyb2xzICNmaW5pc2hfY29udHJvbHMgYS5zaG9ydCB7DQogICAgbWFyZ2luOiA0cHg7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgZGl2LmNvbnRyb2xzICNtZXNzYWdlX2NvbnRyb2xzIHsNCiAgICB3aWR0aDogYXV0bzsNCiAgICBwYWRkaW5nLXRvcDogMTBweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCBkaXYuY29udHJvbHMgI3N0YXR1c19jb250cm9scyB7DQogICAgaGVpZ2h0OiAzNXB4Ow0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwIGRpdi5jb250cm9scyAjc3RhdHVzX2NvbnRyb2xzICNjYW5jZWxfYnV0dG9uIHsNCiAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7DQogICAgbWFyZ2luLXRvcDogNHB4Ow0KICAgIGZsb2F0OiByaWdodDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCBkaXYuY29udHJvbHMgI3N0YXR1c19jb250cm9scyBpbWd7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgbWFyZ2luOiAxMHB4IDBweCAxMHB4IDE1cHg7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgZGl2LmNvbnRyb2xzICNzdGF0dXNfY29udHJvbHMgLmpvYl9zdGF0dXMgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG1hcmdpbi1sZWZ0OiA0MHB4Ow0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgZGl2LmNvbnRyb2xzICNzdGF0dXNfY29udHJvbHMgLmpvYl9zdGF0dXMgLmN1cnJlbnRfam9iIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtYXJnaW4tcmlnaHQ6IDVweDsNCiAgICBjb2xvcjogZ3JlZW47DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgZGl2LmNvbnRyb2xzICNzdGF0dXNfY29udHJvbHMgLmpvYl9zdGF0dXMgI25leHRfZ2lmdF90aW1lciB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgbWFyZ2luLWxlZnQ6IDVweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCBkaXYuY29udHJvbHMgI3N0YXR1c19jb250cm9scyAuam9iX3N0YXR1cyAjc3RhdHVzX2N1cnJlbnRfam9iX3RleHQgew0KICAgIHdpZHRoOiAzMDBweDsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBjb2xvcjogZ3JleTsNCiAgICBvdmVyZmxvdzogYXV0bzsNCiAgICBtYXgtd2lkdGg6IDMwMHB4Ow0KICAgIG1heC1oZWlnaHQ6IDE5cHg7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgZGl2LmNvbnRyb2xzICNzdGF0dXNfY29udHJvbHMgLmpvYl9zdGF0dXMgI3N0YXR1c19zZW5kX21lc3NhZ2Ugew0KICAgIHdpZHRoOiA1MDBweDsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIG1heC13aWR0aDogNTAwcHg7DQogICAgbWF4LWhlaWdodDogMTlweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAgZGl2LmdpZnRfZGVsYXkgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG1hcmdpbjogNXB4Ow0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAjbWdwYWdlX3ByZXYgew0KICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybCgke2Jhc2VfdXJsfWludmVudG9yeS9GaWx0ZXJEcm9wRG93bi9pbnZlbnRvcnlfYXJyb3dfaW5hY3RpdmVfbGVmdC5wbmcpIG5vLXJlcGVhdDsNCiAgICBjdXJzb3I6IGRlZmF1bHQ7DQogICAgbGluZS1oZWlnaHQ6IDE2cHg7DQogICAgcGFkZGluZy1sZWZ0OiAxNnB4Ow0KICAgIHdpZHRoOiAxNnB4Ow0KICAgIG1hcmdpbjogMDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAjbWdwYWdlX3ByZXYuYWN0aXZlIHsNCiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCB1cmwoJHtiYXNlX3VybH1pbnZlbnRvcnkvRmlsdGVyRHJvcERvd24vaW52ZW50b3J5X2Fycm93X2FjdGl2ZV9sZWZ0LnBuZykgbm8tcmVwZWF0Ow0KICAgIGN1cnNvcjogcG9pbnRlcjsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAjbWdwYWdlX25leHR7DQogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgdXJsKCR7YmFzZV91cmx9aW52ZW50b3J5L0ZpbHRlckRyb3BEb3duL2ludmVudG9yeV9hcnJvd19pbmFjdGl2ZV9yaWdodC5wbmcpIG5vLXJlcGVhdDsNCiAgICBjdXJzb3I6IGRlZmF1bHQ7DQogICAgbGluZS1oZWlnaHQ6IDE2cHg7DQogICAgcGFkZGluZy1sZWZ0OiAxNnB4Ow0KICAgIHdpZHRoOiAxNnB4Ow0KICAgIG1hcmdpbjogMDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAjbWdwYWdlX25leHQuYWN0aXZlIHsNCiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCB1cmwoJHtiYXNlX3VybH1pbnZlbnRvcnkvRmlsdGVyRHJvcERvd24vaW52ZW50b3J5X2Fycm93X2FjdGl2ZV9yaWdodC5wbmcpIG5vLXJlcGVhdDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgI3NlbGVjdGVkX3VzZXJzIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICB3aWR0aDogMzIwcHg7DQogICAgaGVpZ2h0OiAxNjZweDsNCiAgICBvdmVyZmxvdzogYXV0bzsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgYm9yZGVyOiAxcHggZG90dGVkICMzMzM7DQogICAgcGFkZGluZzogMHB4IDFweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAgI3NlbGVjdGVkX3VzZXJzIGRpdiB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzIxMjEyMTsNCiAgICBtYXJnaW46IDJweDsNCiAgICBwYWRkaW5nOiAycHggOHB4Ow0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzMzMzsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAgI3NlbGVjdGVkX3VzZXJzIGRpdiBhIHsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgbWFyZ2luLWxlZnQ6IDVweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAjbWdsaXN0X3F1ZXVlIHsNCiAgICB3aWR0aDogYXV0bzsNCiAgICBoZWlnaHQ6IDMyMHB4Ow0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgcGFkZGluZzogMHB4IDZweDsNCiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMTUzLCAxNTMsIDE1Myk7DQogICAgY2xlYXI6IGJvdGg7DQogICAgb3ZlcmZsb3cteDogaGlkZGVuOw0KICAgIG92ZXJmbG93LXk6IGF1dG87DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgI21nbGlzdF9xdWV1ZSBkaXYucXVldWVfaXRlbSB7DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzMzM7DQogICAgY2xlYXI6IGJvdGg7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgbWFyZ2luLXRvcDogNXB4Ow0KICAgIHBhZGRpbmctYm90dG9tOiA1cHg7DQogICAgd2lkdGg6IGF1dG87DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgI21nbGlzdF9xdWV1ZSBkaXYucXVldWVfaXRlbSBkaXYuc3RhdHVzIHsNCiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7DQogICAgYm9yZGVyOiAwcHg7DQogICAgZmxvYXQ6IGxlZnQ7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgI21nbGlzdF9xdWV1ZSBkaXYucXVldWVfaXRlbSBkaXYuc3RhdHVzIGRpdiB7DQogICAgYmFja2dyb3VuZDogdXJsKCIke2Jhc2VfdXJsfWZsYWdzL213X21lc3NhZ2Vib3hfY2hlY2tib3gyX25vcm1hbGl6ZWQuZ2lmIikgbm8tcmVwZWF0IHNjcm9sbCAwJSAwJSB0cmFuc3BhcmVudDsNCiAgICBtYXJnaW46IDEwcHg7DQogICAgbWluLWhlaWdodDogMjBweDsNCiAgICBtaW4td2lkdGg6IDIwcHg7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgI21nbGlzdF9xdWV1ZSBkaXYucXVldWVfaXRlbSBkaXYuc3RhdHVzIGRpdi5jb21wbGV0ZSB7DQogICAgYmFja2dyb3VuZDogdXJsKCIke2Jhc2VfdXJsfWZsYWdzL213X21lc3NhZ2Vib3hfY2hlY2tib3gxX25vcm1hbGl6ZWQuZ2lmIikgbm8tcmVwZWF0IHNjcm9sbCAwJSAwJSB0cmFuc3BhcmVudDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAjbWdsaXN0X3F1ZXVlIGRpdi5xdWV1ZV9pdGVtIGRpdi5pY29uIHsNCiAgICBib3JkZXI6IDBweDsNCiAgICBmbG9hdDogbGVmdDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAjbWdsaXN0X3F1ZXVlIGRpdi5xdWV1ZV9pdGVtIHRhYmxlIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtYXJnaW4tbGVmdDogMTBweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAjbWdsaXN0X3F1ZXVlIGRpdi5xdWV1ZV9pdGVtIHRhYmxlICNxdWV1ZV9qb2JfbmFtZS5qb2JfdHh0IHsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAjbWdsaXN0X3F1ZXVlIGRpdi5xdWV1ZV9pdGVtIHRhYmxlIC5qb2JfdHh0IHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgbWFyZ2luLWxlZnQ6IDE1cHg7DQogICAgdmVydGljYWwtYWxpZ246IHRvcDsNCiAgICBjb2xvcjogd2hpdGU7DQogICAgd2lkdGg6IDQ1MHB4Ow0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwIC5jaGVja2JveGxpc3Qgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7DQogICAgaGVpZ2h0OiAxMDRweDsNCiAgICBtYXJnaW46IDFweDsNCiAgICBwYWRkaW5nOiAxcHg7DQogICAgd2lkdGg6IDIyMHB4Ow0KICAgIG92ZXJmbG93LXg6IGhpZGRlbjsNCiAgICBvdmVyZmxvdy15OiBhdXRvOw0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwIC50YWJfYm94X2NvbnRlbnQgY2VudGVyIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtYXJnaW46IDE1cHggMHB4IDBweCAzcHg7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgLml0ZW1fbGlzdCB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgcGFkZGluZzogMXB4Ow0KICAgIHdpZHRoOiA0MDBweDsNCiAgICBib3JkZXI6IDFweCBkb3R0ZWQgIzMzMzsNCiAgICBvdmVyZmxvdy14OiBoaWRkZW47DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICBtYXJnaW4tbGVmdDogMXB4Ow0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwIC5pdGVtX2xpc3QgdWwgew0KICAgIG1hcmdpbjogMHB4OyANCiAgICBwYWRkaW5nOiAwcHg7DQogICAgbGlzdC1zdHlsZS10eXBlOiBub25lOw0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwIC5pdGVtX2xpc3QgdWwgbGkgew0KICAgIHdpZHRoOiBhdXRvOw0KICAgIG1hcmdpbjogMXB4OyANCiAgICBoZWlnaHQ6IDMwcHg7IA0KICAgIGJvcmRlcjogMXB4IHNvbGlkICMzMzMzMzM7IA0KICAgIG92ZXJmbG93OiBoaWRkZW47IA0KICAgIGN1cnNvcjogcG9pbnRlcjsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAuaXRlbV9saXN0IHVsIGxpIC5mYXZvcml0ZSB7DQogICAgYmFja2dyb3VuZDogdXJsKCIke2Jhc2VfdXJsfXYzL2ljb25fd2lzaGxpc3RfYWRkXzE5eDE0XzAxLmdpZiIpIG5vLXJlcGVhdCBzY3JvbGwgMCUgMCUgdHJhbnNwYXJlbnQ7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIGZsb2F0OiByaWdodDsNCiAgICBoZWlnaHQ6IDE0cHg7DQogICAgbWFyZ2luOiA4cHg7DQogICAgd2lkdGg6IDE5cHg7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgLml0ZW1fbGlzdCB1bCBsaSAuZmF2b3JpdGUucmVtb3ZlIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoIiR7YmFzZV91cmx9djMvaWNvbl93aXNobGlzdF9yZW1vdmVfMTl4MTRfMDEuZ2lmIikgbm8tcmVwZWF0IHNjcm9sbCAwJSAwJSB0cmFuc3BhcmVudDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCBkaXYjZ2lmdF9saXN0IHsNCiAgICBoZWlnaHQ6IDE4MHB4Ow0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwIGRpdiN1c2VyX2xpc3Qgew0KICAgIGhlaWdodDogMTY0cHg7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgZGl2I2dpZnRfbGlzdCB1bCBsaSBkaXYuaXRlbV9uYW1lIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICB3aWR0aDogMjkwcHg7DQogICAgaGVpZ2h0OiAxN3B4Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgcGFkZGluZzogNnB4IDBweDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwIGRpdiNnaWZ0X2xpc3QgdWwgbGkgaW1nIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBoZWlnaHQ6IDI1cHg7DQogICAgbWFyZ2luOiAycHggMTBweDsNCiAgICB3aWR0aDogMjVweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCBkaXYjdXNlcl9saXN0IHVsIGxpIGRpdi5jaGVja2JveCB7DQogICAgYmFja2dyb3VuZDogdXJsKCIke2Jhc2VfdXJsfWZsYWdzL213X21lc3NhZ2Vib3hfY2hlY2tib3gyX25vcm1hbGl6ZWQuZ2lmIikgbm8tcmVwZWF0IHNjcm9sbCAwJSAwJSB0cmFuc3BhcmVudDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIG1hcmdpbjogNXB4IDBweCAwcHggMTBweDsNCiAgICBtaW4taGVpZ2h0OiAyMHB4Ow0KICAgIHdpZHRoOiAzMDBweDsgDQogICAgcGFkZGluZy1sZWZ0OiAzMHB4OyANCiAgICBoZWlnaHQ6IDIwcHg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIGZsb2F0OiBsZWZ0Ow0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwIGRpdiN1c2VyX2xpc3QgdWwgbGkuc2VsZWN0ZWQgZGl2LmNoZWNrYm94IHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoIiR7YmFzZV91cmx9ZmxhZ3MvbXdfbWVzc2FnZWJveF9jaGVja2JveDFfbm9ybWFsaXplZC5naWYiKSBuby1yZXBlYXQgc2Nyb2xsIDAlIDAlIHRyYW5zcGFyZW50Ow0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwIGRpdiNnaWZ0X2xpc3QgdWwgbGkuc2VsZWN0ZWQgeyANCiAgICBib3JkZXI6IDFweCBzb2xpZCAjRkZGRjAwOw0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwICNtYWluX2xvZyB7DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBkaXNwbGF5OiBub25lOw0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICBwYWRkaW5nOiA1cHg7DQp9DQojbXVsdGlnaWZ0ZXJfcG9wdXAgI21haW5fbG9nIHRleHRhcmVhIHsNCiAgICB3aWR0aDogNzA1cHg7DQogICAgaGVpZ2h0OiAyMDBweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAjbWFpbl9sb2cgI3N0YXR1c19jb250cm9scyB7DQogICAgcGFkZGluZzogMjBweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAjbWFpbl9sb2cgI2ZpbmlzaF9jb250cm9scyBhIHsNCiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwICNtYWluX2NvbnRhaW5lciB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHdpZHRoOiAxMDAlOw0KfQ0KI211bHRpZ2lmdGVyX3BvcHVwICN2ZXJ0aWNhbF9zcGFjZXIgew0KICAgIGNsZWFyOiBib3RoOw0KICAgIHBhZGRpbmctdG9wOiA0MjJweDsNCn0NCiNtdWx0aWdpZnRlcl9wb3B1cCAuYWRkdGl0bGUgew0KICAgIGhlaWdodDogMzBweDsNCiAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICMzMzM7DQogICAgbWFyZ2luLWJvdHRvbTogMTVweDsNCiAgICBmb250LXNpemU6IDE4cHg7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgY29sb3I6ICM5ODk4OTg7DQp9");
Resources.add("operationscenter_popup_css","data:text/css;base64,I29wZXJhdGlvbnNjZW50ZXJfcG9wdXAgLmV4dGVuZGVkX2luZm8gew0KCWJvcmRlcjogMXB4IHNvbGlkICM0RjRGNEY7IA0KCWhlaWdodDogODBweDsNCgltYXJnaW46IDVweDsNCglwYWRkaW5nOiAxMHB4Ow0KCXRleHQtYWxpZ246IGxlZnQ7DQp9DQojb3BlcmF0aW9uc2NlbnRlcl9wb3B1cCAuZXh0ZW5kZWRfaW5mbyAuZ3JvdXBzX3NlbGVjdGlvbiB7DQoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzMzM7DQoJd2lkdGg6IDEwMCU7DQoJbWFyZ2luLWJvdHRvbTogMnB4Ow0KCWhlaWdodDogMzBweDsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIC5leHRlbmRlZF9pbmZvIC5sZWZ0X2JveCB7DQoJZmxvYXQ6IGxlZnQ7DQoJbWFyZ2luLXRvcDogNnB4Ow0KfQ0KI29wZXJhdGlvbnNjZW50ZXJfcG9wdXAgLmV4dGVuZGVkX2luZm8gLmxlZnRfYm94IC5zZXh5X2J1dHRvbl9uZXcgew0KCW1hcmdpbi10b3A6IDVweDsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIC5leHRlbmRlZF9pbmZvIC5yaWdodF9ib3ggew0KCWZsb2F0OiByaWdodDsNCgltYXJnaW4tdG9wOiA1cHg7DQoJdGV4dC1hbGlnbjogcmlnaHQ7DQp9DQojb3BlcmF0aW9uc2NlbnRlcl9wb3B1cCAuZXh0ZW5kZWRfaW5mbyAucmlnaHRfYm94IC5zZXh5X2J1dHRvbl9uZXcgew0KCW1hcmdpbi10b3A6IDVweDsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIC5leHRlbmRlZF9pbmZvIC51c2VyX3N0YXRzIHsNCgloZWlnaHQ6IDcwcHg7DQoJbWFyZ2luLWxlZnQ6IDIzMHB4Ow0KCW1hcmdpbi1yaWdodDogMjUwcHg7DQoJbWFyZ2luLXRvcDogMjBweDsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIC5leHRlbmRlZF9pbmZvICAuc3RhdCBoNCB7DQoJbWFyZ2luOiAwcHg7DQp9CQ0KI29wZXJhdGlvbnNjZW50ZXJfcG9wdXAgLmV4dGVuZGVkX2luZm8gICNzdGF0X3N0YW1pbmFfY29udCBoNCB7DQoJcGFkZGluZy1sZWZ0OiAyMHB4Ow0KfQ0KI29wZXJhdGlvbnNjZW50ZXJfcG9wdXAgLmV4dGVuZGVkX2luZm8gdGV4dGFyZWEgew0KCXdpZHRoOiA1MDBweDsNCgloZWlnaHQ6IDEyMHB4Ow0KfQ0KI29wZXJhdGlvbnNjZW50ZXJfcG9wdXAgLmV4dGVuZGVkX2luZm8gLnNob3J0aW5nX2J1dHRvbnMgew0KCWZsb2F0OiByaWdodDsNCgltYXJnaW4tcmlnaHQ6IDUwcHg7DQoJbWFyZ2luLXRvcDogMjBweDsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIHVsIHsNCglsaXN0LXN0eWxlLXR5cGU6IG5vbmU7DQoJb3ZlcmZsb3c6IGF1dG87DQoJdGV4dC1hbGlnbjogbGVmdDsNCglib3JkZXI6IDJweCBzb2xpZCAjMzMzOw0KCW1hcmdpbjogNXB4Ow0KCXBhZGRpbmc6IDVweDsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIHVsIGxpIHsNCgloZWlnaHQ6IDk1cHg7DQoJbWluLWhlaWdodDogMzVweDsNCgltYXgtaGVpZ2h0OiAxMDBweDsNCglwYWRkaW5nOiAwcHggOHB4IDBweCA4cHg7DQoJbWFyZ2luLWJvdHRvbTogNXB4Ow0KCWJvcmRlcjogMXB4IHNvbGlkICMzMzM7DQp9DQojb3BlcmF0aW9uc2NlbnRlcl9wb3B1cCB1bCBsaSAubWlzc2lvbl9oZWFkZXIgew0KCWNsZWFyOiBib3RoOw0KCWhlaWdodDogMjBweDsNCglib3JkZXItYm90dG9tOiAxcHggc29saWQgIzQ0NDsNCgltYXJnaW4tYm90dG9tOiAzcHg7DQp9DQojb3BlcmF0aW9uc2NlbnRlcl9wb3B1cCB1bCBsaSBpbWcgew0KCWJvcmRlcjogMXB4IHNvbGlkIGdyZXk7DQoJZmxvYXQ6IGxlZnQ7DQoJd2lkdGg6IDEyMHB4Ow0KCWhlaWdodDogNjdweDsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIHVsIGxpIGRpdi5zdGF0cyB7DQoJbWFyZ2luLWxlZnQ6IDEyNXB4Ow0KCWhlaWdodDogNzBweDsNCgltYXJnaW4tcmlnaHQ6IDEyMHB4Ow0KfQ0KI29wZXJhdGlvbnNjZW50ZXJfcG9wdXAgdWwgbGkgLm9wZXJhdGlvbl9zdGF0dXMgew0KCWZvbnQtc2l6ZTogMTRweDsNCglmbG9hdDogcmlnaHQ7DQp9CQ0KI29wZXJhdGlvbnNjZW50ZXJfcG9wdXAgdWwgbGkgLm9wZXJhdGlvbl9uYW1lIHsNCglmb250LXNpemU6IDE1cHg7DQoJY29sb3I6ICNGRkNEMDA7DQoJdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCglmb250LXdlaWdodDogYm9sZDsNCgltYXJnaW4tcmlnaHQ6IDE1cHg7DQp9DQojb3BlcmF0aW9uc2NlbnRlcl9wb3B1cCB1bCBsaSAjam9iX3Jlc3VsdCB7DQoJdGV4dC1hbGlnbjogbGVmdDsNCgl3aWR0aDogMTAwJTsNCgloZWlnaHQ6IDEwMCU7DQoJcGFkZGluZzogNXB4IDBweCAwcHggNXB4Ow0KCWZvbnQtc2l6ZTogMTJweDsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIHVsIGxpIGRpdi50YXNrX2J1dHRvbnMgew0KCWZsb2F0OiByaWdodDsNCglmb250LXNpemU6IDEwcHg7DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJdGV4dC1hbGlnbjogcmlnaHQ7DQoJbWFyZ2luOiAxNXB4IDBweCAwcHggNXB4Ow0KfQ0KI29wZXJhdGlvbnNjZW50ZXJfcG9wdXAgdWwgbGkgZGl2LnRhc2tfYnV0dG9ucyBhLmlnbm9yZSB7DQoJdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCn0NCi50YXNrX21hc3Rlcnkgew0KCXBhZGRpbmc6IDAgMTBweCAwIDA7DQoJbWFyZ2luOiAwcHg7DQoJYmFja2dyb3VuZDogdXJsKCIke2Jhc2VfdXJsfW1hcF9iYXNlZF9qb2JzL21hc3RlcnlfYmFyX2JnLmdpZiIpIDAgMCByZXBlYXQteDsNCglib3JkZXI6IDFweCBzb2xpZCAjOTk5Ow0KCWNvbG9yOiAjOTk5Ow0KCWZvbnQtc2l6ZTogMTFweDsNCgloZWlnaHQ6IDE0cHg7DQoJbGluZS1oZWlnaHQ6IDE2cHg7DQoJcG9zaXRpb246IHJlbGF0aXZlOw0KCXRleHQtYWxpZ246IHJpZ2h0Ow0KCXdpZHRoOiA0MDBweDsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIHVsIGxpIC50YXNrX21hc3RlcnkgZGl2IHsNCgliYWNrZ3JvdW5kOiB1cmwoIiR7YmFzZV91cmx9c29jaWFsbWlzc2lvbnMvcGVyY2VudF9iYXJfeWVsbG93LmdpZiIpIDAgMCByZXBlYXQteDsNCgloZWlnaHQ6IDE0cHg7DQoJb3ZlcmZsb3c6IGhpZGRlbjsNCglwb3NpdGlvbjogYWJzb2x1dGU7DQoJdG9wOiAwcHg7DQoJbGVmdDogMHB4Ow0KfQ0KLnRhc2tfbWFzdGVyeSBkaXYgcCB7DQoJY29sb3I6IGJsYWNrOw0KCW1hcmdpbjogMHB4IDBweCAwcHggNXB4Ow0KCXBhZGRpbmc6IDBweCAwcHggMHB4IDBweDsNCglwb3NpdGlvbjogYWJzb2x1dGU7DQoJdG9wOiAwcHg7DQoJbGVmdDogMHB4Ow0KCXdpZHRoOiA0MDBweDsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIHVsIGxpIC50YXNrX25hbWUgew0KCWZsb2F0OiBsZWZ0Ow0KCWNvbG9yOiAjRkZDRDAwOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KCWZvbnQtc2l6ZTogMTRweDsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIHVsIGxpIC50YXNrX2JveCB7DQoJd2lkdGg6IDQwcHg7DQoJZmxvYXQ6IGxlZnQ7DQoJbWFyZ2luOiAycHggMnB4IDBweCAwcHg7DQoJcG9zaXRpb246IHJlbGF0aXZlOw0KCWNsZWFyOiBub25lOw0KCWJhY2tncm91bmQtY29sb3I6IGJsYWNrOw0KCWJvcmRlcjogMXB4IHNvbGlkICM5OTk7DQp9DQojb3BlcmF0aW9uc2NlbnRlcl9wb3B1cCB1bCBsaSAudGFza19pbWFnZSB7DQoJaGVpZ2h0OiA0MHB4Ow0KCXdpZHRoOiA0MHB4Ow0KCXRleHQtYWxpZ246IGNlbnRlcjsNCn0NCiNvcGVyYXRpb25zY2VudGVyX3BvcHVwIHVsIGxpIC50YXNrX2ltYWdlIGltZyB7DQoJd2lkdGg6IDM4cHg7DQoJaGVpZ2h0OiAzOHB4Ow0KfQ0KI29wZXJhdGlvbnNjZW50ZXJfcG9wdXAgdWwgbGkgLnRhc2tfc3RhdHVzIHsNCgliYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1zb2NpYWxtaXNzaW9ucy9wZXJjZW50X2Jhcl9ibGFuay5naWYpIDAgMCBuby1yZXBlYXQ7DQoJd2lkdGg6IDQwcHg7DQoJaGVpZ2h0OiA3cHg7DQoJZm9udC1zaXplOiA5cHg7DQoJZm9udC1mYW1pbHk6IGZhbnRhc3k7DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJZmxvYXQ6IGxlZnQ7DQoJcGFkZGluZzogMCAwIDAgMDsNCglkaXJlY3Rpb246IGx0cjsNCgktbW96LW1hcmdpbi1zdGFydDogLTFweDsNCgktd2Via2l0LW1hcmdpbi1zdGFydDogLTFweDsNCglib3JkZXI6IDFweCBzb2xpZCAjOTk5Ow0KCWNvbG9yOiAjOTk5Ow0KCWxpbmUtaGVpZ2h0OiAxNHB4Ow0KCXBvc2l0aW9uOiByZWxhdGl2ZTsNCgl0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQojb3BlcmF0aW9uc2NlbnRlcl9wb3B1cCB1bCBsaSAudGFza19zdGF0dXMgZGl2IHsNCgliYWNrZ3JvdW5kOiB1cmwoIiR7YmFzZV91cmx9c29jaWFsbWlzc2lvbnMvcGVyY2VudF9iYXJfeWVsbG93LmdpZiIpIDAgMCByZXBlYXQteDsNCgloZWlnaHQ6IDE0cHg7DQoJb3ZlcmZsb3c6IGhpZGRlbjsNCglwb3NpdGlvbjogYWJzb2x1dGU7DQoJdG9wOiAwOw0KCWxlZnQ6IDA7DQp9DQojb3BlcmF0aW9uc2NlbnRlcl9wb3B1cCB1bCBsaSAudGFza19zdGF0dXMgZGl2LmZpbGwgew0KCWJhY2tncm91bmQ6IHVybCgiJHtiYXNlX3VybH1zb2NpYWxtaXNzaW9ucy9wZXJjZW50X2Jhcl9ncmVlbi5naWYiKSAwIDAgcmVwZWF0LXg7DQoJaGVpZ2h0OiAxMDAlOw0KfQ0KI29wZXJhdGlvbnNjZW50ZXJfcG9wdXAgI2lnbm9yZWRfY291bnQgew0KCQljb2xvcjogZ3JlZW47DQp9DQojb3BlcmF0aW9uc2NlbnRlcl9wb3B1cCB1bCBsaSAubWFzdGVyZWRfbWVzc2FnZSB7DQoJY29sb3I6IGdyZWVuOw0KCWZvbnQtc2l6ZTogMTJweDsNCgloZWlnaHQ6IDE2cHg7DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQp9");
Resources.add("pluginmanager_popup_css","data:text/css;base64,I3BsdWdpbm1hbmFnZXJfcG9wdXAgaHIgew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICMyMjIyMjI7DQp9DQojcGx1Z2lubWFuYWdlcl9wb3B1cCAuY29uZmlnX3dyYXBwZXIgew0KICAgIHdpZHRoOiA4MCU7DQogICAgbWFyZ2luOiAwcHggYXV0byAxMHB4Ow0KICAgIGZvbnQtc2l6ZTogMTNweDsNCn0NCiNwbHVnaW5tYW5hZ2VyX3BvcHVwIC5jb25maWdfd3JhcHBlciBpbnB1dCwNCiNwbHVnaW5tYW5hZ2VyX3BvcHVwIC5jb25maWdfd3JhcHBlciBzZWxlY3QsDQojcGx1Z2lubWFuYWdlcl9wb3B1cCAuY29uZmlnX3dyYXBwZXIgdGV4dGFyZWEgew0KICAgIHdpZHRoOiAxMDAlOw0KfQ0KI3BsdWdpbm1hbmFnZXJfcG9wdXAgZmllbGRzZXQgew0KICAgIGJvcmRlcjogMHB4Ow0KICAgIHBhZGRpbmc6IDBweDsNCiAgICBtYXJnaW46IDBweCAwcHggNnB4IDBweDsNCn0NCiNwbHVnaW5tYW5hZ2VyX3BvcHVwIC5wb3BfYm94IC5pY29uX2JveCB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgYm9yZGVyOiAxcHggZG90dGVkICM4ODg7DQogICAgaGVpZ2h0OiAzMnB4Ow0KICAgIHdpZHRoOiAzMnB4Ow0KICAgIG1hcmdpbjogNHB4Ow0KfQ0KI3BsdWdpbm1hbmFnZXJfcG9wdXAgLnBvcF9ib3ggLmljb25fYm94IGltZyB7DQogICAgd2lkdGg6IDMycHg7DQogICAgaGVpZ2h0OiAzMnB4Ow0KfQ0KI3BsdWdpbm1hbmFnZXJfcG9wdXAgZGl2LmltYWdlX2ljb24gew0KICAgIHdpZHRoOiAzMnB4Ow0KICAgIGhlaWdodDogMzJweDsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IDMycHg7DQogICAgbWFyZ2luOiAtMnB4IC0ycHg7DQogICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlOw0KfQ0KI3BsdWdpbm1hbmFnZXJfcG9wdXAgZGl2LmRpc2NsYWltZXJfbm90aWNlIHsNCiAgICBoZWlnaHQ6IDI2MHB4Ow0KICAgIG92ZXJmbG93OiBhdXRvOw0KICAgIHdpZHRoOiBhdXRvOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICMyMjI7DQogICAgcGFkZGluZzogNXB4Ow0KfQ0KI3BsdWdpbm1hbmFnZXJfcG9wdXAgLmNoZWNrYm94IHsNCiAgICBtYXJnaW46IDBweCAhaW1wb3J0YW50Ow0KfQ0K");Resources.add("remindermanager_popup_css","data:text/css;base64,I3JlbWluZGVybWFuYWdlcl9wb3B1cCBociB7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzIyMjIyMjsNCn0NCiNyZW1pbmRlcm1hbmFnZXJfcG9wdXAgLmNvbmZpZ193cmFwcGVyIHsNCiAgICB3aWR0aDogODAlOw0KICAgIG1hcmdpbjogMHB4IGF1dG8gMTBweDsNCiAgICBmb250LXNpemU6IDEzcHg7DQp9DQojcmVtaW5kZXJtYW5hZ2VyX3BvcHVwIC5jb25maWdfd3JhcHBlciBpbnB1dCwNCiNyZW1pbmRlcm1hbmFnZXJfcG9wdXAgLmNvbmZpZ193cmFwcGVyIHNlbGVjdCwNCiNyZW1pbmRlcm1hbmFnZXJfcG9wdXAgLmNvbmZpZ193cmFwcGVyIHRleHRhcmVhIHsNCiAgICB3aWR0aDogMTAwJTsNCn0NCiNyZW1pbmRlcm1hbmFnZXJfcG9wdXAgZmllbGRzZXQgew0KICAgIGJvcmRlcjogMHB4Ow0KICAgIHBhZGRpbmc6IDBweDsNCiAgICBtYXJnaW46IDBweCAwcHggNnB4IDBweDsNCn0NCiNyZW1pbmRlcm1hbmFnZXJfcG9wdXAgLnBvcF9ib3ggLmljb25fYm94IHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBib3JkZXI6IDFweCBkb3R0ZWQgIzg4ODsNCiAgICBoZWlnaHQ6IDMycHg7DQogICAgd2lkdGg6IDMycHg7DQogICAgbWFyZ2luOiA0cHg7DQp9DQojcmVtaW5kZXJtYW5hZ2VyX3BvcHVwIC5wb3BfYm94IC5pY29uX2JveCBpbWcgew0KICAgIHdpZHRoOiAzMnB4Ow0KICAgIGhlaWdodDogMzJweDsNCn0NCiNyZW1pbmRlcm1hbmFnZXJfcG9wdXAgZGl2LmltYWdlX2ljb24gew0KICAgIHdpZHRoOiAzMnB4Ow0KICAgIGhlaWdodDogMzJweDsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IDMycHg7DQogICAgbWFyZ2luOiAtMnB4IC0ycHg7DQogICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlOw0KfQ0KDQojcmVtaW5kZXJtYW5hZ2VyX3BvcHVwIC5jaGVja2JveCB7DQogICAgbWFyZ2luOiAwcHggIWltcG9ydGFudDsNCn0NCiNyZW1pbmRlcm1hbmFnZXJfcG9wdXAgLnRhYl9sYXllciB0ZXh0YXJlYSB7DQogICAgYm9yZGVyOiBub25lOw0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGhlaWdodDogMTAwJTsNCiAgICBtYXJnaW46IDBweDsNCiAgICBwYWRkaW5nOiAwcHg7DQp9DQojcmVtaW5kZXJtYW5hZ2VyX3BvcHVwIGRpdi5kaXNjbGFpbWVyX25vdGljZSB7DQogICAgaGVpZ2h0OiAyNjBweDsNCiAgICBvdmVyZmxvdzogYXV0bzsNCiAgICB3aWR0aDogYXV0bzsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjMjIyOw0KICAgIHBhZGRpbmc6IDVweDsNCn0NCg==");Resources.add("robmaster_popup_css","data:text/css;base64,I3JvYm1hc3Rlcl9wb3B1cCAubWFmaWFfYXR0YWNrICB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9aWNvbl9tYWZpYV9hdHRhY2tfMjJ4MTZfMDEuZ2lmKSBuby1yZXBlYXQgMHB4IDUwJTsNCiAgICBwYWRkaW5nLWxlZnQ6IDE5cHg7DQogICAgYmFja2dyb3VuZC1zaXplOiAxNnB4Ow0KICAgIC1tb3otYmFja2dyb3VuZC1zaXplOiAxNnB4Ow0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAubWFmaWFfZGVmZW5zZSB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9aWNvbl9tYWZpYV9kZWZlbnNlXzIyeDE2XzAxLmdpZikgbm8tcmVwZWF0IDBweCA1MCU7DQogICAgcGFkZGluZy1sZWZ0OiAxOXB4Ow0KICAgIGJhY2tncm91bmQtc2l6ZTogMTZweDsNCiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMTZweDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgLnN0YXRfdHJhdmVsICB7IA0KICAgIGJhY2tncm91bmQ6IHVybCgke2Jhc2VfdXJsfWljb25fdHJhdmVsXzMyeDE3XzAxLmdpZikgbm8tcmVwZWF0IDBweCA1MCU7DQogICAgcGFkZGluZy1sZWZ0OiAxOXB4Ow0KICAgIGJhY2tncm91bmQtc2l6ZTogMTZweDsNCiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMTZweDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgLnN0YXRfcG93ZXJwYWNrIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1IUF9wb3dlcnBhY2sucG5nKSBuby1yZXBlYXQgMHB4IDUwJTsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IDE2cHggMTZweDsNCiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMTZweDsNCiAgICBwYWRkaW5nLWxlZnQ6IDE5cHg7DQp9DQojcm9ibWFzdGVyX3BvcHVwIC5zdGF0X2JvYXJkIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1tYXBfYmFzZWRfam9icy9tYXN0ZXJ5X3N0YXJzX21lZF84MXgzMF8wMi5wbmcpIG5vLXJlcGVhdCAtNjRweCAtMTNweDsNCiAgICBwYWRkaW5nLWxlZnQ6IDE5cHg7DQp9DQojcm9ibWFzdGVyX3BvcHVwIC5zdGF0X2Z1bGxib2FyZCB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9bWFwX2Jhc2VkX2pvYnMvbWFzdGVyeV9zdGFyc19tZWRfODF4MzBfMDIucG5nKSBuby1yZXBlYXQgLTQ3cHggMnB4Ow0KICAgIHBhZGRpbmctbGVmdDogMTlweDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgLnN0YXRfY3JldyB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9Y3Jld19tb2R1bGUvY3Jld19idG5faWNvbi5wbmcpIG5vLXJlcGVhdDsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IDE2cHggMTZweDsNCiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMTZweCAxNnB4Ow0KICAgIHBhZGRpbmctbGVmdDogMTlweDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgdWwsDQojcm9ibWFzdGVyX3BvcHVwIHAgew0KICAgIG1hcmdpbjogMHB4Ow0KICAgIHBhZGRpbmc6IDBweDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgdWwgew0KICAgIGhlaWdodDogMTAwJTsNCiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7DQogICAgb3ZlcmZsb3c6IGF1dG87DQp9DQojcm9ibWFzdGVyX3BvcHVwIC5td2FfdGFiIC50YWJfd3JhcHBlciB7DQogICAgYm9yZGVyLWNvbG9yOiAjMzMzOw0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAjb3B0aW9ucy13cmFwcGVyIHsNCiAgICBwYWRkaW5nOiAxMHB4IDVweCAwcHg7DQogICAgaGVpZ2h0OiAyNDBweDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgI29wdGlvbnMtd3JhcHBlciBsaSB7DQogICAgbWFyZ2luOiAwcHggMHB4IDBweCA1cHg7DQogICAgcGFkZGluZzogMHB4Ow0KICAgIGhlaWdodDogMjhweDsNCiAgICBsaW5lLWhlaWdodDogMjhweDsNCiAgICBtYXgtaGVpZ2h0OiAyOHB4Ow0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQp9DQojcm9ibWFzdGVyX3BvcHVwIC5vcHRpb25zLXNhdmUgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICByaWdodDogMTBweDsNCiAgICBib3R0b206IDEwcHg7DQp9DQojcm9ibWFzdGVyX3BvcHVwICNyb2JfbG9ncyBsaSwNCiNyb2JtYXN0ZXJfcG9wdXAgI3JvYl9ib2FyZCBsaSB7DQogICAgbWFyZ2luLXRvcDogNHB4Ow0KICAgIHBhZGRpbmc6IDBweCAxMHB4IDZweCAxMHB4Ow0KICAgIG1pbi1oZWlnaHQ6IDQwcHg7DQogICAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICMzMzM7DQp9DQojcm9ibWFzdGVyX3BvcHVwICNsb290X2xvZ3MgbGkgew0KICAgIHBhZGRpbmc6IDEwcHggMTVweCAwcHg7DQp9DQojcm9ibWFzdGVyX3BvcHVwICNsb290X2xvZ3MgbGkgPiBpbWcgew0KICAgIHdpZHRoOiAzMHB4Ow0KICAgIGhlaWdodDogMzBweDsNCiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAjbG9vdF9sb2dzIGxpID4gc3BhbiB7DQogICAgbWFyZ2luLWxlZnQ6IDVweDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgI3JvYl9sb2dzIGxpIC50aW1lc3RhbXAgew0KICAgIGZvbnQtc2l6ZTogMTBweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTExOw0KICAgIG1hcmdpbjogMHB4IC0xMHB4Ow0KICAgIHBhZGRpbmctbGVmdDogMTBweDsNCiAgICBjb2xvcjogIzY2NjsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgI3JvYl9sb2dzIGxpIGltZyB7DQogICAgd2lkdGg6IDQycHg7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgbWFyZ2luLXJpZ2h0OiA4cHg7DQp9DQojcm9ibWFzdGVyX3BvcHVwICNyb2JfbG9ncyBsaSAubG9nLWJsb2NrIHsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgd2lkdGg6IDUwJTsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgI3JvYl9sb2dzIGxpIC5tZXNzYWdlX3RleHQgew0KICAgIG1hcmdpbi10b3A6IDZweDsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgZm9udC1mYW1pbHk6IHRyZWJ1Y2hldCBNUzsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICBjb2xvcjogd2hpdGU7DQp9DQojcm9ibWFzdGVyX3BvcHVwICNyb2JfbG9ncyBsaSAucm9iLWFsbC1yZXN1bHQgew0KICAgIGJvcmRlci10b3A6IDFweCBkb3R0ZWQgIzQ0NDsNCiAgICBwYWRkaW5nLXRvcDogM3B4Ow0KICAgIGZvbnQtc2l6ZTogMTJweDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgI3JvYl9sb2dzIGxpIC50aW55LW1lc3NhZ2Ugew0KICAgIGhlaWdodDogMjRweDsNCiAgICBwYWRkaW5nOiA1cHggMHB4IDBweCAzMnB4Ow0KICAgIHdpZHRoOiBhdXRvOw0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAjcm9iX2JvYXJkIGxpLnJvYi1zbG90LnNsb3QtY2xvc2VkIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1yb2JiaW5nX3BvbGljZV90YXBlXzAxLmdpZikgbm8tcmVwZWF0IDU1JSAxMDAlOw0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAjcm9iX2JvYXJkIGxpLnJvYi1zbG90ID4gaW1nIHsNCiAgICB3aWR0aDogNjVweDsNCiAgICBmbG9hdDogbGVmdDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgI3JvYl9ib2FyZCBsaS5yb2Itc2xvdCA+IC5zbG90LWFjdGlvbiB7DQogICAgaGVpZ2h0OiA1MHB4Ow0KICAgIG1hcmdpbi10b3A6IDIwcHg7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAjcm9iX2JvYXJkIGxpLnJvYi1zbG90ID4gLnNsb3QtYWN0aW9uIC5zdWNjZXNzIHsNCiAgICBjb2xvcjogZ29sZDsNCiAgICBmb250LXNpemU6IDE1cHg7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQp9DQojcm9ibWFzdGVyX3BvcHVwICNyb2JfYm9hcmQgbGkucm9iLXNsb3QgPiAuc2xvdC1hY3Rpb24gLmZhaWwgew0KICAgIGNvbG9yOiByZWQ7DQogICAgZm9udC1zaXplOiAxNXB4Ow0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAjcm9iX2JvYXJkIGxpLnJvYi1zbG90ID4gLnNsb3QtYm9keSB7DQogICAgcGFkZGluZzogMTBweCA3MHB4IDBweCA4MHB4Ow0KICAgIHdpZHRoOiBhdXRvOw0KICAgIGhlaWdodDogNjBweDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgI3JvYl9ib2FyZCBsaS5yb2Itc2xvdCA+IC5zbG90LWJvZHkgPiAuc2xvdC1uYW1lIHsNCiAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkIHdoaXRlOw0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIHZlcnRpY2FsLWFsaWduOiBib3R0b207DQogICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxMDAlIDAlOw0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAjcm9iX2JvYXJkIGxpLnJvYi1zbG90ID4gLnNsb3QtYm9keSA+IC5zbG90LWRhdGFpbCB7DQogICAgcGFkZGluZzogNXB4Ow0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAjcm9iX2JvYXJkIGxpLnJvYi1zbG90ID4gLnNsb3QtYm9keSA+IC5zbG90LWRhdGFpbCA+IC5zbG90LXNpemUgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgIHBhZGRpbmctbGVmdDogMjhweDsNCiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCB1cmwoJHtiYXNlX3VybH1pY29uX21hZmlhX3NpemVfMjF4MTZfMDEuZ2lmKSBuby1yZXBlYXQgc2Nyb2xsIGNlbnRlciBsZWZ0Ow0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAjcm9iX2JvYXJkIGxpLnJvYi1zbG90ID4gLnNsb3QtYm9keSA+IC5zbG90LWRhdGFpbCA+IC5zbG90LXN0YW1pbmEgew0KICAgIGZsb2F0OiByaWdodDsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICBwYWRkaW5nLWxlZnQ6IDE5cHg7DQogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgdXJsKCR7YmFzZV91cmx9aWNvbl9zdGFtaW5hXzE2eDE2LnBuZykgbm8tcmVwZWF0IHNjcm9sbCBjZW50ZXIgbGVmdDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgLm1pZGRsZS13cmFwcGVyIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1maWdodC92Mi9maWdodF9sb290dHJheV9zbGl2ZXIuanBnKSB0b3AgbGVmdCByZXBlYXQteDsNCiAgICBoZWlnaHQ6IDYwcHg7DQogICAgbWFyZ2luLXRvcDogMHB4Ow0KICAgIG1hcmdpbi1yaWdodDogYXV0bzsNCiAgICBtYXJnaW4tYm90dG9tOiAwcHg7DQogICAgbWFyZ2luLWxlZnQ6IGF1dG87DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzMzM7DQogICAgY2xlYXI6IGJvdGg7DQp9DQojcm9ibWFzdGVyX3BvcHVwIC5taWRkbGUtd3JhcHBlciAubGVmdHNpZGUgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIHdpZHRoOiA0OTBweDsNCiAgICBoZWlnaHQ6IDQwcHg7DQogICAgbWFyZ2luOiAxNHB4IDExcHggMDsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIHotaW5kZXg6IDA7DQp9DQojcm9ibWFzdGVyX3BvcHVwIC5taWRkbGUtd3JhcHBlciAucmlnaHRzaWRlIHsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9ZmlnaHQvdjIvZmlnaHRfbG9vdHRyYXlfbGluZS5wbmcpIDAgNTAlIG5vLXJlcGVhdDsNCiAgICB3aWR0aDogMjEwcHg7DQogICAgaGVpZ2h0OiA0NXB4Ow0KICAgIHBhZGRpbmc6IDE1cHggNXB4IDBweCAxNXB4Ow0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAubWlkZGxlLXdyYXBwZXIgYSB7DQogICAgbWFyZ2luLWxlZnQ6IDVweDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgLnRvcC13cmFwcGVyIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1lbXBpcmUvbG9uZG9uX2hwX2JnLnBuZykgMCUgNTAlIG5vLXJlcGVhdDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDI1MHB4Ow0KICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjNDQ0Ow0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgLmJvdHRvbS13cmFwcGVyIHsNCiAgICBoZWlnaHQ6IDQ2MHB4Ow0KICAgIGJhY2tncm91bmQ6IGJsYWNrIHVybCgke2Jhc2VfdXJsfWl0YWx5X2Q0LmpwZykgbm8tcmVwZWF0Ow0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAuYm90dG9tLXdyYXBwZXIgLnJpZ2h0c2lkZSB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9ZmlnaHQvdjIvZmlnaHRfbG9vdHRyYXlfbGluZS5wbmcpIDAgNTAlIG5vLXJlcGVhdDsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIHdpZHRoOiAyMTBweDsNCiAgICBwYWRkaW5nOiAxMHB4IDVweCAwcHggMTVweDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAuYm90dG9tLXdyYXBwZXIgLmxlZnRzaWRlIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgd2lkdGg6IDUxNXB4Ow0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAuYm90dG9tLXdyYXBwZXIgLnJpZ2h0c2lkZSBsaSB7DQogICAgaGVpZ2h0OiAyMHB4Ow0KfQ0KI3JvYm1hc3Rlcl9wb3B1cCAuYm90dG9tLXdyYXBwZXIgLnJpZ2h0c2lkZSBsaSAuc3RhdC1uYW1lIHsNCiAgICBmbG9hdDogbGVmdDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgLmJvdHRvbS13cmFwcGVyIC5yaWdodHNpZGUgbGkgLnN0YXQtdmFsdWUgew0KICAgIGZsb2F0OiByaWdodDsNCn0NCiNyb2JtYXN0ZXJfcG9wdXAgLmxvb3QtY291bnQgew0KICAgIGNvbG9yOiBncmVlbjsNCn0NCg==");
Resources.add("tabclass_css","data:text/css;base64,Lm13YV90YWIgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGhlaWdodDogYXV0bzsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KLm13YV90YWIgLnRhYl9oZWFkZXIgew0KICAgIGhlaWdodDogMzVweDsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KLm13YV90YWIgLnRhYl9oZWFkZXIgLnRhYl9yaWdodCB7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICBsaW5lLWhlaWdodDogMzZweDsNCiAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4Ow0KfQ0KLm13YV90YWIgLnRhYl9oZWFkZXIgPiAudGFiX2J1dHRvbiB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgbWFyZ2luLXJpZ2h0OiAzcHg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIHBhZGRpbmctdG9wOiA4cHg7DQogICAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTUwKTsNCiAgICAtbW96LW9wYWNpdHk6IDAuNTsNCiAgICBvcGFjaXR5OiAwLjU7DQp9DQoubXdhX3RhYiAudGFiX2hlYWRlciA+IC50YWJfYnV0dG9uLmFjdGl2ZSB7DQogICAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTEwMCk7DQogICAgLW1vei1vcGFjaXR5OiAxLjA7DQogICAgb3BhY2l0eTogMS4wOw0KfQ0KLm13YV90YWIgLnRhYl9oZWFkZXIgPiAudGFiX2J1dHRvbi5kaXNhYmxlZCB7DQogICAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTEwKTsNCiAgICAtbW96LW9wYWNpdHk6IDAuMTsNCiAgICBvcGFjaXR5OiAwLjE7DQogICAgY3Vyc29yOiBkZWZhdWx0Ow0KfQ0KLm13YV90YWIgLnRhYl9oZWFkZXIgPiAudGFiX2J1dHRvbiAuYnV0dG9uX3N0YXJ0IHsNCiAgICB3aWR0aDogM3B4Ow0KICAgIGhlaWdodDogMjhweDsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1ibGFja190YWJzX2xlZnQucG5nKSBuby1yZXBlYXQ7DQp9DQoubXdhX3RhYiAudGFiX2hlYWRlciA+IC50YWJfYnV0dG9uIC5idXR0b25fbWlkZGxlIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBoZWlnaHQ6IDI4cHg7DQogICAgcGFkZGluZy1sZWZ0OiA1cHg7DQogICAgcGFkZGluZy1yaWdodDogMTBweDsNCiAgICBwYWRkaW5nLXRvcDogNXB4Ow0KICAgIGJhY2tncm91bmQ6IHVybCgke2Jhc2VfdXJsfWJsYWNrX3RhYnNfc2xpY2UucG5nKTsNCiAgICBjb2xvcjogd2hpdGU7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KfQ0KLm13YV90YWIgLnRhYl9oZWFkZXIgPiAudGFiX2J1dHRvbiAuYnV0dG9uX2VuZCB7DQogICAgd2lkdGg6IDNweDsNCiAgICBoZWlnaHQ6IDI4cHg7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9YmxhY2tfdGFic19yaWdodC5wbmcpIG5vLXJlcGVhdDsNCn0NCi5td2FfdGFiIC50YWJfd3JhcHBlciB7DQogICAgYm9yZGVyOiBzb2xpZCAxcHggIzY2NjsNCiAgICBoZWlnaHQ6IDIwMHB4Ow0KfQ0KLm13YV90YWIgLnRhYl93cmFwcGVyIC50YWJfbGF5ZXIgew0KICAgIGhlaWdodDogMTAwJTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBwYWRkaW5nOiAwcHg7DQogICAgbWFyZ2luOiAwcHg7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICBkaXNwbGF5OiBub25lOw0KfQ==");Resources.add("toolbar_css","data:text/css;base64,I213YV90b29sYmFyIHsNCiAgICBtYXJnaW46IDAgMCAzcHg7DQogICAgbWluLWhlaWdodDogMTA1cHg7DQogICAgYmFja2dyb3VuZDogYmxhY2sgdXJsKCR7YmFja2dyb3VuZEltYWdlfSkgNTAlIDEwMCUgcmVwZWF0LXg7DQogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICM1NTU7DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM0NDQNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgei1pbmRleDogMTsNCn0NCiNtd2FfdG9vbGJhci5mbG9hdC1iYXIgew0KICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICB6LWluZGV4OiAxMDA7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzU1NTsNCiAgICB3aWR0aDogNzU4cHg7DQogICAgdG9wOiAwcHg7DQogICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggNXB4IDVweCByZ2JhKDQwLCA0MCwgNDAsIDAuOCk7DQogICAgLW1vei1ib3gtc2hhZG93OiAwcHggNXB4IDVweCByZ2JhKDQwLCA0MCwgNDAsIDAuOCk7DQogICAgYm94LXNoYWRvdzogMHB4IDVweCA1cHggcmdiYSg0MCwgNDAsIDQwLCAwLjgpOw0KfQ0KI213YV90b29sYmFyICNtZW51YmFyIHsNCiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7DQogICAgaGVpZ2h0OiAwcHggIWltcG9ydGFudDsNCiAgICB3aWR0aDogMHB4ICFpbXBvcnRhbnQ7DQogICAgb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50Ow0KfQ0KI213YV90b29sYmFyIHVsIHsNCiAgICBsaXN0LXN0eWxlOiBub25lOw0KICAgIG1hcmdpbjogMHB4Ow0KICAgIHBhZGRpbmc6IDBweDsNCn0NCiNtd2FfdG9vbGJhciB0YWJsZSB7DQogICAgbWFyZ2luOiAwcHg7DQogICAgYm9yZGVyLXNwYWNpbmc6IDBweDsNCiAgICBib3JkZXItd2lkdGg6IDBweDsNCn0NCiNtd2FfdG9vbGJhciB0YWJsZSB0ciA+IHRkIHsNCiAgICBwYWRkaW5nOiAwcHg7DQp9DQojbXdhX3Rvb2xiYXIgZGl2LmJveCB7DQogICAgcGFkZGluZzogMHB4ICFpbXBvcnRhbnQ7DQp9DQojbXdhX3Rvb2xiYXIgZGl2LmJ1dHRvbiB7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsNCiAgICBjb2xvcjogZ3JleTsNCiAgICBtYXJnaW46IDBweCAxcHggNXB4IDFweDsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzIyMjsNCiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzIyMjsNCn0NCiNtd2FfdG9vbGJhciBkaXYuYnV0dG9uOmhvdmVyIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmV5Ow0KICAgIGNvbG9yOiBibGFjazsNCn0NCiNtd2FfdG9vbGJhciAjbXdhX3Rvb2xiYXJtZW51IHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgcmlnaHQ6IDVweDsNCiAgICBoZWlnaHQ6IDI4MHB4Ow0KICAgIHotaW5kZXg6IDIwOw0KICAgIGRpc3BsYXk6IG5vbmU7DQp9DQojbXdhX3Rvb2xiYXIgI213YV90b29sYmFybWVudSBkaXYudG9vbGJhcmFycm93IHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgcmlnaHQ6IDI1cHg7DQp9DQojbXdhX3Rvb2xiYXIgI213YV90b29sYmFybWVudSBkaXYudG9vbGJhcmJveCB7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzQ0NDsNCiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDE1cHg7DQogICAgYm9yZGVyLXJhZGl1czogMTVweDsNCiAgICB3aWR0aDogMzAwcHg7DQogICAgaGVpZ2h0OiAyNjBweDsNCiAgICBwYWRkaW5nOiAxMHB4Ow0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIGJhY2tncm91bmQtY29sb3I6ICMxMzEzMTM7DQogICAgbWFyZ2luLXRvcDogMnB4Ow0KfQ0KI213YV90b29sYmFyICNtd2FfdG9vbGJhcm1lbnUgZGl2LnRvb2xiYXJib3ggLmJveF90aXRsZSB7DQogICAgaGVpZ2h0OiAxNXB4Ow0KICAgIHBhZGRpbmc6IDVweCAxMHB4Ow0KICAgIGJhY2tncm91bmQ6ICMzMzM7DQogICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgIC1tb3otYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgIGNvbG9yOiBncmV5Ow0KfQ0KI213YV90b29sYmFyICNtd2FfdG9vbGJhcm1lbnUgZGl2LnRvb2xiYXJib3ggdWwgew0KICAgIG92ZXJmbG93LXk6IGF1dG87DQogICAgaGVpZ2h0OiAyMjVweDsNCiAgICBib3JkZXI6IDFweCBkb3R0ZWQgIzMzMzsNCiAgICBtYXJnaW4tdG9wOiA1cHg7DQogICAgcGFkZGluZzogMHB4IDVweCAwcHggNXB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDRweDsNCiAgICBwYWRkaW5nLXRvcDogNHB4Ow0KfQ0KI213YV90b29sYmFyICNtd2FfdG9vbGJhcm1lbnUgZGl2LnRvb2xiYXJib3ggdWwgbGkgew0KICAgIGNvbG9yOiAjOTk5Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICAgIHdpZHRoOiBhdXRvICFpbXBvcnRhbnQ7DQogICAgcGFkZGluZy1sZWZ0OiAyMXB4ICFpbXBvcnRhbnQ7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIGJvcmRlci1yYWRpdXM6IDNweDsNCiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDNweDsNCiAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICMyMjI7DQogICAgcGFkZGluZy10b3A6IDNweDsNCiAgICBwYWRkaW5nLWJvdHRvbTogMnB4Ow0KfQ0KI213YV90b29sYmFyICNtd2FfdG9vbGJhcm1lbnUgZGl2LnRvb2xiYXJib3ggdWwgbGkuaW1wb3J0YW50IHsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtiYXNlX3VybH1jYXV0aW9uVG9wSWNvbi5wbmcpICFpbXBvcnRhbnQ7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMHB4IDUwJSAhaW1wb3J0YW50Ow0KICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQgIWltcG9ydGFudDsNCn0NCiNtd2FfdG9vbGJhciAjbXdhX3Rvb2xiYXJtZW51IGRpdi50b29sYmFyYm94IHVsIGxpOmhvdmVyIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjgyODI4Ow0KICAgIGNvbG9yOiAjRkZEOTI3Ow0KfQ0KI213YV90b29sYmFyICNtd2FfdG9vbGJhcm1lbnUgZGl2LnRvb2xiYXJib3ggdWwgbGkgZGl2Lml0ZW1fbmFtZSB7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCn0NCiNtd2FfdG9vbGJhciAjbXdhX3Rvb2xiYXJtZW51IGRpdi50b29sYmFyYm94IHVsIGxpIHNwYW4ubW9yZV9pbiB7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KICAgIG1hcmdpbi1yaWdodDogNXB4Ow0KfQ0KI213YV90b29sYmFyICNtd2FfdG9vbGJhcm1lbnUgZGl2LnRvb2xiYXJib3ggdWwgbGkgc3Bhbi5yZW1vdmUgew0KICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1yZXF1ZXN0cy9jcm9zcy5wbmcpIGxlZnQgdG9wIG5vLXJlcGVhdDsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgd2lkdGg6IDE4cHg7DQogICAgaGVpZ2h0OiAxOHB4Ow0KfQ0KI213YV90b29sYmFyIGEuYnV0dG9uX21lbnVfb3BlbiA+IHNwYW4gPiBzcGFuIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlX3VybH1jcmV3X21vZHVsZS9xdWV1ZV9idG5fYXJyb3dfYWN0aXZlLnBuZykgODUlIDUwJSBuby1yZXBlYXQ7DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCn0NCiNtd2FfdG9vbGJhciBhLmJ1dHRvbl9tZW51X29wZW4gI213YV90b29sYmFybWVudSB7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQojbXdhX3Rvb2xiYXIgYS5idXR0b25fbWVudV9jbG9zZWQgPiBzcGFuID4gc3BhbiB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7YmFzZV91cmx9Y3Jld19tb2R1bGUvcXVldWVfYnRuX2Fycm93X2luYWN0aXZlLnBuZykgODUlIDUwJSBuby1yZXBlYXQ7DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCn0NCiNtd2FfdG9vbGJhciBhLmJ1dHRvbl9tZW51X2Nsb3NlZCAjbXdhX3Rvb2xiYXJtZW51IHsNCiAgICBkaXNwbGF5OiBub25lOw0KfQ0KI213YV90b29sYmFyIC5idXR0b25fYmFyLCAjbXdhX3Rvb2xiYXIgLmJ1dHRvbl9iYXJfY2FzaCB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIHBhZGRpbmc6IDJweDsNCiAgICBib3JkZXItcmFkaXVzOiAzcHg7DQp9DQojbXdhX3Rvb2xiYXIgLmJ1dHRvbl9iYXI6aG92ZXIsICNtd2FfdG9vbGJhciAuYnV0dG9uX2Jhcl9jYXNoOmhvdmVyIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzOw0KfQ0KI213YV90b29sYmFyIC5idXR0b25fYmFyX2Nhc2ggew0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICBtYXJnaW46IDJweCA1cHggMHB4IDVweDsNCiAgICBtaW4taGVpZ2h0OiAyMHB4Ow0KfQ0KI213YV90b29sYmFyIGRpdi5wcm9ncmVzc19iYXIgew0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgbGluZS1oZWlnaHQ6IDE0cHg7DQogICAgbWluLWhlaWdodDogMTZweDsNCn0NCiNtd2FfdG9vbGJhciBkaXYucHJvZ3Jlc3NfYmFyIGRpdi5zdGF0X2luZm8gPiBzcGFuOmZpcnN0LWNoaWxkIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtYXJnaW4tbGVmdDogNXB4Ow0KfQ0KI213YV90b29sYmFyIGRpdi5wcm9ncmVzc19iYXIgZGl2LnN0YXRfaW5mbyB7DQogICAgcGFkZGluZy1yaWdodDogNXB4Ow0KICAgIGNvbG9yOiAjRTJFMkUyOw0KICAgIHRleHQtYWxpZ246IHJpZ2h0Ow0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICBsaW5lLWhlaWdodDogMTRweDsNCiAgICBtaW4taGVpZ2h0OiAxNHB4Ow0KfQ0KI213YV90b29sYmFyIGRpdi5wcm9ncmVzc19iYXIgc3Bhbi5jb3VudGRvd24gew0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICBsaW5lLWhlaWdodDogMTJweDsNCiAgICBtYXJnaW4tbGVmdDogNXB4Ow0KICAgIGNvbG9yOiAjODk4OTg5Ow0KfQ0KI213YV90b29sYmFyIGRpdi5wcm9ncmVzc19iYXIgLm1hc3RlcnlfYmFyIHsNCiAgICBtYXJnaW46IDBweDsNCiAgICBoZWlnaHQ6IDVweDsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjMzMzOw0KICAgIGNvbG9yOiBibGFjazsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIHRleHQtYWxpZ246IHJpZ2h0Ow0KICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMnB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDJweDsNCiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDJweDsNCiAgICBvcGFjaXR5OiAwLjY7DQp9DQojbXdhX3Rvb2xiYXIgZGl2LnByb2dyZXNzX2JhciAubWFzdGVyeV9iYXIgPiBkaXYgew0KICAgIGJhY2tncm91bmQ6IHVybCgiJHtiYXNlX3VybH1tYXBfYmFzZWRfam9icy9tYXN0ZXJ5X2Jhcl9iZy5naWYiKSAwIDAgcmVwZWF0LXg7DQogICAgaGVpZ2h0OiA1cHg7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgdG9wOiAwOw0KICAgIHJpZ2h0OiAwOw0KfQ0KI213YV90b29sYmFyIGRpdi5wcm9ncmVzc19iYXIgLnJhdGlvX25lZWQgew0KICAgIGJhY2tncm91bmQ6IHVybCgke2Jhc2VfdXJsfWNsYW4vZ3JvdXBfeHAucG5nKSAwJSA1MCUgbm8tcmVwZWF0Ow0KICAgIGZvbnQtc2l6ZTogMTFweDsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgbWFyZ2luLWxlZnQ6IDEyMHB4Ow0KICAgIGJhY2tncm91bmQtc2l6ZTogMTRweDsNCiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMTRweDsNCiAgICBsaW5lLWhlaWdodDogMTNweDsNCiAgICBwYWRkaW5nLWxlZnQ6IDE4cHg7DQp9DQojbXdhX3Rvb2xiYXIgdWwudG9wbmF2IHsNCiAgICBsaXN0LXN0eWxlOiBub25lOw0KICAgIHBhZGRpbmc6IDBweDsNCiAgICBtYXJnaW46IDAgMCAwIDVweDsNCiAgICBoZWlnaHQ6IDM1cHg7DQogICAgZm9udC1zaXplOiAxM3B4Ow0KICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50Ow0KfQ0KI213YV90b29sYmFyIHVsLnRvcG5hdiA+IGxpIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtYXJnaW46IDA7DQogICAgcGFkZGluZzogMDsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgaGVpZ2h0OiAzNXB4Ow0KfQ0KI213YV90b29sYmFyIHVsLnRvcG5hdiA+IGxpIGEgew0KICAgIGNvbG9yOiB3aGl0ZTsNCiAgICBkaXNwbGF5OiBibG9jazsNCiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgbWFyZ2luOiA4cHggOXB4Ow0KICAgIHRleHQtc2hhZG93OiAwcHggMHB4IDlweCAjODg4Ow0KfQ0KI213YV90b29sYmFyIHVsLnRvcG5hdiA+IGRpdi5vdmVyLXNoYWRvdyB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7bmF2U2hhZG93fSkgbm8tcmVwZWF0IGNlbnRlciB0b3A7DQogICAgd2lkdGg6IDQ2cHg7DQogICAgaGVpZ2h0OiAxNnB4Ow0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB6LWluZGV4OiAwOw0KICAgIG9wYWNpdHk6IDA7DQp9DQojbXdhX3Rvb2xiYXIgdWwudG9wbmF2ID4gbGkuYm90dG9tLWFycm93IHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoJHtib3R0b21BcnJvd30pIG5vLXJlcGVhdCBjZW50ZXIgdG9wOw0KfQ0KI213YV90b29sYmFyIHVsLnRvcG5hdiA+IGRpdi50b29sYmFyLWNvbmZpZy1idXR0b24sIA0KI213YV90b29sYmFyIHVsLnRvcG5hdiA+IGRpdi50b29sYmFyLXNjcm9sbHRvcC1idXR0b24gew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgaGVpZ2h0OiAzNXB4Ow0KICAgIHdpZHRoOiAzMnB4Ow0KICAgIHotaW5kZXg6IDU7DQp9DQojbXdhX3Rvb2xiYXIgdWwudG9wbmF2ID4gZGl2LnRvb2xiYXItY29uZmlnLWJ1dHRvbiB7DQogICAgYmFja2dyb3VuZDogdXJsKCR7c2V0dGluZ3N9KSA1MCUgNTAlIG5vLXJlcGVhdDsNCiAgICByaWdodDogOHB4Ow0KfQ0KI213YV90b29sYmFyIHVsLnRvcG5hdiA+IGRpdi50b29sYmFyLXNjcm9sbHRvcC1idXR0b24gew0KICAgIGJhY2tncm91bmQ6IHVybCgke3Njcm9sbFRvcH0pIDUwJSA1MCUgbm8tcmVwZWF0Ow0KICAgIHJpZ2h0OiA0MnB4Ow0KICAgIGRpc3BsYXk6IG5vbmU7DQp9DQojbXdhX3Rvb2xiYXIuZmxvYXQtYmFyIHVsLnRvcG5hdiA+IGRpdi50b29sYmFyLXNjcm9sbHRvcC1idXR0b24gew0KICAgIGRpc3BsYXk6IGJsb2NrOw0KfQ0KI213YV90b29sYmFyIGRpdi5td2EtbWVudS13cmFwcGVyIHsNCiAgICBtYXgtaGVpZ2h0OiAyNzVweDsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM0NDQ7DQogICAgYm9yZGVyLXRvcDogbm9uZTsNCiAgICBtYXJnaW4tdG9wOiAxcHg7DQogICAgYmFja2dyb3VuZDogYmxhY2s7DQp9DQojc3RhdHNfcm93IHsNCiAgICBib3JkZXItdG9wOiBub25lICFpbXBvcnRhbnQ7DQogICAgbWF4LWhlaWdodDogMTEwcHggIWltcG9ydGFudDsNCiAgICBtYXJnaW46IDBweCAhaW1wb3J0YW50Ow0KfQ0KDQojbXdhX3Rvb2xiYXIgZGl2LnN1Ym1lbnUgew0KICAgIHotaW5kZXg6IDE0ICFpbXBvcnRhbnQ7ICAgDQp9DQojbXdhX3Rvb2xiYXIgZGl2LnN1Ym1lbnUgdWwgbGkgc3BhbiB7DQogICAgbGluZS1oZWlnaHQ6IDE4cHg7DQogICAgYmFja2dyb3VuZC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7DQogICAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IDE2cHggIWltcG9ydGFudDsNCn0NCiNtd2FfdG9vbGJhciBkaXYuc3VibWVudSB1bCBsaSBzcGFuLmxlZnRfYXJyb3cgew0KICAgIGJhY2tncm91bmQ6IHVybCgke2Jhc2VfdXJsfW1hcmtldHBsYWNlX3NtYWxsZXJfYXJyb3dfcmlnaHQuZ2lmKSBuby1yZXBlYXQgNXB4IDUwJTsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IDZweCAxMHB4ICFpbXBvcnRhbnQ7DQogICAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IDZweCAxMHB4ICFpbXBvcnRhbnQ7DQp9DQojbXdhX3Rvb2xiYXIgZGl2LnN1Ym1lbnUgdWwgew0KICAgIG1pbi13aWR0aDogMTgwcHg7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQp9DQojbXdhX3Rvb2xiYXIgLm1lc3NhZ2UtbGF5ZXIgew0KICAgIGRpc3BsYXk6IG5vbmU7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGxlZnQ6IDBweDsNCiAgICBoZWlnaHQ6IDMycHg7DQogICAgd2lkdGg6IDEwMCU7DQogICAgbWFyZ2luLXRvcDogM3B4Ow0KICAgIGJhY2tncm91bmQ6ICMyMjI7DQogICAgbGluZS1oZWlnaHQ6IDMwcHg7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICB6LWluZGV4OiA2Ow0KfQ0KI213YV90b29sYmFyIC5tZXNzYWdlLWxheWVyIHNwYW46Zmlyc3QtY2hpbGQgew0KICAgIHBhZGRpbmctbGVmdDogMjBweDsNCn0NCiNtd2FfdG9vbGJhciAubWVzc2FnZS1sYXllciBkaXYuaW5mby1pY29uIHsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IDI0cHggIWltcG9ydGFudDsNCiAgICBtYXJnaW4tbGVmdDogMjVweDsNCiAgICBmbG9hdDogbGVmdDsNCn0NCiNtd2FfdG9vbGJhciAjbXdhX3Rvb2xiYXJQb2ludHMgew0KICAgIG1hcmdpbjogMHB4IDVweDsNCn0NCiNtd2FfdG9vbGJhciAjbXdhX3Jld2FyZFBvaW50cywNCiNtd2FfdG9vbGJhciAjbXdhX3NraWxsUG9pbnRzIHsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KfQ0KI213YV90b29sYmFyICNtd2FfcmV3YXJkUG9pbnRzICN1c2VyX2Zhdm9yX3dyYXBwZXIsDQojbXdhX3Rvb2xiYXIgI213YV9za2lsbFBvaW50cyAjdXNlcl9za2lsbF93cmFwcGVyIHsNCiAgICBmbG9hdDogcmlnaHQ7DQp9DQojbXdhX3Rvb2xiYXIgLmZpZWxkLW5hbWUgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIGZvbnQtc2l6ZTogMTFweDsNCiAgICBjb2xvcjogZ29sZDsNCn0NCiNtd2FfdG9vbGJhciBzcGFuLmFsZXJ0X251bWJlciB7DQogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICAgIGNvbG9yOiAjRkZEOTI3Ow0KfQ0KI213YV90b29sYmFyICNtd2FfdG9vbGJhckNhc2hXcmFwcGVyIHsNCiAgICBoZWlnaHQ6IDYwcHg7DQp9DQojbXdhX3Rvb2xiYXJDYXNoV3JhcHBlciA+IGNlbnRlciwNCiNtd2FfdG9vbGJhckNhc2hXcmFwcGVyOmhvdmVyICNtd2FfdG9vbGJhclBvaW50cyB7DQogICAgZGlzcGxheTogbm9uZTsNCn0NCiNtd2FfdG9vbGJhckNhc2hXcmFwcGVyICNtd2FfdG9vbGJhclBvaW50cywNCiNtd2FfdG9vbGJhckNhc2hXcmFwcGVyOmhvdmVyID4gY2VudGVyIHsNCiAgICBkaXNwbGF5OiBibG9jazsNCn0NCg==");
Resources.add("toolbarnavigation_popup_css","data:text/css;base64,I3Rvb2xiYXJuYXZpZ2F0aW9uX3BvcHVwIC5saXN0X3dyYXBwZXIgew0KICAgIG1hcmdpbjogNXB4IGF1dG87DQogICAgY29sb3I6ICNGRkQ5Mjc7DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICBmb250LXNpemU6IDE0cHg7DQogICAgd2lkdGg6IDkwJTsNCiAgICBtaW4taGVpZ2h0OiAzMTBweDsNCn0NCiN0b29sYmFybmF2aWdhdGlvbl9wb3B1cCAubGlzdF93cmFwcGVyIHVsIHsNCiAgICBtYXJnaW46IDVweCAwcHg7DQogICAgcGFkZGluZzogMHB4Ow0KICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsNCiAgICBkaXNwbGF5OiBub25lOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM4ODg7DQogICAgb3ZlcmZsb3c6IGF1dG87DQogICAgaGVpZ2h0OiAzMDBweDsNCn0NCiN0b29sYmFybmF2aWdhdGlvbl9wb3B1cCAubGlzdF93cmFwcGVyIHVsIGxpIHsNCiAgICBsaW5lLWhlaWdodDogMzBweDsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzU1NTsNCiAgICBwYWRkaW5nOiAwcHggNHB4Ow0KfQ0KI3Rvb2xiYXJuYXZpZ2F0aW9uX3BvcHVwIC5saXN0X3dyYXBwZXIgdWwgbGk6Zmlyc3QtY2hpbGQgew0KICAgIGJvcmRlci10b3A6IG5vbmU7DQp9DQojdG9vbGJhcm5hdmlnYXRpb25fcG9wdXAgLmxpc3Rfd3JhcHBlciB1bCBsaSAucmVtb3ZlLWJ1dHRvbiB7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KICAgIGhlaWdodDogMjBweDsNCiAgICB3aWR0aDogMjBweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgbWFyZ2luOiA1cHggMDsNCn0NCiN0b29sYmFybmF2aWdhdGlvbl9wb3B1cCAubGlzdF93cmFwcGVyIHVsIGxpIGlucHV0IHsNCiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgICBtYXJnaW4tcmlnaHQ6IDRweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQp9DQojdG9vbGJhcm5hdmlnYXRpb25fcG9wdXAgLmxpc3Rfd3JhcHBlciB1bCBsaSBpbnB1dDpob3ZlciB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzIyMjsNCiAgICBjb2xvcjogZ29sZDsNCn0NCiN0b29sYmFybmF2aWdhdGlvbl9wb3B1cCAubGlzdF93cmFwcGVyIHVsIGxpIGlucHV0OmZvY3VzIHsNCiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgICBjb2xvcjogd2hpdGU7DQogICAgY3Vyc29yOiB0ZXh0Ow0KfQ==");Resources.add("tooltip_css","data:text/css;base64,I3Rvb2x0aXBfYm94IHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgd2lkdGg6IGF1dG87DQogICAgei1pbmRleDogOTk5OTk7DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICBwYWRkaW5nOiAwLjNlbSAwLjhlbTsNCiAgICBtYXgtd2lkdGg6IDQwMHB4Ow0KICAgIG1pbi13aWR0aDogMTAwcHg7DQogICAgbWluLWhlaWdodDogMjBweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUExQTFBOw0KICAgIGZvbnQtc2l6ZTogOTIlOw0KICAgIC13ZWJraXQtYm94LXNoYWRvdzogcmdiKDE1MywgMTUzLCAxNTMpIDBweCAwcHggMTJweDsNCiAgICAtbW96LWJveC1zaGFkb3c6IHJnYigxNTMsIDE1MywgMTUzKSAwcHggMHB4IDEycHg7DQogICAgYm94LXNoYWRvdzogcmdiKDE1MywgMTUzLCAxNTMpIDBweCAwcHggMTJweDsNCiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDJweDsNCiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDJweDsNCiAgICBib3JkZXItcmFkaXVzOiAycHg7DQogICAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7DQogICAgY29sb3I6IHdoaXRlOw0KfQ0KI3Rvb2x0aXBfYm94OmhvdmVyIHsNCiAgICBib3gtc2hhZG93OiByZ2IoMCwgMCwgMCkgMHB4IDBweCAxMnB4Ow0KICAgIG9wYWNpdHk6IDE7DQp9DQojdG9vbHRpcF9ib3ggLnRpdGxlIHsNCiAgICBwYWRkaW5nLWxlZnQ6IDIycHggIWltcG9ydGFudDsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IDE4cHggIWltcG9ydGFudDsNCiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMThweCAhaW1wb3J0YW50Ow0KICAgIG1pbi1oZWlnaHQ6IDIycHggIWltcG9ydGFudDsNCiAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50Ow0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgIGZvbnQtc3R5bGU6IGl0YWxpYzsNCiAgICBmb250LXNpemU6IDE1cHg7DQp9DQojdG9vbHRpcF9ib3ggaW5wdXQsICN0b29sdGlwX2JveCB0ZXh0YXJlYSB7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgY29sb3I6ICNEMEQwRDA7DQogICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsNCiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDNweDsNCiAgICBib3JkZXItcmFkaXVzOiAzcHg7DQogICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAzcHg7DQogICAgZm9udC1zaXplOiAxM3B4Ow0KICAgIGxpbmUtaGVpZ2h0OiAxNHB4Ow0KICAgIG1pbi1oZWlnaHQ6IDEwcHg7DQp9");Resources.add("tooltip_upload_css","data:text/css;base64,LnBvcF9ib3ggLmNvbmZpZ193cmFwcGVyIHsNCiAgICB3aWR0aDogODAlOw0KICAgIG1hcmdpbjogMHB4IGF1dG8gMTBweDsNCiAgICBmb250LXNpemU6IDEzcHg7DQp9DQoucG9wX2JveCAuY29uZmlnX3dyYXBwZXIgaW5wdXQsDQoucG9wX2JveCAuY29uZmlnX3dyYXBwZXIgc2VsZWN0LA0KLnBvcF9ib3ggLmNvbmZpZ193cmFwcGVyIHRleHRhcmVhIHsNCiAgICB3aWR0aDogMTAwJTsNCn0NCi5wb3BfYm94IGZpZWxkc2V0IHsNCiAgICBib3JkZXI6IDBweDsNCiAgICBwYWRkaW5nOiAwcHg7DQogICAgbWFyZ2luOiAwcHggMHB4IDZweCAwcHg7DQp9");Resources.add("update_popup_css","data:text/css;base64,I3VwZGF0ZV9wb3B1cCAuaW5mb19oZWFkZXIgew0KICAgIGhlaWdodDogNTVweDsNCiAgICBmb250LXNpemU6IDE2cHg7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQp9DQojdXBkYXRlX3BvcHVwIC5pbmZvX2JvZHkgew0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICBtYXJnaW46IDBweCAyNXB4IDBweCAzNXB4Ow0KICAgIGhlaWdodDogMzIwcHg7DQogICAgcGFkZGluZy1yaWdodDogMTBweDsNCiAgICBmb250LXNpemU6IDEycHg7DQp9DQojdXBkYXRlX3BvcHVwIC5pbmZvX2JvZHkgcHJlIHsNCiAgICBtYXJnaW46IDBweCAwcHggNXB4IDBweDsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMzsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDQ0Ow0KICAgIHBhZGRpbmc6IDFweCA1cHggMXB4IDVweDsNCn0NCiN1cGRhdGVfcG9wdXAgLmluZm9fYm9keSB1bCB7DQogICAgbWFyZ2luOiAwcHggMHB4IDVweCAwcHg7DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IGRvdHRlZCAjMzMzOw0KICAgIHBhZGRpbmctYm90dG9tOiAxMHB4Ow0KfQ==");Resources.add("userlinks_popup_css","data:text/css;base64,I3VzZXJsaW5rc19wb3B1cCB1bCwgbGkgew0KCW1hcmdpbjogMHB4Ow0KCXBhZGRpbmc6IDBweDsNCn0NCiN1c2VybGlua3NfcG9wdXAgdWwgew0KCWxpc3Qtc3R5bGUtdHlwZTogbm9uZTsNCglvdmVyZmxvdzogYXV0bzsNCgl0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KI3VzZXJsaW5rc19wb3B1cCB1bCBsaSB7DQoJYm9yZGVyOiAxcHggc29saWQgIzJGMkYyRjsNCgltaW4taGVpZ2h0OiAyNnB4Ow0KCW1hcmdpbjogNXB4Ow0KCXBhZGRpbmc6IDVweDsNCn0NCiN1c2VybGlua3NfcG9wdXAgdWwgbGkgc3Bhbi5jaGVja2JveCB7DQoJZmxvYXQ6IGxlZnQ7DQoJbWF4LXdpZHRoOiAxNDBweDsNCglvdmVyZmxvdzogaGlkZGVuOw0KCW1heC1oZWlnaHQ6IDIwcHg7DQoJbWFyZ2luLXRvcDogMnB4Ow0KfQ0KI3VzZXJsaW5rc19wb3B1cCB1bCBsaSBkaXYgew0KCW1hcmdpbi1sZWZ0OiAyMDBweDsNCn0NCiN1c2VybGlua3NfcG9wdXAgdWwgbGkgYSB7DQoJZmxvYXQ6IHJpZ2h0Ow0KfQ==");
Resources.add("wallcleaner_popup_css","data:text/css;base64,I3dhbGxjbGVhbmVyX3BvcHVwIHsNCiAgICBwYWRkaW5nOiA1cHg7DQp9DQojd2FsbGNsZWFuZXJfcG9wdXAgZmllbGRzZXQgew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM0NDQ7DQogICAgbWFyZ2luOiAwcHggMHB4IDVweCAwcHg7DQp9DQojd2FsbGNsZWFuZXJfcG9wdXAgZmllbGRzZXQgbGVnZW5kIHsNCiAgICBjb2xvcjogIzU1NTsNCiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KICAgIGZvbnQtc2l6ZTogMTFweDsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCAjdG9wX3dyYXBwZXIgew0KICAgIGhlaWdodDogNjBweDsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCAjdG9wX3dyYXBwZXIgLnJlbW92ZS1hbGwtbWVzc2FnZXMsDQojd2FsbGNsZWFuZXJfcG9wdXAgI3RvcF93cmFwcGVyLmxvZ2dpbmcgZmllbGRzZXQgew0KICAgIGRpc3BsYXk6IG5vbmU7DQp9DQojd2FsbGNsZWFuZXJfcG9wdXAgI3RvcF93cmFwcGVyLmxvZ2dpbmcgLnJlbW92ZS1hbGwtbWVzc2FnZXMsDQojd2FsbGNsZWFuZXJfcG9wdXAgI3RvcF93cmFwcGVyIGZpZWxkc2V0IHsNCiAgICBkaXNwbGF5OiBibG9jazsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCAjdG9wX3dyYXBwZXIgLnJlbW92ZS1hbGwtbWVzc2FnZXMgew0KICAgIGRpc3BsYXk6IG5vbmU7DQogICAgcGFkZGluZzogMTVweCAxMHB4IDBweCA1MHB4Ow0KICAgIHdpZHRoOiBhdXRvOw0KICAgIGhlaWdodDogNDBweDsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCAjdG9wX3dyYXBwZXIgLnJlbW92ZS1hbGwtbWVzc2FnZXMgLmxvZy1tZXNzYWdlcyB7DQogICAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDsNCiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7DQp9DQojd2FsbGNsZWFuZXJfcG9wdXAgI3RvcF93cmFwcGVyIC5yZW1vdmUtYWxsLW1lc3NhZ2VzIC5sb2ctYnV0dG9uIHsNCiAgICBmbG9hdDogcmlnaHQ7DQp9DQojd2FsbGNsZWFuZXJfcG9wdXAgI2ZlZWRfbGlzdF93cmFwcGVyIHsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDQ0Ow0KfQ0KI3dhbGxjbGVhbmVyX3BvcHVwIC5mZWVkX2xpc3RfaGVhZGVyIHsNCiAgICBoZWlnaHQ6IDMwcHg7DQogICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM0NDQ7DQp9DQojd2FsbGNsZWFuZXJfcG9wdXAgI2ZlZWRfbGlzdF93cmFwcGVyIC5hamF4X2xvYWRlcl9naWYsDQojd2FsbGNsZWFuZXJfcG9wdXAgI2ZlZWRfbGlzdF93cmFwcGVyIC5mZWVkX2xvZywNCiN3YWxsY2xlYW5lcl9wb3B1cCAjZmVlZF9saXN0X3dyYXBwZXIgLmZlZWRfbGlzdCB7DQogICAgZGlzcGxheTogbm9uZTsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCAjZmVlZF9saXN0X3dyYXBwZXIubG9hZGluZyAuYWpheF9sb2FkZXJfZ2lmIHsNCiAgICBkaXNwbGF5OiBibG9jazsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCAjZmVlZF9saXN0X3dyYXBwZXIubG9nZ2luZyAuZmVlZF9sb2cgew0KICAgIGRpc3BsYXk6IGJsb2NrOw0KfQ0KI3dhbGxjbGVhbmVyX3BvcHVwICNmZWVkX2xpc3Rfd3JhcHBlci5pZGxlbGlzdCAuZmVlZF9saXN0IHsNCiAgICBkaXNwbGF5OiBibG9jazsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCB1bCB7DQogICAgbGlzdC1zdHlsZS10eXBlOiBub25lOw0KICAgIG92ZXJmbG93OiBhdXRvOw0KICAgIG1hcmdpbjogMHB4Ow0KICAgIHBhZGRpbmc6IDBweDsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCB1bC5mZWVkX2xvZyB7DQogICAgcGFkZGluZy10b3A6IDVweDsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCB1bC5mZWVkX2xvZyBsaSB7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KICAgIGhlaWdodDogMjBweDsNCiAgICBwYWRkaW5nLWxlZnQ6IDMwcHggIWltcG9ydGFudDsNCiAgICBtYXJnaW4tYm90dG9tOiAxcHg7DQogICAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IDE4cHggIWltcG9ydGFudDsNCiAgICAtbW96LWJhY2tncm91bmQtc2l6ZTogMThweCAhaW1wb3J0YW50Ow0KICAgIG1pbi1oZWlnaHQ6IDE4cHggIWltcG9ydGFudDsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1cHggNTAlOw0KfQ0KI3dhbGxjbGVhbmVyX3BvcHVwIHVsLmZlZWRfbG9nIGxpIHAgew0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICBtYXJnaW4tYm90dG9tOiAycHg7DQp9DQojd2FsbGNsZWFuZXJfcG9wdXAgdWwuZmVlZF9saXN0IGxpIHsNCiAgICBtaW4taGVpZ2h0OiA2MHB4Ow0KICAgIG1hcmdpbi1ib3R0b206IDJweDsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCB1bC5mZWVkX2xpc3QgZGl2LmxpX3dyYXBwZXIgew0KICAgIHBhZGRpbmc6IDRweCAxNHB4IDJweCA0cHg7DQogICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMxRjFGMUY7DQogICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICMxRjFGMUY7DQogICAgbWluLWhlaWdodDogNTJweDsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCB1bC5mZWVkX2xpc3QgbGkgaW1nLmZlZWRfaWNvbiB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgd2lkdGg6IDUwcHg7DQp9DQojd2FsbGNsZWFuZXJfcG9wdXAgdWwuZmVlZF9saXN0IGxpIGRpdi5idXR0b25zIHsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgZm9udC1zaXplOiAxMHB4Ow0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgIG1hcmdpbjogM3B4IDBweCAwcHggMTRweDsNCiAgICB0ZXh0LWFsaWduOiByaWdodDsNCiAgICB3aWR0aDogNzBweDsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCB1bC5mZWVkX2xpc3QgbGkgZGl2LmJvZHkgew0KICAgIG1hcmdpbjogMHB4IDYwcHg7DQogICAgaGVpZ2h0OiA1MHB4Ow0KfQ0KI3dhbGxjbGVhbmVyX3BvcHVwIHVsLmZlZWRfbGlzdCBsaSBoNCB7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KICAgIG1hcmdpbi1ib3R0b206IDRweDsNCiAgICBwYWRkaW5nLXRvcDogMnB4Ow0KfQ0KI3dhbGxjbGVhbmVyX3BvcHVwIHVsLmZlZWRfbGlzdCBsaSBwIHsNCiAgICBjb2xvcjogIzk5OTsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgbGluZS1oZWlnaHQ6IDE1cHg7DQp9DQojd2FsbGNsZWFuZXJfcG9wdXAgdWwuZmVlZF9saXN0IGxpIGRpdi5idXR0b25zIGEuc2V4eV9idXR0b25fbmV3IHsNCiAgICBtaW4td2lkdGg6IDYycHg7DQogICAgbWFyZ2luLWJvdHRvbTogNnB4Ow0KfQ0KI3dhbGxjbGVhbmVyX3BvcHVwIHVsLmZlZWRfbGlzdCBsaSBkaXYuYnV0dG9ucyBhLmlnbm9yZSB7DQogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCn0NCiN3YWxsY2xlYW5lcl9wb3B1cCB1bCwgI3dhbGxjbGVhbmVyX3BvcHVwIGxpLCAjd2FsbGNsZWFuZXJfcG9wdXAgaDIsICN3YWxsY2xlYW5lcl9wb3B1cCBoMywgI3dhbGxjbGVhbmVyX3BvcHVwIGg0LCAjd2FsbGNsZWFuZXJfcG9wdXAgcCB7DQogICAgbWFyZ2luOiAwcHg7DQogICAgcGFkZGluZzogMHB4Ow0KfQ==");Resources.add("marquee_html","data:text/html;base64,PGRpdiBpZD0ibXdhX21hcnF1ZWUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkjbXdhX21hcnF1ZWUgZGl2Lm1hcnF1ZWVfYm94IHsNCgkJYmFja2dyb3VuZDogYmxhY2sgdXJsKCR7YmFzZV91cmx9L21hcF9iYXNlZF9qb2JzL2V4cGVydF92aWV3L2V4cGVydHZpZXdfbmF2X21pZC5naWYpIDAlIDAlIHJlcGVhdC14Ow0KCQlwb3NpdGlvbjogYWJzb2x1dGU7DQoJCW1hcmdpbjogMHB4Ow0KCQl3aWR0aDogMTAwJTsNCgkJb3ZlcmZsb3c6IGhpZGRlbjsNCgkJY29sb3I6IHdoaXRlOw0KCQlsaW5lLWhlaWdodDogMjhweDsNCgkJYm9yZGVyOiAxcHggc29saWQgYmxhY2s7DQoJCWxlZnQ6IDBweDsNCgkJcGFkZGluZzogMXB4Ow0KCQloZWlnaHQ6IDI0cHg7DQoJCXRvcDogLTI5cHg7DQoJCXotaW5kZXg6IDQwOw0KCX0NCgkjbXdhX21hcnF1ZWUgZGl2Lm1hcnF1ZWVfYm94IGRpdiNtYXJxdWVlX2hlYWRlciB7DQoJCWZsb2F0OiBsZWZ0Ow0KCQltYXJnaW4tcmlnaHQ6IDJweDsNCgkJaGVpZ2h0OiAxOHB4Ow0KCQlmb250LXNpemU6IDEycHg7DQoJCXBhZGRpbmc6IDJweCAwcHggMHB4IDVweDsNCgkJbGluZS1oZWlnaHQ6IDE4cHg7DQoJCXRleHQtYWxpZ246IGxlZnQ7DQoJCXBhZGRpbmc6IDJweCAwcHggMHB4IDVweDsNCgkJY29sb3I6ICM4OTg5ODk7DQoJfQ0KCSNtd2FfbWFycXVlZSBkaXYubWFycXVlZV9ib3ggZGl2I21hcnF1ZWVfb3V0ZXIgew0KCQl3aWR0aDogNTQwcHg7DQoJCW1hcmdpbjogMHB4Ow0KCQloZWlnaHQ6IDIwcHg7DQoJCWJvcmRlcjogMXB4IGRvdHRlZCAjMzMzOw0KCQliYWNrZ3JvdW5kLWNvbG9yOiAjMTExOw0KCQlvdmVyZmxvdzogaGlkZGVuOw0KCQlwYWRkaW5nOiAxcHggMXB4IDBweCAxcHg7DQoJCWZvbnQtc2l6ZTogMTJweDsNCgkJY3Vyc29yOiBwb2ludGVyOw0KCQlmbG9hdDogbGVmdDsNCgl9DQoJI213YV9tYXJxdWVlIGRpdi5tYXJxdWVlX2JveCBkaXYjbWFycXVlZV9vdXRlciA+IGRpdiNtYXJxdWVlX2lubmVyIHsNCgkJY3Vyc29yOiBwb2ludGVyOw0KCQl3aGl0ZS1zcGFjZTogbm93cmFwOw0KCQltYXJnaW4tdG9wOiAycHg7DQoJCWxpbmUtaGVpZ2h0OiAxNHB4Ow0KCQlmbG9hdDogbGVmdDsNCgkJcGFkZGluZzogMHB4IDU3MHB4IDBweCA1NzBweDsNCgl9DQoJI213YV9tYXJxdWVlIGRpdi5tYXJxdWVlX2JveCAjbWFycXVlZV9oZWFkZXIgYSB7DQoJCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgkJZGlzcGxheTogYmxvY2s7DQoJCXdpZHRoOiAyMHB4Ow0KCQloZWlnaHQ6IDIwcHg7DQoJCXRleHQtZGVjb3JhdGlvbjogbm9uZTsNCgkJYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgdXJsKCR7YmFzZV91cmx9L2JsYWNrX2Nsb3NlX2J1dHRvbl8xNHgxNF8wMS5naWYpIDAlIDAlIG5vLXJlcGVhdDsNCgl9DQoJI213YV9tYXJxdWVlIGRpdi5tYXJxdWVlX2JveCAjbWFycXVlZV9oZWFkZXIgYS5jbG9zZV9idXR0b24gew0KCQliYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCB1cmwoJHtiYXNlX3VybH0vYmxhY2tfY2xvc2VfYnV0dG9uXzE0eDE0XzAxLmdpZikgMCAwIG5vLXJlcGVhdDsNCgkJcmlnaHQ6IDVweDsNCgkJdG9wOiA2cHg7DQoJfQ0KCSNtd2FfbWFycXVlZSBkaXYubWFycXVlZV9ib3ggI21hcnF1ZWVfaGVhZGVyIGEubmV4dF9idXR0b24gIHsNCgkJYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgdXJsKCR7YmFzZV91cmx9L2VtcGlyZS9idXR0b25fbWluaV9wbGF5LnBuZykgMCUgMCUgbm8tcmVwZWF0Ow0KCQlyaWdodDogMzBweDsNCgkJdG9wOiAycHg7DQoJfQ0KPC9zdHlsZT4NCjxkaXYgY2xhc3M9Im1hcnF1ZWVfYm94Ij48ZGl2IGlkPSJtYXJxdWVlX2hlYWRlciI+PHNwYW4+TVdBZGRvbiBDb21tdW5pdHkgTmV3czo8L3NwYW4+DQo8YSBocmVmPSIjIiB0aXRsZT0iQ2xvc2UgQ29tbXVuaXR5IE5ld3MuIiBjbGFzcz0iY2xvc2VfYnV0dG9uIj48L2E+PGEgaHJlZj0iIyIgdGl0bGU9IlNob3cgbmV4dCBtZXNzYWdlLiIgY2xhc3M9Im5leHRfYnV0dG9uIj48L2E+DQo8L2Rpdj4NCjxkaXYgaWQ9Im1hcnF1ZWVfb3V0ZXIiPjxkaXYgaWQ9Im1hcnF1ZWVfaW5uZXIiPjwvZGl2PjwvZGl2Pg0KPC9kaXY+DQo8L2Rpdj4=");
Resources.add("task_entry_html","data:text/html;base64,PGRpdiBpZD0iJHt0YXNrX2lkfSIgY2xhc3M9InF1ZXN0X2xpc3RfZW50cnkiPg0KPGRpdiBjbGFzcz0iYm94IHF1ZXN0X3BpY3R1cmVfYm94IGdyYXkiPg0KCTxkaXYgY2xhc3M9ImJveF90b3Bfd3JhcHBlciBjbGVhcmZpeCI+PGRpdiBjbGFzcz0iYm94X3RvcCBxdWVzdF9waWN0dXJlIj48ZGl2IGNsYXNzPSJib3hfdG9wX3JpZ2h0Ij48L2Rpdj48L2Rpdj48L2Rpdj4NCgk8ZGl2IGNsYXNzPSJib3hfbWlkZGxlX3dyYXBwZXIgY2xlYXJmaXgiPjxkaXYgY2xhc3M9ImJveF9taWRkbGUgcXVlc3RfcGljdHVyZSI+PGRpdiBjbGFzcz0iYm94X21pZGRsZV9yaWdodCI+PGRpdiBjbGFzcz0ibm90aWZ5LXRhc2staWNvbiAke2ljb25fY2xhc3N9Ij48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4NCgk8ZGl2IGNsYXNzPSJib3hfYm90dG9tX3dyYXBwZXIgY2xlYXJmaXgiPjxkaXYgY2xhc3M9ImJveF9ib3R0b20gcXVlc3RfcGljdHVyZSI+PGRpdiBjbGFzcz0iYm94X2JvdHRvbV9yaWdodCI+PC9kaXY+PC9kaXY+PC9kaXY+CQkJCQkJDQo8L2Rpdj4NCjxkaXYgY2xhc3M9ImJveCBxdWVzdF9wcm9ncmVzc19ib3ggZ3JheSIgc3R5bGU9IndpZHRoOiA1MjBweDsiPg0KCTxkaXYgY2xhc3M9ImJveF90b3Bfd3JhcHBlciBjbGVhcmZpeCI+PGRpdiBjbGFzcz0iYm94X3RvcCI+PGRpdiBjbGFzcz0iYm94X3RvcF9yaWdodCI+PC9kaXY+PC9kaXY+PC9kaXY+DQoJPGRpdiBjbGFzcz0iYm94X21pZGRsZV93cmFwcGVyIGNsZWFyZml4IiBzdHlsZT0iaGVpZ2h0OiA1NXB4OyI+DQoJCTxkaXYgY2xhc3M9ImJveF9taWRkbGUgY2xlYXJmaXgiPg0KCQkJPGRpdiBjbGFzcz0iYm94X21pZGRsZV9yaWdodCI+DQoJCQkJPGRpdiBzdHlsZT0icGFkZGluZzogMHB4IDVweDsiPg0KCQkJCQk8ZGl2IGNsYXNzPSJub3RpZnktdGFzay10aXRsZSI+PHNwYW4+JHt0YXNrX3RpdGxlfTwvc3Bhbj48L2Rpdj4NCgkJCQkJPGRpdiBjbGFzcz0ibm90aWZ5LXRhc2stbWVzc2FnZSI+PHNwYW4+JHt0YXNrX21lc3NhZ2V9PC9zcGFuPjwvZGl2Pg0KCQkJCTwvZGl2Pg0KCQkJCTxkaXYgY2xhc3M9ImNsZWFyZml4IiBzdHlsZT0iY2xlYXI6Ym90aCI+PC9kaXY+DQoNCgkJCTwvZGl2Pg0KCQk8L2Rpdj4NCgk8L2Rpdj4NCgk8ZGl2IGNsYXNzPSJib3hfYm90dG9tX3dyYXBwZXIgY2xlYXJmaXgiPjxkaXYgY2xhc3M9ImJveF9ib3R0b20iPjxkaXYgY2xhc3M9ImJveF9ib3R0b21fcmlnaHQiPjwvZGl2PjwvZGl2PjwvZGl2Pg0KCTxkaXYgY2xhc3M9ImNsZWFyZml4IiBzdHlsZT0iY2xlYXI6Ym90aCI+PC9kaXY+DQo8L2Rpdj4NCjxkaXYgY2xhc3M9InF1ZXN0bGlzdF9yZXdhcmRzIiBzdHlsZT0iZmxvYXQ6IHJpZ2h0OyI+DQoJPGEgYWN0aW9uPSJvbmNsaWNrIiB0YXNrSWQ9IiR7dGFza19pZH0iIHN0eWxlPSJ3aWR0aDogMTAwcHg7IiBjbGFzcz0ic2V4eV9idXR0b25fbmV3IHNob3J0IHdoaXRlIj4gPHNwYW4+PHNwYW4+JHtvbmNsaWNrX3RleHR9PC9zcGFuPjwvc3Bhbj48L2E+DQoJPGRpdiBjbGFzcz0iY2xlYXJmaXgiIHN0eWxlPSJjbGVhcjpib3RoO21hcmdpbi10b3A6IDExcHg7Ij48L2Rpdj4NCgk8YSBhY3Rpb249Im9uY2xvc2UiIHRhc2tJZD0iJHt0YXNrX2lkfSIgc3R5bGU9IndpZHRoOiAxMDBweDsiIGNsYXNzPSJzZXh5X2J1dHRvbl9uZXcgc2hvcnQgd2hpdGUiPiA8c3Bhbj48c3Bhbj4ke29uY2xvc2VfdGV4dH08L3NwYW4+PC9zcGFuPjwvYT4NCjwvZGl2Pg0KPGRpdiBjbGFzcz0iY2xlYXJmaXgiIHN0eWxlPSJjbGVhcjpib3RoIj48L2Rpdj4NCjwvZGl2Pg==");Resources.add("toolbar_html","data:text/html;base64,PGRpdiBpZD0ibXdhX3Rvb2xiYXIiPjxkaXYgc3R5bGU9ImhlaWdodDogNjZweDsgbWFyZ2luLXRvcDogNHB4OyI+DQogICAgPHRhYmxlPg0KICAgICAgICA8dGJvZHk+DQogICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgPHRkPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJib3giIHN0eWxlPSJ3aWR0aDoxNzBweDsiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibXdhX3Rvb2xiYXJDYXNoV3JhcHBlciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibXdhX3Rvb2xiYXJDYXNoIiBjbGFzcz0iYnV0dG9uX2Jhcl9jYXNoIj48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2VudGVyIHN0eWxlPSJwYWRkaW5nOiA1cHg7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9Im13YV90b29sYmFyX2JhbmsiIGNsYXNzPSJiYW5rX2RlcG9zaXQiPig8YSBocmVmPSIjIiBvbmNsaWNrPSJyZXR1cm4gZG9fYWpheCgncG9wdXBfZm9kZGVyJywgJ3JlbW90ZS9odG1sX3NlcnZlci5waHA/eHdfY29udHJvbGxlcj1iYW5rJmFtcDt4d19hY3Rpb249dmlldycsIDEsIDEsIDAsIDApOyIgY2xhc3M9ImJhbmtfZGVwb3NpdCI+QmFuazwvYT4pPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0ibXdhX3Rvb2xiYXJfaG9zcGl0YWwiIGNsYXNzPSJiYW5rX2RlcG9zaXQiPig8YSBocmVmPSIjIiBvbmNsaWNrPSJyZXR1cm4gZG9fYWpheCgncG9wdXBfZm9kZGVyJywgJ3JlbW90ZS9odG1sX3NlcnZlci5waHA/eHdfY29udHJvbGxlcj1ob3NwaXRhbCZhbXA7eHdfYWN0aW9uPXZpZXcnLCAxLCAxLCAwLCAwKTsiIGNsYXNzPSJiYW5rX2RlcG9zaXQiPkhvc3BpdGFsPC9hPik8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jZW50ZXI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibXdhX3Rvb2xiYXJQb2ludHMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJtd2FfcmV3YXJkUG9pbnRzIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJmaWVsZC1uYW1lIj5SZXdhcmQgUG9pbnRzOjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Im13YV9za2lsbFBvaW50cyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZmllbGQtbmFtZSI+U2tpbGwgUG9pbnRzOjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICA8dGQ+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJveCIgc3R5bGU9IndpZHRoOjUwMHB4OyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ0b29sYmFyLXN0YXRzLWNvbnRlbnQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICN0b29sYmFyLXN0YXRzLWNvbnRlbnQgPiB0YWJsZSAuYnV0dG9uX2JhciB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA1cHggIWltcG9ydGFudDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIHN0eWxlPSJtYXJnaW46MHB4IGF1dG87Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgaWQ9Im13YV90b29sYmFySGVhbHRoIiBjbGFzcz0iYnV0dG9uX2JhciIgdGl0bGU9IkhlYWx0aCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGVhbHRoIiBzdHlsZT0id2lkdGg6IDIwMHB4OyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzX2JhciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0X2luZm8iPjxzcGFuIGlkPSJtd2FfaGVhbHRoX2Jhcl9pbmZvIj4wLzA8L3NwYW4+PHNwYW4gaWQ9ImNvdW50ZG93blNwYW5IZWFsdGgiIGNsYXNzPSJjb3VudGRvd24iPjA6MDA8L3NwYW4+PC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJtd2FfaGVhbHRoX2JhciIgY2xhc3M9Im1hc3RlcnlfYmFyIHp5X3Byb2dyZXNzX2Jhcl9ncmVlbiI+PGRpdiBzdHlsZT0id2lkdGg6IDAlOyI+PC9kaXY+PC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBpZD0ibXdhX3Rvb2xiYXJFbmVyZ3kiIGNsYXNzPSJidXR0b25fYmFyIiB0aXRsZT0iRW5lcmd5Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJlbmVyZ3kiIHN0eWxlPSJ3aWR0aDogMjAwcHg7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3NfYmFyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXRfaW5mbyI+PHNwYW4gaWQ9Im13YV9lbmVyZ3lfYmFyX2luZm8iPjAvMDwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Im13YV9lbmVyZ3lfcmF0aW8iIGNsYXNzPSJyYXRpb19uZWVkIiB0aXRsZT0iRW5lcmd5IGV4cGVyaWVuY2UgcmF0aW8gdG8gbGV2ZWwgdXAuIj48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJjb3VudGRvd25TcGFuRW5lcmd5IiBjbGFzcz0iY291bnRkb3duIj4wOjAwPC9zcGFuPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibXdhX2VuZXJneV9iYXIiIGNsYXNzPSJtYXN0ZXJ5X2JhciB6eV9wcm9ncmVzc19iYXJfZ3JlZW4iPjxkaXYgc3R5bGU9IndpZHRoOiAwJTsiPjwvZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+PHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGlkPSJtd2FfdG9vbGJhckV4cGVyaWVuY2UiIGNsYXNzPSJidXR0b25fYmFyIiB0aXRsZT0iRXhwZXJpZW5jZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhwZXJpZW5jZSIgc3R5bGU9IndpZHRoOiAyMDBweDsiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzc19iYXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdF9pbmZvIj48c3BhbiBpZD0ibXdhX2V4cGVyaWVuY2VfYmFyX2luZm8iPjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Im13YV9leHBlcmllbmNlX3JhdGlvIiBjbGFzcz0icmF0aW9fbmVlZCIgc3R5bGU9Im1hcmdpbi1sZWZ0OiAxMDBweDsiIHRpdGxlPSJHbG9iYWwgZXhwZXJpZW5jZSByYXRpbyB0byBsZXZlbCB1cC4iPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjb3VudGRvd24iPjxzcGFuIHN0eWxlPSJmb250LXNpemU6IDhweDsgbGluZS1oZWlnaHQ6IDhweDsiPkxWLjwvc3Bhbj48c3BhbiBpZD0ibXdhX3VzZXJfbGV2ZWwiPjA8L3NwYW4+PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJtd2FfZXhwZXJpZW5jZV9iYXIiIGNsYXNzPSJtYXN0ZXJ5X2JhciB6eV9wcm9ncmVzc19iYXJfZ3JlZW4iPjxkaXYgc3R5bGU9IndpZHRoOiAwJTsiPjwvZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgaWQ9Im13YV90b29sYmFyU3RhbWluYSIgY2xhc3M9ImJ1dHRvbl9iYXIiIHRpdGxlPSJTdGFtaW5hIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGFtaW5hIiBzdHlsZT0id2lkdGg6IDIwMHB4OyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzX2JhciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0X2luZm8iPjxzcGFuIGlkPSJtd2Ffc3RhbWluYV9iYXJfaW5mbyI+MC8wPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibXdhX3N0YW1pbmFfcmF0aW8iIGNsYXNzPSJyYXRpb19uZWVkIiB0aXRsZT0iU3RhbWluYSBleHBlcmllbmNlIHJhdGlvIHRvIGxldmVsIHVwLiI+PC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0iY291bnRkb3duU3BhblN0YW1pbmEiIGNsYXNzPSJjb3VudGRvd24iPjA6MDA8L3NwYW4+PC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJtd2Ffc3RhbWluYV9iYXIiIGNsYXNzPSJtYXN0ZXJ5X2JhciB6eV9wcm9ncmVzc19iYXJfZ3JlZW4iPjxkaXYgc3R5bGU9IndpZHRoOiAwJTsiPjwvZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgIDx0ZD4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYm94IiBzdHlsZT0id2lkdGg6IDkwcHg7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InBhZGRpbmctbGVmdDogM3B4OyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaWQ9Im13YV90bGJMaW5rcyIgY2xhc3M9InNleHlfYnV0dG9uX25ldyBidXR0b25fbWVudV9jbG9zZWQiPjxzcGFuPjxzcGFuPjxzcGFuIGNsYXNzPSJtd2FfcmVzX2Jvb2ttYXJrX3BuZyIgc3R5bGU9InBhZGRpbmctbGVmdDogMjBweDsgbWFyZ2luLWxlZnQ6IC01cHg7Ij48L3NwYW4+PC9zcGFuPjwvc3Bhbj48L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaWQ9Im13YV90bGJSZW1pbmRlcnMiIGNsYXNzPSJzZXh5X2J1dHRvbl9uZXcgYnV0dG9uX21lbnVfY2xvc2VkIj48c3Bhbj48c3Bhbj48c3BhbiBjbGFzcz0ibXdhX3Jlc19yZW1pbmRlcl9tZW51X2ljb25fcG5nIiBzdHlsZT0icGFkZGluZy1sZWZ0OiAyMHB4OyBtYXJnaW4tbGVmdDogLTVweDsiPjwvc3Bhbj48L3NwYW4+PC9zcGFuPjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBpZD0ibXdhX3RsYlBsdWdpbnMiIHN0eWxlPSJ3aWR0aDogODBweDsgbWFyZ2luLXRvcDogMnB4OyIgY2xhc3M9InNleHlfYnV0dG9uX25ldyBidXR0b25fbWVudV9jbG9zZWQiPjxzcGFuPjxzcGFuPlBsdWdpbnM8L3NwYW4+PC9zcGFuPjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJtd2FfdG9vbGJhcm1lbnUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRvb2xiYXJhcnJvdyI+PGltZyBzcmM9IiR7YmFzZV91cmx9Y3Jld19tb2R1bGUvY3Jld19ob3Zlcl9hcnJvdy5wbmciPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRvb2xiYXJib3giPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJveF90aXRsZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZmxvYXQ6bGVmdDsiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZsb2F0OnJpZ2h0OyI+PC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY2xlYXI6IGJvdGgiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bD48L3VsPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICA8L3RyPg0KICAgICAgICA8L3Rib2R5Pg0KICAgIDwvdGFibGU+DQo8L2Rpdj48dWwgY2xhc3M9InRvcG5hdiI+PC91bD48L2Rpdj4=");
Resources.add("ajax_error_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACYQAAAmEBwTBV+gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAQHSURBVDiNtZVtbxRVFMd/596ZnS1L210otMB2t62gmKA2gVLtC5UgaGi0Eg2JfgY+AdAWWq0fgKJGE33ZqCQF5EFqCIoJ0RoTXpRATHjY0hYa2i6d7XZ2u7tzfbHttlgKiYn/5M5N7j33N+fMOfeMGGP4P2Q9yyCxSloUxBAioCKIyviW1R9/5N152jlZyeORkOwz6A5VVdWsa2uxamOAonB/hPzoCH4yOahE922acHsxJv9M8L2QbETbp/SmaNOqtv1Yz20BgeJD5ichf+c23oWzFMbHB4IZ82HVw4epFcET66R8Nu9cKdv9diNbnsefm6Ns46YSbCk4OzmF0gpz+xaZ3369ZgK6tfbm8NgCSy2+QixPVp8MNr/WmF+zlqnECNlwFVODg/gpF991i3PKJTV0HXdiisnbCfIVYZztOxoV1qmlHpfAo9Xhg1a8fm+hJorrptnyzbfE2ttRL71C8q9r+KkUJpVi5ubfeNqm4Xgvm7/6GncySWFdNToWbxp5+YV9y8DGtj+26hvw3WnKtr6ICgYBiB1pR2/fwaOh68zcukUmVM7mE58jWqMch+DWrRSmXaxYHB1wOh4DJ+pq6iUcaUIUAccmd+ki944dLYUV6zyKtfNVsmvWsfmLL0HrYqK7jpH/7RecUBkoBRWVzWMtO1tgvo4tJ7BftMafngbbYnWkEvfsGRKFAvGu7iK8qxt8vwgAhjs7mLv0MxWxKH46Db6PaI2xVAy4WrwglhM0+Rz5sVEktAoVClERqcQ908/dQoG6T3vm4ytC7x4+TG7gAhXRDZjZWUw2g8lmAUE5gUjJYyydFKVAFORy+G6qCMnlyD94AIVCKfxiQgwmmynaLZSiZYEojKhFsAScZNFAFY2UYnY6hX5zNw3He0ueLqiup4eEVqR+PEV5TTUoQUQWwJnFqrDVMHYAbBuxbdKpNNa+d2noPbEY/qFD3D18qASPd39CsO0DZianEMsGuziU2P2w5Obdf6Pld5Q0Z9Oz8NY71PV8VoIk2o+QPXcGEJzW94h3dy/udXTA1Ss4kTCIDNZ839/8WB2LY3dh20gwSObGDXzPm89+J9mfzlFRG6UiFiU7cJ7ho50A+J6Hd30IFQwiWiNK9ZV4S3vFg9Y9g4hqyqZm8Naup2zbNuYuXqA8uuGx7z8zeh979x68oSHK0i7BcCVgBqrHk61cvpxfBp5o27uxoALnjEjjnOdh8gWcSBj5V/IAMo+mUZZFYHUIkGvay71edfp0qcMta5sTbW3lBUefRMneZbQn608t+fer+k6PLV18cqPftcsar15zEOEjDDtXAP5hjHTVfHfy/JM2V/yDLGj8wIF6Uf5+IyYoRpIGPymih9f3/XD1aeeeCf6v+gfLYZXwkd5f2QAAAABJRU5ErkJggg==");Resources.add("bookmark_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAvVJREFUOI1908trXHUcBfBzfo9777wyzRg6jUlasrBtCoIg9bWSLqRFcJO6kCKCf4MrVy4F/wQRl7poEFoQdCcUxGfdqEyRxsyYhmRmkjuTue/7+31dKC5K8WzO5vDZHeIJGe0AoF2hbr4NmuekTj6C5L9tbMM/vjVPAoBA0y6/aNsXb+mwv17EPzzwxdEIyGb/C4x2/mnapb7tXH6r2X/tsgnPhoC/WcQ/3Rvt7H2zsf0YsP/lJny2C0Br6HZAHZ3RUf/NqHf1WtQ531C0dE9dveiq6a2qTvZGX2QH8GkFiN/YBozPH3UZnFvVUX+dQe+8Ms0rtrF2PepeWFGqIPycQWgid2brBmky79LvfBnvumK8v7czm3B05+z7Ye/5V8PlK+s6WFpW2rSMsQ2tnKbPAJ9QAHES+rrWqfM6duXppJwPHmbTn++ZGo0LzWjlhajT6hi9UBAPoAJ9DkgFUgAoGtXQOux3RC23PdbWoRuXZtO9jsmz/LY5GVwKO81XTNspMgOkBOEBEgBBWohqgFpAldFVTpJ4d7xI8rv6nRvYd9ViQLd4xkZqTduJImakygBdAMoB2oA6BEgpi9wfD38ZHg3vfxjHJ5/pj+9U7t3XcWgkS7UuXw7b+ZIyJyQXABKAJaAchLU4Lzg9HMaT4a+fnEzHn86T+tj8dfccDg6nhVHVfV/N//SwT8NkWiAgCGAOYAzAQuquVItkhGrydV6U0zfeS2F0axOrax2QpAoyQ5MQtgQEEAEA/iuRqBMhKxfotOg2vQCAWr32LVTQo7Ktlgq4BJtTWEtVOknjyqdxIVVZiVclYFJQZxFYNzSFAGB2b0dwxSEI13R11SxT49NjVIsjGSezcqBQq1ZXbbX6tmdbtABDgA0qEICYzZs5Hnz+CCCTLLcP47E5KAr+mCT8qs7VQCvyNMazzam/HoT6pTrHPE9VmpeQ/86U5E6KUv3hfP1BDSlqp4ZZoaZlrWqrDAIjw0bivwf8lvMSecffnVcCAH8D5XF+lmPKsz4AAAAASUVORK5CYII=");Resources.add("burner_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAEDElEQVR42qWUfVBUVRjG0bKZZqq/ypnGwZrKaVQwmbQh06QwhLFmEjBGEKmI0BYUIkBAcuRDQPlSAgYhPnI1Wb4FBJavZT/u3ctedu/eXfbeuwS71MiWhiJKWFM+Hf2DYtKJpnfmzJw5Z85vnvd9n/e4uf1LULzgOczbwxheitGb7UFFpWc3evvvaQr+5FA6uV7mtpQYHMSjtFk6RpnFk2T5MyPi2/lltZ96vxXg8Nj+7nyoLLF1STDGLG3Tm6QTFCfl681CL2O2T7co1fO+gRF3vQOjEJ6YA9mR7Kmmzr5olmVXPBSkGhndRnHiWdosqvRm6TZlErvL677NWPOa7/ymXeHYm1KC9IpmXNZx8PLZNd+rZQ8+EKRQKB4hqaXSJrGBqHIQYNUAzTW8HxF76+DxEpRe7EJYciGCEwqQUChHsbwDqXmlNrXRuu4fMI1JCCVKimhOukVxQk7nIN2/9vWd7P7kk8ipq0S+ohpKhkPw4WyEppxBVK4coZ9n3iTNqQewfBHsfmq81EmA3ABtVG/YGmCISCv+o7SdwldtQ0ivKkBS0WmojTYknK5HWkUrQmTp03reHs1ax1cvgNTGsWfIYYXeLI4OMeaqyPijzqDP0lDWwaDTYEeDhkdNN4Pyc+3ICJeh6EIX1vuFuZq6h37TcYKfziRu/kuV4HiesYwdI0V37pclskExX94taFSjRWeFxurAsDiJJgKUqyzIOteD4NgMNHaqTuk5cZbUdzdlErYswFhWepo2CTWRcWl2v/BYlF/SkYc8TBMuosoK7agTutHvUa1k8UF8ztyBlJxGrckWR2x0T9lOxiJu+nvJlhVXnhff2ReDul4WlT0sVPwELukFTP50HcoRO2qVBiSdufC7u8eWLB0nltNGWy7JxE6UxQwNW9wXSGvfCAh578O4XwsV/ZD3G9FjkGB2/IiJqZ9hnbgCjWUCWdVt8AoIqxpk+FyaE+U0J8wynFRIm6SqhW6uXOO1Y0dI9Fx5mxrybgoFigHohUmIThdu3J4HzY+holWF3VFJM31aQxPxYi1ZFFH13T0LLVL18qvb+UMnypCcV4L2AR36KBMaVSMYv3IVzf00LvYyWO8bMltT31FKFHWQgZ8iIC3Di0lk3IIW+esFT+/mvG/aUfy1HNduzMLpuo7mwWH0GsfQQtmw9/DxucbL/T+QYtuJQTVETQVJLY10MPRBk/RsVGrutOSawbWZmxh3TSP1vBb9rAifffE4klXYxXDigfu/CCcqybhlW61Xn3jogL/i479VdjR32kk6NzN3B6zNgY++yLyz0uPNQA1rXU2xgqfOYnlRoaAed1tiuAd9LOtrUxlmIxMzf3nyuQ2nyNlyt/8Rj61at3njU6te8ib7Ff/l4Z+BPa/4t6hRMQAAAABJRU5ErkJggg==");Resources.add("chrome_bookmark_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2dJREFUeNpcU21oG2Uc/93lkkvv0iSEyuwSujRsa2kaGyWKDmFRsM4vUtTpXroRma/MT51OUBC/+PLRr9YWKps4FG1BN1BcOHUUv8xmq6vbuqZNmiZb3l/vrte71P8FlM37cDw8z//t9/Jn8L/vuUNH99t5Pub17ozyPO/Xt3QYhlHdyOUkVVU/+/7cV7/eHc/8e3j+8LjLarHMHHh6dCzQ70erJcPG26DrBmRZRrPZxI3lZawkVyVN08a++/pszcyzmL8XjhxzCXZeyqVT0cFgELzdjt77d8Dp6Iaz2wGXywlREGHhOOzs7fVnc7kDA0PBc0uLVzdZs4Aoih+ePjUR7g8EUCoUsMvnQ/ziL3j39Nt46+RJTH0xCVWRMTQ4AIZhEB55IExpcx0IB48eH3lm9KkEZ7Nhd38/OAuD2dlZfPv7AqyPj2OwpwuV5CK2/4rjo08+haKqkH67BN3QkUyuRllBEGKh0DBu3VpBrV7HMEGYn59H9dGX8ewT+/DBkVGcePUNbHlDmJmeQuH2HRCZcDgcsFksMdbn80bv5Atot9twOrvRkhXUajUYnj647YS524b7RCusuyOoNxpIp1ahNetwiSJcTkeUEwUhXK83CAyDttEmyXSwdG5Q8I83y6ioOjL1Tawnl/Gg14sXDx3G+QsXIMXj0Iy2nzMoiWUZkDQoVyrYIt0jkQhuX/kGf+AgLuda6MoswHsjjidfer/DQaFcwQ5fH7RNFVyj2VxjGNavaVtIpdchdtlRLZUx0m4h//N72CZoPlJl/J0JDIdCWPr7OjKZDSLRgCCKVa5cLktW3hYjKMgRQT+d/wH+XX58fGoCbrfbRNaZSlYUrK6lcHkhgfV0GkEqls/nJY4eZlKpdKynpwfXlq5BI+ftGQpieSUJNxnIRvJWqzWQlTsTJhIJbJP+LJmKqs9ZFhN/pvoCgWggEPDLrVaHvDbDolgsYSObQ5K6rqXSSGcyuE7jl0olPBR5GKViMXF2evJNznSToqhjVFnaOzAYzmazneRKpQqOupjLYuJtkEdAvR95bB+9lau0YLF7lunYiddcRMqcx+OJFovFjqxut6eTZC6UIArYJNaL+XzC0PXYmenJK/cU+K/QK6/vZ1k2RuxHBYfDb96RP6qKIkum/89Mff7l3fH/CDAA6OOVPZK/40YAAAAASUVORK5CYII=");
Resources.add("combined_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAACu0lEQVQokW2SzWtcZRyFn/fe9351PjKTBGylqVZDqJB2Wkit6EYCgroo6MoudecfoHbbtOBGU8FFF0WEgv9ARWosKFLBpoKlGk0GTNQ0yaQhncncuTP3+/5cNFIoczZndR44nKMYosXFO6pUKjmu63n1eu1A5+HuTJLE03khv1Sq1aYIXd/vpY3G8b4eBihXysc8x71UrZQPR2F0LNFuNURTsjSOZXZty1pBZPv27cVP1DDAg9b2m+1+/5u7a/fZeOjTiXL6mVC2TMYO2IyXbGZPvkAY9D7WANmd15R+8aYAyE2MVrxlb+2k3Pj5N/w4Y6RWxbJs9vKUZtAnCgJOHT3MaMlVjyqke1Z263hVSeiTtSq17rU3bHmdmmPgGTFSxGRxjolQNhWYYFmW2I4j+wBfo5z3Cik9EOPIpg6b7zjhhDRG/lW9cI9bW8+RFBYgFGlKEoekaSrKMBINoF9tDtLvGwlifi7i/k7YqR4tFvKR8cC89muduysejgbLEKIw4mC9TKfdjlyTZR1dPzGrMGeKkKeVQQWMl0kTRo0dMzc0U9WId6c32AksFu87tP2YM680iAb9pd1d+UmDEsQ4I6nxtkghgAJFgcmoKbw11ePblYi1TYe+73BycpLpZw7Fgd+9vLR0b1u7Z+/90P9iwlPe2CzKrMHjZRUFg8yl2Z2QtYGnTk+P05g60iJP5ldX17/+8KPzuerOcRpDfaCc0kso4ynAfgxgEOPmf6WTlSYn6HnP/2O6lflWa+vLuQtzAYCWjA5Krkoc/EjBZ/sdkEeMtmH4nx507GXtlu0/i9r6Zlet/h8G0EXM35KwDpxC0QYWgHP7PobAsxc3FuTshpq5/p08+VoFsPs+NopzGCwjJAjzKC4CIcIhhBvjV4iG3V4DSEquLL4iI5eMOooLwB/KpI1gipANCwP8B1REQisrwrTTAAAAAElFTkSuQmCC");Resources.add("config_menu_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC/ElEQVR42mNkAAJpaWnup0+ffmXAA/j4+Fjd3d3DVVVVFc+fP793+/btx0DijHZ2dv7zFyxYlJeXl7p1y5ZV2DQzMTEx5ufnz66srEj+/v3H/w0b1t+urKxy+vbt21NGoMkGy5Yv3/H371/W/Lx8pwcP7l9EN4CRkZFv/4H9j02MTfgKCgpmzZkzpwEo/BKI/zGC5IE2aKelp/fFxsbqJycn+9y4fv00sgFAL9quXLnikKKiEgPQ9gPVNTWBCvIKGi9fvnzEiKROLDExcWpWVrYz0JCAS5cuHoJJ+Pr5tubm5lYBNTAoKSky3L93/92Xr1+58nLz9BjRXCsUGRnZV1xcEpSRkR525syZHUJCQhIrVq44efr0KTmgXxgkxCUY3r9//3/Z0mVTz507V4RuAAjwBwQGtlVXVyeUlZYVBwT4Z/z89VP/zes3P27dvn31zu3b54ExdgxoyDqg2o/YDAABnqCgoIk1NbVJM2ZMZ+Dl5X05a9bM5M+fvxwGyoGi+y88gLHp1tDQMExKStoCDAep7JxchiunVt08sWXmzLm7vvZjxBC6gKGhoV1CQsL65SuWCRnoG/5U5jn1PCfqnsKT65/fB1T/tb36gOEqTgNsbGx8gkOCly9btpRHT1f/76lTp2pYv1z+URvLUOoayiD1l1Hkx8SODzP61v0p/fCN4Q+KAR4eHtEuLi5zly1fyq6irPr/9evXk/fv318BlPrFxMSgtrKRYYtXmLLSz8//GGZMvb+oZxVD6ruvDL/ABgQEBKTExcVNb2puZJGUkGLg5+dfs2LFihRQKMNcqiLOELW4nmGmupEINwsnE8O8ma/WtSxmiGGUlJRU9/Hxad2xY8fR9PT0XqDNhydOnBgO1PQCLXhY5IQZwpY2MUzTMuDkZ+ViZCir/FbHKCwsbAgMtPLjx49vcHJyKm1rawv59+/ffRzRyyzBz+C7qJphjoQUI7N3wf9AkBfYgSGfC0xxKgcOHOgGZqq7DPgBExcbg+G//wz/f/xmuAAANAw4i9ZGbqAAAAAASUVORK5CYII=");Resources.add("createtable_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAuHAAALhwGTQIdTAAAACXZwQWcAAAAYAAAAGAB4TKWmAAAC0klEQVRIx7WVT2sTURTFf9GaOEVtcSGoO9NEMMmkTXcVpRVciOJSwQ/gp1BcCeJesFIQEVwElxUEcW1RaSapYGe6L5RiWpoE0+jc62Le/EltbFB88Jj73sA595577gz855VKHh49fngXmP8boJ+7P6fu3X/g7L0f2XOev37tJtlsFsuy9gXq9XqAAtBsbuH7PhsbG7x7/7Z248b14uLim6+ADCIgm83i+z7tdju6U9Vog6KiKMrS0gdmZi5SqVRYX18H+DI6ap2vVl97Awksy2JhYSEARkHh1u1boKAqoMqy41C2bTqdDplMBoC5uTm63S6AW62+Tg0kSGZtIjAZh1VM2jaK8r3b5emzJ3/szb4E+Xw+JlBhubbcJ5Uph6nJSb5tbvLx8ydSwOkzZ9n8tnEwQaR1mHG5jEKgvUpUTbO5RSY9wuyxWZrNJiI6HMHq6mrIhKKUbRsJSVGcmoNtlxgfH0PE56hl8aO3y9j4Sdy1r31YhwZ0AEWiCkSDzEUUFaFk26hpevpImvTICNlz58jl8sP2IIeIaTCK49RQCRwlxPIFTyOpCpcunxqOIAQPKyiXbQOifVUFEooxmu4H9btErVYLz1vFdV1c18XzvBhUBFGhXq+DBrFKcN9oNIa3qYoZsrDRIsY9gRzFYjG2rKmmWCgMT5DLTURgIDh1J5ZBQ/LwkxFkpKrMXbk6ZAXGnmFcKtkRiCqICuGwicaTflAPothb8/C8NTw3eKoYrTWQaqWxYu6Cs6A0Gl8OlCiOI4cQSRLPBRSKFyJ7RneFC3Q67WSyspcgA9DptMlOTMSWRGnU6wnAQJ6IXCV6N3PxUoh1FOgCkiQ4ErvI+NtUUywVjRwkvkUxeDQP8RoFensJ/DCoTE/zjyvqZ5Jgt7XTevXi5fM7/4K8vbVdNdkr9P/0U0AaOA6cMGVmgMNGvsMmoZTJUBO7C7SBncT2Q5L/un4B6tEruiWSAgYAAAAASUVORK5CYII=");Resources.add("delete_red_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGeYUxB9wAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAADFklEQVR42qSRS2icVRxHz//e+30z40zSNI1NJ5M0aWpj0hCToEiRqAhWS5G2ii7ERVdioSC4E7pyI5SutIsufCJaFIoQRLJQKVpKwaRYA1XTF01MWpukdJLM8/vuw0VF3HvgtzmrHxw5uWPHrvGDBz7u6u3uvvDRJ58uXr3xjktTnEBOQQZIAOcDOE+kVfuD/f3vbhvY9dyN8xdOm7GXDn0zvm/vw/HaXdSzE8fOrZWL1/+8fURpxX+xzpPRes/A2OiHW4eHB27PL8xvNGqXTDYTt6ryKmZ9hd5NJiru6Xvj+2b5qemVxhNBSTkA1ntVatt0Zmxs7FBZqdr01NTRtNH8IADyXrFILjJvPTby0LGhgt2il25SWy7z81+N1Ys1P5QTBoeiaLJUKrVfrtWn55ZuTeTiOMm3tlKrrCOndvZTW1nFJE3aI94fKegjHd5FSdMzV3eVnCNXMEbPeP/ZPesOiyiiOCaXz1OrrKNEBBMZspmYlVr65tnlxs5za+7XtbqjZEMh57z+yboTd7w/jNYEQAARQQCTpgn1pEnTWoxSVIW7SRoi5z0uQFYLmxXPLHuFDQBCYi3NahV8QD/eqNNMU3wIaOgZ9H5ut/O9VRFmjf62JSP94wXVvZBKx5plSgSch6a1JB5UCAFECNA54Nxsv/NbrBYuRerLRSUv/JjKy+tZ7V7cHh9VwiMuQOD+kwAouZ9ZDTg/0xdCm4mFP4y6eQt5NQaanskzd+xrsRZ5ssNMhuAxEv6dkgBF5z4fCr47m9WsRNr+7uV5HcAFMEDDhq++nm8e3503fdti9br84w2ggndbh9rbXikUYsgJM5YTqedKCGA9BAJZBUsN//Yv99Iro3lzXAhoQANqc6FwoO/pCdM22Iu0xCFj5FRPTtGVVXRmFaLAC0QaZjfsfnHhgU6tDuZFKIigqkm6mB0doWP/Xih1+Yb19dQHEh+wIRADERADAa7/VncnuxTDPRp6NOhHrb2WeLevZXtP8YezF08vlCtf1FNPNfVUUo8SRaQEEUGL0IDvanC+AmEDkBAC/4e/BwACT2zMWyQBIAAAAABJRU5ErkJggg==");Resources.add("dropdownbutton_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAASCAIAAACxX5s4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADiSURBVEhLvZXRCgFBFIb3wTyUN/A4UkqUO+8gkmyrDSGRrGUX24xMYfxndsu/KV/f1Zw9fbNX41Vq7bJWy+OZRqbvvOZ7U1FlMN+/MttUM5rb2EzMYe7zyWxSzfhrZp1oRswcOcTfLM+KETMRh8jMT4oRMwcOkQljxYiZPYfI+JF66hVhp5jZvSlcsVOR6a2U1VnDEWYCwFnBkch0Fxlq15xzzEwkdsU5F5nO7OZo1vKHmBnnMCv5Q5FphVdGzIw4RKY5vTBiZsghMo0gZcTMgMPN1P3kq5jpc4jMPx6CPzxrD8pqf0VkYCLSAAAAAElFTkSuQmCC");
Resources.add("facebook_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABV0RVh0Q3JlYXRpb24gVGltZQA2LzI0LzA59sFr4wAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNAay06AAAAFPSURBVDiNlZK9SgNBFIXPrBPUGIjEBH8KGwVry+39KbSxU5/AJkUsxEfQN7AUC0EQbNIIWtvFV7AxibgGk7hhf+69YxETskF2N7eaA/c7nDMz6qhyUwBmqsZYNiYYpeQF8PY1ka4uFLJ2qZiDUioVbIzBp/Njf7WoqsNQ2UpP4a3RmSQAcrMZhKGyNQmj7fqJAIUePPe7D88voe36IGFoJgazJMKXlW2srRYBAIdnDwAAJoYmFrCYWIOLERjAcJ9YoIkJJPEJ1v/gg9P7aDKm+Apu+yOiO60GAGAuv5iuwvN1+V+9V74bq5BwieMz2O9XiEmwdXILAHi6Oo7owTALNBMlPuMoENFE0CSMleV8KoPxPee9Di0s6La6mM5OJxoEXjA8+z0fwgJLTFBr1h34veTvPAo36w7EBDW1sXNeEso8GmNtpnYAoJS8Wjrc/QXn6cac0rbZ/wAAAABJRU5ErkJggg==");Resources.add("freegifts_menu_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADA0lEQVR42n2TW0jTURzHv3/nnE7d1C3nLd3cbJuXTDfTckVpYiRSElgZ+LCHKAjxwSKhkL3Ug/UaROJL4gW7MKpZYFhSiWV4DVJDnTh1/r39ne5m2zr7g6Jo/d7OOd/zOd/f5VD4T/h8Pqp1aPTxz3k6O5lyf1/wUK/54yMfq6qqXFsaaueFe89aKwN4Aa2G8vJNhmEUoaGhug9Tlsq+ielTnvU1OB0OD3d6/JqhtrZxG9DX1yfWaDQrdrv9SKPxtfHrwCC1HBJxoEKbzl33AmaKB8H6KiyWGczMzuFmSfFTbVZmjUgkWmMB7e3t55VKZZNcLg8bGBlBo/EN+n9P4pgsAQuLS4g5rIEwWoKzKhnihEKIxSLw+fw/JL7QNH2VamhoSKcoqjsoKChywsNBsNuOxRUG0ugo6LI1kEqTMG/bQI/FCm8wH1lCPhSiCDidTo/ZbBZQdXV1gQqF4j5J4dbo3AJylApotVqEhYVBSF7k8XggD8DtdqOpqxtuH4VLudkgDowSieQCW8S2trZiInjnDAiEzTrHikldkJ+fD6/Xy6798aTzE9IS4nD8kBwul6siPj6+hQU0NzeLuVwu7eWFYGl2Bmurq34BCgoKoFKpWAd+kOFVB/Qnc3FQFAWbzaYkdRvbbqPRaJxa3LAnrS4vAy6nP0fodDqkpqaygGWy/7CrB3dLCsHlcJiY2NhIctm3DTCZTM9naPriFGlVdEgw6yAnJwdpaWns+bzViubBX6g+cwKbm5tdiYmJBbsGqaOj4w5jsz3oGhxGRqwEDocDmZmZyMjIYM/ppSW8H53Eldwsf03qk5OTb+8C6PX6cJKzqXNwWJcnl4F0hbW/BbDQNKaZDajFEXNjY2PnysrKBvaMsh+yES7sPa1Wqv0ppKSkbAOGJqZgZWzfzD96ywwGw+y+f8Efl69XS/NU0jYOh3NUJpOxAPKpfJ8Hhl+87R+90WKoWdyp3wPYckKKZyIDplOr1QyZOH1RUdHL/bT7ArYghYWFjwQCQX1paen4v3R/AeSaS1ILC2JNAAAAAElFTkSuQmCC");Resources.add("info_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAABKZJREFUSImdll1oHFUUx3/3zp2Z3Wyaj23SbNI2S02rrU1t+oUUjBYRqgj6UKHgx4NWCpZqEVTEBxV8UhFUKGJb0CIVK1ifKj4pioKVftivB61JWzHZZNPsJruT3dmZnbk+zG6yaVJBDxzuzNxz/v9zz7nn3hH8i2itASSgAKs2CsBv0FAIcUuMRWdqwAaQKJS87h8ujWwplPyNQoplIvLJtsTNC/fc2X26NWFnAAcIFiNa8KUGbp8fnkh/+dOVfU0x+7GVnS09cdMSShlR+EFAqeLpv28URl3PP7Fr+20fDfQtuwq4N5OIm8HDMIy9dOTHBwtu8MGmvp6VhmGK6RmfiLfBUUBrwiQMq/rCcGak2ZYvvrNn8KSUstxIMo+g7HrqkTe+eqqro/3gwOreeLFcvUVm50tLk+LS1RF3NJt//uvXHz3aFLf9+pxsjH5g7+FBLdTBvp7ueHaqQrkSzCpas3NTip2bukHreXPj+Qrprq6YocwPt+77ZIfvz+Kj6g/x+15LtKdSh+5anY7nHW9+XdDs6E+xfW0nAIUZl5NnMoiGBLhelQ19K+OXh0c/bt/51gBQaFjBLlxt7N+4Jt3nuAGuX52nFa9KwXFnwaYdF9erLrDLOz7b1q1a5QTsp2tXwwrWp6yW5viero6louwtnvdvzmYoewFCwHcXx9HCWNQu2dZKsqXp2Vxn53uMU4kIEnZ/qjPZV6osBNdas3Z5K6AZGp8BoMlSTDr+ol3ketDb3ZHOZSc2AKcjAqE3x2Jx6S4SfRCEvPnEAIac3Q8c+/5Pvvj5LwSaBfsXWJJISARb5gi07hbSYH56BEhJGApeOXqW+/uX8fC2XgC8QOMGtfBDDWEARESGlEhDgQ57oF4DraXrBcyuQEiQBmgB0uDUNYfVqSWz1NVQUw4FQgsMIGZKPK9CvlhmLD/DWHYSdCjnCCA7li9S1iaWaWLZNsqSGEqgTIkUBlWtCYIArTWuHzDtS3y/ilNymcg7eK4L1QrosKaMzxGE+sK0UwqnfVNiWKA8UDYoC2FaIBWDfQ6FQgGATL7EpTEPwioEAWgFhhkBVz3QoSbU56HeB2X/PG5xBGWDUTNWJigLbVhow47SNlseAaYdqbIiW8OMfE0bKoUMvv/bHMHkiEPFOUZQ0UgjMpQNTlLeRFB7lwoMqzaqaAw8cIufMz5ahOjMh5nfoWPrZfAfp23FEqRRi8yCMOTE0ysYvL2VtiYTgBXtNg/dEef42XwEXM+7NCD7xzgl5xmGPis2FhkuT40xYBwgN3yMVL81F6VAKcVoIWC0GDUaWqNMhTAUmpqdsiFz0ac0dYCh6ZGGzd4ga/ZK2ppeYGn6bZYPWPU6YFi1nMei/PsV8F0I/KioVQ9GzvncuPYqufL7DB0K65DzD5TcGU1i/a8EpSuUJu4l1pIgkZwrvFG/ksPZxqKQgeunJsiPPsdU+QhDh8NGyMVv6/QDkFzXi6VeprljN8l0By1dAqs58qg4UMxqctcmKU4eF57/rp66cp2r3y6AuvXvAED6SSGTbUls826N2KylSAEIrceE1ueoVH8Jc8Uc1z9deCD9L0nthu7d/8nlH/ZrI5qfAOMrAAAAAElFTkSuQmCC");Resources.add("inventory_menu_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAANkE3LLaAgAAAoFJREFUeJx1kstL1FEYhp9zzsw45VxSs5Fuk8NITldqMCWKIDCQiogW0UKoDCKCWrUOoj+gVYsocNGiRWBEi6A2CQXahJV2WdSgdNGiJh3NnzO/c2mhjZL2rc7ifR/e872fYIlJH01f3X9sf6ee0VMCgQqryOO7j2/l7+Wv/KsNLAVINTZmujpOrdeeDwJUOMhwLt+UJ79IuyRg2vzSH6cGMZ7BAQGtmBbjZimtWvCWbeeyNzP70scbdsR2xxpCcc+N4zHOpCkw7Sbiq1NrW+q31x38nBt9ALhFCULN5fa9h7PrjO9RcB8IBiUAvnaksisbk7tk45MHuZG/5kWATi8z3P+qt97f4sLxQIyIWIF1mh+M8b00SmSw2jtd3vPpGe8Xf+FEe/Ptg61Nh6rfI/WMJyKp1axZniYarAXrk+iTtLxLy6aGug2ZVCL1qO9DTwVw+dKZqx3ZVR0DAy9qvn7+JnhTxo0Itmw+QKxUz5cbz7G9RX4WCvLr6BfasptSieTWxNP+1w8DAL8nJ5sS1SI1EqlhWbQWJSR+0THWk8M5qJuKUJWO4pxFOkNUlKLC2UxlB8boeFAb9rVuxvkeQkhAYLSPEALZkATncA4sIEtFgk7GKgCrjRZYVm5s5VH3NRz2n7YFAF7ZcqTrIt9z95kpq1IF4CQ+QoKqAhViZ3brAnOlMQZeDEEoPJfEzgOEFT5qtnNjDK8GhnAVo6gAjJk9RhkIYayeBxhEGTl7EkoptjUnsdYgpcLaOZNSvHw7AoDWGmdZkEBILQWApf3kBf437S0OEKhQECtMqZIvHCZ59vjh60gZcDgnhQQxF93N78ACdfFIdaFQLHbfuX9+osTwHy4bB5h5T+YrAAAAAElFTkSuQmCC");Resources.add("link-catcher_png","data:image/png;base64,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");
Resources.add("link_add_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAwZJREFUeNp0U39IU1EU/vZckhJZQolhg0SWWqbgqEEF1d+NJDMESc0KN8hS26aSmSSas2Z/lNPIWoZm6WZh/oiIkERo/gg1JajQENLEuaGtua29d7v3mWFCDw7n3ffO+e75vnOOxDYwiP89EokEUqkUk5OTpuHhEQ0RBPh5HjHR0XUjo6MajuMgXQkmhIgJawE4TtJssw2k6nWXMD09A4fTgbZnz9UUhP3X/AVgaAEBAaJfBVDb1PQ49WpJMcorDCC8r9K56CpUqVTo6uhQ0/hlAHYTS7ZYrGLJEgZCK+J5Xl2g16GisgrXy68paOiU0Wjc7PN6sxkVMIr/8l3HSgargdCzQP3MzHf88vmgOX9h8KfLJXk/PJodIYsE7/eLl3CrAZY5c6DYolg8Fc3c0IDSK5dhn50VpUpKOo7urk5sCgm1yrbvWAZYEY8JyYwhCzSZUkBZaQnSM85Qy4LqaBK62rsQH6d8aTRW5uNXEKSM+x8QkyDwGkIEEcTv5+nNxcjMzIZ92onu9h54l7yIikyoy8s/W5XRiKkvyAFarW0Y+TDWrNMXEvu8g4yPfyS6giLidrvJyZRTtBwkMjtmQG3aQ5DU+yBp1DLMMJ1uAKSBgYEW2qpknS4fd2pMoIk4cviQWPbct3lktWBI8OBW6Eaod0cBe8P16J+pwtgnaBwLtGG2/oFkvU6LGtNdlJYUKxYXf8D8wIyMzEzE7VGAULF5P3LlEcCCC9gVahC9XEa/C1BzAhWKTZjH7TI0NTYO1ZluK7ZFRGDJ7YHH4wWVBAIloggvQO4+IurFPDszvTkf7bHdYadc1hfQHmhzLuYNxsTGorPjBeQ75S0smY4Gej4bUPZ6uVvMszObNy4xMdH6pPkplEolgjeE3Nh/4CD6ensRn5DwSl+UrQUFWHLCOjFNBaPvfV8LRc/OSw5YGaTsXr252mZ7l8zQ/XTCtoaFvamqrDhXX2eZeBt8Ao/SIUu5ieqgUCSzstnYsORWLfJX1o9Kgi2rFtFJbWLNdq+NmWO78VuAAQCvqWY4vpJZwQAAAABJRU5ErkJggg==");Resources.add("link_edit_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxpJREFUeNp0U2tIk1EYfr7PTUwqCxIrRCIKM4SKfT+ke3+im/1oFIKWmphKkpVuFpiuIi+FRYVTa1ZQahenZRbSn4pSXHNssySkyyrLS62t5rba5dvpnFVjCX3wcjjf+z7PeZ73vIfT6fvxv4/jOEgkElgsFrXJZC4ggQD8ooikRYsazAMDBTzPQ/K3mBASBEwm4HmuVafTpykVxRgZGYXNbkN7x+18SsLyBSECxhYRERFcwwjqm5tb0irKy3CisgZE9FbbHc5DqampuN/VlU/rfxOwkxi4rU0blMwxEqpIFMX8UqUCldUnUXXimEBLP9TW1s70eDx5PtEPwiz+61fKJINpYMkAXUdHx+DzelFQuK/f5XRyeqMpLzY+Hi6vGxIiBceayMBSqRQdHXeoEh4ibVaANosqIB4KPl5xBJnZOYiKnoL1mzZi1YcEiFwAXoedC1n420gWTH6AklACHFeVI2NXNjKzsuB0uvDm7SusS16OseFxRH33EZ55ZwQ01IGASPx+P2Ens7XiSBl2Zu3Bp7Ev0HZ247VlGLk5e3BlqAX2jzb4rOPALW07zM9ftCqUh4j1q40MDr4kitLDxO12k2070qkcyFiYVUvIxNtOoqo5R7ofPib7ykqDOe7O3a62np5eeUnxfqjrL4ACsW7tGmiaLmN45DOubnFwDo+ECJtigPevMBS5G419PpypOioY9zYZeN0zvVypKEGduhGq8jLB4ZhA06UrSKe+FyQLcHl4ImyeSS9wFHC48OyBNgguVpUbaPfAs26zCfvpdtY0X7tmaFCfF2bPjYd9wgdF7D0s2zANeDdMwV+hMS3ErjqjoKyoMoQG0EuvyWqzQhIZRU2RksKig/2JScnInHEWSwuzgWmrgW/j0BjnI/f8U+HmAcGAsInnZTKZ9nrrDaSkpCB6asyplStXoa+3BzfMceh+5KIqY/6AnwgtxcsNk55LkCvhoubyaZ2uT85++P0iZsXN6Yx2Dm2N9DmxfXEUEovaheaDKww8R+j0eaGfLoeIH8j4Mi8kJoFGbBixlcassL3hf0/+lwADAHfLd7WVq1RYAAAAAElFTkSuQmCC");Resources.add("list_menu_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC5ElEQVR42m1TSWjUUBj+XiaZySxtR51aXMBaa2m1FEVEVHA7ePKkCIL0VNFj8eDuyYMo9qAggicRBPHkQXFH8eClKFgUN0a0tbYVu02TTpKXt/i/uMBQXwgvhOTb/u+xyemKdDNpxsDwd2m6lFQQUmI2CAWt3cuWLr6L/yxWDQKlpWS24yQvUqkUGMFprSEJhAuBMIyquay7M5/LvpgDEAShEiJmnuchnU7TxwEaGxcmQGbxOEYYcdQX8pN+NdharK97OwcgCKosqFaJUSY/CimQslJQSkGREqGAfCEPzsX3ahhu7mhdPlgDQIJZGEUQxGZUGAApJByyxSwLnucjkzMAMSqed3TVypYLNQBRFDLf9+HYNiSxmjgNuwEibEScI53NwnYy8P3ZI+2tzX01AJwAIh4RewYxqUjmQUFS+rRZMAHHFGhMqqa86SNdbW19NVPgUZRk4JB8ij+ZggGSSie5cMR4OvoKQzNjKGUaxtaUVl7jIj67s2uLz2a8WaVkzCqVym//xGobK8QW0/MXPopj/Vcg6UpTwDFZs3QKve17XpfSDVvY5FRFQSumNCVObEYyJ88mC03V6H5+HMUMUHA0TQZYvWAN9rbtw/77J3Cms+ciG/s5oaIwYDFNIaLb2DAlMiBl6z0eDN9Cg1sE0yHyTgGH153Dw6EXuFO+js3zt02woZEfZEEwmQTGEs8mQE0KXkf3MBk+w56Oy3j85QY6SxtQ567ApZe9aKnnmJfaDvZ58LsKqUgUJDErKpKdsBtLU4WPGBg/j7WLurGjuRcWAV/o7wWPHsFJZdFSODTN3pe/kgLJ4pj/OwNmpwbBzQG3hw/SCIexfskBuJmNeFrugUNZKJSwa0nfVTbwoayogex3gHQmLQaXSqNphKbGVn4cT76dwkz0FQI52KjCdRZj66KTn1xd3MT6B95J6n9Cij9H2qgwt1I6sVVXb2Nav4EvR1jebqo0ZTpuCiFPty9bO/ELz+W0wwUdlkUAAAAASUVORK5CYII=");Resources.add("menu_arrow_png","data:image/png;base64,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");
Resources.add("mwaddon_icon_png","data:image/png;base64,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");
Resources.add("notification_icon_png","data:image/png;base64,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");Resources.add("ok_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAD+UlEQVR42qWVW0yTZxjHXzGhY7ZIhSBstFDFAh0t5VwOLYdCW/rR1tKvJ0qBAgNBmwoDplk27naDw80bhMmC0I5jZeWog7WiE4QCczjJMonJbmQz2y6WmDmBPvswmZubWyw+yXv1/fPL8/3f//O8CL1EBXUGMTPsWZ2F4/jPeQ7Zrwl9qc7wj8JziE8+u6e2IB+alSGST+JfKydKgD+MgcSBA9ea6KYIKYG75oZ2UOmi0YJuxYQe0ofFkDKYB5n2Ashy5G+TWWTW7qhtyC9lOK1SMaX9RTqmhgy7GDIuSUA0piQ6z35AjiS/sRvsHpaNxcUmFTd0n5sgexR7cvLHFSC/rN7kfMjpeZWGXvOaesAa6S8YzW4tdVZtYVM4iCYVILmsBNVMMeT2C5dDNaFiQkby+sJYg1ESg6tso9hZAdgVFcin1aC9agTFZNEPse/FWhATBXnd7X7bfqp4QuKsu2EBlVMPuEsPhuvlYJwt/V3QKegKxAJj/h61PS8KPtJ/pNk8X/+oyKUFhasI8GtaKJ83gXxENneoNhwjJH5PxcEXgmsY3YyOpIHUafonEW3oDIp/HtT3Y98Yg8v4k3pWDwUuGcivK6FkoQS0X2g2uO9zG1HoEwv+alI5pv6xctq8mWOXb+WNHH3M7ect7/2AJP3Hn/jwRlKmTi6/5cFm5aCaw8G4ZIQKt+mxuDe/h5JGiSY0e5/pBJ8o2eIPYZDcL4TkASHwhvMh2sq+S24ja5Aa+e5owm3hpmb324+UX+KguamB8pVSqFut8Riu6Bbpx14vfMaCP0s4IrmXY1cAty8LInriIKSbCezBVGAPJHxPa6eVh3WEsQ1XDWuV7mqP9qYOTCvlYF6r8xxfrLmf1Mp9h0A8f3zp5xlNWcPi+8zeRAi8wIDQi0w43BcHaaO5kO7gb/Ad/CXLUv1vugU9mL7agdZC0x3LQ9mg9FMShxT1LwueVi2iktv8TxzqYd9j9LIhwhoLUQPxEP9ZOoimC8E0VwXGBSOULRuh7k41nF5v3KqaLXPTjME7g/DK/+eoEe2jnguqibbFfcce4gHnEg9SxgWQOy2GIsJXg9sA1ber4NR6g6dp1fIgYScFCFFfLKQnUUBYO/3NpKH01YxxoYc/lQdiJwaqeZywoAws3x6HlrunN6U2sY0USTrs3c5tQf5R51klAkfOinRGti2/dhR0i1qoXq2Ad9dPQdmM/psQLGRnkft6/yo0B1Hiuzl6yVTBLd1csaeUyGv9mhnMK8cechpiagmJ/66X+MHWg/uSuxKUuBNfOXGrbrvhtgVy2jO7CFfp6KXLjEipHYmZ2T38s4JzvDMBaQHx/x0t78uHmD4/xEJkb6F/AFAaozsvucukAAAAAElFTkSuQmCC");Resources.add("plugin_menu_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAChUlEQVR42o2TX0hTURzHf8c7N53NaWYroWJZONB0IiIjsKUvTgpHRG8VPfXSw14qQ2hOzR4yhaSwQIleknooIpKkECVzqYQoBAWJUjiU4f7cu3t3d++5p3Ov29qqQQd+/P7w+37O75xzL4Icq8VrNdU5bSMNltbTCDGG9ejXLysBv+epe2k6sw/lArgfV3suNfuGjpU1ACuxsC1uw4OFG4vP3XONOQEneg5bEYMqCAEJ5aHm4yddd9yV5ykgCsvBz/BqZmxCjiuDskgSikKQGJVXsgDtY/aprrYBJy/HAKE82GUohUgiDJzMgSDzgBUJQvEgxGQWImIY3k9MdqcBerMOtfTVzw5feOKISqqI1UxtjkmsBtHipE9gESZHZ/rSAGOFAbX1OpY7O3w1rBzJaubxTsyrNcxBQhFBkHiYerh8CxUdKkBNndU+xDEVtfXV51w17aaUiMc7Is3TXBVy2jQRkJQEfBj+0Y8szt2ugUc9b/YV7wWZnlGAiCYQkoA45oHDYToBnQrTy/SH1zaX2AVzpdG2Oh7wogNnLd7hez3dDEMomZ4dh6gPaSJ1VxWECdaOiTGBl7fXBzfGA9dpqqMmov0dFt9FX9PNOAnvXAbJdCidawAF4MX97yPBj6FrunJ9YWw2tIWMtqJ215D9dYlRh0RJgeLCfMhEEAJZa21DZpV4gcARQe+/Om9VX0Ff7Ci9kl+uP3LUdfBMVZXRkikgGUEqZpAONjkB3nWtnEo9oway9zd+stoNdX+J05OQdE2g007f/ebJ/BKZWq9jrqyWNP5rV5IFApDohS6OrvZmAUouV7411ZtaUwJCfvs0JFlTaDH47Kf3z79xDzUz/N9SOVu/AItPaIZBhlrUAAAAAElFTkSuQmCC");
Resources.add("promote_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABfklEQVR42pWSO0sDQRSFl31kCRE0hliIIAgRoyCkEtSAVQiiphAbI4gEFFKJQRBEsBDLgIUWPhoLO9t0YmFjZ+kP8AfY2o3nLGfDJoyiAx8J9373zuydcZze5YEQDIAsyIusYqEc62IiDXJgHBRBSRQVy8nxfirmblO+7y96nlcDdVFjjDk5PU2SxTMQq0EQ7OH37MUcGcL/ilXp9DfpFmOnZUgHkG+evg5NEsaYo9PXxBkEE0guQWqC687nvrHBHB26rFFt1GkWnTeQOH/8aJrfoEOXNap1RtF1DsHG/XvD/AW6rGEtG4yh6/zt27b5D6xhbfwJJV4Xghfg+ep1y9hgjg5dvY98PMRJBFeQPAGdnYchY4M5OnRZEw8xrc9YcF13l5PevMsYG8zRoavjR9fo661Po/Mqksfrl6GxwRwduqrx49cYnUK3UV9re8YGc5p+d/d4pcAwKGCXsgbaAqeipViZjtxUsgGPkgEjFLgL5AqHpeFWtHNBTiY+/jcGPuMNYEWE+QAAAABJRU5ErkJggg==");Resources.add("refresh_icon_png","data:image/png;base64,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");Resources.add("reminder_menu_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAm9JREFUOI2N0klIlFEAwPH/e986M6gzOpOayVRoJUYejBKqS4lLHYLoVBDZdujkIY8J3bPoZIZCCEHXoEPbKbKCFujQXoiag5WOM04647e9DmalIviHB+/w+PE2wbLyfcRVqKYBYQi83LvQ0b6UKDq0fNnfxOIk10OlqGi5pm/ef0SraNAQkmDyY6DSbx6Sf9tpH37+YVUg10O1LN83ZO06US1LKhG6DcJEIVH5abxPt9Pkx1qsg49fLQckgLATA9bGsmppzyOYA+UABUSQQRoORtW2UpyfN/3xAWsFMNdLvZ4obZZyFFH4Ct4EMAMqByoL3jcEKbT4uu3e6xsHVgDCEE16Ii6EGQUcEAo0DaT3B8mADjK2HnS3eTmgC0PYQnpgVi3ciAgWjqBcoACaAsMAZSOLw00rdqDmgw/B7DRoEQhc8HPg/gQ/A8IBTYBpIiyJjBY3ei+bSpYA0uSxn5kaU/kJQAdnCtxJCLIgCqADlgmWjohETGHZx5cA1klclc+e93989lU+Bb4DziR4aQh+geaCbf5BDDCilwpDB+JLnjF02rvr/xg/7g2/zgZT71HOLMqdBTe9MLws4KNUwJxbF++4Yl7v6rrw7yMtlrssymRRyTEZi7XIaHSPVl4Rk7EYwtIJAo/vXxyefm7CKKuhu/viYDgc6VgC/F/2apE0k4nd+obyc7I4emI8ZcpbD+Kk3WJOnTnL/fv36O8f2LMq8H/Ddxr2dvYWDW6tb9xkmhaBEox+G1eWZdWtCQAoLY0mE/GyR+1trTWjYyna2ttHWlvbduhrBdLpzIht2/ufDD3bWVu7JYiEQy+SyeTMb4VU55rpNi9QAAAAAElFTkSuQmCC");Resources.add("run_menu_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAYJJREFUeNpi/P//PwMlgImBQsASGhqKIsDIyKgEpCyAmJcI/WdZ/v79iyzACzTAsqSkpFJUVET716/fDL9+/WQA0X/+/GX4/58RaAErAwsLBwMzMxtDW1tFJsufP3+QbTczNzeP+vLli/aHDx8YQHIwDLIIGW8Bgo0bNz5gYWNjg9uuoKBgXlVV5UWM369evXrc1tb2NMvPnz9htpsGBgb6IrsIFzgJBHfu3DkhLCz8luXHjx8gMT5FRUU7ExMTi9+/f+OPNiYmhoULF+4AWnwGZDnLt2/fQIKWISEhXlDDCNl+5ubNm8eBLv4EjkagAfxKSkoOZmZmpr9+/cKrmZWVlWHmzJl7vn//fgKeDoAhbh8dHe3+9etXgrYfOnTo/LVr144BDfj45s0bBpAels+fP5toaWkpsbCw4NX8/v37jz09PUeePn16GKgHEfWcnJyZwDCQIybqgPF/GRhOV4HMd0D8Foi/MQIJLiDmAXmHyOT/D4i/gzQD8W/GAc+NAAEGAH6Du6zbRlpcAAAAAElFTkSuQmCC");Resources.add("snapshot_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA7BJREFUeNrsVc1LW1kU/72Xl7x8mxg1ammLzggGygyM4mpAprS29EvEqouuhGLpykUXBdttF/4JFdcOKJ0ZKHQ5ji2UVrQftJB+WGpNrJo0+p7RfGgSe85J4mg3HWjdzYXDve/ee875nd/93fuUnZ0dHGRTccDtwBNoPT09UBRl79z5iYkJ0Pzdbw3O9GulcSvZLzwYGBi4TYaRkZEr3xj/CdmM0t3dzR9XhoeHbzkcjsB/QfW1tVQqlRgaGrpBw9taOBzmuet9fX2BmpoaxGIxtLW1YXBwEFNTU2hvbxenQqGAzc1Ndsb29rbMWa1WOJ1OuFwuqOq/x2m32wO0X3gvJ3jS39/fwI51dXWYnp7G1tYWOjo6kEwmkcvlEI/H2REVFRWw2WwSiPeYponV1VVUV1dD04qMWywW5PP5YoKymmhiX/nsnEgkJPjKygr8fj8Kqgv3H7/G09mHeP/mOUKhEDo7O6WKSCSCYDAoSdioAnVvAks2m5UFVpTb7QZ/c2N0TA8HeP3BxIW+q1AJoZJLCvrR0VGcO9fJJCKTyQoDXAEBU/beA405XFtbE443NjakAqZnbu4d1teTGBsbw6YZw707o/hj4nf8+dddLESiQtvs7Ax03YVw+BWdoUmJ00IRs6L19vZygpNMD9NRPsBPnxIwDJMc4qitrcfS0hL1EUz+8wg//NyFE0c78ObpHfExzTWq2kdVb9FhW2kOnKBI0fj4OPcPurq6jvPmTCYDj8dDVaSILk1M06xiTNXhxp/Q0tIiIDLGWwr0obRuk+BsiiIUFROwJKmFyhUwf8Xz0GlcoNLtFARoaGgUmbocHsy9mindUkMoqq09JJU7HG6Srk1A7Z4Bl05mMt8sQXZk/nmjrjvh9fqJrlWcPn2BEqRQyMaQ/DiJ9cW/ceLUGVKQG62tv2Jx8SOqqoLkp1NYRSjiM1AXFhZAZnJgvmTpdLp0iXQyu/BvGOsyvnTpMiorg4RQJbROROeeUeJuQc8Cqa8/IiossaEyI7syZYnyzeSsPp9PKFJVC10qOxobmzA/P08IAzh79qLonlFmMmlEo1GqMI6mppAkLT4Z2KWonEBhaTL/TFVz87FSAlUQBQJV4ry8vIwXL17ueyqY1lDoGD0X7n1vEjEhsTVd1xnxvWvXbv7o8fgrik+3gi97r9dG6vJK8Hw+JygZECvoi+ee7o3JTTcMA7ziIyX8RpvbvuePhiT9iKqY5AR2MkepV75TfBI2WC1Z5f+f/tfaZwEGAF5e0kpGJ78XAAAAAElFTkSuQmCC");
Resources.add("squad_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAErklEQVR42o2Te1BUVRzHfwJ39+7uvfu++16WfcASILRurCjECIiLzmLGK2URVkwlR0RNQ1Dc5GZpKJDpjDaNqeODNCtmzHS0dHTMTGZq1DSFogwZgp7oZD64v+7dyaZGpuk3c2bOH+d8zvf7O98fwCgVLi0VHUhKEnUBEN0A4sHwQmr40tnD3x7b99W7K2fl8kfGwP+pKYlOb7pVv8NnNb0VdDozfwFQdhso5kh70+W9K0IjO6rzT+1O1cvCAFH/CQoYjVKPTvVJgorGWBmJ6Sr5mT6CeLxHR0/8qHXlrYMrqka2z5z0xVmj0jYEQF8GEI0KWlRYaC/wjF2ZZTMODna+hqGMsZhGS3sHoqPLfwCo2DjL/13HsnKcmzn2m0MEkfE7gFVQ/Rfwb9tjkF/T/f4tfpGouCrF1fF+fYhrnpHNZdPU1+0+z+GA57FrNcEiXFIyDUkZcd9hVJ4vSrazH4jFCT8DKITeRoAHAKJrPR4mw+sdbAQovOr1Vi3OH393SU76MOvPu15RXcGleJOxtGgask31KKFlqDIo0J5oQ683+ep7JBl3E0AqcKB76lRxz8WLzS0s25dv0O1sXrG8f2FZAGue9o/MrQw+SEp2o9VpwabVL+D+/buQlEsjMLmGQkeiHUtiDZWC3Yi67mBQfu7M6ROvsM234x02LiN9HLawa3Dr+rWYluRGs16LRosJ973TgR+fPYMiSoQ0D5IpJfwjZvTFW3cOA2h7AUj4HkCSbDVvtVmMI8LlnOwsvHLlS+zv74vs9YwGTSYDbtrchp1HjyBJS1CiIFEiJyMwu8tyk4dpBA4IobSb9MfsNjM69cxQvM1yp3bRc7h2zWq08YpUGiUaGC1mPpmJG9pbUcxHRkyJkeQVMiYtmqzMwLWHyoSv9Vj0tWatsm8dQK1NSvYmJrgwc4IPFbQU9RYDMoJVnRbrVzdGYIRExC8CVTqhd/T9cgBHJCInAWIGAag3AVL4X8kyqxS/ZvjSsax4BmqVckxITkC7IxbjYi24qvlFpNQ0EiTBQ8WoMWlQrVP1dvIBFjggjIVg9TcAda5KUa9R0tyUvFxcG25CDR+D1LQkTIx3oivega/yfROiIZaKUUaRP4YKMvuXFWbv/VdwBeARHti4tO4co1bgy+tewtOnTqKd71lWhg+3bNrAaRkN9/ob2ziZkuJ4i5ycEp27tL254+1Vc9iIqn9W6YQJ6gXz5j1o3diCXV0X8MJnn+KWze2YPzmPK36q8P4zxUV3y2fNvKfX6+6RJHHXYdYdP9Sy6kZj3cz1j8ym02JxKeQKTs/ouMrZFVzj8udH0vk+mTXqkTmzgz/NCPiH5ldXD1UGg4O87QF3nOH8+rrQH9Mme9jRZj1FLpPdNuv0t2JiiM8pGXVdp1TcMeqY4Zr5cz/0jUs7VFUR7Fi6eMnBZ0Oh3S67rXHP9raDOdnuskdIJEnaaJn0slqh6ImKitrMw9oYtfqGWqXuLSkpqnW7XNNramomsWG2iGXZKQUFBanbtrbsyvN7Jo+mjCKI6D2imJij/H4OQRDjKan0uERCnnC7HU9otVo6NTVV1tDQwITDYWUgEJA21C+YN3Gi3fYQ8Ce/XrvQ/mWFGQAAAABJRU5ErkJggg==");Resources.add("stamina_menu_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAiRJREFUeNqUk/9qE0EQx7+7uVxySbSpv9LEai+toGiFKIhIoQYUVEQNgv+IkLyB7RO0PkEewb6B+ADS9G/xF4ptFUsba0tDrBd7aa65vV0ntWkaY4oOzN2xM9/Pzs7tQCmFhnezcv+psW6xho5jH/txa+Bp8H4tu19OV8D322beuCly9YXA8/8GrF5KZkI3xJhY0lF9wwqNtWJiML+UGIz+E0A/K/NiVoe7wiB2+nPgjpeKXPemF/6AdAA+x5Mp/TAzZQXwxSS8HYDzic/ovTwVHpHPugLm4slJfz8yap2WG7oKR/C8ys7Gk+ngsMp6XzmMoyxdHDVzHYAPfaZpnFb3tBDglRj0i1vb754hljvxENP8JzeVQzGCaAfxuANw6Aom9BCz1udVAZsUMFwER2vwvnC4ryjNVgg/sMGoNJ9iqaZO263fZhlGeYE+ZFVYwZ0LInTXhj5ch5IMTJPkdHGiEn464uvYQJpUhRagwqIBIsSOqZxcJMEZQNr+1q0TfLstLEDPZQ4Por0CuUbnk/RBv85/QUI7JwmgdV7fDY5qmWIKb9sATl0tBhLSjDwStAslOr93bBPTBs5HhpqUhculoqX2NrEivSebq4BY4ZBV9lffesexUVZYE2K8qWPNSWSM4WXs5GRvxDfRQz02hlp4WQdq84D1HlbZccdHSstTzWlsAzTsxZHjZojznMH41d3Soay6UjO2lFPXyt+sveP8S4ABAGGU75AoIqjnAAAAAElFTkSuQmCC");Resources.add("thief_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAORSURBVDhPldRrTJNnFAdwEudcdMucOmEKsnIL0NELpaVMoZcoiFYUitB2VlKtguIlJi5WU+WyoMZCGUwNIqLGQp1IHZStA6sCBaxZoJS5LoWUljgDFAeB8QGC9m/5oDGD4vbh/fC+z3l/Oc85z3O8XC6Xl6dncnJy6fDw8OrR0dHPxsbGPp2amvpwofh5ocHBQZ+uzi66Xq9/Wq2qctbcqemr+6mux/jYeN9kMtGHhoZ85kPnYDabLfCM/DRStu8AmURycVhsFy+R5+KwOS9plMhXGd+Icam0FP39/YH/BudgP5SWyklh4QgOCED8xngI04WQSvdBKBC53zchwM8fzCg6VLduHfOIzczMLHLXZbm6qrp4rbcPSMSvQCaSQCVTQYuMApVCAyWCDFI4Ed4rP0exsrjZarWGvAu+zWxgYOBLxYXCv8JCw8COY2FzwmakpqRALBRCIt6F3SIhdvL54G3ZCnYsC0wGExXlFTZ3g7zfgG8xg6Et4ejBA2BEEMFwZ0IhEsHjbkC2OBmyTBEyBdsQvyEa0ZFUxMXEgBsTDX1TU/lsl+dgTqdz1ZVLFxVcJgPE0HAczDoAflISwgMJCPH3RTSFhMy9eyDcmY51a9ZAmiGeMHV1Mefd5uzHe5p7AkYkDcoiJdxnDE16PYIDQ7DI6wPsSErGsHMEL178jfTUNMStj3W1trbyPGLqarWERo2aLS46jE/A56eB4O5eAicOQYQgyOU5+MPyJ8Tu48GOZUOrbZB4zqz2riSRw8KKFavh+4UvIoIJuFF0Av84DDiVvQvB6/zgt9YfHy1ZhsOZ+9D4q07qEdPV3ZUUZm0H72sSju/m4eHVk7DqLqL3QSXs+svQKI9gbzIXPHoQ1AoZWpsfijxiDZqa/S0KKTpK9sBWfx4OnRLq84eRny2AUZUL+y9F6K8/h8cKIR6V5z5zOBwEj1h7m2Fr3dksqA6xYLx2AuY7+ei8nY/7V2T4vaYA5h/zYCg7Bq1sC/p+az6z4HUaHx//pKqs+Kb2ZBK0eekwXpfBfDsXFk0BOqtz0FHxLbQ5KdDIBWj8uT7jvXezr7c3tKWyAI3fCdCQm4pHJfthuJyNB0opdHlpqM0R4Wl7k2lkZGTVe7HZALvdHvDc2t3SpirEE1UB2ipPw1z7PdqrlDC2G7gTExMf/6cR9CZoenp6scViIfeYu+nmbhO9x2ymu8dO0P8ejgv9sNDaa6ZGr5SeoeYHAAAAAElFTkSuQmCC");Resources.add("timer_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANhSURBVDiNZZNvaBt1HMaf7+/u8stdclnb2W2ZY223adratHPNdMkyq8hWRaivHPjCPygdVCbKhm8EQV/oBr4QGfSldfO9RTu1IlWnNmTUZXNWdGOJTtc/4XLJpXfJNZfrnS9KR8UHnncPH3geeMj3fWzWp1MX929taxtTFTkZDqvbQ4qMWr2u2auNbLlSGX/skSO5zXnaAIy+doqSBxNnImHlpc8nJ7foJV3q6ekGAOTzeWzfscN95vjxlXqjcWE2O3f67Ntv+XcBI88+R4+mD/+8+Pftzl+v5VqHhobAOUc6fYSICJnMrO84DrLZLB5OpoyOrj13pr/9buDj8XO+CADx3p738jf/6LSMSms6nUYgEIAkSbh6NeczxiBJEhhjSKVSKBQKLY2mg0OJwQ8AvC7c1sr97W1t5zI/fN8aj8fBOb/rwUSCotEo6boOIoLneZBlGddyuWBvX7x78svpGRYOhcYuzXyj7h8YABFBEARIkgTO+fpIRJBlGZxzSJIEQRAQi8Uw8/V0WA2HTzLGKKXrJXFjVcYYRFEE5xzECMQIiqKAcw5RFMEYAxFhpWoIPCAmGQ8Edu7t6kIylSLP8+D7PjZ6EwhKKIR9sfupb6CfBEGAbdvYF7uPjGoVwUBwm8iIrVMZwXEcWJYFIgIAOE0HYkOE67pwXReFQgF3Fhawc9cu+J4HABCbbnPxVr6w9ZPzF3zP86CqKqLRKHZ3dlL+Vt6XJAlVw4CmabAsC3a9jvMTE77nA07TKbI1z5tta2935+fnoes6bNtGrLcHN2/c8OWQQnJIIU3TUK1W1wG2jdXVVXR3d6813bXLzLRq40ePPWE6joNarYbEQwdxZW4OfxYKKJfLWFxY8JeXl1EqlWAYBkzTRLPZxOPDw7UV0/yQfN/HO2ffP2MZlROZny61ch7EmutCVVWoqgrGGBzHgW3bME0TlUoFL748WlVbtkyMvvD8KQYAV365/mbH3j1/DT/5VCWfz0PTNBSLRTzQH6f+Aw/S0tISisUiKoaBV06+Wt3d0fHP7OW50/8701Dq0LstkciJi1NT4d9/mw+4ay4YExDkHAcGE87I0yN1w7Q++jGTfeM/Z9qsz774qm9b+z1jIVlORyKRexU5CMuyFuuNRkbXy+ND6cPXN+f/BU+TggAryQj/AAAAAElFTkSuQmCC");
Resources.add("toolbar-bg_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARIAAACbCAYAAACu/xSHAABIvklEQVR42u2dWZIlyXFl3xrAAcRMAuAMkJvA/rdULZYiN+XUyatqXpX90dLiHyYR8cKfu7mZms569fN3f/d3P/ziF7/44R/+4R9++Md//Mcvv//TP/3Tl7/P72f8/d///dffz/X5Tv7O7xznXmec++T75+9zb153/v/rX//6h1/+8pdfrzl/85rf/OY3P3rOucevfvWrr/fKd3O/87wzzu98j3Pvc5/zP35nGue6PPdcz+/l3c7czt9nzlm/M878Mtd8znf485///PX3c0/O8/x+vneuP/f1//I3P88ceC++Y34/9+UeZP5co3NtPs/+8J25PqYNrkP+d75z7pl7e53PZ+e7fp/c48zlzJl0kv+dz7LXnAvX5+zFv/zLv/xof/L7uabR8D//8z9/sy78+7e//e2XkWee33kNaTj39z043+x33q+tRe6b/7Wz0vbJ9/L7hqbOs897+J5n/XjuQxvn8/CNTw7IGeeD3/3ud19+Py+Wz3g4c5jOdednNjIbns/zNw/1uRc3P/dqPzPO/TKXfO/8PC9BAsqBbXM+/8t9z//Od//whz98M4dsDJ/P+/v98ze/k8/Pu2eO/N75LITN9zqfZf6ed+aQQ50N9PN5LecSAsk9Iyi4b2GKvOd5Tr7HOWUe5+9zTZiH3zX38DpwvUJzmU/eLcyDtMRnnP+duZk2TXeeJ79Pejo/866kwfNZ5sJ34zW89/mZa3M4z/fPyPfCdPLZ+f75yWdEUOY+PgOkzTDpvFOYjdf8X//1X79c8/vf//6b/fQahrnk/nkHPzvP+2TC2ZgQYx6Qn1mEbHQ2OUQQYsz38/NM+hzabLrvS2kVZnOuPffNvXm/jHMQ8/u5/jwnG8LrM1+P/D+MxZ9lM6JZnfmGmM+zzzPPZ0dy8b55z7xjvstrwjTyjDYvv+/RYHIos95Z8z/+8Y9fD3OIqb0z1533ymHh3DPOvfL/XMtn5BBFWzjj7EWek0Nzfj/7+ac//embuZzvZq/9vXOv7APXJNedeVETy5z4d4RRnpXvkL6oQeda/t97wvOQ9280nbPFPeH983loi+9ABpPvnPXgeochnXHowM+gxs99yDXZV15P2vAacI45O181Eg5KInPS8zk1kTCTwyjOz3PA8jMvH26ea8Os2sj1+Zsc+yxgPj9ziArG73jhQ0CWCrlfTCTPK+/I9+b6nJ/nQOR98/n5LH8fBsP/Te/N9eQ68B08n+yNP4tQ4PplbzgXCg1em8/P83j/Q6C8bw6A95Z7lp95ftY71+Z9uQc85Jzb+e55JvfB9/d78B7ns9BP1pIaz7Qn/H8E1Rle+1zb1tR0s/1+6CkMznPzuuV30xZ/j1aczw9N8ry092/v3vY3DC3//0SqZoGyCXmZLJAZQz7j/0KkIX7+zcMRZsXPzsRCRGRET0eewe/6uRmR4DwIWXTOK9/nz8zxEHCkEf9/NIesKRld7sn5nXfOe5+/c0/uw/SeYRKZbz4Pkzl/n/+fwe9zLvluruG7UNKe//N72wix8v4hYu9HW3PTEteK/2u0xXelMOR9SLdc9zCqiWbybln3CCa+i2mqrUue356V+/Jdz9/becg8wlDa/7mGERRcQ6+v55B1Nr1wfI4UnQ5mvhDGwE3iIaH24k3KgnmB87nvzYUmB808uAC8Zw4BD0MkWSOkqIL8rB1cE0wjtHwvhGRmcwghn3uzs2kh0qwt58RDY+LlHLh2ZJrtoJFZcV6NGLku2ZcQpffVdMJDlL8b0XL+ZuAkdh560maecX6nBuO9y3PONdEAPKdpRCsxw4jQyL5zfc0I/E7+++wXaT9rk/mRZs8I86GAySBdZZ5k9I3Wo+lnXS3o2tzPNZ8QKjfz/IwE4eGlhPJnvA9VtCwu/0/N41xzFiebe/7O9zMXficmRK7JzwwyE9rCfH7+zjvnfc698vt5Rn7mPnm3f//3f//mvc3pSVhteA78TnunzCd/5zCfv//t3/7t66HO+2TtvPa8x7R2Iahzn+Og49y893lOiPn8frSy6b3b+pz5Z4+j1eU++SyMP3Oj5pV3y/v5vTY65Vy5xmEOvjc/z/tP5yFzDV2RkZE2wgyerBfPhOfHc2GabOc4TObJXpmeTV+fTCSbY4JqmxLToDGVcLF8L1wwn59xNs8vFiLJQef/8wJ5bn7yUOeaPIvzC4Fw3hznPlnU/Mz8qbKGw5NJcUPPZyRGbjyf1Q53Pj+HKof8jBwwMnjOK9d436gZcU0y9/zMXoXQTajev/zkfkcQcJ1IdPwOD6WZ6ES8XAcKBzKRzL8RO9eK9GqGRy0rWiT3w/fyoTSDOSPM0Aeb38+atbl5HW+CiDTgd4uVETpuwt20lHXIWvLs5dycn5//+q//+kpAueH5xzkQ2Zjb4CZmUSLJp8/OBI608zMysRD7mThVNI98PxKazID3aN9r19O/4P97rjkU59o2v8wphNjmn/fLvSOd/vM///Oba3mPc++zZ4fQp7nxJ5+XZ+Rn9j6+jDZPEpT9BO2wW4sIjXF+5zuHBrzO5+ehlTyj7c+5r9eU9w+he02477yW75O5hwm0Z+Re1Iz8/dB7ntfex+cm63h+nnfktWSY+ZwRN/rczrP5N9eCz8wz/F3SPN+Da8z7fKbD5ZfjQkZ1Ptc3ZpBNtPTL5pxJeuNycP38RrSU0p5/FoAEzMNHBtAOPn+ee5yRe4TBUg23tOZhPPPmAczhbwcvDIVzzrp4nr7O70Ch4EOU55NAGamJKu7ruAZtT/i/HMDz3TAuMtTGmE2kJlYyxuk6mjymnfMzTDf3oUnNtTjXTYx/YrTtPbjfnBuZ0fn90FToNYc6c+X3sq6h38a8yei5FhHQMR3DMP7jP/6jvse5hmsXsynzCe3nmk/s67wUzZzYkPmbh4E3jLaRFwmHzyE7nx2Gk+8ccyTcNdfSbKB3+Tw/m05iOfdo8/Fn3Kwzom6GYLIhdCBmnDnnf5mPn0VtjowkP/NMSnzeL5tz1iCEzbnnIPJZ/F7WmyYIoyTULjn/fM75eK2yJ6YLv0/WMX+HwHlt3i/rEY2CNJNnRRBF6LT1znVcd88t159nx5zOSESLz2z3iSmePcjhyTvx+fnJ//N+551zL67XoeVoZtnX8/m5lvucw5z7+v58B/4va87rGh1z30iLPKtc93z2xbSZNoBMgsRsQm6HyxOm5ObmtRdrL9k+yyKb0ZngtvmZ8ZCZkrGYWLPhPECNIXM9vZlecx50ElQOXO7B52UOmT83n4Qf9TRzJIPOdWH0UXU5Z36Pc21Mht/lmp2/w/zpL4smxnUwY+G65BleXwsQ/k5zwIePgivrzLmE4Z6581qu3fk9wtHzmeZE5jS9Q4SnmRzXvTGyjGMek5ZzVqhpZ+8zV59r3zPCgNedvz88DI2ZTIfNkoEbzEPBCee7WcAcBh4cTtAbTAnIZ3IBmmS5Maf8bmaQg5n3ihTjYTNxcs7UdqxtcE25VlHBc6/jw4pkprZxNp+ETO0hn5HxbMzMmmDMVWsFVm1pGvC5ObS83oKIGqEZEdX2HLoQLDW1SVPxuzZ68NqcZ1ATm4ROmHDo7oxjHvC51EQ34UUtPUK27VOYTtZ8EsQxiUgzFLTnvoe55P7ck7xLBH1bg6YJZf8+UU+oNWSQE8d7TWnE6/Ki7T6MCkSTCLFQ7SYR+t4has+D381hCuHlPmFm+X+eSY6eZ3E+PMBZI25oPstPzi2fZXPpN8ozSbg0Jab1oyrPedO09Jp4XnwGGUW+n2dx732/rC3Nhbxb+5v7ahPD68rP873sn2nzr3/964/2OQyQ10fzMo3HnGjvl2sPg2hrGi0qkrnRY57d/GgZ5/7nYHNNfI3XZTp/+Yx0EMaRv887c12ZRsBo6lmX7H1oxfPi2Tnf++SF8sVIUBMiCTmca3rhEGh7+Hm5879sYrvuDC5AO+h5kdyTC3vmy/uSaWXzc8BJrFFRGzOkxGoEk8+j4pLAHELl//I7Dy2jQZxjG2TiPAjUhHyY+W6cS9Yxe+P7Zu0aYZFuzOx57cRweJga4zg0SmY3HWAz92nNfCCnNZ4ObLve9+W78W8KlPhNfMDbenldvU6md+75dO8IMCoUfO72zqGPLz4SHxgzAg4v2CH+hI/bBvBB08uEi2YeIX5Lh6axmFh4/xCmn2mO3TZpmqsZw/Tufm42a5Ls/F5MFjIXMpNoN5OUaIz9fIeCgu991jr/M0OmxLEmYWJsaz1pkTlUJt5p7Tyvbc/P/aJJWNK2w0th1oRE1ib3aOtwnkfBZc3TAjNh7/wehpB5W1OKcAqTj5+C9z+fc/5mBGS+PJd8J65bNG5rXZlr5pDPP02VpuTmZzyc7aBYdW1my0YI5oyJmnDRrG5z4TYp5EPh+VgyNbU1/zvaEueZZ7c5xBnamAbNIzLPHG4yg2hQuUfsZiZMmYm29/B+Z69JID4MnncILRGH7HPmYtON75E9NRPyulHN5lxMe9vgfjRz8afQj5ngeW+uZd4jfi7uQfwokwbvEPlNgDUBkrXne9JBnH30/vL8Zq2tHUUY0GnN8/LFtKHDcwqVcfOYFNNUsnD7JtlJNGFMWYD2TC74JpEaE8j9QvBNnafaxsPJa4/WwfBlmyM3aGJSYRTn/7yPTTOvmX0i1uDawfD7HgKhBKQnv0nPaBLcZ0vgySfQzJK2V363Zm5Ye+HB2PwSdOLezB2aZJyj38WaF2nGGu1mjjatx2ZjGIuvyWfZSz/TNM6zShdF0/YTfp602zCa9g5nvh9vHiXkZNMzlNucf81x5ZEXp7aRiMykRWwOX86PB2fSjkiYdJbalLK9OR0KMrM8yweQ2gEZxmaicP3JVLk27R7t2c3hOmlkzAVqhyJmnZ3mWdvpwOS5YYbWBChkrH1mLqYTa25c50PH9Mc1yU5ziCbMX/7ylx+t3bTGzL5uZ4Y0n3M1CUYzNv4eDTbrQm2w+U7oK5vm1ASe55PP7CPkun82b3+TeubuzGXwyyeO7c3wZm9OHNqyJJ7mESfziwPUttwUGeAin3m3RSdzcqYm58dEu8lPE7OEhyLXnefw/aJVee1ttliNvzlF2yGxdM47tHex0GnakZ2kk6+FTPVcc/bAjH4SSJlfDlpoLH4DmxmOhtG0a+an5+drco9m1rMepa2vhQlpnbTfTPrmk2GCYDsjjtw0DdI+uPg7E8nLfSNovjhbmylD1SwTsoOQGgyJLZzd4WDmYVCCTeEt23ZTOIxzTzjQDtXGiCjdJ+J2RMZSkwyA18Um5iHdIhlP1+F2qEgYdsa1qJf3h76OCAgTKtdqcpY2bYvOd2pR9pFMjvT4Y1x4xv9th92mmdfmvGsSs6wds24lEnqKRJnxNIZuTazNl+dqWtvm27yZfsxGnc4RzW2eDzvpuQ4fbi6df1toL4tsyUfCa040qvyUro1JZXGpYjeuTh+I8yZaxMd/5503wgsD9KGbzJ4pssF3zubYkZjrJuZGrSjPthN8mk8IiP6cyUy0z2JyTrf8hSnvKHO1iUENi3s3HbDNNODnbY1tTtu31u5DDdnRPfrUzDzDsNoBpy/RZ4P34aFupvBGt23t21q2s+FzSwZJzTn3/0wS5CzYZvZQLbxJkMnhFIZk7aXlNjQCsmZEIvYi2Znk71vdZ83ItuibNMr9m0lEzSzfyzp43S2BJqcl1exmxmxaxCGyLbLg+3DdrArblubBtSnWEgynQ2Otj8KMEpzMnpEtvt+2hlMYndo7afvc3++RNWnafEsUnBi0UyiynnS4MqlsEgYOIjgXzFrIptmEbkmvnyZRJs41cT++bA4GMwo3R5Q30I7cdlAnn4e91L7vdECtZp9NmjJoSQBbfsV2ADfpPan2zZblZy18yFwgP5PrvGWabs5BJu95LSmt7NdpzGHz69jcYIIXGRT9ZAyHMhLCQ8jfTWcUHD7EbS3IUOOHoH+ERYI8T3EG04TIO8RXtp0/RzU5j3ZmLBCPL8oMb8r4dbY4aePD+PeWLWhJEn9EyyuZiMvXZcItdXhz4J3F++///u+VqU1hYTrjtvTy6b2eaDST78WH1zkIU+i72bQ5BNbEGKGgzT85VJn/0jSoyYamak4zkYec9R5OZGxr3fw6ZpzMdZjMHjq7uT/MlqYTu9HKJIB8qLlXcfjSpApTccSmhf0zn0ZnDml7/5pQNP0x6uO8o2gYLAthQIDP5jyzNp9J9fGGO+eCUpBZcFSbmnbg1N0Wp85nJ8TIkBRtTUYMaCZsDrdNYk++DkpdMjc6/hImtO9m8hec95p8AE16t+jMLfrRnOiW3FNWqaV5M1ub+mxN08Q/ZYe26E/oZzIlTS+NUTr5zcwwzIbZxM05HZPIldR+rp24TKxsAsdOV74PmXSexT3ju+TwM6x/rqUpN0X+zk+Xo4S2W/LalA/zmf45+QRa8pO54mZbNz/GFIqlqeIkHaY/N3XThXBTHUIzgfy/c/DP4k6JQhsz5v/y/cl8cfYnK523BC7XDzWCsQ+nEXwO51YbM9nhDAlSO0nIsPkgnuQ1NAJuzlEfjtSPOeqYQ8lDayFJs4zS1wl88SOG/hntnPaYtGr6P3NuhYftfmFOU37TZBL5HZt2QydyNH8HBcgAvxbtTc6lZo+fQ3UksDEaLI29yS5cii+lZfJlsSmR/OKMItFUcNZqS7iyw7OZJSnhn3IuvE4kWJscUzTA87KN7IMZydFCjFa7m9ZiqbgxeQM+NWbZIiTn2szTTtbNuUhTiEWb1IopACJtra2ajqZ3f5pmb23K+0omxOzliZmQVp0kmDyPLYzrVAKuqzO6J0bpCnifO6cDPPEVflpKdVOrtvAfCcx2rtXyllTmA26zgOp4CtCmWPqNKGiruqzcTiVKD0rB5ggmJ7cfZgqDWy2ezCozxzAs40dM0TIyleY8NMHkHemVtwOSxXQtW5drQdqgtCcx55nNXxSh5XWbsiyf1HJNzDSSdrofhSeDCjZ5uDb2U1nb8LNa6PzQh90KcZSa0fKdp5yZmzk9CSE77/P5Z3P4hZhsUjgV2dKPBNGiDca/aDH4Se1tXJL3aouwhbBbarixWJq5xloLwkVuEQc6A1ukJuOok0+LyCYV2MlDZkycczNrzQRtz1v4tPqSFLZNa2LtxqHWrdYqz88ztpwQCq0GT+FMaZrEW3LilGtC89Q+Gkr8yfcQM5oazWRi2qQkhObkP3LY3Ps8aSKE5/D9Py3xigyCEm6LtdNeSh1GnJAtoYqStIEN0Ra7hXwNXNMYCQ+5TTJKiWy26ye2zMEpdNnSrU30Wxn95Oy0U3XDFyGmyRZGvNWLTKn4Ey7HBp3Qyuknf4fN0GkuPvAtm9kajU3BqaizfUat1JXfdgS3okAeeO5hA+UiYz/R0gkM6pZk1vxjdENwfeOsNx1MAvNzQ3dypaoPTjMTDIxzky5NqjVnGInCnmUDsGyx8OlgOuHLEsGIYLeUbCLBTcyQkt7S1ZKL0ZSGqjXZ1FRFm+efkI709XjNpspeO8otWLYQeCv1n3J4Ws4LmQDnPJneU8qBmXdMTZu8rZgwaGv5zq06exOM9im6qNX5S5v27dKNxiynPCHud4NcMJP9EI3r/HStTEuVTom5M+Fu0rd5im2rTgvsdG6G1FjY1GpjJgenw4NNCyARxU5nbN3SrYW3JxOlQSzYB9LW1mYYNawGx8DMWeYvNMbQCHRyvFpT4J5PIWK/Q6JEk0mxJQY6Ec/SnGUMDZinZQy3w8P7WZiQEU5mZs6Ua8wajbXAhyNO7dA79WIr15ho0edzY1LWij5benKrtZmcVPZGhzk5RZg+l3ipXe07pVpPahtDlgzvNi1kQkKj1uRIgpOt6IAm52Y0h/OYVFBWrt4yidlMqiUZOUyZfaDfqIW96Qx3xID5C23PnUQ2mRxxmNPkaMmDPMg+0BO051Q0OO05W3U2M83g1dZwJ0Q4MuAJr2UypVi1y5KJhm9jJzPPCl0Ft8ppf06sE85/EwLcp88kQXgDw7g1DsZNaMlr22RcBm4GxPlQKrCeoSGBTfb7BtxLsyH+BdryrYp3s9l5IKb06hbOnfwndpK2nJxb2LkBTzkfZ0ree1r41UKxZJ7tPkzSi0lhXwY1tWbytvBvK4Jrc2f4uWHcOm2eGL+3uhkzMNPfpJVMa/ukhGPaHwvarNlhIFvCYuZsZvfFtLlFAfyFKcXZHuq2AZmkIwpEH5twXVsSnCNAW9KakaJauu/kY3iiJjYtIhKeDK8lctHUukWcJiLd/DMt/McQ7q0WqK1bexdW97LcfkqaeoLD6tSCDensFumiptzoe8IauWVmJ/2emtmUEEac4w2tbEuZn4b9hlvR3VTeYZO34Qa1Nf4kN8MqtJ08dp4ljEY1n8lTrvMg0FGLbLQwaUtln5ymDY6gqaB2XhLsZVMFXT9C8CNrYi1cPpkvW45D00QI+5CEuZbrsq0vCYKSZwM5ahLv5rCcMn0N7j05cVtx4wST6ZB6i4RMpu2EN9OYNp2vjf6a6TSl3zuHZqp+v2X7Nof71OLC2qjXoyEk+j1a1PJj6U4zwYexaSdT1IDcnYtPYJUJJrDlXUyHz/avF75pTwassbYzmWab19tmixN4tnqVhgebSACdvzmAXJeWRdxgF4xB6vAkE8jaGjaHYpN8U/nBBqZ9Pj9MMRKYGubkKPc8myZHHxRD+l6bVixIM2pidJzL5BRnzZNN0phwjmpybyecmKnHUUudt2Vw03pbwCL00vBwvmgkPqzmni0VfQLaMTEyFs7MvMn7b7XzSR7JhILfzKzWisK+GKqmJw+mpcK38Lg3NQTE+1v1nDZ0KpRrhWLNIdcY4QQaZF+LD4GjaRtMg+e/mYqskm0aAdfA82p+qqamN1Syqc5k0rgaY52iNPYfmq64hl5HC+lbdbP9hd6nFnVzZvaUjuDktlYfZoHycan3xHVbWmwLNW6Zp25t0aQAF4eL3ZpAP6lMbE5GLq5bSjRnrTUnggU3ZtKabG1SmsyuaUjetAlXlMmAXId8tjHlhge7pVHfJPTNwUzw6KahbaFR+0OaHU9ts5maExOkNt5yU5omHuejNY6piyOT0hqDuKG3TYmFNpNuiP5N8PI9Wg3dlKn8aUlWjalMPTVa+0qG0loxXqtB4GK3Ar3GaZvmMTngGMtvIVnH4p9IrA34JURMs4DMa6rCtOP5ljzHkgQeLPeDmXJLuCYtEkAmZTs+B56MkwlfjUm0pLOWmTsxcQIRP8H65b5mjZpDvjkfzagIBuR2J/b/OMnwiSN/gh/1frSIj7VtRlhYTsBok/doymviGtmM/ZpH8rRfTKux2YqFmubhA+UFctvPluV5i6hYurRnNZQoouFTsthhyOQ9Y49ObS+aRjfVpTi/huHeOLhbncXG/PJODpuzwNAaWbPFt4hAy1httHELn0/QB5tJ6ITAqUjSh49QDXRiM0nuadOsG8SGGY99iBOmMSNfzXxxgd5UGDgBJrlFymTGeo38rp+fkv0WKddyARxTJ6iNiYVQdO7ENuUAuDpx6i7WSt6jRtOpxgPuhXfYdMOUdajTIfImXcgkuYn2NxGsOevZwtU8pP7fLSISTWNiRqxiferT4b2nbouMbtwc5G4ONuF6kGkRkjFMdMP4MHj5VsNyq9adOh82MCvih7S1mlDt6ItpbWJsMuU5Rxi1OiD6MyemM1Vdf/GRNJg5poJPXvfmiGrduoyp2Yi0hdPY39QOwafI2ZtEceZiizzYOdcSoFqGp5lUU+19jSWne84aBd5Fj1M1atOAWikB4fx8YJot7vknFN260TUTzrCI0yFs/q4WcZqqXb2v1pJNx1PovTG3NG172pt4Y9jtjDiRrrWiyJpPvaWYS+Vex03AbfVaFp7kCZ8pV2LLmGwQb5tzNVwzjGYrt982wlCMDbqwqd2tnSaJ0nMihgYLpCZJaelEwrJm1VKXeaidRt6S8azOU+JNBYBPMyQnWIcpQSsSjMDGrWHUxDRbcaJL1be2IpvDlWah13iqB6JguSHiTSb65px9cngnDdYQBS7AzLqlN7Vrn1oBLoXXdL6MYcN3Df18GrjQLZS2AceQCEJMXuzmgNoQmSbgpRsA7hO7dnIwTWbelJF5w0lxyrEBeBsUX8uzmdpxNGnpYr3b/m2OaL7H02zf1grEWg/fo7VMnXw3G1xD8+k0IcD1adgjPKCRwIy+tLyMaS5bHlHm531iLtcTZy0BnNt6tRYUE9qf6XWqzcn1n80htREeJzVJj5uqefubqrs99c30mFDf6UvZsD2mEK2jOqwJepLU40K1Zt/Trn/iyPP/WgFgC2lPdUUToTSmcuvUNnUeoIrNtdnqRppfZeoiuIEFcQ4tj4SFiZHOkeykMWq1DbPGaHeJjlDrarAHPrxNALfEQvt/NqbG8b//+7/fmK4tO9z7OwFcf1o2Z1LkW/ryzdRx2fSUXDUxkGyUE9qm3I5bf5yWPGc/Bf0NdBI3VXBzMvpAtL65k73NdhL0Hd3aT7KuYyI85+O0njZNa2mIZe2edlQ69Xxi8FuP6anXsLWwHGZjp059b5ofwZXSNOtZ9RtA6XbfqQue/VjMqm5wipM5srVPIf7xFsp1GUHDrKF276p/01fW6Nz3M+F9tKrV/DQU/hTvbskst05nJqBWt0HkNR+2BtrzBB9jCmVbCjrfYDLJWrOk1hYgh3DT5Aycbedoy9zdKn2NutUYpVuR8G9KS5saeReaZ1vFs00d9l5hAyczrIYGTxpyNmnseeZV2GdCzcGgVRQ2bj3a1oz3IpPdevpOyPwbFsuUzbwh1E1lAaS3Zo5buJHRfkwszqDL32dDm3Zi732ToDeJOkV8bp58cteG1Nbi6U3lnaqZb5GAW0Onxhj9t8Oqk8RqmlCLqjSBYGazCQLjWzCcHSxRVnFvhXUbxMANtClRCB5yJ95N6QKt93SjywmYi34Dmn4TOvyEYTI5ZpnDY4ySdGhoOCTWpmzOOkxu+pi0WxclbhXDZjg5u5/NoepDeIN1s5bgKuKfEvIisbaCvwYSwxyCdhAnp2ODspv6GDssypyaqQ3m5DOwdPdeUPI1dbY5q6cI2gSK7IOx+Sx4/wiWhlvSzKgnINYk+KnEvkXwmKvk/r/WGJpwaREzr5ebsrl2aYPdON+1Ft2in3S6uiL/fL/RrmFNqfUYfuEWBeP73CK2xgH+TNWUU79T2ohOapr6x2y2acMLaVyRTaOmZLmN2TWbkb4QMh/jSVgSbQjwbtnQNLapWrfVHzmxrPWZMTPeitKetMm4RQgmGAHSgKtafXjNvA2qxDYkJ7x/60poJ/PmjyMDzKHlPhnmoBUPbqX6UzN0ampMA6CPJiYF95sO2+l8sCh2cpxP9W2hfSeP2pns4j3u14dOqfMgwvV7wubOTnpqm9kwNtyRbEO8bqZJy161T2ULY7a06w33oeVEtIQ0c3qn2rcy8Q0dq2X1tu+kG1o2vTGS5o030pXrdRrEIiNgbHbd8G2nQzb5c1xqYEcfmXTLRL7BVTZIAGpYG0Zwy8vZugW09pvJKuUeugcxgZImjJzNJJyydqfextOZMtSlW5w6b+szoYM5VGWm4ghI0ziard3aC/i7DdaxNYNqptSUneoMSmsHT7oFbolFTUrYY8+CqsleJ9LWZLdP4Nl2jjF6xsSxSROY5t+ah1l6uyPepL04k5lOSfpDzOyN3m5UOYaVt1afNns997b3rTHZLcXh1qI0WbHZ16N1Nd8f81mm59qkTeay9+2GI7v5zabI2ze1NluYbMqsbOEt/n0r0Z84bfvflGI9peNTnXNKNIn8LPbktHK+RXPMUaPz2jWg4w3PItpEg6R0JiEPJKMRzh51uNw5LHR2T8yTzP8Jk5s0GEu9KRS5VQO3cvoWTnfjLa9P02DYReEWdre2RCBwv1fzbz1tJdpC8J4X0+NvbTnDYChkNlq+tfTNmn4m50+I3G0BG7G0sn9rAK2eYUOAohaSiE6kDgvNmj16g6fb8jMoIe3fmJKEJqcb1+V//ud/fnSgW1tNmipusRmm98RhapOkAfpOh29qZ9D6+rAYbGsBOrUpZWZpq7lpUYtmYrbM5knysl/MdB0P5nRdzF1WCj/BAck7GKxpw7Bl1uqE3dIS7XJ2rKE6Ima/5tbxsNXbfMVsnbBPW8Vkq46divGaueOwnNtf3jqHNSl/C5WS4bWwmpmb1V7XgLB8n/VGDYhpKxrMxj6Nhj3B3iBo0C0V2li8Zx0JODThaEztS1urDR+Cm/8kmoqxRNgDmIfRTv0JS2fbh8kR2Xoyh4Fse0ZBYLyezT80dTXw9XE+u1n9FA2NS8B7NfnSpn3f+gp9ZSR+cW7mDQvC3b/y3WRq2ju9VSpuBGqUddb23NRF95+ZWjxO9SdsKrUBDk2wfA6XbZvXStbtObe2kaxLN/7aehBNGmTmysNFld8OuDCKtDNwo6vcJ5EYwgc4h6ZJZSanWahMMBQbgrpNpVY7M/WgyWdTOHbyjU2tXpzwN5nXravgra81W27mmc7Xao3ZjNrnM0UzOfv6MT6nDzhf0JWGUw8NZwvG+fMEtm8rcmLp8qRCN5AkagyTLT+lw1OzICFnEV3NO0UPrPaenwyRuv+wsxunRlG3mhfvhbMsOadmonKvGwNyLxj7N8jEm1lliRtzYUoK3Mw61tuQwWxp7E4kswbRwv0t36etH5HqDL9Jc7ml9BtHpIWjW2bt1lB9K7ybivGedun7tE0ygbQmy1zsVjUcoqUUb93GWj2KYfGcFToBKk1obZZaEzen13wL9zWp6AjDtCkTwvdWanBrgu13NOBTyxuhTe908smhN2WCbhJ4iua1Wg4yGWovP7X95NNruRbM3bBjme9NLJimVfJcWHudsIun9+B5zPpHKG+9p8NQG01NGo+ZIgsWCULmNIOvCWm2QVu1JbWRqVhrSkya2hps6eQtJ8VMZMoVYZvJ1nR8s/2mEKtNqdal3RIkC33mkIrJ1r3shkruArEGnDxFQKaqTjL+EHOTZGH2ZExTo/Upp2fSzLbWCE3zoaO5QVA0KMeG3r9hk7p1LM/F1KmAGauTSdZArVoZR+sZTWZx9p3Mv5k6vMckhMiY/J1Ds96jpv1/A2xEO9WbQHvJTIPpt5u91sydSUKbSKcMTaqyTCTaOub5sLcewU21d77EFFmYPPUtpHpTGel3mvJtnNBmLYe4FJN21ZxqdC625uDMa6ApMa25Bc9WB9Uaw08NxpomZq05giv3DK3cQsgRFsRZzXydqOdoU7v3VnfUUiF8wGP+bJnHU+HflExJxcFZ6l4HNriLtUKz7GutzYRh4I2npG2qt9W0PJjl+U40aglqLdFmqmegrdnUVUcx2v24YVt6OYktWoBToKeetMYMmXA+DXc5va9Tu5tTsL1rg5ZkP+TWTcDm5mZqTRgdLWTuPBaXQ1AaOtvZmsKGuneY44bz0oQEK90TNGCOD9X91ip2qrGaMmHNXJMusAGcew3YgSEHnEl01Ijo09uc1ROq2zcJaQbObUVbLkSazIpWhNWiB1u/mubdtiPqCT6nn+m2CjaRKAnpa4ifh+FaN3myr6HVFj1tSWA/1BOQKRKGfUtmwE1KTo5c14q0bM9Jm2m4MnSUT3O6aTXUhhqCnJHPnyDEtXCuMX/PPZIp6uS1yQ/kRMCWmEgmsvn+6NtwN4CpBGCDqLS2E5/IzSdlf2fm+Ln5O1rDp4YR2upXbgA2N/xQq7nGXzAxT8TgcKgl9bR4jHAw1GXm1VRKJlu54O9JA22/y9Sas4XnrGWSicZ8sI3dnjeZo0yZpk09SSwelic9aSaogKkwcjMfGo00KMKJDlx/Nt2bMA0NGJ3axg3mwpaAneEM4ToV4FZsOQmn9l0yTpvXpKFvoja3zmqb7+GGq+oDaDyGlmDTIjCu8aFJRUYUxxRLou3EJVhuw1mwptach61R+kbk1JBa3om96sb92NZ4KjxrSP4tOtYcs0fqEkXfvpjGvBvgTvO9PSmAa0BDTwoAXUXrgkSHRIOCfyuS27ogNh+efYBTJKrBFTh/x9XRLYny7FVo389uroK2fu288/fjYM738uwPQ7Qt9mwbtDWonlKgecitJqa60RGDXNskMD3kDIfR+dtS0FMMd+t4v2GzuO2G5/HEAba1IWg5AnRsPgFqOkQXs83RuKktBSMyztxlvs4095h2ZlbHxrdWdgujP9HQzLjCILIPzeYnVAXNrcnv1hzpMWNvqfgt0az18m3h2VtDrg36k5ocGa/R9ewPupk/m7CLoD7P+PAwTPUZDrs2lc6+huatn7IQm1OKobrJP3KLFpDAb/1UG5q4bUJL8eZ8bpB/PCxbYSKdsFkrNwZr2sdUnUnpf2tN8aQxUqvqbiaPGc/EKH1vhu69X9Zomxme/aSvxhrUBBvhCIdzgTYTqDVDZyT0hrx/q89JNjjhKW8dD9t5SFJl667HOrYtWXR6l8+WsfdTMCMnlDGG0HxYG3HfHIzuxUrchI3JuC9tCxeTw7YQqLE6KLFargWfR1Xam9gSxljYZWCdSWpNrUWan8N1Km5yfes/O4FUuSrcdJQ1YXTB2uukDd60lts1DC9vvjb7N4zp2noBtTKEaPtbCf6ESmjhwH3i2fI7tQS3Fs1jDpHxUVqE7Ja28Jmky8Y8burdFP4yZOBUyMVMQ0ro5ivZwJ1tF099OppzuL3f1sA8jsQnxE7HXEw4xvGf4MyaeJpfJ0yk+T8Yum7q7aQBtjV0gR4ZoTVZN32PYMmBsJmdQ92wNX7q37e+Rj6E1kYiTKbkzKnuagoBx+SgBkXGw3sYy9eVu83pGo28lbE0IdhMwk2Q/AjYaEsgc7iPWa6O1DS/CbnZhnPR8g4mG47Skos6lZg7O/aJms8DYhQxZuiawFpW5abKWkq2wr0wGqvPJJCW4u4o05NmYQ6TNoDq1sWOja6nPWyRpJZ7Q9xd4/PShGy+reawjN+nNYP33jbJvWUMN1PZ2l/TbFpeEDOfN2uAOVHN3dAS+bg38TPGNG4d9VoJB+uxGhjUx5K+5R20WgrXyLS0+AlA1syFadoOR9rZN2WJtrAssyW3zmwNL2Xq59NyFqaows1Ma2HOKfXbrUDsPN6gHW5hfTprW06F5zn5IKjOb4yabTSdmk7TYQKDtrkymRe3dAMCJ2/Zx01ITv2TuQfMHG05Lw2Z3vuZ50woa1P+Tzsrcca3lIGWYTz1T26a2Gdb9Nb53S/ARTJk3tQ2skUPpvj8hlL+pJq4Fey5spOEEuK0pJrg5wyq0/BVJgKnxCYjdOjXIWCv4xQ63PqfbHk0xhtt2gKd51OId9NQJryWDeqhAWpvpp9bprbw7hSO36IVrbm9z8iUS2WYSJ4LY6LQqbpl5vqQG+92a3EylSDQ9DEmC/fxK7DRduiak6sBDdHWv4ERtQXgBvmwMIOQDbJNNM1ua7Ywayv4WTaNJhvfo3nm3Qt2Qoinz4Bquhlqa+619QlqiFytIZY1R6Z0u1esfWG3nrDM+G09V6akQWu+kya2RbkYYiUNJSckAEBb+xOGhJvKznMxOZZdIev8qKn4csvINgN1rY1NlqkFSIukkmE1oT+Btm9g35/JMWi1h5zzqNVxpE1l5TeY/vbyzdaNP4K2YatzyYGY1PgQojFcn2T5eQ1aS4etpSKxVAgd2frpPqlrsDlqcCcm7bV3ZTTBjLI5cY3XsTnZLXT83Ya70YRU9vHse1uDKfN26oZHP8RUWW4zrtF16+DXIjhOk5gavE0IdHSY2s/id9jqd5o2xDPisoYt6ND8PSMj4UFpG26ie4LoZKnXwrxUd5t2McWvp3RzRxSmMNtWrdkKDCmZJnXTuRv2H02OZTIII3C197/hpbQGZ8Z4mcCGWlYzI0EtCmNGbri/TaiQyaex2hSpyv+nkgoekKk7XtPA7TA3M+C5CBqcozKW9A1AypmunG+iKNb8uHaG0nT1M5EE2dbVviWXGrRCPiekci+i3X5JSLsB9bacipbZaInVnLi2/0O8U8jT7RI323jCc5hCl1P6L9sQui3HhK5mh/OGmk+/BjWTVjE82c6T76UxAVfOet5Tkycjr7fMzAlDd8oiZrKa4RduFcpTl7nWb3crbzCU4CZsWJiag07/CBH37HSdfF1NaKeKu51FHnju+80X1szVCXJjQxuc2utSOJzPP+Eszr6cPLYTYUzMKNKLmBitRNmxeWpGZCgmsNzXi+vEqKe5EU3zYgKPK1etEk/d+Sb0eTOoeNZpbz9Jyd60kwkJfHImO2HJGcKu7eAhceJe7h8TxX6089MNvrKXZBLRyJzrMWl3tyLCG2KaGfyU+csqcNe1tBqk5v9hFfnWu4bwABOGzg3eY2pzskXzXC1vKMnz/8/N890cqxOa1pZ6vP1t5kCH0QQIEy3mSfOeJ31npypfLqpV7myiM04nIJlWjLdlJE7JU0bv2vxcdrqmAVeYitHW2uGzGkxQG9Y7bVXYt741k9ZBAcPM48lHQF/ILTu7ZQI7j8PaVeZhDGMzyeZcnToYTFE1m0JMHqPjuwVDmvndMGgmAdP2cIoefmEkcb7YjpvQ0LeCsQ15ewuhNr/CrYPdBLnXYumUqLEZHbVx+v4UKjNxmgl5IyfpmTn99a9/rRnADUi49XltfWjyf4Mstf6ubKeR79gJ6JDkBnozMX+G1hlWnhzM9C896Rg3gZD7sHjuXIdmXk+wEFPYfGr+tmlJTslvqfYbMyJ0gc1V0iSBxuxUp5ByCUhbTxYyfnG2hgFQnXXl7W1RHDajs8emxQbuM/UonXqQtEbmzBi1DdhwLKfOZs7VIAG1mo0JWZzVn5PDOOt/VPzgvLY8jw0Lw1mi514k6Fb30/xh2Xtn7k65B4ZxnFqLBLd2i3hMeTZTOX/2gYynYY20XJuGTTylqbfS+tBTfhrVrfnzJu3a9NQEop3ERrWjhj6Z8fTtbC1p6UMyLrDD3vn7c6tH2Oz0GzgPW1xMWa6TOjX5LaaKXtdvkLlM9yT3pmRujj7ayLe4fwuXNi3AGpVt2amuY8o7ccThSXatGaXV7Ok+G4Yq0cBiR9Ox3syltvdG7XL/4s1R2JzAzMlwdCL3aH2A6ZuZasU2H0qrDvf1dpTSTDJOrrs4PNF4sm45PwZaZymBK9dN70mzT2TxrNnnae8Kcyrjg9waHW1MonHPQ0SZaKshac7OKWQ9ZXAS5WtCcWuQibdU8+ZXyiEPQ20APzk0DpWSqBzOsyS11HYeRRyoW0SkaQJORtps8KbVkCGYcRDE25mprcbIUamYgiH+/HRYnfPJoWTiXAuPN8c8m3w9dYBn/Zi34YhVa83B+TQBZliAn+KTavCfhsZwiD1CgcLyi4/EzrumQpEAWj3B5BmfPOqbk+dproSbIvnwuRx7kyYB+Gk2fVNNXUxmpupOeVOfEWchNnzTWwo7GRkPLw81I04To3QDaRJVgy9oiW5GX99qrKYQr+nP8ITNpNsanVl7bTkfkwN8a8Q9ZftO2atmknbIxmnNfafmNZk4hmB0+kA7Y5s/Zmo9c8Py+diuajU15wVZPNQOBDeQ/VkdTg1B26nbtAVLLTO1xllbSwlKY2ofJNwcuNarxcAvTyEUbp3mDYFnQs71hAGcclg2E6Y5gBvOxRY6bgj/k2rekv4aFm0reJuyStmhcPM3OX+kMWAz7AY7YSSxRh8TQmArXnXr0+07Nn2a2T11ydtq02gWxbR0qN7rbE3FWdFfEdLs/d/wJG9Oo6hZtqvZpa05cbZIUOvKN4WNm9+hNSma4CSfVo06scyNnJiqba2i5bv81IbNTgpqpo1rWdjwvGF3bpGDJ6FaN59vvX1v+90AxGNWTa1I3Ye2tbB0R7vWKDvOW3cipC9hq40hE2IDtcw/JSXNd+G8K2sEt4K9DSiraUgt+mjXQwMtb03R1lob1ww084eqWWzNKWXZIUNqMDYTtgpFRoJuEAVG9J4OQivfpkd8yuGYICXt72AyXfr98jnRNhqiWUJsLSS+ZQ77sLLU3s21SITNhGloaA2nY1pPdrl72nKzzW/DCSGA99Q+dGrtQFwSAzG5I55LBSwE7ASeClTdR4rYuBujbcj0zu9w5z5rMXTYbtgqWxSz7cvH1Zgk/qMRBKR5K+2fksmedEprHmu3WnSugLFKmg05+RcinZv6a0ctKzpb39tNkzDy+4RZS+2tcfsmPdn0aIvENCfaZJq1Fp50+lmtpy9mk9QJbbYoQ5OsG9JcQ9Nv0Q0KuCnz0xpuEwhTRbJxQNiqdYucbFpmgwzl3GlitvqZ5juyVhFtp8Ezuu2FK52n6Geu+0zqbEseiypplW+z+Zpt7UblPMBWY91Hw4lrfOnWQzfXJkXb/iA2hW4RiJbIZBCkSK+zwc4UDcHart5KEZzK/aRR1i2V2xEUH6h0dpu0kKb5uIZkcsaaEM0cG2GSdlqeCD9jMiD9CdO6tpwg2v/TWWj/a9oHQ9T2I0Vz8vwn2Aj/7kM+CTdHNidFYINTdGGmTesfwQhMoaPmUDKHNULU5F2PRHOS1tPIjNtw2kSZ7pfNjCmwOSadfzIdnmYiGZOW6mpqRqaWkEwGvLWyICM8DKsJAWo/TEajv+pWBf0kWWzqO3yDIDQeyg1Bzglb1hinvixsE+s9Zd/qCbyIJij3zUWCrTH5BtLtVIaWn7NFsiiYmivBTlpDObYzxerfhuT2BFj70166qTGTWsry+mgs0Sqm5kXmoC0LcJIkmwo5EVu4J+28qZ1BFtyq5pQHY1Ohva8xTZvz7ISPrdKzuddWZEbbfkvLd27GRjBca4NHm6ka7pKwkPk5YaNGCEQbaPs1mdLNr+YwNw+inewbeLO1T+bfTPsxNSab0OadPsD7sjXH1jjMTbDo8G+FqdRiCCGxYb408CtbGx9XuBqrtaXKP63DaXaby4+bTW8p5+jNFmplODoh69aCoNmQLfO1RVw2wOCWku15MwQ4SWaajxNDa0lH9vNMDH3qnnjrkvcE+5UMfEvWurVNYGm98z/4Tl5DS9e2LwRMMvIY+9o6CzlCwSak58ZeUY2mG+0aNoNNwF11TYf05jC1gPGcqEVnXRooVAO3/iZq09Kgs6ju+7t1R5sK1uI3OHZ4qxbNwkQFp4RlxKGl67cKWBYwtc9axGFKPJpMvGbjbsk9jnpNzcRuTlwSuytcaQJsEtOEZ7Bl28DNdvdBYI5O65xoZ2prfk5zaar54gEyePhWm9V6QDetcWN6Nw1jqmFqPW/sc2tazNbMi5XJk+/GQnxruxLTP4yLQEu3ZNAvjIQHiwxl6rzXknUadzUDmkCBGpyca1Ua2llbPIcMtwjSZLLZIeuNZSp3bFUja015F8yncR6ENSon323o9CTETaPYtCiWy6e3awP+aR3+NinrSmsnILo+yJoHndKbY5Dm1dZHZgpZN+a3NZff0P+bptC04lYzxdagU7fC6dxM/5+03vgOp3dqGMxO5ci7fdpLTc2hWnFYs9en2o2WNesU9zAxNk9uG2pJwGrM1qrSvVEp/Rp694bxQXVz0oSsWueerQm6S/i3MORU3dpU6UbQLYmP390wTqJlTaA91mib+WGzsAmkSfNp73nrsWxJ37Shc8+YManZmQIOYVpTD+zNxEilfRNeh3m3CFgOOJn55I6YGmC13KLGoN0jmtqizVT78j5b75Qtz2LrdG58zZb5x4jCZKo4+25K17azscXGJ7hF1qlQ2jIpzfkJTMbjYm8qZgNcvmW1tvL2W9e9p026LXEphUmUzt1pcH2Tc9GVpvaLNcd4w0RtZkKuJeN1NCgHICnht5SETTu1VkA/37TvYRBOPJvyWXyGKGRvlfNb1DRnesI02drANEHO3tdfgY02WHyq2BuKeHOUGmFranEwebwnp+JU8m6CddUrvc8uqps0nifp6+0QOUTYgKydCNjyVhzlmSSxD08OO30C58AF0nDzy7AeytEBl/63IsL41egHakDYU/Kc/UfteS1itGXXTgBIDRSqQSK6ypxC0ikJzfG7gXG3zgfE89m69DXA6i0TdlrzqfmYezFPDvqvztYNfr/ZZ2yE5ZRh1w3w0LeaGVdPbnHsp1GbqS6oJbe5TJ4p+34eN5OMwYlM1iJcv9EyJFvEgiZfy1adYB6a9taiV16ftlZbPcyt8MxrwoziG4aIw8mt1J7ORmuTW4LlhOYfB28D796c4fZDkJ6zXomGtAZtT7Fmpz0gMyICnQv9zhwa3u5EG610wlrLNw2y3CKw2XjnhswEbOnLQcRu+SatiTSlncF/yRkbzsb3gADf8Dwb9sWWZ+PCMD8rhN760E6qpR1n9OtMEQgXZdlxNyGrbf2ALWVJWIa0bDU9W0Rsao36NKoyaZ8ucbD53rBKXGja/AY3E3KCcnQWMOfDnkema/vZWukDNb+GktYicbynP9+YyuSc/UwHwwvaJtHyBJrGEK99c4JOHDCSK7U+VHl5DzvxsjAta7CplxuEPzUHQ8u1Bs1T8lRzHm7YHY2R26fQkqlaL2FriBu6XEvXbi1VJyQxO/6aHyQ0c75v5+yUj9KKF7e09S1kPtWMmLFsTOPQZFIamjTPnLdI5RNcV9a50OHJd7eTmYykATQ1fBafaSsD7obZsFc+E2K1uXQr03aiFF9wSkbyizT737Ft5ke48U8zy4xleWvi7Xu2Q8ZMw/zOyBKTzBg23Vo3/pQWEw0rJszdAM6tD8mkoTWHLU2QrY3D1i7SB5f/M7Cwa4WaFudsWB4Qgke1PJq2Lk/gQ2+Jli1DeAoLT+Yi/RvNbGidAY00T9PGjtTjFyOttI5+LXpmzY6A4w1G9OObNLWqObE2tPUtsYoRFqvu7CDWQlYtvPh00w1YS5+NF5lzNDq5bdpEBSaVc0saulVC89BZGk1tCCYzZ8psTbHeDSSo5RhtWlDzIzi3gUV29Km5DsZ4r8ae2SJTzcyxmm5Mns1HtCWtTZnArbhuMyHZnIxJaXGEb3i5rVp3699kzFquxZQ5WzNbbYNtEnOqeWjMpCGMG9iWkrJx8vx/gs7fEJ0a4eWeIX7G5pk5614mbl3RwuJbh78NhZ2/E290auPBZ0xl8KwybWjhLO5q2tOUEemQ/9TAnL4Lmn+ey2YCRQJae3BV9WYWTm0bJuHHQr3pOjvg6bdoUIqbIJ58ghZaU2RqysJu884885PXpFzAtOYi0wbzmDX7bJl5rVGUnY6evEvy6deYWhXc/Cwb2BG5+ZbxusEctlYXk9RpSHJNfX+icTRV3553gyhPGoOTklxwRw2MJuitDWQ0g2a6tXJ/1qZMiXuusH2S7m6p3ZqIU0vZ+hK1nKdJq5rgJaZcoDBkH/TGLJL8ZjNh8hVRa3Oe1BQtay04bg72JP1FOE8JkXyXz6RtOPOTcPyTOtuwJJqHfUqGYdp5Q+2ezKuEX/ncSFznwGSDafNl43Jt845zc5lcth2UqY9xQ2B3Bu4NE6O1vIg/iQJgQqPnXho82yaBNdVGWE4k3LRaOk5bEtaWvt60J9KnpXnoyQd2a+huDbiBS9uUCUIgK4TbHm5aSgvb50A3vOQp54oCj+dgytym6cy6oikwkvdOr6IfOVu3YqxbmNTl7lNrwOZonRZy0lYmSWMpQCgAL3Y2psHbGSme9rzfZ0oE2taU0SV6/g1dyeQxH64J3Nil88zMbXgjTY1leviEOfMETmHzmzQ8kk2Tu9Wu3DSQWyEk3yF7zbCom8hbC59SCZrpTz9ghBPzkCbpn5q4Kf/myfr5Wef96NBmzkjDarHmTA3vK/hz2vk1dKUt+YnSxahXm2TanLST/buhZ/uwNeLbULomM6Zt1CTdbGO7hsUhvYYjukFatghBCJP9SBpUJZneVIJOZryFkSe/1hS6dtuEqRLVzJ9q+rlvwMUnLFo7xptAY/9qfr85h7es2pYO0PBaJpS4qayimcw04yZAo7ZvjTlsvk1ryxNyW6u3+jzNEqWpY1UpTjQTAR9KRO3JSWlfiol9iplPoCxNi5ggDaf06Ma4JtjELazYQGuar8NSLkxriqy1KuCt8LIVCm5Vw8yrmJi7u99lPSj9/A6U/glf5nupSmWh2037M2zDFqZ2BfYU0pzAiMwYN4EyRWwmMKHWO8lZs1t3gQkziL6evEOLKLp4k1jFm1b3cYhxa27USp+nvBNjTLRU7dNA+9a/xO03rVa2huLueetaAh+I6Z0bxJ83ypnAE4o5ubyJYUuTzn3OgSKsX7Qd7oNzgZzROMEGuiJ6Mhsn7e5Jb+gwCjtu/a5c8/Z3U/m3HtMT8dusbt0NGThw+L05jC1IGxo/pfvE7Kw5M/pJk9TakfN/msnn0LpNqaeZvGayn6mxVBay2X90CKVB9OQIc8RhikDQobQRQNTy9IXdIAxtv9vcYCgsh40h6ZbdtxWTTQfrSY4O98B4rK14MtmHJJzJ1PABacj6/P/N35E2GqyfcSZzYyTu2bJ1/dvW0vUfzfRoJgcP4dbuwpHJicm2tHX6f3woJxCuyQIIXW4FgZPwuEUsN9dCGE2yyremW3m3T8tPaFmkTWVymvpUtdpyLNztrD2f5drMQTAGqPMcGgZsy941YpfnT5wKh+1syk0l2FN/3gYwvZmWlp5+fhjsBJM3pWdT05gkWQsfGjayIfcTrnOKkkxheUYSniaFufBzwyGdiiqntH8LgUl7a5rsJhxbR74nFect78RngueYtOFK9OaSmNY3VotLSz5babab70waApOHNunNUn4fBOc3NMjEzMsJY23DJ9yPJ42xjKxtrebJopvDE6CmJW5N4c6Gdh6Ci4RlrkhjejeoRZulLhxLmK+ptFu0oOV0GOvGeCKTBrf1E4rUtnnACMkGS9E0Igol7smkmbSckdyfGhqZ7IRgnz2bwLOYJGnm2Rz7t9avYTK3Bl2bNv55Gs9+wq1a02VnXDaVdrPpnhQ3uWl2Q9RqSFw8bDRzJmelIQ/sdGsl6NQUpmbaLaTccEkmyIHNvp6aY5PYDdzUDkuLMGyZqV4j09OUodnCxFvq+QQ12SJiba7OWj60MLU3mcLP7hLwU9o40L/RIj0NQrOZQ/aXuRr91vx9iwzS8U+apED/OLX8CQ7D9FL0ULuPTQu7GuGqqWsmgkkNMwThBINowJ0WCuMGNpyVCbcj96NEYc5HK1BkNCPv6zaXTbPzvGgmsnSeki8h/obe3xhty/doRX4TnqwT3SbhwAzSzXYnrSTPw+t5Pm+McEqdt8lLP8qUwUvn8dTdrq3ZFNq383jq4/MU8qKZztSMeOYntLgGm7HlsHymhKap58fNuegsuTYB1oFMaF3RXlxBu/U6MUrZrfFWqyEhpkOruGWuBQGup7AbmYT9BU5pb+aA+7dOeKc3KdjyRWISNsnVetRu+R8G/GZLha2TW6tKbXggU/r8lrZw69/T0tYns2+KyLQm3c614Dw2ACZqH9a2bPI6ONGyd+lj/Cm04Sjio6I9Q9Gz6nCzS7dIQbv+LCD75dxK/Fvbh1bp2dLnnbTT6hGm5LIWLmvFXy3U7VaNzq94Uu3bGLnfj+hpyYBtUQEnDWa4ypop/8yBmBosNeeeEbkmzJCpJwxDzFPrzA3Z3UxoAgkiM5rMKod0m/AKCBghHehotb9hOqxueWLtbnIttPqe48syvTHa17o6ZJ7MyWrogO5C6bX4NIk8hdKcadgOiE0Gl27TqWkUNHLfbPjZrBaC2wr5iM8w1ZrYLnUi2JZhylyOG8duvXUMQ7mtI6Vawxj1nmVOZBZP8E4Ituw+we67MjkJp/wQa3Yx35wJvIE2cU7sEEdMmMkROgF0t2c638ZOUZf3M+FySmRrgopnzv2IWieBKcs2Gh21QkZicn5a/sxNwzd9NLMp9/hQPWJCGrPyWPbvRKaNUNnz120Y+UIh1EkF40u1A34ODbEa2otOKFINi3aqrE30hQvLTacPxBKHUSoT4wTQRLPAuLJTX2IyEBY1UsqHQZ/vRKOZMkcb0lwr+mqI9JsdT5PGwsuMhdJy0kpYwPYkstZ6LjtHpe2rvz+h3G2+HprUDfjZ3Qsaav/Uv6fllYQGqUXmbNMPtvV7PvM5iPgTxspnC+s+wSJpmYFsvNMK6NzzZOsn0wiSB6wlsVl15mGiA3cKdW2Ri/b+8fZvpehbgtckDbeCOpplhHpwlu90mMh42VqBCVtPAIuYgWqQJ69JYzAm4lbVbHNial0aTcfa6JTURibl7zSAn5YkuMEgtJCxq9NtalhTJVqcM72NVztVixu5jmUPk6N8qjKnL4bn7XPzBLeEJZomE8E2h62BhIx+1TAmnGfhmhBn3hpcmb4f9/BtCVABNtqyc/3/qaKWEmYyf1y8x0bsk+PTZqaZVXOmtfYXzSFtG7vVoLitRZiO813ISHjQJhPNe7g1YmMngxZdIJ6GW0000OnJP8f1oBbVNJFU006ZtmS0m3/whtDW0tpbXsrU3H6DvmhRTMKpWpP+ikfyy1/+8od3vOMd7/ie8fnb3/72wzve8Y53fM/4HKfhO97xjnd8z/gcm+4d73jHO75nvIzkHe94x8tI3vGOd7yM5B3veMf/D4zkZEK+4x3veMf3jFcjecc73vFqJO94xzv+H9BI3kV4xzve8Zo273jHO96ozTve8Y6XkbzjHe94x8tI3vGOd/xfYCRvwdE73vGO7y7aexfhHe94x3czkoDwvuMd73jHzx2fYJm+4x3veMfPHS8jecc73vH9jCTo3+94xzve8XPHy0je8Y53fD8jCaz+O97xjnf83PFJD5B3vOMd7/i545MueO94xzve8XPHJx3F3vGOd7zj544PmwG/4x3veMfPGZ80kX7HO97xjp87Xkbyjne84/sZydaR/R3veMc7noyXkbzjHe/4fkby29/+9od3vOMd7/ie8fnNb37zwzve8Y53fM/4/PrXv/7hHe94xzu+Z3x+9atf/fCOd7zjHd8z/g8ilI0abx6jhwAAAABJRU5ErkJggg==");
Resources.add("toolbar-down-arrow_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAjCAYAAABPTYA6AAAAfklEQVR42mNgGAWjYBSMglEwWEHjNo//Vatd/+ubav4H8UE0iA8Sx6mpZJ7t/+6DLv/r1jr8t3TRBtMgPkgcpyZtPbX/lQtN/088avW//5AVmAbxQeJ4nahrqPZ/6hH9/zNP6oNpEJ8ov/nHq/6fcUT1P4gmKVA0NEnUQBMAAEjuPplbQg3uAAAAAElFTkSuQmCC");Resources.add("toolbar-scrolltop_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAABIAAAASABGyWs+AAAE5UlEQVRIx62VWWxUVRjH/2e5d5bOnenMdKYL0DKlbag0RpYHqAsJPvhixBgTI+qj4YUQ4xIT40PVIJGgPvhmjJIoFkMMmCgiWwIohEJLsIVa2tJlusx0Zjq3s96Ze+85PnQRAmJVzslZc875nXv/33c+IqXEclMmn3IxpsgKp9dY7h663IXZQtp56My+jiPnP3vdKBfYAwWUTYP8dPHzndKd2T0nxt4+03PoBSHEgwFIKXH22vfPxI2Bd6HpTlaZ8Q7Ez+65dONY+wMBdA+c2tg3cXpfRUhUpQsTSBVuwVFVWH1h4PD+m9GeyP8CjEz3rbr4x5GPgysqWuZK09CnTOixMnRzHBVhseVE95cfJvQJ338CJPVJ7y+XD+xpbGzZalMDmUQZkfB61PvXIz8rUeZpKJXl549d+uKtYinH/xWgWMrxn7u+erO2buWLPl8A2dkSKh0rQbxZOPwmNLoKWb0IRbN5kSZ2n7py8GVb2MsD2LaFE5e/fsXhVl9bVbeGJ1IxCIPBG1KgG1GkjCH4Qgpk3o1sLovKsKZF9b73u24c37oswMXrP27TjfgHrU2bND07i4mpEQSqNWTNGKQUsIUJ3RpFqDqIbLKMQimH2voVq7qHj+/vH73UfF/A9ZELDw1Mdn2yad2TK0zTxNBILyIrW2BzAwABoyoU5gYBR4mnEA7WIBVLgzKGpqa2TWd/P/xRLDUavCegYGSVk1cOvjqXTwa7ek9MnL/yg1VTVY/KyiAU4gSnTijMDZVpcHAvpAS4x4LPHcBgf78xHh0aT2YmN5zu6Xzudj3I4ltkC4vOpKPVqbkpdqbnu5cq/f731q3d6CiYOpL5UczkhyCkCSnnPZgQCkoU+Bx1iA5OJas9zbu2tD39W9BbW/Rr4RQh9M4vYJSL2mBkOleca/B6K3c+0vqEQ0gJRlRojhDcih8q80Bl2m3FA1OU0NTSWpUzZ3cxylnAW7N0+F0a3Bzvbu4dO/fpxrZtEc5VqMwNRh1wch+C7tVwKQE4uAaVe6AyD5zcB7caAFdVNDQ0P3b66rd7k3NTdzge6+joWNAgo3xzcu87lJHHC4VsZjI+XLRt4fBpQSqlgMJccC4crlAXCOHwKCHkUkYxk84my0YpH0uN1etzMzPrIpuvEkLu1MC0ynQqOVxv2aaTECKmUyOh3rFzBzZveKqpbBdhSwu2MGFLC0JYKNtF2JZAfCx27NG2Z99glEsApMLp1asDDbFFwJKLK1wVDTWto0tjpur9ExfKS9YAAgI6XwgDpw6AWPC4fNk1dQ8PMMbvGbmWEQ/kQi3vmqOEAeT+u//2kQKZN0XOVAgIUMkgqDXfCgZGOWwIkH8gLAEsy0Iul0Mmk0E6reNWtE8ORwcykCwnIW1IiYVM5vuAaZV4LlXMn8evtMLtEaFQlfR4PPB6vVBVdf6etm3j6NGj6OzsZIODgyyRSPB8Ps+LRsHh9NlrmUJ8kKAA2MJ1CUAEAAFIYRkkVsrSYVVVbU3TLL/fbzU2Nlrbt28XO3bskJwQgkgkgvb2dhkOh0U8Hrfj8TgKhYIsl81ryWSSCiHogl6LmgkAkgB2TSggXQ0uqSiKVVdXZ9fW1orm5mbZ1tYmFUX5y0yB+fgrhEA+n4dlWTBNE4lEAretWfzhSxOBQAAulwuUUng8HjDGsGiiAPAnQidPniAo22UAAAAielRYdFNvZnR3YXJlAAB42isvL9fLzMsuTk4sSNXLL0oHADbYBlgQU8pcAAAAAElFTkSuQmCC");Resources.add("toolbar-settings_png","data:image/png;base64,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");Resources.add("tooltip_edit_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAYJJREFUeNqUU89LAlEQnn27BMKyNzsmnvYP6FJ3b0XgPei2Ed4M6yheJFaDiPWgB5GIrkHU/9Cha+YmQkpQ2SVEZV3E15uBt2j+SAeGj5l533zzfimcc1jC1oXvCt+w9vfSmChd32UEtBTZoFAoFAVYGMscYigUgmg0CrquQ9nJwnncp9rx7Ro1oQaCzGOxGJimOXcEoRyQnz8ZVD8YPL4xUMPhcFGQN1cho313FXj/UYCJCaxVyVIdt8AWHeIi8sHRKYYttoicsXegux2fpQydTgdT91MTjEYjGA6HQexWv8AztwKy7VxRvl6vI7QnJkBiv9+HwWBAcfrkgfD1pU3ks8sKXS2u6/V6VNNUVS25rmtFIhHwfR88zyOUdlN5IsxelIExBpqmQaPRAMMwSsFjcRyH12o1/teazeZUDtfhevngJl6iGN2SyslkkjCXy9G5SAIqJxKJw2BEWRj3fD5ParZt81n1cZ95jVhA5VQqpfz3y+Y2WIaMpiz5nefarwADACQFMs6fhMd+AAAAAElFTkSuQmCC");
Resources.add("unknow_app_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAABIJJREFUWIXNl11oHFUUx3/nzk6S3XFbNm1iW61NSvEjLbT1RaEWKkilaAVf/XhREEEp9EF9UKHPtViJUNCHsqiFQMA+VAoBQ0qtDyLig1XTNt2kpE1wtzZtTDKbnblzfUhmMzs7s42Fggcue7/mnt/533PvzggrJoANKO6fGcADgrAjExnMAn0HDx7cKiJyP5x3dHRUT58+fcHzvFthZ9RRAXh+fGLic621EhEEARFEYKnNUjv6m1BPWhwgY9vBrp07n5qeni7V+yLjAli5XK7g+9oSEZSSJcfLZWn9FJBwPAbRAGBZRinVMJiJT0py3OA0Vo86jasQx0ja2USA1JIEkaZCDCYGICwlZJoCqlHyBICab6h6GksJTruFUnLXXLgnBeJ9VS/gmx+n+WlsFs83XJ9ZZMu6LK8+s4HndnQ2g8TWXjYTVprOvIQOE4B0YPhg4CprszZfvPkEX7+zg5Nv9fFPVfNu8TKfnp0EBNViG+PWfOnEHlCysuD50dv8fn2eA7vW02ZbKBG2bXD46OVecm0WJ89N8dv1+ZVnlWoosRxIUSCcFBKL1Ou/Xptj8u8q3/5caYB8dJPDQ53tBAYuXLrTkEetok8FiEYfbRdyNjqAc3/MIKw4sZTCWp7j+SbVWVIONCdhBIIICCK8vncTa3I2T/auqd8VAHcWfO4saBTC7p58KkCSNQHEVYjKl2u3eGXPxqYTUvrLZWbeZ+uDWfY8XkiLOh5n+j2AMS1PQxRAB4bvL96iLaN4/6Uesm3WqqNPVmDZqUR/Wxyn8qzH+T9v89rejezr60xYLlGB1jlgWl3HEekBvvulwvaHH+DQgUewMyrNYaolvnzEj1886mj9h9HbHH5hC05HpunmbGH1wfQtiM5KcAwwNVOjtzvLY5uchn5jTL2E7TSoxC1Iij4uPcB4eYFnt68j+hdvjCEIggaIEECpuuDpORBVIC3ysL2x0EH32rZ6v9YaYwxaa4IgaAARETKZTNNaqQrcbe9FhK3dWWQ5+tCh7/torZsgRBS+7y8qpRZbAtQhmoRp3ILJm1U+OXONTsfm8Iubydng+z6e5+G6Lq7rslirsVitkrFtbNv2ro6NHa9UKjdbA8SiTMvm4Yu3GLk4g20J+/rW8vQ2B9/3cV2XK1euUC6XcRyHrq4uY1kWl0ZHT/X39x93XbfaEqDV20sUbOeWPD3dWQq5DD1d7XXZ5+fnmZ2dZf/+/YiImZqaMqVS6cyJEyc+HB4ersTXStwCUpIuCrW7N8+pQ9tRBGQkwPM8tNYsLCyglMIYQ7lcZmJi4tzg4OB7Q0ND00muVp0DSSrkOyy0Bs9bSjitNXNzcxQKBSqVihkfH78wMDDwdrFYvErk6EXtP3+GhSpEL5mw+L4GMI7jmFKpdHZwcPCNYrE4RuRTLG7JW3CPJoLJ5/O1ycnJr/r7+z8eGhoqkxJ5EoAGZmu12k0RUUm3X/xUhJdOePYBfePGjS+PHTv22cjIyMyqoGMw648ePbqZ1aVBgymlTDabXTxy5MjlSqVSvfsT/xP7F3Trv3okHWf2AAAAAElFTkSuQmCC");Resources.add("update_menu_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAuJJREFUeNqkU8lPE1EY/6ad6dAOSwttLcUolIrAASPVWEncIulBjVESl+jZg4l/ggdvnkz06EU8FA9iNMaIYvRgmhASUw2NQJQuLBZZOixtp515s/k9iojRxIOT/ObNm2/9fQtjmib8z8PS14n+pft4hP4ijyNuIzhEEYOJhq4TTdNAU9VfDnRdj4Fphi5F/CFFqWTEsgw8eTcP54837hbXiSebk8nsQlkydJhA8fefESz0hd6i6HV4YGg2ziAlqaCCIutAI6nEYATO6gv6HLvPHPZ02lgzgsECvzlQFcUPhtZzOuwN5ZYkqKoCIIqKxgQG32YKo+OL1VJZCa6KcmvkgHs/A/pF0zCcSGczA0L6mr18ML9SwtRNePRyKm5D1pqiACrF57Lrb17FZsqySgLikhTc5ea70OaIjnXYqAFRlJ6GaraeRk1kxBTeRx8+m6jkiE4sFuYjMvMlpnLdHf7ane4aVkGdYyh9UaEgy21WC+PQTANSmeU1XdNuYPS7iHi5WITC6hrNciidWeZRpwl1A2hzELGVgVTWjLyqmRvfRgmpcFwU+xFFCrTFMSmfj1pZVpA0s5YDg+oJW20ksvxhuSDX6gzLe9yCkp3LncLIQxzPw+Z8UIR9vjqnKBtgBbWENl+3d+H97DdxUgQu7WppwlqRozg03TJmgjI42dcTwjPs7mxtRR2Yy4oreB+hsooDQmLTX2YSVU4hmbUK6UBv2F6zwxXBWoQwVUiVGNh3oTeULFvAEOyQHJ9Oos1TOo0bDpDnmlwsPY4PDn9y1NlT83xd0jwULjZePleDxYN1Kw9jBSu46h0wFn0eJ5JEo88XX9+q1KAwcAUs3va0svds+fODUqezLSBAS7NN8ftMOkwGDoXdYsKCAdBx/Wooca+fmk1qixNRhm4jwzD0B62qh7G7GsDTLkC1n2NI3gBv1zVo2NP2x5qJU5PGyJ2b2x3YEA6EHcH8Y4vpxmm0fD8EGADFhK0+biwMlwAAAABJRU5ErkJggg==");Resources.add("uploadfile_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTM5jWRgMAAAAVdEVYdENyZWF0aW9uIFRpbWUAMi8xNy8wOCCcqlgAAAQRdEVYdFhNTDpjb20uYWRvYmUueG1wADw/eHBhY2tldCBiZWdpbj0iICAgIiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDQuMS1jMDM0IDQ2LjI3Mjk3NiwgU2F0IEphbiAyNyAyMDA3IDIyOjExOjQxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4YXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8eGFwOkNyZWF0b3JUb29sPkFkb2JlIEZpcmV3b3JrcyBDUzM8L3hhcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhhcDpDcmVhdGVEYXRlPjIwMDgtMDItMTdUMDI6MzY6NDVaPC94YXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhhcDpNb2RpZnlEYXRlPjIwMDgtMDMtMjRUMTk6MDA6NDJaPC94YXA6TW9kaWZ5RGF0ZT4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUdUmQAAAHUSURBVDiNjZM9ixpRFIYf70xwVCz8IkqYTlAQ1mUhxC0mbJPOynJ/QpK/sFX+QpJ6TZEuBMJ0NgGrLOLKVFlCTDHFrtlJo9E183EnxeCo2QheOM05533OezjcRBiGdLvnl7quH7LjSSkJgoAgCEilUp8PDpqvi8XixzAMpQqg6/qhYTzdpcd1XRaLBaVSiX6/fzIYDBTHcQA+iJ2qfxz4vg+AYRik02nDsqyXAHsBhBAIsW41DIO7u8UJgLoPQFEUNE1jMpkgpURVVRRFYW+AEIJkMomqqkgpEULsBwjDEIBEIoGiKLFoBY0Btm0jpWQ4HG4JpZQAVKtVyuUyADc3N+RyOWzb3nYQBAHNZhMAz/MA8H2fTCaDpmlUzGjidXt9kS2A53mMRiMgujtArVajUChQMQWvnkSuKqbgui1ptVr3AY1Gg/l8DkA+nyebzVIxBWfHIT9+R31nx2EMAd5sASzLigGdToeKKTg9Cvn+B26XUd/yAZwexZDnMcB1Xer1OtPpNN7v2cM274cmAI1HUa73bV27t8JsNovFjuPw7vGneO+fy7i0sg/wVmwCNmM8HtPr9WLR7a8oVq/bPQd4sXIwurj48t/vfHX1dXNinANGAH8BsFjVnFwWQe4AAAAASUVORK5CYII=");
Resources.add("victory_coin_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAACz0lEQVR42u2Uu0+TYRjFgZAACguDGDrgACgYgoTUhbAgKRIJE4MKCYMOJg4solwqt1IKFJACRTRCNSFctLRcpK3aEoFWDS0it8hNCDcDf8XPt5/RhEAJOhqf5N2+/L6Tc87z+Pn9ExMSEsKFuDhSU1NRKBQkJl4iIuIsAQEB/BUwJyeHouJiHI4xPB4Py8vLLC4uMjHpJCsri6iocycH+/v7o1bXUKVS8c5uZ9LpxO32MD8/z8rKCpubm+zufqesrJz4+IsnAxcUFPDKaMQ4MMDr0VHsDgdOl0uonWZhYYHV1VW2trbY29tDr9cjk8mOByckJKASCru6DPT09GIymbFYrIyNjeH68IHp6c+SBWtra2xvb7O/v09ubh5BQUG+wV5Im76dxx0dGAzPeSl8NV2/znBeHrYHRbwXyhx37jB+9y5fx8fZ2dlhZmaG8+cvHA0NDAxkaHiEunotOl0LHU+e0J+czIDw2PtGBMz+rJPh2Fgscjlzwu/19XUJLJdfPhoaHh7OpEhWVa2mXttAS0srT5t1GE+flqDmGzewDZgwhYXhGhzky+wsS0tLbGxsoMjIwBvwIWiY+Pjjp088FKlWi/S1DY20trbRnZ39U21oKOabNxlKSWFiYpKpKTdzc3NS1RSKDHxWae3bN4pLSikrr0Bdo6GhsYl2ofqXWu8b0mgOVM3tdnMlPd13UGazCKpNL4HLKyqp0dTS2PSIF9euSUDjmTOHqjYy8pqkpCTf0OjoaJxCwYOiYkpKlVRUVqGpraNZqDaeOkX3rdsHqmYXivPz8wkODj6+q1qtli6DQVrRUqWSyioVtXX16Avv/65ab28fZvMg9woLSRYNOdFWdXZ28vbtO7TCT6XyoVjZ6gNV6+vvp0r87Gpm5p8dlnRhvnfPrVYrNtsbycdRi0XaNp1OR0xMLH99/iIjZdJVyhBdTEtLw9tnv/9z3PwACBwPTIgzTiAAAAAASUVORK5CYII=");Resources.add("wall_menu_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR42mNgAILGbe7/3afzkYxB+kD6GUCcuccL/68820g0BqkH6YMbMPlgEhg3bwuCs7t2RcHZ2DCGASDNIACiQZphbKIMgGledbYFgw3DMEtgbKwGwGwlhk19A2DRg84GeQWmCZmNNRDR/QqzVa+IDYONNRrRMUghTAMyG2s04jMEGxvFgNadvngNQccg9XAD0PMCTFHP3vD/lq1chPPCt5+f/7/9+hSMYQaANIP8CxPHhkH6GNAByACYZqwKCAGQAaRoBgBsokPJhWLqvgAAAABJRU5ErkJggg==");Resources.add("weapon_menu_icon_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACE0lEQVR42q2Tz2sTQRTH3/zI7maboIbsph48VJLquU2JIEoPCh5aLKIgBS9eelChB8HiD0IVT4I/qij00H9B/EU9KIWCx4jQg1LbgiTZ0mZjutlNt5v91bc56KlQbR8Mb+YN7zNv5n2HwB6N7Asg13uc/Fz8Ef4X4OnUq3zgBx7jzEMD1/PBRx/NgyCAMAzRh+D7HliWlZEkqSEI4vrDB3crHUDp68JmrabH264L7XYbh4vJLjiO20mKQBHExT0P1z7CRFGsLC0tFl8+fzxDpl5MrxnGhholFwoFaDYNKFeqoOs64GnAGQfTtIDgZaOKfKzQRVBaSecn702UyLUbN0dM00wxxgIu8H48NbHlOBCE4ZFkIpm1W5sbRrOZrdfWulZWloFSCrlcL/TlB5aR+mjHLoxdH+/LKGrifvH2/OXRK0+kuDw+++EtCGIcFEWBVFo98+nju887Am7dKfJEl3yVUdLCdxhuGFb/+zevs6bV6lTRc7Rn7Mv83PSudXDh0ujgqlaZq1Y1sO0t6D6cKS18K+V3DRg+f1Gs1/XfmqbJtm1DLBaDVOrQwD8p8fTg2dly+dc5Ve0GTVuFZFKe+QM4cWqIUQ6MhAEHCBkOjgJAjzFCMEYY5/CsUV8fiVrp+QF2I/f9L+DkEEVhxwgFAYMCZUSkBER8MBlbfIASctBx7GMIyciyxFAToecFjf35THuxbaMI8dyQO+T6AAAAAElFTkSuQmCC");Resources.add("zynga_png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAACRElEQVQokT1Ry0rDQBQ9k0yiU1sXIiKmVogwq4Jgl+ratfo7fowf4aagQnUl7iyCIBEk0iCUxolJnCTzcJHi7nIO3PMiHx8fb29vvu8zxgBkWcY57/f7AL6+vp6fn3u9HiFEKVXX9WAwoNvb2+/v71dXVz8/P1rrra2ty8tLANZa13XH4/Hn56fjOGtra2dnZzs7O9T3/d3dXSFEFEUA5vN5kiRBEBBC4jiOomg2mwEIgqDf7zPGHACEEK21lFIplSTJZDIBAODp6SmO46ZpmqYxxqysrABwrLWU0qqq8jzP87woivF4PJvN0jS9u7v7/v4uiqKltNYAKCEEwO/vr5TSdV1r7cvLy8PDQ6/Xm06nZVlSSrXWWZbleQ6Atvnqum65siwdx7m9vd3c3IzjWErZ6XSMMUVRVFUFwAGglMqyrCxLKeXR0ZG1djKZ3NzcKKUODw9bP/P5vCzLpUJd103TtN7Oz8/TNJ1Op9ZazvnFxcXr66sQAoDjOEsFIYSU0lprrV0sFmEYWmsBhGFIKW1v13UZY9ZaB0BVVUqpNozWOgzDtlbOebvxP0UIoQB83/c8r0XX19eHw2G32zXGHBwcKKVahbaY5Q7dbtf3/RbtdDqj0Wh/fz8IgtFo9G/JWmuMAeAQQv4VWq97e3vD4ZBzzjmndDkUpXR1dXXZ0mKxyLIMgDFGCOF53vHxcZZljLE8z9vHQog0TQGQ+/v7x8fHKIpc122aZmNj4/T0lDFWVZXnedfX10mSuK5rjBkMBicnJ39EOnjUBhcWrwAAAABJRU5ErkJggg==");Resources.add("ajax_loader_gif","data:image/gif;base64,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");
Resources.add("toolbar-nav-shadow_gif","data:image/gif;base64,R0lGODdhLgAQAPYAADU1NUFBQUdHR1RUVFpaWjo6Ojs7Ozk5OT8/P0VFRU1NTUlJSUxMTDw8PE5OTnV1dVdXV0NDQ1NTU2ZmZjY2NkBAQEpKSkZGRk9PT1JSUmBgYGNjYzg4OFBQUGVlZUtLS3R0dFZWVm1tbV1dXWtra1FRUVhYWGJiYnNzcz4+PllZWXBwcGRkZF5eXkRERHJyclxcXFVVVWhoaEJCQm5ubjQ0NDIyMjAwMD09PS8vLzc3NzExMS0tLS4uLiwsLCgoKCsrKykpKSoqKjMzMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAALgAQAAAH/4A3QxQFOAEJCwodAxAEMC0aJxssHh4TlxOVLBsnGi0wBBADHQoLCQE4BRRDNxYMGBmMBCMaGxMyJCI0Ky8oICAPwcK/KC8rNCIkMhMbGiOhAxkYDBY9NzY1OoUVERcLDA4lEgMhECYqBOnqKiYQIQMSJQ4MCxcRFak6NTY3PT05O4YA0IYDwYwEAhZ8UIChQwYJ4wbEiDEAnoQMHTAo+LBAQIIZCPIBGLIjRw8f/3bYGHjAQMEAERAusPCBgQIFDnI6uMngg4WOCSIECGnggA4ANkqe9OGDR45rAnW0xJGiAkwXCS4I2Mp164UELoRWSIGj6NEh/HLwYAoESNOUNseicmjZoCACqwHy6g1QAUHIBkU5nE1qcm1bt29zAIxbAwAFHXMLGGhQF4dly5QNFDggmAKAGmhLFmYrpHTbt/9uqBzS2LGO17Bje/4c+obJHoaBlDZ9uikPf09V24jLuobx48eHoE16w7Y/Hmt9HN59GLFv4MFV79jOnXtz27ehM5U+XUiQ80F287YOHbq/9+/bRyevWz36++jVr7c+vn//6vqZh9+A+QVY3YEHBigggQzep+CDCjaI3g8UVmjhhRhmqOGGPwQCADs=");try{global.location=Util.uParse(document.location.href)}catch(e){global.location=Util.uParse(global.getDocumentUrl())}global.location.secure=/^https/.test(global.location.protocol);global.xd_support=(typeof GM_xmlhttpRequest!=="undefined");global.is_unframed=global.isUnframed();global.mwcom=unsafeWindow.User.mwcom||/mwcom=1/.test(global.location.href);if(Chromium.avail){unsafeWindow=global.getWindow()}if(/xw_action=friend_selector/.test(global.location.href)){setTimeout(FriendSelectorGetTiny,1000)}else{if(/html_server/.test(global.location.href)){if(document.getElementById("final_wrapper")){MWAddonInit.Start()}}};