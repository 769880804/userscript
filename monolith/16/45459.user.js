// ==UserScript==
// @name          OLY Quick Links
// @version       1.02
// @copyright     2009, Yoshi Toranaga
// @license       GPL version 3 or any later version (http://www.gnu.org/copyleft/gpl.html)
// @namespace     Ikariam/QuickLinks
// @description   Adds some quick links to every screen
// @include       http://s*.ikariam.*/*
// @exclude       http://board.ikariam.*/*
// @require       http://jqueryjs.googlecode.com/files/jquery-1.3.2.js
// ==/UserScript==

var iTop = 'data:image/png;base64,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';
var iMid = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAECAYAAABGHzcFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1ElEQVRIiaVVXRqEIAgcPM92/5u0p1H2oSx/GEV3+goVRhTQRFXhxfc8NcaIEAJE5JHWm3UAphICyPXhMnPufsU3ICA6TgFIKJQpsv6OoSn15qvDlsiUElS1e/M4gKf9OY7RDjuEFWPASJ6hHyXmNSybdXLLJDOey0fLm1GIDS0mp1+pN3sVhLz96RQkpu5YD7BcANnxyrhvUj6+moDOfnVZm9uoCrldh1Hwqz6HN95m7LcKYAuTE22rauXs9rE47ES3z2xdoyIsf2XMpxtO7r8nP+MHVuVSdeYgMC4AAAAASUVORK5CYII%3D';
var iBot = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAmCAYAAAAMe5M4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFPklEQVR4nO1a23LbNhA9oOhqLP1A+gmejhTXaSZ+T/LF6Uv6BXEnfYn7HX70ZUwCfZAALpa7AEFRnXbI49FwsQBBAnv2QtLGOYehuP/xw7VtC2NM9KuqqqfL/QCEI5WDzgAGZXKY69DRg5GUDA7Cfjimd2ys76d6ST7utahzLvuz1kZjadtaC+ccfr25yS+SoC4Z7C9MDUcXQWGM6empzst+LgcHA6JzgDMHXU4GAOM6IvgN5kQQjZtcsHCOiw0f5p3A+OESxOipfqmvFFXJYG+01MVpHz3mdJGDEV3Py4gcNlNoH4b1vSj0C7+e11FD+/4TjB+dJxiN723uqJGiBEURoCIeHHkvuTD3/FQkoOdrupzH077g/aT/0OjEwVEgstmA8M/7BEOnjN4jKuuT2lxXVUX+DKAwAvyy25mhNzVkkdqG9GS+yZloQHU+CqQ8X4wE5E+aN7oPFnVyxpe8WNsXLcpK561Wq95+5lAUAegFucfShRljYK0NjJSiAIVUG/gCL4oE6PRR23V1RKgJHatTTEF4dLwppKmE1wPEyJpeCPdaP22nSLXb74sKQGAEAaSwr42TUoFWQHI9Df2UEFFKIOOArh+IDU71QyGF/UjPdQoRJONTORf6h6aIMfkfGEGA9XqNl5eXyLv54jSScFL4vNXzfj/H0cs1mZIC0CNAMNoQ/xD2UTJ60GcMLMmlhqZzaOeOyf9AYQ0AALv93vjnT2lB2iL5eOkciiEbGOXkMABdHme5PFcLSOOjc8IlSB2grFGSpT3SPDiVKvh4ay022y3GoDgCAIi8liJV8UtezsdZa6MXRTRlRGmAtqX8H5f9Eeg41pFELvSL7QLPp3r+wmdIiri6uirO/8CICAAAv71/b9q27S0sddP+TdXQTaDzdQ25HRmHRIVedCDn9X69IWwOMi6KJvQ+JzC+5BypiGmtxeVm01/AQIyKAACwWq2iSp97OK8DhrwfoKB5jc5B270nAq/jTwAn1gBhjkwNEN3bEdSb/THn0fw8jSRe3u12o7wfAEzKCDncffvm6rpW3/X7bwReBqB+E+Cy1Bdumj8xGBb2oy75u0AWlFRSt+KpVNZyd874tK2lAwB4fX3Fh9vb0cYHRqYAjw+3t6ZpmuxCvDx0XColiDpW9EVj4XrX9ON4scf7OaQwndJJ6y0xvrZ3ANA0DS4vL3MmymJ0CvDYbrd4fHxEXdd6qD7Ch3Wup4Uif7HEC0LtxVOnZOkAXZGYKg47tYvOUccV5Goe1qk+RxY+FwC0bYuLiwvs3749yfuBE1OAx9/39+7p6Sm8iqSfh4F+WKfPrDw15GSu6y1I0U8Bba9yhi+Rc6Ro2xZ1XRd/9tUwCQGAjgRVVakEANIG54bV/n9AO6qLHEGK3L5o3jkm/QFy0cd1TdPgp/Ua19fXk7F8MgJ4/PX9u/OhPhcJUgbO6aR/JuHy1OB5nspazVJa60ht27ZwODx+T72myQkAAH/e3TlfE3giAJ1xpCeCcEOZaEDnGUKCUwiRMjiXpyKAl621IQIYY3Dz7t1ZmH0WAnj8/uWL+/nNG5ijwbV/HQOGeX246YSeYqpoUGJ87TiEBPRlmTEGDw8P+Pjp0/lCGs5MAI4/vn51m80GdV3DVNWh1jaHmls1qh+TMPi5SCA9xXDZHRqxjhmYvvQKRj+e55wDjvn9+fkZHz9/PqvBOf5VAiz47+GkF0EL/v9YCDBzLASYORYCzBwLAWaOhQAzx0KAmWMhwMyxEGDmWAgwcywEmDkWAswcCwFmjoUAM8dCgJljIcDM8Q+o0Ghw+o72OQAAAABJRU5ErkJggg%3D%3D';

var iMsg = 'data:image/png;base64,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%3D%3D';
var iFrm = 'data:image/png;base64,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';
var iCht = 'data:image/png;base64,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%3D';

var tMin = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAY0lEQVQ4jcVTSQ4AIQgDMn/mDbwar2ZshcQYOdrFlgTNTDkZO1KLyIceIwLGcnctEzAxw6wiVCbGgK7JnSWiZf1/3iZARFaRVpgFu/3ACh3hkoD1RjNzjQEd8WJQmSBMn1/jAGmlMyEqdyGLAAAAAElFTkSuQmCC';
var tMax = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAATUlEQVQokZWPQRIAIAgCw+n/X7ZTjTIaxckk1IW7j6D0CMIu7OFz8owbKmSNiXhGVBVAU5eBamrqTTIlS8cgAyUgCbzhFjoeM8hN3wwL72kJH+VAmeQAAAAASUVORK5CYII%3D';
var tMsg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAMCAYAAABr5z2BAAAAZElEQVQokZWSUQrAMAhDtfT+V85+imhmNhsotEqeYnUAdhSXodzMbJPZh2ac44uIky6QCy1K/kGKuQN8QV5mBeggrVkB8kBjWJSTAK7kzbtAMkC2SSqQTcGbZSqLFIFbqV8Y6wFhXBkbHDAp1wAAAABJRU5ErkJggg%3D%3D';
var tFrm = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAATElEQVQokb2QMQ4AIAgDC/H/X8bJhDaATt6kxQLWIgIJuiTsHPzhMdVchdTRRAsAWLeOijd6NWE0tPwzVIlUydGE8pNa01gnE630zAbLtgsbjLA17AAAAABJRU5ErkJggg%3D%3D';
var tCht = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAMCAYAAABr5z2BAAAAY0lEQVQokY1RQQ7AMAgai///sj3ZKKIbp0oUqMLdn4RSLEA8jIbReyVurzExpEDikWrY0KwgeRZgdwiuiLGAcln3or7wlaIIqiv8SdGuEC7KfUrVEiiXMXrgVeTmyFBLXAcYB8sHFjGvkr5sAAAAAElFTkSuQmCC';

function Link(title, win, url, img, imgMin) {
	this.title = title;
	this.url = url;
	this.tgt = (win ? ' target="_blank"' : '');
	this.img = img;
	this.imgMin = imgMin;
	
	this.makeLink = function() {
		return '<a class="linksmenu pad" href="' + this.url + '"' + this.tgt + '><img class="nopad" title="' + this.title +'" src="' + this.img + '" border="0" /></a>';
	}
	
	this.makeLinkMin = function() {
		return '<a class="linksmenumin" href="' + this.url + '"' + this.tgt + '><img class="nopad" title="' + this.title +'" src="' + this.imgMin + '" border="0" /></a>';
	}	
}

var LINKS = new Array();
LINKS[0] = new Link('Send message to all', false, 'http://s7.ikariam.com/index.php?view=sendAllyMessage&oldView=diplomacyAdvisor&type=50', iMsg, tMsg);
LINKS[1] = new Link('Forum', true, 'http://theolympians.roflforum.net/forum.htm', iFrm, tFrm);
LINKS[2] = new Link('Chat', true, 'http://www.xat.com/chat/room/45969692/', iCht, tCht);

function minimize() {
	$('#quicklinksbox').removeClass('itshere').addClass('itsnothere');
	$('#quicklinksboxmin').removeClass('itsnothere').addClass('itshere');
}

function maximize() {
	$('#quicklinksboxmin').removeClass('itshere').addClass('itsnothere');
	$('#quicklinksbox').removeClass('itsnothere').addClass('itshere');
}

$(
	function() {
		GM_addStyle(
				'#quicklinksbox { position: fixed; z-index:9998; top: ' + GM_getValue("StartTop", 0) + 'px; left: ' + GM_getValue("StartLft", 0) + 'px; width: 128px; }' +
				'#quicklinksbox .linksmenu { display:block; }' +
				'#quicklinksbox .nopad { margin: 0; padding: 0; }' +
				'#quicklinksbox .pad { padding: 2px; clear: none; }' +
				'#quicklinksbox .middle { background: url("' + iMid + '") repeat-y; }' +
				'#quicklinksbox .corner { position:absolute; margin:0; padding:0; top:56px; right:16px; z-indez:9999; }' +
				'#quicklinksboxmin .linksmenumin { padding: 0 2px }' +
				'.goright { float:right; margin-right:20px; }' +
				'.itsnothere { visibility: hidden; }' +
				'.itshere { visibility: visible; }' +
			'');
		
		var quickLinks = "";
		var quickLinksMin = "";
		for (var i=0; i < LINKS.length; i++) {
			quickLinks += LINKS[i].makeLink();
			quickLinksMin += LINKS[i].makeLinkMin();
		}

		var maxDiv = $(
				'<div id="quicklinksbox" class="nopad itshere">' +
					'<div class="nopad">' +
						'<img id="quicklinksboxhandle" class="linksmenu nopad" src="' + iTop + '" />' +
					'</div>' +
					'<div class="nopad middle">' +
						'<a href="#" id="qlbminimizer"><img title="Minimize" class="corner" src="' + tMin + '" /></a>' +
						quickLinks +
					'</div>' +
					'<div class="nopad">' +
						'<img src="' + iBot + '" />' +
					'</div>' +
				'</div>'
			);
		
		var minDiv = $(
				'<div id="quicklinksboxmin" class="goright itsnothere">' +
					quickLinksMin +
					'<a href="#" id="qlbmaximizer"><img title="Maximize" class="nopad" src="' + tMax + '" /></a>' +					
				'</div>'
			);
		
		$('#breadcrumbs').append(minDiv);
		$('body').append(maxDiv);

		if (GM_getValue("StartMin", true)) {
			minimize();
		}
		
		$('#quicklinksbox').draggable({
			handle: '#quicklinksboxhandle',
			stop: function(event, ui) { 
				GM_setValue("StartTop", ui.offset.top);
				GM_setValue("StartLft", ui.offset.left);
			}
		});
		$('#qlbminimizer').click(function() { minimize(); GM_setValue('StartMin', true); } );
		$('#qlbmaximizer').click(function() { maximize(); GM_setValue('StartMin', false); } );
	}
);

/*
 * jQuery UI 1.7.1
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI
 */
jQuery.ui||(function(c){var i=c.fn.remove,d=c.browser.mozilla&&(parseFloat(c.browser.version)<1.9);c.ui={version:"1.7.1",plugin:{add:function(k,l,n){var m=c.ui[k].prototype;for(var j in n){m.plugins[j]=m.plugins[j]||[];m.plugins[j].push([l,n[j]])}},call:function(j,l,k){var n=j.plugins[l];if(!n||!j.element[0].parentNode){return}for(var m=0;m<n.length;m++){if(j.options[n[m][0]]){n[m][1].apply(j.element,k)}}}},contains:function(k,j){return document.compareDocumentPosition?k.compareDocumentPosition(j)&16:k!==j&&k.contains(j)},hasScroll:function(m,k){if(c(m).css("overflow")=="hidden"){return false}var j=(k&&k=="left")?"scrollLeft":"scrollTop",l=false;if(m[j]>0){return true}m[j]=1;l=(m[j]>0);m[j]=0;return l},isOverAxis:function(k,j,l){return(k>j)&&(k<(j+l))},isOver:function(o,k,n,m,j,l){return c.ui.isOverAxis(o,n,j)&&c.ui.isOverAxis(k,m,l)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(d){var f=c.attr,e=c.fn.removeAttr,h="http://www.w3.org/2005/07/aaa",a=/^aria-/,b=/^wairole:/;c.attr=function(k,j,l){var m=l!==undefined;return(j=="role"?(m?f.call(this,k,j,"wairole:"+l):(f.apply(this,arguments)||"").replace(b,"")):(a.test(j)?(m?k.setAttributeNS(h,j.replace(a,"aaa:"),l):f.call(this,k,j.replace(a,"aaa:"))):f.apply(this,arguments)))};c.fn.removeAttr=function(j){return(a.test(j)?this.each(function(){this.removeAttributeNS(h,j.replace(a,""))}):e.call(this,j))}}c.fn.extend({remove:function(){c("*",this).add(this).each(function(){c(this).triggerHandler("remove")});return i.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var j;if((c.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){j=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(c.curCSS(this,"position",1))&&(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}else{j=this.parents().filter(function(){return(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!j.length?c(document):j}});c.extend(c.expr[":"],{data:function(l,k,j){return !!c.data(l,j[3])},focusable:function(k){var l=k.nodeName.toLowerCase(),j=c.attr(k,"tabindex");return(/input|select|textarea|button|object/.test(l)?!k.disabled:"a"==l||"area"==l?k.href||!isNaN(j):!isNaN(j))&&!c(k)["area"==l?"parents":"closest"](":hidden").length},tabbable:function(k){var j=c.attr(k,"tabindex");return(isNaN(j)||j>=0)&&c(k).is(":focusable")}});function g(m,n,o,l){function k(q){var p=c[m][n][q]||[];return(typeof p=="string"?p.split(/,?\s+/):p)}var j=k("getter");if(l.length==1&&typeof l[0]=="string"){j=j.concat(k("getterSetter"))}return(c.inArray(o,j)!=-1)}c.widget=function(k,j){var l=k.split(".")[0];k=k.split(".")[1];c.fn[k]=function(p){var n=(typeof p=="string"),o=Array.prototype.slice.call(arguments,1);if(n&&p.substring(0,1)=="_"){return this}if(n&&g(l,k,p,o)){var m=c.data(this[0],k);return(m?m[p].apply(m,o):undefined)}return this.each(function(){var q=c.data(this,k);(!q&&!n&&c.data(this,k,new c[l][k](this,p))._init());(q&&n&&c.isFunction(q[p])&&q[p].apply(q,o))})};c[l]=c[l]||{};c[l][k]=function(o,n){var m=this;this.namespace=l;this.widgetName=k;this.widgetEventPrefix=c[l][k].eventPrefix||k;this.widgetBaseClass=l+"-"+k;this.options=c.extend({},c.widget.defaults,c[l][k].defaults,c.metadata&&c.metadata.get(o)[k],n);this.element=c(o).bind("setData."+k,function(q,p,r){if(q.target==o){return m._setData(p,r)}}).bind("getData."+k,function(q,p){if(q.target==o){return m._getData(p)}}).bind("remove",function(){return m.destroy()})};c[l][k].prototype=c.extend({},c.widget.prototype,j);c[l][k].getterSetter="option"};c.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(l,m){var k=l,j=this;if(typeof l=="string"){if(m===undefined){return this._getData(l)}k={};k[l]=m}c.each(k,function(n,o){j._setData(n,o)})},_getData:function(j){return this.options[j]},_setData:function(j,k){this.options[j]=k;if(j=="disabled"){this.element[k?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",k)}},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(l,m,n){var p=this.options[l],j=(l==this.widgetEventPrefix?l:this.widgetEventPrefix+l);m=c.Event(m);m.type=j;if(m.originalEvent){for(var k=c.event.props.length,o;k;){o=c.event.props[--k];m[o]=m.originalEvent[o]}}this.element.trigger(m,n);return !(c.isFunction(p)&&p.call(this.element[0],m,n)===false||m.isDefaultPrevented())}};c.widget.defaults={disabled:false};c.ui.mouse={_mouseInit:function(){var j=this;this.element.bind("mousedown."+this.widgetName,function(k){return j._mouseDown(k)}).bind("click."+this.widgetName,function(k){if(j._preventClickEvent){j._preventClickEvent=false;k.stopImmediatePropagation();return false}});if(c.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);(c.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable))},_mouseDown:function(l){l.originalEvent=l.originalEvent||{};if(l.originalEvent.mouseHandled){return}(this._mouseStarted&&this._mouseUp(l));this._mouseDownEvent=l;var k=this,m=(l.which==1),j=(typeof this.options.cancel=="string"?c(l.target).parents().add(l.target).filter(this.options.cancel).length:false);if(!m||j||!this._mouseCapture(l)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){k.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(l)&&this._mouseDelayMet(l)){this._mouseStarted=(this._mouseStart(l)!==false);if(!this._mouseStarted){l.preventDefault();return true}}this._mouseMoveDelegate=function(n){return k._mouseMove(n)};this._mouseUpDelegate=function(n){return k._mouseUp(n)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);(c.browser.safari||l.preventDefault());l.originalEvent.mouseHandled=true;return true},_mouseMove:function(j){if(c.browser.msie&&!j.button){return this._mouseUp(j)}if(this._mouseStarted){this._mouseDrag(j);return j.preventDefault()}if(this._mouseDistanceMet(j)&&this._mouseDelayMet(j)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,j)!==false);(this._mouseStarted?this._mouseDrag(j):this._mouseUp(j))}return !this._mouseStarted},_mouseUp:function(j){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(j.target==this._mouseDownEvent.target);this._mouseStop(j)}return false},_mouseDistanceMet:function(j){return(Math.max(Math.abs(this._mouseDownEvent.pageX-j.pageX),Math.abs(this._mouseDownEvent.pageY-j.pageY))>=this.options.distance)},_mouseDelayMet:function(j){return this.mouseDelayMet},_mouseStart:function(j){},_mouseDrag:function(j){},_mouseStop:function(j){},_mouseCapture:function(j){return true}};c.ui.mouse.defaults={cancel:null,distance:1,delay:0}})(jQuery);;/*
 * jQuery UI Draggable 1.7.1
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	ui.core.js
 */
(function(a){a.widget("ui.draggable",a.extend({},a.ui.mouse,{_init:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(b);if(!this.handle){return false}return true},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;if(c.cursorAt){this._adjustOffsetFromHelper(c.cursorAt)}if(c.containment){this._setContainment()}this._trigger("start",b);this._cacheHelperProportions();if(a.ui.ddmanager&&!c.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,b)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,true);return true},_mouseDrag:function(b,d){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!d){var c=this._uiHash();this._trigger("drag",b,c);this.position=c.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,b)}return false},_mouseStop:function(c){var d=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){d=a.ui.ddmanager.drop(this,c)}if(this.dropped){d=this.dropped;this.dropped=false}if((this.options.revert=="invalid"&&!d)||(this.options.revert=="valid"&&d)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d))){var b=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){b._trigger("stop",c);b._clear()})}else{this._trigger("stop",c);this._clear()}return false},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==b.target){c=true}});return c},_createHelper:function(c){var d=this.options;var b=a.isFunction(d.helper)?a(d.helper.apply(this.element[0],[c])):(d.helper=="clone"?this.element.clone():this.element);if(!b.parents("body").length){b.appendTo((d.appendTo=="parent"?this.element[0].parentNode:d.appendTo))}if(b[0]!=this.element[0]&&!(/(fixed|absolute)/).test(b.css("position"))){b.css("position","absolute")}return b},_adjustOffsetFromHelper:function(b){if(b.left!=undefined){this.offset.click.left=b.left+this.margins.left}if(b.right!=undefined){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if(b.top!=undefined){this.offset.click.top=b.top+this.margins.top}if(b.bottom!=undefined){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(e.containment)&&e.containment.constructor!=Array){var c=a(e.containment)[0];if(!c){return}var d=a(e.containment).offset();var b=(a(c).css("overflow")!="hidden");this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(b?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(b?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}else{if(e.containment.constructor==Array){this.containment=e.containment}}},_convertPositionTo:function(f,h){if(!h){h=this.position}var c=f=="absolute"?1:-1;var e=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=(/(html|body)/i).test(b[0].tagName);return{top:(h.top+this.offset.relative.top*c+this.offset.parent.top*c-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(g?0:b.scrollTop()))*c)),left:(h.left+this.offset.relative.left*c+this.offset.parent.left*c-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:b.scrollLeft())*c))}},_generatePosition:function(e){var h=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=(/(html|body)/i).test(b[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var d=e.pageX;var c=e.pageY;if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){d=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){c=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){d=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){c=this.containment[3]+this.offset.click.top}}if(h.grid){var g=this.originalPageY+Math.round((c-this.originalPageY)/h.grid[1])*h.grid[1];c=this.containment?(!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:(!(g-this.offset.click.top<this.containment[1])?g-h.grid[1]:g+h.grid[1])):g;var f=this.originalPageX+Math.round((d-this.originalPageX)/h.grid[0])*h.grid[0];d=this.containment?(!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:(!(f-this.offset.click.left<this.containment[0])?f-h.grid[0]:f+h.grid[0])):f}}return{top:(c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(i?0:b.scrollTop())))),left:(d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:b.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(b,c,d){d=d||this._uiHash();a.ui.plugin.call(this,b,[c,d]);if(b=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(b){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs}}}));a.extend(a.ui.draggable,{version:"1.7.1",eventPrefix:"drag",defaults:{addClasses:true,appendTo:"parent",axis:false,cancel:":input,option",connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false}});a.ui.plugin.add("draggable","connectToSortable",{start:function(c,e){var d=a(this).data("draggable"),f=d.options,b=a.extend({},e,{item:d.element});d.sortables=[];a(f.connectToSortable).each(function(){var g=a.data(this,"sortable");if(g&&!g.options.disabled){d.sortables.push({instance:g,shouldRevert:g.options.revert});g._refreshItems();g._trigger("activate",c,b)}})},stop:function(c,e){var d=a(this).data("draggable"),b=a.extend({},e,{item:d.element});a.each(d.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;d.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(c);this.instance.options.helper=this.instance.options._helper;if(d.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",c,b)}})},drag:function(c,f){var e=a(this).data("draggable"),b=this;var d=function(i){var n=this.offset.click.top,m=this.offset.click.left;var g=this.positionAbs.top,k=this.positionAbs.left;var j=i.height,l=i.width;var p=i.top,h=i.left;return a.ui.isOver(g+n,k+m,p,h,j,l)};a.each(e.sortables,function(g){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(b).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};c.target=this.instance.currentItem[0];this.instance._mouseCapture(c,true);this.instance._mouseStart(c,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;e._trigger("toSortable",c);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}if(this.instance.currentItem){this.instance._mouseDrag(c)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",c,this.instance._uiHash(this.instance));this.instance._mouseStop(c,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}e._trigger("fromSortable",c);e.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(c,d){var b=a("body"),e=a(this).data("draggable").options;if(b.css("cursor")){e._cursor=b.css("cursor")}b.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;if(d._cursor){a("body").css("cursor",d._cursor)}}});a.ui.plugin.add("draggable","iframeFix",{start:function(b,c){var d=a(this).data("draggable").options;a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},stop:function(b,c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(c,d){var b=a(d.helper),e=a(this).data("draggable").options;if(b.css("opacity")){e._opacity=b.css("opacity")}b.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;if(d._opacity){a(c.helper).css("opacity",d._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(c,d){var b=a(this).data("draggable");if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){b.overflowOffset=b.scrollParent.offset()}},drag:function(d,e){var c=a(this).data("draggable"),f=c.options,b=false;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){if(!f.axis||f.axis!="x"){if((c.overflowOffset.top+c.scrollParent[0].offsetHeight)-d.pageY<f.scrollSensitivity){c.scrollParent[0].scrollTop=b=c.scrollParent[0].scrollTop+f.scrollSpeed}else{if(d.pageY-c.overflowOffset.top<f.scrollSensitivity){c.scrollParent[0].scrollTop=b=c.scrollParent[0].scrollTop-f.scrollSpeed}}}if(!f.axis||f.axis!="y"){if((c.overflowOffset.left+c.scrollParent[0].offsetWidth)-d.pageX<f.scrollSensitivity){c.scrollParent[0].scrollLeft=b=c.scrollParent[0].scrollLeft+f.scrollSpeed}else{if(d.pageX-c.overflowOffset.left<f.scrollSensitivity){c.scrollParent[0].scrollLeft=b=c.scrollParent[0].scrollLeft-f.scrollSpeed}}}}else{if(!f.axis||f.axis!="x"){if(d.pageY-a(document).scrollTop()<f.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed)}else{if(a(window).height()-(d.pageY-a(document).scrollTop())<f.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed)}}}if(!f.axis||f.axis!="y"){if(d.pageX-a(document).scrollLeft()<f.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed)}else{if(a(window).width()-(d.pageX-a(document).scrollLeft())<f.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}}}}if(b!==false&&a.ui.ddmanager&&!f.dropBehaviour){a.ui.ddmanager.prepareOffsets(c,d)}}});a.ui.plugin.add("draggable","snap",{start:function(c,d){var b=a(this).data("draggable"),e=b.options;b.snapElements=[];a(e.snap.constructor!=String?(e.snap.items||":data(draggable)"):e.snap).each(function(){var g=a(this);var f=g.offset();if(this!=b.element[0]){b.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:f.top,left:f.left})}})},drag:function(u,p){var g=a(this).data("draggable"),q=g.options;var y=q.snapTolerance;var x=p.offset.left,w=x+g.helperProportions.width,f=p.offset.top,e=f+g.helperProportions.height;for(var v=g.snapElements.length-1;v>=0;v--){var s=g.snapElements[v].left,n=s+g.snapElements[v].width,m=g.snapElements[v].top,A=m+g.snapElements[v].height;if(!((s-y<x&&x<n+y&&m-y<f&&f<A+y)||(s-y<x&&x<n+y&&m-y<e&&e<A+y)||(s-y<w&&w<n+y&&m-y<f&&f<A+y)||(s-y<w&&w<n+y&&m-y<e&&e<A+y))){if(g.snapElements[v].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=false;continue}if(q.snapMode!="inner"){var c=Math.abs(m-e)<=y;var z=Math.abs(A-f)<=y;var j=Math.abs(s-w)<=y;var k=Math.abs(n-x)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s-g.helperProportions.width}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n}).left-g.margins.left}}var h=(c||z||j||k);if(q.snapMode!="outer"){var c=Math.abs(m-f)<=y;var z=Math.abs(A-e)<=y;var j=Math.abs(s-x)<=y;var k=Math.abs(n-w)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A-g.helperProportions.height,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[v].snapping&&(c||z||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=(c||z||j||k||h)}}});a.ui.plugin.add("draggable","stack",{start:function(b,c){var e=a(this).data("draggable").options;var d=a.makeArray(a(e.stack.group)).sort(function(g,f){return(parseInt(a(g).css("zIndex"),10)||e.stack.min)-(parseInt(a(f).css("zIndex"),10)||e.stack.min)});a(d).each(function(f){this.style.zIndex=e.stack.min+f});this[0].style.zIndex=e.stack.min+d.length}});a.ui.plugin.add("draggable","zIndex",{start:function(c,d){var b=a(d.helper),e=a(this).data("draggable").options;if(b.css("zIndex")){e._zIndex=b.css("zIndex")}b.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;if(d._zIndex){a(c.helper).css("zIndex",d._zIndex)}}})})(jQuery);;