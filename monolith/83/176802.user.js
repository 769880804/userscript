// ==UserScript==
// @name	   	   MCU - Class registration helper
// @author         RobStrunk
// @version 	   0.1 alpha
// @description    Shows professor easiness on the class registration page. Data taken from www.ratemyprofessors.com
// @namespace	   MCU - Class registration helper
// @include	   	   https://estudents.marymountpv.edu/cePortalAcademicList.asp?*
// ==/UserScript==
// Script use it is own database, that was grabbed from www.ratemyprofessors.com on August 27, 2013.

var Profesors = JSON.parse('[{"ID":"1746995","LName":"Afram","FName":"Mark","OQuality":"5.0","Easiness":"4.0"},{"ID":"1693620","LName":"Alexander","FName":"John","OQuality":"3.8","Easiness":"3.7"},{"ID":"1727877","LName":"Anderson","FName":"Julia","OQuality":"4.5","Easiness":"4.5"},{"ID":"279009","LName":"Anderson","FName":"Valerie","OQuality":"3.7","Easiness":"3.8"},{"ID":"1403077","LName":"Andrews","FName":"Shane","OQuality":"2.6","Easiness":"2.9"},{"ID":"263480","LName":"Armstrong","FName":"Shane","OQuality":"4.1","Easiness":"3.4"},{"ID":"866675","LName":"Baurier","FName":"Antoine","OQuality":"2.2","Easiness":"2.0"},{"ID":"1544025","LName":"Bechtold","FName":"Jessica","OQuality":"3.5","Easiness":"3.0"},{"ID":"1791906","LName":"Belay","FName":"Feven","OQuality":"4.7","Easiness":"2.7"},{"ID":"311289","LName":"Bishop","FName":"Barbara","OQuality":"3.6","Easiness":"2.4"},{"ID":"341915","LName":"Booth","FName":"Doris","OQuality":"3.4","Easiness":"3.2"},{"ID":"546484","LName":"Bowen","FName":"David","OQuality":"2.3","Easiness":"2.3"},{"ID":"1680635","LName":"Brady","FName":"Jim","OQuality":"4.2","Easiness":"4.0"},{"ID":"1005533","LName":"Brophy","FName":"Michael S.","OQuality":"4.8","Easiness":"4.0"},{"ID":"1801570","LName":"Brownell","FName":"April","OQuality":"1.0","Easiness":"2.0"},{"ID":"1719659","LName":"Brust","FName":"Suzanne","OQuality":"4.8","Easiness":"4.0"},{"ID":"517323","LName":"Butwell","FName":"Charlene","OQuality":"3.6","Easiness":"3.0"},{"ID":"601232","LName":"Carolann","FName":"Deselms","OQuality":"2.0","Easiness":"4.0"},{"ID":"135851","LName":"Cashion","FName":"Joan","OQuality":"4.2","Easiness":"3.9"},{"ID":"731607","LName":"Christian","FName":"Tiffany","OQuality":"3.2","Easiness":"3.0"},{"ID":"466029","LName":"Culp","FName":"Mary Beth","OQuality":"3.0","Easiness":"2.2"},{"ID":"334859","LName":"Cuseo","FName":"Joe","OQuality":"4.9","Easiness":"4.1"},{"ID":"671256","LName":"Cusio","FName":"Joe","OQuality":"5.0","Easiness":"4.0"},{"ID":"316343","LName":"Desilets","FName":"Roseanne","OQuality":"4.0","Easiness":"1.8"},{"ID":"515971","LName":"Dillon","FName":"Edward","OQuality":"5.0","Easiness":"5.0"},{"ID":"1443009","LName":"Draman","FName":"Rex","OQuality":"5.0","Easiness":"5.0"},{"ID":"561466","LName":"Draper","FName":"David","OQuality":"4.9","Easiness":"3.3"},{"ID":"1664952","LName":"Dunlap","FName":"Nathan","OQuality":"5.0","Easiness":"3.0"},{"ID":"384567","LName":"Dunlop","FName":"Larry","OQuality":"3.6","Easiness":"2.6"},{"ID":"695842","LName":"Dunlop","FName":"Professor","OQuality":"4.0","Easiness":"4.0"},{"ID":"1325790","LName":"Eastup","FName":"Paul","OQuality":"4.3","Easiness":"4.0"},{"ID":"475971","LName":"Frans","FName":"Lisa","OQuality":"1.0","Easiness":"4.0"},{"ID":"465777","LName":"Franz","FName":"Allen","OQuality":"2.1","Easiness":"1.9"},{"ID":"519152","LName":"Frappier","FName":"Gilles","OQuality":"4.7","Easiness":"3.6"},{"ID":"542304","LName":"Frost","FName":"Alicia","OQuality":"3.5","Easiness":"3.0"},{"ID":"961454","LName":"Gansert","FName":"Gregory","OQuality":"2.8","Easiness":"2.0"},{"ID":"443245","LName":"Gilman","FName":"Diane","OQuality":"5.0","Easiness":"4.6"},{"ID":"162253","LName":"Girgis","FName":"Nassf","OQuality":"2.2","Easiness":"2.8"},{"ID":"357158","LName":"Given","FName":"Bob","OQuality":"3.3","Easiness":"2.5"},{"ID":"1400932","LName":"Graham","FName":"Benjamin","OQuality":"5.0","Easiness":"1.0"},{"ID":"364619","LName":"Granich","FName":"Megan","OQuality":"5.0","Easiness":"3.5"},{"ID":"359908","LName":"Gufrey","FName":"Tom","OQuality":"4.8","Easiness":"4.6"},{"ID":"1004421","LName":"Hess","FName":"Brad","OQuality":"4.7","Easiness":"4.7"},{"ID":"1653282","LName":"Hogan","FName":"Brandon","OQuality":"3.8","Easiness":"5.0"},{"ID":"517315","LName":"Hotchkiss","FName":"Judith","OQuality":"3.7","Easiness":"2.8"},{"ID":"963277","LName":"Howard","FName":"Jim","OQuality":"4.0","Easiness":"3.5"},{"ID":"135856","LName":"Johnson","FName":"Sharon","OQuality":"4.3","Easiness":"3.9"},{"ID":"341892","LName":"Kammoun","FName":"Jamel","OQuality":"2.7","Easiness":"2.8"},{"ID":"311294","LName":"Kelley","FName":"Pat","OQuality":"2.2","Easiness":"3.7"},{"ID":"1531044","LName":"Khan","FName":"Mahbub","OQuality":"1.0","Easiness":"2.0"},{"ID":"334857","LName":"King","FName":"Nancy","OQuality":"1.4","Easiness":"2.2"},{"ID":"517364","LName":"Lane","FName":"John","OQuality":"3.7","Easiness":"4.0"},{"ID":"341891","LName":"Levinson-Brubaker","FName":"Belle","OQuality":"2.7","Easiness":"2.9"},{"ID":"542304","LName":"Frost","FName":"Alicia","OQuality":"3.5","Easiness":"3.0"},{"ID":"961454","LName":"Gansert","FName":"Gregory","OQuality":"2.8","Easiness":"2.0"},{"ID":"311291","LName":"Levonian","FName":"Greg","OQuality":"4.2","Easiness":"4.0"},{"ID":"221594","LName":"Lewis","FName":"Al","OQuality":"5.0","Easiness":"4.0"},{"ID":"1473020","LName":"Lippi","FName":"Christopher","OQuality":"3.7","Easiness":"4.7"},{"ID":"515906","LName":"Marino","FName":"Don","OQuality":"4.5","Easiness":"3.8"},{"ID":"564701","LName":"Marren","FName":"Eilish","OQuality":"3.6","Easiness":"2.3"},{"ID":"516978","LName":"Martin","FName":"Susie","OQuality":"5.0","Easiness":"4.7"},{"ID":"1653680","LName":"Maskery","FName":"Mary Ann","OQuality":"3.8","Easiness":"4.5"},{"ID":"1720434","LName":"Masri","FName":"Ghada","OQuality":"4.2","Easiness":"3.3"},{"ID":"390312","LName":"Matthes","FName":"Robert","OQuality":"3.3","Easiness":"3.4"},{"ID":"1727879","LName":"McGaughey","FName":"Christen","OQuality":"3.5","Easiness":"3.0"},{"ID":"1122372","LName":"McMahon","FName":"Patrick","OQuality":"4.2","Easiness":"4.7"},{"ID":"567956","LName":"Medonis","FName":"Robert","OQuality":"2.1","Easiness":"2.6"},{"ID":"279006","LName":"Menendez","FName":"Melisa","OQuality":"4.5","Easiness":"3.0"},{"ID":"384343","LName":"Morales","FName":"Eduardo","OQuality":"3.3","Easiness":"2.8"},{"ID":"333169","LName":"Moss","FName":"Kirran","OQuality":"4.9","Easiness":"3.4"},{"ID":"1206653","LName":"Munsterteiger","FName":"Peter","OQuality":"5.0","Easiness":"4.5"},{"ID":"1552959","LName":"Ogilvie","FName":"Andrew","OQuality":"5.0","Easiness":"4.0"},{"ID":"1173621","LName":"Pavelka","FName":"Susan","OQuality":"5.0","Easiness":"3.2"},{"ID":"961454","LName":"Gansert","FName":"Gregory","OQuality":"2.8","Easiness":"2.0"},{"ID":"279015","LName":"Perkins","FName":"John","OQuality":"2.8","Easiness":"2.7"},{"ID":"663931","LName":"Perkins","FName":"P","OQuality":"4.8","Easiness":"3.2"},{"ID":"1004423","LName":"Phillips","FName":"Natalie","OQuality":"4.5","Easiness":"4.5"},{"ID":"479562","LName":"Robins","FName":"Roger","OQuality":"4.2","Easiness":"3.6"},{"ID":"792450","LName":"Roshan","FName":"Ali","OQuality":"1.8","Easiness":"1.5"},{"ID":"1098222","LName":"Royal","FName":"Shawn Carlos","OQuality":"4.3","Easiness":"3.7"},{"ID":"479564","LName":"Ryan","FName":"Richard","OQuality":"3.9","Easiness":"3.7"},{"ID":"1655030","LName":"Sanchez","FName":"Adrienne","OQuality":"5.0","Easiness":"5.0"},{"ID":"162255","LName":"Sanders","FName":"Nancy","OQuality":"3.9","Easiness":"4.1"},{"ID":"415875","LName":"Sayers","FName":"Kari","OQuality":"3.4","Easiness":"4.0"},{"ID":"342114","LName":"Schachter","FName":"Pam","OQuality":"3.4","Easiness":"3.0"},{"ID":"341890","LName":"Schauer","FName":"Ariane","OQuality":"4.0","Easiness":"3.3"},{"ID":"341914","LName":"Schwartz","FName":"Bruce","OQuality":"3.3","Easiness":"4.4"},{"ID":"392527","LName":"Semenoff","FName":"Michael","OQuality":"4.9","Easiness":"3.4"},{"ID":"1170523","LName":"Shannon","FName":"Mark","OQuality":"4.9","Easiness":"3.8"},{"ID":"1574569","LName":"Sichan","FName":"Alicia","OQuality":"4.8","Easiness":"4.2"},{"ID":"235672","LName":"Smith","FName":"Eileen","OQuality":"1.9","Easiness":"4.0"},{"ID":"1173621","LName":"Pavelka","FName":"Susan","OQuality":"5.0","Easiness":"3.2"},{"ID":"961454","LName":"Gansert","FName":"Gregory","OQuality":"2.8","Easiness":"2.0"},{"ID":"1004422","LName":"Smith","FName":"Jean","OQuality":"4.2","Easiness":"3.8"},{"ID":"368810","LName":"Spurgeon","FName":"Charles","OQuality":"4.3","Easiness":"2.5"},{"ID":"311295","LName":"Stevens","FName":"Kathy","OQuality":"4.3","Easiness":"4.6"},{"ID":"1430724","LName":"Teeple","FName":"Randy","OQuality":"2.5","Easiness":"3.5"},{"ID":"342112","LName":"Tillotson","FName":"Helen","OQuality":"3.7","Easiness":"3.6"},{"ID":"898998","LName":"Tillotson","FName":"Helene","OQuality":"3.7","Easiness":"4.3"},{"ID":"953157","LName":"Trull","FName":"Lori","OQuality":"5.0","Easiness":"5.0"},{"ID":"665542","LName":"Trutanich","FName":"Dominic","OQuality":"3.6","Easiness":"2.2"},{"ID":"517356","LName":"Turner","FName":"Diane","OQuality":"4.7","Easiness":"4.5"},{"ID":"619915","LName":"Turtanich","FName":"Domonic","OQuality":"2.7","Easiness":"2.9"},{"ID":"753128","LName":"Valiotis","FName":"Dimitri","OQuality":"5.0","Easiness":"5.0"},{"ID":"1727875","LName":"Vanderpool","FName":"Jennifer","OQuality":"1.5","Easiness":"4.0"},{"ID":"1333625","LName":"Veliz","FName":"Reuben","OQuality":"3.5","Easiness":"3.5"},{"ID":"1076161","LName":"Villalobos","FName":"Jose","OQuality":"3.4","Easiness":"3.7"},{"ID":"187594","LName":"Wade","FName":"Virginia","OQuality":"3.2","Easiness":"3.6"},{"ID":"162258","LName":"Webster","FName":"Patrick","OQuality":"3.1","Easiness":"2.3"},{"ID":"1817382","LName":"Westley","FName":"Monica","OQuality":"5.0","Easiness":"5.0"},{"ID":"316333","LName":"Wong","FName":"Melissa","OQuality":"1.9","Easiness":"2.9"},{"ID":"521294","LName":"Wu","FName":"Sally","OQuality":"4.0","Easiness":"4.7"},{"ID":"1482371","LName":"Xu","FName":"May","OQuality":"3.7","Easiness":"5.0"},{"ID":"1539988","LName":"Yano","FName":"Jim","OQuality":"4.8","Easiness":"3.0"},{"ID":"162257","LName":"Zanca","FName":"Ken","OQuality":"4.2","Easiness":"2.0"},{"ID":"1430724","LName":"Teeple","FName":"Randy","OQuality":"2.5","Easiness":"3.5"},{"ID":"342112","LName":"Tillotson","FName":"Helen","OQuality":"3.7","Easiness":"3.6"},{"ID":"898998","LName":"Tillotson","FName":"Helene","OQuality":"3.7","Easiness":"4.3"},{"ID":"953157","LName":"Trull","FName":"Lori","OQuality":"5.0","Easiness":"5.0"},{"ID":"665542","LName":"Trutanich","FName":"Dominic","OQuality":"3.6","Easiness":"2.2"},{"ID":"517356","LName":"Turner","FName":"Diane","OQuality":"4.7","Easiness":"4.5"},{"ID":"619915","LName":"Turtanich","FName":"Domonic","OQuality":"2.7","Easiness":"2.9"},{"ID":"753128","LName":"Valiotis","FName":"Dimitri","OQuality":"5.0","Easiness":"5.0"},{"ID":"1727875","LName":"Vanderpool","FName":"Jennifer","OQuality":"1.5","Easiness":"4.0"},{"ID":"1333625","LName":"Veliz","FName":"Reuben","OQuality":"3.5","Easiness":"3.5"},{"ID":"1076161","LName":"Villalobos","FName":"Jose","OQuality":"3.4","Easiness":"3.7"},{"ID":"187594","LName":"Wade","FName":"Virginia","OQuality":"3.2","Easiness":"3.6"},{"ID":"162258","LName":"Webster","FName":"Patrick","OQuality":"3.1","Easiness":"2.3"},{"ID":"1817382","LName":"Westley","FName":"Monica","OQuality":"5.0","Easiness":"5.0"},{"ID":"316333","LName":"Wong","FName":"Melissa","OQuality":"1.9","Easiness":"2.9"},{"ID":"521294","LName":"Wu","FName":"Sally","OQuality":"4.0","Easiness":"4.7"}]');

function GetProffessorEasiness(Match,LastName,FirstName, index, original){
	Additional = "";
	HighLightFull= "";
	TID = "";
	LinkPart1 = "";
	LinkPart2 = "";
	LastName = LastName.replace(/\W/gi,"");
	for (var i=0; i< Profesors.length;i++){
		if (Profesors[i]["LName"] == LastName){
			Easiness = parseFloat(Profesors[i]["Easiness"]);
			if (Easiness<=2){
				HighlightColor = "red";
			}
			else if (Easiness<=3){
				HighlightColor = "#999966";
			}
			else if (Easiness<=4){
				HighlightColor = "#FFFF00";
			}
			else {
				HighlightColor = "#33FF66";
			}
			Additional =  "<br><i>Easiness: " + Profesors[i]["Easiness"] + "\/5.0 <\/i>";
			HighLightFull = "background:"+HighlightColor;
			TID = Profesors[i]["ID"];
			LinkPart1 = "<a target=\"_blank\" href=\"http:\/\/www.ratemyprofessors.com\/ShowRatings.jsp?tid="+TID+"#professor\">";
			LinkPart2 = "<\/a>";
		}
	}
	result =  "<td style=\"width:20%;"+HighLightFull+"\">"+ LinkPart1 + LastName+", "+ FirstName + LinkPart2 + Additional +"<\/td>";
	return result;
}

document.body.innerHTML = document.body.innerHTML.replace(/\<td style\=\"width\:\s?[12]0\%\;(?: padding\-left\: 5px\;)?\"\s*?\>\W*?([\s\w\-]*?)\,([\s\w]*?)\s*?\<\/td\>/gi, GetProffessorEasiness);

