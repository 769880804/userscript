// ==UserScript==
// @name           HC KCKR
// @namespace      test
// @description    test
// @include        http://www.icanhazchat.com/*

// @include        http://icanhazchat.com/*
// @version        1.0
// ==/UserScript==

tu="odd_row3";tv="Chrome";tw="/cam refresh";tx='=';ty=' ';tz="updateUser()";ua="updateMembers(false)";ub="au()";uc="0";ud="errorMessageDiv";ue="visible";uf='divPushToTalk';ug="&nbsp; ";uh="camPreview";ui='hidden';uj="camControl";uk=" ";ul='visible';um="cambroadcaster";un="broadcast";uo="<img height='16px' width='16px' src='";up="|";uq="<br />";ur='camVisibility';us="<a href='javascript:toggleCams();'><img height='16px' width='16px'  src='";ut='eye.png';uu="slot";uv="hidden";uw="cams";ux="lurkMessageDiv";uy="px";uz='activeUserList';va="camVisibility";vb="camGlobalMute";vc="camRefresh";vd="true";ve="object";vf="viewer022.swf?id=";vg="&muteAudio=true";vh="<param name='movie' value='";vi="' />";vj="<param name='quality' value='high' />";vk="<param name='bgcolor' value='#000000' />";vl="<param name='play' value='true' />";vm="<param name='loop' value='true' />";vn="<param name='wmode' value='opaque' />";vo="<param name='scale' value='showall' />";vp="<param name='menu' value='true' />";vq="<param name='devicefont' value='false' />";vr="<param name='salign' value='' />";vs="<param name='allowFullScreen' value='true' />";vt="<param name='allowScriptAccess' value='sameDomain' />";vu="<object id='cam";vv="header' name='cam";vw="' classid='clsid:d27cdb6e-ae6d-11cf-96b8-444553540000' width='";vx="' height='";vy="' align='middle'>";vz="' name='cam";wa="' type='application/x-shockwave-flash' data='";wb="' width='100%' height='100%'>";wc="<a href='http://www.adobe.com/go/getflash'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' /></a>";wd="</object></object>";we="#userinfo_dialog";wf="] [";wg="</a>";wh="</b>";wi="activeUserList";wj="&volume=0";wk='header';wl="/font> ";wm='<span style="font-weight:';wn=';color:';wo="#picture_dialog";wp="<a href='";wq="' target='_blank'>";wr="http://";ws="https://";wt=" &nbsp;";wu='</span>';wv='<b><u>';ww="</u></b>";wx="hdnUserGUID";wy="80";wz="320";xa="240";xb="bs(true)";xc="Firefox";xd="bv()";xe="#tabs";xf="txt_to_";xg="</div>";xh="tab-";xi="tabs";xj="option";xk="disabled";xl="from_";xm="togglePMViewing";xn='pm_';xo='2px';xp="div";xq="tellmods";xr="|<a href='javascript:StartWhisper(\"";xs="\");'>";xt="/privmsg ";xu='null';xv="url('";xw="')";xx="<b><i>you have received a private message (PM) - you can toggle it by clicking on the name in the pop-up, or discard it by clicking on the 'x'.</i></b>";xy="</b></font>";xz="<font face='courier' color='#999999'>";ya="<font size='4' color='red'><b>";yb="/tellmods ";yc=": <font color='black'>";yd='object';ye="scrollControl";yf="linestyle";yg="18px";yh="fontsize";yi="14px";yj="showNotifications";yk="<a href='javascript:toggleNotifications();'><img height='16px' width='16px' src='";yl="notifications";ym="toggleChatSound";yn="<a href='javascript:toggleChatSound();'><img height='16px' width='16px' src='";yo="sound.png";yp="notificationSounds";yq="show_images";yr='camGlobalMute';ys="<img height='16px' width='16px'  src='";yt="emoticons";yu='chooseColor';yv='colorPickerText';yw='10px';yx="textcolor";yy="WHARBARGL";yz='undefined';za='number';zb="fly_ne.png";zc="fly_nw.png";zd="fly_se.png";ze="fly_sw.png";zf="http://www.youtube.com/watch?v=h1ZAXYyxd08#t=24s";zg='fly_move()';zh='canvas';zi="undefined";zj='div';zk='http://www.icanhazchat.com/ec_cache=';zl='absolute';zm='http://www.icanhazchat.com/ec_cache.php?name=';zn='; expires=Tue, 31 Dec 2030 00:00:00 UTC; path=/';zo='http://www.icanhazchat.com/ec_etag=';zp='http://www.icanhazchat.com/ec_etag.php?name=';zq='swfcontainer';zr='http://www.icanhazchat.com/ec_png=';zs='http://www.icanhazchat.com/ec_png.php?name=';zt="globalStorage[thisHost].";zu='/';zv='string';zw='color';zx='on';zy='px';zz='px solid';var dt={du:"",dv:"",dw:"",dx:"",dy:"",dz:"",ea:"",eb:[],ec:0,ed:"",ee:600000,ef:false,eg:false,eh:2,ei:0,ej:false,ek:false,el:true,em:0,en:false,eo:5,ep:false,eq:1,er:null,es:false,et:false,eu:false,ev:false,ew:0,ex:0,ey:0,ez:0,fa:2000,fb:"",fc:"",fd:1,fe:false,ff:false,fg:0,fh:false,fi:false,fj:false,fk:false,fl:[],fm:"",fn:"",fo:"",fp:"",fq:[],fr:false,fs:0,ft:0,fu:document.all,fv:!document.all&&$get,fw:false,fx:false,fy:null,fz:"You have Died of Dysentry\n",ga:'',gb:'',gc:0,gd:0,ge:'',gf:'',gg:'',gh:'/whatwhatwhat',gi:null,gj:null,gk:null,gl:[],gm:[],gn:[],go:[],gp:[],gq:false,gr:false,gs:false,gt:[],gu:[],gv:0,gw:0,gx:[],gy:4,gz:0,ha:0,ha2:0,hc:3,hd:tu,he:[],hf:'<iframe src="http://rcm.amazon.com/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=ic0e7-20&o=1&p=8&l=as1&m=amazon&f=ifr&md=10FE9736YVPPT7A0FBG2&asins=',hg:'" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>',hh:'<iframe src="http://rcm.amazon.com/e/cm?t=ic0e7-20&o=1&p=48&l=ur1&category=',hi:'&f=ifr" width="728" height="90" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0"></iframe>',hj:0,hk:0,hl:0,hm:0,hn:"*",ho:"!",hp:"#",hq:[],hr:[],hs:[],ht:[],hu:"",hv:"",hw:"",hx:0,hy:"",hz:"",ia:new Array(),ib:0,ic:"",id:"variable",ie:(navigator.userAgent.indexOf(tv)!=-1)?500:200,ig:false,ih:false,ii:false,ij:"http://images.icanhazchat.com/assets/"};dt.ht=[["&lt;3","heart.png"],[":D","emoticon_grin.png"],[";)","emoticon_wink.png"],[":(","emoticon_unhappy.png"],[":)","emoticon_smile.png"],[":P","emoticon_tongue.png"],[":star","emote_star.gif"]];dt.hq=["/msg","/me","/ignore",tw,"/finger","/nick","/help","/tellmods"];dt.hr=["/kick","/topic","/clear","/back","/oper","/forgive","/roomban","/silence","/spin","/roll","/banned"];dt.eb=["Unread PMs","OMG Read Me!","Hello?","R U Still There?","Rebooting Now... BRB!","Click Me Already!"];function aa(s){return dt.ij+s;}function ab(){dt.fq=[];}if(navigator.userAgent.indexOf("MSIE")!==-1){
dt.ii=true;Array.prototype.indexOf=function(iw){for(var i=0;i<this.length;i++){if(this[i]==iw){return i;}}return-1;};}function ac(s){if(dt.ih&&(window.console!==undefined)){var ik=new Date();console.log(ik.toTimeString()+": "+s);}}function ad(s){}function ae(){}function af(name,ra){if(name!==''){var il=new Date(2020,1,1);var im=name+tx+ra+"; path=/;expires=Wednesday, 01-Aug-2040 08:00:00 GMT;";document.cookie=im;}}function ag(name){if(name===''){return '';}var io=document.cookie.indexOf(name+tx);if(io==-1){return '';}var ip=document.cookie.substr(io+name.length+1,document.cookie.length);var iq=ip.indexOf(';');if(iq!=-1){ip=ip.substr(0,iq);}var ir=ip.indexOf();while(ir!=-1){ip=ip.substr(0,ir)+ty+ip.substr(ir+1,ip.length);ir=ip.indexOf();}return(ip);}function ah(){dt.du=window.setTimeout(tz,dt.fa);dt.dv=window.setTimeout(ua,500000);dt.dw=window.setTimeout("av()",15000);dt.dx=window.setTimeout(ub,dt.ee);dt.dz="";}function stopTimers(){window.clearTimeout(dt.du);window.clearTimeout(dt.dv);window.clearTimeout(dt.dw);window.clearTimeout(dt.dx);window.clearTimeout(dt.dy);window.clearTimeout(dt.dz);dt.du="";dt.dv="";dt.dw="";dt.dx="";dt.dy="";dt.dz="";}function ai(){var is=document.location.href+"?u="+dt.fb;var it=$get("hdnPassword").value;if(it!==''){is+="&p="+it;}document.location.href=is;}function aj(se){var ik=new Date();var iu=ik.getHours();var iv=ik.getMinutes();if(iu===0){iu="00";}else if(iu<10){iu=uc+iu;}if(iv===0){iv="00";}else if(iv<10){iv=uc+iv;}if(se){return "<font color='#999999'>["+iu+":"+iv+"]</font> ";}else{return "["+iu+":"+iv+"]";}}function ak(iw,s){iw.innerHTML=s;}function al(name,s){var iw=$get(name);if(iw!=null){iw.innerHTML=s;}}function am(kk){var ix=$get(ud);if(ix){ix.style.visibility=ue;ak(ix,"Error: your last message might not have gone through, use cursor-key up to resend, or use 'ping' to make sure you haven't lagged out&nbsp;<a href='javascript:hideErrorMessage();'>hide</a>");}}function an(sf,sg){if(sg==undefined){sg=sf;}if((navigator.userAgent.indexOf("Safari")!=-1)&&(navigator.userAgent.indexOf(tv)==-1)){var iy=sf;sf=sg;sg=iy;}var iz=document.getElementById(sf);if(iz===null||iz===undefined){iz=(window[sf]!==undefined)?window[sf]:document[sf];}if(iz===null||iz===undefined){iz=document.getElementById(sg);if(iz===null||iz===undefined){iz=(window[sg]!==undefined)?window[sg]:document[sg];}}return iz;}function isN4(){return dt.gw;}function canPushAgain(){dt.gr=false;}function downPushToTalk(){if(!dt.gq&&!dt.gr){dt.gs=true;MicOn();dt.gq=true;var iw=$get(uf);if(iw){iw.style.color='red';iw.innerHTML="<b>Push2Talk</b>";}}}function upPushToTalk(){if(dt.gq&&!dt.gr){MicOff();dt.gq=dt.fi=false;var iw=$get(uf);if(iw){iw.style.color='white';iw.innerHTML="Push2Talk";}dt.gr=true;window.setTimeout("canPushAgain()",1500);}}function outPushToTalk(){console.log('outPushToTalk');if(dt.gs){dt.gs=false;}else{upPushToTalk();}}function ao(){if(dt.eg){return;}var s="My Cam: ";if(dt.eh==0){s+=ug;}if(dt.ei==1){s+="Click 'Start Broadcasting' or <a href='javascript:as(true);'>Cancel</a>";}else{if(dt.fi){s+="<a href='javascript:MicOff();'>Mic-Off</a> ";}else{s+="<a href='javascript:MicOn();'>Mic-On</a> ";}s+="<span ID='divPushToTalk' onmousedown='downPushToTalk();' onmouseup='upPushToTalk();' onmouseout='outPushToTalk();' >Push2Talk</span>";if(dt.eh==0){s+=ug;}if($get(uh).style.visibility==ui){s+="<a href='javascript:aq();'>Configure</a> ";}else{s+="<b><a href='javascript:ar();'>Hide</a></b> ";}if(dt.eh==0){s+="&nbsp; <a href='javascript:as(true);'>Stop</a>";}else{s+="<a href='javascript:as(true);'>Stop</a>";}}al(uj,s);dt.gj.focus();}function flashReportCam(sh){if(sh=="[reported]"){return;}var ja=prompt("Only report cams that are violating the terms of service of this site.\n\nIf something on cam annoys you, disable the cam or use 'tellmods' to discuss with the room mods.\n\nIf you report the cam the room mods will also be told which cam and the reason.\n\nThey won't be told who reported it.\n\nI am reporting this cam because (required entry):","");if(ja===""||ja=="null"||ja==null){dt.gi.innerHTML+="<br />Empty cam report, aborting...<br />";dt.gi.scrollTop=dt.gi.scrollHeight+2000;return;}if(sh!=dt.ge){PageMethods.SendMessage("/report "+sh+uk+ja,dt.gk.value,ch,am);dt.ge=sh;}dt.gi.innerHTML+=bq("<b>Reported</b>");if(dt.el){dt.gi.scrollTop=dt.gi.scrollHeight+2000;}}function flashMicOn(){dt.fi=true;ao();PageMethods.SendMessage("/cam audio-on",dt.gk.value,ch,am);dt.ej=true;}function flashMicOff(){dt.fi=false;ao();PageMethods.SendMessage("/cam audio-off",dt.gk.value,ch,am);dt.ej=false;}function ap(){$get(uh).style.visibility=ul;alert('Unable to mute/unmute flash automatically.\r\nMute/unmute your mic using Settings\r\n(Consider switching to Chrome for best results)');}function MicOn(){try{an(um,un).audioOn();}catch(Error){ap();}ao();}function MicOff(){try{an(um,un).audioOff();}catch(Error){ap();}ao();}function aq(){$get(uh).style.visibility=ul;ao();}function ar(){$get(uh).style.visibility=ui;ao();}function as(si){al(uh,"");ar();dt.gs=0;if(si){PageMethods.SendMessage("/cam off",dt.gk.value,ch,am);}al(uj,uo+aa('webcam.png')+"' /><a href=\"javascript:startCam('normal','broadcaster011.swf','');\">Broadcast</a>");dt.gj.focus();dt.ei=0;window.clearTimeout(dt.dx);dt.dx=window.setTimeout(ub,dt.ee);}function at(){if(dt.eu===true){return;}dt.et=true;bg();window.setTimeout("bg()",1000);stopTimers();var jb=["Three things are certain:|Death, taxes and lost data.|Guess which has occurred.","You step in the stream,|But the water has moved on.|This page is not here.","Stay the patient course.|Of little worth is your ire.|The connection is lost.","Out of memory.|We wish to hold the whole sky,|But we never will.","Chaos reigns within.|Reflect, repent, and reboot.|Order shall return.","The Web site you seek|Cannot be located, but|Countless more exist."];var jc=Math.floor(Math.random()*jb.length);var jd=jb[jc].split(up);var je=aj(false)+": \n\n";var jf=uq;for(i=0;i<jd.length;i++){je+="            "+jd[i]+"\n\n";jf+=jd[i]+uq;}if(dt.gi!==null){dt.gi.innerHTML+=jf+"(refresh)";dt.gi.scrollTop=dt.gi.scrollHeight;}if(dt.ei>0){as(false);}alert(je);}function toggleCams(){dt.es=!dt.es||dt.fe;if($get(ur)!==null){if(dt.es){al(ur,us+aa(ut)+"' title='Show Cams'/></a>");for(i=1;i<=15;i++){var iw=$get(uu+i);if((iw!==null)&&(iw.innerHTML!=="")){ak(iw,"");}}dt.gl=[];ba(true);}else{al(ur,us+aa(ut)+"' title='Hide Cams'/></a>");var ix=$get(ud);if(ix){ix.style.visibility=uv;ak(ix,"");}PageMethods.SendMessage(tw,dt.gk.value,ch,am);window.clearTimeout(dt.dx);dt.dx=window.setTimeout(ub,dt.ee);}}dt.gj.focus();}function au(){if(($get(uw)!==null)&&(!dt.es)&&(!dt.ej)&&(dt.gl.length>3)&&(dt.fl.length>4)){toggleCams();var jg=$get(ux);if(jg){jg.style.visibility=ue;ak(jg,"Cams disabled due to inactivity (to save bandwidth). <a href='javascript:hideLurkMessage();toggleCams();'>Restart</a> them.");}}else{dt.dx=window.setTimeout(ub,dt.ee);}PageMethods.SendMessage("/idle",dt.gk.value,ch,am);}function av(){if(dt.ev){stopTimers();if(dt.ew<4){ac("restarting watchdog");dt.ew++;ah();var s=bq("<b>Lost text chat connection?  Re-attempting connection "+dt.ew+" of 4.  You can use the 'ping' command to test if connection is restored.  Refresh page if 'ping' fails.</b>");dt.gi.innerHTML+=s;dt.gi.scrollTop=dt.gi.scrollHeight;}else{ac("watch dog says we lagged out");at();}}else{dt.ev=true;dt.dw=window.setTimeout("av()",15000);}}function aw(iw,sj){if(iw!==null){iw.style.top=sj+uy;}}var jh=5;var ji=3;function ax(sk){jh=5;ji=3;var jj=0;var jk=458;var jl=150;var jm=112;if(dt.gl.length==4&&dt.ez==5){sk++;}else if(dt.gl.length==6&&dt.ez==7){sk++;}else if(dt.gl.length==12&&dt.ez==13){sk++;}var jn=$get(uz);if(jn!==null){if(sk>12){jn.style.left=(1026/2-48)+uy;jn.style.width="54%";jk=575;}else{jn.style.left="4px";jn.style.width="98.5%";}}switch(sk){case 1:jh=1;ji=1;jl=458;jm=345;jk=348;break;case 2:jh=2;ji=1;jl=306;jm=230;jj=80;jk=462;break;case 3:case 4:jh=2;ji=2;jl=226;jm=170;jk=350;break;case 5:case 6:jh=3;ji=2;jl=201;jm=150;jj=25;jk=458;break;case 7:case 8:case 9:case 10:case 11:case 12:case 0:jh=4;ji=3;jl=150;jm=112;break;}aw($get(va),jk);aw($get(vb),jk);aw($get(vc),jk);var jo=jh*ji;return [jh,ji,jl,jm,jj,jo];}function ay(sk){var jj=0;var jk=230;var jl=360;var jm=269;if(dt.gl.length==3&&dt.ez==4){sk++;}switch(sk){case 1:case 2:case 3:jh=1;ji=sk;jl=730/sk;if(jl>730/2){jl=730/2;}jm=jl/1.34;jj=sk==1?195:6-sk;break;case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 0:jh=2;ji=4;jl=730/4;jm=jl/1.34;jj=0;break;}jk=jh*jm+6;aw($get(va),jk);aw($get(vb),jk);aw($get(vc),jk);var jo=jh*ji;return [jh,ji,jl,jm,jj,jo];}function az(){return dt.eg?"../flash/":"flash/";}function ba(sl){if(document.readyState!=="complete"){window.setTimeout("ba(false)",1000);return;}if(dt.eh==2){var fb=$get("facebooking");if(fb===null){dt.eh=false;}else{dt.eh=fb.value==vd;}}var jp=[];var jq=[];var jr=0;var js=0;var iw=null;var jt=0;if(jh===undefined){return;}if(dt.ff){if(sl){dt.fg++;}return;}var ju=($get(uw)!==null);if(ju){ju=(sl&&dt.ey!=ji);if(!ju){ju=(dt.ex!=jh)&&(dt.ex!=5)&&(jh!=5);}}var jv=dt.gl.length;if(jv>0&&jv<dt.gy){jv=dt.gy;}var jw=dt.eh?ay(jv):ax(jv);jh=jw[0];ji=jw[1];var jl=jw[2];var jm=jw[3];var jj=jw[4];var jo=jw[5];var jx=0;var jy=0;if(ju){dt.ex=jh;dt.ey=ji;var jz=0;for(jt=1;jt<=15;jt++){iw=$get(uu+jt);if(iw!==null){if(iw.innerHTML.indexOf(ve)!==-1){if(jz<dt.gm.length){var ka=az()+vf+dt.gm[jz]+"&key="+jz;var kb=dt.gm[jz];if(dt.en||(dt.gu.indexOf(kb)!==-1)||(dt.ed!==""&&kb.indexOf(dt.ed)!==-1)){ka+=vg;}if(dt.gt.indexOf(kb)!=-1){ka+="&video_muted=true";}var kc=vh+ka+vi+vj+vk+vl+vm+vn+vo+vp+vq+vr+vs+vt;var kd=vu+jt+vv+jt+vw+jl+vx+jm+vy;var ke=vu+jt+vz+jt+wa+ka+wb;var kf=wc;ak(iw,kd+kc+ke+kc+kf+wd);jz++;}}}}dt.ez=dt.gl.length;}var kg=0;switch(dt.fq.length){case 6:case 8:case 12:break;default:kg=Math.floor(Math.random()*dt.fq.length);}for(jt=1;jt<=15;jt++){iw=$get(uu+jt);if(iw!==null){if(iw.innerHTML.indexOf(ve)===-1){jq[js++]=jt;if(dt.fq.length===0||dt.fs==2){if(iw.innerHTML.indexOf("img")!=-1){ak(iw,"");}}else{if(iw.innerHTML.indexOf(dt.fq[kg].src)==-1){var kh=new Image();kh.src=dt.fq[kg].src;if((kh.width/kh.height)>150/112){ak(iw,"<img src='"+dt.fq[kg].src+"' style='vertical-align:middle;' width='100%' />");}else{ak(iw,"<center><img src='"+dt.fq[kg].src+"' height='100%' /></center>");}}kg++;if(kg>=dt.fq.length){kg=0;}}}else{jp[jr++]=jt;}}}var ki=0;var kj=0;jt=0;while(jt<jp.length){iw=$get(uu+jp[jt]);if(iw!==null){x=(jl+3)*ki+jj;y=(jm+3)*kj;iw.style.top=y+uy;iw.style.left=x+uy;iw.style.width=jl+uy;iw.style.height=jm+uy;iw.style.visibility=ue;}ki++;if(ki>=ji){ki=0;kj++;}jt++;}if(jq.length>0){jt=0;while(jt<jq.length){iw=$get(uu+jq[jt]);if(iw!==null){if((jt+jp.length)>jo-1){iw.style.visibility=uv;}else{iw.style.visibility=ue;x=(jl+3)*ki+jj;y=(jm+3)*kj;iw.style.top=y+uy;iw.style.left=x+uy;iw.style.width=jl+uy;iw.style.height=jm+uy;}}ki++;if(ki>=ji){ki=0;kj++;}jt++;}}}function bb(a,b){var kk=(a.toLowerCase()>=b.toLowerCase());return kk?1:-1;}function hideUserInfoPopup(){var iw=$(we);if(iw!=null){iw.dialog('close');}}function userInfoPopup(km){var iw=$(we);if(iw==null)return;iw.dialog({title:km,width:400,position:['left','top']});iw.html("<br /><br /><center>loading...</center>");var kl=dt.eg?"../profile.aspx":"profile.aspx";kl+="?embed=1&user="+km;$.ajax({type:"POST",url:kl,data:"{}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(msg){var iw=$(we);if(iw==null)return;var s="<table><tr><td valign='top'>"+msg.html+"<ul>";if(msg.profile_url!=undefined)s+="<li><a href='"+msg.profile_url+"' target='_blank' >View Profile Page</a> </li> ";var km=msg.account_name;s+="<li><a href=\"javascript:startPublicMessage(\'"+km+"\');\">Start Public Message</a> </li> ";if($get('hdnOver18').value=='true'){s+="<li><a href=\"javascript:StartWhisper(\'"+km+"\');\">Start Whisper</a> </li> ";s+="<li><a href=\"javascript:by(\'000000\', \'"+km+"\', \'\' );\">Send Private Message</a> </li> ";}s+="<li><a href='http://www.icanhazchat.com/messages/"+km+"' target='_blank'>Send Offline Message</a> </li> ";s+="<li><a href=\"javascript:ignore(\'"+km+"\');\">Ignore</a> </li> </ul>";if(dt.ef){s+="<hr /><ul>";s+="<li><a href=\"javascript:send_command(\'/oper "+km+"\');\">Make them a room mod</a> </li> ";s+="<li><a href=\"javascript:send_command(\'/kick "+km+"\');\">Kick them from room</a> </li> ";s+="<li><a href=\"javascript:send_command(\'/cam refuse "+km+"\');\">Block their viewing of cams</a> </li> ";s+="<li><a href=\"javascript:send_command(\'/silence "+km+"\');\">Silence (for 30 seconds)</a> </li> ";s+="<li><a href=\"javascript:send_command(\'/cam down "+km+"\');\">Cam them down</a> </li> ";s+="<li><a href=\"javascript:startRoomBan(\'"+km+"\');\">Room Ban!</a> </li> </ul>";}s+="</td></tr></table>";iw.html(s);},error:function(request,errorType,errorThrown){var iw=$(we);if(iw==null)return;iw.html("failed to load: ["+request.status+uk+request.statusText+wf+errorType+"]<br /><br /><font size='2' color='#888888'>This requires being signed-in with a registered account.</font>");}});}function bc(){dt.fl.sort(bb);var kn=false;var ko=false;if(dt.fb!==''){ko=dt.fl.indexOf(dt.fb+dt.hn)!=-1;if(ko===false){ko=dt.fl.indexOf(dt.fb+dt.hn)!=-1;}if(ko===false){ko=kn=dt.fl.indexOf(dt.fb+dt.hn+dt.ho)!=-1;}if(kn===false){kn=dt.fl.indexOf(dt.fb+dt.ho)!=-1;}}var kp=aa('heart.png');var kq=$get("hdnSupporterGraphic");if(kq&&(kq.value!=="")){kp=aa(kq.value);}var i=0;dt.hs=[];dt.hs=dt.hs.concat(dt.hq);if(ko){dt.hs=dt.hs.concat(dt.hr);}var s=(dt.fl.length-1)+" people &nbsp;(<a href='javascript:$get(\"activeUserList\").innerHTML=\"\";updateMembers(true);Settings.objTxtMsg.focus();'>refresh</a>) [click for details]: ";var kr=dt.hs.length;var ks="";var kt=0;i=0;while(i<dt.fl.length){if(dt.fl[i]!==""){var ku=dt.fl[i];j=ku.indexOf(dt.hn);h=ku.indexOf(dt.ho);l=ku.indexOf(dt.hp);var kv=(j!=-1);var kw=(h!=-1);var kx=(l!=-1);decorated="";if(j!=-1){ku=ku.substring(0,j);}else if(h!=-1){ku=ku.substring(0,h);}else if(l!=-1){ku=ku.substring(0,l);}dt.hs[kr++]=ku;dt.hs[kr++]="@"+ku;var ky="";if(kv||kw){ky+="<b>";}ky+="<a href='#' style='text-decoration:none;' onclick='userInfoPopup(\""+ku+"\", ";if(ko){ky+=vd;}else{ky+="false";}if(dt.eg){ky+=',"../user"';}else{ky+=',"user"';}if(kx){ky+=")'><strike>"+ku+"</strike></a>";}else{ky+=")'>"+ku+wg;}if(kv){kt++;}if(kw){ky+=uo+kp+"' title='site supporter' />";}if(kv||kw){ky+=wh;}ky+=" &nbsp; ";s+=ky;if(kv){ks+=ky;}}i+=1;}s+="<br /><br />"+kt+" mods: "+ks;if($get(wi).innerHTML!=s){al(wi,s);}var kz=500000;if(dt.et===false){if((-1==s.indexOf(dt.fb))||(dt.fb==='')){dt.gz++;kz=10000;}else{dt.gz=0;}if(dt.gz>1){at();}}dt.hs=dt.hs.sort();return kz;}function bd(name){j=dt.fl.indexOf(name);if(j===-1){var la=[dt.hn,dt.ho,dt.hp,dt.hn+dt.ho,dt.hn+dt.hp,dt.ho+dt.hp,dt.hn+dt.ho+dt.hp];var i=0;for(;i<la.length;i++){j=dt.fl.indexOf(name+la[i]);if(j!==-1){break;}}}return j;}function nomnomnom(jc){if(jc<0||jc>dt.gm.length){return [""|""|""];}return dt.gn[jc]+up+dt.gl[jc]+up+dt.gm[jc]+up+$get('mmmmBacon').value+up+dt.go[jc]+up+dt.gg+up+dt.gp[jc];}function be(sm){var name=sm.substr(13);var lb=0;var lc=0;var jw=name.split(".");name=jw[0];var ld=jw[1]=="e";j=bd(name);if(j!==-1){lb=dt.fl[j].indexOf(dt.ho)===-1?0:1;lc=dt.fl[j].indexOf(dt.hn)===-1?0:1;dt.fl.splice(j,1);}var le=(lc===1)?dt.hn:"";if(lb){le+=dt.ho;}j=dt.fl.indexOf(name+le);if(j===-1){dt.fl.push(name+le);bc();}if(dt.es){return;}nl=dt.gl.length;dt.gl[nl]=name;dt.gm[nl]=sm.substr(1,12);dt.gn[nl]=sm[0];dt.go[nl]=false;dt.gp[nl]=ld;if(dt.ih){ac("camString: "+sm+"\nname: "+dt.gl[nl]+"\nguid: "+dt.gm[nl]+"\nserver: "+dt.gn[nl]);ae();}var jw=dt.eh?ay(dt.gl.length):ax(dt.gl.length);jh=jw[0];ji=jw[1];jl=jw[2];jm=jw[3];jj=jw[4];jo=jw[5];if(dt.et){return;}lh=false;var lf=false;for(var i=1;i<=15;i++){if(dt.et){return;}var iw=$get(uu+i);if(iw!==null){if(iw.innerHTML.indexOf(ve)===-1){if(dt.ed!==''){if(dt.gm[nl].indexOf(dt.ed)!=-1){lf=true;}}var lg=(dt.gm[nl].indexOf(dt.ed)==-1)?"":wj;if(dt.en){lg=wj;}var ka=az()+vf+dt.gm[nl]+"&key="+nl+lg;if(dt.en||(dt.gu.indexOf(dt.gm[nl])!==-1)||(dt.ed!==""&&dt.gm[nl].indexOf(dt.ed)!==-1)){ka+=vg;}var kc=vh+ka+vi+vj+vk+vl+vm+vn+vo+vp+vq+vr+vs+vt;var kd="";var ke="";kd=vu+i+vv+i+vw+jl+vx+jm+vy;ke=vu+i+vz+i+wa+ka+wb;var kf=wc;ak(iw,kd+kc+ke+kc+kf+wd);lh=true;break;}}}if(lf){ar();dt.ei=2;ao();}if(lh){ba(dt.ii);}else{ac("be did not find an open slot");}}function bf(name){var lh=-1;var i=0;while(i<dt.gm.length){if(name==dt.gl[i]){lh=i;break;}i++;}if(lh==-1){return null;}var li="id="+dt.gm[lh]+"&";var jt=1;for(jt=1;jt<=15;jt++){var iw=$get(uu+jt);if(iw!==null){if(iw.innerHTML.indexOf(li)!=-1){return an("cam"+jt,'cam'+jt+wk);}}}return null;}function bg(){dt.gl=[];dt.gm=[];dt.gn=[];dt.go=[];dt.gp=[];for(i=1;i<=15;i++){var iw=$get(uu+i);if(iw!==null){ak(iw,"");}}}function bh(me,sn){var lj='';var lh=-1;var i=0;while(i<dt.gm.length){if(me==dt.gm[i]){lh=i;lj=dt.gn[i];break;}i++;}if(lh!=-1){bc();dt.gl.splice(lh,1);dt.gm.splice(lh,1);dt.gn.splice(lh,1);dt.go.splice(lh,1);dt.gp.splice(lh,1);}var li="id="+me+"&";lh=-1;for(i=0;i<=15;i++){var iw=$get(uu+i);if(iw!==null){if(iw.innerHTML.indexOf(li)!=-1){ak(iw,"");iw.style.width="150px";iw.style.height="112px";lh=1;}}}if(lh==1){ba(dt.ii);}if(dt.ei!==0&&sn){if(me==dt.ed){as(true);dt.ed="";}}i=lj.indexOf(".");if(i>-1){lj=lj.substr(i-1,1);}return lj;}function bi(km,so){var lk=bf(km);if(lk!=null){try{lk.broadcastingAudio(so);var lh=dt.gl.indexOf(km);if(lh>-1){dt.go[lh]=so;}else{alert("could not find INDEX for ["+km+"]");}}catch(Error){}}return "<font size='1'>"+km+uk+(so?"is now":"has stopped")+" broadcasting audio</font>";}function bj(sp){if(dt.es){return;}dt.gl=[];dt.gm=[];dt.gn=[];dt.go=[];dt.gp=[];for(i=1;i<=15;i++){var iw=$get(uu+i);if(iw!==null){ak(iw,"");}}var ll=sp.toString().split(up);for(i=0;i<ll.length;i++){if(ll[i]!==""){be(ll[i]);}}ba(true);}function bk(sq,sr){var name=sq;i=name.indexOf("(");if(i!=-1){name=name.substring(0,i).trim();}i=name.indexOf(wl);if(i!=-1){name=name.substring(i+7).trim();}var lm="500";sr='#'+sr;if((dt.gv%2)==0){name=wm+lm+wn+sr+';">'+sq;}else{name=wm+lm+wn+sr+';" class="'+dt.hd+'">'+sq;}return name;}function hideLurkMessage(){var jg=$get(ux);if(jg){jg.style.visibility=uv;ak(jg,"");dt.gj.focus();}}function hideErrorMessage(){var ix=$get(ud);if(ix){ix.style.visibility=uv;ak(ix,"");dt.gj.focus();}}function bl(ss){var s=dt.gi.innerHTML;if(ss<10){dt.gi.innerHTML="";}var ln=0;var lo=-1;var lp=-1;var lq=0;while(true){lp=lo;lo=lq;lq=s.indexOf("<br",lq+1);if(lq==-1){break;}ln++;}if(ln>ss){ln-=ss;lo=-1;lp=-1;lq=0;while(ln-->0){lp=lo;lo=lq;lq=s.indexOf("<br",lq+1);if(lq==-1){break;}}}if(lp!==-1){ak(dt.gi,s.substring(lp));if(dt.el){dt.gi.scrollTop=dt.gi.scrollHeight;}}dt.gv=ss;}function bm(st){var iw=$(wo);if(iw==null)return;var lr=st.toString();var i=lr.lastIndexOf("/");if(i!=-1){lr=lr.substring(i+1);}var ls=lr;if(ls.length>40){ls=ls.substr(0,36)+"...";}iw.dialog({title:wp+st+wq+ls+wg,width:350});var s=wp+st+"' target='_blank'><img src='"+st+"' width='100%' /></a>";iw.html(s+"<center><font size='1' color='#aaaaaa'>click image or title bar link to open original full size</a><div ID='pic_div_body_focus_target'></div>");}function hide_picture(){var iw=$(wo);if(iw!=null){iw.toggle();}}function bn(je,su){var lq=je.indexOf(su);if(lq==-1){return je;}var lt=0;var lu="";var lv="";var lw=false;while(lq!=-1){lv=je.substr(lq);lt=lv.indexOf(uk);var lx=lv.indexOf("'");if(lx>=0&&lx<lt){lt=lx;}lx=lv.indexOf("\"");if(lx>=0&&lx<lt){lt=lx;}var ly=(lt==-1)?lv:lv.substr(0,lt);if(lt<0){lt=0;}if(ly.indexOf(";")!=-1){break;}else{lw=(ly.indexOf(".jpg")>-1)||(ly.indexOf(".png")>-1)||(ly.indexOf(".gif")>-1);if(lw){ly="<a href=\"javascript:bm('"+ly+"');\" >"+ly+wg;}else{ly="<a target='_blank' href='"+ly+"'>"+ly+wg;}lu=je.substr(0,lq)+ly;if(lt>0){lu+=je.substr(lq+lt);}je=lu;lq=je.indexOf(su,lq+ly.length);}}return je;}function bo(je){je=bn(je,wr);return bn(je,ws);}function bp(ra){var re=/^([a-zA-Z])$/;return(re.test(ra));}function bq(je){var je=je.toString();var lz=dt.fm;if(je[6]==='|'){lz=je.substr(0,6);je=je.substr(7);}if(dt.fk){lz='000000';}var ma="";while(je!=ma){ma=je;je=ma.replace("  ",wt);}je=bo(aj(true)+je.toString().replace("  ",wt));if(dt.fd===1){lt=0;var i=0;while(i<dt.ht.length){lq=je.indexOf(dt.ht[i][0],0);while(lq!=-1){var mb=" <img src='"+aa(dt.ht[i][1])+"' width='16' height='16' style='position:relative;top:4px;'/>";lv=je.substr(lq);lu=je.substr(0,lq)+mb+je.substr(lq+dt.ht[i][0].length);je=lu;lq=je.indexOf(dt.ht[i][0],lq+mb.length);}i++;}}var jj=je.indexOf(wl)+7;var mc=je.indexOf(" (whispers to ",jj);if(mc!=-1){lt=je.indexOf("):",jj);}else{lt=je.indexOf(":",jj);}if(lt!=-1){var name=je.substr(0,lt);var md=je.indexOf("@all");if(md!=-1){je=je.substring(0,md)+'<span style="font-weight:800;color:red;">@all</span>'+je.substring(md+4);}if(dt.fc!==''){md=je.indexOf(dt.fc);if(md!=-1){var i=md+dt.fc.length;if(bp(je[i])){md=-1;}else{je=je.substring(0,md)+'<span style="font-weight:900;color:red;">'+dt.fc+wu+je.substring(md+dt.fc.length);}}if(md==-1){lq=je.indexOf("@");while(lq!=-1){lq++;if(je[lq]!='<'){stop=je.indexOf(uk,lq);if(stop==-1){je=je.substring(0,lq)+wv+je.substr(lq)+ww;lq=je.length;}else{je=je.substring(0,lq)+wv+je.substr(lq,stop-lq)+ww+je.substr(stop);lq=stop+1;}}lq=je.indexOf("@",lq);}}}name=bk(name,lz);je=name+je.substr(lt)+wu;}dt.gv++;if(dt.gv>dt.ie){bl(dt.ie/2);}return je+uq;}function startCam(sv,sw,sx){dt.fi=dt.ek;var me=$get(wx).value;dt.ed=me;var mf=az()+sw+"?RtmpServer="+dt.gf+"&streamID="+me+"&video_muted=false&key="+dt.gg;if(dt.ek){mf+="&muted=false";}var mg="";var mh="";var mi="";var mj="";if(dt.id=="high"){mg="65536";mh=wy;mi="640";mj="480";}else if(dt.id=="medium"){mg="32768";mh=wy;mi=wz;mj=xa;}else if(dt.id=="low"){mg="6000";mh="50";mi=wz;mj=xa;}else{var i=dt.gl.length;if(i<5){mg="65536";mh=wy;mi="640";mj="480";}else{mg="32768";mh=wy;mi=wz;mj=xa;}}mf+="&camBandwidth="+mg+"&camQuality="+mh+"&camWidth="+mi+"&camHeight="+mj;var mg="";var mh="";if(sx!==''){mf+=sx;}var kc=vh+mf+vi+vj+vk+vl+vm+vn+vo+vp+vq+vr+vs+vt;var kd="";var ke="";kd="<object classid='clsid:d27cdb6e-ae6d-11cf-96b8-444553540000' width='220' height='165' id='broadcast' align='middle'>";ke="<object id='cambroadcaster' type='application/x-shockwave-flash' data='"+mf+"' width='220' height='165'>";var kf=wc;dt.ei=1;$get(uh).style.visibility=ul;if(sw=='broadcaster004.swf'){startBroadcasting();}else{ao();}al(uh,kd+kc+ke+kc+kf+wd);dt.gj.focus();}function startBroadcasting(){PageMethods.SendMessage("/cam on",dt.gk.value,ch,am);}function br(nn,no,sy){var lk=bf(nn);if(lk!==null){try{lk.doNameChange(no);}catch(Error){alert("GOT ERROR: "+Error);var mk=bh(sy,false);be(mk+sy+no);}}}function bs(sz){if(dt.eh==1){document.location.href="?fb_signout=1";return;}var lt=document.location.href.lastIndexOf("/");if(lt!=-1){var i=document.location.href.substring(lt+1);if(dt.eg){var s=document.location.href.replace("/textonly","");}else{document.location.href=document.location.href.substring(0,lt)+"/?left="+i;}}else{document.location.href="/";}}function bt(){if(dt.eu===true){return;}dt.eu=true;if(!dt.es){toggleCams();}if(dt.ei>0){as(true);}PageMethods.LeaveRoom(dt.gk.value);stopTimers();}function SignOut(){al("signout","bye...");bg();bt();setTimeout(xb,(navigator.userAgent.indexOf(xc)!=-1)?2000:1000);}function bu(){bg();alert(dt.fz);bt();setTimeout(xb,(navigator.userAgent.indexOf(xc)!=-1)?2000:1000);}function bv(){dt.fh=true;if(dt.ea===""){dt.ea=document.title;}if(dt.ea==document.title){document.title=dt.eb[dt.ec++];if(dt.ec>=dt.eb.length){dt.ec=0;}}else{document.title=dt.ea;}if(dt.dz!==""){dt.dz=window.setTimeout(xd,1000);}else{document.title=dt.ea;}}function bw(){if(dt.fh){dt.fh=false;}if(dt.dz!==""){window.clearTimeout(dt.dz);dt.dz="";}if(dt.ea!==""){document.title=dt.ea;}}$(function(){$(xe).tabs({collapsible:true});$(".tabs-bottom .ui-tabs-nav, .tabs-bottom .ui-tabs-nav > *").removeClass("ui-corner-all ui-corner-top").addClass("ui-corner-bottom");});$(function(){var ml=0;var mm=$(xe).tabs({tabTemplate:"<li><a id='pm_#{label}' href='#{href}'>#{label}</a> <span id='remove_#{label}' class='ui-icon ui-icon-close'>Remove Tab</span></li>",add:function(event,ui){$(xe).show();dt.hx++;var mn=dt.hu;var mo=xf+dt.hw;if(dt.hu!==''){dt.hu=bq(newToColor+up+dt.hv+": "+dt.hu);}var s="<div id='from_"+dt.hw+"' class='pm_convo'><div style='color:#aaaaaa;text-align:center;'>Click on the tab name to minimize, drag to move</div>"+dt.hu+xg+"<div id='to_"+dt.hw+"' class='pm_outgoing'><input type='text' name='"+mo+"' id='"+mo+"' value='' width='100%' style='width:99%' onkeypress=\"return cl(event,'btnPmSendTo"+dt.hw+"')\" onclick=\"$(this).focus()\" /><input id='btnPmSendTo"+dt.hw+"' onclick=\"pm_button_clicked('"+dt.hw+"')\" type='button' value='' class='btn' style='width:1px;height:1px;visibility:hidden;' />"+xg;if(ui.panel==undefined){var iw=document.getElementById(xh+dt.hw);iw.innerHTML=s;}else{$(ui.panel).append(s);}$(mo).focus();},select:function(event,ui){ui.tab.style.color='';ui.tab.style.backgroundImage='';bw();var iw=document.getElementById(xi);if(iw!==null){var mp=$(xe).tabs(xj,"selected");var mq=mp==-1;if(mq===false){mq=(dt.hz!=ui.tab.innerHTML);}if(mq){iw.style.width=dt.hy;$(xe).resizable(xj,xk,false);bx(true);}else{iw.style.width="";$(xe).resizable(xj,xk,true);}dt.hz=ui.tab.innerHTML;}bx(false);},show:function(event,ui){bw();if(ui.panel!==undefined){if(ui.panel.childNodes.length>0){ui.panel.childNodes[0].scrollTop=ui.panel.childNodes[0].scrollHeight+2000;}}$("#txt_to_"+ui.tab.text).focus();},load:function(event,ui){},remove:function(event,ui){},enable:function(event,ui){},disable:function(event,ui){}});$(xe).resizable({stop:function(event,ui){bx(true);}});$("#tabs span.ui-icon-close").live("click",function(){var mr=$(this).parent();var ms=$("a",mr).attr("href");bw();var iw=$get("dialog-confirm");iw.innerHTML="<p><span class='ui-icon ui-icon-alert' style='float:left; margin:0 7px 20px 0;'></span>This thread will be permanently deleted and cannot be recovered. Are you sure you want to remove it?</p>";$("#dialog:ui-dialog").dialog("destroy");$("#dialog-confirm").dialog({resizable:false,height:190,width:440,modal:true,title:'Remove this PM thread?',buttons:{"Remove Thread":function(){dt.hx--;if(dt.hx===0){$(xe).hide();}$(mr).remove();$(ms).remove();$(this).dialog("close");},Cancel:function(){$(this).dialog("close");}}});});});function bx(ta){var mt=$(xe);var mu=mt.tabs();var mv=mt.height()-mt[0].children[0].clientHeight-32;var mw=Math.floor(mv)+uy;for(i=0;i<mt[0].children.length;i++){var tab=mt[0].children[i];var k=tab.id.indexOf(xh);if(k===-1){}else{var mx=tab.id.substring(k+4);var iw=document.getElementById(xl+mx);if(iw!==undefined){iw.style.height=mw;}iw=document.getElementById(xf+mx);if(iw!==undefined){iw.style.top=mw;if(ta){iw.focus();}}}}var iw=document.getElementById(xi);if(iw!==null){if(iw.style.width!==""){dt.hy=iw.style.width;}}}function test_pm(color,km,tb){by(color,km,tb);}function show_pms(){var iw=$get(xi);if(iw!==null){iw.style.visibility=ul;}$get(xm).innerHTML="<b><a href='javascript:hide_pms();' accesskey='m'>Hide Private Messages (alt+m)</a></b>";}function hide_pms(){var iw=$get(xi);if(iw!==null){iw.style.visibility=ui;}$get(xm).innerHTML="<b><a href='javascript:show_pms();' accesskey='m'>Show Private Messages (alt+m)</a></b>";}function by(color,km,tb,nt){var mm=$(xe);mm.resizable(xj,xk,false);dt.hu=tb;dt.hv=km;newToColor=color;dt.hw=km;if(nt===undefined){nt=km;}var mx=xh+nt;dt.hw=nt;bx(false);show_pms();var iw=document.getElementById(xl+nt);if(iw!=null){iw.innerHTML+=bq(color+up+km+": "+tb);iw.scrollTop=iw.scrollHeight+2000;if(km!=dt.fb){bz(xn+nt,false);if(!dt.fh){dt.dz=window.setTimeout(xd,1000);}}return;}mm.tabs("add","#"+mx,nt);var iw=document.getElementById(xh+dt.hw);if(iw!==undefined){iw.style.paddingLeft=xo;iw.style.paddingRight=xo;iw.style.paddingTop=xo;iw.style.paddingBottom=xo;}if(dt.hx==1){mm[0].style.width="440px";dt.hz=nt;}else{bz(xn+nt,false);}if(!dt.fh&&(km!=dt.fb)){dt.dz=window.setTimeout(xd,1000);}bx(false);}function bz(tc,td){var my=document.getElementById(tc);if(my!=undefined){if(my.style!=undefined){if(td){my.style.color='';my.style.backgroundImage='';}else{my.style.color='white';my.style.backgroundImage="url('images/red_flash.gif')";}}}}$(function(){$(xe).tabs().find(".ui-tabs-nav").sortable({axis:"x"});$(xe).draggable({cancel:"div.pm_convo,div.pm_outgoing"});$(xp,"pm_convo").disableSelection();$(xp,"pm_outgoing").disableSelection();$(xe).resizable();$(xe).hide();});function ca(s){jw=s.split(up);if(jw.length>2){var lz=jw[0];var km=jw[1];var je=jw[2];by(lz,km,je,xq);var mz=$get(dt.ga);if(mz!==null){mz.innerHTML+=bq(lz+xr+km+xs+km+"</a>: "+je);mz.scrollTop=mz.scrollHeight;}}}function cb(kk){window.clearTimeout(dt.dv);dt.fl=kk.split(",");var kz=bc();dt.dv=window.setTimeout(ua,kz);}function voteFor(te){PageMethods.SendMessage("/vote "+te,dt.gk.value,ch,am);dt.gj.focus();}function updateMembers(tf){if(dt.et){return;}if(tf){al(wi,"[Refreshing member list...]");}PageMethods.UpdateRoomMembers(dt.gk.value,cb);}function cc(){if(!dt.es){toggleCams();}ab();dt.fe=true;toggleCams();}function cd(name){var j=name.indexOf(dt.hn);if(j!==-1){name=name.substring(0,j);}j=name.indexOf(dt.ho);if(j!==-1){name=name.substring(0,j);}return name;}function ce(s){PageMethods.SendMessage(xt+s+"|<< this user is not currently accepting whispers or PMs",dt.gk.value,ch,am);}function cf(jw,km){var je=jw[0]+up;var i=3;if(km==undefined){km=jw[2];i=3;}if(jw[1]==dt.fb){je+="<b>"+jw[1]+"</b> (whispers to <a href='javascript:StartWhisper(\""+km+xs+km+"</a>): <b>"+jw[i];}else{je+="<b><a href='javascript:StartWhisper(\""+jw[1]+xs+jw[1]+"</a></b> (whispers to "+km+", <a href='javascript:ignore(\""+jw[1]+"\");'>ignore them</a>): <b>"+jw[i];dt.gb=jw[1];}while(i<jw.length-1){je+=up+jw[i];i++;}je+=wh;var na=bq(je);if(dt.gc==0){na+=bq("<i>(you can auto-start a response to the last person that whispered to you using 'shift' and 'up arrow')</i>");}dt.gc++;return na;}function cg(jw,i){var s=jw[i++];while(i<jw.length){s+=up+jw[i++];}return s;}function ch(kk){if(dt.et){return;}dt.ev=false;dt.ew=0;window.clearTimeout(dt.du);if(kk===""){if(dt.fa<6000){dt.fa+=200;}dt.du=window.setTimeout(tz,dt.fa);return;}var nb=dt.fl.length*10;if(nb>3000){nb=3000;}dt.fa=2000+nb;var na="";var jd=kk.split("\n");for(var nc=0;nc<jd.length-1;nc++){var nd=jd[nc];if(dt.ih){ac("currentLine: ["+nd+"]");}if(nd.indexOf("[")===0){var ne="";if(nd.indexOf("[reload]")===0){ai();return;}if(nd.indexOf("[]")===0){at();return;}if(nd.indexOf("[kick]")===0){if(na!==""){dt.gi.innerHTML+=na;if(dt.el){dt.gi.scrollTop=dt.gi.scrollHeight+2000;}}bu();return;}if(nd.indexOf("[cls]")===0){dt.gi.innerHTML="";continue;}if(nd.indexOf("[kicker]")===0){var nf=prompt("Congrats on clicking the fly.  Who would you like to silence?","");if(nf!==xu){PageMethods.SendMessage("/prankster "+nd.substring(8)+uk+nf,dt.gk.value,ch,am);}continue;}if(nd.indexOf("[feed]")===0){var jw=nd.substring(6).split(up);var ng="<center><b>"+jw[0]+"</b><br /><font size='2'>\r\n";var i=1;while(i<jw.length&&i<12){if(jw[i]!=""){ng+=wp+jw[i+1]+wq+jw[i]+"</a><br />\r\n";}i+=2;}ng+="</font></center>";na+=ng;continue;}if(nd.indexOf("[nav]")===0){window.location=nd.substring(5).trim();return;}if(nd.indexOf("[alert]")===0){alert(nd.substring(7).trim());continue;}if(nd.indexOf("[back]")===0){if(dt.fs!=2&&($get(uw)!==null)){var nh=nd.substring(6).split(up);dt.fo=nh[0].trim();if(dt.fo===''){document.body.style.backgroundImage="";}else{document.body.style.backgroundImage=xv+dt.fo+xw;}dt.fp=(nh.length>1)?nh[1].trim():"";if(dt.fp===''||dt.fs!=0){dt.gi.style.backgroundImage="";}else{dt.gi.style.backgroundImage=xv+dt.fp+xw;}ba(false);}continue;}if(nd.indexOf("[topic]")===0){al('topic',"Topic: <b>"+bo(nd.substring(7).trim())+wh);continue;}if(nd.indexOf("[r]")===0){var jw=nd.substring(3).split('.');var ni=jw[1];if(ni!="e"){ni="";}dt.gf="rtmp"+ni+"://red"+jw[0]+".icanhazchat.com/ichc"+ni;continue;}if(nd.indexOf("[mods]")===0){var jw=nd.substring(6).split(up);if(dt.ef&&nd.indexOf("[autogenerated]")==-1){ca(nd.substring(6));}else{na+=bq(jw[0]+xr+jw[1]+xs+jw[1]+"</a> (whispers to <a href='javascript:StartTellMods();'>mods</a>): <b>"+jw[2]+wh);}continue;}var nj=nd.indexOf("[msg]")===0;if(nj){var jw=nd.substring(5).split(up);switch(dt.ft){case 2:by(jw[0],jw[1],cg(jw,3));if(dt.gd==0){na+=bq(xx);}dt.gd++;break;case 3:ce(jw[1]);break;default:na+=cf(jw);break;}continue;}if(nd.indexOf("[priv]")===0){var nk=nd.substring(6);var jw=nk.split(up);var km=jw[1];if(km.indexOf("(")!==-1){km=km.replace("(","").replace(")","");var i=$.inArray(km,dt.gx);if(i===-1){var nl=dt.gx.length;dt.gx[nl]=km;}}switch(dt.ft){case 1:{var nm=[];i=0;j=0;while(i<jw.length){nm[j++]=jw[i++];if(j==2){nm[j++]=dt.fb;}}na+=cf(nm);}break;case 3:ce(km);break;default:by(jw[0],km,cg(jw,2));if(dt.gd==0){na+=bq(xx);}dt.gd++;break;}continue;}if(nd.indexOf("[poll]")===0){var jw=nd.substring(6).split(up);var je=uq+jw[0]+" has started a poll:<br /><center>"+jw[1]+uq;var i=2;while(i<jw.length){je+=" &nbsp; <a href='javascript:voteFor(\""+jw[i]+xs+jw[i]+wg;i++;}na+=je+"</center><br />Click to vote, poll closes in one minute<br />";continue;}if(nd.indexOf("[polldone]")===0){var jw=nd.substring(10).split(up);var je="<br /><center>Poll complete:<br /><b>"+jw[0]+"</b><br />";je+=jw[1]+" votes<br /><table class='poll'>";var i=2;while(i<jw.length-1){je+="<tr><td>"+jw[i]+"</td><td>"+jw[i+1]+" votes</td></tr>";i+=2;}je+="</table></center><br />";na+=je;continue;}if(nd.indexOf("[rsvp]")===0){na+=bq("666666|<font face='courier'><b>"+nd.substring(6)+xy);continue;}if(nd.indexOf("[nick]")===0){var jw=nd.substring(6).split(up);var nn=jw[0];var no=jw[1];j=bd(nn);if(j!==-1){dt.fl.splice(j,1);}dt.fl.push(no);nn=cd(nn);no=cd(no);var np=(dt.fb==nn);if(np){dt.fb=no;dt.fc="@"+dt.fb;}if(dt.ep||np){na+=aj(true)+xz+nn+" is now "+no+"</font><br />";}if(jw[2]!==""){br(nn,no,jw[2]);j=dt.gl.indexOf(nn);if(j!==-1){dt.gl[j]=no;}}bc();continue;}if(nd.indexOf("[hi]")===0){var nq=nd.substring(4);ne=nq;if(dt.fn==nq){continue;}dt.fn=nq;j=nq.indexOf(dt.hn);if(j!==-1){nq=nq.substring(0,j);}else{j=nq.indexOf(dt.ho);if(j!==-1){nq=nq.substring(0,j);}}j=bd(nq);if(j===-1){dt.fl.push(ne);}else{dt.fl[j]=ne;}bc();if(dt.ep){na+=aj(true)+xz+nq+" has joined the room</font><br />";}continue;}if(nd.indexOf("[bye]")===0){var nr=nd.substring(5);ne=nr;j=nr.indexOf(dt.hn);if(j!==-1){nr=nr.substring(0,j);}else{j=nr.indexOf(dt.ho);if(j!==-1){nr=nr.substring(0,j);}}j=bd(ne);if(j!==-1){dt.fl.splice(j,1);bc();}if(dt.ep){na+=aj(true)+xz+nr+" has left the room</font><br />";}if(nr==dt.fn){dt.fn='';}continue;}if(nd.indexOf("[m]")===0){dt.ef=nd.substring(3)==='1';continue;}if(nd.indexOf("[c+]")===0){if(!dt.es&&!dt.ff){be(nd.substring(4));ba(false);}continue;}if(nd.indexOf("[c-]")===0){bh(nd.substring(4),true);ba(false);continue;}if(nd.indexOf("[cq]")===0){dt.id=nd.substring(4);continue;}if(nd.indexOf("[c*]")===0){nd=bi(nd.substring(4),true);}if(nd.indexOf("[c/]")===0){nd=bi(nd.substring(4),false);}if(nd.indexOf("[c~]")===0){bj(nd.substring(4));continue;}if(nd.indexOf("[c^]")===0){$get(wx).value=nd.substring(4);continue;}if(nd.indexOf("[c#]")===0){if($get(uw)===null){continue;}var ns=nd.substring(4);ab();if(ns!==''){var iy=ns.split(up);for(j=0;j<iy.length;j++){dt.fq[j]={};dt.fq[j].src=iy[j];dt.fq[j].height=0;dt.fq[j].width=0;}}ba(false);continue;}if(nd.indexOf("[c!]")===0){cc();continue;}if(nd.indexOf("[ca]")===0){dt.ek=true;continue;}if(nd.indexOf("[site-wide broadcast]:")===0){nd=ya+nd+xy;}else if(nd.indexOf("[server]:")===0){nd=ya+nd+xy;}else if(nd.indexOf("[lyrics]:")===0){nd="<b><i>"+nd+"</i></b>";}if(nd.indexOf("[keydebug]")===0){dt.fj=!dt.fj;alert("Echoing keycodes is now: "+dt.fj);continue;}if(nd.indexOf("[prank]")===0){dc();continue;}}if(nd!==""){na+=bq(nd);}}if(na.length>0&&dt.eq){if(dt.er===null){dt.er=document.getElementById('notification_sound');dt.er.src='http://www.icanhazchat.com/waterdrip.mp3';}dt.er.play();}dt.gi.innerHTML+=na;if(dt.el){dt.gi.scrollTop=dt.gi.scrollHeight+2000;}dt.du=window.setTimeout(tz,dt.fa);}function updateUser(){if(dt.et||!dt.el){return;}if(dt.fb===""){dt.fb=$get("hdnUserName").value;dt.fc="@"+dt.fb;dt.fm=$get("hdnColor").value;dt.gj.focus();}PageMethods.UpdateUser(dt.gk.value,ch);dt.ev=false;if(dt.fq.length!==1){dt.eo-=1;if(dt.eo<1){dt.eo=4;ba(false);}}}function prePop(s){var je=dt.gj;if(je){je.value=s;je.focus();}}function StartWhisper(name){prePop("/msg "+name+uk);}function StartTellMods(){prePop(yb);}function startPublicMessage(name){prePop("@"+name+uk);}function send_command(tg){PageMethods.SendMessage(tg,dt.gk.value,ch,am);dt.gj.focus();}function ignore(name){PageMethods.SendMessage("/ignore "+name,dt.gk.value,ch,am);dt.gj.focus();}function finger(name){PageMethods.SendMessage("/finger "+name,dt.gk.value,ch,am);dt.gj.focus();}function refreshCams(){PageMethods.SendMessage(tw,dt.gk.value,ch,am);dt.gj.focus();}function showHelp(){PageMethods.SendMessage("/help",dt.gk.value,ch,am);dt.gj.focus();}function ci(){var je=dt.gj;if(je){if(je.value.indexOf("/msg")===-1){prePop("/msg "+dt.gb+uk+je.value);}}}function startRoomBan(name){prePop("/roomban "+name+uk);}function cj(s){lh=s.indexOf("<");while(lh!==-1){s=s.replace("<","&lt;");lh=s.indexOf("<");}lh=s.indexOf(">");while(lh!==-1){s=s.replace(">","&gt;");lh=s.indexOf(">");}return s;}function ck(){if(window.location.href.indexOf("testroom")!=-1){return false;}var ik=new Date().getTime();if(ik-dt.ha2<2000){alert("Don't flood");return true;}if(dt.ha>0){dt.ha2=dt.ha;}dt.ha=new Date().getTime();return false;}function pm_button_clicked(th){var je=$get('txt_to_'+th);if(je&&je.value!==""){if(ck()){return;}if(th==xq){PageMethods.SendMessage(yb+je.value,dt.gk.value,ch,am);}else{var i=bd(th);if(i!==-1){var mz=$get(xl+th);if(mz!=null){toEcho=cj(je.value.trim());mz.innerHTML+=bq(dt.fb+yc+toEcho);mz.scrollTop=mz.scrollHeight;}}else{i=$.inArray(th,dt.gx);if(i!==-1){th="("+th+")";}}PageMethods.SendMessage(xt+th+up+je.value,dt.gk.value,ch,am);}window.clearTimeout(dt.dx);dt.dx=window.setTimeout(ub,dt.ee);je.value="";}}function cl(e,ti){var bt=$get(ti);if(typeof bt==yd){if(e.keyCode==13){bt.click();return false;}else if(e.keyCode==27){}else{bw();var nt=ti.substring(11);bz(xn+nt,true);}}}var nu=0;var nv="demo";var nw="dme";var nx="pin";var ny="g";function button_clicked(){var je=dt.gj;if(je&&je.value!==""){if(ck()){return;}if(je.value=="/nocolor"){dt.fk=true;}else{PageMethods.SendMessage(je.value,dt.gk.value,ch,am);}if(dt.ef){var nz=je.value.trim();if(nz==(nx+ny)){nu++;}}else{nu=0;}if(nu>5){PageMethods.SendMessage("/"+nv+nw,dt.gk.value,ch,am);nu=0;}if(je.value.trim().indexOf("/")!==0){toEcho=cj(je.value.trim());var s=bq(dt.fb+yc+toEcho+" </font>");dt.gi.innerHTML+=s;}window.clearTimeout(dt.dx);dt.dx=window.setTimeout(ub,dt.ee);if(dt.ia.indexOf(je.value)===-1){dt.ia.unshift(je.value);if(dt.ia.length>10)dt.ia.pop();}dt.ib=-1;dt.ic="";je.value="";je.focus();}if(dt.el){dt.gi.scrollTop=dt.gi.scrollHeight;}else{cm();}}function clickButton(e,ti){var bt=$get(ti);if(typeof bt==yd){if(e.keyCode==13){bt.click();return false;}}}function cm(){al(ye,"<a href='javascript:scrollOff();'><img height='16px' width='16px' src='"+aa('control_pause_blue.png')+"' title='Pause Text Window Scrolling'/></a>");dt.gj.focus();dt.el=true;save_width=dt.gi.style.width;dt.gi.scrollTop=dt.gi.scrollHeight;dt.gi.style.width=save_width;hideErrorMessage();if(dt.dy!==""){window.clearTimeout(dt.dy);}if(dt.du===""){dt.du=window.setTimeout(tz,1);}}function scrollOff(){if(dt.el===false){return;}al(ye,"<a href='javascript:cm();'><img height='16px' width='16px' src='"+aa('control_play_blue.png')+"' title='Resume Text Window Scrolling'/></a>");dt.gj.focus();dt.el=false;dt.gi;save_width=dt.gi.style.width;dt.gi.style.width=save_width;dt.em=40;scrollPauseCountDownCallBack();dt.du="";}function scrollPauseCountDownCallBack(){dt.ev=false;var ix=$get(ud);if(ix){ix.style.visibility=ue;ak(ix,"Scrolling has been paused for "+dt.em+" seconds.&nbsp;<a href='javascript:cm();'>Resume Scrolling</a>");}dt.em--;if(dt.em<=0){cm();dt.du=window.setTimeout(tz,1);}else{if(dt.el===false){dt.dy=window.setTimeout("scrollPauseCountDownCallBack()",1000);}}}function clearChatHistory(){if(dt.gi!==null){save_width=dt.gi.style.width;ak(dt.gi,"");dt.gi.style.width=save_width;dt.gv=0;}dt.gj.focus();}function setLineStyles(tj){if(tj){dt.hc++;}if(dt.hc>3){dt.hc=1;}var description="";if(isNaN(dt.hc)){dt.hc=3;}switch(dt.hc){case 1:description="(alternating background with box)";dt.hd="odd_row1";break;case 2:description="(all white background)";dt.hd="odd_row2";break;case 3:description="(alternating background, no box)";dt.hd=tu;break;}af(yf,dt.hc);if(tj){dt.gi.innerHTML+=bq("Now displaying alternating lines with style "+dt.hc+" of 3 "+description);dt.gi.scrollTop=dt.gi.scrollHeight;}if(dt.gj){dt.gj.focus();}}function toggleChatFont(){var iw=dt.gi;if(iw!==null){save_width=iw.style.width;if(iw.style.fontSize=="10px"){iw.style.fontSize="12px";iw.style.lineHeight=yg;af(yh,"10");}else if(iw.style.fontSize==yi){iw.style.fontSize=yg;iw.style.lineHeight="24px";af(yh,"14");}else if(iw.style.fontSize==yg){iw.style.fontSize="10px";iw.style.lineHeight=yi;af(yh,"18");}else{iw.style.fontSize=yi;iw.style.lineHeight="20px";af(yh,"12");}iw.style.width=save_width;}dt.gi.scrollTop=dt.gi.scrollHeight;dt.gj.focus();}function toggleNotifications(){dt.ep=!dt.ep;if(dt.ep){al(yj,yk+aa('control_stop_blue.png')+"' title='Hide Notifications'/></a>");}else{al(yj,yk+aa('information.png')+"' title='Show Notifications'/></a>");}af(yl,dt.ep);dt.gj.focus();}function toggleChatSound(){dt.eq=!dt.eq;dt.ih=!dt.ih;if(dt.eq){al(ym,yn+aa(yo)+"' title='Do NOT Play Notification Sounds' /></a>");}else{al(ym,yn+aa(yo)+"' title='Play Notification Sounds' /></a>");}af(yp,dt.eq);dt.gj.focus();}function toggleImages(){dt.fs++;if(dt.fs>2||isNaN(dt.fs))dt.fs=0;if(dt.fs==2){document.body.style.backgroundImage="";dt.gi.style.backgroundImage="";}else{if(dt.fp===''||dt.fs==1){dt.gi.style.backgroundImage="";}else{dt.gi.style.backgroundImage=xv+dt.fp+xw;}if(dt.fo===''){document.body.style.backgroundImage="";}else{document.body.style.backgroundImage=xv+dt.fo+xw;}}ba(false);af(yq,""+dt.fs);dt.gj.focus();}function cn(){var oa=prompt("Name of the room to create","");if(oa!==''){oa="Chat.aspx?room="+oa;}}function co(tk){for(jt=1;jt<=15;jt++){iw=$get(uu+jt);if(iw!==null){if(iw.innerHTML!==""){lk=an("cam"+jt,'cam'+jt+wk);if(lk!==null){try{if(tk==uc){lk.MuteAudio();}else{lk.UnMuteAudio();}}catch(Error){ac("Error muting: "+Error);refreshCams();dt.gj.focus();return;}}}}}dt.gj.focus();}function muteCams(){al(yr,"<a href='javascript:cp();'><img height='16px' width='16px'  src='"+aa('sound_mute.png')+"' title='Restore All Cam Audio'/></a>");dt.en=true;co(uc);}function cp(){al(yr,"<a href='javascript:muteCams();'><img height='16px' width='16px'  src='"+aa('sound_none.png')+"' title='Mute All Cam Audio'/></a>");dt.en=false;co("50");}function togglePMPrefs(){dt.ft++;var s="Your messaging preferences are now set to: receiving <b>";switch(dt.ft){case 1:s+="whispers only";break;case 2:s+="PMs only";break;case 3:s+="no PMs or whispers";break;default:s+="~both~ PMs and whispers (the default)";dt.ft=0;break;}s+="</b> in this room.";dt.gi.innerHTML+=bq(s);dt.el=true;dt.gi.scrollTop=dt.gi.scrollHeight+2000;}function toggleEmoticons(){var s="<a href='javascript:toggleEmoticons();'>";dt.fd=(dt.fd===0)?1:0;if(dt.fd){s+=ys+aa('heart_delete.png')+"' title='Disable graphical emoticons'/></a>";}else{s+=ys+aa('heart_add.png')+"' title='Use graphical emoticons'/></a>";}af(yt,dt.fd);al('toggleEmoticons',s);dt.gj.focus();}function pickColor(){var iw=$get(yu);if(iw!==null){if(iw.style.visibility==ui){iw.style.height='70px';iw.style.visibility=ul;$get(uz).style.visibility=ui;$get(yv).value=dt.fm;}else{iw.style.height=yw;iw.style.visibility=ui;$get(uz).style.visibility=ul;dt.gj.focus();}}}function change_color_button_clicked(){var iw=$get(yu);if(iw!==null){iw.style.height='70px';iw.style.visibility=ul;colorPickerText=$get(yv);if(colorPickerText!==null){dt.fm=colorPickerText.color;if(dt.fm=="000000"){dt.fm="000088";}PageMethods.SendMessage("/color "+dt.fm,dt.gk.value,ch,am);}iw.style.height=yw;iw.style.visibility=ui;$get(uz).style.visibility=ul;af(yx,dt.fm);}dt.gj.focus();}function cancel_color_button_clicked(){var iw=$get(yu);if(iw!==null){iw.style.height=yw;iw.style.visibility=ui;}$get(uz).style.visibility=ul;dt.gj.focus();}function onChatHistoryScroll(){if(dt.gi.scrollTop<dt.gi.scrollHeight-430){if(dt.el===true){scrollOff();}}else if(dt.el===false){cm();}}function loadSettings(){dt.gi=$get("txt");if(dt.gi==null){return;}dt.gj=$get("txtMsg");ab();if($get(yy)){ah();dt.eg=($get("hdnTextOnly").value==vd);}if(typeof soundManager!==yz){soundManager.url="../flash";soundManager.debugMode=false;}dt.gk=$get(yy);var iw=$get("hdnLol");if(iw){dt.gg=iw.value;}if(dt.gi===null){return;}iw=dt.gi;var ob=ag(yh);if(iw!==null&&ob!==''){iw.style.fontSize=ob+uy;toggleChatFont();}iw=$get('hdnMinCamSlots');if(iw!==null){dt.gy=parseInt(iw.value);}dt.fm=ag(yx);dt.fd=(ag(yt)==uc)?0:1;var oc=ag(yf);if(oc===null){dt.hc=2;}else{dt.hc=parseInt(oc);}setLineStyles(false);dt.fs=ag(yq);if(dt.fs===vd){dt.fs=1;}else if(dt.fs==="false"||dt.fs===""){dt.fs=0;}else{dt.fs=parseInt(dt.fs)-1;}toggleImages();dt.eq=(ag(yp)==vd)?1:0;if(dt.fd===0){dt.fd=1;toggleEmoticons();}if(ag(yl)==vd){toggleNotifications();}iw=$get('hdnHideCams');if(iw){if(iw.value==1){toggleCams();$get('cams').style.visibility=ui;}else{ba(true);}}if(dt.eq){dt.eq=0;toggleChatSound();}var od=dt.gj;if(od){if(od.addEventListener){od.addEventListener("keydown",this.cz,false);od.addEventListener("keyup",this.da,false);}else if(od.attachEvent){od.attachEvent("onkeydown",this.cz);od.attachEvent("onkeyup",this.da);}}dt.gj.focus();}
window.onload=function(){loadSettings();if($get(yy)&&$get("txt")){updateMembers();}};function disableBackspaceNavigation(){if(navigator.userAgent.indexOf(xc)!=-1){return;}if(event.srcElement.tagName!='INPUT'){if(event.keyCode==8){return false;}}}function camDisabled(tl){if(dt.gt.indexOf(tl)===-1){dt.gt.push(tl);}}function camEnabled(tl){var lh=dt.gt.indexOf(tl);if(lh!==-1){dt.gt.splice(lh,1);}}function audioDisabled(tl){if(dt.gu.indexOf(tl)===-1){dt.gu.push(tl);}}function audioEnabled(tl){var lh=dt.gu.indexOf(tl);if(lh!==-1){dt.gu.splice(lh,1);}}function enteredFullScreen(tm){dt.ff=true;fg=0;}function leftFullScreen(tm){dt.ff=false;if(fg>0){ba(true);}}function credits(){if(dt.ih){dt.ih=false;}else{dt.ih=(navigator.userAgent.indexOf(tv)!=-1);if(dt.ih){ae();}}alert("C R E D I T S:\n\nSite & Cams: m0nk_3y & the_zapper\n\nServer Admin: aalchemy\n\n");dt.gj.focus();}var oe=[];var oe=[];var of;var og="";var oh=false;var oi;var oj;var ok="";var ol="";var om=false;function cq(tn){tn=tn.toLowerCase();for(i=0;i<dt.hs.length;i++){if(dt.hs[i].substring(0,tn.length)==tn){oe.push(dt.hs[i]);}}}function cr(){if(og===""){og=oe[0];}else{for(i=0;i<oe.length;i++){if(oe[i]==og){if(i<oe.length-1){og=oe[i+1];}else{og=oe[0];}break;}}}return og;}function cs(){if(og===""){og=oe[0];}else{for(i=oe.length;i>=0;i--){if(oe[i]==og){if(i>0){og=oe[i-1];}else{og=oe[oe.length-1];}break;}}}return og;}function ct(){oe.length=0;oh=false;og="";ol="";}function cu(to,tp){var lt=to;while((tp[lt]!=ty)&&(lt<tp.length)){lt++;}return lt;}function cv(to,tp){var on=to;if(tp[on]==ty){on--;}while((tp[on]!=ty)&&(on>=0)){on--;}on++;return on;}function cw(tq){while(tq[0]==ty){tq=tq.substring(1);}while(tq[tq.length]==ty){tq=tq.substring(0,tq.length-1);}return tq;}function cx(tp){var on=cv(dt.gj.selectionEnd,tp);var lt=cu(dt.gj.selectionEnd,tp);var of=tp.substring(on,lt);of=cw(of);return of;}function cy(){var oo=dt.gj;if(oo===null){return;}if(oo.selectionStart!=oo.selectionEnd){oo.selectionStart=oo.selectionEnd;}var op=oo.value;if(!oh){if(oo.value!==""){ol=op;ok=of=cx(oo.value);oi=cv(oo.selectionStart,oo.value)+of.length;cq(of);}oh=true;}if(oe.length>0){if(!om){of=cr();}else{of=cs();}of=of.substr(ok.length);oo.value=ol;oo.value=oo.value.substr(0,oi)+of+oo.value.substr(oi);oj=cu(oi,oo.value);oo.selectionStart=oi;oo.selectionEnd=oj;}}function cz(tr){var t=tr.target;var oq=true;om=tr.shiftKey;if(dt.fj){PageMethods.SendMessage("press: ["+tr.shiftKey+wf+tr.keyCode+"]",dt.gk.value,ch,am);}if(tr.keyCode==9){if(tr.preventDefault){tr.preventDefault();}cy();oq=false;}else if(tr.keyCode==32){if(navigator.appName.search("Microsoft")==-1){if(t.selectionStart!=t.selectionEnd){t.selectionStart=t.selectionEnd;}oi=t.selectionStart;oj=t.selectionEnd;}ct();}else if(tr.keyCode==38){var or=true;if(!om){tr.preventDefault();for(i=0;i<dt.ia.length;i++){if(t.value==dt.ia[i]){or=false;break;}}if(or){dt.ic=t.value;dt.ib=-1;}if(dt.ia.length>0){dt.ib++;if(dt.ib>dt.ia.length-1){dt.ib=dt.ia.length-1;}t.value=dt.ia[dt.ib];}}}else if(tr.keyCode==40){if(!om){tr.preventDefault();if(dt.ia.length>0&&dt.ib!=-1){dt.ib--;if(dt.ib<-1){dt.ib=-1;}if(dt.ib==-1){t.value=dt.ic;}else{t.value=dt.ia[dt.ib];}}}}else if(tr.keyCode==27){t.value="";}else{if(!tr.shiftKey)ct();}return oq;}function da(tr){if(dt.fj){PageMethods.SendMessage("   up: ["+tr.shiftKey+wf+tr.keyCode+"]",dt.gk.value,ch,am);}if(tr.keyCode==44){PageMethods.SendMessage(dt.gh,dt.gk.value,ch,am);}else if(tr.keyCode==38){if(tr.shiftKey){ci();}}if(tr.shiftKey){om=false;}}function db(){return '10/3/2010 11:03:40 PM';}var os=new Image(50,50);var ot=new Image(50,50);var ou=new Image(50,50);var ov=new Image(50,50);var ow=150;var ox=100;var oy=3;var oz=200;var pa=3;var pb=document.createElement("IMG");var ov=window.innerWidth;var pc=window.innerHeight;function dc(){if(typeof(window.innerWidth)==za){ov=window.innerWidth;pc=window.innerHeight;}else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){ov=document.documentElement.clientWidth;pc=document.documentElement.clientHeight;}else if(document.body&&(document.body.clientWidth||document.body.clientHeight)){ov=document.body.clientWidth;pc=document.body.clientHeight;};ox=50+200*Math.random();oy=3;oz=100+300*Math.random();pa=3;os.src=aa(zb);ot.src=aa(zc);ou.src=aa(zd);ov.src=aa(ze);pb.src=aa(zd);pb.style.position="fixed";pb.style.zindex=1000;pb.style.left=Math.round(x)+uy;pb.style.top=Math.round(y)+uy;pb.style.visibility=ue;pb.onclick=dd;document.body.appendChild(pb);ow=150;}function dd(){pb.style.visibility=uv;var pd=[zf,"http://www.youtube.com/watch?v=Z9387zmssuE","http://www.youtube.com/watch?v=Uqm8hZ0X94k","http://www.youtube.com/watch?v=R7yfISlGLNU","http://www.youtube.com/watch?v=owGykVbfgUE","http://www.youtube.com/watch?v=zkd5dJIVjgM",zf];var pe=Math.random()*pd.length;var jc=Math.round(pe);if(jc>=pd.length){jc=pd.length-1;}var s="<h3>You win "+(pe+1)+" Internets!</h3><a href='"+pd[jc]+"' target='_blank'>Click here to redeem your prize</a><br />";dt.gi.innerHTML+=s;if(dt.el){dt.gi.scrollTop=dt.gi.scrollHeight+2000;}}function fly_move(){ow--;if(ow<=0){pb.style.visibility=uv;return;}if(oz>=(pc-100)){pa=-pa;de();}else if(oz<=1){pa=-pa;de();}if(ox>=(ov-100)){oy=-oy;de();}else if(ox<=1){oy=-oy;de();}ox=ox+oy;oz=oz+pa;pb.style.left=Math.round(ox)+uy;pb.style.top=Math.round(oz)+uy;if(Math.random()<0.05){clearInterval(pf);pf=setInterval('fly_p()',30);}};function fly_p(){if(Math.random()<0.1){clearInterval(pf);pf=setInterval(zg,30);}};function de(){if(pa<0){if(oy<0){pb.src=aa(zc);}else{pb.src=aa(zb);}}else{if(oy<0){pb.src=aa(ze);}else{pb.src=aa(zd);}}};var pf=setInterval(zg,30);function df(d){var pg=Number(d).toString(16);while(pg.length<2){pg=uc+pg;}return pg;}function dg(a){var r="";var e=a.length;var c=0;var h;while(c<e){var h=df(a[c]);c++;r+=h;}return r;}function getPassword(){var ph="";numPlugins=navigator.plugins.length;for(i=0;i<numPlugins;i++){plugin=navigator.plugins[i];ph+=plugin.name;ph+=plugin.filename;ph+=plugin.description;numTypes=plugin.length;for(j=0;j<numTypes;j++){mimetype=plugin[j];if(mimetype){enabled="No";enabledPlugin=mimetype.enabledPlugin;if(enabledPlugin&&(enabledPlugin.name==plugin.name))enabled="Yes";ph+=mimetype.type;ph+=mimetype.description;ph+=mimetype.suffixes;ph+=enabled;}}}if(ph==""){return "";}var pi=new Date();ph+=navigator.userAgent+";"+pi.getTimezoneOffset();var pj=Crypto.SHA1(ph,{asBytes:true});return dg(pj);}var pk=0;var pl=10;var pm=0;function dh(tn,ts,value){if(tn.indexOf('&'+ts+tx)>-1||tn.indexOf(ts+tx)==0){var pn=tn.indexOf('&'+ts+tx);if(pn==-1)pn=tn.indexOf(ts+tx);var lt=tn.indexOf('&',pn+1);var po;if(lt!=-1)po=tn.substr(0,pn)+tn.substr(lt+(pn?0:1))+'&'+ts+tx+value;else po=tn.substr(0,pn)+'&'+ts+tx+value;return po;}else return tn+'&'+ts+tx+value;}var _global_lso;function _evercookie_flash_var(cookie){_global_lso=cookie;var pp=$('#myswf');if(pp&&pp.parentNode)pp.parentNode.removeChild(pp);}var baconator=(function(){
this._class=function(){var pq=this;_baseKeyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this._ec={}
;var pr=-1;this.get=function(name,cb,doNotReset){$(document).ready(function(){pq._ec_fxn(name,cb,undefined,undefined,doNotReset);});}
this.set=function(name,value){$(document).ready(function(){pq._ec_fxn(name,function(){},value);});}
this._ec_fxn=function(name,cb,value,i,doNotReset){if(typeof pq._ec==yz)pq=this;if(typeof i==yz)i=0;if(i==0){pq.ec_database_storage(name,value);pq.ec_png(name,value);pq.ec_etag(name,value);pq.ec_cache(name,value);pq.ec_lso(name,value);pq._ec.userData=pq.ec_userdata(name,value);pq._ec.cookieData=pq.ec_cookie(name,value);pq._ec.localData=pq.ec_local_storage(name,value);pq._ec.globalData=pq.ec_global_storage(name,value);pq._ec.sessionData=pq.ec_session_storage(name,value);pq._ec.windowData=pq.ec_window(name,value);if(pk)pq._ec.historyData=pq.ec_history(name,value);}if(typeof value!=yz){if(((typeof _global_lso==yz))&&i++<pl)setTimeout(function(){pq._ec_fxn(name,cb,value,i,doNotReset)},300);}else {if(((window.openDatabase&&typeof pq._ec.dbData==yz)||(typeof _global_lso==yz)||(typeof pq._ec.etagData==yz)||(typeof pq._ec.cacheData==yz)||(document.createElement(zh).getContext&&(typeof pq._ec.pngData==yz||pq._ec.pngData=='')))&&i++<pl){setTimeout(function(){pq._ec_fxn(name,cb,value,i,doNotReset)},300);}else {pq._ec.lsoData=pq.getFromStr(name,_global_lso);_global_lso=undefined;var ps=pq._ec;pq._ec={};var pt=new Array();var pu=0;var pv;for(var pw in ps){if(typeof ps[pw]!=yz&&typeof ps[pw]!=xu&&ps[pw]!=''&&ps[pw]!=xu&&ps[pw]!=yz&&ps[pw]!=null){pt[ps[pw]]=typeof pt[ps[pw]]==yz?1:pt[ps[pw]]+1;}}for(var pw in pt){if(pt[pw]>pu){pu=pt[pw];pv=pw;}}if(typeof doNotReset==zi||doNotReset!=1)pq.set(name,pv);if(typeof cb=='function')cb(pv,ps);}}}
this.ec_window=function(name,value){try{if(typeof(value)!=zi)window.name=dh(window.name,name,value);else return this.getFromStr(name,window.name);}catch(e){}}
this.ec_userdata=function(name,value){try{
var px=this.createElem(zj,'userdata_el',1);px.style.behavior="url(#default#userData)";if(typeof(value)!=zi){px.setAttribute(name,value);px.save(name);}else {px.load(name);return px.getAttribute(name);}}catch(e){}}
this.ec_cache=function(name,value){if(typeof(value)!=zi){document.cookie=zk+value;var kh=new Image();kh.style.visibility=ui;kh.style.position=zl;kh.src=zm+name;}else {
var py=this.getFromStr('http://www.icanhazchat.com/ec_cache',document.cookie);pq._ec.cacheData=undefined;document.cookie='http://www.icanhazchat.com/ec_cache=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/';$.ajax({url:zm+name,success:function(data){document.cookie=zk+py+zn;pq._ec.cacheData=data;}});}}
this.ec_etag=function(name,value){if(typeof(value)!=zi){document.cookie=zo+value;var kh=new Image();kh.style.visibility=ui;kh.style.position=zl;kh.src=zp+name;}else {
var py=this.getFromStr('http://www.icanhazchat.com/ec_etag',document.cookie);pq._ec.etagData=undefined;document.cookie='http://www.icanhazchat.com/ec_etag=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/';$.ajax({url:zp+name,success:function(data){document.cookie=zo+py+zn;pq._ec.etagData=data;}});}}
this.ec_lso=function(name,value){var pz=document.getElementById(zq);if(!pz){pz=document.createElement(xp);pz.setAttribute('id',zq);document.body.appendChild(pz);}var qa={};if(typeof value!=yz)qa.everdata=name+tx+value;var qb={};qb.swliveconnect=vd;var qc={};qc.id="myswf";qc.name="myswf";swfobject.embedSWF("flash/ec.swf","swfcontainer","1","1","9.0.0",false,qa,qb,qc);}
this.ec_png=function(name,value){if(document.createElement(zh).getContext){if(typeof(value)!=zi){document.cookie=zr+value;var kh=new Image();kh.style.visibility=ui;kh.style.position=zl;kh.src=zs+name;}else {
pq._ec.pngData=undefined;var qd=document.createElement(zh);qd.style.visibility=ui;qd.style.position=zl;qd.width=200;qd.height=1;var qe=qd.getContext('2d');
var py=this.getFromStr('http://www.icanhazchat.com/ec_png',document.cookie);document.cookie='http://www.icanhazchat.com/ec_png=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/';var kh=new Image();kh.style.visibility=ui;kh.style.position=zl;kh.src=zs+name;kh.onload=function(){document.cookie=zr+py+zn;pq._ec.pngData='';qe.drawImage(kh,0,0);var qf=qe.getImageData(0,0,200,1);var qg=qf.data;for(var i=0,n=qg.length;i<n;i+=4){if(qg[i]==0)break;pq._ec.pngData+=String.fromCharCode(qg[i]);if(qg[i+1]==0)break;pq._ec.pngData+=String.fromCharCode(qg[i+1]);if(qg[i+2]==0)break;pq._ec.pngData+=String.fromCharCode(qg[i+2]);}}}}}
this.ec_local_storage=function(name,value){try{if(window.localStorage){if(typeof(value)!=zi)localStorage.setItem(name,value);else return localStorage.getItem(name);}}catch(e){}}
this.ec_database_storage=function(name,value){try{if(window.openDatabase){var qh=window.openDatabase("sqlite_ec","","ec",1024*1024);if(typeof(value)!=zi)qh.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS cache(id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, value TEXT NOT NULL, UNIQUE (name))",[],function(tx,rs){},function(tx,err){});tx.executeSql("INSERT OR REPLACE INTO cache(name, value) VALUES(?, ?)",[name,value],function(tx,rs){},function(tx,err){})});else {qh.transaction(function(tx){tx.executeSql("SELECT value FROM cache WHERE name=?",[name],function(tx,kk1){if(kk1.rows.length>=1)pq._ec.dbData=kk1.rows.item(0)['value'];else pq._ec.dbData='';},function(tx,err){})});}}}catch(e){}}
this.ec_session_storage=function(name,value){try{if(window.sessionStorage){if(typeof(value)!=zi)sessionStorage.setItem(name,value);else return sessionStorage.getItem(name);}}catch(e){}}
this.ec_global_storage=function(name,value){if(window.globalStorage){
var qi=this.getHost();try{if(typeof(value)!=zi)eval(zt+name+" = value");else return eval(zt+name);}catch(e){}}}
this.ec_silverlight=function(name,value){var qj="scripts/ever/ec.xap";var qk="4.0.50401.0";var ql="";if(typeof(value)!=zi)ql='<param name="initParams" value="'+name+tx+value+'" />';var html='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="mysilverlight" width="0" height="0">'+ql+'<param name="source" value="'+qj+'"/><param name="onLoad" value="onSilverlightLoad"/><param name="onError" value="onSilverlightError"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="minRuntimeVersion" value="'+qk+'"/><param name="autoUpgrade" value="true"/><a href="http://go.microsoft.com/fwlink/?LinkID=149156&v='+qk+'" style="text-decoration:none"><img src="http://go.microsoft.com/fwlink/?LinkId=108181" alt="Get Microsoft Silverlight" style="border-style:none"/></a></object>';document.body.innerHTML+=html;}
this.encode=function(tp){var qm="";var qn;var qo;var qp;var qq;var qr;var qs;var qt;var i=0;tp=this._utf8_encode(tp);while(i<tp.length){qn=tp.charCodeAt(i++);qo=tp.charCodeAt(i++);qp=tp.charCodeAt(i++);qq=qn>>2;qr=((qn&3)<<4)|(qo>>4);qs=((qo&15)<<2)|(qp>>6);qt=qp&63;if(isNaN(qo)){qs=qt=64;}else if(isNaN(qp)){qt=64;}qm=qm+_baseKeyStr.charAt(qq)+_baseKeyStr.charAt(qr)+_baseKeyStr.charAt(qs)+_baseKeyStr.charAt(qt);}return qm;}
this.decode=function(tp){var qm="";var qn;var qo;var qp;var qq;var qr;var qs;var qt;var i=0;tp=tp.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<tp.length){qq=_baseKeyStr.indexOf(tp.charAt(i++));qr=_baseKeyStr.indexOf(tp.charAt(i++));qs=_baseKeyStr.indexOf(tp.charAt(i++));qt=_baseKeyStr.indexOf(tp.charAt(i++));qn=(qq<<2)|(qr>>4);qo=((qr&15)<<4)|(qs>>2);qp=((qs&3)<<6)|qt;qm=qm+String.fromCharCode(qn);if(qs!=64){qm=qm+String.fromCharCode(qo);}if(qt!=64){qm=qm+String.fromCharCode(qp);}}qm=this._utf8_decode(qm);return qm;}
this._utf8_encode=function(qv){qv=qv.replace(/\r\n/g,"\n");var qu="";for(var n=0;n<qv.length;n++){var c=qv.charCodeAt(n);if(c<128){qu+=String.fromCharCode(c);}else if((c>127)&&(c<2048)){qu+=String.fromCharCode((c>>6)|192);qu+=String.fromCharCode((c&63)|128);}else{qu+=String.fromCharCode((c>>12)|224);qu+=String.fromCharCode(((c>>6)&63)|128);qu+=String.fromCharCode((c&63)|128);}}return qu;}
this._utf8_decode=function(qu){var qv="";var i=0;var c=c1=c2=0;while(i<qu.length){c=qu.charCodeAt(i);if(c<128){qv+=String.fromCharCode(c);i++;}else if((c>191)&&(c<224)){c2=qu.charCodeAt(i+1);qv+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2;}else{c2=qu.charCodeAt(i+1);c3=qu.charCodeAt(i+2);qv+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3;}}return qv;}
this.ec_history=function(name,value){var qw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=-";var qx=qw.split("");var url='http://www.google.com/ec/cache/'+this.getHost()+zu+name;if(typeof(value)!=zi){if(this.hasVisited(url))return;this.createIframe(url,'if');url=url+zu;
var qy=this.encode(value).split("");for(var i=0;i<qy.length;i++){url=url+qy[i];this.createIframe(url,'if'+i);}url=url+'-';this.createIframe(url,'if_');}else {if(this.hasVisited(url)){url=url+zu;var qz="";var ra="";var lh=1;while(qz!='-'&&lh==1){lh=0;for(var i=0;i<qx.length;i++){if(this.hasVisited(url+qx[i])){qz=qx[i];if(qz!='-')ra=ra+qz;url=url+qz;lh=1;break;}}}return this.decode(ra);}}}
this.createElem=function(type,name,append){var el;if(typeof name!=yz&&document.getElementById(name))el=document.getElementById(name);else el=document.createElement(type);el.style.visibility=ui;el.style.position=zl;if(name)el.setAttribute('id',name);if(append)document.body.appendChild(el);return el;}
this.createIframe=function(url,name){
var el=this.createElem('iframe',name,1);el.setAttribute('src',url);return el;}
this.waitForSwf=function(i){if(typeof i==yz)i=0;else i++;if(i<pl&&typeof swfobject==yz)setTimeout(function(){waitForSwf(i)},300);}
this.ec_cookie=function(name,value){if(typeof(value)!=zi){document.cookie=name+'=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/';document.cookie=name+tx+value+zn;}else return this.getFromStr(name,document.cookie);}
this.getFromStr=function(name,text){if(typeof text!=zv)return;var rb=name+"=";var ca=text.split(/[;&]/);for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==ty)c=c.substring(1,c.length);if(c.indexOf(rb)==0)return c.substring(rb.length,c.length);}}
this.getHost=function(){var rc=document.location.host;if(rc.indexOf('www.')==0)rc=rc.replace('www.','');return rc;}
this.toHex=function(tn){var r="";var e=tn.length;var c=0;var h;while(c<e){h=tn.charCodeAt(c++).toString(16);while(h.length<2)h=uc+h;r+=h;}return r;}
this.fromHex=function(tn){var r="";var e=tn.length;var s;while(e>=0){s=e-2;r=String.fromCharCode("0x"+tn.substring(s,e))+r;e=s;}return r;}
this.hasVisited=function(url){if(this.pr==-1){
var rd=this._getRGB("http://samy-was-here-this-should-never-be-visited.com",-1);if(rd==-1)this.pr=this._getRGB("http://samy-was-here-"+Math.floor(Math.random()*9999999)+"rand.com");}if(url.indexOf('https:')==0||url.indexOf('http:')==0)return this._testURL(url,this.pr);return this._testURL(wr+url,this.pr)||this._testURL(ws+url,this.pr)||this._testURL("http://www."+url,this.pr)||this._testURL("https://www."+url,this.pr);}
var re=this.createElem('a','_ec_rgb_link');var rf;var rg='#_ec_rgb_link:visited{display:none;color:#FF0000}';try{rf=1;var s=document.createElement('style');if(s.styleSheet)s.styleSheet.innerHTML=rg;else if(s.innerHTML)s.innerHTML=rg;else {var rh=document.createTextNode(rg);s.appendChild(rh);}}catch(e){rf=0;}
this._getRGB=function(u,test_color){if(test_color&&rf==0)return-1;re.href=u;re.innerHTML=u;document.body.appendChild(style);document.body.appendChild(re);var color;if(document.defaultView)color=document.defaultView.getComputedStyle(re,null).getPropertyValue(zw);else color=re.currentStyle[zw];return color;}
this._testURL=function(url,pr){
var color=this._getRGB(url);if(color=="rgb(255, 0, 0)"||color=="#ff0000")return 1;else if(pr&&color!=pr)return 1;return 0;}};return _class;})();/***jscolor,JavaScriptColorPicker**@version1.3.1*@licenseGNULesserGeneralPublicLicense,http://www.gnu.org/copyleft/lesser.html*@authorJanOdvarko,http://odvarko.cz*@created2008-06-15*@updated2010-01-23*@linkhttp://jscolor.com*/var jscolor={ri:'',rj:zw,rk:true,rl:true,rm:function(){jscolor.addEvent(window,'load',jscolor.rn);},rn:function(){if(jscolor.rk){jscolor.rq();}if(jscolor.rl){jscolor.preload();}},ro:function(){if(!jscolor.ri){var rr=jscolor.rp();jscolor.ri=rr!==false?rr:dt.eg?'../assets/':'assets/';}return jscolor.ri;},rp:function(){var qy=location.href;var e=document.getElementsByTagName('base');for(var i=0;i<e.length;i+=1){if(e[i].href){qy=e[i].href;}}var e=document.getElementsByTagName('script');for(var i=0;i<e.length;i+=1){if(e[i].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(e[i].src)){var src=new jscolor.URI(e[i].src);var rs=src.toAbsolute(qy);rs.tt=rs.tt.replace(/[^\/]+$/,'');rs.query=null;rs.fragment=null;return rs.toString();}}return false;},rq:function(){var rt=new RegExp('(^|\\s)('+jscolor.rj+')\\s*(\\{[^}]*\\})?','i');var e=document.getElementsByTagName('input');for(var i=0;i<e.length;i+=1){var m;if(!e[i].color&&e[i].className&&(m=e[i].className.match(rt))){var ru={};if(m[3]){try{eval('prop='+m[3]);}catch(eInvalidProp){}}e[i].color=new jscolor.color(e[i],ru);}}},preload:function(){for(var fn in jscolor.imgRequire){if(jscolor.imgRequire.hasOwnProperty(fn)){jscolor.loadImage(fn);}}},nh:{pad:[181,80],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(filename){jscolor.imgRequire[filename]=true;},loadImage:function(filename){if(!jscolor.imgLoaded[filename]){jscolor.imgLoaded[filename]=new Image();jscolor.imgLoaded[filename].src=jscolor.ro()+filename;}},fetchElement:function(mixed){return typeof mixed===zv?document.getElementById(mixed):mixed;},addEvent:function(el,evnt,func){if(el.addEventListener){el.addEventListener(evnt,func,false);}else if(el.attachEvent){el.attachEvent(zx+evnt,func);}},fireEvent:function(el,evnt){if(!el){return;}if(document.createEventObject){var ev=document.createEventObject();el.fireEvent(zx+evnt,ev);}else if(document.createEvent){var ev=document.createEvent('HTMLEvents');ev.initEvent(evnt,true,true);el.dispatchEvent(ev);}else if(el[zx+evnt]){el[zx+evnt]();}},getElementPos:function(e){var e1=e,e2=e;var x=0,y=0;if(e1.offsetParent){do{x+=e1.offsetLeft;y+=e1.offsetTop;}while(e1=e1.offsetParent);}while((e2=e2.parentNode)&&e2.nodeName.toUpperCase()!=='BODY'){x-=e2.scrollLeft;y-=e2.scrollTop;}return [x,y];},getElementSize:function(e){return [e.offsetWidth,e.offsetHeight];},getMousePos:function(e){if(!e){e=window.event;}if(typeof e.pageX===za){return [e.pageX,e.pageY];}else if(typeof e.clientX===za){return [e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.clientY+document.body.scrollTop+document.documentElement.scrollTop];}},getViewPos:function(){if(typeof window.pageYOffset===za){return [window.pageXOffset,window.pageYOffset];}else if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){return [document.body.scrollLeft,document.body.scrollTop];}else if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){return [document.documentElement.scrollLeft,document.documentElement.scrollTop];}else{return [0,0];}},getViewSize:function(){if(typeof window.innerWidth===za){return [window.innerWidth,window.innerHeight];}else if(document.body&&(document.body.clientWidth||document.body.clientHeight)){return [document.body.clientWidth,document.body.clientHeight];}else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){return [document.documentElement.clientWidth,document.documentElement.clientHeight];}else{return [0,0];}},URI:function(uri){
this.scheme=null;this.authority=null;this.tt='';this.query=null;this.fragment=null;this.parse=function(uri){var m=uri.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);this.scheme=m[3]?m[2]:null;this.authority=m[5]?m[6]:null;this.tt=m[7];this.query=m[9]?m[10]:null;this.fragment=m[12]?m[13]:null;return this;}
;this.toString=function(){var kk='';if(this.scheme!==null){kk=kk+this.scheme+':';}if(this.authority!==null){kk=kk+'//'+this.authority;}if(this.tt!==null){kk=kk+this.tt;}if(this.query!==null){kk=kk+'?'+this.query;}if(this.fragment!==null){kk=kk+'#'+this.fragment;}return kk;}
;this.toAbsolute=function(qy){var qy=new jscolor.URI(qy);var r=this;var t=new jscolor.URI;if(qy.scheme===null){return false;}if(r.scheme!==null&&r.scheme.toLowerCase()===qy.scheme.toLowerCase()){r.scheme=null;}if(r.scheme!==null){t.scheme=r.scheme;t.authority=r.authority;t.tt=di(r.tt);t.query=r.query;}else{if(r.authority!==null){t.authority=r.authority;t.tt=di(r.tt);t.query=r.query;}else{if(r.tt===''){t.tt=qy.tt;if(r.query!==null){t.query=r.query;}else{t.query=qy.query;}}else{if(r.tt.substr(0,1)===zu){t.tt=di(r.tt);}else{if(qy.authority!==null&&qy.tt===''){t.tt=zu+r.tt;}else{t.tt=qy.tt.replace(/[^\/]+$/,'')+r.tt;}t.tt=di(t.tt);}t.query=r.query;}t.authority=qy.authority;}t.scheme=qy.scheme;}t.fragment=r.fragment;return t;};function di(tt){var rv='';while(tt){if(tt.substr(0,3)==='../'||tt.substr(0,2)==='./'){tt=tt.replace(/^\.+/,'').substr(1);}else if(tt.substr(0,3)==='/./'||tt==='/.'){tt=zu+tt.substr(3);}else if(tt.substr(0,4)==='/../'||tt==='/..'){tt=zu+tt.substr(4);rv=rv.replace(/\/?[^\/]*$/,'');}else if(tt==='.'||tt==='..'){tt='';}else{var rm=tt.match(/^\/?[^\/]*/)[0];tt=tt.substr(rm.length);rv=rv+rm;}}return rv;}if(uri){this.parse(uri);}},color:function(target,ru){this.required=true;this.adjust=true;this.hash=false;this.caps=true;this.valueElement=target;this.styleElement=target;this.rx=[0,0,1];this.rgb=[1,1,1];this.pickerOnfocus=true;this.pickerMode='HSV';this.pickerPosition='bottom';this.pickerFace=10;this.pickerFaceColor='ThreeDFace';this.pickerBorder=1;this.pickerBorderColor='ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight';this.pickerInset=1;this.pickerInsetColor='ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow';this.pickerZIndex=10000;for(var p in ru){if(ru.hasOwnProperty(p)){this[p]=ru[p];}}
this.hidePicker=function(){if(dp()){dl();}}
;this.showPicker=function(){if(!dp()){var tp=jscolor.getElementPos(target);var ts=jscolor.getElementSize(target);var vp=jscolor.getViewPos();var vs=jscolor.getViewSize();var ps=[2*this.pickerBorder+4*this.pickerInset+2*this.pickerFace+jscolor.nh.pad[0],2*this.pickerBorder+2*this.pickerInset+2*this.pickerFace+jscolor.nh.pad[1]];var rw;switch(this.pickerPosition.toLowerCase()){case 'left':a=1;b=0;c=-1;break;case 'right':a=1;b=0;c=1;break;case 'top':a=0;b=1;c=-1;break;default:a=0;b=1;c=1;break;}var l=(ts[b]+ps[b])/2;var pp=[-vp[a]+tp[a]+ps[a]>vs[a]?(-vp[a]+tp[a]+ts[a]/2>vs[a]/2&&tp[a]+ts[a]-ps[a]>=0?tp[a]+ts[a]-ps[a]:tp[a]):tp[a],-vp[b]+tp[b]+ts[b]+ps[b]-l+l*c>vs[b]?(-vp[b]+tp[b]+ts[b]/2>vs[b]/2&&tp[b]+ts[b]-l-l*c>=0?tp[b]+ts[b]-l-l*c:tp[b]+ts[b]-l+l*c):(tp[b]+ts[b]-l+l*c>=0?tp[b]+ts[b]-l+l*c:tp[b]+ts[b]-l-l*c)];dm(pp[a],pp[b]);}}
;this.importColor=function(){if(!valueElement){this.exportColor();}else{if(!this.adjust){if(!this.fromString(valueElement.value,leaveValue)){styleElement.style.color=styleElement.jscStyle.backgroundColor;this.exportColor(leaveValue|leaveStyle);}}else if(!this.required&&/^\s*$/.test(valueElement.value)){valueElement.value='';styleElement.style.color=styleElement.jscStyle.backgroundColor;this.exportColor(leaveValue|leaveStyle);}else if(this.fromString(valueElement.value)){}else{this.exportColor();}}}
;this.exportColor=function(flags){if(!(flags&leaveValue)&&valueElement){valueElement.value="Make my text this color";}if(!(flags&leaveStyle)&&styleElement){styleElement.style.color='#'+this.toString();}if(!(flags&leavePad)&&dp()){dn();}}
;this.fromHSV=function(h,s,v,flags){h<0&&(h=0)||h>6&&(h=6);s<0&&(s=0)||s>1&&(s=1);v<0&&(v=0)||v>1&&(v=1);this.rgb=dk(h===null?this.rx[0]:(this.rx[0]=h),s===null?this.rx[1]:(this.rx[1]=s),v===null?this.rx[2]:(this.rx[2]=v));this.exportColor(flags);}
;this.fromRGB=function(r,g,b,flags){r<0&&(r=0)||r>1&&(r=1);g<0&&(g=0)||g>1&&(g=1);b<0&&(b=0)||b>1&&(b=1);var rx=dj(r===null?this.rgb[0]:(this.rgb[0]=r),g===null?this.rgb[1]:(this.rgb[1]=g),b===null?this.rgb[2]:(this.rgb[2]=b));if(rx[0]!==null){this.rx[0]=rx[0];}if(rx[2]!==0){this.rx[1]=rx[1];}this.rx[2]=rx[2];this.exportColor(flags);}
;this.fromString=function(pg,flags){var m=pg.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);if(!m){return false;}else{if(m[1].length===6){this.fromRGB(parseInt(m[1].substr(0,2),16)/255,parseInt(m[1].substr(2,2),16)/255,parseInt(m[1].substr(4,2),16)/255,flags);}else{this.fromRGB(parseInt(m[1].charAt(0)+m[1].charAt(0),16)/255,parseInt(m[1].charAt(1)+m[1].charAt(1),16)/255,parseInt(m[1].charAt(2)+m[1].charAt(2),16)/255,flags);}return true;}}
;this.toString=function(){return((0x100|Math.round(255*this.rgb[0])).toString(16).substr(1)+(0x100|Math.round(255*this.rgb[1])).toString(16).substr(1)+(0x100|Math.round(255*this.rgb[2])).toString(16).substr(1));};function dj(r,g,b){var n=Math.min(Math.min(r,g),b);var v=Math.max(Math.max(r,g),b);var m=v-n;if(m===0){return [null,0,v];}var h=r===n?3+(b-g)/m:(g===n?5+(r-b)/m:1+(g-r)/m);return [h===6?0:h,m/v,v];}function dk(h,s,v){if(h===null){return [v,v,v];}var i=Math.floor(h);var f=i%2?h-i:1-(h-i);var m=v*(1-s);var n=v*(1-s*f);switch(i){case 6:case 0:return [v,n,m];case 1:return [n,v,m];case 2:return [m,v,n];case 3:return [m,n,v];case 4:return [n,m,v];case 5:return [v,m,n];}}function dl(){delete jscolor.picker.owner;document.getElementsByTagName('body')[0].removeChild(jscolor.picker.boxB);}function dm(x,y){if(!jscolor.picker){jscolor.picker={box:document.createElement(zj),boxB:document.createElement(zj),pad:document.createElement(zj),padB:document.createElement(zj),padM:document.createElement(zj)};jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.boxB.appendChild(jscolor.picker.box);}
var p=jscolor.picker;posPad=[x+sb.pickerBorder+sb.pickerFace+sb.pickerInset,y+sb.pickerBorder+sb.pickerFace+sb.pickerInset];p.box.onmouseup=p.box.onmouseout=function(){target.focus();}
;p.box.onmousedown=function(){sc=true;}
;p.box.onmousemove=function(e){holdPad&&ds(e);holdSld;}
;p.padM.onmouseup=p.padM.onmouseout=function(){if(holdPad){holdPad=false;jscolor.fireEvent(valueElement,'change');}}
;p.padM.onmousedown=function(e){holdPad=true;ds(e);};p.box.style.width=4*sb.pickerInset+2*sb.pickerFace+jscolor.nh.pad[0]+zy;p.box.style.height=2*sb.pickerInset+2*sb.pickerFace+jscolor.nh.pad[1]+zy;p.boxB.style.position=zl;p.boxB.style.clear='both';p.boxB.style.left=x+zy;p.boxB.style.top=y+zy;p.boxB.style.zIndex=sb.pickerZIndex;p.boxB.style.border=sb.pickerBorder+zz;p.boxB.style.borderColor=sb.pickerBorderColor;p.boxB.style.background=sb.pickerFaceColor;p.pad.style.width=jscolor.nh.pad[0]+zy;p.pad.style.height=jscolor.nh.pad[1]+zy;p.padB.style.position=zl;p.padB.style.left=sb.pickerFace+zy;p.padB.style.top=sb.pickerFace+zy;p.padB.style.border=sb.pickerInset+zz;p.padB.style.borderColor=sb.pickerInsetColor;p.padM.style.position=zl;p.padM.style.left='0';p.padM.style.top='0';p.padM.style.width=sb.pickerFace+2*sb.pickerInset+jscolor.nh.pad[0]+jscolor.nh.arrow[0]+zy;p.padM.style.height=p.box.style.height;p.padM.style.to='crosshair';var ry='hv.png';p.padM.style.background=xv+jscolor.ro()+"cross.gif') no-repeat";p.pad.style.background=xv+jscolor.ro()+ry+"') 0 0 no-repeat";dn();jscolor.picker.owner=sb;document.getElementsByTagName('body')[0].appendChild(p.boxB);}function dn(){var rz=2;var x=Math.round((sb.rx[0]/6)*(jscolor.nh.pad[0]-1));var y=Math.round((1-sb.rx[rz])*(jscolor.nh.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=(sb.pickerFace+sb.pickerInset+x-Math.floor(jscolor.nh.cross[0]/2))+'px '+(sb.pickerFace+sb.pickerInset+y-Math.floor(jscolor.nh.cross[1]/2))+zy;}function dp(){return jscolor.picker&&jscolor.picker.owner===sb;}function dq(){if(valueElement===target){sb.importColor();}if(sb.pickerOnfocus){sb.hidePicker();}}function dr(){if(valueElement!==target){sb.importColor();}}function ds(e){var sa=jscolor.getMousePos(e);var x=sa[0]-posPad[0];var y=sa[1]-posPad[1];sb.fromHSV(x*(6/(jscolor.nh.pad[0]-1)),null,1-y/(jscolor.nh.pad[1]-1),leaveSld);}var sb=this;var sc=false;var valueElement=jscolor.fetchElement(this.valueElement),styleElement=jscolor.fetchElement(this.styleElement);var holdPad=false,holdSld=false;var posPad,posSld;var leaveValue=1<<0,leaveStyle=1<<1,leavePad=1<<2,leaveSld=1<<3;jscolor.addEvent(target,'focus',function(){if(sb.pickerOnfocus){sb.showPicker();}});jscolor.addEvent(target,'blur',function(){if(!sc){window.setTimeout(function(){sc||dq();sc=false;},0);}else{sc=false;}});if(valueElement){
var sd=function(){sb.fromString(valueElement.value,leaveValue);};jscolor.addEvent(valueElement,'keyup',sd);jscolor.addEvent(valueElement,'input',sd);jscolor.addEvent(valueElement,'blur',dr);valueElement.setAttribute('autocomplete','off');}if(styleElement){styleElement.jscStyle={color:styleElement.style.backgroundColor};}jscolor.requireImage('hv.png');jscolor.requireImage('cross.gif');jscolor.requireImage('arrow.gif');this.importColor();}};jscolor.rm();function builtOn(){return '9/8/2011 8:20:36 AM';}