// ==UserScript==
// @name						Cracked.com Enhancer
// @namespace					http://userscripts.org/users/208041
// @description					A script that enhances the viewing experience of Cracked.com â€“ Media Resizer, Direct FLV Download, Disable Auto Play, Disable Continuous Play, Change Video Timeout Length, Load all pages of an Article onto a single page + more...
// @author						jgjake2
// @version						0.2.6
// @timestamp					1337439520683
// @run-at						document-start
// @include						http://cracked.com
// @include						http://www.cracked.com
// @resource CCEJquery			http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js
// @pagetype					{Special: {Pattern: "cracked\.com\/?.*?(?:CCE_First_Run|CCEReloaded\=\d+)", Modules: "CCE_Module_Config"}}
// @taborder					General, Video, Article, Comment, Photoplasty
// @tabcolor					blue, gold, green, grey, orange
// @license						http://creativecommons.org/licenses/by-nc-nd/3.0/us/
// @history						0.2.6 Faster and takes up less memory
// @history						0.2.6 Settings UI improvements
// @history						0.2.6 Fixed issue with video covering up the navigation popups
// @history						0.2.6 Log improvements
// @history						0.2.6 Added update notification system
// @history						0.2.6 Minor bug fixes
// @history						0.2.5 Updated logging system to use Firebug and Console2 features
// @history						0.2.4 Added a GM menu command
// @history						0.2.4 Fixed the media resizer's margins to scroll more accurately to the user defined prefs for "Best"
// @history						0.2.4 Speed improvements
// @history						0.2.4 First run module initialization improvements
// @history						0.2.3 Minor bug fixes
// @history						0.2.3 Compressed Via Google's Closure Compiler
// @history						0.2.2 Added feature that loads all the pages of an articles or blog onto a single page
// @history						0.2.1 Added a lot of error catching
// @history						0.2.1 More first run module initialization fixes
// @history						0.2.1 Moved CCE_Core's module timestamp save to the end of "StoreModuleData" to ensure data is stored
// @history						0.2.0 Updated UI to break config elements into sections
// @history						0.2.0 Parsing meta data is much faster
// @history						0.2.0 Added more tab colors
// @history						0.2.0 Updated language string retrieval to be faster/easier
// @history						0.1.9 Fixed some weird errors that broke the hell out of the script for no real reason...it's possible there were some browser security updates that conflicted with this script. If you are still having any trouble, let me know!
// @history						0.1.8 Page regex updates
// @history						0.1.8 Added tooltips to the config module (not fully implemented in all modules yet)
// @history						0.1.8 Video player now cancels the countdown instead of just disabling it when continuous play is disabled
// @history						0.1.8 Added features to the comment module
// @history						0.1.8 Bug fixes
// @history						0.1.7 Fixed issues with script not initializing modules on the script's first run
// @history						0.1.6 Moved constant module data to the meta
// @history						0.1.6 Updated module hooks
// @history						0.1.6 Made my own JSON parsing algorithm
// @history						0.1.6 Speed improvements
// @history						0.1.5 Updated UI
// @history						0.1.5 Added photoplasty module
// @history						0.1.4 Changed GlobalVars.fn to be a prototype
// @history						0.1.4 Speed Improvements
// @history						0.1.3 Changed to the latest version of JQuery (1.7.2)
// @history						0.1.3 Saving/loading user prefs is now faster
// @history						0.1.3 Script fixing is now faster/simpler
// @history						0.1.2 Rewrote most of the script to be completely modular.
// @unwrap
// Compiled Module Meta
// @include					http://cracked.com
// @include					http://cracked.com/*
// @include					http://www.cracked.com
// @include					http://www.cracked.com/*
// @include					/http:\/\/(?:www\.)?cracked\.com.*?(CCE_First_Run|CCEReloaded)/
// @module					{CCE_Core: {GoogleSVN: {Beta: http://crackedcomenhancer.googlecode.com/svn/trunk/Beta/Modules/CCE_Core.user.js, Release: http://crackedcomenhancer.googlecode.com/svn/trunk/Release/Modules/CCE_Core.user.js, Compressed: http://crackedcomenhancer.googlecode.com/svn/trunk/Compressed/Modules/CCE_Core.user.js}, LocalSVN: {Beta: http://127.0.0.1/svn/crackedcomenhancer/Beta/Modules/CCE_Core.user.js, Release: http://127.0.0.1/svn/crackedcomenhancer/Release/Modules/CCE_Core.user.js, Build: http://127.0.0.1/svn/crackedcomenhancer/Build/Build/Modules/CCE_Core.user.js, Compressed: http://127.0.0.1/svn/crackedcomenhancer/Compressed/Modules/CCE_Core.user.js}}}
// @scriptfix				{COMSCORE_Removed: {Description: Fix COMSCORE, onPage: .*?, search: {innerHTML: "\r?\n?\s*COMSCORE\.beacon\("}, preventDefault: true, stopPropagation: true, action: {Remove: {execAfter: if(!Require.FixFooter) GlobalVars.ReloadWindow();}}}}
// @include					http://www.cracked.com/article_*
// @include					http://www.cracked.com/blog/*
// @pagetype				{Articles: {Pattern: "cracked\.com\/article_", Modules: "CCE_Module_Articles CCE_Module_Config CCE_Module_Comments"}}
// @pagetype				{Blog: {Pattern: "cracked\.com\/blog\/.+", Modules: "CCE_Module_Articles CCE_Module_Config CCE_Module_Comments"}}
// @module					{CCE_Module_Articles: {GoogleSVN: {Beta: http://crackedcomenhancer.googlecode.com/svn/trunk/Beta/Modules/CCE_Module_Articles.user.js, Release: http://crackedcomenhancer.googlecode.com/svn/trunk/Release/Modules/CCE_Module_Articles.user.js, Compressed: http://crackedcomenhancer.googlecode.com/svn/trunk/Compressed/Modules/CCE_Module_Articles.user.js}, LocalSVN: {Beta: http://127.0.0.1/svn/crackedcomenhancer/Beta/Modules/CCE_Module_Articles.user.js, Release: http://127.0.0.1/svn/crackedcomenhancer/Release/Modules/CCE_Module_Articles.user.js, Build: http://127.0.0.1/svn/crackedcomenhancer/Build/Build/Modules/CCE_Module_Articles.user.js, Compressed: http://127.0.0.1/svn/crackedcomenhancer/Compressed/Modules/CCE_Module_Articles.user.js}}}
// @include					http://www.cracked.com/video_*
// @pagetype				{Videos: {Pattern: "cracked\.com\/video_", Modules: "CCE_Module_Videos CCE_Module_Config CCE_Module_Comments"}}
// @module					{CCE_Module_Videos: {GoogleSVN: {Beta: http://crackedcomenhancer.googlecode.com/svn/trunk/Beta/Modules/CCE_Module_Videos.user.js, Release: http://crackedcomenhancer.googlecode.com/svn/trunk/Release/Modules/CCE_Module_Videos.user.js, Compressed: http://crackedcomenhancer.googlecode.com/svn/trunk/Compressed/Modules/CCE_Module_Videos.user.js}, LocalSVN: {Beta: http://127.0.0.1/svn/crackedcomenhancer/Beta/Modules/CCE_Module_Videos.user.js, Release: http://127.0.0.1/svn/crackedcomenhancer/Release/Modules/CCE_Module_Videos.user.js, Build: http://127.0.0.1/svn/crackedcomenhancer/Build/Build/Modules/CCE_Module_Videos.user.js, Compressed: http://127.0.0.1/svn/crackedcomenhancer/Compressed/Modules/CCE_Module_Videos.user.js}}}
// @scriptfix				{VideoScriptFixed: {Description: Fix Video Script, onPage: "cracked\.com\/video_", search: {src: "http:\/\/i.crackedcdn\.com\/ui\/mashed\/video-.*?\.js"}, preventDefault: true, stopPropagation: true, action: {Replace: {innerHTML: CCEVideoJs}}}}
// @module					{CCE_Module_Comments: {GoogleSVN: {Beta: http://crackedcomenhancer.googlecode.com/svn/trunk/Beta/Modules/CCE_Module_Comments.user.js, Release: http://crackedcomenhancer.googlecode.com/svn/trunk/Release/Modules/CCE_Module_Comments.user.js, Compressed: http://crackedcomenhancer.googlecode.com/svn/trunk/Compressed/Modules/CCE_Module_Comments.user.js}, LocalSVN: {Beta: http://127.0.0.1/svn/crackedcomenhancer/Beta/Modules/CCE_Module_Comments.user.js, Release: http://127.0.0.1/svn/crackedcomenhancer/Release/Modules/CCE_Module_Comments.user.js, Build: http://127.0.0.1/svn/crackedcomenhancer/Build/Build/Modules/CCE_Module_Comments.user.js, Compressed: http://127.0.0.1/svn/crackedcomenhancer/Compressed/Modules/CCE_Module_Comments.user.js}}}
// @module					{CCE_Module_Photoplasty: {GoogleSVN: {Beta: http://crackedcomenhancer.googlecode.com/svn/trunk/Beta/Modules/CCE_Module_Photoplasty.user.js, Release: http://crackedcomenhancer.googlecode.com/svn/trunk/Release/Modules/CCE_Module_Photoplasty.user.js, Compressed: http://crackedcomenhancer.googlecode.com/svn/trunk/Compressed/Modules/CCE_Module_Photoplasty.user.js}, LocalSVN: {Beta: http://127.0.0.1/svn/crackedcomenhancer/Beta/Modules/CCE_Module_Photoplasty.user.js, Release: http://127.0.0.1/svn/crackedcomenhancer/Release/Modules/CCE_Module_Photoplasty.user.js, Build: http://127.0.0.1/svn/crackedcomenhancer/Build/Build/Modules/CCE_Module_Photoplasty.user.js, Compressed: http://127.0.0.1/svn/crackedcomenhancer/Compressed/Modules/CCE_Module_Photoplasty.user.js}}}
// @pagetype				{Photoplasty: {Pattern: "cracked\.com\/photoplasty_", Modules: "CCE_Module_Photoplasty CCE_Module_Config CCE_Module_Comments"}}
// @include					/http:\/\/[^\/]+cracked\.com\/?(?:[^\/\?#]+\.html)?/
// @module					{CCE_Module_Config: {GoogleSVN: {Beta: http://crackedcomenhancer.googlecode.com/svn/trunk/Beta/Modules/CCE_Module_Config.user.js, Release: http://crackedcomenhancer.googlecode.com/svn/trunk/Release/Modules/CCE_Module_Config.user.js, Compressed: http://crackedcomenhancer.googlecode.com/svn/trunk/Compressed/Modules/CCE_Module_Config.user.js}, LocalSVN: {Beta: http://127.0.0.1/svn/crackedcomenhancer/Beta/Modules/CCE_Module_Config.user.js, Release: http://127.0.0.1/svn/crackedcomenhancer/Release/Modules/CCE_Module_Config.user.js, Build: http://127.0.0.1/svn/crackedcomenhancer/Build/Build/Modules/CCE_Module_Config.user.js, Compressed: http://127.0.0.1/svn/crackedcomenhancer/Compressed/Modules/CCE_Module_Config.user.js}}}
// @pagetype				{Other: {Pattern: ".*?", Modules: "CCE_Module_Config"}}
// ==/UserScript==
var CCEGM_HTML5_FIX = 'if(typeof unsafeWindow === "undefined") unsafeWindow = window;if(typeof(window.unsafeWindow) === "undefined") window.unsafeWindow = window;var GlobalVars = unsafeWindow.GlobalVars;var stor=(localStorage?localStorage:(unsafeWindow.localStorage?unsafeWindow.localStorage:window.localStorage));if(!stor)if(!qsel||!checkBy)throw new Error("No Storage Found.Only browsers with HTML 5 Web Storage Support");function GM_getValue(varname,def){var name="GM_API_"+varname;if(stor[name]) {if (stor.getItem(name) == "true") return true;if (stor.getItem(name) == "false") return false;return stor.getItem(name);} else return def;};function GM_setValue(varname,varval){var name="GM_API_"+varname;return stor.setItem(name,varval);};function GM_deleteValue(varname){var name="GM_API_"+varname;return stor.removeItem(name);};GlobalVars.fn.setValue = function(key, value) {GlobalVars.prefs[key] = value;GM_setValue(key, value);};GlobalVars.fn.getValue = function(key, value) {return GM_getValue(key, value);return value;};GlobalVars.fn.addStyle = function(css) {if(typeof css != "undefined" && css != \'\'){if (typeof GM_addStyle !== \'undefined\') { return GM_addStyle(css); }else if (heads = document.getElementsByTagName(\'head\')) {var style = document.createElement(\'style\');try { style.innerHTML = css; }catch(x) { style.innerText = css; }style.type = \'text/css\';heads[0].appendChild(style);}}};function AddJQueryFunctions(){$.fn.getElementIndex=function(){var allSibs=this.parent().children();var Index=allSibs.index(this);return Index};$.fn.watch=function(props,callback,timeout){if(!timeout)timeout=10;return this.each(function(){var el=$(this),func=function(){__check.call(this,el)},data={props:props.split(","),func:callback,vals:[]};$.each(data.props,function(i){data.vals[i]=el.css(data.props[i])});el.data(data);if(typeof(this.onpropertychange)=="object"){el.bind("propertychange",callback)}else if($.browser.mozilla){el.bind("DOMAttrModified",callback)}else{setInterval(func,timeout)}});function __check(el){var data=el.data(),changed=false,temp="";for(var i=0;i<data.props.length;i++){temp=el.css(data.props[i]);if(data.vals[i]!=temp){data.vals[i]=temp;changed=true;break}}if(changed&&data.func){data.func.call(el,data)}}};$.extend({stringify:function stringify(obj){if("JSON"in window){return JSON.stringify(obj)}var t=typeof(obj);if(t!="object"||obj===null){if(t=="string")obj=\'"\'+obj+\'"\';return String(obj)}else{var n,v,json=[],arr=(obj&&obj.constructor==Array);for(n in obj){v=obj[n];t=typeof(v);if(obj.hasOwnProperty(n)){if(t=="string"){v=\'"\'+v+\'"\'}else if(t=="object"&&v!==null){v=jQuery.stringify(v)}json.push((arr?"":\'"\'+n+\'":\')+String(v))}}return(arr?"[":"{")+String(json)+(arr?"]":"}")}}});};';
var CCEVideoJs='/*jgjake2 script mod*/var CrackedJS=(function(){return{isMobileBrowser:function(a){if(typeof a=="undefined"){if(navigator.userAgent.match(/(iPod|iPhone|iPad|Android|Blackberry)/i)){return true}else{return false}}else{var b=new RegExp(a,"i");if(navigator.userAgent.match(b)){return true}else{return false}}},checkTakeover:function(){var b=document.getElementsByTagName("html")[0].getAttribute("branded");var a=document.getElementsByTagName("html")[0].getAttribute("data-buttoned");if(b!=null){$("#brandBlip").show()}else{if(a==null){$(".blip").show()}else{$("#blip1").show();$("#blip2").hide()}$(".blip").animate({opacity:1},1200)}},hideFeatureButtons:function(){$(".blip").animate({top:50,opacity:0},500);setTimeout(function(){$(".blip").css("display","none")},3000)},newsletterPopper:function(){if(FBSliver.isShowing()!=true){var c=document.getElementsByTagName("html")[0].getAttribute("branded");if(parseInt(dmjs.cookies.readCookie("newsletterPopper"))>1&&dmjs.cookies.readCookie("fbShownThisSession")==null&&CrackedJS.isMobileBrowser()==false&&c==null){dmjs.cookies.createCookie("newsletterPopper","close",14);if(dmjs.cookies.readCookie("newsletterDisp")==null){$.fancybox("/login/newsletter-popup/",{type:"ajax",overlayColor:"#000"})}}else{if(dmjs.cookies.readCookie("newsletterPopper")==null&&dmjs.cookies.readCookie("fbShownThisSession")==null){dmjs.cookies.createCookie("newsletterPopper",1,14)}else{if((dmjs.cookies.readCookie("newsletterPopper")==1||dmjs.cookies.readCookie("newsletterPopper")==2)&&dmjs.cookies.readCookie("fbShownThisSession")==null){var b=parseInt(dmjs.cookies.readCookie("newsletterPopper"))+1;dmjs.cookies.createCookie("newsletterPopper",b,14)}}}}else{if(dmjs.cookies.readCookie("fbShownThisSession")==null){dmjs.cookies.createCookie("fbShownThisSession","fbShownThisSession",0.25)}}},randomizeNavFeatures:function(){var d={"0":[{"class":"iphoneBlip",href:"http://bit.ly/ym3bbG",id:"",desc:"Get the Cracked Lite iPhone reader",target:"_blank"}],"1":[{"class":"ipadBlip",href:"http://bit.ly/ccuDDf",id:"",desc:"Get the Cracked iPad reader",target:"_blank"}],"2":[{"class":"androidBlip",href:"http://bit.ly/pSFrpA",id:"",desc:"Get the Cracked Lite Android reader",target:"_blank"}],"3":[{"class":"amazingImageHubBlip",href:"http://bit.ly/w2TJ7t",id:"",desc:"Images You Won\'t Believe Aren\'t Photoshopped",target:""}],"4":[{"class":"ahBlip",href:"#",id:"header-nav-featured-url-AH",desc:"After Hours Videos",target:""}],"5":[{"class":"dncBlip",href:"#",id:"header-nav-featured-url-DNC",desc:"Does Not Compute Videos",target:""}],"6":[{"class":"b2sBlip",href:"http://bit.ly/n9Bult",id:"",desc:"Back to School Facts",target:""}],"7":[{"class":"horrorBlip",href:"http://bit.ly/sgwdGP",id:"",desc:"Horror",target:""}],"8":[{"class":"cracked64Blip",href:"http://bit.ly/uWzRG1",id:"",desc:"Cracked 64",target:""}],"9":[{"class":"videoHubBlip",href:"http://bit.ly/rVezn7",id:"",desc:"Video Hub",target:""}],};var f=10;var e=Math.floor(Math.random()*f);var c=Math.floor(Math.random()*f);while(c==e){c=Math.floor(Math.random()*f)}var b=document.createElement("a");var a=document.createElement("a");b.href=d[e][0].href;a.href=d[c][0].href;b.target=d[e][0].target;a.target=d[c][0].target;b.id=d[e][0].id;a.id=d[c][0].id;$("#blip1 a").remove();$("#blip2 a").remove();$("#blip1").removeClass("iphoneBlip");$("#blip2").removeClass("aoc3Blip");$("#blip1").addClass(d[e][0]["class"]);$("#blip1").append(b);$("#blip1 a").html(d[e][0]["desc"]);$("#blip2").addClass(d[c][0]["class"]);$("#blip2").append(a);$("#blip2 a").html(d[c][0]["desc"])}}})();var Facebook={};Facebook.getLoginStatus=function(g){return true};Facebook.initalize=function(g){return true};jQuery.effects||function(r,i){function e(j){var f;if(j&&j.constructor==Array&&j.length==3){return j}if(f=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(j)){return[parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10)]}if(f=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(j)){return[parseFloat(f[1])*2.55,parseFloat(f[2])*2.55,parseFloat(f[3])*2.55]}if(f=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(j)){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}if(f=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(j)){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}if(/rgba\(0, 0, 0, 0\)/.exec(j)){return d.transparent}return d[r.trim(j).toLowerCase()]}function x(k,j){var f;do{f=r.curCSS(k,j);if(f!=""&&f!="transparent"||r.nodeName(k,"body")){break}j="backgroundColor"}while(k=k.parentNode);return e(f)}function c(){var m=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,j={},f,l;if(m&&m.length&&m[0]&&m[m[0]]){for(var k=m.length;k--;){f=m[k];if(typeof m[f]=="string"){l=f.replace(/\-(\w)/g,function(o,n){return n.toUpperCase()});j[l]=m[f]}}}else{for(f in m){if(typeof m[f]==="string"){j[f]=m[f]}}}return j}function b(k){var j,f;for(j in k){f=k[j];if(f==null||r.isFunction(f)||j in w||/scrollbar/.test(j)||!/color/i.test(j)&&isNaN(parseFloat(f))){delete k[j]}}return k}function v(l,j){var f={_:0},k;for(k in j){if(l[k]!=j[k]){f[k]=j[k]}}return f}function h(l,j,f,k){if(typeof l=="object"){k=j;f=null;j=l;l=j.effect}if(r.isFunction(j)){k=j;f=null;j={}}if(typeof j=="number"||r.fx.speeds[j]){k=f;f=j;j={}}if(r.isFunction(f)){k=f;f=null}j=j||{};f=f||j.duration;f=r.fx.off?0:typeof f=="number"?f:f in r.fx.speeds?r.fx.speeds[f]:r.fx.speeds._default;k=k||j.complete;return[l,j,f,k]}function g(f){if(!f||typeof f==="number"||r.fx.speeds[f]){return true}if(typeof f==="string"&&!r.effects[f]){return true}return false}r.effects={};r.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(j,f){r.fx.step[f]=function(k){if(!k.colorInit){k.start=x(k.elem,f);k.end=e(k.end);k.colorInit=true}k.elem.style[f]="rgb("+Math.max(Math.min(parseInt(k.pos*(k.end[0]-k.start[0])+k.start[0],10),255),0)+","+Math.max(Math.min(parseInt(k.pos*(k.end[1]-k.start[1])+k.start[1],10),255),0)+","+Math.max(Math.min(parseInt(k.pos*(k.end[2]-k.start[2])+k.start[2],10),255),0)+")"}});var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},a=["add","remove","toggle"],w={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};r.effects.animateClass=function(l,j,f,k){if(r.isFunction(f)){k=f;f=null}return this.queue(function(){var q=r(this),p=q.attr("style")||" ",n=b(c.call(this)),o,m=q.attr("class");r.each(a,function(s,t){l[t]&&q[t+"Class"](l[t])});o=b(c.call(this));q.attr("class",m);q.animate(v(n,o),{queue:false,duration:j,easding:f,complete:function(){r.each(a,function(s,t){l[t]&&q[t+"Class"](l[t])});if(typeof q.attr("style")=="object"){q.attr("style").cssText="";q.attr("style").cssText=p}else{q.attr("style",p)}k&&k.apply(this,arguments);r.dequeue(this)}})})};r.fn.extend({_addClass:r.fn.addClass,addClass:function(l,j,f,k){return j?r.effects.animateClass.apply(this,[{add:l},j,f,k]):this._addClass(l)},_removeClass:r.fn.removeClass,removeClass:function(l,j,f,k){return j?r.effects.animateClass.apply(this,[{remove:l},j,f,k]):this._removeClass(l)},_toggleClass:r.fn.toggleClass,toggleClass:function(m,j,f,l,k){return typeof j=="boolean"||j===i?f?r.effects.animateClass.apply(this,[j?{add:m}:{remove:m},f,l,k]):this._toggleClass(m,j):r.effects.animateClass.apply(this,[{toggle:m},j,f,l])},switchClass:function(m,j,f,l,k){return r.effects.animateClass.apply(this,[{add:j,remove:m},f,l,k])}});r.extend(r.effects,{version:"1.8.13",save:function(k,j){for(var f=0;f<j.length;f++){j[f]!==null&&k.data("ec.storage."+j[f],k[0].style[j[f]])}},restore:function(k,j){for(var f=0;f<j.length;f++){j[f]!==null&&k.css(j[f],k.data("ec.storage."+j[f]))}},setMode:function(j,f){if(f=="toggle"){f=j.is(":hidden")?"show":"hide"}return f},getBaseline:function(k,j){var f;switch(k[0]){case"top":f=0;break;case"middle":f=0.5;break;case"bottom":f=1;break;default:f=k[0]/j.height}switch(k[1]){case"left":k=0;break;case"center":k=0.5;break;case"right":k=1;break;default:k=k[1]/j.width}return{x:k,y:f}},createWrapper:function(k){if(k.parent().is(".ui-effects-wrapper")){return k.parent()}var j={width:k.outerWidth(true),height:k.outerHeight(true),"float":k.css("float")},f=r("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});k.wrap(f);f=k.parent();if(k.css("position")=="static"){f.css({position:"relative"});k.css({position:"relative"})}else{r.extend(j,{position:k.css("position"),zIndex:k.css("z-index")});r.each(["top","left","bottom","right"],function(m,l){j[l]=k.css(l);if(isNaN(parseInt(j[l],10))){j[l]="auto"}});k.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return f.css(j).show()},removeWrapper:function(f){if(f.parent().is(".ui-effects-wrapper")){return f.parent().replaceWith(f)}return f},setTransition:function(l,j,f,k){k=k||{};r.each(j,function(n,m){unit=l.cssUnit(m);if(unit[0]>0){k[m]=unit[0]*f+unit[1]}});return k}});r.fn.extend({effect:function(l){var j=h.apply(this,arguments),f={options:j[1],duration:j[2],callback:j[3]};j=f.options.mode;var k=r.effects[l];if(r.fx.off||!k){return j?this[j](f.duration,f.callback):this.each(function(){f.callback&&f.callback.call(this)})}return k.call(this,f)},_show:r.fn.show,show:function(j){if(g(j)){return this._show.apply(this,arguments)}else{var f=h.apply(this,arguments);f[1].mode="show";return this.effect.apply(this,f)}},_hide:r.fn.hide,hide:function(j){if(g(j)){return this._hide.apply(this,arguments)}else{var f=h.apply(this,arguments);f[1].mode="hide";return this.effect.apply(this,f)}},__toggle:r.fn.toggle,toggle:function(j){if(g(j)||typeof j==="boolean"||r.isFunction(j)){return this.__toggle.apply(this,arguments)}else{var f=h.apply(this,arguments);f[1].mode="toggle";return this.effect.apply(this,f)}},cssUnit:function(k){var j=this.css(k),f=[];r.each(["em","px","%","pt"],function(m,l){if(j.indexOf(l)>0){f=[parseFloat(j),l]}});return f}});r.easing.jswing=r.easing.swing;r.extend(r.easing,{def:"easeOutQuad",swing:function(m,j,f,l,k){return r.easing[r.easing.def](m,j,f,l,k)},easeInQuad:function(m,j,f,l,k){return l*(j/=k)*j+f},easeOutQuad:function(m,j,f,l,k){return-l*(j/=k)*(j-2)+f},easeInOutQuad:function(m,j,f,l,k){if((j/=k/2)<1){return l/2*j*j+f}return-l/2*(--j*(j-2)-1)+f},easeInCubic:function(m,j,f,l,k){return l*(j/=k)*j*j+f},easeOutCubic:function(m,j,f,l,k){return l*((j=j/k-1)*j*j+1)+f},easeInOutCubic:function(m,j,f,l,k){if((j/=k/2)<1){return l/2*j*j*j+f}return l/2*((j-=2)*j*j+2)+f},easeInQuart:function(m,j,f,l,k){return l*(j/=k)*j*j*j+f},easeOutQuart:function(m,j,f,l,k){return-l*((j=j/k-1)*j*j*j-1)+f},easeInOutQuart:function(m,j,f,l,k){if((j/=k/2)<1){return l/2*j*j*j*j+f}return-l/2*((j-=2)*j*j*j-2)+f},easeInQuint:function(m,j,f,l,k){return l*(j/=k)*j*j*j*j+f},easeOutQuint:function(m,j,f,l,k){return l*((j=j/k-1)*j*j*j*j+1)+f},easeInOutQuint:function(m,j,f,l,k){if((j/=k/2)<1){return l/2*j*j*j*j*j+f}return l/2*((j-=2)*j*j*j*j+2)+f},easeInSine:function(m,j,f,l,k){return-l*Math.cos(j/k*(Math.PI/2))+l+f},easeOutSine:function(m,j,f,l,k){return l*Math.sin(j/k*(Math.PI/2))+f},easeInOutSine:function(m,j,f,l,k){return-l/2*(Math.cos(Math.PI*j/k)-1)+f},easeInExpo:function(m,j,f,l,k){return j==0?f:l*Math.pow(2,10*(j/k-1))+f},easeOutExpo:function(m,j,f,l,k){return j==k?f+l:l*(-Math.pow(2,-10*j/k)+1)+f},easeInOutExpo:function(m,j,f,l,k){if(j==0){return f}if(j==k){return f+l}if((j/=k/2)<1){return l/2*Math.pow(2,10*(j-1))+f}return l/2*(-Math.pow(2,-10*--j)+2)+f},easeInCirc:function(m,j,f,l,k){return-l*(Math.sqrt(1-(j/=k)*j)-1)+f},easeOutCirc:function(m,j,f,l,k){return l*Math.sqrt(1-(j=j/k-1)*j)+f},easeInOutCirc:function(m,j,f,l,k){if((j/=k/2)<1){return-l/2*(Math.sqrt(1-j*j)-1)+f}return l/2*(Math.sqrt(1-(j-=2)*j)+1)+f},easeInElastic:function(o,j,f,n,m){o=1.70158;var l=0,k=n;if(j==0){return f}if((j/=m)==1){return f+n}l||(l=m*0.3);if(k<Math.abs(n)){k=n;o=l/4}else{o=l/(2*Math.PI)*Math.asin(n/k)}return-(k*Math.pow(2,10*(j-=1))*Math.sin((j*m-o)*2*Math.PI/l))+f},easeOutElastic:function(o,j,f,n,m){o=1.70158;var l=0,k=n;if(j==0){return f}if((j/=m)==1){return f+n}l||(l=m*0.3);if(k<Math.abs(n)){k=n;o=l/4}else{o=l/(2*Math.PI)*Math.asin(n/k)}return k*Math.pow(2,-10*j)*Math.sin((j*m-o)*2*Math.PI/l)+n+f},easeInOutElastic:function(o,j,f,n,m){o=1.70158;var l=0,k=n;if(j==0){return f}if((j/=m/2)==2){return f+n}l||(l=m*0.3*1.5);if(k<Math.abs(n)){k=n;o=l/4}else{o=l/(2*Math.PI)*Math.asin(n/k)}if(j<1){return-0.5*k*Math.pow(2,10*(j-=1))*Math.sin((j*m-o)*2*Math.PI/l)+f}return k*Math.pow(2,-10*(j-=1))*Math.sin((j*m-o)*2*Math.PI/l)*0.5+n+f},easeInBack:function(n,j,f,m,l,k){if(k==i){k=1.70158}return m*(j/=l)*j*((k+1)*j-k)+f},easeOutBack:function(n,j,f,m,l,k){if(k==i){k=1.70158}return m*((j=j/l-1)*j*((k+1)*j+k)+1)+f},easeInOutBack:function(n,j,f,m,l,k){if(k==i){k=1.70158}if((j/=l/2)<1){return m/2*j*j*(((k*=1.525)+1)*j-k)+f}return m/2*((j-=2)*j*(((k*=1.525)+1)*j+k)+2)+f},easeInBounce:function(m,j,f,l,k){return l-r.easing.easeOutBounce(m,k-j,0,l,k)+f},easeOutBounce:function(m,j,f,l,k){return(j/=k)<1/2.75?l*7.5625*j*j+f:j<2/2.75?l*(7.5625*(j-=1.5/2.75)*j+0.75)+f:j<2.5/2.75?l*(7.5625*(j-=2.25/2.75)*j+0.9375)+f:l*(7.5625*(j-=2.625/2.75)*j+0.984375)+f},easeInOutBounce:function(m,j,f,l,k){if(j<k/2){return r.easing.easeInBounce(m,j*2,0,l,k)*0.5+f}return r.easing.easeOutBounce(m,j*2-k,0,l,k)*0.5+l*0.5+f}})}(jQuery);(function(a){a.effects.shake=function(b){return this.queue(function(){var u=a(this),n=["position","top","bottom","left","right"];a.effects.setMode(u,b.options.mode||"effect");var t=b.options.direction||"left",s=b.options.distance||20,d=b.options.times||3,r=b.duration||b.options.duration||140;a.effects.save(u,n);u.show();a.effects.createWrapper(u);var q=t=="up"||t=="down"?"top":"left",p=t=="up"||t=="left"?"pos":"neg";t={};var o={},m={};t[q]=(p=="pos"?"-=":"+=")+s;o[q]=(p=="pos"?"+=":"-=")+s*2;m[q]=(p=="pos"?"-=":"+=")+s*2;u.animate(t,r,b.options.easing);for(s=1;s<d;s++){u.animate(o,r,b.options.easing).animate(m,r,b.options.easing)}u.animate(o,r,b.options.easing).animate(t,r/2,b.options.easing,function(){a.effects.restore(u,n);a.effects.removeWrapper(u);b.callback&&b.callback.apply(this,arguments)});u.queue("fx",function(){u.dequeue()});u.dequeue()})}})(jQuery);$(document).ready(function(){var a=(function(){var b=$(".social .favorites").attr("content_type");var c=$(".social .favorites").attr("cid");return{add:function(){var d="/favorite/?action=add&content_type="+b+"&content_id="+c;$(document).load(d,function(f,e,g){if(f.indexOf("false")!=-1){$(".social .favorites").removeClass("off");$(".social .favorites").removeClass("hover");$(".social .favorites").addClass("on")}})},remove:function(){var d="/favorite/?action=del&content_type="+b+"&content_id="+c;$(document).load(d,function(f,e,g){if(f.indexOf("false")!=-1){$(".social .favorites").removeClass("on");$(".social .favorites").addClass("off")}})},toggle:function(){if($(".social .favorites").hasClass("off")){a.add()}else{a.remove()}}}})();$(".social .favorites").hover(function(b){if($(this).hasClass("on")!=true){$(this).addClass("hover")}},function(b){if(($(this).hasClass("on")!=true)&&($(this).hasClass("hover"))){$(this).removeClass("hover")}});$(".social .favorites").mouseup(function(b){if(!isLoggedIn()){GlobalPendingActions.add("favorite",function(){a.toggle()});$("#LoginButton").click();return false}else{a.toggle()}})});var VideoJSClass=function(){var a = 1;var f = 930;var b = 0;var e = $("#videoSlides > ul");var c = $("#videoSlides > ul > li");var d = c.length;return {init: function () {if ($("#videoWrapper").hasClass("index")) {this.updateSlideInfo(a);this.updateSlideDots(a)}},previousSlide: function () {if (a >= 2) {a--} else {a = d}this.seekToSlide(a)},nextSlide: function () {if (a <= d - 1) {a++} else {a = 1}this.seekToSlide(a)},seekToSlide: function (g) {finalpos = -1 * ((g - 1) * f);$("#videoSlides > ul").stop(1, 1).animate({left: finalpos}, 800, "easeOutCirc");a = g;this.updateSlideInfo(g);this.updateSlideDots(g)},updateSlideInfo: function (g) {$("#videoSlideInfo").css("display", "block");$("#slideMask").stop(1, 1).animate({opacity: 0}, 200);$("#videoSlideInfo").stop(1, 1).animate({opacity: 0}, 200);$(".watchNow").stop(1, 1).animate({opacity: 0}, 200);setTimeout(function () {var j = $("#videoSlides > ul > li:nth-child(" + g + ")").find("span");$("#videoSlideInfo h3.series").html(j.attr("data-series"));var k = \'<a href="\' + j.attr("data-url") + \'">\' + j.attr("data-title") + "</a>";$("#videoSlideInfo h3.title").html(k);$("#videoSlideInfo .byline").html(j.html());$("#videoSlideInfo date").html(j.attr("data-date"));$("#videoSlideInfo .views").html(j.attr("data-views") + " " + (typeof j.attr("data-viewstitle") !== "undefined" && j.attr("data-viewstitle") != "" ? j.attr("data-viewstitle") : "views"));$("#videoSlideInfo .watchNow").attr("href", j.attr("data-url")).html(typeof j.attr("data-buttontitle") !== "undefined" && j.attr("data-buttontitle") != "" ? j.attr("data-buttontitle") + "" : "Watch Now");var i = $("#videoSlideInfo").css("height");$("#videoSlideInfo").stop(1, 1).animate({opacity: 1}, 800);var h = 80;if ($("#videoSlideInfo h3.series").html() != "" && !/Version\\s+/i.test($("#videoSlideInfo h3.series").html() + "")) {h = 113;$("#videoSlideInfo .byline").css("display", "none");$("#videoSlideInfo date").addClass("redux")} else {if(/Version\\s+/i.test($("#videoSlideInfo h3.series").html() + "")) h = 113;$("#videoSlideInfo .byline").css("display", "inline");$("#videoSlideInfo date").removeClass("redux")}$("#slideMask").css("height", h);$("#slideMask").stop(1, 1).animate({opacity: 0.8}, 800);$(".watchNow").stop(1, 1).animate({opacity: 1}, 200)}, 300);},updateSlideDots: function (h) {$("#slideDots ul li").removeClass("on");var g = "#slideDots ul #dot" + h;$(g).addClass("on")}}};var VideoJS=VideoJSClass();var TabJS=(function(){var a=".CK-tabs li.contentTab";var b=".CK-blocks li.contentBlock";return{init:function(){$(".CK-tabWrapper").each(function(){if($(this).find("li.contentTab").length==1){$(this).find("li.contentTab").addClass("single")}});TabJS.addListeners()},addListeners:function(){$(a).click(function(){var e=$(this);var c=1;var d=$(this).parent().parent().parent();$(d).find(".contentTab").each(function(){$(this).removeClass("on");if($(this).html()==$(e).html()){clickedIndex=c}else{c++}});$(e).addClass("on");TabJS.showTab(clickedIndex,e)})},showTab:function(f,e){var d=$(e).parent().parent().parent();$(d).find(b).each(function(){$(this).css("display","none")});var g=b+":nth-child("+f+")";var c=d.find(g);$(c).css("display","block")}}})();$(document).ready(function(){VideoJS.init();TabJS.init();$(window).resize(function(){VideoJS.init()});$("#videoWrapper").hover(function(){$("#previousBigButton").css("display","block");$("#nextBigButton").css("display","block")},function(){$("#previousBigButton").css("display","none");$("#nextBigButton").css("display","none")});$("#discoveryWrap").hover(function(){$("#previousBigButton").css("display","block");$("#nextBigButton").css("display","block")},function(){$("#previousBigButton").css("display","none");$("#nextBigButton").css("display","none")});$("#discovery1").click(function(){if($("#videoWrapper").hasClass("index")){VideoJS.previousSlide()}});$("#discovery2").click(function(){if($("#videoWrapper").hasClass("index")){VideoJS.nextSlide()}});$("#slideDots ul li").click(function(){VideoJS.seekToSlide($(this).attr("id").substr(3,1))});$(".addCommentBtn").click(function(d){d.preventDefault();setTimeout(function(){var e=$("#Comments").offset().top;$("html:not(:animated),body:not(:animated)").animate({scrollTop:e-10},500);setTimeout(function(){$(".commentTextArea").focus()},600)},1500)});$(".embedInput").click(function(){this.select()});$(".showMoreBtn").click(function(){if($(".videoSummary").hasClass("collapsed")){$(".videoSummary").removeClass("collapsed");$(".showMoreBtn").attr("value","Show Less")}else{$(".videoSummary").addClass("collapsed");$(".showMoreBtn").attr("value","Show More")}});if(CrackedJS.isMobileBrowser()){var b="iphone";if(navigator.userAgent.match(/(iPad)/i)){b="ipad"}var c=videoPath+b+".mp4";var a=\'<video height="426" width="758" controls="controls" src="\'+c+\'"></video>\';$("#videoPlayer").html(a)}$("#vsPollSubmit").click(function(){if(!isLoggedIn()){GlobalPendingActions.add("vsPollSubmit",function(){vsPollSubmit()});$("#LoginButton").click();return false}else{vsPollSubmit()}});$(window).scroll(function(d){if((parseInt($(window).scrollTop())>videoAPI.VIDEO_FOLD)&&(videoAPI.getCompleteStatus()==true)){videoAPI.pauseCountdown()}else{if((parseInt($(window).scrollTop())<videoAPI.VIDEO_FOLD)&&(videoAPI.getCompleteStatus()==true)){videoAPI.restartCountdown()}}})});var videoAPI=(function(){var a=document.getElementById("dmplayer-336-17830");var b=false;return{VIDEO_FOLD:600,setComplete:function(){b=true},unsetComplete:function(){b=false},getCompleteStatus:function(){return b},checkFold:function(){if(parseInt($(window).scrollTop())>videoAPI.VIDEO_FOLD){a.pauseCountdown()}},pauseCountdown:function(){a.pauseCountdown()},restartCountdown:function(){a.restartCountdown()}}})();function onVideoComplete(){console.log("onVideoComplete");videoAPI.setComplete();if(CCE_Module_Videos.ModulePrefOptions.VideoContinuousPlay.default) setTimeout(function(){videoAPI.checkFold()},3000);if(!CCE_Module_Videos.ModulePrefOptions.VideoContinuousPlay.default) CCE_Module_Videos.CallVideoPlayerFunction("cancelCountdown");}function vsPollSubmit(){var b=$("#vsPoll input[name=agreePoll]:checked").val();var a=$("#poll_id").val();if(b!=null){$.get("/poll/",{action:"vote",poll_id:a,poll_value_id:b},function(c){$("#vsPoll .checklist").find(".radio").replaceWith(\'<span class="voteInt"></span>\');for(value in c.poll["values"]){value=c.poll["values"][value];$("#vsPoll li."+value.value).find(".voteInt").html(value.percentage+"%")}$("#vsPoll #total span").html(c.poll["total"]);$("#vsPoll #total").css("display","block");$("#vsPollSubmit").animate({opacity:0},300,function(){$("#vsPollSubmit").css("display","none")});$("#vsPoll #total").animate({right:0})},"json")}else{alert("Please select someone before you vote")}}if($("html").hasClass("vidSeries")){var lights=(function(){$("#Ad300").css("position","relative");return{calcBounds:function(){var a=$(document).height();var b=$(window).width();if(CrackedJS.isMobileBrowser()){b=$(document).width()}$("#dark").css("width",b);$("#dark").css("height",a)},down:function(){$("#PrimaryContent").css("zIndex",0);$("#NavAndTools").css("zIndex",0);$("#Ad300").css("zIndex",100);$("#videoPlayer").css("zIndex",100);$("#videoPlayer").css("position","relative");$("#dark").addClass("on");$("#dark").removeClass("off");lights.calcBounds();$("#dark").css("opacity",0);$("#dark").stop(1,1).animate({opacity:0.8},500)},up:function(){$("#PrimaryContent").css("zIndex",5);$("#NavAndTools").css("zIndex",100);$("#videoPlayer").css("zIndex",5);$("#Ad300").css("zIndex",0);$("#dark").css("opacity",0.8);$("#dark").stop(1,1).animate({opacity:0},500);setTimeout(function(){$("#dark").addClass("off");$("#dark").removeClass("on")},510)},toggle:function(){if($("#dark").hasClass("on")){lights.up()}else{lights.down()}}}})();var onPlayerDimLights=function(){lights.toggle()};$("#lightsButton").mouseup(function(){onPlayerDimLights()});$(window).resize(function(){if($("#dark").hasClass("on")||$("#dark").hasClass("off")){lights.calcBounds()}})};';
var RELEASE_TYPE="Release";(function(){function n(){for(var a in f.pagetype)if((window.location+"").match(RegExp(f.pagetype[a].Pattern,"")))return a}function u(a){var b=document.createElement("script");b.type="text/javascript";b.innerHTML=a;document.head.insertBefore(b,document.getElementsByTagName("script")[o++])}function v(a){var b=document.createElement("script");b.type="text/javascript";b.innerHTML=GM_getResourceText(a);document.head.insertBefore(b,document.head.getElementsByTagName("script")[o++])}function p(a){var b=document.createElement("script");b.type="text/javascript";b.src=f.module[a].GoogleSVN[RELEASE_TYPE];document.head.insertBefore(b,document.getElementsByTagName("script")[o++])}function q(){window.removeEventListener("beforescriptexecute",r,!0)}function w(){for(var a in e)if(!e[a])return!1;return!0}function x(a){for(var b in i)if(!e[b]){var c=RegExp(GlobalVars.und(i[b].search.src)?i[b].search.innerHTML:i[b].search.src);if(-1!=a.target[GlobalVars.und(i[b].search.src)?"innerHTML":"src"].search(c)){i[b].preventDefault&&a.preventDefault();i[b].stopPropagation&&a.stopPropagation();for(var d in i[b].action){y[d](a.target,i[b].action[d]);break}e[b]=!0;delete i[b];return!0}}}function r(a){try{if("undefined"===typeof GlobalVars.log.OUTPUT_TYPES.PTRS.FIREBUG&&"undefined"!==typeof unsafeWindow.console.group&&GlobalVars.log.UpdateFirebugPtr(unsafeWindow.console),e.CCE_Core_Added)if(e.ModulesAdded)x(a),w()&&q();else{if(!0==GlobalVars.FirstRun){GlobalVars.log.logDebug("First Run!!");for(a=0;a<GlobalVars.AllModules.length;a++)p(GlobalVars.AllModules[a])}else for(j in z)p(j);e.ModulesAdded=!0;!0==GlobalVars.FirstRun&&setTimeout(function(){try{GlobalVars.ReloadWindow()}catch(a){}},2500);return!0}else if(a.target===document.getElementsByTagName("script")[0])return v("CCEJquery"),e.CCEJquery_Added=!0,u(CCEGM_HTML5_FIX),e.HTML5_Fix_Added=!0,p("CCE_Core"),e.CCE_Core_Added=!0}catch(b){GlobalVars.log.logError("BeforeScriptExec",b)}}function A(a,b){GM_xmlhttpRequest({method:"GET",url:a,onload:function(a){b(a.responseText)}})}function s(a){for(var b=a.history[a.version],a='<div class="CCEHistoryDiv"><h2>Changes in '+a.version+":</h2><ul>",c=0;c<b.length;c++)a+="<li>"+b[c]+"</li>";return a+"</ul></div>"}function B(){var a=GlobalVars.getValue("LastUpdateCheck",-1);if(-1!=parseInt(a)){var b=new Date,a=new Date(parseInt(a)),c=new Date;c.setDate(a.getDate()+1);if(b<c)return GlobalVars.log.logFunction("Last Update Check: "+a.toLocaleString()+"\r\nNext Update Check: "+c.toLocaleString()),!1}return!0}function C(){GlobalVars.log.logFunction("Checking for updates...");try{A("http://userscripts.org/scripts/source/130728.meta.js",function(a){var a=GlobalVars.parseMetadata(a),c=new Date(parseInt(GlobalVars.MainMeta.timestamp)),d=new Date(parseInt(a.timestamp));if(c<d)if(GlobalVars.log.logFunction("New Version Available!"),0<l("#videoSlides").length){var c="<span class='number'>"+a.uso.installs+"</span>",d=new Date(a.uso.timestamp),d="January February March April May June July August September October November December".split(" ")[d.getMonth()]+"<span class='number'> "+d.getDate()+", "+d.getFullYear()+"</span>",e="Version "+a.version,a='<li>\t<a href="http://userscripts.org/scripts/show/130728">\t\t<div id="CCEUpdateSlide_Main">\t\t\t<div align="center">\t\t\t\t<div id="CCEUpdateSlide_title">Cracked.Com Enhancer Update!</div>\t\t\t\t<div id="CCEUpdateSlide_History">'+s(a)+'</div>\t\t\t</div>\t\t</div>\t</a>\t<span class="hidden" data-url="http://userscripts.org/scripts/source/130728.user.js" data-views="'+c+'" data-viewstitle="downloads" data-date="'+d+'" data-title="An Update Is Available for Cracked.Com Enhancer" data-series="'+e+'" data-buttontitle="Download">\t\t<address class="byline"><a href="http://userscripts.org/users/208041">jgjake2</a></address>\t</span></li>';GlobalVars.addStyle("#CCEUpdateSlide_Main {position:absolute;top:0px;width:100%;height:100%;overflow:hidden;background: rgba(0,0,0,0.5);}#CCEUpdateSlide_Main > div {top:auto;position:relative;width:100%;font-size:35px; padding-top:30px; font-family: Georgia,serif;}#CCEUpdateSlide_Main div#CCEUpdateSlide_title {position:relative;background-color:#145E9D;color:#FFFFFF;opacity:1;}#CCEUpdateSlide_Main div#CCEUpdateSlide_History {width:400px;color:#FFFFFF;font-size:12px;position:relative;margin-top:15px;text-align:left;}#CCEUpdateSlide_Main div#CCEUpdateSlide_History > div > ul {position:relative;padding-left:20px;padding-top:10px;list-style:disc inside none;top:auto !important;font-size:14px;}#CCEUpdateSlide_Main div#CCEUpdateSlide_History > div > ul > li {}#CCEUpdateSlide_Main div#CCEUpdateSlide_History > div > h2 {color:#FFFFFF;font-size:18px;}");l("#videoSlides > ul").prepend(a);unsafeWindow.VideoJS=new unsafeWindow.VideoJSClass;unsafeWindow.VideoJS.updateSlideInfo(1)}else 0<l("#Navigation").length&&(/http:\/\/www\.cracked\.com\/video_/i.test(window.location+"")||(c=s(a),a="<h2>An Update Is Available for Cracked.Com Enhancer</h2>"+c+'<a href="#" class="closebutton">Close</a><a href="http://userscripts.org/scripts/source/130728.user.js" class="watchNow" style="opacity: 1;">Download</a>',d=130+15*c.match(/<(?:br|li)[^>]*>/gmi).length,"undefined"!==typeof GlobalVars.Modules.CCE_Module_Config&&(c=GlobalVars.Modules.CCE_Module_Config,a=c.NavPopupData({Gradient:{TopColor:"#454545",BottomColor:"#050505"},BG:{r:"0",g:"0",b:"0",a:"0.5"},Content:a,Height:d,CSS:".CCEHistoryDiv {text-align:left;padding:0 100px}.CCEHistoryDiv > h2 {font-size:16px;text-align:left;padding-top:15px;color:#ffffff;font-family: Georgia,serif;}.CCEHistoryDiv ul {list-style:disc inside none;padding-top:5px;font-family: Georgia,serif;}.CCEHistoryDiv ul li {padding-left:10px;}"}),c.AddNavPopup(a))));else GlobalVars.log.logFunction("Version Up To Date!"),GlobalVars.setValue("LastUpdateCheck",(new Date).getTime())})}catch(a){GlobalVars.log.logError("Update",a)}}function t(){q();l=unsafeWindow.$;GM_registerMenuCommand("CCE Options",function(){l("#CCE-menu-button").trigger("click")},"C");1==parseInt(GlobalVars.getPref("CheckForUpdates",1,!0))&&B()&&C();GlobalVars.log.EndTime("CCETotalLoadTime")}if(self!=window.top)return!1;"undefined"==typeof unsafeWindow&&(unsafeWindow=window);"undefined"==typeof window.unsafeWindow&&(window.unsafeWindow=window);var D="Release"!=RELEASE_TYPE?3:2,E="Release"!=RELEASE_TYPE?5:1,F=function(){return{include:[],exclude:[],require:[],CCE_Modules:[],resource:{},loadhooks:{},history:{},module:[],pagetype:[],taborder:[],tabcolor:[],scriptfix:[],uso:[]}};this.CCE_parseJSON=function(a){var b=/(?:["']?(\S+)["']?\s*:\s*["']?((?!{).*?(?=["',}])|(?!{).*?(?:\b$\b)|{(?:[^{}].*?|{[^{}]*.*?})*}?(?:\b$\b)?))["']?\s*,?\s*(.*?)$/,c=/^\s*{(.*?)}?\s*$/,d=/^\s*['"]?(\S*)["']?\s*:\s*\[([^\]]+)\](?:,\s*(.*?)\b$\b)?$/,e=[];c.test(a)&&(a=a.match(c)[1]);for(d.test(a)&&(a=a.match(d)[3]);b.test(a);){var m="",f=d="",m=[],m=a.match(b),d=m[1],f=m[2],m=m[3];e[d]=c.test(f)?CCE_parseJSON(f.match(c)[1]):f;a=m}return e};this.CCE_parseMetadata=function(a){var a=a.split(/[\r\n]+/).filter(function(a){return/\/\/ @/.test(a)}),b="",c="",d=new F,e;for(e in a)if(/\/\/\s*@uso\:\S+/i.test(a[e]+"")){try{var f=(a[e]+"").match(/\/\/\s*@uso\:(\S+)\s+(.*?)\s*$/i),b=f[1],c=f[2]}catch(i){continue}d.uso[b]=c}else if(/\/\/ @(\S+)\s*(.*?)$/.test(a[e]+"")){try{f=(a[e]+"").match(/\/\/ @(\S+)\s*(.*?)$/);b=f[1];c=f[2]}catch(j){continue}if(d[b]instanceof Array)if(/^\s*{(.*?)}\s*$/.test(c)||b=="scriptfix"){var g=CCE_parseJSON(c),k;for(k in g){d[b][k]=g[k];b=="module"&&d.CCE_Modules.push(k);break}}else if(c.indexOf(",")!=-1&&/\[?(?:\s*(\w+)\s*,?)+\]?/.test(c)){g=c.match(/[^,\[\]\s](\w+)[^,\](?:\s+,)]/g);for(k=0;k<g.length;k++)d[b].push(g[k])}else d[b].push(c);else if(d[b]instanceof Object)if(b=="loadhooks"){g=CCE_parseJSON(c);for(k in g)d[b][k]=g[k]}else if(b=="history"||/(\d+\.\d+\.\d+)\s+(.*?)\s*$/.test(c)){var h="",l="",g=[];try{g=(""+a[e]).match(/(\d+\.\d+\.\d+)\s+(.*?)\s*$/);h=g[1];l=g[2]}catch(n){continue}typeof d[b][h]==="undefined"&&(d[b][h]=[]);d[b][h].push(l)}else{g=h="";g=c.split(/\s+/);h=g[1];g=g[2];d[b][h]=g}else d[b]=c}return d};var f=CCE_parseMetadata(GM_info.scriptMetaStr+("Beta"==RELEASE_TYPE?"undefined"!==typeof meta_Main?meta_Main:"":""));if("undefined"===n())return!1;var h=[],z=new function(){h=f.pagetype[n()].Modules.split(" ");for(var a=[],b=0;b<h.length;b++)a[h[b]]=f.module[h[b]].GoogleSVN[RELEASE_TYPE];return a};this.GlobalVars=new function(){this.FirstRun=/CCE_First_Run\=1/i.test(""+window.location)?true:false;this.PageType=n();this.prefs={};this.PrefOptions={};this.defaults={};this.AllModules=f.CCE_Modules;this.AllLoadedModules=h;this.MainMeta=f;this.fn=this.__proto__};unsafeWindow.GlobalVars=this.GlobalVars;GlobalVars.fn.parseJSON=CCE_parseJSON;GlobalVars.fn.parseMetadata=CCE_parseMetadata;GlobalVars.defaults.Tabs={Order:f.taborder,Color:f.tabcolor};GlobalVars.CONSOLE_OUTPUT_TYPES=function(a,b,c){return{PTRS:{CONSOLE2:a,FIREBUG:c,WIN:b},ERROR:{LEVEL:1,GM_LOG:2,CONSOLE2:a.error,FIREBUG:typeof c!=="undefined"?c.error:c,WINCONSOLEPTR:b.console.error},WARNING:{LEVEL:2,GM_LOG:1,CONSOLE2:a.warn,FIREBUG:typeof c!=="undefined"?c.warn:c,WINCONSOLEPTR:b.console.warn},MODULE:{LEVEL:3,GM_LOG:0,CONSOLE2:a.log,FIREBUG:typeof c!=="undefined"?c.info:c,WINCONSOLEPTR:b.console.info},FUNCTION:{LEVEL:4,GM_LOG:0,CONSOLE2:a.log,FIREBUG:typeof c!=="undefined"?c.log:c,WINCONSOLEPTR:b.console.log},DEBUG:{LEVEL:5,GM_LOG:0,CONSOLE2:a.log,FIREBUG:typeof c!=="undefined"?c.debug:c,WINCONSOLEPTR:b.console.debug}}};GlobalVars.log={verbosity_level:E,outputType:D,OUTPUT_TYPES:new GlobalVars.CONSOLE_OUTPUT_TYPES(console,unsafeWindow),UpdateFirebugPtr:function(a){this.OUTPUT_TYPES.PTRS.FIREBUG=a;this.OUTPUT_TYPES.ERROR.FIREBUG=a.error;this.OUTPUT_TYPES.WARNING.FIREBUG=a.warn;this.OUTPUT_TYPES.MODULE.FIREBUG=a.info;this.OUTPUT_TYPES.FUNCTION.FIREBUG=a.log;this.OUTPUT_TYPES.DEBUG.FIREBUG=a.debug},Change_Verbosity_Level:function(a){this.verbosity_level=parseInt(a);switch(this.verbosity_level){case 0:this.logError=function(){return true};case 1:this.logWarning=function(){return true};case 2:this.logModule=function(){return true};case 3:this.logFunction=function(){return true};case 4:this.logDebug=function(){return true}}},outputMessage:function(a,b){if(this.verbosity_level<this.OUTPUT_TYPES[b].LEVEL)return false;this.outputType!=2&&(typeof this.OUTPUT_TYPES[b].FIREBUG!=="undefined"?this.OUTPUT_TYPES[b].FIREBUG(a):typeof GM_log!=="undefined"&&GM_log(a,this.OUTPUT_TYPES[b].GM_LOG));this.outputType>=2&&(typeof this.OUTPUT_TYPES[b].CONSOLE2!=="undefined"&&typeof this.OUTPUT_TYPES[b].CONSOLE2.groupCollapsed==="undefined"?this.OUTPUT_TYPES[b].CONSOLE2(a):typeof this.OUTPUT_TYPES[b].WINCONSOLEPTR!=="undefined"&&typeof this.OUTPUT_TYPES[b].WINCONSOLEPTR.groupCollapsed==="undefined"?this.OUTPUT_TYPES[b].WINCONSOLEPTR(a):typeof console.log!=="undefined"&&typeof console.groupCollapsed==="undefined"?console.log(a):typeof GM_log!=="undefined"&&typeof GM_log.groupCollapsed==="undefined"&&GM_log(a,this.OUTPUT_TYPES[b].GM_LOG))},SetDebugOutputType:function(a){this.outputType=parseInt(a)},logError:function(a,b){this.outputMessage("C.CE Error ("+a+") - "+b.name+" - "+b.message+" in file <"+b.fileName+"> on line "+b.lineNumber,"ERROR")},logWarning:function(a){this.outputMessage(a,"WARNING")},logModule:function(a){this.outputMessage(a,"MODULE")},logFunction:function(a){this.outputMessage(a,"FUNCTION")},logDebug:function(a){this.outputMessage(a,"DEBUG")},StartGroup:function(a,b){(typeof b!=="undefined"?b:0)<=this.verbosity_level&&(this.outputType!=2&&typeof this.OUTPUT_TYPES.PTRS.FIREBUG!=="undefined"&&typeof this.OUTPUT_TYPES.PTRS.FIREBUG.groupCollapsed!=="undefined")&&this.OUTPUT_TYPES.PTRS.FIREBUG.groupCollapsed(a)},EndGroup:function(){(typeof level!=="undefined"?level:0)<=this.verbosity_level&&this.outputType!=2&&(typeof this.OUTPUT_TYPES.PTRS.FIREBUG!=="undefined"&&typeof this.OUTPUT_TYPES.PTRS.FIREBUG.groupEnd!=="undefined")&&this.OUTPUT_TYPES.PTRS.FIREBUG.groupEnd(name)},StartTime:function(a){(typeof level!=="undefined"?level:0)<=this.verbosity_level&&this.outputType!=2&&(typeof this.OUTPUT_TYPES.PTRS.FIREBUG!=="undefined"&&typeof this.OUTPUT_TYPES.PTRS.FIREBUG.time!=="undefined")&&this.OUTPUT_TYPES.PTRS.FIREBUG.time(a)},EndTime:function(a){(typeof level!=="undefined"?level:0)<=this.verbosity_level&&this.outputType!=2&&(typeof this.OUTPUT_TYPES.PTRS.FIREBUG!=="undefined"&&typeof this.OUTPUT_TYPES.PTRS.FIREBUG.timeEnd!=="undefined")&&this.OUTPUT_TYPES.PTRS.FIREBUG.timeEnd(a)}};GlobalVars.fn.ReloadWindow=function(){if(typeof window.location==="undefined")return false;var a=(""+window.location).split("#").join("");/CCE_First_Run\=1/i.test(a)&&(a=a.split(/(?:\?|\&)?CCE_First_Run\=1/i)[0]);var b=/CCEReloaded\=(\d+)/gi;if(b.test(a)){b=a.split(b)[1];if((new Date).getTime()-(new Date(b)).getTime()>1E4)window.location=a.replace(b,(new Date).getTime())}else window.location=a+(a.indexOf("?")!=-1?"&":"?")+"CCEReloaded="+(new Date).getTime();return true};GlobalVars.fn.delayRegMods=new function(){this.modStack=[];this.push=function(a){this.modStack.push(a)};this.exec=function(){for(var a=0;a<this.modStack.length;a++)try{GlobalVars.RegisterModule(this.modStack[a])}catch(b){GlobalVars.log.logError("delayRegMods",b)}this.modStack=[]}};GlobalVars.fn.RegisterModule=function(a){GlobalVars.delayRegMods.push(a)};GlobalVars.fn.getPref=function(a,b,c){try{if(typeof GlobalVars.prefs[a]!=="undefined")return GlobalVars.prefs[a];if(typeof GlobalVars.PrefOptions[a]!=="undefined"&&!c){if(typeof GlobalVars.PrefOptions[a]["default"]!=="undefined")return GlobalVars.PrefOptions[a]["default"];for(c=0;c<h.length;c++)if(typeof GlobalVars.PrefOptions[h[c]]!=="undefined"&&typeof GlobalVars.PrefOptions[h[c]][a]!=="undefined")return GlobalVars.PrefOptions[h[c]][a]["default"]}else if(typeof b!=="undefined")return b}catch(d){GlobalVars.log.logError("Error! GlobalVars.getPref")}return b};GlobalVars.fn.und=function(a){return typeof a==="undefined"?true:false};GlobalVars.fn.getString=function(a,b,c){if(typeof b!=="undefined"){b=GlobalVars.lang.getStringM(a,b.Module_Info.name);if(typeof b!=="undefined"&&b!="undefined")return b}a=GlobalVars.lang.getStringM(a);return typeof a!=="undefined"&&a!="undefined"?a:c};unsafeWindow.GlobalVars=GlobalVars;window.GlobalVars=GlobalVars;var o=1,e={CCEJquery_Added:!1,HTML5_Fix_Added:!1,CCE_Core_Added:!1,ModulesAdded:!1},y={Replace:function(a,b){var c=a.parentNode,d=document.createElement("script");if(GlobalVars.und(b.src)){if(!GlobalVars.und(b.innerHTML))d.innerHTML=eval(b.innerHTML)}else d.src=b.src;c.replaceChild(d,a)},Remove:function(a,b){a.parentNode.removeChild(a);typeof b.execAfter!=="undefined"&&eval(b.execAfter)}},i=[],j;for(j in f.scriptfix)"undefined"===typeof e[j]&&(e[j]=!1),-1!=RegExp(f.scriptfix[j].onPage).test(window.location+"")&&(e[j]?e[j]=!0:i[j]=f.scriptfix[j]);window.addEventListener("beforescriptexecute",r,!0);var l;window.addEventListener?window.addEventListener("load",t,!1):window.attachEvent&&window.attachEvent("onload",t)})();