// ==UserScript==
// @name          Google+ : Custom Theme Tool
// @namespace     Google+
// @description	  Make Google+ be Facebook-liked.Facebook-liked CSS from http://userstyles.org/styles/50051. Easy to configure to set the navi-bar in fixed top position or in white color.
// @author        niefan
// @include       http://plus.google.com/*
// @include       https://plus.google.com/*
// @include       http://*.plus.google.com/*
// @include       https://*.plus.google.com/*
// @include       https://plus.google.com*
// ==/UserScript==
(function() {
	var scriptText = "function MakeFBStyle(){var css =\".a-Eo-T,#gbx3,#gbx4{background-color:transparent;height:0;margin-top:-2px;}#gbz{display:none;}#gbg{margin-top:5px;}.gbgt-hvr{background:transparent;}#gbi1 .gbids{color:#ccc;}.a-U-T{background:#3b5998;height:40px;}.a-U-A{padding:8px 0 0 0;}.a-U-Pg-T img{display:none;}.a-U-Pg-T .a-b-h-Jb{display:block;background:url(https://github.com/fabiogiolito/googleplusfacebook/raw/master/images/google-logo-plus-0fbe8f0119f4a902429a5991af5db563.png) no-repeat;width:103px;height:31px;}.a-b-d2Q2jb{margin-left:-55px;}.a-b-d2Q2jb a span,.a-b-d2Q2jb a.a-MZ5lwb-Pa span,.a-b-d2Q2jb a:hover span{background-image:url(https://github.com/fabiogiolito/googleplusfacebook/raw/master/images/common-full-2fd6df831c52ccf15a88279322948103.png) !important;}.a-MZ5lwb,.a-MZ5lwb:active,.a-MZ5lwb.a-MZ5lwb-Pa{background:transparent !important;box-shadow:none;border:0;margin-right:-10px;}.a-fi-T{background:#627aad;padding:4px;margin-left:20px;}.a-fi-O{border:1px solid #3b5998;height:21px;margin:0;font-size:0.85em;}.a-f-p a,.a-f-i-bg span,.a-f-i-ha div,.a-f-i-Hg span,.a-f-i-WXPuNd .d-h{color:#3b5998;}.a-f-i.a-f-i-Rh,.a-f-i.a-f-oi-Ai{border-left-color:#a5bae5;}.a-f-i-W{background:#edeff4;border:1px solid #fff;}.tk3N6e-e-qc.tk3N6e-e-X,.tk3N6e-e-qc{background:#627aad;border:1px solid #536996;}.a-f-i-W-O{margin:5px 0;padding:4px;border:4px solid #edeff4;box-shadow:inset 0 0 1px #627aad;}.a-b-Cs-T a,.a-b-Cs-T span,.a-Ja-h{color:#3b5998;}.a-la-h-ga:hover,.a-la-hA:hover{background:#eff2f7;}.a-la-Rb-h:hover{background-color:transparent;}.a-la-h-Pa,.a-la-h-Pa:hover{background:#d8dfea url(https://github.com/fabiogiolito/googleplusfacebook/raw/master/images/common-full-2fd6df831c52ccf15a88279322948103.png) no-repeat 5px bottom;color:#3b5998 !important;}.a-la-Rb-h.a-la-h-Pa{background:transparent;}.a-la-h-Pa,.a-la-h-Pa:hover{background:#d8dfea;}\";var node=document.createElement(\"style\");node.type=\"text\/css\";node.id=\"FBStyle\";node.appendChild(document.createTextNode(css));document.getElementsByTagName(\"head\")[0].appendChild(node);toggleFB.setAttribute(\"onclick\",\"UndoMakeFB()\");toggleFB.innerHTML=\"Undo Apply Facebook Style\";lableText.innerHTML=\"Custom Top Bar(Disabled)\";toggleFixed.disabled=true;toggleWB.disabled=true;document.cookie=\"FBStyle=1;domain=plus.google.com;\";var expdate=new Date();expdate.setTime(expdate.getTime()-1);document.cookie=\"TopBarFixed=0;domain=plus.google.com;expires=\"+expdate.toGMTString();document.cookie=\"TopBarWhite=0;domain=plus.google.com;expires=\"+expdate.toGMTString();}function UndoMakeFB(){document.getElementsByTagName(\"head\")[0].removeChild(FBStyle);toggleFB.setAttribute(\"onclick\",\"MakeFBStyle()\");toggleFB.innerHTML=\"Apply Facebook Style\";lableText.innerHTML=\"Custom Top Bar\";toggleFixed.disabled=false;toggleWB.disabled=false;var expdate=new Date();expdate.setTime(expdate.getTime()-1);document.cookie=\"FBStyle=0;domain=plus.google.com;expires=\"+expdate.toGMTString();}function ToggleFixed(){if(toggleFixed.checked){var cssFix=\".a-Eo-T{position:fixed;width:100%}.a-U-T,.Sa-E-U-T{padding-top:30px}\";var node=document.createElement(\"style\");node.type=\"text\/css\";node.id=\"FixedStyle\";node.appendChild(document.createTextNode(cssFix));document.getElementsByTagName(\"head\")[0].appendChild(node);toggleFB.disabled=true;toggleFB.removeAttribute(\"onclick\");toggleFB.innerHTML=\"Apply Facebook Style(Disabled)\";var expdate=new Date();expdate.setTime(expdate.getTime()-1);document.cookie=\"TopBarFixed=1;domain=plus.google.com;\";document.cookie=\"FBStyle=0;domain=plus.google.com;expires=\"+expdate.toGMTString();}else{document.getElementsByTagName(\"head\")[0].removeChild(FixedStyle);var expdate=new Date();expdate.setTime(expdate.getTime()-1);document.cookie=\"TopBarFixed=0;domain=plus.google.com;expires=\"+expdate.toGMTString();if(false==toggleWB.checked){toggleFB.disabled=false;toggleFB.setAttribute(\"onclick\",\"MakeFBStyle()\");toggleFB.innerHTML=\"Apply Facebook Style\";}}}function ToggleWB(){if(toggleWB.checked){var cssWhite=\".a-Eo-T{background:transparent;border-bottom:1px solid #C9D7F1;}#gbx3,#gbx4{_height:30px;background-color:#fff;background-position:0 -138px;background-repeat:repeat-x;border-bottom:1px solid #e5e5e5;filter:alpha(opacity=40);font-size:24px;height:29px;opacity:.4;}.gbz0l .gbts{color:#363636;}#gbz .gbzt,#gbz .gbgt,#gbg .gbgt{color:#36c!important;}.gbtb .gbts{background-position:0 -22px;}.gbzt-hvr,.gbzt:focus,.gbgt-hvr,.gbgt:focus{background-color:transparent;}.gbz0l .gbtb2{border-top-color:#1a54e1!important;}#gbi5{background-position:-6px -22px;}.gbto #gbi1a{_background-position:0 -274px;}.gbto #gbi1a.gbid{_background-position:-26px -274px;}#gbi1.gbids{color:#fff;}.gbgsca,.gbgscb{_background:no-repeat;}#gbx3,#gbx4,.gbtb .gbts,.gbzt-hvr,.gbzt:focus,.gbgt-hvr,.gbgt:focus,#gbi4id,#gbmpid,#gbi5,.gbmpmtc,.gbp0i,#gbi1a,.gbgsca,.gbgscb,.gbgsb{_background-image:url(//ssl.gstatic.com/gb/images/h8_fb39057a.png);}#gbx3,#gbx4,.gbtb .gbts,.gbzt-hvr,.gbzt:focus,.gbgt-hvr,.gbgt:focus,#gbi5{background-image:url(//ssl.gstatic.com/gb/images/h_bedf916a.png);}\";var node=document.createElement(\"style\");node.type=\"text\/css\";node.id=\"WhiteStyle\";node.appendChild(document.createTextNode(cssWhite));document.getElementsByTagName(\"head\")[0].appendChild(node);toggleFB.disabled=true;toggleFB.removeAttribute(\"onclick\");toggleFB.innerHTML=\"Apply Facebook Style(Disabled)\";var expdate=new Date();expdate.setTime(expdate.getTime()-1);document.cookie=\"TopBarWhite=1;domain=plus.google.com;\";document.cookie=\"FBStyle=0;domain=plus.google.com;expires=\"+expdate.toGMTString();}else{document.getElementsByTagName(\"head\")[0].removeChild(WhiteStyle);var expdate=new Date();expdate.setTime(expdate.getTime()-1);document.cookie=\"TopBarWhite=0;domain=plus.google.com;expires=\"+expdate.toGMTString();}if(false==toggleFixed.checked){toggleFB.disabled=false;toggleFB.setAttribute(\"onclick\",\"MakeFBStyle()\");toggleFB.innerHTML=\"Apply Facebook Style\";}}function getCookie(name){var arr,reg=new RegExp(\"(^| )\"+name+\"=([^;]*)(;|$)\");if(arr=document.cookie.match(reg)) return unescape(arr[2]);else return null;}function AddSetItem(){try{var setItems=document.getElementsByClassName(\"gbkc\");var subline=document.getElementsByClassName(\"gbmt gbmh\")[0].parentNode.cloneNode(true);if(0<setItems.length){var node=document.getElementsByClassName(\"gbkp gbmtc\")[0].cloneNode(false);var node2=node.cloneNode(false);var configarea=document.createElement(\"a\");node2.innerHTML=\'<div id=\"styleTopBar\" class=\"gbmt\"><span id=\"lableText\">Custom Top Bar</span><div class=\"gbmt\" style=\"line-height:18px;\"><input type=\"checkbox\" id=\"toggleFixed\" onclick=\"ToggleFixed()\"><label>Fix</label><input type=\"checkbox\" value=\"toggleWB\" id=\"toggleWB\" style=\"margin-left:30px;\" onclick=\"ToggleWB()\"><label>White</label></div></div>';configarea.id=\"toggleFB\";configarea.setAttribute(\"onclick\",\"MakeFBStyle()\");configarea.className=\"gbmt\";configarea.appendChild(document.createTextNode(\"Apply Facebook Style\"));node.appendChild(configarea);setItems[0].parentNode.appendChild(subline);setItems[0].parentNode.appendChild(node);setItems[0].parentNode.appendChild(subline.cloneNode(true));setItems[0].parentNode.appendChild(node2);}}catch(e){}if(getCookie(\"FBStyle\")) MakeFBStyle();if(getCookie(\"TopBarFixed\")) toggleFixed.click();if(getCookie(\"TopBarWhite\")) toggleWB.click();}";
	var scriptnode = document.createElement("script");
	scriptnode.appendChild(document.createTextNode(scriptText));
	document.getElementsByTagName("head")[0].appendChild(scriptnode); 
	var scriptnode2 = document.createElement("script");
	scriptnode2.appendChild(document.createTextNode("AddSetItem();"));
	document.getElementsByTagName("body")[0].appendChild(scriptnode2);
})();