// ==UserScript==
// @author        Mare
// @email 	  zorglub76@gmail.com
// @name          Hype Machine Downloader
// @description	  Adds download icons to the Hype Machine tracks. Right click these icons and save the links as audio file. 
// @include       http://hypem.com/*
// @run-at		document-end
// ==/UserScript==

var str = "";
var img = 'data:image/png;base64,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';
var img1 = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABFZJREFUeNrsl09IHGcUwH+zu+rKuFjXwhrdNWiEHNqKBspGSCC9RCiFBgoWpKVVrHUTYxtKIIckTVu8FHopklwKJqalgUIpJJdCb0IPKmwizeq6NKn7h8wO4mbWHV1n508Prulqd9b8OXjJg+8w37zvze97733veyNYlsV+ioN9lpcA+w7gAhgdHX1RO/3AB8AhQAX+AK4BDystmpiY2AJ4AXkbCAWDwXdOnDiBz+ejUChw9+7d7jt37pxfW1v7Evh6Tw88hdQBIpAumfumqqrq4tjYGG1tbayurqIoCoIg0NnZydGjR7l+/fpX4XC4CbgMrDwPwBdAqKam5lB1dTVra2sq8BOwUFdXd3F8fJyNjQ2SyeSORfl8ns3NTfr7+/H7/aHbt29bwJlnBZjo6Og4MzIygtvtBsA0TXF2dnb45s2bq5cuXSKXy/H48eOyi1VVJZ/P09vby+Li4ulYLPYA+G63nmBZVrkk/Lazs/P88PAwsiyTy+W2lAWBxsZGRFFEVVVWVlb2jJ0oioiiyIULF/4GOp4mCV0Oh+P80NAQyWSS9fX1HS8lScLpdGIYxlMlj6Io+Hw+6uvrDymK0gKk9grBh0eOHCGbzZLNZssa1XWd165MAwIIxUkL7l85VlY/m80SCARQFCUI/LoXwJuBQABVVdF13X5rtW4QhP+eLctW3zRN28K3G+At4NVsNotVwSAAHnFr99sQpr2+YRhomgbwCaADv5UDOAmE+vr6TnV3d7O0tFQZoN4DjpIQmBaFQqGsajqdZnBwkEgkcnJqaqoWqAV+3g0Q6uvrO+X3+5mfn987uxo84HQUPWCBYe+BTCZDJpPhwIEDDAwMHJ+cnGQ3wHuBQOBUa2sry8vLtt+8kapmcrUGqp3Q6ATXToBjCwZoJgOv5PmoZfN/6xOJBC0tLRw+fPh4NBodAn7YBgj19PSQTqdt3Qhw7g0vtZLI1VVzC6LKsRUGC9BN0EyG6uGzZheSlCtrQ5ZlgsEg0Wg0VArwutfrRZKkinFPpVJ82uJno8bLZMFVBKAIYDHk0hnzZkgmkrY2VFWlubkZ4GBpCExN09B1vXLiAYn4MmcPOiHvY5KqogcsPrZ0TrtXiP/zkEp9pmU9SVarFGAmmUy+6/F4yOfze+Zf4kGMUIeTnOHnF8HJ+xiccUokYrHSM19W3G43siwDREsLw7XZ2Vm8Xi+GYTzxhN3QNI1k9D7nqh4RclqcdUkkFv+i1It2QxRFZmZmKDYsTwB+z2QyV8PhMA0NDQiCgGEYFYemaTyK3GOksIS8cA9N0yrqm6aJ1+slHo8jSdKt4rW+ow5MzM3NCevr66Guri5kWa54IrYrXDQa3aqxDvv20uVy0dTURCQSIRwO39re/W6ABeByJBLZVBTl8/b2djweD0JpvX9OyeVyTE9PE4/HvwcmgJjdXbACnEulUn+mUqkBoO0Z2jZbRwEJ4EfgRtmG5OWPyUuA/ZR/BwBtMkHRkInz6wAAAABJRU5ErkJggg%3D%3D';

str += "img = '";
str += img;
str += "'; img1 = '";
str += img1;
str += "'; function asdf(){console.log('STARTED!');if(document.getElementById('player-loading').style.display == 'none'){console.log('READY!'); onReady();} else {console.log('NOT READY!');setTimeout(asdf, 100);}}";
str += "function onReady(){ var tracks = document.getElementsByClassName('track_name');"
str += "for (var i=0; i<tracks.length; i++){";
str += "var file = \"http://hypem.com/serve/play/\" + trackList[activeList][i].id + \"/\" + trackList[activeList][i].key + \".mp3\";";
str += "var el = document.createElement('a');";
str += "el.style = 'display: block; float: left; margin: -5px 5px 0 0;';";
str += "el.href = file;";
str += "el.innerHTML = '<img onmouseover=\"this.src = img1;\" onmouseout=\"this.src = img;\" src=\"' + img + '\" />';";
str += "tracks[i].insertBefore(el, tracks[i].childNodes[0]);}}";
str += "asdf();";
//str += "document.addEventListener( 'DOMContentLoaded', asdf, false );";
//str += "window.addEventListener( 'load', asdf, false );";


var myScript = document.createElement('script');
myScript.type = 'text/javascript';
var myText = document.createTextNode(str);
myScript.appendChild(myText);
document.getElementsByTagName('body')[0].appendChild(myScript);