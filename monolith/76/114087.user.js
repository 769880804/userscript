// ==UserScript==
// @name			眼不见心不烦（新浪微博）
// @namespace		http://weibo.com/salviati
// @license			MIT License
// @description		新浪微博（weibo.com）非官方功能增强脚本，具有屏蔽关键词、用户、来源、链接，改造版面等功能
// @features		用户信息气球屏蔽链接从关注按钮分离；在个人主页和单条微博页面添加屏蔽用户按钮；在被屏蔽的用户个人主页中正常显示其本人发布的微博；修正微博会员图标屏蔽失效的问题；修正好友圈导航栏屏蔽失效的问题
// @version			1.1.11.1
// @revision		90
// @author			@富平侯
// @committers		@牛肉火箭, @JoyerHuang_悦
// @grant			GM_getValue
// @grant			GM_setValue
// @grant			GM_xmlhttpRequest
// @grant			unsafeWindow
// @include			http://weibo.com/*
// @include			http://www.weibo.com/*
// @updateURL		https://userscripts.org/scripts/source/114087.meta.js
// @downloadURL		https://userscripts.org/scripts/source/114087.user.js
// ==/UserScript==
(function(){function y(){var a={keyword:[],string:"",bool:!1,radio:"",array:[],object:{},internal:null},d;for(d in this.items)this[d]=1<this.items[d].length?this.items[d][1]:a[this.items[d][0]]}var d=function(){var a=function(a){return document.getElementById(a)};a.version=Number("90");a.select=function(a){return document.querySelector(a)};if(window.chrome){if(localStorage.getItem("weiboPlus.chromeExtInstalled")){console.warn("已安装插件版本，脚本停止运行！");return}var d=window.navigator.userAgent.match(/Chrome\/(\d+)/)&&
RegExp.$1;!localStorage.getItem("weiboPlus.chromeExtTip")&&confirm("以用户脚本方式安装的“眼不见心不烦”插件将在Chrome 27及更高版本下失效。\n\n推荐您【卸载】本插件并到【Chrome应用商店】安装新版插件，点击“确定”即可转入安装页面。\n\n该版本支持更高版本的Chrome，并加入了Chrome浏览器的专属功能（如设置同步）。")&&window.open("https://chrome.google.com/webstore/detail/aognaapdfnnldnjglanfbbklaakbpejm","_blank");localStorage.setItem("weiboPlus.chromeExtTip",!0);if(null===d||27<=d){if("undefined"===typeof unsafeWindow){console.warn("不支持Chrome "+d+"，脚本停止运行！");return}console.warn("使用第三方扩展提供的unsafeWindow");
a.window=unsafeWindow}else a.window=function(){console.warn("Chrome "+d+": 通过注入脚本获取unsafeWindow");var a=document.createElement("div");a.setAttribute("onclick","return window;");return a.onclick()}()}else{if("undefined"===typeof unsafeWindow){alert("当前版本的“眼不见心不烦”(v1.1.11)不支持您使用的浏览器。\n\n插件目前只对Firefox和Chrome浏览器提供官方支持。");return}a.window=unsafeWindow}a.config=a.window.$CONFIG;if(a.config&&(a.uid=a.config.uid,a.uid))return a.oid=a.config.oid,!GM_getValue||GM_getValue.toString&&-1<GM_getValue.toString().indexOf("not supported")?
(a.get=function(a,d,f){a=localStorage.getItem("weiboPlus."+a);null===a&&(a=d);if("function"===typeof f)f(a);else return a},a.set=function(a,d){localStorage.setItem("weiboPlus."+a,d)}):(a.get=function(a,d,f){a=GM_getValue(a,d);if("function"===typeof f)f(a);else return a},a.set=GM_setValue),a.remove=function(a){a&&a.parentNode.removeChild(a)},a.click=function(a,d){a&&a.addEventListener("click",d,!1)},a.scope=function(){return document.body.classList.contains("B_index")?1:document.body.classList.contains("B_profile")?
2:0},a}();if(!d)return!1;if(d.config.any&&-1===d.config.any.indexOf("wvr=5"))return confirm("您使用的“眼不见心不烦”版本(v1.1.11)不支持旧版微博。\n请升级到新版微博（V5），或使用较低版本（v1.0.6）的“眼不见心不烦”插件。\n如果您希望安装旧版“眼不见心不烦”，请点击“确认”。")&&window.open("http://code.google.com/p/weibo-content-filter/downloads/list","_blank"),!1;y.prototype={items:{version:["internal",0],whiteKeywords:["keyword"],blackKeywords:["keyword"],grayKeywords:["keyword"],URLKeywords:["keyword"],sourceKeywords:["keyword"],sourceGrayKeywords:["keyword"],userBlacklist:["array"],
tipBackColor:["string","#FFD0D0"],tipTextColor:["string","#FF8080"],readerModeIndex:["bool"],readerModeProfile:["bool"],readerModeTip:["internal",!1],readerModeWidth:["string",750],readerModeBackColor:["string","rgba(100%,100%,100%,0.8)"],mergeSidebars:["bool"],floatSetting:["radio","Groups"],unwrapText:["bool"],directBigImg:["bool"],directFeeds:["bool"],showAllGroups:["bool"],showAllMsgNav:["bool"],noDefaultFwd:["bool"],noDefaultCmt:["bool"],noDefaultGroupPub:["bool"],clearDefTopic:["bool"],overrideMyBack:["bool"],
overrideOtherBack:["bool"],backColor:["string","rgba(100%,100%,100%,0.2)"],overrideMySkin:["bool"],overrideOtherSkin:["bool"],skinID:["string","skinvip001"],filterOthersOnly:["bool"],filterPaused:["bool"],filterSmiley:["bool"],filterPromotions:["bool",!0],filterDeleted:["bool"],filterFeelings:["bool"],filterTaobao:["bool"],filterDupFwd:["bool"],maxDupFwd:["string",1],filterFlood:["bool"],maxFlood:["string",5],autoUpdate:["bool",!0],updateNotify:["bool",!0],floatBtn:["bool",!0],useCustomStyles:["bool",
!0],customStyles:["string"],hideMods:["array"]},strip:function(){var a={},d;for(d in this.items)"internal"!==this.items[d][0]&&(a[d]=this[d]);return JSON.stringify(a)},save:function(a){this.version=d.version;d.set(d.uid.toString(),JSON.stringify(this))},load:function(a){var d={};if(a)try{if(d=JSON.parse(a.replace(/\n/g,"")),"object"!==typeof d)throw 0;}catch(q){d={},a=null}for(var k in this.items)k in d&&(this[k]=d[k]);return null!==a}};var a=new y,F=function(){var g=function(a){GM_xmlhttpRequest({method:"GET",
url:"http://userscripts.org/scripts/source/114087.meta.js?"+(new Date).getTime(),headers:{"Cache-Control":"no-cache"},onload:function(f){if(f.responseText.match(/@version\s+(.*)/)){d.set("lastCheckUpdateSuccess",(new Date).getTime().toString());var h=RegExp.$1;if(!f.responseText.match(/@revision\s+(\d+)/)||RegExp.$1<=d.version)a&&alert("您使用的“眼不见心不烦”(v1.1.11)已经是最新版。");else{var g="";f.responseText.match(/@features\s+(.*)/)&&(g="- "+RegExp.$1.split("；").join("\n- ")+"\n\n");confirm("“眼不见心不烦”新版本v"+h+
"可用。\n\n"+g+"如果您希望更新，请点击“确认”打开插件主页。")&&window.open("http://userscripts.org/scripts/show/114087","_blank")}}}})};if(a.autoUpdate){var h=d.get("lastCheckUpdateAttempt",0),q=(new Date).getTime();12E4<q-h&&(d.set("lastCheckUpdateAttempt",q.toString()),h=d.get("lastCheckUpdateSuccess",0),6048E5<q-h&&g())}return g}(),C=function(){var g=!1,h,q,k,f=function(a){return q?q.getDom(a):h.getDomList()[a]},p=function(a,c,b){k.core.evt.addEvent(f(a),b||"click",c)},t=function(a,c){return Array.prototype.map.call(f(a).childNodes,
function(b){return c?b.getAttribute(c):b.textContent})},s=function(a,c,b){var d;if(c instanceof Array)d=c;else{d=[];for(var e=" "+f(c).value+" ",h=RegExp('(\\s"([^"]+)"\\s|\\s([^\\s]+)\\s)',"g"),r;null!==(r=h.exec(e));)d.push(r[2]||r[3]),--h.lastIndex}d=d.filter(function(c){if(!c||-1<t(a,b).indexOf(c))return!1;var d=document.createElement("a");if(2<c.length&&"/"===c.charAt(0)&&"/"===c.charAt(c.length-1)){try{RegExp(c.substring(1,c.length-1)).test("")}catch(e){return!0}d.className="regex"}d.title=
"点击删除";d.setAttribute("action-type","remove");b&&d.setAttribute(b,c);d.href="javascript:void(0)";d.textContent=c;f(a).appendChild(d);return!1});c instanceof Array||(f(c).value=d.join(" "),d.length&&(k.common.extra?k.common.extra.shine:k.kit.extra.shine)(f(c)))},n=!1,e=function(a,c){var b=!c,d=f(a);if(!b||!n){var e=b?t(a,"uid"):f(c).value.split(" "),h=e.length,r=[],g,l={onComplete:function(e,g){var l;l=b?d.querySelector('a[uid="'+g.id+'"]'):document.createElement("a");if("100000"===e.code){var A=e.data.match(/<img[^>]+>/)[0];
b||(g.id=A.match(/uid="([^"]+)"/)[1]);if(b||-1===t(a,"uid").indexOf(g.id))l.innerHTML='<img width="50" height="50" '+A.match(/src="[^"]+"/)[0]+" /><br />"+A.match(/title="([^"]+)"/)[1],b||(l.title="点击删除",l.href="javascript:void(0)",l.setAttribute("uid",g.id),l.setAttribute("action-type","remove"),d.appendChild(l))}else b?l.innerHTML+="<br />（未找到）":r.push(g.name);0===--h&&(f(c).value=r.join(" "),r.length&&(k.common.extra?k.common.extra.shine:k.kit.extra.shine)(f(c)))}};g=k.common.trans?k.common.trans.relation.getTrans("www.weibo.com"===
document.domain?"userCard2_abroad":"userCard2",l):k.conf.trans.card.getTrans("www.weibo.com"===document.domain?"userCard_abroad":"userCard",l);e.forEach(function(c){var a={type:1};b?a.id=c:a.name=c;g.request(a)});n=!0}},E=function(){var d=new y,c,b;for(b in d.items)switch(d.items[b][0]){case "keyword":d[b]=t(b+"List");break;case "string":d[b]=f(b).value;break;case "bool":d[b]=f(b).checked;break;case "radio":c=f("tabs").querySelector('input[type="radio"][name="'+b+'"]:checked');d[b]=c?c.value:"";break;
case "array":d[b]=[];break;case "object":d[b]={};break;case "internal":d[b]=a[b]}d.userBlacklist=t("userBlacklist","uid");for(var e in u.modules)f("hide"+e).checked&&d.hideMods.push(e);f("settingsString").value=d.strip();return d},l=function(a){var c,b;for(b in a.items)switch(a.items[b][0]){case "keyword":f(b).value="";f(b+"List").innerHTML="";s(b+"List",a[b]);break;case "string":f(b).value=a[b];break;case "bool":f(b).checked=a[b];break;case "radio":if(c=f("tabs").querySelector('input[type="radio"][name="'+
b+'"][value="'+a[b]+'"]'))c.checked=!0}f("userBlacklistNew").value="";f("userBlacklist").innerHTML="";s("userBlacklist",a.userBlacklist,"uid");n=!1;c=f("tipBackColor").value;b=f("tipTextColor").value;var d=f("tipSample");d.style.backgroundColor=c;d.style.borderColor=b;d.style.color=b;for(var e in u.modules)f("hide"+e).checked=-1<a.hideMods.indexOf(e);f("settingsString").value=a.strip()},H=function(){k=d.window.STK;if(!k)return console.warn("页面尚未载入完成，无法打开设置页面！"),!1;var m;h=k.ui.dialog({isHold:!0});
h.setTitle("“眼不见心不烦”(v1.1.11)设置");h.getDom?(q=k.ui.mod.layer('<div node-type="outer" class="detail wbpSettings" style="padding: 0 20px 20px"><div class="clearfix"><div style="float: left">新浪微博<span style="color: red">非官方</span>功能增强脚本。</div><div style="float: right; display: inline; position: relative"><a node-type="checkUpdate" href="javascript:void(0);" title="检查脚本是否有新版本">检查更新</a><em class="W_vline">|</em><a href="http://userscripts.org/scripts/show/114087" title="新版本在此页面发布" target="_blank">插件主页</a><em class="W_vline">|</em><a href="http://code.google.com/p/weibo-content-filter/wiki/FAQ" title="遇到问题请先阅读FAQ" target="_blank">常见问题</a><em class="W_vline">|</em><a href="/salviati" title="欢迎私信、评论或@作者提出脚本建议" target="_blank">联系作者</a><em class="W_vline">|</em><a href="http://me.alipay.com/salviati" title="欢迎向作者提供捐助以支持插件的后续开发" target="_blank">捐助插件</a></div></div><div class="clearfix"><div node-type="tabHeaders" class="wbpTabHeaders"><a tab="tabKeywords" href="javascript:void(0);" class="current">关键词</a><a tab="tabLinks" href="javascript:void(0);">链接地址</a><a node-type="tabHeaderUser" tab="tabUser" href="javascript:void(0);">用户</a><a tab="tabSource" href="javascript:void(0);">来源</a><a tab="tabAdvanced" href="javascript:void(0);">高级</a><a tab="tabModules" href="javascript:void(0);">模块</a><a tab="tabModify" href="javascript:void(0);">改造版面</a><a node-type="tabHeaderSettings" tab="tabSettings" href="javascript:void(0);">设置</a></div><div node-type="tabs" style="float: right; width: 440px"><div node-type="tabKeywords"><div class="clearfix"><div style="float: left"><input type="checkbox" node-type="filterSmiley"><label title="如果选中，[呵呵]等表情也可以作为关键词被屏蔽">允许表情关键词</label></div><div style="float: right; display: inline; position: relative"><span class="link"><a href="javascript:void(0);" style="cursor: help">关键词设置帮助<span><ul><li>如果要添加的关键词中有空格，可将其置于一对<span style="color: blue">半角双引号</span>内，如<span style="color: green">"I love you"</span></li><li>使用<span style="color: blue">加号</span>分隔需要同时出现的关键词，如<span style="color: green">A+B+C</span>代表A、B、C三个词必须同时出现</li><li>使用<span style="color: blue">斜杠</span>设置正则表达式关键词，如<span style="color: green">/转发并@.{2,3}好友/</span></li></ul></span></a></span></div></div><div class="wbpKeywordBlock"><em>白名单</em>包含下列关键词的微博不会被屏蔽<table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="whiteKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=whiteKeywordsList&text=whiteKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=whiteKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="whiteKeywordsList" class="wbpKeywordsList wbpWhiteKeywordsList"></div></div></div><div class="wbpKeywordBlock"><em>黑名单</em>包含下列关键词的微博将被屏蔽<table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="blackKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=blackKeywordsList&text=blackKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=blackKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="blackKeywordsList" class="wbpKeywordsList wbpBlackKeywordsList"></div></div></div><div class="wbpKeywordBlock"><em>灰名单</em>包含下列关键词的微博将被屏蔽<span style="color: red">并提示</span><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="grayKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=grayKeywordsList&text=grayKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=grayKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="grayKeywordsList" class="wbpKeywordsList wbpGrayKeywordsList"></div></div><table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin-top: 0px"><tbody><tr><td style="width: 110px">屏蔽提示背景颜色：</td><td><div class="wbpInput"><input type="text" node-type="tipBackColor" class="input"></div></td><td style="width: 15px"></td><td style="width: 110px">屏蔽提示文字颜色：</td><td><div class="wbpInput"><input type="text" node-type="tipTextColor" class="input"></div></td></tr></tbody></table><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td style="width: 40px">示例：</td><td><div node-type="tipSample" class="wbpTip" style="margin-bottom: 10px">本条来自<a href="javascript:void(0);">@某人</a>的微博因包含关键词“<a href="javascript:void(0);">XXXX</a>”而被隐藏，点击显示</div></td></tr></tbody></table></div></div><div node-type="tabLinks" style="display: none"><p>如果一条微博中包含链接且目标地址中包含下列关键词，微博将被屏蔽（无提示）。如将taobao.com设为关键词可屏蔽所有包含淘宝链接的微博。</p><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="URLKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=URLKeywordsList&text=URLKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=URLKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="URLKeywordsList" class="wbpKeywordsList wbpBlackKeywordsList"></div></div></div><div node-type="tabUser" style="display: none"><p>如果一条微博的发布者或转发原文的作者为下列用户之一，微博将被屏蔽。除了在此处添加屏蔽用户，您还可以将鼠标悬停在用户链接上，在弹出的信息气球上点击“屏蔽”。</p><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="userBlacklistNew" class="input" placeholder="多个用户名用空格隔开；不要加上前面的@；不区分大小写"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="addUser" action-data="list=userBlacklist&text=userBlacklistNew"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=userBlacklist"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper" style="max-height: 230px"><div node-type="userBlacklist" class="wbpUserList wbpBlackKeywordsList"></div></div></div><div node-type="tabSource" style="display: none"><p>如果一条微博的来源（包括转发原文的来源）名称中包含指定关键词，微博将被屏蔽。如将“时光机”设为关键词可屏蔽所有来自<a href="http://time.xuapp.com/" target="_blank">时光机</a>或<a href="http://weibo.pp.cc/time/" target="_blank">皮皮时光机</a>等应用的微博。</p><div class="wbpKeywordBlock"><em>黑名单</em>来源名称包含下列关键词的微博将被屏蔽<table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="sourceKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=sourceKeywordsList&text=sourceKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=sourceKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="sourceKeywordsList" class="wbpKeywordsList wbpBlackKeywordsList"></div></div></div><div class="wbpKeywordBlock"><em>灰名单</em>来源名称包含下列关键词的微博将被屏蔽<span style="color: red">并提示</span><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="sourceGrayKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=sourceGrayKeywordsList&text=sourceGrayKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=sourceGrayKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="sourceGrayKeywordsList" class="wbpKeywordsList wbpGrayKeywordsList"></div></div></div></div><div node-type="tabAdvanced" style="display: none"><p>注意：对于所有屏蔽微博的功能，白名单具有最高优先级；如果一条微博包含白名单中的关键词，则<span style="color: red">一定不会</span>被屏蔽。</p><p><input type="checkbox" node-type="filterOthersOnly"><label>不要屏蔽我自己发布的微博</label></p><p><input type="checkbox" node-type="filterPaused"><label><span style="color: red">暂停屏蔽</span>：选中时暂时停止屏蔽微博</label></p><p><input type="checkbox" node-type="filterPromotions"><label>屏蔽推广微博</label></p><p><input type="checkbox" node-type="filterDeleted"><label>屏蔽已删除微博的转发</label></p><p><input type="checkbox" node-type="filterFeelings"><label>屏蔽“写心情”微博</label></p><p><input type="checkbox" node-type="filterTaobao"><label>屏蔽带有 <a class="W_btn_c"><i class="W_ico20 icon_fl_tb"></i><span>淘宝链接</span></a> 的微博</label></p><div style="margin-top: 8px"><input type="checkbox" node-type="filterDupFwd"><label>反版聊：同一条微博的转发最多显示</label><div class="wbpInput wbpInlineInput"><input type="text" node-type="maxDupFwd" class="input"></div>条</div><div style="margin-top: 5px"><input type="checkbox" node-type="filterFlood"><label>反刷屏：来自同一用户的微博最多显示</label><div class="wbpInput wbpInlineInput"><input type="text" node-type="maxFlood" class="input"></div>条</div></div><div node-type="tabModules" class="wbpTabModules" style="display: none"><p>请选择要屏蔽的版面内容。</p><table width="100%" border="0" cellspacing="0" cellpadding="0" style="line-height: 24px; margin-top: 15px"><tbody><tr><td><input type="checkbox" node-type="hideAds"><label>版面及嵌入广告</label></td></tr><tr><td><input type="checkbox" node-type="hideFooter"><label>页底链接模块</label></td><td><input type="checkbox" node-type="hideRecommendedTopic"><label>热点微话题（发布框右上）</label></td></tr><tr><td><input type="checkbox" node-type="hideApp"><label>我的应用（左边栏）</label></td><td><input type="checkbox" node-type="hideCommentTip"><label>评论栏顶端横幅</label></td></tr><tr><td><input type="checkbox" node-type="hideMemberTip"><label>微博会员推广横幅（页底）</label></td><td><input type="checkbox" node-type="hideFollowGuide"><label>“为你推荐”弹窗（新用户）</label></td></tr><tr><td><input type="checkbox" node-type="hideHomeTip"><label>顶部横幅（微博桌面推广）</label></td><td><input type="checkbox" node-type="hideIMNews"><label>右下角新闻弹窗（微博桌面推广）</label></td></tr><tr class="wbpRowSpacing"><td><input type="checkbox" node-type="hideRecomFeed"><label>精彩微博推荐（首页时间线）</label></td><td><input type="checkbox" node-type="hideTimelineMods"><label>首页时间线嵌入模块（好友关注等）</label></td></tr><td><input type="checkbox" node-type="hideTopicCard"><label>微博话题卡片</label></td><td><input type="checkbox" node-type="hideLocationCard"><label>微博位置卡片</label></td><tr></tr><tr class="wbpRowSpacing"><td><input type="checkbox" node-type="hideAvatar"><label>用户头像（右边栏）</label></td><td><input type="checkbox" node-type="hideStats"><label>关注/粉丝/微博数</label></td></tr><tr><td><input type="checkbox" node-type="hideToMe"><label>发给我的</label></td><td><input type="checkbox" node-type="hideFriends"><label>好友圈</label></td></tr><tr><td><input type="checkbox" node-type="hideInterestUser"><label>可能感兴趣的人</label></td><td><input type="checkbox" node-type="hideTopic"><label>热门话题</label></td></tr><tr><td><input type="checkbox" node-type="hideWeiboRecom"><label>热门微博</label></td><td><input type="checkbox" node-type="hideLocationRecom"><label>地点推荐</label></td><tr><td><input type="checkbox" node-type="hideMusicRecom"><label>热门歌曲</label></td><td><input type="checkbox" node-type="hideMovieRecom"><label>最新电影</label></td></tr><td><input type="checkbox" node-type="hideBookRecom"><label>人气图书</label></td><td><input type="checkbox" node-type="hideTopComment"><label>热评微博（“我的评论”页）</label></td></tr><tr><td><input type="checkbox" node-type="hideMember"><label>会员专区</label></td><td><input type="checkbox" node-type="hideNotice"><label>公告栏</label></td></tr><tr class="wbpRowSpacing"><td><input type="checkbox" node-type="hideVerifyIcon"><label>个人/机构认证标识</label><a href="http://verified.weibo.com/verify" target="_blank"><i class="W_ico16 approve"></i><i class="W_ico16 approve_co"></i></a></td><td><input type="checkbox" node-type="hideDarenIcon"><label>微博达人标识</label><a href="http://club.weibo.com/intro" target="_blank"><i class="W_ico16 ico_club"></i></a></td></tr><tr><td><input type="checkbox" node-type="hideMemberIcon"><label>微博会员标识</label><a href="http://vip.weibo.com/" target="_blank"><i class="W_ico16 ico_member"></i><i class="W_ico16 ico_member_dis"></i></a></td><td><input type="checkbox" node-type="hideVgirlIcon"><label>微博女郎标识</label><a href="http://vgirl.weibo.com/" target="_blank"><i class="W_ico16 ico_vlady"></i></a></td></tr><tr><td><input type="checkbox" node-type="hideTaobaoIcon"><label>淘宝商户</label><a href="http://e.weibo.com/taobao/introduce" target="_blank"><i class="W_ico16 ico_taobao"></i></a></td></tr><tr class="wbpRowSpacing"><td><input type="checkbox" node-type="hideProfCover"><label>封面图（个人主页）</label></td><td><input type="checkbox" node-type="hideProfStats"><label>关注/粉丝/微博数（个人主页）</label></td></tr><tr><td><input type="checkbox" node-type="hideMyMicroworld"><label>我的微博人气（个人主页）</label></td></tr><tr><td colspan="2"><input type="checkbox" node-type="hideMyRightSidebar"><label><span style="color: red">个人主页右边栏</span>：选中后整个右边栏将被去除</label></td></tr><tr><td><input type="checkbox" node-type="hideRelation"><label>关注/粉丝/微关系（个人主页）</label></td><td><input type="checkbox" node-type="hideAlbum"><label>微相册（个人主页）</label></td></tr><tr><td><input type="checkbox" node-type="hideProfHotTopic"><label>话题（个人主页）</label></td><td><input type="checkbox" node-type="hideProfHotWeibo"><label>热门微博（个人主页）</label></td></tr><tr class="wbpRowSpacing"><td colspan="2"><input type="checkbox" node-type="hideFeedRecom"><label>相关推荐：单条微博右边栏</label></td></tr></tbody></table><p style="margin-top: 15px"><a href="javascript:void(0);" class="W_btn_b" node-type="hideAll"><span>全选</span></a><a href="javascript:void(0);" class="W_btn_b" node-type="hideInvert" style="margin-left: 5px"><span>反选</span></a></p></div><div node-type="tabModify" style="display: none"><p><input type="checkbox" node-type="mergeSidebars"><label><span style="color: red">双栏版式</span>（将左边栏并入右边栏）</label></p><p>左边栏浮动选项：</p><p style="margin-top: 3px"><input type="radio" name="floatSetting" value="Nav"><label>导航栏随分组栏浮动</label></p><p style="margin-top: 3px"><input type="radio" name="floatSetting" value="Groups"><label>仅分组栏浮动（新浪微博默认值）</label></p><p style="margin-top: 3px"><input type="radio" name="floatSetting" value="None"><label>禁止浮动</label></p><p><input type="checkbox" node-type="showAllGroups"><label>展开分组栏中的所有分组</label></p><p><input type="checkbox" node-type="showAllMsgNav"><label>展开导航栏中的所有消息链接（左边栏“消息”下的“提到我的”、“评论”等）</label></p><p><input type="checkbox" node-type="unwrapText"><label>微博作者与正文间不折行</label></p><p><input type="checkbox" node-type="directBigImg"><label>点击“查看大图”直接打开大图</label></p><p><input type="checkbox" node-type="directFeeds"><label>点击用户名直接进入微博列表（跳过“他/她的主页”）</label></p><p><input type="checkbox" node-type="noDefaultFwd"><label>禁止在评论时默认选中“同时转发”</label></p><p><input type="checkbox" node-type="noDefaultCmt"><label>禁止在转发时默认选中“同时评论”</label></p><p><input type="checkbox" node-type="noDefaultGroupPub"><label>禁止在浏览分组时默认发布新微博到该分组</label></p><p><input type="checkbox" node-type="clearDefTopic"><label title="关闭此选项后需要刷新页面生效">清除微博发布框中的默认话题</label></p><div style="margin-top: 15px">在<input type="checkbox" node-type="readerModeIndex" style="margin: 0 2px 0 8px"><label>我的首页</label><input type="checkbox" node-type="readerModeProfile" style="margin: 0 2px 0 8px"><label style="margin-right: 8px">个人主页</label>启用极简阅读模式<span style="color: red">（可按F8切换）</span><table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin-top: 3px"><tbody><tr><td style="width: 85px; padding-left: 19px">宽度（像素）：</td><td><div class="wbpInput" style="width: 40px"><input type="text" node-type="readerModeWidth" class="input"></div></td><td style="width: 60px">背景颜色：</td><td><div class="wbpInput"><input type="text" node-type="readerModeBackColor" class="input"></div></td></tr></tbody></table></div><div style="margin-top: 10px">设置<input type="checkbox" node-type="overrideMyBack" style="margin: 0 2px 0 8px"><label>我的首页</label><input type="checkbox" node-type="overrideOtherBack" style="margin: 0 2px 0 8px"><label style="margin-right: 8px">个人主页</label>透明背景色<div class="wbpInput wbpInlineInput" style="width: 190px" title="最后一个参数为透明度，0为全透明，1为不透明"><input type="text" node-type="backColor" class="input"></div></div><div style="margin-top: 10px">覆盖<input type="checkbox" node-type="overrideMySkin" style="margin: 0 2px 0 8px"><label>我的首页</label><input type="checkbox" node-type="overrideOtherSkin" style="margin: 0 2px 0 8px"><label style="margin-right: 8px">个人主页</label>模板设置为<div class="wbpInput wbpInlineInput" style="width: 80px" title="普通模板为“skin+三位数字编号”，如skin012\n会员专属模板为“skinvip+三位数字编号”，如skinvip012\n默认模板为default"><input type="text" node-type="skinID" class="input"></div>（仅自己可见）</div><p style="margin-top: 10px"><input type="checkbox" node-type="useCustomStyles"><label><span style="color: red">自定义样式</span>（CSS）：可用于屏蔽模块、改造版面，</label><a href="http://code.google.com/p/weibo-content-filter/wiki/CustomCSS" target="_blank">点此查看示例</a></p><textarea node-type="customStyles" rows="6" style="margin-top: 5px"></textarea></div><div node-type="tabSettings" style="display: none"><p><input type="checkbox" node-type="autoUpdate"><label>每周自动检查更新</label></p><p><input type="checkbox" node-type="updateNotify"><label>更新后首次使用时显示新功能</label></p><p><input type="checkbox" node-type="floatBtn"><label>浮动设置按钮（“返回顶部”浮动按钮下方）</label></p><div class="clearfix" style="margin-top: 8px"><div style="float: left; width: 385px"><p>当前账号的设置信息在下列文本框中，您可以将其复制到其它位置保存。需要导入设置时，请将设置信息粘贴到文本框中，然后点击“导入”。</p></div><a href="javascript:void(0)" class="W_btn_b" node-type="import" style="float: right; margin-top: 6px"><span>导入</span></a></div><textarea node-type="settingsString" rows="10"></textarea></div></div></div><p class="btn"><a href="javascript:void(0);" class="W_btn_a" node-type="OK"><span>确定</span></a><a href="javascript:void(0);" class="W_btn_c" node-type="cancel"><span>取消</span></a></p></div>'),
h.setContent(q.getOuter()),m=k.core.evt.delegatedEvent(q.getDom("tabs"))):(h.setContent('<div node-type="outer" class="detail wbpSettings" style="padding: 0 20px 20px"><div class="clearfix"><div style="float: left">新浪微博<span style="color: red">非官方</span>功能增强脚本。</div><div style="float: right; display: inline; position: relative"><a node-type="checkUpdate" href="javascript:void(0);" title="检查脚本是否有新版本">检查更新</a><em class="W_vline">|</em><a href="http://userscripts.org/scripts/show/114087" title="新版本在此页面发布" target="_blank">插件主页</a><em class="W_vline">|</em><a href="http://code.google.com/p/weibo-content-filter/wiki/FAQ" title="遇到问题请先阅读FAQ" target="_blank">常见问题</a><em class="W_vline">|</em><a href="/salviati" title="欢迎私信、评论或@作者提出脚本建议" target="_blank">联系作者</a><em class="W_vline">|</em><a href="http://me.alipay.com/salviati" title="欢迎向作者提供捐助以支持插件的后续开发" target="_blank">捐助插件</a></div></div><div class="clearfix"><div node-type="tabHeaders" class="wbpTabHeaders"><a tab="tabKeywords" href="javascript:void(0);" class="current">关键词</a><a tab="tabLinks" href="javascript:void(0);">链接地址</a><a node-type="tabHeaderUser" tab="tabUser" href="javascript:void(0);">用户</a><a tab="tabSource" href="javascript:void(0);">来源</a><a tab="tabAdvanced" href="javascript:void(0);">高级</a><a tab="tabModules" href="javascript:void(0);">模块</a><a tab="tabModify" href="javascript:void(0);">改造版面</a><a node-type="tabHeaderSettings" tab="tabSettings" href="javascript:void(0);">设置</a></div><div node-type="tabs" style="float: right; width: 440px"><div node-type="tabKeywords"><div class="clearfix"><div style="float: left"><input type="checkbox" node-type="filterSmiley"><label title="如果选中，[呵呵]等表情也可以作为关键词被屏蔽">允许表情关键词</label></div><div style="float: right; display: inline; position: relative"><span class="link"><a href="javascript:void(0);" style="cursor: help">关键词设置帮助<span><ul><li>如果要添加的关键词中有空格，可将其置于一对<span style="color: blue">半角双引号</span>内，如<span style="color: green">"I love you"</span></li><li>使用<span style="color: blue">加号</span>分隔需要同时出现的关键词，如<span style="color: green">A+B+C</span>代表A、B、C三个词必须同时出现</li><li>使用<span style="color: blue">斜杠</span>设置正则表达式关键词，如<span style="color: green">/转发并@.{2,3}好友/</span></li></ul></span></a></span></div></div><div class="wbpKeywordBlock"><em>白名单</em>包含下列关键词的微博不会被屏蔽<table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="whiteKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=whiteKeywordsList&text=whiteKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=whiteKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="whiteKeywordsList" class="wbpKeywordsList wbpWhiteKeywordsList"></div></div></div><div class="wbpKeywordBlock"><em>黑名单</em>包含下列关键词的微博将被屏蔽<table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="blackKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=blackKeywordsList&text=blackKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=blackKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="blackKeywordsList" class="wbpKeywordsList wbpBlackKeywordsList"></div></div></div><div class="wbpKeywordBlock"><em>灰名单</em>包含下列关键词的微博将被屏蔽<span style="color: red">并提示</span><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="grayKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=grayKeywordsList&text=grayKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=grayKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="grayKeywordsList" class="wbpKeywordsList wbpGrayKeywordsList"></div></div><table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin-top: 0px"><tbody><tr><td style="width: 110px">屏蔽提示背景颜色：</td><td><div class="wbpInput"><input type="text" node-type="tipBackColor" class="input"></div></td><td style="width: 15px"></td><td style="width: 110px">屏蔽提示文字颜色：</td><td><div class="wbpInput"><input type="text" node-type="tipTextColor" class="input"></div></td></tr></tbody></table><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td style="width: 40px">示例：</td><td><div node-type="tipSample" class="wbpTip" style="margin-bottom: 10px">本条来自<a href="javascript:void(0);">@某人</a>的微博因包含关键词“<a href="javascript:void(0);">XXXX</a>”而被隐藏，点击显示</div></td></tr></tbody></table></div></div><div node-type="tabLinks" style="display: none"><p>如果一条微博中包含链接且目标地址中包含下列关键词，微博将被屏蔽（无提示）。如将taobao.com设为关键词可屏蔽所有包含淘宝链接的微博。</p><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="URLKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=URLKeywordsList&text=URLKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=URLKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="URLKeywordsList" class="wbpKeywordsList wbpBlackKeywordsList"></div></div></div><div node-type="tabUser" style="display: none"><p>如果一条微博的发布者或转发原文的作者为下列用户之一，微博将被屏蔽。除了在此处添加屏蔽用户，您还可以将鼠标悬停在用户链接上，在弹出的信息气球上点击“屏蔽”。</p><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="userBlacklistNew" class="input" placeholder="多个用户名用空格隔开；不要加上前面的@；不区分大小写"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="addUser" action-data="list=userBlacklist&text=userBlacklistNew"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=userBlacklist"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper" style="max-height: 230px"><div node-type="userBlacklist" class="wbpUserList wbpBlackKeywordsList"></div></div></div><div node-type="tabSource" style="display: none"><p>如果一条微博的来源（包括转发原文的来源）名称中包含指定关键词，微博将被屏蔽。如将“时光机”设为关键词可屏蔽所有来自<a href="http://time.xuapp.com/" target="_blank">时光机</a>或<a href="http://weibo.pp.cc/time/" target="_blank">皮皮时光机</a>等应用的微博。</p><div class="wbpKeywordBlock"><em>黑名单</em>来源名称包含下列关键词的微博将被屏蔽<table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="sourceKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=sourceKeywordsList&text=sourceKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=sourceKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="sourceKeywordsList" class="wbpKeywordsList wbpBlackKeywordsList"></div></div></div><div class="wbpKeywordBlock"><em>灰名单</em>来源名称包含下列关键词的微博将被屏蔽<span style="color: red">并提示</span><table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div class="wbpInput"><input type="text" node-type="sourceGrayKeywords" class="input" placeholder="多个关键词用空格隔开；不区分大小写；区分简繁体"></div></td><td class="wbpToolBtns"><a href="javascript:void(0);" class="W_btn_b" action-type="add" action-data="list=sourceGrayKeywordsList&text=sourceGrayKeywords"><span>添加</span></a><a href="javascript:void(0);" class="W_btn_b" action-type="clear" action-data="list=sourceGrayKeywordsList"><span>清空</span></a></td></tr></tbody></table><div class="wbpListWrapper"><div node-type="sourceGrayKeywordsList" class="wbpKeywordsList wbpGrayKeywordsList"></div></div></div></div><div node-type="tabAdvanced" style="display: none"><p>注意：对于所有屏蔽微博的功能，白名单具有最高优先级；如果一条微博包含白名单中的关键词，则<span style="color: red">一定不会</span>被屏蔽。</p><p><input type="checkbox" node-type="filterOthersOnly"><label>不要屏蔽我自己发布的微博</label></p><p><input type="checkbox" node-type="filterPaused"><label><span style="color: red">暂停屏蔽</span>：选中时暂时停止屏蔽微博</label></p><p><input type="checkbox" node-type="filterPromotions"><label>屏蔽推广微博</label></p><p><input type="checkbox" node-type="filterDeleted"><label>屏蔽已删除微博的转发</label></p><p><input type="checkbox" node-type="filterFeelings"><label>屏蔽“写心情”微博</label></p><p><input type="checkbox" node-type="filterTaobao"><label>屏蔽带有 <a class="W_btn_c"><i class="W_ico20 icon_fl_tb"></i><span>淘宝链接</span></a> 的微博</label></p><div style="margin-top: 8px"><input type="checkbox" node-type="filterDupFwd"><label>反版聊：同一条微博的转发最多显示</label><div class="wbpInput wbpInlineInput"><input type="text" node-type="maxDupFwd" class="input"></div>条</div><div style="margin-top: 5px"><input type="checkbox" node-type="filterFlood"><label>反刷屏：来自同一用户的微博最多显示</label><div class="wbpInput wbpInlineInput"><input type="text" node-type="maxFlood" class="input"></div>条</div></div><div node-type="tabModules" class="wbpTabModules" style="display: none"><p>请选择要屏蔽的版面内容。</p><table width="100%" border="0" cellspacing="0" cellpadding="0" style="line-height: 24px; margin-top: 15px"><tbody><tr><td><input type="checkbox" node-type="hideAds"><label>版面及嵌入广告</label></td></tr><tr><td><input type="checkbox" node-type="hideFooter"><label>页底链接模块</label></td><td><input type="checkbox" node-type="hideRecommendedTopic"><label>热点微话题（发布框右上）</label></td></tr><tr><td><input type="checkbox" node-type="hideApp"><label>我的应用（左边栏）</label></td><td><input type="checkbox" node-type="hideCommentTip"><label>评论栏顶端横幅</label></td></tr><tr><td><input type="checkbox" node-type="hideMemberTip"><label>微博会员推广横幅（页底）</label></td><td><input type="checkbox" node-type="hideFollowGuide"><label>“为你推荐”弹窗（新用户）</label></td></tr><tr><td><input type="checkbox" node-type="hideHomeTip"><label>顶部横幅（微博桌面推广）</label></td><td><input type="checkbox" node-type="hideIMNews"><label>右下角新闻弹窗（微博桌面推广）</label></td></tr><tr class="wbpRowSpacing"><td><input type="checkbox" node-type="hideRecomFeed"><label>精彩微博推荐（首页时间线）</label></td><td><input type="checkbox" node-type="hideTimelineMods"><label>首页时间线嵌入模块（好友关注等）</label></td></tr><td><input type="checkbox" node-type="hideTopicCard"><label>微博话题卡片</label></td><td><input type="checkbox" node-type="hideLocationCard"><label>微博位置卡片</label></td><tr></tr><tr class="wbpRowSpacing"><td><input type="checkbox" node-type="hideAvatar"><label>用户头像（右边栏）</label></td><td><input type="checkbox" node-type="hideStats"><label>关注/粉丝/微博数</label></td></tr><tr><td><input type="checkbox" node-type="hideToMe"><label>发给我的</label></td><td><input type="checkbox" node-type="hideFriends"><label>好友圈</label></td></tr><tr><td><input type="checkbox" node-type="hideInterestUser"><label>可能感兴趣的人</label></td><td><input type="checkbox" node-type="hideTopic"><label>热门话题</label></td></tr><tr><td><input type="checkbox" node-type="hideWeiboRecom"><label>热门微博</label></td><td><input type="checkbox" node-type="hideLocationRecom"><label>地点推荐</label></td><tr><td><input type="checkbox" node-type="hideMusicRecom"><label>热门歌曲</label></td><td><input type="checkbox" node-type="hideMovieRecom"><label>最新电影</label></td></tr><td><input type="checkbox" node-type="hideBookRecom"><label>人气图书</label></td><td><input type="checkbox" node-type="hideTopComment"><label>热评微博（“我的评论”页）</label></td></tr><tr><td><input type="checkbox" node-type="hideMember"><label>会员专区</label></td><td><input type="checkbox" node-type="hideNotice"><label>公告栏</label></td></tr><tr class="wbpRowSpacing"><td><input type="checkbox" node-type="hideVerifyIcon"><label>个人/机构认证标识</label><a href="http://verified.weibo.com/verify" target="_blank"><i class="W_ico16 approve"></i><i class="W_ico16 approve_co"></i></a></td><td><input type="checkbox" node-type="hideDarenIcon"><label>微博达人标识</label><a href="http://club.weibo.com/intro" target="_blank"><i class="W_ico16 ico_club"></i></a></td></tr><tr><td><input type="checkbox" node-type="hideMemberIcon"><label>微博会员标识</label><a href="http://vip.weibo.com/" target="_blank"><i class="W_ico16 ico_member"></i><i class="W_ico16 ico_member_dis"></i></a></td><td><input type="checkbox" node-type="hideVgirlIcon"><label>微博女郎标识</label><a href="http://vgirl.weibo.com/" target="_blank"><i class="W_ico16 ico_vlady"></i></a></td></tr><tr><td><input type="checkbox" node-type="hideTaobaoIcon"><label>淘宝商户</label><a href="http://e.weibo.com/taobao/introduce" target="_blank"><i class="W_ico16 ico_taobao"></i></a></td></tr><tr class="wbpRowSpacing"><td><input type="checkbox" node-type="hideProfCover"><label>封面图（个人主页）</label></td><td><input type="checkbox" node-type="hideProfStats"><label>关注/粉丝/微博数（个人主页）</label></td></tr><tr><td><input type="checkbox" node-type="hideMyMicroworld"><label>我的微博人气（个人主页）</label></td></tr><tr><td colspan="2"><input type="checkbox" node-type="hideMyRightSidebar"><label><span style="color: red">个人主页右边栏</span>：选中后整个右边栏将被去除</label></td></tr><tr><td><input type="checkbox" node-type="hideRelation"><label>关注/粉丝/微关系（个人主页）</label></td><td><input type="checkbox" node-type="hideAlbum"><label>微相册（个人主页）</label></td></tr><tr><td><input type="checkbox" node-type="hideProfHotTopic"><label>话题（个人主页）</label></td><td><input type="checkbox" node-type="hideProfHotWeibo"><label>热门微博（个人主页）</label></td></tr><tr class="wbpRowSpacing"><td colspan="2"><input type="checkbox" node-type="hideFeedRecom"><label>相关推荐：单条微博右边栏</label></td></tr></tbody></table><p style="margin-top: 15px"><a href="javascript:void(0);" class="W_btn_b" node-type="hideAll"><span>全选</span></a><a href="javascript:void(0);" class="W_btn_b" node-type="hideInvert" style="margin-left: 5px"><span>反选</span></a></p></div><div node-type="tabModify" style="display: none"><p><input type="checkbox" node-type="mergeSidebars"><label><span style="color: red">双栏版式</span>（将左边栏并入右边栏）</label></p><p>左边栏浮动选项：</p><p style="margin-top: 3px"><input type="radio" name="floatSetting" value="Nav"><label>导航栏随分组栏浮动</label></p><p style="margin-top: 3px"><input type="radio" name="floatSetting" value="Groups"><label>仅分组栏浮动（新浪微博默认值）</label></p><p style="margin-top: 3px"><input type="radio" name="floatSetting" value="None"><label>禁止浮动</label></p><p><input type="checkbox" node-type="showAllGroups"><label>展开分组栏中的所有分组</label></p><p><input type="checkbox" node-type="showAllMsgNav"><label>展开导航栏中的所有消息链接（左边栏“消息”下的“提到我的”、“评论”等）</label></p><p><input type="checkbox" node-type="unwrapText"><label>微博作者与正文间不折行</label></p><p><input type="checkbox" node-type="directBigImg"><label>点击“查看大图”直接打开大图</label></p><p><input type="checkbox" node-type="directFeeds"><label>点击用户名直接进入微博列表（跳过“他/她的主页”）</label></p><p><input type="checkbox" node-type="noDefaultFwd"><label>禁止在评论时默认选中“同时转发”</label></p><p><input type="checkbox" node-type="noDefaultCmt"><label>禁止在转发时默认选中“同时评论”</label></p><p><input type="checkbox" node-type="noDefaultGroupPub"><label>禁止在浏览分组时默认发布新微博到该分组</label></p><p><input type="checkbox" node-type="clearDefTopic"><label title="关闭此选项后需要刷新页面生效">清除微博发布框中的默认话题</label></p><div style="margin-top: 15px">在<input type="checkbox" node-type="readerModeIndex" style="margin: 0 2px 0 8px"><label>我的首页</label><input type="checkbox" node-type="readerModeProfile" style="margin: 0 2px 0 8px"><label style="margin-right: 8px">个人主页</label>启用极简阅读模式<span style="color: red">（可按F8切换）</span><table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin-top: 3px"><tbody><tr><td style="width: 85px; padding-left: 19px">宽度（像素）：</td><td><div class="wbpInput" style="width: 40px"><input type="text" node-type="readerModeWidth" class="input"></div></td><td style="width: 60px">背景颜色：</td><td><div class="wbpInput"><input type="text" node-type="readerModeBackColor" class="input"></div></td></tr></tbody></table></div><div style="margin-top: 10px">设置<input type="checkbox" node-type="overrideMyBack" style="margin: 0 2px 0 8px"><label>我的首页</label><input type="checkbox" node-type="overrideOtherBack" style="margin: 0 2px 0 8px"><label style="margin-right: 8px">个人主页</label>透明背景色<div class="wbpInput wbpInlineInput" style="width: 190px" title="最后一个参数为透明度，0为全透明，1为不透明"><input type="text" node-type="backColor" class="input"></div></div><div style="margin-top: 10px">覆盖<input type="checkbox" node-type="overrideMySkin" style="margin: 0 2px 0 8px"><label>我的首页</label><input type="checkbox" node-type="overrideOtherSkin" style="margin: 0 2px 0 8px"><label style="margin-right: 8px">个人主页</label>模板设置为<div class="wbpInput wbpInlineInput" style="width: 80px" title="普通模板为“skin+三位数字编号”，如skin012\n会员专属模板为“skinvip+三位数字编号”，如skinvip012\n默认模板为default"><input type="text" node-type="skinID" class="input"></div>（仅自己可见）</div><p style="margin-top: 10px"><input type="checkbox" node-type="useCustomStyles"><label><span style="color: red">自定义样式</span>（CSS）：可用于屏蔽模块、改造版面，</label><a href="http://code.google.com/p/weibo-content-filter/wiki/CustomCSS" target="_blank">点此查看示例</a></p><textarea node-type="customStyles" rows="6" style="margin-top: 5px"></textarea></div><div node-type="tabSettings" style="display: none"><p><input type="checkbox" node-type="autoUpdate"><label>每周自动检查更新</label></p><p><input type="checkbox" node-type="updateNotify"><label>更新后首次使用时显示新功能</label></p><p><input type="checkbox" node-type="floatBtn"><label>浮动设置按钮（“返回顶部”浮动按钮下方）</label></p><div class="clearfix" style="margin-top: 8px"><div style="float: left; width: 385px"><p>当前账号的设置信息在下列文本框中，您可以将其复制到其它位置保存。需要导入设置时，请将设置信息粘贴到文本框中，然后点击“导入”。</p></div><a href="javascript:void(0)" class="W_btn_b" node-type="import" style="float: right; margin-top: 6px"><span>导入</span></a></div><textarea node-type="settingsString" rows="10"></textarea></div></div></div><p class="btn"><a href="javascript:void(0);" class="W_btn_a" node-type="OK"><span>确定</span></a><a href="javascript:void(0);" class="W_btn_c" node-type="cancel"><span>取消</span></a></p></div>'),
m=k.core.evt.delegatedEvent(h.getDomList(!0).tabs));p("tipBackColor",function(){f("tipSample").style.backgroundColor=this.value},"blur");p("tipTextColor",function(){f("tipSample").style.borderColor=this.value;f("tipSample").style.color=this.value},"blur");m.add("add","click",function(c){s(c.data.list,c.data.text)});m.add("clear","click",function(c){f(c.data.list).innerHTML=""});m.add("remove","click",function(c){d.remove(c.el)});m.add("addUser","click",function(c){e(c.data.list,c.data.text)});p("outer",
function(c){var b=c.target;b.parentNode&&"LABEL"===b.parentNode.tagName&&(b=b.parentNode);"LABEL"===b.tagName&&(c.preventDefault(),c.stopPropagation(),b.getAttribute("for")?f(b.getAttribute("for")).click():b.previousSibling.click())});p("tabHeaders",function(c){var b=c.target;b&&"A"===b.tagName&&(b.className="current",f(b.getAttribute("tab")).style.display="",Array.prototype.forEach.call(this.childNodes,function(c){b!==c&&(c.className="",f(c.getAttribute("tab")).style.display="none")}))});p("tabHeaderSettings",
E);p("tabHeaderUser",function(){e("userBlacklist")});p("hideAll",function(){for(var c in u.modules)f("hide"+c).checked=!0});p("hideInvert",function(){for(var c in u.modules){var b=f("hide"+c);b.checked=!b.checked}});p("import",function(){var c=new y;c.load(f("settingsString").value)?(l(c),alert("设置导入成功！")):alert("设置导入失败！\n设置信息格式有问题。")});p("checkUpdate",F);p("OK",function(){a=E();a.save();D();u();h.hide()});p("cancel",h.hide);k.custEvent.add(h,"hide",function(){g=!1});return!0},v=function(){if(h||
H())g=!0,l(a),f("tabHeaderUser").classList.contains("current")&&e("userBlacklist"),h.show().setMiddle()};v.shown=function(){return g};return v}(),D=function(){var g={},h={},q=function(d,f){var l=d.toLowerCase(),g=a[f];if(""===d||0===g.length)return"";g=g.filter(function(a){if(!a)return!1;if(2<a.length&&"/"===a.charAt(0)&&"/"===a.charAt(a.length-1))try{return RegExp(a.substring(1,a.length-1)).test(d)}catch(f){}else return a.split("+").every(function(c){return-1<l.indexOf(c.toLowerCase())});return!1});
return g.length?g[0]:""},k=document.createElement("div"),f=function(d){return a.filterSmiley?(k.innerHTML=d.innerHTML.replace(/<img[^>]+alt="(\[[^\]">]+\])"[^>]*>/g,"$1").replace(/<\/?[^>]+>/g,"").replace(/[\r\n\t]/g,"").trim(),k.textContent):d.textContent.replace(/[\r\n\t]/g,"").trim()},p=function(a,d){a=a?a.title||a.textContent:"未通过审核应用";return q(a,d)},t=function(e){e.firstChild&&"wbpTip"===e.firstChild.className&&(e.removeChild(e.firstChild),e.removeChild(e.firstChild));var k=e.getAttribute("mid");
if(!k)return!1;var l=d.scope(),n="1"===e.getAttribute("isforward"),v=1===l?e.querySelector(".WB_detail>.WB_info .WB_name"):null,m=e.querySelector(".WB_detail>.WB_text"),c=e.querySelector(".WB_detail>.WB_func .WB_from>em+a"),b=e.querySelector(".WB_media_expand .WB_info .WB_name"),z=e.querySelector(".WB_media_expand .WB_text"),A=e.querySelector(".WB_media_expand .WB_func .WB_from>em+a"),B=e.querySelector(".WB_media_expand .WB_func .WB_time"),r=n?B?B.href:null:null,w=v?v.getAttribute("usercard").match(/id=(\d+)/)[1]:
null,t=b?b.getAttribute("usercard").match(/id=(\d+)/)[1]:null;if(!m)return!1;var s=1===l?"@"+v.getAttribute("nick-name")+": ":"",s=s+f(m);n&&(b&&z)&&(s+="////@"+b.getAttribute("nick-name")+": "+f(z));if(!a.filterPaused&&!(a.filterOthersOnly&&e.querySelector('.WB_screen a[action-type="feed_list_delete"]')||q(s,"whiteKeywords"))){if(function(){return 1===l&&a.filterPromotions&&"ad"===e.getAttribute("feedtype")||a.filterDeleted&&n&&!b||(1===l&&v&&-1<a.userBlacklist.indexOf(w)||n&&b&&(1===l||t!==d.oid)&&
-1<a.userBlacklist.indexOf(t))||a.filterFeelings&&e.querySelector("div.feelingBoxS")||a.filterTaobao&&e.querySelector("a>i.icon_fl_tb")||(p(c,"sourceKeywords")||n&&p(A,"sourceKeywords"))||a.filterDupFwd&&r&&g[r]&&g[r].length>=Number(a.maxDupFwd)&&-1===g[r].indexOf(k)||a.filterFlood&&w&&h[w]&&h[w]>=Number(a.maxFlood)&&-1===h[w].indexOf(k)||q(s,"blackKeywords")?!0:Array.prototype.some.call(e.getElementsByTagName("A"),function(c){return"http://t.cn/"===c.href.substring(0,12)&&q(c.title,"URLKeywords")?
!0:!1})}())return e.style.display="none",!0;z=p(c,"sourceGrayKeywords");B=q(s,"grayKeywords");!z&&n&&(z=p(A,"sourceGrayKeywords"));if(B||z){var x;1===l&&(x=v.cloneNode(!1),x.textContent="@"+v.getAttribute("nick-name"),x.className="");m=document.createElement("a");m.href="javascript:void(0)";m.className="wbpTip";var u=document.createElement("a");u.href="javascript:void(0)";u.className="wbpTipKeyword";u.textContent=B||z;1===l?(m.appendChild(document.createTextNode("本条来自")),m.appendChild(x),m.appendChild(document.createTextNode("的微博因"))):
2===l&&m.appendChild(document.createTextNode("本条微博因"));m.appendChild(document.createTextNode(B?"内容包含“":"来源名称包含“"));m.appendChild(u);m.appendChild(document.createTextNode("”而被隐藏，点击显示"));x=document.createElement("div");x.className="S_line2 wbpTipLine";e.insertBefore(x,e.firstChild);e.insertBefore(m,x);return!0}}e.style.display="";a.filterPaused||(a.filterDupFwd&&r&&(g[r]||(g[r]=[]),-1===g[r].indexOf(k)&&g[r].push(k)),a.filterFlood&&w&&(h[w]||(h[w]=[]),-1===h[w].indexOf(k)&&h[w].push(k)));return!1},
s=function(){d.scope()&&(g={},h={},Array.prototype.forEach.call(document.querySelectorAll(".WB_feed_type"),t))},n=function(a){a&&d.click(a,function(a){var e=a.target;e&&"A"===e.tagName&&("wbpTipKeyword"===e.className?(C(),a.stopPropagation()):"wbpTip"===e.className&&(d.remove(e.nextSibling),d.remove(e)))})};d.scope()&&n(d.select(".WB_feed"));document.addEventListener("click",function(d){if(!a.directBigImg||!d.target)return!0;var f=d.target.getAttribute("action-type"),g=d.target.getAttribute("action-data");
if(("images_view_tobig"===f||"widget_photoview"===f)&&g&&g.match(/pid=(\w+)&mid=(\d+)&uid=(\d+)/))window.open("http://photo.weibo.com/"+RegExp.$3+"/wbphotos/large/mid/"+RegExp.$2+"/pid/"+RegExp.$1,"_blank"),d.stopPropagation()},!0);document.addEventListener("DOMNodeInserted",function(a){a=a.target;if(!(0===d.scope()||"DIV"!==a.tagName))if(a.classList.contains("WB_feed_type"))t(a);else if(a.classList.contains("W_loading")){if(a=a.getAttribute("requesttype"),"search"===a||"page"===a)g={},h={}}else if(a.classList.contains("WB_feed")||
a.querySelector(".WB_feed"))n(a),s()},!1);return s}(),u=function(){var g={Ads:'#plc_main [id^="pl_rightmod_ads"], #Box_right [id^="ads_"], #trustPagelet_zt_hottopicv5 [class*="hot_topicad"], div[ad-data], .WB_feed .popular_buss',Stats:"#pl_rightmod_myinfo .user_atten",ToMe:'#pl_leftnav_common a[href^="/direct/tome"]',Friends:'#pl_leftnav_group > div[node-type="groupList"] > .level_1_Box, #pl_leftnav_common .level_1_Box > form.left_nav_line',InterestUser:"#trustPagelet_recom_interestv5",Topic:"#trustPagelet_zt_hottopicv5",
Member:"#trustPagelet_recom_memberv5",WeiboRecom:"#trustPagelet_recom_weibo",LocationRecom:"#trustPagelet_recom_location",MusicRecom:"#trustPagelet_recom_music",MovieRecom:"#trustPagelet_recom_movie",BookRecom:"#trustPagelet_recom_book",Notice:"#pl_rightmod_noticeboard",Footer:"div.global_footer",RecommendedTopic:'#pl_content_publisherTop div[node-type="recommendTopic"]',App:"#pl_leftnav_app",Avatar:"dl.W_person_info",CommentTip:'div[node-type="feed_privateset_tip"]',MemberTip:'div[node-type="feed_list_shieldKeyword"]',
TimelineMods:".B_index .WB_feed .WB_feed_type:not([mid])",TopicCard:'.WB_feed_spec[exp-data*="value=1022-topic"]',LocationCard:'.WB_feed_spec[exp-data*="value=1022-place"]',FollowGuide:".layer_userguide_brief",HomeTip:"#pl_content_hometip",IMNews:".WBIM_news",TopComment:"#pl_content_commentTopNav",RecomFeed:'div[node-type="feed_list_recommend"]',MyRightSidebar:".B_profile .W_main_c, .B_profile .WB_feed .repeat .input textarea { width: 100% } .B_profile .WB_feed .WB_screen { margin-left: 928px } .B_profile .W_main_2r",
ProfCover:".profile_top .pf_head { top: 10px } .profile_top .pf_info { margin-top: 20px } .profile_top .S_bg5 { background-color: transparent !important } .profile_pic_top",ProfStats:".profile_top .user_atten",MyMicroworld:'.W_main_c div[id^="Pl_Official_MyMicroworld__"]',Relation:'.W_main_2r div[id^="Pl_Core_RightUserGrid__"]',Album:'.W_main_2r div[id^="Pl_Core_RightPicMulti__"]',ProfHotTopic:'.W_main_2r div[id^="Pl_Core_RightTextSingle__"]',ProfHotWeibo:'.W_main_2r div[id^="Pl_Core_RightPicText__"]',
FeedRecom:'.W_main_2r div[id^="Pl_Third_Inline__"]',MemberIcon:'.W_ico16[class*="ico_member"], .ico_member_dis',VerifyIcon:".approve, .approve_co",DarenIcon:".ico_club",VgirlIcon:".ico_vlady",TaobaoIcon:".ico_taobao"},h=function(){if(!d("wbpShowSettings")){var a=d.select("ul.sort")||d.select("ul.sort_profile");if(!a)return!1;var b=document.createElement("li");b.id="wbpShowSettings";b.className="item";b.innerHTML='<a href="javascript:void(0)" class="item_link S_func1">眼不见心不烦</a>';d.click(b,C);a.appendChild(b)}return!0},
q=function(){function c(){null!==e&&500>(new Date).getTime()-e&&(clearTimeout(f),f=null);e=(new Date).getTime();f=setTimeout(function(){b&&(b.style.visibility=0<window.scrollY?"visible":"hidden")},100)}var b=null,e=null,f=null;return function(){if(!a.floatBtn&&b)return window.removeEventListener("scroll",c,!1),d.remove(b),b=null,!0;if(a.floatBtn&&!b){var e=d("base_scrollToTop");if(!e)return!1;b=document.createElement("a");b.href="javascript:void(0)";b.title="眼不见心不烦";b.id="wbpFloatBtn";b.innerHTML=
'<span class="S_line5" style="padding: 4px 0 6px; height: auto">★</span>';b.className="W_gotop S_line3";b.style.bottom="75px";b.style.height="24px";d.click(b,C);e.parentNode.appendChild(b);window.addEventListener("scroll",c,!1);c();return!0}return!1}}(),k=function(){var c=d("wbpReaderModeStyles");if(a.readerModeIndex||a.readerModeProfile){c||(c=document.createElement("style"),c.type="text/css",c.id="wbpReaderModeStyles",document.head.appendChild(c));var b=Number(a.readerModeWidth);c.innerHTML="";
a.readerModeIndex&&(c.innerHTML+=".B_index .W_main_l, .B_index .W_main_r, .B_index #Box_center>div:not(#pl_content_homeFeed), .B_index .group_read, .B_index .global_footer { display: none }\n.B_index #pl_content_top, .B_index .WB_global_nav { top: -40px }\n.B_index { background-position-y: -40px }\n.B_index .W_miniblog { padding-top: 20px; background-position-y: -40px }\n.B_index .W_main { width: "+b+"px !important; background: "+a.readerModeBackColor+" }\n.B_index #Box_center, .B_index .W_main_a { width: "+
b+"px }\n.B_index .WB_feed .repeat .input textarea { width: 100% }\n.B_index .WB_feed .WB_screen { margin-left: "+(b-48)+"px }\n.B_index .WB_feed .type_text { margin-left: "+(b-165)+"px }\n.B_index .W_gotop { margin-left: "+b/2+"px !important }\n");a.readerModeProfile&&(c.innerHTML+=".B_profile #Pl_Official_Header__1, .B_profile #Pl_Core_Nav__2, .B_profile .group_read, .B_profile .W_main_2r, .B_profile .group_read, .B_profile .global_footer { display: none }\n.B_profile #pl_content_top, .B_profile .WB_global_nav { top: -40px }\n.B_profile { background-position-y: -40px }\n.B_profile .W_miniblog { padding-top: 20px; background-position-y: -40px }\n.B_profile .W_main { width: "+
b+"px !important; background: "+a.readerModeBackColor+" }\n.B_profile .W_main_c { padding-top: 0; width: "+b+"px }\n.B_profile .WB_feed .repeat .input textarea { width: 100% }\n.B_profile .WB_feed .WB_screen { margin-left: "+(b-48)+"px }\n.B_profile .WB_feed .type_text { margin-left: "+(b-165)+"px }\n.B_profile .W_gotop { margin-left: "+b/2+"px !important }\n");if(!a.readerModeTip&&(1===d.scope()&&a.readerModeIndex||2===d.scope()&&a.readerModeProfile))alert("欢迎进入极简阅读模式！\n\n您可以按【F8】键快速开关本模式，也可以在“眼不见心不烦”插件设置“改造版面”页进行选择。"),
a.readerModeTip=!0,a.save(!0)}else c&&d.remove(c)},f=function(a){if(a){var b={".right_content.hot_topic":"Topic",".right_content.person_list":"InterestUser",'[change-data*="key=index_weibo"]':"WeiboRecom",'[change-data*="key=index_LBS"]':"LocationRecom",'[change-data*="key=index_song"]':"MusicRecom",'[change-data*="key=index_mov"]':"MovieRecom",'[change-data*="key=index_book"]':"BookRecom"};a=a.querySelectorAll(".WB_right_module");for(var d=0;d<a.length;++d)for(var e in b)if(a[d].querySelector(e)){a[d].id=
g[b[e]].substring(1);break}}},p=function(){var c="";a.hideMods.forEach(function(a){g[a]&&(c+=g[a]+" { display: none !important }\n")});-1!==a.hideMods.indexOf("ProfCover")&&(c+=".profile_top { min-height: "+(-1===a.hideMods.indexOf("ProfStats")?250:200)+"px }\n");var b=a.tipTextColor,c=c+(".wbpTip:not(:hover) { background-color: "+a.tipBackColor+"; border-color: "+b+"; color: "+b+"; }"),b=d("wbpModuleStyles");b||(b=document.createElement("style"),b.type="text/css",b.id="wbpModuleStyles",document.head.appendChild(b));
b.innerHTML=c+"\n";if(-1<a.hideMods.indexOf("FollowGuide")&&(d.remove(d.select('#pl_guide_homeguide > div[node-type="follow_dialog"]')),b=d.select(".layer_userguide_brief"))){for(;!b.classList.contains("W_layer");)b=b.parentNode;b.previousSibling.style.zIndex===b.style.zIndex&&d.remove(b.previousSibling);d.remove(b)}},t=function(c){if(a.noDefaultGroupPub&&(c=c.querySelector('.limits a[node-type="showPublishTo"]')))c.firstChild.innerHTML="公开",c.setAttribute("action-data","rank=0")},s=function(){if(a.clearDefTopic&&
1===d.scope()){var c=d.select("#pl_content_publisherTop .send_weibo .input textarea");c&&c.hasAttribute("hottopic")&&(c.removeAttribute("hottopic"),c.removeAttribute("hottopicid"),c.value="DUMMY",c.focus(),c.value="",c.blur())}},n=d.select(".W_main_l"),e;n&&(e=n.querySelector(".WB_left_nav"));var u=function(){if(e&&"pl_leftNav_relation"!==e.id){var c=e.querySelector("#pl_leftnav_common"),b;"Nav"===a.floatSetting&&"left_all"===c.parentNode.getAttribute("node-type")?e.querySelector('[node-type="left_fixed_item"]').insertBefore(c,
e.querySelector("#pl_leftnav_group")):"Nav"!==a.floatSetting&&"left_fixed_item"===c.parentNode.getAttribute("node-type")&&e.querySelector('[node-type="left_all"]').insertBefore(c,e.querySelector('[node-type="left_fixed"]'));if((!a.mergeSidebars||"None"===a.floatSetting)&&e.hasAttribute("modsMoved")){c=e.parentNode.querySelector('#trustPagelet_indexright_recom [node-type="right_module_fixed"]');for(console.log(c.parentNode);(b=c.parentNode.firstChild)!==c;)c.appendChild(b);for(b=e.querySelector("#pl_leftnav_app").nextSibling;c=
b;)b=c.nextSibling,e.parentNode.appendChild(c);e.removeAttribute("modsMoved")}if(a.mergeSidebars){if(!e.id){c=d.select(".W_main_r");b=d("pl_rightmod_myinfo");if(!c)return;n.style.display="none";e.id="wbpNavBar";d.select(".W_main").style.cssText="width: 830px; background-position: -150px 0";c.insertBefore(e,b?b.nextSibling:c.firstChild)}if("None"!==a.floatSetting&&!e.hasAttribute("modsMoved")){for(c=e.querySelector('[node-type="left_all"]');b=e.nextSibling;)c.appendChild(b);e.setAttribute("modsMoved",
"");if(c=e.querySelector('#trustPagelet_indexright_recom [node-type="right_module_fixed"]'))for(;b=c.firstChild;)c.parentNode.insertBefore(b,c)}}else e.id&&(e.id="",n.style.display="none",d.select(".W_main").style.cssText="",n.appendChild(e),n.style.display="")}},l=function(){var a,b;return function(d,e){2===arguments.length&&void 0===a&&(a=e);!1!==a&&(b||(b=d.querySelector('.PRF_tab_noicon li.pftb_itm>a[href*="/weibo?"]')),a&&b&&(b.click(),a=!1))}}(),y=function(c){c||(c=document.body);var b=c.classList.contains("name_card_new"),
e,f;if(b){e=c.querySelector(".related_info>.name a[uid]");if(!e)return!1;f=e.getAttribute("uid");e=c.querySelector(".action")}else if(2===d.scope()){if(e=d("wbpUserFilter"))return e.update(),!1;f=d.oid;e=c.querySelector(".pf_info .pf_do")}if(!e||f===d.uid)return!1;var g=document.createElement("div");b?g.className="btn_item":(g.id="wbpUserFilter",g.className="btn_bed W_fl");var h=document.createElement("a");g.appendChild(h);h.href="javascript:void(0)";(g.update=function(){-1===a.userBlacklist.indexOf(f)?
(h.className="W_btn_b",h.innerHTML="<span>屏蔽</span>"):(h.className="W_btn_c",h.innerHTML='<span><em class="W_ico12 icon_addone"></em>已屏蔽</span>')})();d.click(h,function(){var e=a.userBlacklist.indexOf(f);-1===e?a.userBlacklist.push(f):a.userBlacklist.splice(e,1);a.save();D();if(b){for(;"W_layer"!==c.className;)c=c.parentNode;c.style.display="none"}(e=d("wbpUserFilter"))&&e.update()});e.insertBefore(g,e.querySelector("div+div"))},v=function(c){k();h();q();y();u();p();s();var b=d("custom_style")||document.head.querySelector('link:not([id])[href*="/skin/"]'),
e=d("wbpOverrideSkin");b&&(d.uid===d.config.oid&&a.overrideMySkin||d.uid!==d.config.oid&&a.overrideOtherSkin?(e||(e=document.createElement("link"),e.id="wbpOverrideSkin",e.type="text/css",e.rel="stylesheet",e.charset="utf-8",document.head.insertBefore(e,b)),e.href=d.config.cssPath+"skin/"+a.skinID+"/skin"+("zh-cn"!==d.config.lang?"_CHT":"")+".css?version="+d.config.version,b.disabled=!0):e&&(d.remove(e),b.disabled=!1));b=".W_person_info { margin: 0 20px 20px !important }\n.layer_personcard .name_card_new .cover .btn_item { margin-right: 7px !important } .layer_personcard .name_card_new .cover .btn_item span { padding: 0 5px !important }\n";
e=d("wbpCustomStyles");e||(e=document.createElement("style"),e.type="text/css",e.id="wbpCustomStyles",document.head.appendChild(e));a.showAllGroups&&(b+='#pl_leftnav_group div[node-type="moreList"] { display: block !important } #pl_leftnav_group > div[node-type="groupList"] > .level_2_Box > .levmore { display: none }\n');a.showAllMsgNav&&(b+="#pl_leftnav_common > .level_1_Box > .lev2_new { display: block !important }\n");a.unwrapText&&(b+='.WB_info, .WB_text { display: inline } .WB_info+.WB_text:before { content: "：" } .WB_func { margin-top: 5px } .B_index .WB_feed .W_ico16 { vertical-align: -3px !important }\n');
a.mergeSidebars&&(b+="body:not(.S_profile) .W_gotop { margin-left: 415px } body:not(.S_profile) .WB_left_nav .FIXED { width: 230px !important } \n");"None"===a.floatSetting&&(b+='body:not(.S_profile) .WB_left_nav [node-type="left_fixed"] { position: static !important; height: auto !important }\n');a.overrideMyBack&&(b+="body:not(.S_profile) .W_main { background: none "+a.backColor+" !important } body:not(.S_profile) .S_bg4, body:not(.S_profile) .W_main_a, body:not(.S_profile) .W_main_bg { background: none transparent !important }\n");
a.overrideOtherBack&&(b+=".S_profile .W_profile_bg, .S_profile .S_bg5 { background-color: "+a.backColor+" } .S_profile .S_bg4:not(.W_profile_bg) { background: none transparent !important }\n");a.useCustomStyles&&(b+=a.customStyles);e.innerHTML=b+"\n";t(document);c&&l(document,2===d.scope()&&"_home"===d.config.location.substr(-5)&&a.directFeeds)},m=document.createElement("style");m.type="text/css";m.id="wbpDialogStyles";m.innerHTML='.wbpTip{border:1px solid;display:block;line-height:23px;text-align:center}.wbpTip:hover{background-color:#D0FFD0;border-color:#40D040;color:#40D040;margin-bottom:10px}.wbpTip:not(:hover)~:not(.wbpTipLine){display:none !important}.wbpTip:hover~*{opacity:0.5}.wbpTip:hover+.wbpTipLine{display:none}.wbpTipLine{padding-bottom:20px;border-bottom-style:solid;border-bottom-width:1px}#wbpNavBar{margin-bottom:20px}#wbpNavBar .lev a,#wbpNavBar .lev2 a,#wbpNavBar .levmenu,#wbpNavBar .levmenu .lm_li:hover{background-image:none}#wbpNavBar .lev a.lev_curr{background-color:transparent}#wbpNavBar .left_nav_line fieldset .btns{margin-left:148px}#wbpNavBar .WB_left_nav .lev_edit .lev a{width:200px}.wbpSettings p{line-height:150%}.wbpSettings p+p{margin-top:10px}.wbpSettings em.W_vline{margin:0 8px}.wbpSettings table{line-height:30px;margin-top:8px}.wbpSettings span.link{position:relative}.wbpSettings span.link a>span{display:none}.wbpSettings span.link a>span li{list-style:circle inside;padding-left:1em;text-indent:-1em}.wbpSettings span.link a>span li+li{margin-top:5px}.wbpSettings span.link a:hover>span{display:block;position:absolute;margin-top:10px;margin-left:-100px;width:250px;padding:5px;z-index:20000;background:#FFFFB0;color:black;border:1px solid #808000;text-align:left;text-decoration:none;border-radius:3px 3px;box-shadow:3px 3px 3px rgba(0,0,0,0.2)}.wbpTabHeaders{float:left;width:100px;margin-right:10px}.wbpTabHeaders a{display:block;padding:6px 0;text-align:center;text-decoration:none}.wbpTabHeaders a:hover{background-color:#C6E8F4}.wbpTabHeaders a.current{background-color:#79C5E9;color:white;cursor:default}.wbpInput{border:1px solid #D2D5D8;padding:0 2px}.wbpInlineInput{display:inline-block;width:30px;margin:0 3px;vertical-align:middle}.wbpInput input{width:100%;height:22px;border:0;padding:0;margin:0;display:block}.wbpSettings>div{margin-top:15px}.wbpSettings textarea{width:440px;margin-top:10px;border:1px solid #D2D5D8}.wbpSettings input[type="checkbox"],.wbpSettings input[type="radio"]{vertical-align:middle;margin-right:5px}.wbpTabModules tr.wbpRowSpacing td{padding-top:10px}.wbpTabModules i.W_ico16{display:inline-block !important}.wbpKeywordBlock{margin-top:10px;border:1px solid #D2D5D8;padding:8px 8px 0}.wbpKeywordBlock em{font-weight:bold;margin-right:15px}.wbpToolBtns{width:105px;text-align:right}.wbpToolBtns a+a{margin-left:5px}.wbpListWrapper{margin:8px 0;max-height:120px;overflow:hidden}.wbpListWrapper:hover{overflow-y:auto}.wbpKeywordsList{margin-top:-5px;line-height:18px}.wbpKeywordsList a{margin:5px 5px 0 0;padding:0 4px;border:1px solid;display:inline-block;height:18px;white-space:nowrap}.wbpKeywordsList a:hover{text-decoration:none}.wbpWhiteKeywordsList a{border-color:#008000;color:#008000}.wbpWhiteKeywordsList a.regex{background-color:#80FF80}.wbpWhiteKeywordsList a:hover{border-color:#008000;background-color:#D0FFD0}.wbpBlackKeywordsList a{border-color:#D00000;color:#D00000}.wbpBlackKeywordsList a.regex{background-color:#FFB0B0}.wbpBlackKeywordsList a:hover{border-color:#FF0000;background-color:#FFD0D0}.wbpGrayKeywordsList a{border-color:#808000;color:#808000}.wbpGrayKeywordsList a.regex{background-color:#FFFF00}.wbpGrayKeywordsList a:hover{border-color:#808000;background-color:#FFFFB0}.wbpUserList>a{margin:5px 5px 0 0;padding:3px;border:1px solid;display:inline-block;cursor:pointer;text-align:center;text-decoration:none}';
document.head.appendChild(m);f(d("trustPagelet_indexright_recom"));document.addEventListener("DOMNodeInserted",function(c){var b=d.scope();c=c.target;if("DIV"===c.tagName)if(b&&c.classList.contains("group_read"))h();else if(c.classList.contains("name_card_new")||c.classList.contains("PRF_profile_header"))y(c);else if(c.classList.contains("W_main_r")||c.querySelector(".W_main_r"))u();else if("follow_dialog"===c.getAttribute("node-type")&&-1<a.hideMods.indexOf("FollowGuide"))d.remove(c);else if(c.querySelector(".commoned_list")&&
a.noDefaultFwd){if((c=c.querySelector('.commoned_list .W_checkbox[name="forward"]'))&&c.checked)c.checked=!1}else if(c.classList.contains("feed_repeat")&&a.noDefaultCmt){var e=0,g=c.parentNode.parentNode.querySelector('.W_checkbox[node-type="forwardInput"]'),k=c.parentNode.parentNode.querySelector('.W_checkbox[node-type="originInput"]');(function G(){g&&g.checked?g.checked=!1:k&&k.checked?k.checked=!1:10>++e&&setTimeout(G,10)})()}else if(c.classList.contains("send_weibo"))t(c),s();else if(c.classList.contains("PRF_tab_noicon"))l(c);
else if(c.hasAttribute("ucardconf")&&"trustPagelet_indexright_recom"===c.parentNode.id&&(f(c.parentNode),a.mergeSidebars&&"None"!==a.floatSetting))for(var b=c.querySelector('[node-type="right_module_fixed"]'),m;m=b.firstChild;)c.insertBefore(m,b.parentNode.firstChild)},!1);document.addEventListener("DOMNodeRemoved",function(a){if(e&&e.id&&(a=a.target,"DIV"===a.tagName&&a.querySelector("#wbpNavBar"))){if(e.hasAttribute("modsMoved")){for(var b=e.querySelector("#pl_leftnav_app").nextSibling;a=b;)b=a.nextSibling,
e.parentNode.appendChild(a);e.removeAttribute("modsMoved")}e.id="";n.appendChild(e)}});document.addEventListener("keyup",function(c){if(!C.shown()){var b=d.scope();b&&119===c.keyCode&&(1===b?a.readerModeIndex=!a.readerModeIndex:a.readerModeProfile=!a.readerModeProfile,a.save(),k())}},!1);v.modules=g;return v}();d.get(d.uid.toString(),void 0,function(g){a.load(g)?g&&a.version<d.version&&(a.save(!0),a.updateNotify&&alert("您已更新到“眼不见心不烦”v1.1.11：\n\n- 用户信息气球屏蔽链接从关注按钮分离\n- 在个人主页和单条微博页面添加屏蔽用户按钮\n- 在被屏蔽的用户个人主页中正常显示其本人发布的微博\n- 修正微博会员图标屏蔽失效的问题\n- 修正好友圈导航栏屏蔽失效的问题")):
alert("“眼不见心不烦”设置读取失败！\n设置信息格式有问题。");d.scope()&&D();u(!0)})})();