// ==UserScript==
// @name           Ads Skipper
// @author         zonext
// @namespace      http://zonextster.blogspot.com
// @description    No More waiting to skip their ads
// @version        2.6
/**adfly**/
// @include       *adf.ly/*
// @include       *j.gs/*
// @include       *q.gs/*
// @include       *9.bb/*
// @include       *u.bb/*
// @exclude       *adf.ly/go/*
// @exclude       *j.gs/go/*
// @exclude       *q.gs/go/*
// @exclude       *9.bb/go/*
// @exclude       *u.bb/go/* 
/**linkbucks**/
// @include        *://*.linkbucks.com/
// @include        *://*.allanalpass.com/*
// @include        *://*.amy.gs/*
// @include        *://*.any.gs/*
// @include        *://*.baberepublic.com/*
// @include        *://*.deb.gs/*
// @include        *://*.drstickyfingers.com/*
// @include        *://*.dyo.gs/*
// @include        *://*.fapoff.com/*
// @include        *://*.filesonthe.net/*
// @include        *://*.galleries.bz/*
// @include        *://*.hornywood.tv/*
// @include        *://*.linkbabes.com/*
// @include        *://*.linkbucks.com/*
// @include        *://*.linkgalleries.net/*
// @include        *://*.linkseer.net/*
// @include        *://*.miniurls.co/*
// @include        *://*.picbucks.com/*
// @include        *://*.picturesetc.net/*
// @include        *://*.placepictures.com/*
// @include        *://*.poontown.net/*
// @include        *://*.qqc.co/*
// @include        *://*.qvvo.com/*
// @include        *://*.realfiles.net/*
// @include        *://*.rqq.co/*
// @include        *://*.seriousdeals.net/*
// @include        *://*.seriousfiles.com/*
// @include        *://*.seriousurls.com/*
// @include        *://*.sexpalace.gs/*
// @include        *://*.seriousfiles.com/*
// @include        *://*.theseblogs.com/*
// @include        *://*.thesefiles.com/*
// @include        *://*.theseforums.com/*
// @include        *://*.thosegalleries.com/*
// @include        *://*.tinybucks.net/*
// @include        *://*.tinylinks.co/*
// @include        *://*.tnabucks.com/*
// @include        *://*.tubeviral.com/*
// @include        *://*.uberpicz.com/*
// @include        *://*.ubervidz.com/*
// @include        *://*.ubucks.net/*
// @include        *://*.ugalleries.net/*
// @include        *://*.ultrafiles.net/*
// @include        *://*.urlbeat.net/*
// @include        *://*.urlpulse.net/*
// @include        *://*.whackyvidz.com/*
// @include        *://*.youfap.me/*
// @include        *://*.yyv.co/*
// @include        *://*.zxxo.net/*
// @include        *://*.zff.co/*
// @include        *://adcrun.ch/*
// @include        *://*.freean.us/*
/**others**/
// @include        *xa.ly/*
// @include        *robo.us/* 
// @include        *adref.co/*
// @include        *lnk.co/*
// @include        *zpag.es/*
// @include        *ity.im/*
// @include        *adcou.ch/*
// @include        *awsclic.com/l/*
// @include        *adfoc.us/* 
// @include        *adv.li/*
// @include        *www.lienscash.com/l/*
// @include        *madlink.sk/*
// @include        *mediafire.com/*
// @include        *cing.be/*
/**urlcash.net**/
// @include        *.bat5.com/*
// @include        *.celebclk.com/*
// @include        *.eightteen.com/*
// @include        *.looble.net/*
// @include        *.peekatmygirlfriend.com/*
// @include        *.pornyhost.com/*
// @include        *.smilinglinks.com/*
// @include        *.urlcash.net/*
// @include        *.urlcash.org/*
// @include        *.xxxs.org/*
// @include        *rmdown.com/*
// @include        *tiung.com/* 
// @include        *javjunkies.com/*
/**ilixin**/
// @include        *ilix.in/*
// @include        *priva.us/*
// @include        *urlink.at/*
// @include         *lix.in/-*
/**ajaxian**/
// @include        *1ly.us/*
// @include        *bc.vc/*
// @include        *adjoin.me/*
// @include        *1ly.us/*
// @include        *mo.vc/*
// @include        *adsbrite.net/*
// @include        *4ks.net/*
// @include        *youlinking.com/*
// @include        *qurlt.com/*
// @include        *take-a.com/*
// @include        *filesko.com/*
// @include        *zpoz.net/*
// @include        *pp.nu/*
// @include        *mhz.me/*
// @include        *fly2url.com/*
// @include        *pea.bz/*
// @include        *imi.us.tc/*
// @include        *shortit.in/*
// @include        *www.adsbrite.net/*
// @include        *gr8s.us/*
// @include        *adcou.ch/*
// @include        *adref.co/*
// @include        *bih.cc/*
// @include        *ity.im/*
// @include        *sk.gy/*
// @include        *.weeurl.co.uk/*
// @include        *tey.me/*
// @include        *short.pk/*
/**image host**/
// @include        *imagedunk.com/*
// @include        *picleet.com/*
// @include        *piclambo.net/*
// @include        *picturedip.com/*
// @include        *imageporter.com/*
// @include        *imageswitch.com/*
// @include        *imgchili.com/*
// @include        *imagekitty.com/*
// @include        *imagetwist.com/*
// @include        *imagebam.com/*
// @include        *imagevenue.com/*
// @include        *adult-images.net/show.php/*
// @include        *bayimg.com/*
// @include        *bild.me/bild.php?file=*
// @include        *bilder-hochladen.net/files/*
// @include        *bilder-upload.eu/show.php?file=*
// @include        *bildr.no/view/*
// @include        *imagearn.com/*
// @include        *tinypic.com/view.php?*
// @include        *castawayimage.com/viewer.php?file=*
// @include        *crazypix.ru/images/*
// @include        *ifotka.ru/*
// @include        *fotoupload.ru/*
// @include        *freeuploadimages.org/*
// @include        *fuckimagehost.com/*
// @include        *hdimage.org/*
// @include        *imagepremium.com/*
// @include        *imgfuck.com/*
// @include        *imgpulse.com/*
// @include        *iv.pl/*
// @include        *myadultimage.com/*
// @include        *photo-chicken.com/*
// @include        *pics-hosting.com/*
// @include        *pixmaster.net/*
// @include        *pornpicuploader.com/*
// @include        *quickpicshare.com/*
// @include        *realadultimages.com/*
// @include        *shareimage.ro/*
// @include        *uploadz.eu/*
// @include        *viralweed.com/*
// @include        *forscreen.com/image.php?id=*
// @include        *fotosik.pl/pokaz_obrazek/*
// @include        *fotoupload.ru/*
// @include		   *funkyimg.com/*
// Reason : fix some issue.
// Info : http://userscripts.org/scripts/show/138198
// @copyright       2012 Â© zonext
// ==/UserScript==

var script_updater = {
    default_options : {
        script_name:"Ads Skipper",
        script_version:"2.6",
        script_id:"118033",
        script_update_reason:""
    },
    check_version:function(src_version,dest_version){
        src_version = parseFloat(src_version);
        dest_version = parseFloat(dest_version);
        console.log(src_version,dest_version,src_version<dest_version);
        return src_version < dest_version;
    },
    update:function(options){
        var opt = options || this.default_options;
        var ret = {},_this = this;
        GM_xmlhttpRequest({
            method:'GET',
            url:"http://userscripts.org/scripts/source/"+opt.script_id+".meta.js",
            onload:function(xmlHttp){
                if(xmlHttp.readyState === 4 && xmlHttp.status === 200){
                    if(/\/\/\s*@version\s*(\d.*)/.test(xmlHttp.responseText)){
                        var new_version = RegExp.$1;
                        if(_this.check_version(opt.script_version,new_version)){
							var rex = [/Reason\s:([^\n]+)/g,/Info\s:([^\n]+)/g]
							var reason = rex[0].exec(xmlHttp.responseText)
							var info = rex[1].exec(xmlHttp.responseText)                         
                            message = "Update for: "+opt.script_name +"\nVersion: "+new_version+"\n"+reason[0]+"\n"+info[0]+"\nThanks for using my script";
                            alert(message);
                            window.location.href = "http://userscripts.org/scripts/source/"+opt.script_id+".user.js";
                        }
                    }
                }
            },
            synchronous:false
        });
    }    
};

var btn,x,t,r,z,y
var msg = "%41%64%73%20%53%6B%69%70%70%65%72%21%20"+
          "%43%6F%70%79%20%74%68%65%20%66%6F%6C%6C"+
          "%6F%77%69%6E%67%20%6C%69%6E%6B%20%41%6E"+
          "%64%20%4F%70%65%6E%20%69%6E%20%6E%65%77"+
          "%20%74%61%62%20%74%6F%20%61%76%6F%69%64"+
          "%20%65%72%72%6F%72%20%72%65%73%75%6C%74"+
          "%20%66%72%6F%6D%20%6D%65%64%69%61%66%69"+
          "%72%65"
		  
function match() {
	var that = adsList;
	if (!document.body)
	return;
	for(var i in that){
	var m = location.href.match(that[i].host)
	if(m){
	that[i].run()
		}
	}
}

var get = {
	head: function ()  { return document.head },
	body: function ()  { return document.body },
	id:   function (a) { return document.getElementById(a) },
	cls:  function (a) { return document.getElementsByClassName(a) },
	tag:  function (a) { return document.getElementsByTagName(a) }
}	
	
function create(a,b) {
	var elm = document.createElement(a);
	elm.textContent = b;
	( document.head || document.body || document.documentElement ).appendChild(elm)
}
	
function remove(n) {
	while((elm=document.getElementsByTagName(n)).length)
		{elm[0].parentNode.removeChild(elm[0]);}}	

function walk(q) {
	var xp = document.evaluate(q, document, null, 9, null)
		if (xp !== null){
		return xp.singleNodeValue
		}
	}

function grab(re,str) {
	if(re.exec(walk("//script[text ()[contains(.,'"+str+"')]]").innerHTML)) {
	addt()
	skip(RegExp.$1)
	}
}
	
function setCookie() {
	var cookies = document.cookie.split(';')
	for(var i in cookies){
	var date = new Date ()
	date.setTime(date.getTime () - (24*3600*1000))
	var cookie = cookies[i].split('=')[0]
	document.cookie = cookie+"=;expires="+date.toGMTString ();
	document.cookie = cookie+"=;host="+location.hostname+";path=/;expires="+date.toGMTString ();
	}	
}

function clearInt() {
	for (var i = 5; i >=0; --i) {
	clearInterval(i);
	}
}
	
function skip(go) {
	re = [/https?:\/\/[a-z0-9]{8}\..*\.(com?|gs|us|net|me|tv|bz)/,
	     /mediafire/i]
	if ( location.href.match(re[0]) && go.match(re[1]) ) {
	prompt (unescape(msg), go)
	}
	else {
	clearInt()
	setTimeout(
	function () {
	location.href = go
	title ()
	},
	100)
	}
}

function title () {
	return document.title= 'Ads Skipper! Redirect in progress...'
}

function addt () {
	document.body.innerHTML = '';
	var css = "html, body {background: url('http://adref.co/design/images/bg.png');}"
	create('style', css)
}

var adsList = {
		adfly:{
			host:/adf.ly|q.gs|j.gs|9.bb|u.bb/,
			run:function () {
				var lock = new RegExp("(adf.ly|j.gs|q.gs|9.bb|u.bb)\/locked")
				setCookie ()
				if( location.href.match(lock) ) {
				skip(walk("//div[@id='continue']/div/a").href)
				} else {
				grab(/var url\s?=\s?['"]([^"']+)['"]/g, 'function counter')
				}
			}
		},
		
		adfoc:{
			host:/adfoc.us/,
			run:function () {
				grab(/var click_url\s?=\s?["']([^'"]+)["']/g, 'var ad_url')
			}
		},
		
		advli:{
			host:/adv.li/,
			run:function  () {
				grab(/_url\s?=\s?["']([^'"]+)["']/g, '_d=1000*3')
			}
		},
		
		linkbucks:{
			host:/https?:\/\/[a-z0-9]{8}\..*\.(com?|gs|us|net|me|tv|bz)/,
			run:function () {
				grab(/Lbjs.TargetUrl\s?=\s?["']([^'"]+)["']/g, 'Lbjs.Token')		
			}
		},
		
		urlcash:{
			host:/go.((bat5|celebclk|eightteen|peekatmygirlfriend|pornyhost|smilinglinks)\.com|(urlcash|looble)\.net|(urlcash|xxxs)\.org)/,
			run:function () {
				grab(/linkDestUrl\s?=\s?["']([^'"]+)["']/g,'linkCode')
			}
		},
		
		liencash:{
			host: /lienscash.com/,
			run:function () {
				grab(/window.location.href\s?=\s?["']([^'"]+)["']/g,'function time_left')
			}
		},

		zpages:{
			host: /zpag.es/,
			run:function () {
				grab(/window.location\s?=\s?["']([^'"]+)["'];/g,'function timeout')
			}
		},
		
		adrefco:{
			host: /adref.co/,
			run:function () {
				remove('div');remove('iframe');remove('ispan')
				r = /var code\s?=\s?["']([^"']+)["']/g
				if(y = r.exec(walk("//script[text ()[contains(.,'var code')]]").innerHTML)){
				return skip("/redirect.php?code="+y[1])
				}
			}
		},
			
		mediafire:{
			host: /mediafire.com/,
			run:function () {
				remove('iframe')
				if(x = walk("//input[@id='recaptcha_response_field']")){
				document.title = 'Ads Skipper! Protected By captcha...'
				}
				else {
				if(x = walk("//script[text()[contains(.,'kNO')]]")) {
					t = /kNO\s?=\s?["']([^"']+)["']/g.exec(x.innerHTML)
					location.href = t[1]
				  }
				}
			}
		},

		xaly:{
			host: /xa.ly|robo.us/,
			run:function () {
			title ();addt ()
			var z = "setTimeout('window.location = Base64.decode(fl);', 1000)"
			return create('script', z)
			}
		},
		
		lnkco:{
			host: /lnk.co|linkbee.com/,
			run:function () {
				skip(walk("//input[@id='urlholder']").value)
			}
		},
		
		awsclic:{
			host: /awsclic.com/,
			run:function () {
				skip(walk("//img[contains(@src,'../img/acceder.png')]").alt)
			}
		},
		
		adcouch:{
			host: /adcou.ch/,
			run:function  () {
				document.head.innerHTML = '';title ();
				location.href = walk("//div[@id='SkipAd']/a").href
			}
		},		
		
		ilixin:{
			host:/ilix.in|priva.us|urlink.at/,
			run:function  () {
				r = "function decreaseTime () {document.frm.consubmit.value='Continue';}"
				create('script', r)
				create('style', '.blockUI{display:none}')
				if (t = get.id('captcha')) {
					document.title = "Ads skipper! Protected by captcha... "
					walk ("//form[@name='frm']/input[@id='captcha-form']").focus() 
					} 
				else {
					title () 
					try { walk("//form[@name='frm']").submit();}
					catch (err) { skip(walk("//body/iframe[@name='ifram']").src) }
				}
			}
		},
		
		lixin:{
			host:/lix.in\/-/,
			run:function () {
				if ( get.id('ibdc') ) {document.title = "Ads skipper! Protected by captcha..." }
				else {
					try {walk("//form/input[@type='submit']").click()}
					catch (err) { skip(walk("//body/iframe[@name='ifram']").src) }
				}
			}
		},
	
		imageporter:{
			host:/imageporter.com|picturedip.com|piclambo.net|imagedunk.com|picleet.com|imageswitch.com/,
			run:function () {
				skip(walk("//img[contains(@src,'imageporter.com/i/')]").src)
			}
		},
		
		ityim:{
			host:/ity.im/,
			run:function () {
				t = '(function (){redirect ()}) ()'
				create('script',t)
				location.href = walk("//frame[contains(@src,'interheader.php?')]").src
			}
		},

		imagechili:{
			host:/imgchili.com/,
			run:function () {
				remove('script')
				skip(walk("//img[contains(@onclick,'scale')]").src)
			}
		},

		rmdown:{
			host:/rmdown/,
			run:function () {
				remove('img')
				if(btn = walk("//input[@value='download']")){
				btn.removeAttribute('onclick')
				btn.click ();
				}
			}
		},
		
		imagekitty:{
			host:/imagekitty.com/,
			run:function () {
				skip(walk("//img[contains(@src,'imagekitty.com/i/')]").src)
			}
		},
		
		imagetwist:{
			host:/imagetwist.com|imagevenue.com/,
			run:function () {
				skip(walk("//img[contains(@onload,'scaleImg')]").src)	
			}
		},
		
		imagebam:{
			host:/imagebam.com/,
			run:function () {
				skip(walk("//img[contains(@onclick,'scale')]").src)			
			}				
		},
		
		adlimage:{
			host:/adult-images.net/,
			run:function () {
				skip(walk("//img[contains(@onclick,'adjustImage')]").src)
			}
		},
		
		bayimage:{
			host:/bayimg.com/,
			run:function () {
				skip(walk("//img[@id='mainImage']").src)
			}
		},
		
		imagearn:{
			host:/imagearn.com/,
			run:function () {
				skip(walk("//img[@id='img']").src)
			}
		},		
		
		bildme:{
			host:/bild.me/,
			run:function () {
				skip(walk("//img[@id='Bild']").src)
			}		
		},
		
		bildme:{
			host:/bildr.no/,
			run:function () {
				skip(walk("//img[@class='bilde']").src)
			}		
		},		
		
		adlimage:{
			host:/bilder-hochladen.net/,
			run:function () {
				skip(walk("//img[contains(@src,'/files/')]").src)
			}
		},
		
		tinypic:{
			host:/tinypic.com/,
			run:function () {
				skip(walk("//a[@class='thickbox']").href)
			}
		},
		
		ultimage:{
			host:/castawayimage.com|crazypix.ru|ifotka.ru|foto-boom.org|fotoupload.ru|freeuploadimages.org|fuckimagehost.com|hdimage.org|imagepremium.com|imgfuck.com|imgpulse.com|iv.pl|myadultimage.com|photo-chicken.com|pics-hosting.com|pixmaster.net|pornpicuploader.com|quickpicshare.com|realadultimages.com|shareimage.ro|uploadz.eu|viralweed.com/,
			run:function () {
				skip(walk("//div[@id='page_body']/div/a/img").src)
			}
		},

		bilduld:{
			host:/bilder-upload.eu/,
			run:function () {
				skip(walk("//input[@type='image']").src)
			}
		},
		
		forscreen:{
			host:/forscreen.com/,
			run:function () {
				skip(walk("//img[contains(@onclick, 'this.src=')]").src)
			}
		},
		
		fotosik:{
			host:/fotosik.pl/,
			run:function () {
				skip(walk("//img[@id='photoDivImage']").src)
			}
		},
		
		fotoupload:{
			host:/fotoupload.ru/,
			run:function () {
				skip(walk("//img[contain(@style, 'dashed')]").src)
			}
		},
		
		funkyimg:{
			host:/funkyimg.com/,
			run:function () {
				skip(walk("//img[contains(@onclick, 'scaleImage')]").src)
			}
		},
		
		tiung:{
			host:/tiung.com/,
			run:function () {
				rgx = /https?:\/\/[w]{3}.tiung.com\/.*&\w+=\w+/g
				skip(rgx.exec(walk("//script[text ()[contains(.,'function countdown')]]").innerHTML))
			}
		},
		
		javjunkies:{
			host:/javjunkies.com/,
			run:function () {
				if(x = /window.open\(.*\);/g.exec((document.head).innerHTML)){
					title ()
					t = "(function (){"+x+"}) ()"
					create('script', t)
				}
			}
		},
		
		bcvc:{
			host:/bc.vc/,
			run:function () {
				remove('iframe')
				r = /\$.post([^{]+){opt:'make_log'([^}]+)}},/g
				if(t = r.exec(walk("//script[text ()[contains(.,'var rr = function')]]").innerHTML)){
					z = "function clog (){ "+t[0]+      "\nfunction(rr){\n"+ 
					    "var jj = eval('(' + rr + ')');\n if (jj.message)"+
					    "{\n clearInterval(mi)\n top.location.href = jj.message"+ 
						".url;}})}\nvar mi = setInterval('clog ();', 1000)"
					create('script',z)
					title ()
				}
			}
		},
		
		jack:{
			host:/adjoin.me|1ly.us|short.pk|tey.me|fly2url.com|pea.bz|bih.cc|imi.us.tc|weeurl.co.uk|shortit.in|adcrun.ch|sk.gy|adjoin.me|1ly.us|mo.vc|4ks.net|youlinking.com|qurlt.com|take-a.com|filesko.com|zpoz.net|pp.nu|mhz.me|adsbrite.net|gr8s.us/,
			run:function () {
					remove('iframe')
					r = /\(function\(p,a,c,k,e,d\).*{}\)\)/g
					if(t = r.exec(walk("//script[text ()[contains(.,'eval(function(p,a,c,k,e,d)')]]").innerHTML)){
					var txt = document.createElement('textarea');
					txt.value = eval(t[0])
					if(z = /\$.post([^{]+){opt:'make_log'([^}]+)}},/igm.exec(txt.value)){
						title ();
						y = "function clog (){ "+z[0]+
							"\nfunction(rr){\n var jj = eval('(' + rr + ')');\n if (jj.message)"+
							"{\n clearInterval(mi) \n top.location.href = jj.message.url;}})}"+
							"\nvar mi = setInterval('clog ();', 1000)"
						create('script', y)}
					else{
						z = /top\.location\.href\s?=\s?'([^\']+)'/g.exec(txt.value)
						skip(z[1])
					}	
				}
			}
		},
	
		madlink:{
			host:/madlink.sk/,
			run:function () {
				remove('iframe')
				create('style', '#skip_ad{display:none}')
				skip(walk("//span[@id='gosterbeni']/form/input[@name='url']").value)
				title ();
			}
		},
		
		cingbe:{
			host:/cing.be/,
			run:function () {
				title ();create('style', '#short{display:none}')
				walk("//form[@name='short_it']").submit()	
			}
		}
}

try {
	match ();
	script_updater.update ();
}
catch (err) {
	addEventListener(
	'DOMContentloaded',
	match,
	false)
}