// ==UserScript==
// @name        better gambler.ru
// @namespace   gambler
// @author      fanerkin
// @description gambler.ru extra features
// @include     *//www.gambler.ru/tours/protocol?tourid=*&teamid=*
// @grant       none
// @version     0.0.8.5
// ==/UserScript==

var g=null;
if(/\/\/www\.gambler\.ru\/tours\/protocol\?tourid=[0-9]+&teamid=[0-9]+$/.test(window.location.href)){var l=document,q,aa=function(a){var b;a?(b=1,a="string"==typeof a?t.e.find(a):a):(a=g,b=0);return Object.create(t,{q:{writable:!0,value:a},l:{writable:!0,value:b}})},t,w,y=function(a,b){var d;if(this&&1===this.nodeType)return a(this,b);if(this.length&&this[0]&&1===this[0].nodeType)for(d=this.length;d--;)a(this[d],b);return this},z=function(a,b){return a&&a.className?RegExp(" "+b+" ").test(" "+a.className+
" "):!1},ba=function(a,b){function d(a,b){a.className&&(a.className=(" "+a.className+" ").replace(RegExp(" "+b+" ","g")," ").trim());return a}return a?y.call(a,d,b):a},B=function(a,b){function d(a,b){a.className?z(a,b)||(a.className=a.className+" "+b):a.className=b;return a}return a?y.call(a,d,b):a},ca=function(a){function b(a){B(a,"show");ba(a,"hide");return a}return a?y.call(a,b):a},C=function(a){function b(a){B(a,"hide");return a}return a?y.call(a,b):a},da=function(a){var b;if(a&&1===a.nodeType)z(a,
"hide")?ca(a):C(a);else if(a&&a.length)for(b=a.length;b--;)da(a[b]);return a},D=0,F;w={t:function(a){F||(F=a)},f:z,b:B,k:ba,u:function(a,b){function d(a,b){return z(a,b)?ba(a,b):B(a,b)}return a?y.call(a,d,b):a},show:ca,g:C,toggle:da,p:function(){C(this)},create:function(a){var b,d;b=l.createElement(a.tag?a.tag:"div");for(d in a)a.hasOwnProperty(d)&&"tag"!==d&&(b[d]=a[d]);return b},find:function(a,b){b||(b=l);return"#"==a[0]?l.getElementById(a.substr(1)):b.querySelectorAll(a)},remove:function(a){function b(a){a.parentNode&&
a.parentNode.removeChild(a);return a}return a?y.call(a,b):a},n:function(a){function b(a){a.outerHTML&&(a.outerHTML=a.innerHTML);return a}return a?y.call(a,b):a},o:function(a,b){for(var d in b)b.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=b[d]);return a},d:function(a,b,d){function e(a){switch(a){case "on":D++;ca(F);break;case "off":D&&(D--,D||C(F));break;default:D=0,C(F)}}var c=new XMLHttpRequest,f=setTimeout(function(a){a.abort();e("off")},1E4);c.open(d?"POST":"GET",a,!0);c.onreadystatechange=
function(){4==this.readyState&&(clearTimeout(f),e("off"),200==this.status&&b(c))};e("on");c.send(d||g)}};t=Object.create(g);t.e=w;t.f=function(a){return this.e.f(this.h,a)};t.find=function(a){this.h=this.e.find(a,this.h);return this};(function ea(b){var d;if(0==b.length)return!0;d=b.pop();t[d]=function(b){t.e[d](this.h,b);return this};return ea(b)})("addClass removeClass toggleClass show hide toggle remove unwrap".split(" "));w.o(aa,w);q=aa;var G=Array.prototype.filter.call(Object(l.body.children),
function(a){return"CENTER"==a.tagName})[0],I=G.getElementsByClassName("gt"),fa=5==I.length,J=I[0],ga=I[1],ha=I[I.length-1],ia,K,ja=G.getElementsByClassName("x-large")[0],L=G.querySelector(".large:nth-child(2)"),ka,la,ma,na,N;N=l.createElement("style");N.type="text/css";N.appendChild(l.createTextNode('a:link,a:visited{color:#5555f0 !important}a:hover{color:#fff !important;background-color:#9999F0 !important;text-decoration:none}body>table:first-child a:hover{background-color:transparent !important}hr{color:#fff}::-moz-selection{background:#a00;color:#fff}::-webkit-selection{background:#a00;color:#fff}::selection{background:#a00;color:#fff}.large{font-size:100%;font-weight:700}.x-large{font-size:100%}#big{margin-top:5px}#big>tbody>tr>td[width]{display:none}table{border-collapse:collapse}td[valign="top"]:last-child, #stbl{text-align:center}td[valign="top"]:first-child, #stbl2 td:first-child, #stbl td:nth-child(8){text-align:left}#protocol-table tbody td:first-child, #stbl td:first-child, #stbl td:nth-child(5), #stbl td:nth-child(6), #stbl td:nth-child(7), #stbl2 td{text-align:right}tr.even{background-color:#eee}tr.own.odd{background-color:#dff0d8}tr.own.even{background-color:#d0e9c6}th, tfoot{border:1px solid #fff;outline:0;color:#009;background-color:#c4e3f3}th{cursor:pointer;text-align:center}th:hover{color:#fff;background-color:#a0c0f0}#stbl, #stbl2, #progress-hands{box-shadow:0 1px 1px rgba(0, 0, 0, 0.075)}#stbl2{width:100%}#stbl2 tbody tr:hover{cursor:pointer;background-color:#cfeefe}input[type=text], input[type=password], textarea, #progress-AN{margin:5px;padding:3px 4px 2px 4px;width:110px;border:1px solid #ccc;border-radius:4px;transition:border linear 0.2s, box-shadow linear 0.2s;box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.075)}input[type=text]:focus, input[type=password]:focus, textarea:focus{outline:0;border-color:rgba(82, 168, 236, 0.8);box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6)}.btn, input[type=submit]{background-color:#f5f5f5;background-image:-webkit-linear-gradient(bottom, #e6e6e6 50%, #fff);background-image:-moz-linear-gradient(bottom, #e6e6e6 50%, #fff);background-image:-o-linear-gradient(bottom, #e6e6e6 50%, #fff);background-image:linear-gradient(bottom, #e6e6e6 50%, #fff);background-repeat:repeat-x;text-shadow:0 1px 1px rgba(255, 255, 255, 0.75);border:1px solid #bbbbbb;border-color:rgba(0, 0, 0, 0.15) rgba(0, 0, 0, 0.15) rgba(0, 0, 0, 0.25);border-bottom-color:#a2a2a2;border-radius:4px;cursor:pointer;color:#333333;margin:2px;padding:2px 6px;box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05)}.btn:hover, input[type=submit]:hover{background-color:#e6e6e6;background-position:0 -15px;-webkit-transition:background-position 0.1s linear 0s;-moz-transition:background-position 0.1s linear 0s;transition:background-position 0.1s linear 0s;background-image:-webkit-linear-gradient(top, #fff 50%, #e6e6e6);background-image:-moz-linear-gradient(top, #fff 50%, #e6e6e6);background-image:-o-linear-gradient(top, #fff 50%, #e6e6e6);background-image:linear-gradient(top, #fff 50%, #e6e6e6);background-repeat:repeat-x;text-decoration:none}.btn:active, input[type=submit]:active{box-shadow:0 2px 4px rgba(0, 0, 0, 0.15) inset, 0 1px 2px rgba(0, 0, 0, 0.05)}.large.btn{opacity:.8;padding:4px 12px;display:inline-block}.large.btn, th{-moz-user-select:none;-webkit-user-select:none}.is_on{color:#009 !important;background-color:#e4f2f8 !important}.clicked{color:#fff !important;background-color:#c4e3f3 !important}#chart{position:fixed;left:50%;margin-left:-440px;width:880px;z-index:99}#extstats{position:absolute;left:10%;text-align:left;font-size:10px;width:220px;z-index:103}#progress{position:fixed;bottom:10px;right:10px;z-index:100;text-align:center;white-space:nowrap;height:26em;font-size:10px}#progress>div{float:left}#protocol{text-align:center;white-space:nowrap;font-size:10px;position:absolute;right:10px;z-index:98}#protocol-table td{border:1px solid #fff}#chart, #progress, #protocol, #extstats{background-color:#e7d6c5;border:1px solid #999;border:1px solid rgba(0, 0, 0, 0.3);border-radius:8px;padding:20px;box-shadow:0 3px 7px rgba(0, 0, 0, 0.3);background-clip:padding-box}#progress-AN{font-size:10px;width:6em;background:none repeat scroll 0 0 #f5f5f5;float:left;margin-left:10px}.progress-hand{width:13em;color:#fff}.progress-name{margin-left:1em;font-size:14px;font-weight:700;display:inline}#progress-hands{border:1px solid #fff;border-radius:8px;width:350px;height:240px;text-align:left;margin:8px;background:#585 url(http://www.gambler.ru/sphere/megasphere/gambler/resources/tables/2.png) no-repeat scroll center center}#progress-N, #progress-S{margin-left:140px}#progress-N{margin-top:12px}#progress-E{float:right}#progress-S{clear:both}#progress-W{clear:left;float:left;margin-left:60px}#progress-bids-contract{margin:8px;display:table-cell}#progress-bids-contract table, #contr, #progress-tricks, #protocol-table{margin-bottom:15px;border:1px solid #fff;background-color:#edc;box-shadow:0 1px 1px rgba(0, 0, 0, 0.075)}#progress-bids-contract td{padding:2px;width:4em}#progress-tricks{margin:8px}#progress-tricks td{width:50px}#progress-tricks td:first-child{width:35px}#progress-contract td{text-align:left;padding:2px 1em}.bid{font-weight:bold;background-color:#fff}.dbl{font-weight:bold;color:#fff;background-color:#d00}.rdbl{font-weight:bold;color:#fff;background-color:#009}.pass{font-weight:normal;color:#fff;background-color:#585}.show{visibility:visible !important;opacity:1;-webkit-transition:opacity 0.2s linear;-webkit-transition-delay:0s;transition:opacity 0.2s linear;transition-delay:0s}.hide{visibility:hidden !important;opacity:0;-webkit-transition:visibility 0s linear 0.2s,opacity 0.2s linear;transition:visibility 0s linear 0.2s,opacity 0.2s linear}#preloader{width: 32px;height: 32px;position: fixed;bottom: 20px;right: 20px;background-repeat: no-repeat;background-image: url(data:image/gif;base64,R0lGODlhIAAgANUAAAwODBQSFBQWFBwaHBweHCQiJCQmJCwqLCwuLDQyNDQ2NDw6PDw+PERCRERGRExKTExOTFRSVFRWVFxaXFxeXGRiZGRmZGxqbGxubHRydHR2dHx6fHx+fISChISGhIyKjIyOjJSSlJSWlJyanJyenKSipKSmpKyqrKyurLSytLS2tLy6vLy+vMTCxMTGxMzKzMzOzNTS1NTW1Nza3Nze3OTi5OTm5Ozq7Ozu7PTy9PT29Pz6/Pz+/AAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/h1CdWlsdCB3aXRoIEdJRiBNb3ZpZSBHZWFyIDQuMAAh+QQJCQA9ACwAAAcAIAAVAAAG/sCecDjErUCZF21ZY2lCrBxxSt29HoRCAqLpbDScywORjch2VOLONpuhIJIGYUCvDxYPR6ptQ095OG0yHgZ0AoYDh4qJBBptMzg8QzsZExokE4uaiZyKAhMiGhMekj0cih4EAqusra6sAxqrAyI9MIkCDhMBAry+vcC/vxcIvQQ2GQEDCRsIAc/Q0dLSDBcJqyErLG0rAL3QAM/h4+LfvDEzMi0tNTQz7hHj5PMB9AAYjzM2bOk0MHLy7MkLQCBCG3czbvSjIeODgg67BgKYWC+cgAsbFIiQIQiHjg0yQiCYCGDBFwcDSFYswEXDAYoKSMwwIenCAookwzE40QFDjAULGTqQUFCxYrgJLITQSGAgJ0kJ+fIpcBrOQAYdQ1QkKCDA6Yp3YMGScBqgwAIaU1gkmFNxQj4Z7uDOuDlxQAEGMdLQmDAA2gMPI0ygUKEiBYoSIRpAG5DhRpohK3YFWPDzAoYMGTRo2JCR14W8j6fYIIH5J4bLmzV80HACR+jXPHS4i8GxBtbXPYIAACH5BAkJAD0ALAAABwAgABUAAAb+wJ5wOMStQJkKbVmroUKsHHFK3d1EBUICMsBsNJ+UBEEoQEY6KnFnm9FiogmjMKjXBYTFQyBZzWw7VDwwMjMyHgYDAoqKi3iMdRozkzg8QzsXAwQMDIyOnp4CjhoyLyorlj0bogOroq+wsY2LGo4iPTCvDhIBAgG9wL6iwL+/AhcIrDcmFx0hKwvF0tPFwr8GBsAgNZMzLQTTAL/iAeLm44tPGA8ZNTI0bhDl5ef18+QAGN1/NvBuKgIA1DNnT+ABDt3g4TA0AwUvABMo0JsokB6AARY6sNgnI8cOCw0IAljwxcEAkeIYfDkAQAApQyiEZGBZUeBFGDNGYKhgIcmJRZv0DpAgwUIIDQfZbArssK9bjIBKKy7wEEhICwUFLC5I6KbrhKjiCkygMYVFAgIDyp3o+s4QPBNRBxRgIEMNjQlpA0y44EHECRQqVKRAQWJigAEZbqgZwmKCAAgUeF64gCGDBg0Zig24EGMxlRopQFywQDmDZQ0XFFg4odizZx46DMUoVKOq6yAAIfkECQkAPQAsAAAHACAAFQAABv7AnnA4xK1AGQmHRqvVbCdWjkit7m40TCGBCBg2GpLqhCgQIKNblbizzd6rCqMwqNsJiy5BcrLtqjwjHCgwHgoDAoiKiYyKGm8zODxDOxeMjZiLmgIgkDaTPRuMEQECpqeoqaZ1JBQQDiM9MAMEBxMSAqW6uby7ugEBFQarNjUyMzQzCsDMzc7NvbwhNW8yMgzOAMDaAdzc3aYSB8AVxkwzEdoA6t3t7Ou5ABhvLSIkNskyIQzv693q/Q6ogIQMxwwVFwaoE0AK4L+HAAZYcFEtX44dCACuWwDGAQF/IAFQ0IDgwIlzMk4I+XAgJAADMN684FDBQrp1GjNYM7FCiIMNCQb+RUxBENmMFjiTbgzhQceQFgoK/AthNBnBAkr9LehQgwqLBAQGJDARc4aMZPluJg1QQAKNNTQmCCgQYYIFDyNMoEihAkWFtQEGZFCzRgiLCREkUKh5AQOGDBoa4AR2IUbhKjZUgMBgoXEGyNgSXDgx5fJlHjloyIhxjMYf0z2CAAAh+QQJCQA9ACwAAAcAIAAVAAAG/sCecDjErUIZCaREq9VstxaOSK3ubjQZ5SAIBBweUuq1IRAio1uVqLPNaLNVhjGoE+p1hVdAcMB2VTwiBxEdHRADAomLio2JAhczkjg8QzsXjwCOm4yMBCEycDaVPRsCigWnqqusrAMpKCcmLT04HB0eIhJdvAGqvr6/vA6PAzZukjMLXszNzs9dwSE1b5ITzQBe2QHZ25rY0RXUbzEMAgDd3Orp7AYdKhwPkDYyJBIE6Nzd+/r8BypwJMmQAaMAO2D88qWDBCOgpBg5djhQiO4AiQ4O8KGjCABDhBeSstAwUanEgY3cHsRI9iJFhgcbFRpQIbAECyE4IhjQ12AlepxQkkzEjBlAxAsRHgAJcZGgQIAFMATSCEhjxdCYA27VoMIiAYEEG0w0TCYJxlV0AxJ8oLGGxgQDECRIuJDLBAoVKvrlCzCgQ441Q1psiCCBQgULFzBgyKDXy4UYgKvYUPEBQ4XEizcmuHDib+TIPHJkiRGjxQyln4MAACH5BAkJAD0ALAAABwAgABUAAAb+wJ5wONzBQhkJxPGq1Ww3XI5Ire5uNNqLIQgECiFS6uWCFCCjW5VIY83eqg1iQKcTBASCd0AocHRVPCIFAwgcEQMCiYuKdYoAECUxMzg8RReJAgCMnAKKn3UhMjQzN5Y9HXkDAZ6trq+vAypvlD06M6QyDay8Xb6evV5dBQzFDjY2b6QKXV7Oz9DNv10hNaRvFM8AXtsB3d3eXeABFTUzMiYXE9vs3u7tAN8GIw7iGCsQBOzx3vz+8PEOrHjzAkQkGO8SAuznTsAFGLRwydCxA0K8fRVIdHAw4OK+eAlG4To3A4WQEwf2baBFykWKER09BnggQ9kMEiyE4JBgYFt7iJEsZ4Dw6LEBDC0gPgAS0kJBAQovlInE9YGoRwYlOnigQYVFggQQNJh4QeoaB6sXD2itsYZGBQcQIkyw4EGECRQW0HppcGLKmh48XmiIIIFCBQsXLjQg6uxCjL9VbqQAccEC4sUXE1wo4RfyXx46aMh4saLFjB2ehQQBACH5BAkJAD0ALAAABwAgABUAAAb+wJ5wONzlTBkJxDGp1Wy33I5Ire5utNkMNQgEHBRSqgVrOSCjW5VI04BgsxWmMBgQ6vh7wF7QqKk8InQEFxECA4eJiIsCAgUSDxwqODxFF4gCe4qbjIsDIVozN5U9LxwacwGNq6ytrSShOD06M1kwBqyqupmtqqsgIyYoODahMwteycrLzLsBIDVZNDATygBe19nYywjJAhUwIRUIAiIB2ujn6gDZBiEAmQAYGurb7Ofo99oHKzEiDplIwMCXrSC+g/oAQICTZYaLDaMkrBPg4SEGBwPYacQnoEOMUA1VCDlxgN2BFMa0vBiBIUNGjRq0NJxBwoUQHBIMPIBTq2dyFg0agwL4EMoFiA86hrRQsODDi5S1JAjdKNCEBw80qLBY0MCBBhMMtSSYqjFBBw4fslahceGMBAkXPIgoQfZegw4mcqwRwuNhBAkUKlSwQHCjlw819laxkeIDBgsWXpatUEKvYsU8ctBosaJFixmWLwcBACH5BAkJAD0ALAAABwAgABUAAAb+wJ5wONzlbBsJxOH41Gy33I5Ire5utBkthgkgIg9OCgWbrSqjW5VIwyA2rpWkMKjb64SFgEAoaNRUPCJ0BRYQdQIDiYuKjQwSBAYSNTxDPBmKAggFjJ2NjAMeM6M2lT02MzAtDQKtrq+wrwMbozM4PTq1LAEBAry9wL6uwMFlo1daMzIKvL6/z9DOvQQJjydZKiAeE9AAvN7g388UBMAVFgO/IwPg4e4B7gYh3vAYHPDwCAjw7u38/AhWYGDHi0SMf94eCPAHgKE3Ai5GweCAYMANHhL4JUAxw8UGBA3YNfS3oEOZLFpkkBBy4kCADDJqJZtxAkOGCxgWAhCBMpl9jBIuhOCQICHizJQURiod0GLmixAfpghpsaCBhzIysmQhoFTpgpgwSnDwQIMKCwYMHmgwgRVF164XRHTo4KHGGhoXHECIIAHDtrdKI8w1oWONEB4tNESYMIECA35deV24ZriKDRUf8r4NkKDCCUCVDfPIIaPFihVNc4QWEgQAIfkECQkAPQAsAAAHACAAFQAABv7AnnA43OVuLwnE4YCkbLfcjkit2mY0LEyVgEQgj9EJNpuxSLcqkYYhFDonSGFArw8EBIYF4dakqTwicwUWEHeHAnR4dQINEgQDBidEPC0XEQkTBYmciHediRcfKDA3PEJXWBMCrK2ur64DFWUzOD06WGYCAbu9rbzAu8C8MFkzOze0KgYBzc7P0MK8AxcgJyw2JBYPBhAUzwDN4ePi4BsIvRUPzyMDAOTwAfEABiHlGBzy4Qga+v7w494hIEEgnDwSMeTJI+Ahw653+t4FXBhiRgkG7wiYkgBAAIYYZVxoSACgoEKIABh0AEnLRIMMQk40YEErSxYYJzBguKATQ4IAErRkGJMhooUQHBEqvKDFFKNEiQnKGKPxIkSHKUJcJGDggYxNFE/DfpD6ogQHDzSoqGDQwIEGE0s5hpU4oEUKER04gEhbZcaFJhIkWHA3V2IGDh06mNChRggPkREmTCBcOEBiEzUaW0nhgUFElAkuvMihuXSPHDNasGDRYgZp00EAACH5BAkJAD0ALAAABwAgABUAAAb+wJ5wONzlbjYTxOGATGS43I5IrdpErRkNlhpBIo/H4gSbaWW3KpGGKQwUF4h7QK8LCIySplDQpKk8Im4EFhADAoeJiHd0Ag0SBAMGJ0Q8NS8nHhsFi4qeAp0QCxIYMTxCN2Y0E6Ctrq+vAxVmMzg9OrQsAgG7vby8rb++AmVmOzUsJiAUAwHOz9DR0QpZNDM3Ds4CDxTQAM7f4eDRGggHDxgmD9AiA+LvAe/hBiHgAhcc4ggkBADh8vICcOgHjoSMeAAgpJjBYdc/hBC/EeigwSEAAjd4SIiggtYMFxsS+EM40h2DDsVcTPimQciJDqq00OJQAMMFDDgxrCgmUwt8CgYthOBoQOHFDBnWZsAo4K+pvwk9Zb4AcWGKkBUIGHgoYw2DU6cBjJ6BUYLiDCopGDR4oMEECpJfAWhQmkJEBw4faKiZYaFJhAZxnR6426GDBxM61AjhARLCusD+EhA2UUOxlRQTEMAdGeHEixyWQ/fIEaPFihVZQIsOAgAh+QQJCQA9ACwAAAcAIAAVAAAG/sCecDjc5W622sbhgEw6t9yOSK3aQhXWDLZSbSCQQ0ADm81ouGl1SMMUBgPBwwAnwOECAuTUyiA2NlU8MRAFBBYOcXECiox4AgwSdgYmRDw2ZjIgb4yOnYt3cAiOHjxCN2Y0GYsCra6vrgGuDy0xMzg9OmYzLK2yvwLAwsHEZWY7IhANCATBAc/Q0dLREDJnMzcPvwja0QDP3+EB3+PBGhohKzI2DtACIwPh4vPj5QAGIeAEHhzjAPsmCMyjB6BgPQUCoZGIEUABCGs0VggYWNBgOALt5A24wQPErl0uNiCwWA9AAQYLPJQZUaCiBiEiOlyjsWtDwQIYcmJY8XEXfowJARK0OIWggotUM1BUXApgA1KaNF9IsKCmR4oDDFRuMcC0YoMZMmiGhVGCw4MZVFQwaPBAA4SuS1/QhKEiZgcPMtbQQPQAgT+4G0Lw69CBg4kca4TwaKFhATi4EzhwKHyiRuIqNUhMENP1wocTLxBfHp0jRosVK1rMqHo5CAAh+QQJCQA9ACwAAAcAIAAVAAAG/sCecDjc5W62Gg3igEw0qNyOSK3aQg+IK/ZSlSaMQICwms1ouGl1SMMUBoKxgTCoD+h1CkoG+2xuVTw4JxoPFm8CcIqJjHANE3UGJkQ8NmYzIwSNm4uKAwCJAxw8QjeXInACqqusrasGGBodMz02JyYjHqoBcb28v769AgmXMzoZYr5iy8zNzRBmNDM4DsAHoGIA2dsB2s0aMJc2D928I5/l2urp3eoEIAEKFiIyHLwSJDImBQDq/u0A+7ELMCKGh3BnZrhoILDhv4YBB9zgAaKYGRcaAvbTVgDChYMY/mUQwoFDQmkzJmwEcOBCBhMvLM4ggS5BCyE1DlCIeSbkd8qNI6IlNNNCwYEKanqgQMDAwwsPP1dmMCNDWlUYJR4woEElBYMGDghE3RjhjDQYKkR06AAhxpoZFhoYyBb1AIoSajms5WAC0JoePFxUiNNuZYENG0rqNVHjb5UaJCZcW3kA8QcTMHI43twjR4wWK1a8qKGDc48gACH5BAkJAD0ALAAABwAgABUAAAb+wJ5wOMTlbrYajeWATDQhGY9IrdpCD8IEBluVQINAQPCIzWi4XZWIyxAIYUChMKgP4AODBSWbzVY2VTw3MzEjEWN1AgOLjXYCDhkHeSZEPDZ+MiJwjp2Mi4wDAKAcUz2EZygEAqytrq+uYwQFJD0wDgy5BWO8Ar2+rLy8EX5+OxnCYsrLzMq+Y8Q0ZzcOYs/LAGLZ29rMGjMy0jYP1hAjrNzpAerZEhl8NDYeEiJmNCYE2+z66wDcBBJi1CgmjYaLCev6+ePnL2FDAANq7OAgrdgMGAYWOsxWAMKHEg4eZrMg5AIHPzRkwFggEsCBEipeWJRR4WGCFkJoHKDwwmB2goVAAaTIVNCPhmwHKqgRkgIBgw4IggI9gdLixQgFGNCgkoLBgjhSAZQoFg4GChEdFjCIsWaGBQPPpHZIcYKECA8cOujVcGONEB4sECpcGEHDhg0c8nI4sdUvlRokJhzQNyHDYQ8nXuRwzLlHjhgtVsiU2LlHEAAh+QQJCQA9ACwAAAcAIAAVAAAG/sCecDjEtW62Go0Wgkw0IVaOSK3aQg8C4QNblT4MQUBwwMhquF2VuGMxCINA4D2o2weKy0k2m9nUVDw4fTMWY3YCA4mLigIOGxwQByZEPDZ9MiQFi4ydiGKJAxw8Ql4oKSiNAqusra6rm4kiPTCsBWFjuaCuumMXIB4dHToZvXLHyMnKEIQzOA7KxwBy0wHV1cgaNDPbNVkRHiwZYtPl1uflAOYRfNw2MM00JgTp1vXm6tMEFSYyg3zbuLmYgM6ewWnk7E0zcEPHhhkyArKIgCFfOn0QPoSgh68CqQscAs6zmC9ChxQvCL1IkM9aAhVCaByo4IKDQpIpm0F8gUBdaoCZgHqgQLBAAEmLhLYpndHCwIBbM6ioWLDpproCzSLKgKFChAICDGKsoTFBEbV8B1agQlFChAcOwgpkuLFmCAuCN+Vm0LBBA1y4JcTWpVKDxIQD1vTy3QDCxIspgyPniNEiBp8aOiILCQIAIfkECQkAPQAsAAAHACAAFQAABv7AnnA4xK1SthptmZFoQqwccUq1hR4EQmKlKmk2g0ACUeDUcDsqcWcjQcKKBmFAp2cXk1NsNrOlpzw4fDIecwMCdIiKh4cIGjAnHCdEPDaDI4yLmpmHAYgDHDxCHQ0RFCWHAp4CrK2urw+sAyI9MJ0MEp66qrysuwG6Fw4HAwQ2GcC+wMvMzcnLEXwzMjYOnggRzQDA293czAAQMzR8ViQvfBDe6wHsAACqGHzkNpYy5DImBN3u/O3vDkbI4CPonjQaKya0+/fOH7xc3QxgWJFjh4ZxfEYQWKBBwruFHwtA2KDhwMduFIRc4DADBoWGDAFUqGDhA7oZKwbwe5cAhYAQGgcoIGhIFMCAgdKm0RhBNMCBCjqGpDhgQFVRAA3mYSQ3I0NIBjOmpEhAwCrRDEkNyoCRYk4BBjHU0JgQhtu7DSlSqEiBgoQIDxw40MFwQ80QFgrtRriAIYMGDYE7cMBgIa7hKW0mHAjwoLHjDRs+mHgh5bLpHHxiyKAW1XSPIAAh+QQJCQA9ACwAAAcAIAAVAAAG/sCecDjErUKqGm05m2hCrBxxSsWFHgRCoqL6bDQVwgNBMJxwOypxZ5ulIAMJozAgDO73xeMDm81saVM8N34yHgZ4AgOKjIt3BBqFMWspKjAyG4yNm4uaCgx2HDxCmYsenQKpqqusixmKAyI9MKoOEwG4uAIBu728vrwXB7sENq+8CQS6uczNywEQKSEcFykTEBkjJLkAuwAB3+G438wGMn5/NegzEOAC4vDg4OIYhTQ2NjQz+jAayuHwAAQMQKCFPn04ZsjQty+Fh1sDAQZz0I3CCoU5dmzYB8MCuAUaNCQQSFJgAQhfDsCDQEKIBQ4hCJTENQBAhgwWLmQoMUPFgryZCFYIqWGgQMmSCdatq3A0wIEJOoakQFDg3dGN9vbNgGFUYIACDGZMUZFswE8AL/wwVKgvxLcBYCdRoTHB7LwCI0qgqIQCRQkRHirwGoDhhpohK27RvHABA4YMGjZI5iBBwAW5h4nUKDEhQc7HkCN7OBEls+keOWjIiHGuRiDTQQAAOw==);z-index: 100000;opacity: 0.6}body>center:first-child img[width="72"]{transition: transform 0.2s ease 0s}body>center:first-child img[width="72"]:hover{transform: scale(1, 1.1);transition: transform 0.2s ease 0s}'));
l.head.appendChild(N);var oa,pa,O,qa;J.id="big";ga.id="stbl";fa&&(ia=I[2],ia.id="stbl2",K=I[3],K.id="contr");q.remove(G.getElementsByTagName("br"));oa=ha.querySelector("tr:first-child>td:nth-child(2)");pa=ha.querySelector("tr:nth-child(2)>td:nth-child(2)");ja.insertAdjacentHTML("afterend","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: <b>"+oa.innerHTML+"</b>. "+(pa?"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u043c\u0435\u0441\u0442\u043e: <b>"+pa.innerHTML+"</b>. ":""));q.remove(ha);if(fa&&
L&&(L.unselectable="on",q.b(L,"btn"),q.b(K,"hide"),(O=L.parentNode.nextSibling)&&O.nodeValue.match(/\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430/)))O.nodeValue="\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043a\u043b\u0443\u0431\u0430 \u0413\u0430\u043c\u0431\u043b\u0435\u0440 \u043f\u043e \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0441\u0435\u0441\u0441\u0438\u0438",O.parentNode.appendChild(q.create({tag:"br"})),O.parentNode.appendChild(l.createTextNode("\u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0435\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438."));
G.insertBefore(q.create({tag:"hr"}),J);la=q.create({id:"protocol",className:"hide",innerHTML:'<table id="protocol-table" class="gtborder" cellspacing="2" cellpadding="2"><thead><tr bgcolor="#a0c0f0"><td>\u2116 \u043f/\u043f</td><td width="80">N</td><td width="80">S</td><td width="80">E</td><td width="80">W</td><td colspan="2">\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442</td><td>\u0410\u0442\u0430\u043a\u0430</td><td>\u0412\u0437\u044f\u0442\u043e</td><td align="center"></td><td>\u0418\u041c\u041f\u044b</td><td>\u0421\u0442\u0430\u0442\u0443\u0441</td></tr></thead><tbody></tbody></table><table></table>'});
G.insertBefore(la,J);ka=q.create({id:"progress",className:"hide"});G.insertBefore(ka,J);ma=q.create({id:"chart",className:"hide"});G.insertBefore(ma,J);na=q.create({id:"extstats",className:"hide"});G.insertBefore(na,J);qa=q.create({id:"preloader",className:"hide"});q.t(qa);G.insertBefore(qa,J);var ra=function(){q.toggle(K)};fa&&L&&L.addEventListener("click",ra);ka.addEventListener("click",function(a){"DIV"==a.target.tagName&&q.g(this)});la.addEventListener("click",function(a){"A"!=a.target.tagName&&
q.g(this)});ma.addEventListener("click",function(a){a=a.target;"rect"!=a.tagName&&"text"!=a.tagName&&q.g(this)});na.addEventListener("click",q.p);var sa=function(a){var b=this.href;a.preventDefault();a.stopPropagation();P=l.getElementById("chart");if(P.hasChildNodes())q.show(P);else{var d=function(a,b){function e(a,b){for(var c in b)b.hasOwnProperty(c)&&a.setAttributeNS(g,c,b[c])}var c,d=a.match(/n\([^\)]*?\),/g),f=d.length;c=[];for(var p=[],n=[],r;f--;)r=d[f].match(/"[^"]*"/g),c.push(Number(r[4].slice(1,
-1))),p.push(r[1].slice(1,-1)+", "+r[5].slice(1,-1)),n.push(Number(r[0].slice(1,-1)));c={rate:c,date:p,tourid:n};d=c.rate;f=c.date;c=c.tourid;p=d.length;n=800/p;r=Math.max.apply(g,d);var x=Math.min.apply(g,d),Ja=r-x;r=d.map(function(a){return 200*((a-x)/Ja)});var M=l.createElementNS("http://www.w3.org/2000/svg","svg"),E,A,H,v,U;M.setAttribute("width",(800).toString());M.setAttribute("height",(215).toString());E=l.createElementNS("http://www.w3.org/2000/svg","style");E.setAttribute("type","text/css");
E.appendChild(l.createTextNode("rect:hover, text:hover {stroke:#fff;stroke-width:1px}"));M.appendChild(E);for(v=0;v<p;v++)U="\u041d\u0435\u0434\u0435\u043b\u044c\u043d\u044b\u0439"==f[v].substr(0,9)?1:"\u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b"==f[v].substr(0,10)?2:0,A=Math.round(r[v]/2+50),H=l.createElementNS("http://www.w3.org/2000/svg","a"),U&&H.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","http://www.gambler.ru/tours/protocol?tourid="+c[v]+"&teamid="+b),H.setAttributeNS("http://www.w3.org/1999/xlink",
"xlink:title",f[v]),E=l.createElementNS("http://www.w3.org/2000/svg","rect"),e(E,{x:v*n,y:200-r[v],width:n-1,height:r[v]+15,fill:1==U?"rgb(0,0,"+(A+30)+")":2==U?"rgb(0,"+A+",0)":"rgb("+(A+30)+",0,0)"}),A=l.createElementNS("http://www.w3.org/2000/svg","text"),e(A,{x:v*n+(n-1)/2,y:200-r[v]+10,"font-family":"sans-serif","font-size":"9px",fill:"#fff","text-anchor":"middle"}),A.appendChild(l.createTextNode(d[v])),H.appendChild(E),H.appendChild(A),M.appendChild(H);return M},e=function(){c.appendChild(d(f,
b.match(/uin=[\d]+/)[0].substr(4)));q.show(P)},c=l.getElementById("chart"),f;(f=sessionStorage.getItem(b))?e():q.d(b+"&lim=40",function(a){if(f=a.responseText.match(/\(nnn\(".+\)\)/))f=f[0],sessionStorage.setItem(b,f),e()})}},ta,P;ta=Array.prototype.filter.call(G.getElementsByTagName("a"),function(a){return"\u0425\u0440\u043e\u043d\u043e\u043b\u043e\u0433\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0438\u0433\u0440\u043e\u043a\u0430"==
a.innerHTML});ta.length&&ta[0].addEventListener("click",sa,!1);var ua=function(a){var b=this.href,d;a.preventDefault();a.stopPropagation();Q?q.show(Q):q.d(b,function(a){d=a.responseText.match(/\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0437\u0430 \u0441\u0435\u0441\u0441\u0438\u044e[^\/]*?\//)[0].slice(0,-2);Q=l.getElementById("extstats");Q.innerHTML=d;q.show(Q)})},Q,va;va=l.getElementById("big").getElementsByTagName("a")[0];"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"==
va.innerHTML&&va.addEventListener("click",ua);var wa=function(){var a;R&&(a=R.querySelector(".is_on"))&&q.k(a,"is_on")},ya=function(a){return a[9]==xa},V=function(a){var b=S.a;if(b){q.remove(T);a=a?b.filter(ya):b;var b=a.length,d,e,c;d=l.createElement("tbody");for(c=0;c<b;c++)e=d.insertRow(-1),"undefined"===typeof a[c][1]?e.appendChild(l.createTextNode(a[c][0])):(q.b(e,c%2?"even":"odd"),a[c][13]&&q.b(e,"own"),e.insertCell(-1).innerHTML="<nobr>"+a[c][0]+' <a href="protocol?tourid='+S.i+"&id="+a[c][14]+
"&teamid="+S.m+'">\u0445\u043e\u0434&nbsp;\u0438\u0433\u0440\u044b</a>&nbsp;<a href="protocol?tourid='+S.i+"&dealno="+a[c][0]+"&teamid="+S.m+"&line="+a[c][15]+'">\u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b</a></nobr>',e.insertCell(-1).innerHTML=a[c][1],e.insertCell(-1).innerHTML="<nobr>"+a[c][2].replace(/\\'/g,'"')+"</nobr>",e.insertCell(-1).innerHTML=a[c][3],e.insertCell(-1).innerHTML=a[c][4],e.insertCell(-1).innerHTML=a[c][5],e.insertCell(-1).innerHTML=a[c][6],e.insertCell(-1).innerHTML='<a href="protocol?tourid='+
S.i+"&teamid="+a[c][8]+'">'+a[c][9]+"</a>",e.insertCell(-1).innerHTML=a[c][7]);T=d;S.appendChild(T)}},za=function(a){var b=a.length,d=[],e,c,f,h,k;for(h=0;h<b;h++){c=[];e=a[h].match(/"[^"]*"/g);f||(f=e.length);for(k=0;k<f;k++)c.push(e[k].slice(1,-1));d.push(c)}return d},Aa=function(){var a=R.a,b=a.length,d,e,c;d=l.createElement("tbody");for(c=0;c<b;c++)e=d.insertRow(-1),"undefined"===typeof a[c][1]?e.appendChild(l.createTextNode(a[c][0])):(q.b(e,c%2?"even":"odd"),a[c][5]&&q.b(e,"own"),e.insertCell(-1).innerHTML=
a[c][0],e.insertCell(-1).innerHTML=a[c][1],e.insertCell(-1).innerHTML=a[c][2],e.insertCell(-1).innerHTML=a[c][4]);return d},Ba=function(a){function b(b,c){return b[a].toLowerCase().localeCompare(c[a].toLowerCase())}function d(b,c){return(Number(c[a])||0)-(Number(b[a])||0)}R.a.c===a?R.a=R.a.reverse():("undefined"==typeof R.a.c&&(R.a.c=0),R.a=R.a.sort(0==a?b:d),R.a.c=a)},S=l.getElementById("stbl"),T=S.getElementsByTagName("tbody")[0],R=l.getElementById("stbl2"),xa;if(4!=S.querySelector("tr:first-child").getElementsByTagName("td").length){var Ca=
function(a){if("TH"==a.target.tagName){a=Array.prototype.indexOf.call(W.getElementsByTagName("TH"),a.target);var b=8==a?7:7==a?9:a;a=function(a,d){return a[b].toLowerCase().localeCompare(d[b].toLowerCase())};var d=function(a,d){return(Number(d[b])||0)-(Number(a[b])||0)},e=function(a,d){return parseInt(a[b],10)-parseInt(d[b],10)};S.a.c===b?S.a=S.a.reverse():("undefined"==typeof S.a.c&&(S.a.c=0),S.a=S.a.sort(0==b?e:4==b||5==b||6==b?d:a),S.a.c=b);V();wa()}},W=l.createElement("thead"),Da=S.getElementsByTagName("script")[0].innerHTML,
X,Ea,Fa,Ga,Y;Ea=S.querySelector("tr:first-child");Fa=Ea.getElementsByTagName("td");Ga=Fa.length;for(Y=0;Y<Ga;)W.appendChild(q.create({tag:"th",innerHTML:Fa[Y].innerHTML})),Y++;q.remove(Ea);q.n(W.getElementsByTagName("a"));S.insertBefore(W,T);if(X=Da.match(/Array\(.*\)\)/))X=X[0],S.i=Da.match(/tourid=[0-9]*/)[0].substr(7),S.m=Da.match(/teamid=[0-9]*/)[0].substr(7),S.a=za(X.match(/n\([^\)]*?\)/g)),V(),S.addEventListener("click",Ca)}if(R){var Z=R.getElementsByTagName("tbody")[0],Ha=l.createElement("thead"),
Ia=l.createElement("tfoot"),Ka=R.getElementsByTagName("script")[0].innerHTML.match(/Array\(.*\)\)/)[0],La,Ma,Na,$;La=Z.querySelector("tr:first-child");Ia.appendChild(Z.querySelector("tr:last-child"));q.n(Ia.getElementsByTagName("b"));Ma=La.getElementsByTagName("td");Na=Ma.length;for($=0;$<Na;)Ha.appendChild(q.create({tag:"th",innerHTML:Ma[$].innerHTML})),$++;q.remove(La);R.insertBefore(Ha,Z);R.insertBefore(Ia,Z);R.a=za(Ka.match(/n\([^\)]*?\)/g));Ba(0);q.remove(Z);Z=Aa();R.appendChild(Z);R.addEventListener("click",
function(a){"TH"==a.target.tagName?(a=Array.prototype.indexOf.call(Ha.getElementsByTagName("TH"),a.target),Ba(3==a?4:a),q.remove(Z),Z=Aa(),R.appendChild(Z)):"TD"==a.target.tagName&&"TFOOT"!=a.target.parentNode.parentNode.tagName&&(a=a.target.parentNode,q.f(a,"is_on")?(q.k(a,"is_on"),V()):(wa(),q.b(a,"is_on"),xa=a.getElementsByTagName("td")[0].innerHTML,V(!0)))})}var Pa=function(a){function b(a){j.s(a.responseText);sessionStorage.setItem(c,j.data);j.j();q.show(h)}function d(a){j.setData(a.responseText);
j.r();q.show(k)}var e=a.target,c=e.href,f=sessionStorage.getItem(c),h=l.getElementById("progress"),k=l.getElementById("protocol"),j=Object.create(Oa);if("\u0445\u043e\u0434&nbsp;\u0438\u0433\u0440\u044b"==e.innerHTML||"\u0445\u043e\u0434 \u0438\u0433\u0440\u044b"==e.innerHTML)a.preventDefault(),a.stopPropagation(),f?(j.setData(f),j.j(),q.show(h)):q.d(c+"&kod=2&showkod=1",b),q.b(e,"clicked");"\u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b"==e.innerHTML&&(a.preventDefault(),a.stopPropagation(),q.d(c,
d),q.b(e,"clicked"))},Oa={setData:function(a){this.data=a;return this},s:function(a){var b=a.match(/<body>[\s\S]*<\/body>/i)[0].replace(/[\r\t\n]/g," ");a=b.match(/\[DEAL:SHDC[^\]]*?\)\]/i)[0];var d=b.match(/\[BID:[^\]]*?\)\]/i)[0],e,c,f,h,k,j;e=q.create({innerHTML:b}).getElementsByClassName("large");b=e[0].parentNode.nextElementSibling.nextElementSibling.innerHTML.replace(/\s[v]?align=".+?"/ig,"").replace(/\ssrc=".+?"/ig,"");if(2==e.length){e=e[1].nextElementSibling.getElementsByTagName("td");c=
e[1].firstChild.innerHTML.charAt(0);h=e.length-1;f="";for(j=12;j<h;j++)(j-11)%5&&(f+=e[j].className?"L":"",k=e[j].getElementsByTagName("img"),k.length&&(f+=k[0].getAttribute("alt")),f+=e[j].textContent+",");f="[TRICK:LEAD:"+c+":TRICKS("+f+")]"}this.data=a+" "+d+' <table id="progress-contract">'+b+"</table> "+f;return this},j:function(){function a(a){var b=a.match(/\d[shdc]/g),d;if(b)for(d=b.length;d--;)a=a.replace(RegExp(b[d]),b[d].charAt(0)+'<img alt="'+b[d].charAt(1)+'">');return a}var b=this.data,
d=b.match(/\[DEAL:SHDC[^\]]*?\)\]/i)[0],e=b.match(/\[BID:[^\]]*?\)\]/i)[0],c=l.getElementById("progress"),f={},h=["N","E","S","W"],k=h.length,j=["L","S","H","D","C"],u=j.length,s,m;f.AN=d.match(/AN\([^\)]*?\)/)[0].slice(3,-1);for(s=0;s<k;s++)for(m=0;m<u;m++)f[h[s]+j[m]]=d.match(RegExp(h[s]+j[m]+"\\([^\\)]*?\\)"))[0].slice(3,-1);h=["N","E","S","W"];k=h.length;j=["L","S","H","D","C"];u=j.length;s="";m='<div id="progress-AN">'+f.AN+"</div>";var p=[0,3,1,2],n,r,x;for(r=0;r<k;r++){n="";for(x=0;x<u;x++)n=
0<x?n+('<div class="progress-hand progress-'+j[x]+'"><img alt="'+j[x].toLowerCase()+'">'):n+'<div class="progress-name">',n+=f[h[p[r]]+j[x]]+"</div>";s+='<div id="progress-'+h[p[r]]+'">'+n+"</div>"}m=(m+s).replace(/color:red/g,"color:#fcb").replace(/color:blue/g,"color:#bcf");f=m='<div id="progress-hands">'+m+"</div>";k=h=s="";j=e.match(/B\([^\)]*?\)/i)[0].slice(2,-1)+",";j=j.match(/[^,]*,/g);for(u=0;4>u;)s+="<td>"+j[u].slice(1,-2)+"</td>",++u;s="<tr>"+s+"</tr>";p=0;for(n=j.length;u<n;)m=j[u].slice(0,
-1),4>p?(k=+m.charAt(0)?k+('<td><span class="bid">&nbsp;'+m+"&nbsp;</span></td>"):k+("<td>&nbsp;"+m+"&nbsp;</td>"),++p,++u):(p=0,h+="<tr>"+k+"</tr>",k="");if(p){for(;4>p;)k+="<td></td>",++p;h+="<tr>"+k+"</tr>"}h=a(h).replace(/[n]&/g,"\u0411\u041a&").replace(/[n]!/g,"\u0411\u041a!").replace(/&nbsp;[\*]{2}&nbsp;/g,'<span class="rdbl">&nbsp;XX&nbsp;</span>').replace(/&nbsp;[\*]{2}!&nbsp;/g,'<span class="rdbl">&nbsp;XX&nbsp;</span><span class="bid">&nbsp;!&nbsp;</span>').replace(/&nbsp;[\*]&nbsp;/g,'<span class="dbl">&nbsp;X&nbsp;</span>').replace(/&nbsp;[\*]!&nbsp;/g,
'<span class="dbl">&nbsp;X&nbsp;</span><span class="bid">&nbsp;!&nbsp;</span>').replace(/&nbsp;pass&nbsp;/g,'<span class="pass">&nbsp;\u043f\u0430\u0441&nbsp;</span>').replace(/&nbsp;pass!&nbsp;/g,'<span class="pass">&nbsp;\u043f\u0430\u0441&nbsp;</span><span class="bid">&nbsp;!&nbsp;</span>');f=f+('<div id="progress-bids-contract"><table id="progress-bids"><tbody>'+s+h+"</tbody></table>")+b.match(/<table id="progress-contract">.*?<\/table>/i)[0]+"</div><div>";b=b.match(/\[TRICK:LEAD[^\]]*?\)\]/);
h="";k="WNES";if(b){j=b[0].match(/LEAD:[WNES]/)[0].substr(-1,1);b=b[0].match(/TRICKS\([^\)]*?\)/)[0].slice(7,-1);u=b.match(/[^,]*,/g);s=u.length;b="";for(n=0;n<s;n++)p="<td",m=u[n],"L"==m.charAt(0)&&(p+=' class="lead"',m=m.substr(1)),m=m.slice(0,-1),m=a("9"+m.charAt(0)).substr(1)+m.substr(1),p+=">"+m+"</td>",h+=p,(n+1)%4||(h="<tr><td>"+(n+1)/4+"</td>"+h+"</tr>",b+=h,h="");for(;k.charAt(0)!=j;)k=k.substr(1)+k.charAt(0);j="<td></td><td>"+j+"</td><td>"+k.charAt(1)+"</td><td>"+k.charAt(2)+"</td><td>"+
k.charAt(3)+"</td>";k='<table id="progress-tricks"><tbody><tr>'+j+"</tr>"+b+"</tbody></table>"}else k="";b=["s","h","d","c"];h=b.length;for(d=f+k+'<input type="text" onfocus="this.select()" onMouseUp="return false" value="'+d+'"><input type="text" onfocus="this.select()" onMouseUp="return false" value="'+e+'"></div>';h--;)d=d.replace(RegExp('alt="'+b[h]+'"',"g"),'alt="'+b[h]+'" src="http://img.gambler.ru/'+b[h]+'.gif"');c.innerHTML=d;return this},r:function(){function a(a){var b=a.length,d,c,e,f;
d=l.createElement("tbody");for(e=0;e<b;e++)if(c=d.insertRow(-1),"undefined"===typeof a[e][1])c.appendChild(l.createTextNode(a[e][0]));else{for(f=0;4>f;f++)if(a[e][f+9]==k){c.className="even own";break}c.insertCell(-1).innerHTML="<nobr>"+a[e][0]+' <a href="protocol?tourid='+h+"&id="+a[e][1]+"&teamid="+k+'">\u0445\u043e\u0434 \u0438\u0433\u0440\u044b</a></nobr>';c.insertCell(-1).innerHTML='<a href="protocol?tourid='+h+"&teamid="+a[e][9]+'"><nobr>'+a[e][13]+"</nobr>";c.insertCell(-1).innerHTML='<a href="protocol?tourid='+
h+"&teamid="+a[e][10]+'"><nobr>'+a[e][14]+"</nobr>";c.insertCell(-1).innerHTML='<a href="protocol?tourid='+h+"&teamid="+a[e][11]+'"><nobr>'+a[e][15]+"</nobr>";c.insertCell(-1).innerHTML='<a href="protocol?tourid='+h+"&teamid="+a[e][12]+'"><nobr>'+a[e][16]+"</nobr>";c.insertCell(-1).innerHTML=a[e][2];c.insertCell(-1).innerHTML=a[e][3];c.insertCell(-1).innerHTML=a[e][4];c.insertCell(-1).innerHTML=a[e][5];c.insertCell(-1).innerHTML=a[e][17];c.insertCell(-1).innerHTML=a[e][18];c.insertCell(-1).innerHTML=
a[e][7]}return d}var b=this.data,d=l.getElementById("protocol"),e=d.firstChild,c=l.createElement("div"),f,h,k,j,u;if(f=b.match(/=new Array\(.*?\)\)/)){j=b.match(/<tr bgcolor(.|\n)*?<\/tr>/i)[0].match(/<td.*?<\/td>/g);u=e.getElementsByTagName("thead")[0].getElementsByTagName("td");u[8].innerHTML=j[8].slice(-7,-5);u[9].innerHTML=j[9].slice(-16,-12);f=f[0].replace(/\\'/g,'"');j=f.match(/n\([^\)]*?\)/g);u=j.length;f=[];var s,m,p,n,r;for(n=0;n<u;n++){m=[];s=j[n].match(/'[^']*'/g);p||(p=s.length);for(r=
0;r<p;r++)m.push(s[r].slice(1,-1));f.push(m)}h=b.match(/tourid=[0-9]*/)[0].substr(7);k=b.match(/teamid=[0-9]*/)[0].substr(7);c.innerHTML=b.match(/<body[\w\W]*?<\/body>/i)[0].slice(6,-7);b=c.getElementsByClassName("gtnowrap")[0];b.hasAttribute("border")&&b.removeAttribute("border");q.remove(e.getElementsByTagName("tbody"));e.appendChild(a(f));d.replaceChild(b,d.lastChild)}return this}};l.getElementById("protocol").addEventListener("click",Pa);l.getElementById("stbl").parentNode.addEventListener("click",
Pa)};