// ==UserScript==
// @name hakanzn
// @description   deneme
// ==/UserScript==

(function(){function oku(url){xml=new XMLHttpRequest();xml.open("GET", url, false);xml.send(null);xml=xml.responseText;}function buton(link, sayi){butonlar+="<button onclick=javascript:window.open('"+link+"')>"+sayi+". Kisim</button> ";}function sonuc(){document.getElementsByTagName("html")[0].innerHTML="</br></br></br></br></br>"+butonlar+document.getElementsByTagName("html")[0].innerHTML;save();}function hdfilmsitesi(){url=document.URL+"?postTabs=2";oku(url);oku((xml.split('settingsFile: "')[1]).split('"')[0]);a=xml.split('"');sayi=0;for(x=0;x<a.length;x++){if(a[x].search(".mp4")>0){sayi++;buton(a[x], sayi);}}sonuc();}function dizimag(){kacpart=((document.getElementsByTagName("html")[0].innerHTML).split("file':")).length-1;sayi=0;for(x=0;x<kacpart;x++){sayi++;link=ssss[x].file;buton(link, sayi);}sonuc();}function dizihd(){oku(xmlAddress);xml=xml.split('"');sayi=0;for(x=0;x<xml.length;x++){if(xml[x].indexOf(".mp4")>0){sayi++;buton(xml[x], sayi);}}sonuc();}function vkac(){location.href="http://vk.com"+(((document.body.innerHTML).split("http://vk.com")[1]).split('"')[0]).replace(/amp;/gi, "");}function vksonuc(){location.href=(document.getElementsByTagName("source")[0].src).replace("360", "720");}adres=document.URL;if(adres.search("hdfilmsitesi")>0){hdfilmsitesi();}else if(adres.search("dizimag")>0&&ssss){dizimag();}else if(adres.search("dizihd")>0&&xmlAddress){dizihd();}else if(adres.search("vk.com")<0&&adres.search("webteizle")>0){vkac();}else if(adres.search("vk.com")>0){vksonuc();}})();