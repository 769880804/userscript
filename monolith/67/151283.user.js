// ==UserScript==
// @name           Sisweb Visual Schedule
// @description    Makes date/time listings visual on Sisweb.
// @author         zedadex@gmail.com
// @include        *sisweb.ucdavis.edu/owa_service/owa/bwskfcls.P_GetCrse*
// @version        1.2
// ==/UserScript==

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('b=J.1V("1q")[0];1n(C i=0,1m;1m=b.d[i];i++){h(b.d[i].f[9]!=1s&&b.d[i].f[9].q!="1U"){t=b.d[i].f[8].q;m=b.d[i].f[9].q;1D=t+" "+m;b.d[i].f[8].q="<x a=\'G:14;13:1w;L-13:11(0, 0, 0, 0.1K); s:y;B:-1f;1d:-1f;w:-1F;U:-1J;\'><x a=\'s:y;L-13:11(S, S, S, 0.1Q);L-X: 17(15:X/1i;1h,1A/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/o/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/o/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/o/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/o/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/o/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/o/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/6/1g);1c:1b 19 1T; w:P; B:P; H:1p; A: 1r;\'></x> <x a=\'s:y;1d:1a;w:P;U:P;\'>"+b.d[i].f[8].q+" "+b.d[i].f[9].q+"</x></x>";b.d[i].1t(9);b.d[i].f[8].1u("1v","2");b.d[i].f[8].a.A="1x";b.d[i].f[8].a.H="1y";b.d[i].f[8].a.25="K";b.d[i].f[8].a.s="1E";C e=0;h(t.k("M")!=-1){e=(e|1)}h(t.k("T")!=-1){e=(e|2)}h(t.k("W")!=-1){e=(e|4)}h(t.k("R")!=-1){e=(e|8)}h(t.k("F")!=-1){e=(e|16)}g=0;C l=0;D=m.v(0,m.k("-")+1);l=O(D.v(0,2),10);g=O(D.v(3,2),10);h(g==10){g=0}h(g==1j){g=0;l++}l+=g/1k;h(D.k("1l")!=-1&&l<12)l+=12;g=0;p=0;E=m.v(m.k("-")+1,m.1z-m.k("-"));p=O(E.v(0,2),10);g=O(E.v(3,2),10);h(g==10){g=0}h(g==1j){g=0;p++}p+=g/1k;h(E.k("1l")!=-1&&p<12){p+=12}z=b.d[i].f[8];1B=z.q;z.a+="";z.1C=1o(){N.a.V="11(0, 0, 0, 0.1G)";N.I[0].a.G="1e"};z.1I=1o(){N.a.L="14";N.I[0].a.G="14"};j=J.Q(\'Y\');b.d[i].f[8].Z(j);j.a.B=\'K\';j.a.w=\'K\';j.a.U=\'K\';j.a.G=\'1e\';j.a.A=\'1L\';j.a.s=\'y\';j.a.1M=\'1a\';j.a.1N="17(15:X/1i;1h,1O/6/6/6/6/6/6/6/6/6/6/6/6/6/6/o/6/6/6/6/6/6/6/6/6/6/6/6/6/6/o/6/6/6/6/6/6/6/6/6/6/6/6/6/6/1g)";j.a.1P=\'-1\';C r=[];r[0]=(e&1);r[1]=((e&2)>>1);r[2]=((e&4)>>2);r[3]=((e&8)>>3);r[4]=((e&16)>>4);1n(C n=0;n<5;n++){h(r[n]==1){c=J.Q(\'Y\');j.Z(c);c.a.s="y";c.a.V="#1R";c.a.H="1S";c.a.A=((((p-7)*4)-((l-7)*4))-1)+"u";c.a.w=(n*16)+"u";c.a.B=(l-7)*4+"u";18=["1W","1X","1Y","1Z","20"];c=J.Q(\'Y\');b.d[i].f[8].I[0].I[0].Z(c);c.a.s="y";c.a.H="21";c.a.A=((((p-7)*8)-((l-7)*8))-1)+"u";c.a.w=(n*22)-1+"u";c.a.B=(l-7)*8-1+"u";c.23=18[n]+", "+m;c.a.V="#24";c.a.1c="1b 19 #1H"}}}}',62,130,'||||||9fD||||style|dtable|newdiv|rows|days|cells|min|if||datispan|search|bgn|str_time||gICA9fD|end|innerHTML|bd|position|str_days|px|substr|left|span|absolute|thiscell|height|top|var|str_bgn|str_end||display|width|childNodes|document|0px|background||this|parseInt|10px|createElement||255||right|backgroundColor||image|div|appendChild||rgba||color|none|data||url|dayArray|solid|2px|1px|border|bottom|inline|56px|gICA|base64|bmp|50|60|pm|row|for|function|159px|datadisplaytable|127px|null|deleteCell|setAttribute|colspan|white|66px|75px|length|Qk02AwAAAAAAADYAAAAoAAAAIAAAAAgAAAABABgAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9fD|innertext|onmouseover|str_dati|relative|50px|53|4C26C7|onmouseout|52px|529412|64px|paddingLeft|backgroundImage|Qk32AAAAAAAAADYAAAAoAAAAEAAAAAQAAAABABgAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9fD|zIndex|84|82B4D5|15px|black|Time|getElementsByClassName|Monday|Tuesday|Wednesday|Thursday|Friday|31px|32|title|D0CBD5|padding'.split('|'),0,{}))