// ==UserScript==
// @name        Facebook Dialog Move
// @namespace   http://software.sitesbr.net
// @description Allows dragging the facebook dialog of sharing
// @include     *facebook.com/*
// @version     1.8 (2014-01-17)
// ==/UserScript== 

var b=function(){var fdm_obj;function addDragger(name,objId){if(document.getElementById(objId)){eval("var "+name+"={obj:null,offsettop:null,offsetleft:null,init:function(id){obj=document.getElementById(id);obj.onmousedown="+name+".set;obj.style.top=obj.offsetTop+'px';obj.style.left=obj.offsetLeft+'px';obj.style.cursor='move';},set:function(e){if(!e)e=window.event;if(e.target&&e.target.tagName&&e.target.tagName.match(/SELECT|TEXTAREA/))return;mx=(e.screenX?e.screenX:e.x);my=(e.screenY?e.screenY:e.y);offsettop=my-parseInt(obj.style.top);offsetleft=mx-parseInt(obj.style.left);document.onmousemove="+name+"."+name+";document.onmouseup="+name+".stop;return false;},"+name+":function(e){if(!e)e=window.event;if(e.target&&e.target.tagName&&e.target.tagName!='SELECT'){mx=(e.screenX?e.screenX:e.x);my=(e.screenY?e.screenY:e.y);obj.style.top=(my-offsettop)+'px';obj.style.left=(mx-offsetleft)+'px';}obj.style.cursor='move';return false;},stop:function(){obj.style.cursor='default';document.onmousemove=null;document.onmouseup=null;}};");eval(name+".init('"+objId+"')");}else{setTimeout("addDragger('"+name+"','"+objId+"')",200);return;}}function fdm_pega(){var ds=document.getElementsByTagName('div');for(var i=0;i<ds.length;i++){if(ds[i].getAttribute("class")=="_4-hz"&&ds[i].innerHTML.match(/<form/)&&ds[i].innerHTML.match(/>Compartilhar|>Share/)){fdm_obj=ds[i];fdm_obj.id="div_fdm";fdm_obj.setAttribute("id","div_fdm");fdm_obj.style.width='450px';fdm_obj.style.position='absolute';fdm_obj.style.border='10px solid rgba(0,200,0,0.7)';addDragger("dg_div_fdm","div_fdm");break;}}}var tmr_fdm=window.setInterval(fdm_pega,1000);};s=document.createElement("script");b+="";s.innerHTML=b.substring(12,b.length-1);document.getElementsByTagName('head')[0].appendChild(s);