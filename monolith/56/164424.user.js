// ==UserScript==
// @name       LF 2.0
// @namespace  LF 2.0
// @version    0.1
// @description  LF 2.0
// @include      http://*.leakforums.*
// @copyright  2013+, osc-rwar, haxjunkies.pwn
// @require http://code.jquery.com/jquery-1.9.1.min.js
// ==/UserScript==
/*@require https://googledrive.com/host/0B3djEhxHeikDNkR6MGM4Q3BLenc/settings.js*/
var baseurl = location.origin;
var myname = $('div.welcome strong a span strong').html();
function getCookie(c_name)
{
var i,x,y,ARRcookies=document.cookie.split(";");
for (i=0;i<ARRcookies.length;i++)
  {
  x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));
  y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);
  x=x.replace(/^\s+|\s+$/g,"");
  if (x==c_name)
    {
    return unescape(y);
    }
  }
}

function setCookie(c_name,value,exdays)
{
var exdate=new Date();
exdate.setDate(exdate.getDate() + exdays);
var c_value=escape(value) + ((exdays==null) ? "" : "; expires="+exdate.toUTCString());
document.cookie=c_name + "=" + c_value;
}
//set defaults
if (getCookie("userbar") == null){ setCookie("userbar","unchecked",9999);}
if (getCookie("hidesig") == null){ setCookie("hidesig","unchecked",9999);}
if (getCookie("hidegif") == null){ setCookie("hidegif","unchecked",9999);}
if (getCookie("_quoted") == null){ setCookie("_quoted","unchecked",9999);}
if (getCookie("_uglink") == null){ setCookie("_uglink","unchecked",9999);}
if (getCookie("_hidelq") == null){ setCookie("_hidelq","unchecked",9999);}
if (getCookie("hideban") == null){ setCookie("hideban","unchecked",9999);}
if (getCookie("_locked") == null){ setCookie("_locked","unchecked",9999);}
if (getCookie("_qreply") == null){ setCookie("_qreply","unchecked",9999);}
if (getCookie("_ftrack") == null){ setCookie("_ftrack","unchecked",9999);}
if (getCookie("_resize") == null){ setCookie("_resize","unchecked",9999);}
if (getCookie("hidetag") == null){ setCookie("hidetag","unchecked",9999);}
if (getCookie("quickpm") == null){ setCookie("quickpm","unchecked",9999);}
if (getCookie("quikrep") == null){ setCookie("quikrep","unchecked",9999);}
if (getCookie("wrdwrap") == null){ setCookie("wrdwrap","unchecked",9999);}
if (getCookie("nicknom") == null){ setCookie("nicknom","unchecked",9999);}
if (getCookie("nicknames") == null){ setCookie("nicknames","",9999);}
if (getCookie("shrtcut") == null){ setCookie("shrtcut","unchecked",9999);}
if (getCookie("linkfix") == null){ setCookie("linkfix","unchecked",9999);}
if (getCookie("_online") == null){ setCookie("_online","unchecked",9999);}
if (getCookie("sponsor") == null){ setCookie("sponsor","unchecked",9999);}


//options page
if (location.pathname == "/options")
{
    document.head.innerHTML+='<link type="text/css" rel="stylesheet" href="'+baseurl+'/cache/themes/theme21/global.css" /><script type="text/javascript" src="https://googledrive.com/host/0B3djEhxHeikDNkR6MGM4Q3BLenc/settings.js"></script>';
    document.body.innerHTML = '<div id="container" style="position: absolute;left: 50%;top: 45%;height: 300px;margin-top: -150px;width: 700px;margin-left: -350px;"><table width="100%" border="0" align="center"><tbody><tr><td valign="top"><table border="0" cellspacing="0" cellpadding="4" class="tborder"><tbody><tr><td class="thead" colspan="2"><strong>Edit Options</strong></td></tr><tr><td width="50%" class="trow1" valign="top"><fieldset><legend><strong>Forum Options</strong></legend><table cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="userbar" id="userbar" '+getCookie("userbar")+'></td><td><span class="smalltext"><label title="Clicking on userbars will take you to the relevant location" for="userbar">Clickable Userbars &amp; Awards.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="_quoted" id="_quoted" '+getCookie("_quoted")+'></td><td><span class="smalltext"><label title="Inserts a link to quickly find posts you have been quoted in" for="_quoted">Link to view quoted posts.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="_uglink" id="_uglink" '+getCookie("_uglink")+'></td><td><span class="smalltext"><label title="If you\'re in a usergroup, this will insert a link at the top for quick access" for="_uglink">Link to current UG in links panel.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="_locked" id="_locked" '+getCookie("_locked")+'></td><td><span class="smalltext"><label title="When browsing through threads, locked threads will not show up" for="_locked">Hide locked threads.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="_ftrack" id="_ftrack" '+getCookie("_ftrack")+'></td><td><span class="smalltext"><label title="When sending a PM, the tracking option will be automatically selected" for="_ftrack">Force PM Tracking.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="_resize" id="_resize" '+getCookie("_resize")+'></td><td><span class="smalltext"><label title="In threads, images that are too large will be shrunk" for="_resize">Resize large images to fit.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="nicknom" id="nicknom" '+getCookie("nicknom")+'></td><td><span class="smalltext"><label title="Go to a user\'s profile, click on the link that is not in brackets to change the username that is displayed throughout the forum. To remove nickname, click on link inside brackets."  for="nicknom">Nicknames on.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="shrtcut" id="shrtcut" '+getCookie("shrtcut")+'></td><td><span class="smalltext"><label title="Impliments a large variety of keyboard shortcuts; click on the arrow on the right of the board to display a list."  for="shrtcut">Keyboard Shortcuts.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="linkfix" id="linkfix" '+getCookie("linkfix")+'></td><td><span class="smalltext"><label title="Makes all links the same colour - whether visited or not."  for="linkfix">Link colour fix.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="_online" id="_online" '+getCookie("_online")+'></td><td><span class="smalltext"><label title="Removes all standard users from the \'Who\'s online\' section."  for="_online">Tidy who\'s online.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="sponsor" id="sponsor" '+getCookie("sponsor")+'></td><td><span class="smalltext"><label title="Removes all custom styles that sponsors can set for themselves."  for="sponsor">Disable sponsor styling.</label></span></td></tr></tbody></table></fieldset><br></td><td width="50%" class="trow1" valign="top"><fieldset><legend><strong>Thread Options</strong></legend><table cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="hidesig" id="hidesig" onclick="if (document.getElementById(\'hidegif\').checked == true) { document.getElementById(\'hidegif\').checked = false;}" '+getCookie("hidesig")+'></td><td><span class="smalltext"><label title="Signatures will be hidden with an option to unhide below" for="hidesig">Hide signature by default.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="hidegif" id="hidegif" onclick="if (document.getElementById(\'hidesig\').checked == true) { document.getElementById(\'hidesig\').checked = false;}" '+getCookie("hidegif")+'></td><td><span class="smalltext"><label title="Signatures with a gif in them will be hidden with an option to unhide below" for="hidegif">Hide only signature with a gif.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="_hidelq" id="_hidelq" '+getCookie("_hidelq")+'></td><td><span class="smalltext"><label title="Users with less than 100 posts and 0 rep, or users with less than -10 rep will be hidden, with an option to show the post" for="_hidelq">Hide LQ users.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="hideban" id="hideban" '+getCookie("hideban")+'></td><td><span class="smalltext"><label title="Posts by banned members will be hidden, with an option to show the specific post" for="hideban">Hide posts by banned members.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="_qreply" id="_qreply" '+getCookie("_qreply")+'></td><td><span class="smalltext"><label title="The quick reply on a thread now will have easier formatting capabilites" for="_qreply">Improved quick reply.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="hidetag" id="hidetag" '+getCookie("hidetag")+'></td><td><span class="smalltext"><label title="This makes the red \'You must reply to view this content\' now, when clicked, move the browser to the quick reply section"  for="hidetag">Makes hidden text jump to reply section.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="quikrep" id="quikrep" '+getCookie("quikrep")+'></td><td><span class="smalltext"><label title="Adds a popup button next to rep on posts - for quicker repping of users."  for="quikrep">Quick Rep.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="quickpm" id="quickpm" '+getCookie("quickpm")+'></td><td><span class="smalltext"><label title="Clicking the PM button will allow you to quickly PM a member now"  for="quickpm">Quick PM.</label></span></td></tr><tr><td valign="top" width="1"><input type="checkbox" class="checkbox" name="wrdwrap" id="wrdwrap" '+getCookie("wrdwrap")+'></td><td><span class="smalltext"><label title="Stops posts from becoming too big (width wise) - shrinks back down and word wraps text."  for="wrdwrap">Word Wrap.</label></span></td></tr></tbody></table></fieldset><br></td></tr></tbody></table><br><div align="center"><input type="hidden" name="action" value="do_options"><input type="submit" class="button" name="regsubmit" onclick="var exdate = new Date(Date.parse((\'5000\').replace(/-/g, \' \'))).toUTCString();var c_name = \'userbar\';if (document.getElementById(\'userbar\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'hidesig\';if (document.getElementById(\'hidesig\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'hidegif\';if (document.getElementById(\'hidegif\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'_quoted\';if (document.getElementById(\'_quoted\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'_uglink\';if (document.getElementById(\'_uglink\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'_hidelq\';if (document.getElementById(\'_hidelq\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'hideban\';if (document.getElementById(\'hideban\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'_locked\';if (document.getElementById(\'_locked\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'_qreply\';if (document.getElementById(\'_qreply\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'_ftrack\';if (document.getElementById(\'_ftrack\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'_resize\';if (document.getElementById(\'_resize\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'hidetag\';if (document.getElementById(\'hidetag\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'quickpm\';if (document.getElementById(\'quickpm\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'quikrep\';if (document.getElementById(\'quikrep\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'wrdwrap\';if (document.getElementById(\'wrdwrap\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'nicknom\';if (document.getElementById(\'nicknom\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'shrtcut\';if (document.getElementById(\'shrtcut\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'linkfix\';if (document.getElementById(\'linkfix\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'_online\';if (document.getElementById(\'_online\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;var c_name = \'sponsor\';if (document.getElementById(\'sponsor\').checked == true) {var value = \'checked\';} else {var value = \'unchecked\';}var c_value = escape(value) + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;alert(\'Updated!\');opener.location.href = opener.location.href;self.close()" "value="Update Options"></div></td></tr></tbody></table></div>';
    document.title = "LF Options";
    return false;
}

if(location.pathname == "/index.php") {
    
    $('#container').prepend('<div id="coolbox01" style="display: block;"> <table border="0" cellspacing="0" cellpadding="4" class="tborder"><thead><tr><td class="thead" colspan="6"><div class="expcolimage"><img src="http://netdna.leakforums.org/images/LeakForumsFour/collapse.gif" id="cat_9_img" class="expander tooltip" alt="[-]" style="cursor: pointer;"></div><div><a class="titletip" title="">Shoutbox</a></div></td></tr></thead><tbody style="" id="cat_9_e"><tr><td style="padding: 0; margin: 0; width: 100%"><div style="width: 100%;"><table width="100%" border="0" cellspacing="0" cellpadding="4"><tbody><tr><td class="tcat" colspan="2"><span class="smalltext">Notice: Thank you for using LF 2.0 modifications. Soon to come: Revert to any LF theme.</td></tr><!-- start: forumbit_depth2_forum --><tr><td><iframe style="width:100%;border:none;" src="http://cheatbro.x10.mx/chatsoft/main.php?lfname='+myname+'"></iframe></td></tr><!-- end: forumbit_depth2_forum --><tr><td class="tline" colspan="5"></td></tr></tbody></table></div></td></tr></tbody></table><br></div>');
    
}

//hidesig code
if ((location.pathname == "/showthread.php") && (getCookie("hidesig")=="checked"))
{
    var tags = document.getElementById('posts').getElementsByTagName('hr');
    for (var i = 0; i < tags.length; i++)
    {
        var tag = tags[i].outerHTML;    
        if (tag.indexOf("width=\"25%\"") !== -1)
        {
            tags[i].nextElementSibling.outerHTML = '<div style="display:none">' + tags[i].nextElementSibling.outerHTML + '</div>';
            tags[i].parentNode.parentNode.nextElementSibling.firstElementChild.firstElementChild.lastElementChild.outerHTML = tags[i].parentNode.parentNode.nextElementSibling.firstElementChild.firstElementChild.lastElementChild.outerHTML + "\n" + '<a href="javascript:void(0);" onclick="if(parentNode.parentNode.parentNode.previousElementSibling.lastElementChild.lastElementChild.previousElementSibling.style.display==\'none\'){parentNode.parentNode.parentNode.previousElementSibling.lastElementChild.lastElementChild.previousElementSibling.style.display=\'block\';this.innerHTML=\'HIDE SIG\';}else{parentNode.parentNode.parentNode.previousElementSibling.lastElementChild.lastElementChild.previousElementSibling.style.display=\'none\';this.innerHTML=\'SHOW SIG\';}" class="postbit">SHOW SIG</a>';
        }    
    }
}

//hidegifsig code
if ((location.pathname == "/showthread.php") && (getCookie("hidegif")=="checked"))
{
    var tags = document.getElementById('posts').getElementsByTagName('hr');
    for (var i = 0; i < tags.length; i++)
    {
        var tag = tags[i].outerHTML;    
        if (tag.indexOf("width=\"25%\"") !== -1)
        {
            if (tags[i].nextElementSibling.outerHTML.indexOf(".gif") !== -1)
            {
                tags[i].nextElementSibling.outerHTML = '<div style="display:none">' + tags[i].nextElementSibling.outerHTML + '</div>';
                tags[i].parentNode.parentNode.nextElementSibling.firstElementChild.firstElementChild.lastElementChild.outerHTML = tags[i].parentNode.parentNode.nextElementSibling.firstElementChild.firstElementChild.lastElementChild.outerHTML + "\n" + '<a href="javascript:void(0);" onclick="if(parentNode.parentNode.parentNode.previousElementSibling.lastElementChild.lastElementChild.previousElementSibling.style.display==\'none\'){parentNode.parentNode.parentNode.previousElementSibling.lastElementChild.lastElementChild.previousElementSibling.style.display=\'block\';this.innerHTML=\'HIDE SIG\';}else{parentNode.parentNode.parentNode.previousElementSibling.lastElementChild.lastElementChild.previousElementSibling.style.display=\'none\';this.innerHTML=\'SHOW SIG\';}" class="postbit">SHOW SIG</a>';
                
            }
        }    
    }
}

//userbars code
if (getCookie("userbar")=="checked")
{
    var tags = document.getElementsByTagName('img');
    var a = '<a href="/forumdisplay.php?fid=';
    for (var i = 0; i < tags.length; i++)
    {
        var b = '">'+tags[i].outerHTML+'</a>';
        var tag = tags[i].src;
        
        if (tag.indexOf("awesome") !== -1) { tags[i].outerHTML = a+'86'+b; }
        if (tag.indexOf("elite5") !== -1) { tags[i].outerHTML = a+'121'+b; }
        if (tag.indexOf("SL") !== -1) { tags[i].outerHTML = a+'234'+b; }
        if (tag.indexOf("reliance") !== -1) { tags[i].outerHTML = a+'181'+b; }
        if (tag.indexOf("pirates") !== -1) { tags[i].outerHTML = a+'157'+b; }
        if (tag.indexOf("Anime") !== -1) { tags[i].outerHTML = a+'173'+b; }
        if (tag.indexOf("Writers") !== -1) { tags[i].outerHTML = a+'158'+b; }
        if (tag.indexOf("wolves") !== -1) { tags[i].outerHTML = a+'178'+b; }
        if (tag.indexOf("VIRTUE") !== -1) { tags[i].outerHTML = a+'187'+b; }
        if (tag.indexOf("graphicmasters") !== -1) { tags[i].outerHTML = a+'238'+b; }
        if (tag.indexOf("admin") !== -1) { tags[i].outerHTML = a+'235'+b; }
        if (tag.indexOf("orgx") !== -1) { tags[i].outerHTML = a+'232'+b; }
        if (tag.indexOf("Sponsor") !== -1) { tags[i].outerHTML = a+'249'+b; }
        if (tag.indexOf("staff") !== -1) { tags[i].outerHTML = a+'117'+b; }
        if (tag.indexOf("support") !== -1) { tags[i].outerHTML = a+'117'+b; }
        if (tag.indexOf("spectrum") !== -1) { tags[i].outerHTML = a+'157'+b; }
        if (tag.indexOf("magic") !== -1) { tags[i].outerHTML = a+'252'+b; }
        if (tag.indexOf("palette") !== -1) { tags[i].outerHTML = a+'170'+b; }
        if (tag.indexOf("gamer") !== -1) { tags[i].outerHTML = a+'10'+b; }
        if (tag.indexOf("elite2") !== -1) { tags[i].outerHTML = a+'99'+b; }
        if (tag.indexOf("Monetizer") !== -1) { tags[i].outerHTML = a+'145'+b; }
        if (tag.indexOf("medal") !== -1) { tags[i].outerHTML = a+'121'+b; }
        if (tag.indexOf("Coder") !== -1) { tags[i].outerHTML = a+'261'+b; }
        if (tag.indexOf("lounge") !== -1) { tags[i].outerHTML = a+'18'+b; }
        if (tag.indexOf("random") !== -1) { tags[i].outerHTML = a+'248'+b; }
        if (tag.indexOf("sponsor") !== -1) { tags[i].outerHTML = a+'249'+b; }
        if (tag.indexOf("LFawards") !== -1) { tags[i].outerHTML = a+'288'+b; }
    }
}


//quotes code
if (getCookie("_quoted")=="checked")
{
    
    var var1 = document.getElementById('header').getElementsByTagName('strong')[0].getElementsByTagName('a')[0].innerText;
    
    document.getElementById('header').getElementsByTagName('strong')[0].nextElementSibling.nextElementSibling.nextElementSibling.outerHTML += ' &#9674; <form style="display: inline" method="post" action="search.php" id="quoted_search"><input type="hidden" name="action" value="do_search"><input type="hidden" name="postthread" value="1"><input type="hidden" name="forums[]" value="all"><input type="hidden" name="postdate" value="3"><input type="hidden" name="pddir" value="1"><input type="hidden" name="threadprefix" value="all"><input type="hidden" name="sortby" value="lastpost"><input type="hidden" name="sortordr" value="desc"><input type="hidden" name="showresults" value="posts"><input type="hidden" name="keywords" value="[quote='+var1+']"></form><a onmousedown="if(event.button != 0) { document.getElementById(\'quoted_search\').setAttribute(\'target\', \'_blank\'); }" oncontextmenu="return;" onkeydown="document.getElementById(\'quoted_search\').setAttribute(\'target\', \'_blank\'); document.getElementById(\'quoted_search\').submit();" href="javascript:document.getElementById(\'quoted_search\').submit();">View Quoted Posts</a> ';
    
}


//user link code
if (getCookie("_uglink")=="checked")
{
    var var1 = document.getElementById('header').getElementsByTagName('strong')[0].getElementsByTagName('a')[0].outerHTML;
    var a = " &#9674; <a href='/forumdisplay.php?fid=";
    var b = "'>";
    var c = "</a>";
    
    if (var1.indexOf("color: #5CFFF2") !== -1) { var link = a+'234'+b+'Strange Leaders'+c; }
    if (var1.indexOf("text-shadow: 0px 0px 5px") !== -1) { var link = a+'121'+b+'Elite'+c; }
    if (var1.indexOf("text-shadow: 0px 0px 8px") !== -1) { var link = a+'249'+b+'Sponsor'+c; }
    if (var1.indexOf("color: #671724") !== -1) { var link = a+'178'+b+'Wolves'+c; }
    if (var1.indexOf("color:#e9993f;") !== -1) { var link = a+'157'+b+'Spectrum'+c; }
    if (var1.indexOf("text-shadow: 1px 1px 2px") !== -1) { var link = a+'235'+b+'Admin'+c; }
    if (var1.indexOf("color: #007787;") !== -1) { var link = a+'86'+b+'AW3SOM3'+c; }
    if (var1.indexOf("color: #ffcef8;") !== -1) { var link = a+'173'+b+'Anime'+c; }
    if (var1.indexOf("color: #00AB3C;") !== -1) { var link = a+'238'+b+'Graphics Masters'+c; }
    if (var1.indexOf("color: #BBBBBB;") !== -1) { var link = a+'232'+b+'Organization X'+c; }
    if (var1.indexOf("color: #e2d7a7;") !== -1) { var link = a+'181'+b+'Reliance'+c; }
    if (var1.indexOf("color: white;") !== -1) { var link = a+'117'+b+'Staff'+c; }
    if (var1.indexOf("color: #E3E3E3;") !== -1) { var link = a+'117'+b+'Staff'+c; }
    if (var1.indexOf("color: #9c00ff;") !== -1) { var link = a+'187'+b+'Virtue'+c; }
    if (var1.indexOf("color: #36366C;") !== -1) { var link = a+'252'+b+'Magic'+c; }
    document.getElementById('header').getElementsByTagName('strong')[0].parentNode.lastElementChild.previousElementSibling.outerHTML += link;
    
}

//hide posts <50, -rep etc.
if ((location.pathname == "/showthread.php") && (getCookie("_hidelq")=="checked"))
{
    var tags = document.getElementById('posts').getElementsByTagName('table');
    for (var i = 0; i < tags.length; i++)
    {
        var tag = tags[i].id;    
        if (tag.indexOf("post_") !== -1)
        {
            var lines = tags[i].getElementsByTagName('tr')[1].firstElementChild.firstElementChild.firstElementChild.lastElementChild.lastElementChild.innerText.replace(",","").replace("Posts: ","").replace("Reputation: ","").split("\n");
            if (((parseInt(lines[0]) < 100) && (parseInt(lines[2]) < 1)) || (parseInt(lines[2]) < -10))
            {
                tags[i].getElementsByTagName('tr')[0].getElementsByTagName('strong')[0].getElementsByTagName('a')[0].outerHTML = tags[i].getElementsByTagName('tr')[0].getElementsByTagName('strong')[0].getElementsByTagName('a')[0].outerHTML + ' | <a href="javascript:void(0);" onclick="if(parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.style.display==\'none\'){parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.style.display=\'table-row\';parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.style.display=\'table-row\';parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.nextElementSibling.style.display=\'table-row\';parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.style.display=\'table\';this.innerHTML=\'Hide\';}else{parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.style.display=\'none\';parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.style.display=\'none\';parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.nextElementSibling.style.display=\'none\';parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.style.display=\'none\';this.innerHTML=\'Show\';}">Show</a>';                
                tags[i].getElementsByTagName('tr')[1].style.display = "none";
                tags[i].getElementsByTagName('tr')[3].style.display = "none";
                tags[i].getElementsByTagName('tr')[4].style.display = "none";
            }
        }    
    }
}

//hide banned members.
if ((location.pathname == "/showthread.php") && (getCookie("hideban")=="checked"))
{
    var tags = document.getElementById('posts').getElementsByTagName('table');
    for (var i = 0; i < tags.length; i++)
    {
        var tag = tags[i].id;    
        if (tag.indexOf("post_") !== -1)
        {
            if (tags[i].getElementsByTagName('tr')[1].firstElementChild.firstElementChild.outerHTML.indexOf("<s>") !== -1)
            {
                tags[i].getElementsByTagName('tr')[0].getElementsByTagName('strong')[0].getElementsByTagName('a')[0].outerHTML = tags[i].getElementsByTagName('tr')[0].getElementsByTagName('strong')[0].getElementsByTagName('a')[0].outerHTML + ' | <a href="javascript:void(0);" onclick="if(parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.style.display==\'none\'){parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.style.display=\'table-row\';parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.style.display=\'table-row\';parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.nextElementSibling.style.display=\'table-row\';parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.style.display=\'table\';this.innerHTML=\'Hide\';}else{parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.style.display=\'none\';parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.style.display=\'none\';parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.nextElementSibling.style.display=\'none\';parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.style.display=\'none\';this.innerHTML=\'Show\';}">Show</a>';                
                tags[i].getElementsByTagName('tr')[1].style.display = "none";
                tags[i].getElementsByTagName('tr')[3].style.display = "none";
                tags[i].getElementsByTagName('tr')[4].style.display = "none";
                tags[i].nextElementSibling.style.display = "none";
            }
        }    
    }
}

//hide locked threads.
if ((location.pathname == "/forumdisplay.php") && (getCookie("_locked")=="checked"))
{
    var tags = document.getElementById('container').getElementsByTagName('table')[1].getElementsByTagName('img');
    for (var i = 0; i < tags.length; i++)
    {
        var tag = tags[i].alt;
        if (tag.indexOf("Locked") !== -1)
        {
            tags[i].parentNode.parentNode.style.display = "none";
        }
    }
}


//improved quick reply - credits to Craftnight
if ((location.pathname == "/showthread.php") && (getCookie("_qreply") == "checked"))
{
    eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(11(){14 l=6,g,y=l.3L,p=l.$,o=l.3L=l.$=11(E,F){12 2Y o.1o.5E(E,F)},D=/^[^<]*(<(.|\\s)+>)[^>]*$|^#([\\w-]+)$/,f=/^.[^:#\\[\\.,]*$/;o.1o=o.2b={5E:11(E,H){E=E||17;7(E.1e){6[0]=E;6.15=1;6.3f=E;12 6}7(1j E==="1L"){14 G=D.2F(E);7(G&&(G[1]||!H)){7(G[1]){E=o.5p([G[1]],H)}18{14 I=17.3O(G[3]);7(I&&I.4k!=G[3]){12 o().1B(E)}14 F=o(I||[]);F.3f=17;F.1X=E;12 F}}18{12 o(H).1B(E)}}18{7(o.22(E)){12 o(17).2M(E)}}7(E.1X&&E.3f){6.1X=E.1X;6.3f=E.3f}12 6.7f(o.3e(E)?E:o.2u(E))},1X:"",5M:"1.3.2",bH:11(){12 6.15},3j:11(E){12 E===g?2A.2b.1W.1q(6):6[E]},2D:11(F,H,E){14 G=o(F);G.5T=6;G.3f=6.3f;7(H==="1B"){G.1X=6.1X+(6.1X?" ":"")+E}18{7(H){G.1X=6.1X+"."+H+"("+E+")"}}12 G},7f:11(E){6.15=0;2A.2b.1r.1C(6,E);12 6},1f:11(F,E){12 o.1f(6,F,E)},6S:11(E){12 o.2N(E&&E.5M?E[0]:E,6)},2h:11(F,H,G){14 E=F;7(1j F==="1L"){7(H===g){12 6[0]&&o[G||"2h"](6[0],F)}18{E={};E[F]=H}}12 6.1f(11(I){1b(F 1y E){o.2h(G?6.1g:6,F,o.1E(6,E[F],G,I,F))}})},2f:11(E,F){7((E=="2g"||E=="2w")&&2P(F)<0){F=g}12 6.2h(E,F,"2o")},1J:11(F){7(1j F!=="25"&&F!=1a){12 6.4O().3P((6[0]&&6[0].1H||17).4K(F))}14 E="";o.1f(F||6,11(){o.1f(6.3m,11(){7(6.1e!=8){E+=6.1e!=1?6.4H:o.1o.1J([6])}})});12 E},5Y:11(E){7(6[0]){14 F=o(E,6[0].1H).5Z();7(6[0].1p){F.2C(6[0])}F.2r(11(){14 G=6;1A(G.1s){G=G.1s}12 G}).3P(6)}12 6},bG:11(E){12 6.1f(11(){o(6).7g().5Y(E)})},bE:11(E){12 6.1f(11(){o(6).5Y(E)})},3P:11(){12 6.4h(1u,19,11(E){7(6.1e==1){6.2G(E)}})},7o:11(){12 6.4h(1u,19,11(E){7(6.1e==1){6.2C(E,6.1s)}})},7p:11(){12 6.4h(1u,1c,11(E){6.1p.2C(E,6)})},6C:11(){12 6.4h(1u,1c,11(E){6.1p.2C(E,6.3r)})},5v:11(){12 6.5T||o([])},1r:[].1r,3q:[].3q,3p:[].3p,1B:11(E){7(6.15===1){14 F=6.2D([],"1B",E);F.15=0;o.1B(E,6[0],F);12 F}18{12 6.2D(o.5j(o.2r(6,11(G){12 o.1B(E,G)})),"1B",E)}},5Z:11(G){14 E=6.2r(11(){7(!o.1R.5U&&!o.5i(6)){14 I=6.bz;7(!I){14 J=6.1H.1Z("1G");J.2G(6.5h(19));I=J.2E}12 o.5p([I.1v(/ 3L\\d+="(?:\\d+|1a)"/g,"").1v(/^\\s*/,"")])[0]}18{12 6.5h(19)}});7(G===19){14 H=6.1B("*").6U(),F=0;E.1B("*").6U().1f(11(){7(6.1n!==H[F].1n){12}14 I=o.1d(H[F],"2t");1b(14 K 1y I){1b(14 J 1y I[K]){o.1h.2e(6,K,I[K][J],I[K][J].1d)}}F++})}12 E},1t:11(E){12 6.2D(o.22(E)&&o.43(6,11(G,F){12 E.1q(G,F)})||o.3I(E,o.43(6,11(F){12 F.1e===1})),"1t",E)},48:11(E){14 G=o.31.1m.3E.1l(E)?o(E):1a,F=0;12 6.2r(11(){14 H=6;1A(H&&H.1H){7(G?G.6S(H)>-1:o(H).4a(E)){o.1d(H,"48",F);12 H}H=H.1p;F++}})},4b:11(E){7(1j E==="1L"){7(f.1l(E)){12 6.2D(o.3I(E,6,19),"4b",E)}18{E=o.3I(E,6)}}14 F=E.15&&E[E.15-1]!==g&&!E.1e;12 6.1t(11(){12 F?o.2N(6,E)<0:6!=E})},2e:11(E){12 6.2D(o.5j(o.5B(6.3j(),1j E==="1L"?o(E):o.2u(E))))},4a:11(E){12!!E&&o.3I(E,6).15>0},bt:11(E){12!!E&&6.4a("."+E)},5I:11(K){7(K===g){14 E=6[0];7(E){7(o.1n(E,"4C")){12(E.bs.2B||{}).7w?E.2B:E.1J}7(o.1n(E,"2p")){14 I=E.5t,L=[],M=E.1w,H=E.1i=="2p-66";7(I<0){12 1a}1b(14 F=H?I:0,J=H?I+1:M.15;F<J;F++){14 G=M[F];7(G.4d){K=o(G).5I();7(H){12 K}L.1r(K)}}12 L}12(E.2B||"").1v(/\\r/g,"")}12 g}7(1j K==="4e"){K+=""}12 6.1f(11(){7(6.1e!=1){12}7(o.3e(K)&&/6q|6u/.1l(6.1i)){6.5k=(o.2N(6.2B,K)>=0||o.2N(6.2v,K)>=0)}18{7(o.1n(6,"2p")){14 N=o.2u(K);o("4C",6).1f(11(){6.4d=(o.2N(6.2B,N)>=0||o.2N(6.1J,N)>=0)});7(!N.15){6.5t=-1}}18{6.2B=K}}})},38:11(E){12 E===g?(6[0]?6[0].2E.1v(/ 3L\\d+="(?:\\d+|1a)"/g,""):1a):6.4O().3P(E)},7x:11(E){12 6.6C(E).26()},5F:11(E){12 6.1W(E,+E+1)},1W:11(){12 6.2D(2A.2b.1W.1C(6,1u),"1W",2A.2b.1W.1q(1u).37(","))},2r:11(E){12 6.2D(o.2r(6,11(G,F){12 E.1q(G,F,G)}))},6U:11(){12 6.2e(6.5T)},4h:11(J,M,L){7(6[0]){14 I=(6[0].1H||6[0]).bo(),F=o.5p(J,(6[0].1H||6[0]),I),H=I.1s;7(H){1b(14 G=0,E=6.15;G<E;G++){L.1q(K(6[G],H),6.15>1||G>0?I.5h(19):I)}}7(F){o.1f(F,z)}}12 6;11 K(N,O){12 M&&o.1n(N,"1Y")&&o.1n(O,"3Q")?(N.29("28")[0]||N.2G(N.1H.1Z("28"))):N}}};o.1o.5E.2b=o.1o;11 z(E,F){7(F.5d){o.4o({1x:F.5d,36:1c,24:"1S"})}18{o.6f(F.1J||F.7y||F.2E||"")}7(F.1p){F.1p.2k(F)}}11 e(){12+2Y 6s}o.1F=o.1o.1F=11(){14 J=1u[0]||{},H=1,I=1u.15,E=1c,G;7(1j J==="6v"){E=J;J=1u[1]||{};H=2}7(1j J!=="25"&&!o.22(J)){J={}}7(I==H){J=6;--H}1b(;H<I;H++){7((G=1u[H])!=1a){1b(14 F 1y G){14 K=J[F],L=G[F];7(J===L){7z}7(E&&L&&1j L==="25"&&!L.1e){J[F]=o.1F(E,K||(L.15!=1a?[]:{}),L)}18{7(L!==g){J[F]=L}}}}}12 J};14 b=/z-?6S|bl-?bk|1K|7A|bf-?2w/i,q=17.7D||{},s=7E.2b.5r;o.1F({ba:11(E){l.$=p;7(E){l.3L=y}12 o},22:11(E){12 s.1q(E)==="[25 b3]"},3e:11(E){12 s.1q(E)==="[25 2A]"},5i:11(E){12 E.1e===9&&E.1D.1n!=="7F"||!!E.1H&&o.5i(E.1H)},6f:11(G){7(G&&/\\S/.1l(G)){14 F=17.29("7G")[0]||17.1D,E=17.1Z("1S");E.1i="1J/3N";7(o.1R.5W){E.2G(17.4K(G))}18{E.1J=G}F.2C(E,F.1s);F.2k(E)}},1n:11(F,E){12 F.1n&&F.1n.2s()==E.2s()},1f:11(G,K,F){14 E,H=0,I=G.15;7(F){7(I===g){1b(E 1y G){7(K.1C(G[E],F)===1c){1N}}}18{1b(;H<I;){7(K.1C(G[H++],F)===1c){1N}}}}18{7(I===g){1b(E 1y G){7(K.1q(G[E],E,G[E])===1c){1N}}}18{1b(14 J=G[0];H<I&&K.1q(J,H,J)!==1c;J=G[++H]){}}}12 G},1E:11(H,I,G,F,E){7(o.22(I)){I=I.1q(H,F)}12 1j I==="4e"&&G=="2o"&&!b.1l(E)?I+"32":I},1I:{2e:11(E,F){o.1f((F||"").2l(/\\s+/),11(G,H){7(E.1e==1&&!o.1I.44(E.1I,H)){E.1I+=(E.1I?" ":"")+H}})},26:11(E,F){7(E.1e==1){E.1I=F!==g?o.43(E.1I.2l(/\\s+/),11(G){12!o.1I.44(F,G)}).37(" "):""}},44:11(F,E){12 F&&o.2N(E,(F.1I||F).5r().2l(/\\s+/))>-1}},7H:11(H,G,I){14 E={};1b(14 F 1y G){E[F]=H.1g[F];H.1g[F]=G[F]}I.1q(H);1b(14 F 1y G){H.1g[F]=E[F]}},2f:11(H,F,J,E){7(F=="2g"||F=="2w"){14 L,G={2z:"4L",7K:"2L",1P:"5u"},K=F=="2g"?["6x","7M"]:["6A","7N"];11 I(){L=F=="2g"?H.4v:H.6Q;7(E==="3z"){12}o.1f(K,11(){7(!E){L-=2P(o.2o(H,"5s"+6,19))||0}7(E==="3A"){L+=2P(o.2o(H,"3A"+6,19))||0}18{L-=2P(o.2o(H,"3z"+6+"7O",19))||0}})}7(H.4v!==0){I()}18{o.7H(H,G,I)}12 33.52(0,33.aQ(L))}12 o.2o(H,F,J)},2o:11(I,F,G){14 L,E=I.1g;7(F=="1K"&&!o.1R.1K){L=o.2h(E,"1K");12 L==""?"1":L}7(F.1m(/4q/i)){F=w}7(!G&&E&&E[F]){L=E[F]}18{7(q.5e){7(F.1m(/4q/i)){F="4q"}F=F.1v(/([A-Z])/g,"-$1").3G();14 M=q.5e(I,1a);7(M){L=M.aM(F)}7(F=="1K"&&L==""){L="1"}}18{7(I.4D){14 J=F.1v(/\\-(\\w)/g,11(N,O){12 O.2s()});L=I.4D[F]||I.4D[J];7(!/^\\d+(32)?$/i.1l(L)&&/^\\d/.1l(L)){14 H=E.1z,K=I.5R.1z;I.5R.1z=I.4D.1z;E.1z=L||0;L=E.aL+"32";E.1z=H;I.5R.1z=K}}}}12 L},5p:11(F,K,I){K=K||17;7(1j K.1Z==="2H"){K=K.1H||K[0]&&K[0].1H||17}7(!I&&F.15===1&&1j F[0]==="1L"){14 H=/^<(\\w+)\\s*\\/?>$/.2F(F[0]);7(H){12[K.1Z(H[1])]}}14 G=[],E=[],L=K.1Z("1G");o.1f(F,11(P,S){7(1j S==="4e"){S+=""}7(!S){12}7(1j S==="1L"){S=S.1v(/(<(\\w+)[^>]*?)\\/>/g,11(U,V,T){12 T.1m(/^(aB|br|7W|aw|3S|64|as|3V|ar|84|a6)$/i)?U:V+"></"+T+">"});14 O=S.1v(/^\\s+/,"").a4(0,10).3G();14 Q=!O.1O("<a1")&&[1,"<2p 8b=\'8b\'>","</2p>"]||!O.1O("<9P")&&[1,"<8e>","</8e>"]||O.1m(/^<(9N|28|9L|9K|9B)/)&&[1,"<1Y>","</1Y>"]||!O.1O("<3Q")&&[2,"<1Y><28>","</28></1Y>"]||(!O.1O("<6D")||!O.1O("<9z"))&&[3,"<1Y><28><3Q>","</3Q></28></1Y>"]||!O.1O("<7W")&&[2,"<1Y><28></28><8p>","</8p></1Y>"]||!o.1R.8q&&[1,"1G<1G>","</1G>"]||[0,"",""];L.2E=Q[1]+S+Q[2];1A(Q[0]--){L=L.8v}7(!o.1R.28){14 R=/<28/i.1l(S),N=!O.1O("<1Y")&&!R?L.1s&&L.1s.3m:Q[1]=="<1Y>"&&!R?L.3m:[];1b(14 M=N.15-1;M>=0;--M){7(o.1n(N[M],"28")&&!N[M].3m.15){N[M].1p.2k(N[M])}}}7(!o.1R.8A&&/^\\s/.1l(S)){L.2C(K.4K(S.1m(/^\\s*/)[0]),L.1s)}S=o.2u(L.3m)}7(S.1e){G.1r(S)}18{G=o.5B(G,S)}});7(I){1b(14 J=0;G[J];J++){7(o.1n(G[J],"1S")&&(!G[J].1i||G[J].1i.3G()==="1J/3N")){E.1r(G[J].1p?G[J].1p.2k(G[J]):G[J])}18{7(G[J].1e===1){G.3p.1C(G,[J+1,0].5a(o.2u(G[J].29("1S"))))}I.2G(G[J])}}12 E}12 G},2h:11(J,G,K){7(!J||J.1e==3||J.1e==8){12 g}14 H=!o.5i(J),L=K!==g;G=H&&o.4f[G]||G;7(J.3x){14 F=/2q|5d|1g/.1l(G);7(G=="4d"&&J.1p){J.1p.5t}7(G 1y J&&H&&!F){7(L){7(G=="1i"&&o.1n(J,"3S")&&J.1p){5n"1i 9g 9e\'t be 91"}J[G]=K}7(o.1n(J,"5L")&&J.3b(G)){12 J.3b(G).4H}7(G=="5N"){14 I=J.3b("5N");12 I&&I.7w?I.2B:J.1n.1m(/(2J|3S|25|2p|5P)/i)?0:J.1n.1m(/^(a|84)$/i)&&J.2q?0:g}12 J[G]}7(!o.1R.1g&&H&&G=="1g"){12 o.2h(J.1g,"8Y",K)}7(L){J.8X(G,""+K)}14 E=!o.1R.8L&&H&&F?J.2j(G,2):J.2j(G);12 E===1a?g:E}7(!o.1R.1K&&G=="1K"){7(L){J.7A=1;J.1t=(J.1t||"").1v(/8N\\([^)]*\\)/,"")+(2Z(K)+""=="92"?"":"8N(1K="+K*8F+")")}12 J.1t&&J.1t.1O("1K=")>=0?(2P(J.1t.1m(/1K=([^)]*)/)[1])/8F)+"":""}G=G.1v(/-([a-z])/9f,11(M,N){12 N.2s()});7(L){J[G]=K}12 J[G]},9h:11(E){12(E||"").1v(/^\\s+|\\s+$/g,"")},2u:11(G){14 E=[];7(G!=1a){14 F=G.15;7(F==1a||1j G==="1L"||o.22(G)||G.4T){E[0]=G}18{1A(F){E[--F]=G[F]}}}12 E},2N:11(G,H){1b(14 E=0,F=H.15;E<F;E++){7(H[E]===G){12 E}}12-1},5B:11(H,E){14 F=0,G,I=H.15;7(!o.1R.9i){1A((G=E[F++])!=1a){7(G.1e!=8){H[I++]=G}}}18{1A((G=E[F++])!=1a){H[I++]=G}}12 H},5j:11(K){14 F=[],E={};21{1b(14 G=0,H=K.15;G<H;G++){14 J=o.1d(K[G]);7(!E[J]){E[J]=19;F.1r(K[G])}}}23(I){F=K}12 F},43:11(F,J,E){14 G=[];1b(14 H=0,I=F.15;H<I;H++){7(!E!=!J(F[H],H)){G.1r(F[H])}}12 G},2r:11(E,J){14 F=[];1b(14 G=0,H=E.15;G<H;G++){14 I=J(E[G],G);7(I!=1a){F[F.15]=I}}12 F.5a.1C([],F)}});14 C=9k.9l.3G();o.9o={9p:(C.1m(/.+(?:9r|9s|9v|9y)[\\/: ]([\\d.]+)/)||[0,"0"])[1],9A:/8n/.1l(C),6n:/6n/.1l(C),8l:/8l/.1l(C)&&!/6n/.1l(C),8g:/8g/.1l(C)&&!/(9J|8n)/.1l(C)};o.1f({8d:11(E){12 E.1p},9Q:11(E){12 o.5c(E,"1p")},9S:11(E){12 o.2R(E,2,"3r")},9T:11(E){12 o.2R(E,2,"3l")},9V:11(E){12 o.5c(E,"3r")},9X:11(E){12 o.5c(E,"3l")},9Z:11(E){12 o.6B(E.1p.1s,E)},86:11(E){12 o.6B(E.1s)},7g:11(E){12 o.1n(E,"a0")?E.av||E.az.17:o.2u(E.3m)}},11(E,F){o.1o[E]=11(G){14 H=o.2r(6,F);7(G&&1j G=="1L"){H=o.3I(G,H)}12 6.2D(o.5j(H),E,G)}});o.1f({7R:"3P",aI:"7o",2C:"7p",aK:"6C",aV:"7x"},11(E,F){o.1o[E]=11(G){14 J=[],L=o(G);1b(14 K=0,H=L.15;K<H;K++){14 I=(K>0?6.5Z(19):6).3j();o.1o[F].1C(o(L[K]),I);J=J.5a(I)}12 6.2D(J,E,G)}});o.1f({aW:11(E){o.2h(6,E,"");7(6.1e==1){6.6P(E)}},aX:11(E){o.1I.2e(6,E)},bd:11(E){o.1I.26(6,E)},bg:11(F,E){7(1j E!=="6v"){E=!o.1I.44(6,F)}o.1I[E?"2e":"26"](6,F)},26:11(E){7(!E||o.1t(E,[6]).15){o("*",6).2e([6]).1f(11(){o.1h.26(6);o.3o(6)});7(6.1p){6.1p.2k(6)}}},4O:11(){o(6).86().26();1A(6.1s){6.2k(6.1s)}}},11(E,F){o.1o[E]=11(){12 6.1f(F,1u)}});11 j(E,F){12 E[0]&&2Z(o.2o(E[0],F,19),10)||0}14 h="3L"+e(),v=0,A={};o.1F({1T:{},1d:11(F,E,G){F=F==l?A:F;14 H=F[h];7(!H){H=F[h]=++v}7(E&&!o.1T[H]){o.1T[H]={}}7(G!==g){o.1T[H][E]=G}12 E?o.1T[H][E]:H},3o:11(F,E){F=F==l?A:F;14 H=F[h];7(E){7(o.1T[H]){2U o.1T[H][E];E="";1b(E 1y o.1T[H]){1N}7(!E){o.3o(F)}}}18{21{2U F[h]}23(G){7(F.6P){F.6P(h)}}2U o.1T[H]}},2y:11(F,E,H){7(F){E=(E||"2c")+"2y";14 G=o.1d(F,E);7(!G||o.3e(H)){G=o.1d(F,E,o.2u(H))}18{7(H){G.1r(H)}}}12 G},40:11(H,G){14 E=o.2y(H,G),F=E.3s();7(!G||G==="2c"){F=E[0]}7(F!==g){F.1q(H)}}});o.1o.1F({1d:11(E,G){14 H=E.2l(".");H[1]=H[1]?"."+H[1]:"";7(G===g){14 F=6.5G("bh"+H[1]+"!",[H[0]]);7(F===g&&6.15){F=o.1d(6[0],E)}12 F===g&&H[1]?6.1d(H[0]):F}18{12 6.1V("bm"+H[1]+"!",[H[0],G]).1f(11(){o.1d(6,E,G)})}},3o:11(E){12 6.1f(11(){o.3o(6,E)})},2y:11(E,F){7(1j E!=="1L"){F=E;E="2c"}7(F===g){12 o.2y(6[0],E)}12 6.1f(11(){14 G=o.2y(6,E,F);7(E=="2c"&&G.15==1){G[0].1q(6)}})},40:11(E){12 6.1f(11(){o.40(6,E)})}});(11(){14 R=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^[\\]]*\\]|[\'"][^\'"]*[\'"]|[^[\\]\'"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?/g,L=0,H=7E.2b.5r;14 F=11(Y,U,a,b){a=a||[];U=U||17;7(U.1e!==1&&U.1e!==9){12[]}7(!Y||1j Y!=="1L"){12 a}14 Z=[],W,af,ai,T,ad,V,X=19;R.bp=0;1A((W=R.2F(Y))!==1a){Z.1r(W[1]);7(W[2]){V=3k.bq;1N}}7(Z.15>1&&M.2F(Y)){7(Z.15===2&&I.2I[Z[0]]){af=J(Z[0]+Z[1],U)}18{af=I.2I[Z[0]]?[U]:F(Z.3s(),U);1A(Z.15){Y=Z.3s();7(I.2I[Y]){Y+=Z.3s()}af=J(Y,af)}}}18{14 c=b?{31:Z.4Q(),5V:E(b)}:F.1B(Z.4Q(),Z.15===1&&U.1p?U.1p:U,Q(U));af=F.1t(c.31,c.5V);7(Z.15>0){ai=E(af)}18{X=1c}1A(Z.15){14 d=Z.4Q(),ag=d;7(!I.2I[d]){d=""}18{ag=Z.4Q()}7(ag==1a){ag=U}I.2I[d](ai,ag,Q(U))}}7(!ai){ai=af}7(!ai){5n"7v 3J, 7t 7s: "+(d||Y)}7(H.1q(ai)==="[25 2A]"){7(!X){a.1r.1C(a,ai)}18{7(U.1e===1){1b(14 e=0;ai[e]!=1a;e++){7(ai[e]&&(ai[e]===19||ai[e].1e===1&&K(U,ai[e]))){a.1r(af[e])}}}18{1b(14 e=0;ai[e]!=1a;e++){7(ai[e]&&ai[e].1e===1){a.1r(af[e])}}}}}18{E(ai,a)}7(V){F(V,U,a,b);7(G){49=1c;a.3q(G);7(49){1b(14 e=1;e<a.15;e++){7(a[e]===a[e-1]){a.3p(e--,1)}}}}}12 a};F.4V=11(T,U){12 F(T,1a,1a,U)};F.1B=11(a,T,b){14 Z,X;7(!a){12[]}1b(14 W=0,V=I.4W.15;W<V;W++){14 Y=I.4W[W],X;7((X=I.1m[Y].2F(a))){14 U=3k.c1;7(U.65(U.15-1)!=="\\\\"){X[1]=(X[1]||"").1v(/\\\\/g,"");Z=I.1B[Y](X,T,b);7(Z!=1a){a=a.1v(I.1m[Y],"");1N}}}}7(!Z){Z=T.29("*")}12{5V:Z,31:a}};F.1t=11(a,b,c,W){14 V=a,ai=[],aa=b,Y,T,Z=b&&b[0]&&Q(b[0]);1A(a&&b.15){1b(14 d 1y I.1t){7((Y=I.1m[d].2F(a))!=1a){14 U=I.1t[d],ah,af;T=1c;7(aa==ai){ai=[]}7(I.68[d]){Y=I.68[d](Y,aa,c,ai,W,Z);7(!Y){T=ah=19}18{7(Y===19){7z}}}7(Y){1b(14 X=0;(af=aa[X])!=1a;X++){7(af){ah=U(af,Y,X,aa);14 e=W^!!ah;7(c&&ah!=1a){7(e){T=19}18{aa[X]=1c}}18{7(e){ai.1r(af);T=19}}}}}7(ah!==g){7(!c){aa=ai}a=a.1v(I.1m[d],"");7(!T){12[]}1N}}}7(a==V){7(T==1a){5n"7v 3J, 7t 7s: "+a}18{1N}}V=a}12 aa};14 I=F.3c={4W:["3a","6b","3y"],1m:{3a:/#((?:[\\w\\3w-\\4g-]|\\\\.)+)/,3Z:/\\.((?:[\\w\\3w-\\4g-]|\\\\.)+)/,6b:/\\[2v=[\'"]*((?:[\\w\\3w-\\4g-]|\\\\.)+)[\'"]*\\]/,6g:/\\[\\s*((?:[\\w\\3w-\\4g-]|\\\\.)+)\\s*(?:(\\S?=)\\s*([\'"]*)(.*?)\\3|)\\s*\\]/,3y:/^((?:[\\w\\3w-\\by\\*6i-]|\\\\.)+)/,55:/:(7q|2R|57|4j)-bA(?:\\((58|59|[\\bC+-]*)\\))?/,3E:/:(2R|5F|7m|7l|4j|57|58|59)(?:\\((\\d*)\\))?(?=[^-]|$)/,4m:/:((?:[\\w\\3w-\\4g-]|\\\\.)+)(?:\\(([\'"]*)((?:\\([^\\)]+\\)|[^\\2\\(\\)]*)+)\\2\\))?/},6t:{"3X":"1I","1b":"7k"},5g:{2q:11(T){12 T.2j("2q")}},2I:{"+":11(a,T,Z){14 X=1j T==="1L",ab=X&&!/\\W/.1l(T),Y=X&&!ab;7(ab&&!Z){T=T.2s()}1b(14 W=0,V=a.15,U;W<V;W++){7((U=a[W])){1A((U=U.3l)&&U.1e!==1){}a[W]=Y||U&&U.1n===T?U||1c:U===T}}7(Y){F.1t(T,a,19)}},">":11(Z,U,a){14 X=1j U==="1L";7(X&&!/\\W/.1l(U)){U=a?U:U.2s();1b(14 V=0,T=Z.15;V<T;V++){14 Y=Z[V];7(Y){14 W=Y.1p;Z[V]=W.1n===U?W:1c}}}18{1b(14 V=0,T=Z.15;V<T;V++){14 Y=Z[V];7(Y){Z[V]=X?Y.1p:Y.1p===U}}7(X){F.1t(U,Z,19)}}},"":11(W,U,Y){14 V=L++,T=S;7(!U.1m(/\\W/)){14 X=U=Y?U:U.2s();T=P}T("1p",U,V,W,X,Y)},"~":11(W,U,Y){14 V=L++,T=S;7(1j U==="1L"&&!U.1m(/\\W/)){14 X=U=Y?U:U.2s();T=P}T("3l",U,V,W,X,Y)}},1B:{3a:11(U,V,W){7(1j V.3O!=="2H"&&!W){14 T=V.3O(U[1]);12 T?[T]:[]}},6b:11(V,Y,Z){7(1j Y.7j!=="2H"){14 U=[],X=Y.7j(V[1]);1b(14 W=0,T=X.15;W<T;W++){7(X[W].2j("2v")===V[1]){U.1r(X[W])}}12 U.15===0?1a:U}},3y:11(T,U){12 U.29(T[1])}},68:{3Z:11(W,U,V,T,Z,a){W=" "+W[1].1v(/\\\\/g,"")+" ";7(a){12 W}1b(14 X=0,Y;(Y=U[X])!=1a;X++){7(Y){7(Z^(Y.1I&&(" "+Y.1I+" ").1O(W)>=0)){7(!V){T.1r(Y)}}18{7(V){U[X]=1c}}}}12 1c},3a:11(T){12 T[1].1v(/\\\\/g,"")},3y:11(U,T){1b(14 V=0;T[V]===1c;V++){}12 T[V]&&Q(T[V])?U[1]:U[1].2s()},55:11(T){7(T[1]=="2R"){14 U=/(-?)(\\d*)n((?:\\+|-)?\\d*)/.2F(T[2]=="58"&&"2n"||T[2]=="59"&&"2n+1"||!/\\D/.1l(T[2])&&"bD+"+T[2]||T[2]);T[2]=(U[1]+(U[2]||1))-0;T[3]=U[3]-0}T[0]=L++;12 T},6g:11(X,U,V,T,Y,Z){14 W=X[1].1v(/\\\\/g,"");7(!Z&&I.6t[W]){X[1]=I.6t[W]}7(X[2]==="~="){X[4]=" "+X[4]+" "}12 X},4m:11(X,U,V,T,Y){7(X[1]==="4b"){7(X[3].1m(R).15>1||/^\\w/.1l(X[3])){X[3]=F(X[3],1a,1a,U)}18{14 W=F.1t(X[3],U,V,19^Y);7(!V){T.1r.1C(T,W)}12 1c}}18{7(I.1m.3E.1l(X[0])||I.1m.55.1l(X[0])){12 19}}12 X},3E:11(T){T.7h(19);12 T}},3v:{bF:11(T){12 T.5o===1c&&T.1i!=="2L"},5o:11(T){12 T.5o===19},5k:11(T){12 T.5k===19},4d:11(T){T.1p.5t;12 T.4d===19},8d:11(T){12!!T.1s},4O:11(T){12!T.1s},44:11(V,U,T){12!!F(T[3],V).15},bI:11(T){12/h\\d/i.1l(T.1n)},1J:11(T){12"1J"===T.1i},6q:11(T){12"6q"===T.1i},6u:11(T){12"6u"===T.1i},6H:11(T){12"6H"===T.1i},5q:11(T){12"5q"===T.1i},6J:11(T){12"6J"===T.1i},7e:11(T){12"7e"===T.1i},7d:11(T){12"7d"===T.1i},2J:11(T){12"2J"===T.1i||T.1n.2s()==="bK"},3S:11(T){12/3S|2p|5P|2J/i.1l(T.1n)}},7a:{4j:11(U,T){12 T===0},57:11(V,U,T,W){12 U===W.15-1},58:11(U,T){12 T%2===0},59:11(U,T){12 T%2===1},7l:11(V,U,T){12 U<T[3]-0},7m:11(V,U,T){12 U>T[3]-0},2R:11(V,U,T){12 T[3]-0==U},5F:11(V,U,T){12 T[3]-0==U}},1t:{4m:11(Z,V,W,a){14 U=V[1],X=I.3v[U];7(X){12 X(Z,W,V,a)}18{7(U==="6O"){12(Z.7y||Z.bN||"").1O(V[3])>=0}18{7(U==="4b"){14 Y=V[3];1b(14 W=0,T=Y.15;W<T;W++){7(Y[W]===Z){12 1c}}12 19}}}},55:11(T,W){14 Z=W[1],U=T;bO(Z){5w"7q":5w"4j":1A(U=U.3l){7(U.1e===1){12 1c}}7(Z=="4j"){12 19}U=T;5w"57":1A(U=U.3r){7(U.1e===1){12 1c}}12 19;5w"2R":14 V=W[2],ac=W[3];7(V==1&&ac==0){12 19}14 Y=W[0],ab=T.1p;7(ab&&(ab.2O!==Y||!T.6T)){14 X=0;1b(U=ab.1s;U;U=U.3r){7(U.1e===1){U.6T=++X}}ab.2O=Y}14 a=T.6T-ac;7(V==0){12 a==0}18{12(a%V==0&&a/V>=0)}}},3a:11(U,T){12 U.1e===1&&U.2j("4k")===T},3y:11(U,T){12(T==="*"&&U.1e===1)||U.1n===T},3Z:11(U,T){12(" "+(U.1I||U.2j("3X"))+" ").1O(T)>-1},6g:11(Y,W){14 V=W[1],T=I.5g[V]?I.5g[V](Y):Y[V]!=1a?Y[V]:Y.2j(V),Z=T+"",X=W[2],U=W[4];12 T==1a?X==="!=":X==="="?Z===U:X==="*="?Z.1O(U)>=0:X==="~="?(" "+Z+" ").1O(U)>=0:!U?Z&&T!==1c:X==="!="?Z!=U:X==="^="?Z.1O(U)===0:X==="$="?Z.65(Z.15-U.15)===U:X==="|="?Z===U||Z.65(0,U.15+1)===U+"-":1c},3E:11(X,U,V,Y){14 T=U[2],W=I.7a[T];7(W){12 W(X,V,U,Y)}}}};14 M=I.1m.3E;1b(14 O 1y I.1m){I.1m[O]=3k(I.1m[O].75+/(?![^\\[]*\\])(?![^\\(]*\\))/.75)}14 E=11(U,T){U=2A.2b.1W.1q(U);7(T){T.1r.1C(T,U);12 T}12 U};21{2A.2b.1W.1q(17.1D.3m)}23(N){E=11(X,W){14 U=W||[];7(H.1q(X)==="[25 2A]"){2A.2b.1r.1C(U,X)}18{7(1j X.15==="4e"){1b(14 V=0,T=X.15;V<T;V++){U.1r(X[V])}}18{1b(14 V=0;X[V];V++){U.1r(X[V])}}}12 U}}14 G;7(17.1D.54){G=11(U,T){14 V=U.54(T)&4?-1:U===T?0:1;7(V===0){49=19}12 V}}18{7("6W"1y 17.1D){G=11(U,T){14 V=U.6W-T.6W;7(V===0){49=19}12 V}}18{7(17.6X){G=11(W,U){14 V=W.1H.6X(),T=U.1H.6X();V.6Z(W);V.8u(19);T.6Z(U);T.8u(19);14 X=V.bU(bS.bR,T);7(X===0){49=19}12 X}}}}(11(){14 U=17.1Z("5L"),V="1S"+(2Y 6s).73();U.2E="<3S 2v=\'"+V+"\'/>";14 T=17.1D;T.2C(U,T.1s);7(!!17.3O(V)){I.1B.3a=11(X,Y,Z){7(1j Y.3O!=="2H"&&!Z){14 W=Y.3O(X[1]);12 W?W.4k===X[1]||1j W.3b!=="2H"&&W.3b("4k").4H===X[1]?[W]:g:[]}};I.1t.3a=11(Y,W){14 X=1j Y.3b!=="2H"&&Y.3b("4k");12 Y.1e===1&&X&&X.4H===W}}T.2k(U)})();(11(){14 T=17.1Z("1G");T.2G(17.bQ(""));7(T.29("*").15>0){I.1B.3y=11(U,Y){14 X=Y.29(U[1]);7(U[1]==="*"){14 W=[];1b(14 V=0;X[V];V++){7(X[V].1e===1){W.1r(X[V])}}X=W}12 X}}T.2E="<a 2q=\'#\'></a>";7(T.1s&&1j T.1s.2j!=="2H"&&T.1s.2j("2q")!=="#"){I.5g.2q=11(U){12 U.2j("2q",2)}}})();7(17.5y){(11(){14 T=F,U=17.1Z("1G");U.2E="<p 3X=\'76\'></p>";7(U.5y&&U.5y(".76").15===0){12}F=11(Y,X,V,W){X=X||17;7(!W&&X.1e===9&&!Q(X)){21{12 E(X.5y(Y),V)}23(Z){}}12 T(Y,X,V,W)};F.1B=T.1B;F.1t=T.1t;F.3c=T.3c;F.4V=T.4V})()}7(17.3C&&17.1D.3C){(11(){14 T=17.1Z("1G");T.2E="<1G 3X=\'1l e\'></1G><1G 3X=\'1l\'></1G>";7(T.3C("e").15===0){12}T.8v.1I="e";7(T.3C("e").15===1){12}I.4W.3p(1,0,"3Z");I.1B.3Z=11(U,V,W){7(1j V.3C!=="2H"&&!W){12 V.3C(U[1])}}})()}11 P(U,Z,Y,a,b,c){14 d=U=="3l"&&!c;1b(14 W=0,V=a.15;W<V;W++){14 T=a[W];7(T){7(d&&T.1e===1){T.2O=Y;T.3K=W}T=T[U];14 X=1c;1A(T){7(T.2O===Y){X=a[T.3K];1N}7(T.1e===1&&!c){T.2O=Y;T.3K=W}7(T.1n===Z){X=T;1N}T=T[U]}a[W]=X}}}11 S(U,Z,Y,a,b,c){14 d=U=="3l"&&!c;1b(14 W=0,V=a.15;W<V;W++){14 T=a[W];7(T){7(d&&T.1e===1){T.2O=Y;T.3K=W}T=T[U];14 X=1c;1A(T){7(T.2O===Y){X=a[T.3K];1N}7(T.1e===1){7(!c){T.2O=Y;T.3K=W}7(1j Z!=="1L"){7(T===Z){X=19;1N}}18{7(F.1t(Z,[T]).15>0){X=T;1N}}}T=T[U]}a[W]=X}}}14 K=17.54?11(U,T){12 U.54(T)&16}:11(U,T){12 U!==T&&(U.6O?U.6O(T):19)};14 Q=11(T){12 T.1e===9&&T.1D.1n!=="7F"||!!T.1H&&Q(T.1H)};14 J=11(T,a){14 W=[],X="",Y,V=a.1e?[a]:a;1A((Y=I.1m.4m.2F(T))){X+=Y[0];T=T.1v(I.1m.4m,"")}T=I.2I[T]?T+"*":T;1b(14 Z=0,U=V.15;Z<U;Z++){F(T,V[Z],W)}12 F.1t(X,W)};o.1B=F;o.1t=F.1t;o.31=F.3c;o.31[":"]=o.31.3v;F.3c.3v.2L=11(T){12 T.4v===0||T.6Q===0};F.3c.3v.79=11(T){12 T.4v>0||T.6Q>0};F.3c.3v.bM=11(T){12 o.43(o.4y,11(U){12 T===U.1k}).15};o.3I=11(V,T,U){7(U){V=":4b("+V+")"}12 F.4V(V,T)};o.5c=11(V,U){14 T=[],W=V[U];1A(W&&W!=17){7(W.1e==1){T.1r(W)}W=W[U]}12 T};o.2R=11(X,T,V,W){T=T||1;14 U=0;1b(;X;X=X[V]){7(X.1e==1&&++U==T){1N}}12 X};o.6B=11(V,U){14 T=[];1b(;V;V=V.3r){7(V.1e==1&&V!=U){T.1r(V)}}12 T};12;l.bJ=F})();o.1h={2e:11(I,F,H,K){7(I.1e==3||I.1e==8){12}7(I.4T&&I!=l){I=l}7(!H.27){H.27=6.27++}7(K!==g){14 G=H;H=6.3M(G);H.1d=K}14 E=o.1d(I,"2t")||o.1d(I,"2t",{}),J=o.1d(I,"2d")||o.1d(I,"2d",11(){12 1j o!=="2H"&&!o.1h.6E?o.1h.2d.1C(1u.4u.1k,1u):g});J.1k=I;o.1f(F.2l(/\\s+/),11(M,N){14 O=N.2l(".");N=O.3s();H.1i=O.1W().3q().37(".");14 L=E[N];7(o.1h.4s[N]){o.1h.4s[N].4r.1q(I,K,O)}7(!L){L=E[N]={};7(!o.1h.3D[N]||o.1h.3D[N].4r.1q(I,K,O)===1c){7(I.5f){I.5f(N,J,1c)}18{7(I.3t){I.3t("5b"+N,J)}}}}L[H.27]=H;o.1h.2i[N]=19});I=1a},27:1,2i:{},26:11(K,H,J){7(K.1e==3||K.1e==8){12}14 G=o.1d(K,"2t"),F,E;7(G){7(H===g||(1j H==="1L"&&H.bB(0)==".")){1b(14 I 1y G){6.26(K,I+(H||""))}}18{7(H.1i){J=H.6m;H=H.1i}o.1f(H.2l(/\\s+/),11(M,O){14 Q=O.2l(".");O=Q.3s();14 N=3k("(^|\\\\.)"+Q.1W().3q().37(".*\\\\.")+"(\\\\.|$)");7(G[O]){7(J){2U G[O][J.27]}18{1b(14 P 1y G[O]){7(N.1l(G[O][P].1i)){2U G[O][P]}}}7(o.1h.4s[O]){o.1h.4s[O].4i.1q(K,Q)}1b(F 1y G[O]){1N}7(!F){7(!o.1h.3D[O]||o.1h.3D[O].4i.1q(K,Q)===1c){7(K.6h){K.6h(O,o.1d(K,"2d"),1c)}18{7(K.4U){K.4U("5b"+O,o.1d(K,"2d"))}}}F=1a;2U G[O]}}})}1b(F 1y G){1N}7(!F){14 L=o.1d(K,"2d");7(L){L.1k=1a}o.3o(K,"2t");o.3o(K,"2d")}}},1V:11(I,K,H,E){14 G=I.1i||I;7(!E){I=1j I==="25"?I[h]?I:o.1F(o.3g(G),I):o.3g(G);7(G.1O("!")>=0){I.1i=G=G.1W(0,-1);I.7u=19}7(!H){I.3h();7(6.2i[G]){o.1f(o.1T,11(){7(6.2t&&6.2t[G]){o.1h.1V(I,K,6.2d.1k)}})}}7(!H||H.1e==3||H.1e==8){12 g}I.4N=g;I.2K=H;K=o.2u(K);K.7h(I)}I.5O=H;14 J=o.1d(H,"2d");7(J){J.1C(H,K)}7((!H[G]||(o.1n(H,"a")&&G=="4F"))&&H["5b"+G]&&H["5b"+G].1C(H,K)===1c){I.4N=1c}7(!E&&H[G]&&!I.5H()&&!(o.1n(H,"a")&&G=="4F")){6.6E=19;21{H[G]()}23(L){}}6.6E=1c;7(!I.5A()){14 F=H.1p||H.1H;7(F){o.1h.1V(I,K,F,19)}}},2d:11(K){14 J,E;K=1u[0]=o.1h.7B(K||l.1h);K.5O=6;14 L=K.1i.2l(".");K.1i=L.3s();J=!L.15&&!K.7u;14 I=3k("(^|\\\\.)"+L.1W().3q().37(".*\\\\.")+"(\\\\.|$)");E=(o.1d(6,"2t")||{})[K.1i];1b(14 G 1y E){14 H=E[G];7(J||I.1l(H.1i)){K.6m=H;K.1d=H.1d;14 F=H.1C(6,1u);7(F!==g){K.4N=F;7(F===1c){K.3n();K.3h()}}7(K.6R()){1N}}}},4f:"bb b2 b1 b0 2J aZ 41 6N 7L 6M 5O 1d aU aT 5m 6m 6K 6I aE aC 6G 7U ay ax 5l 8O at aq 81 2K 82 ap ak 42".2l(" "),7B:11(H){7(H[h]){12 H}14 F=H;H=o.3g(F);1b(14 G=6.4f.15,J;G;){J=6.4f[--G];H[J]=F[J]}7(!H.2K){H.2K=H.81||17}7(H.2K.1e==3){H.2K=H.2K.1p}7(!H.5l&&H.5m){H.5l=H.5m==H.2K?H.82:H.5m}7(H.6G==1a&&H.6N!=1a){14 I=17.1D,E=17.1U;H.6G=H.6N+(I&&I.30||E&&E.30||0)-(I.6z||0);H.7U=H.7L+(I&&I.2T||E&&E.2T||0)-(I.6w||0)}7(!H.42&&((H.41||H.41===0)?H.41:H.6K)){H.42=H.41||H.6K}7(!H.6I&&H.6M){H.6I=H.6M}7(!H.42&&H.2J){H.42=(H.2J&1?1:(H.2J&2?3:(H.2J&4?2:0)))}12 H},3M:11(F,E){E=E||11(){12 F.1C(6,1u)};E.27=F.27=F.27||E.27||6.27++;12 E},3D:{2M:{4r:B,4i:11(){}}},4s:{4B:{4r:11(E,F){o.1h.2e(6,F[0],c)},4i:11(G){7(G.15){14 E=0,F=3k("(^|\\\\.)"+G[0]+"(\\\\.|$)");o.1f((o.1d(6,"2t").4B||{}),11(){7(F.1l(6.1i)){E++}});7(E<1){o.1h.26(6,G[0],c)}}}}}};o.3g=11(E){7(!6.3n){12 2Y o.3g(E)}7(E&&E.1i){6.6r=E;6.1i=E.1i}18{6.1i=E}6.9O=e();6[h]=19};11 k(){12 1c}11 u(){12 19}o.3g.2b={3n:11(){6.5H=u;14 E=6.6r;7(!E){12}7(E.3n){E.3n()}E.9G=1c},3h:11(){6.5A=u;14 E=6.6r;7(!E){12}7(E.3h){E.3h()}E.9F=19},9E:11(){6.6R=u;6.3h()},5H:k,5A:k,6R:k};14 a=11(F){14 E=F.5l;1A(E&&E!=6){21{E=E.1p}23(G){E=6}}7(E!=6){F.1i=F.1d;o.1h.2d.1C(6,1u)}};o.1f({8k:"6o",8m:"6l"},11(F,E){o.1h.3D[E]={4r:11(){o.1h.2e(6,F,a,E)},4i:11(){o.1h.26(6,F,a)}}});o.1o.1F({45:11(F,G,E){12 F=="6k"?6.66(F,G,E):6.1f(11(){o.1h.2e(6,F,E||G,E&&G)})},66:11(G,H,F){14 E=o.1h.3M(F||H,11(I){o(6).6j(I,E);12(F||H).1C(6,1u)});12 6.1f(11(){o.1h.2e(6,G,E,F&&H)})},6j:11(F,E){12 6.1f(11(){o.1h.26(6,F,E)})},1V:11(E,F){12 6.1f(11(){o.1h.1V(E,F,6)})},5G:11(E,G){7(6[0]){14 F=o.3g(E);F.3n();F.3h();o.1h.1V(F,G,6[0]);12 F.4N}},3i:11(G){14 E=1u,F=1;1A(F<E.15){o.1h.3M(G,E[F++])}12 6.4F(o.1h.3M(G,11(H){6.6e=(6.6e||0)%F;H.3n();12 E[6.6e++].1C(6,1u)||1c}))},9q:11(E,F){12 6.6o(E).6l(F)},2M:11(E){B();7(o.46){E.1q(17,o)}18{o.47.1r(E)}12 6},4B:11(G,F){14 E=o.1h.3M(F);E.27+=6.1X+G;o(17).45(i(G,6.1X),6.1X,E);12 6},9n:11(F,E){o(17).6j(i(F,6.1X),E?{27:E.27+6.1X+F}:1a);12 6}});11 c(H){14 E=3k("(^|\\\\.)"+H.1i+"(\\\\.|$)"),G=19,F=[];o.1f(o.1d(6,"2t").4B||[],11(I,J){7(E.1l(J.1i)){14 K=o(H.2K).48(J.1d)[0];7(K){F.1r({1k:K,1o:J})}}});F.3q(11(J,I){12 o.1d(J.1k,"48")-o.1d(I.1k,"48")});o.1f(F,11(){7(6.1o.1q(6.1k,H,6.1o.1d)===1c){12(G=1c)}});12 G}11 i(F,E){12["4B",F,E.1v(/\\./g,"`").1v(/ /g,"|")].37(".")}o.1F({46:1c,47:[],2M:11(){7(!o.46){o.46=19;7(o.47){o.1f(o.47,11(){6.1q(17,o)});o.47=1a}o(17).5G("2M")}}});14 x=1c;11 B(){7(x){12}x=19;7(17.5f){17.5f("8y",11(){17.6h("8y",1u.4u,1c);o.2M()},1c)}18{7(17.3t){17.3t("50",11(){7(17.3F==="2x"){17.4U("50",1u.4u);o.2M()}});7(17.1D.8C&&l==l.1Q){(11(){7(o.46){12}21{17.1D.8C("1z")}23(E){8E(1u.4u,0);12}o.2M()})()}}}o.1h.2e(l,"4P",o.2M)}o.1f(("9d,98,4P,93,4M,6k,4F,90,8V,8U,8S,8k,8m,6o,6l,8P,2p,6J,au,8Q,8R,3J").2l(","),11(F,E){o.1o[E]=11(G){12 G?6.45(E,G):6.1V(E)}});o(l).45("6k",11(){1b(14 E 1y o.1T){7(E!=1&&o.1T[E].2d){o.1h.26(o.1T[E].2d.1k)}}});(11(){o.1R={};14 F=17.1D,G=17.1Z("1S"),K=17.1Z("1G"),J="1S"+(2Y 6s).73();K.1g.1P="3d";K.2E=\'   <64/><1Y></1Y><a 2q="/a" 1g="8T:8M;4q:1z;1K:.5;">a</a><2p><4C>1J</4C></2p><25><3V/></25>\';14 H=K.29("*"),E=K.29("a")[0];7(!H||!H.15||!E){12}o.1R={8A:K.1s.1e==3,28:!K.29("28").15,8W:!!K.29("25")[0].29("*").15,8q:!!K.29("64").15,1g:/8M/.1l(E.2j("1g")),8L:E.2j("2q")==="/a",1K:E.1g.1K==="0.5",4c:!!E.1g.4c,5W:1c,5U:19,3B:1a};G.1i="1J/3N";21{G.2G(17.4K("8Z."+J+"=1;"))}23(I){}F.2C(G,F.1s);7(l[J]){o.1R.5W=19;2U l[J]}F.2k(G);7(K.3t&&K.8K){K.3t("5K",11(){o.1R.5U=1c;K.4U("5K",1u.4u)});K.5h(19).8K("5K")}o(11(){14 L=17.1Z("1G");L.1g.2g=L.1g.8J="2Q";17.1U.2G(L);o.3B=o.1R.3B=L.4v===2;17.1U.2k(L).1g.1P="3d"})})();14 w=o.1R.4c?"4c":"8I";o.4f={"1b":"7k","3X":"1I","4q":w,4c:w,8I:w,94:"95",96:"97",8H:"99",9a:"9b",9c:"5N"};o.1o.1F({8G:o.1o.4P,4P:11(G,J,K){7(1j G!=="1L"){12 6.8G(G)}14 I=G.1O(" ");7(I>=0){14 E=G.1W(I,G.15);G=G.1W(0,I)}14 H="39";7(J){7(o.22(J)){K=J;J=1a}18{7(1j J==="25"){J=o.3V(J);H="8D"}}}14 F=6;o.4o({1x:G,1i:H,24:"38",1d:J,2x:11(M,L){7(L=="2V"||L=="8B"){F.38(E?o("<1G/>").3P(M.56.1v(/<1S(.|\\s)*?\\/1S>/g,"")).1B(E):M.56)}7(K){F.1f(K,[M.56,L,M])}}});12 6},9j:11(){12 o.3V(6.8z())},8z:11(){12 6.2r(11(){12 6.8x?o.2u(6.8x):6}).1t(11(){12 6.2v&&!6.5o&&(6.5k||/2p|5P/i.1l(6.1n)||/1J|2L|5q|9m/i.1l(6.1i))}).2r(11(E,F){14 G=o(6).5I();12 G==1a?1a:o.3e(G)?o.2r(G,11(I,H){12{2v:F.2v,2B:I}}):{2v:F.2v,2B:G}}).3j()}});o.1f("8w,53,6Y,8t,8s,8r".2l(","),11(E,F){o.1o[F]=11(G){12 6.45(F,G)}});14 r=e();o.1F({3j:11(E,G,H,F){7(o.22(G)){H=G;G=1a}12 o.4o({1i:"39",1x:E,1d:G,2V:H,24:F})},9t:11(E,F){12 o.3j(E,1a,F,"1S")},9u:11(E,F,G){12 o.3j(E,F,G,"3u")},9w:11(E,G,H,F){7(o.22(G)){H=G;G={}}12 o.4o({1i:"8D",1x:E,1d:G,2V:H,24:F})},9x:11(E){o.1F(o.6L,E)},6L:{1x:51.2q,2i:19,1i:"39",8o:"4Z/x-9C-5L-9D",8j:19,36:19,8i:11(){12 l.8h?2Y 8h("9H.9I"):2Y 8f()},4X:{4l:"4Z/4l, 1J/4l",38:"1J/38",1S:"1J/3N, 4Z/3N",3u:"4Z/3u, 1J/3N",1J:"1J/9M",3Y:"*/*"}},4S:{},4o:11(M){M=o.1F(19,M,o.1F(19,{},o.6L,M));14 W,F=/=\\?(&|$)/g,R,V,G=M.1i.2s();7(M.1d&&M.8j&&1j M.1d!=="1L"){M.1d=o.3V(M.1d)}7(M.24=="4R"){7(G=="39"){7(!M.1x.1m(F)){M.1x+=(M.1x.1m(/\\?/)?"&":"?")+(M.4R||"8c")+"=?"}}18{7(!M.1d||!M.1d.1m(F)){M.1d=(M.1d?M.1d+"&":"")+(M.4R||"8c")+"=?"}}M.24="3u"}7(M.24=="3u"&&(M.1d&&M.1d.1m(F)||M.1x.1m(F))){W="4R"+r++;7(M.1d){M.1d=(M.1d+"").1v(F,"="+W+"$1")}M.1x=M.1x.1v(F,"="+W+"$1");M.24="1S";l[W]=11(X){V=X;I();L();l[W]=g;21{2U l[W]}23(Y){}7(H){H.2k(T)}}}7(M.24=="1S"&&M.1T==1a){M.1T=1c}7(M.1T===1c&&G=="39"){14 E=e();14 U=M.1x.1v(/(\\?|&)6i=.*?(&|$)/,"$9R="+E+"$2");M.1x=U+((U==M.1x)?(M.1x.1m(/\\?/)?"&":"?")+"6i="+E:"")}7(M.1d&&G=="39"){M.1x+=(M.1x.1m(/\\?/)?"&":"?")+M.1d;M.1d=1a}7(M.2i&&!o.4n++){o.1h.1V("8w")}14 Q=/^(\\w+:)?\\/\\/([^\\/?#]+)/.2F(M.1x);7(M.24=="1S"&&G=="39"&&Q&&(Q[1]&&Q[1]!=51.8a||Q[2]!=51.9U)){14 H=17.29("7G")[0];14 T=17.1Z("1S");T.5d=M.1x;7(M.89){T.9W=M.89}7(!W){14 O=1c;T.88=T.50=11(){7(!O&&(!6.3F||6.3F=="9Y"||6.3F=="2x")){O=19;I();L();T.88=T.50=1a;H.2k(T)}}}H.2G(T);12 g}14 K=1c;14 J=M.8i();7(M.87){J.85(G,M.1x,M.36,M.87,M.5q)}18{J.85(G,M.1x,M.36)}21{7(M.1d){J.4J("a2-a3",M.8o)}7(M.6d){J.4J("a5-6c-a7",o.4S[M.1x]||"a8, a9 ae aj 6a:6a:6a al")}J.4J("X-am-an","8f");J.4J("ao",M.24&&M.4X[M.24]?M.4X[M.24]+", */*":M.4X.3Y)}23(S){}7(M.83&&M.83(J,M)===1c){7(M.2i&&!--o.4n){o.1h.1V("53")}J.80();12 1c}7(M.2i){o.1h.1V("8r",[J,M])}14 N=11(X){7(J.3F==0){7(P){69(P);P=1a;7(M.2i&&!--o.4n){o.1h.1V("53")}}}18{7(!K&&J&&(J.3F==4||X=="3T")){K=19;7(P){69(P);P=1a}R=X=="3T"?"3T":!o.7Z(J)?"3J":M.6d&&o.7Y(J,M.1x)?"8B":"2V";7(R=="2V"){21{V=o.7X(J,M.24,M)}23(Z){R="62"}}7(R=="2V"){14 Y;21{Y=J.61("7V-6c")}23(Z){}7(M.6d&&Y){o.4S[M.1x]=Y}7(!W){I()}}18{o.60(M,J,R)}L();7(X){J.80()}7(M.36){J=1a}}}};7(M.36){14 P=4T(N,13);7(M.3T>0){8E(11(){7(J&&!K){N("3T")}},M.3T)}}21{J.aA(M.1d)}23(S){o.60(M,J,1a,S)}7(!M.36){N()}11 I(){7(M.2V){M.2V(V,R)}7(M.2i){o.1h.1V("8s",[J,M])}}11 L(){7(M.2x){M.2x(J,R)}7(M.2i){o.1h.1V("6Y",[J,M])}7(M.2i&&!--o.4n){o.1h.1V("53")}}12 J},60:11(F,H,E,G){7(F.3J){F.3J(H,E,G)}7(F.2i){o.1h.1V("8t",[H,F,G])}},4n:0,7Z:11(F){21{12!F.3R&&51.8a=="6H:"||(F.3R>=7T&&F.3R<aD)||F.3R==7S||F.3R==aF}23(E){}12 1c},7Y:11(G,E){21{14 H=G.61("7V-6c");12 G.3R==7S||H==o.4S[E]}23(F){}12 1c},7X:11(J,H,G){14 F=J.61("aG-1i"),E=H=="4l"||!H&&F&&F.1O("4l")>=0,I=E?J.aH:J.56;7(E&&I.1D.3x=="62"){5n"62"}7(G&&G.7Q){I=G.7Q(I,H)}7(1j I==="1L"){7(H=="1S"){o.6f(I)}7(H=="3u"){I=l["aJ"]("("+I+")")}}12 I},3V:11(E){14 G=[];11 H(I,J){G[G.15]=7P(I)+"="+7P(J)}7(o.3e(E)||E.5M){o.1f(E,11(){H(6.2v,6.2B)})}18{1b(14 F 1y E){7(o.3e(E[F])){o.1f(E[F],11(){H(F,6)})}18{H(F,o.22(E[F])?E[F]():E[F])}}}12 G.37("&").1v(/%20/g,"+")}});14 m={},n,d=[["2w","3H","aN","aO","aP"],["2g","5C","aR","8J","aS"],["1K"]];11 t(F,E){14 G={};o.1f(d.5a.1C([],d.1W(0,E)),11(){G[6]=F});12 G}o.1o.1F({2m:11(J,L){7(J){12 6.3W(t("2m",3),J,L)}18{1b(14 H=0,F=6.15;H<F;H++){14 E=o.1d(6[H],"4w");6[H].1g.1P=E||"";7(o.2f(6[H],"1P")==="3d"){14 G=6[H].3x,K;7(m[G]){K=m[G]}18{14 I=o("<"+G+" />").7R("1U");K=I.2f("1P");7(K==="3d"){K="5u"}I.26();m[G]=K}o.1d(6[H],"4w",K)}}1b(14 H=0,F=6.15;H<F;H++){6[H].1g.1P=o.1d(6[H],"4w")||""}12 6}},2a:11(H,I){7(H){12 6.3W(t("2a",3),H,I)}18{1b(14 G=0,F=6.15;G<F;G++){14 E=o.1d(6[G],"4w");7(!E&&E!=="3d"){o.1d(6[G],"4w",o.2f(6[G],"1P"))}}1b(14 G=0,F=6.15;G<F;G++){6[G].1g.1P="3d"}12 6}},7J:o.1o.3i,3i:11(G,F){14 E=1j G==="6v";12 o.22(G)&&o.22(F)?6.7J.1C(6,1u):G==1a||E?6.1f(11(){14 H=E?G:o(6).4a(":2L");o(6)[H?"2m":"2a"]()}):6.3W(t("3i",3),G,F)},aY:11(E,G,F){12 6.3W({1K:G},E,F)},3W:11(I,F,H,G){14 E=o.7I(F,H,G);12 6[E.2y===1c?"1f":"2y"](11(){14 K=o.1F({},E),M,L=6.1e==1&&o(6).4a(":2L"),J=6;1b(M 1y I){7(I[M]=="2a"&&L||I[M]=="2m"&&!L){12 K.2x.1q(6)}7((M=="2w"||M=="2g")&&6.1g){K.1P=o.2f(6,"1P");K.2W=6.1g.2W}}7(K.2W!=1a){6.1g.2W="2L"}K.4A=o.1F({},I);o.1f(I,11(O,S){14 R=2Y o.2c(J,K,O);7(/3i|2m|2a/.1l(S)){R[S=="3i"?L?"2m":"2a":S](I)}18{14 Q=S.5r().1m(/^([+-]=)?([\\d+-.]+)(.*)$/),T=R.4z(19)||0;7(Q){14 N=2P(Q[2]),P=Q[3]||"32";7(P!="32"){J.1g[O]=(N||1)+P;T=((N||1)/R.4z(19))*T;J.1g[O]=T+P}7(Q[1]){N=((Q[1]=="-="?-1:1)*N)+T}R.4x(T,N,P)}18{R.4x(T,S,"")}}});12 19})},b4:11(F,E){14 G=o.4y;7(F){6.2y([])}6.1f(11(){1b(14 H=G.15-1;H>=0;H--){7(G[H].1k==6){7(E){G[H](19)}G.3p(H,1)}}});7(!E){6.40()}12 6}});o.1f({b5:t("2m",1),b6:t("2a",1),b7:t("3i",1),b8:{1K:"2m"},b9:{1K:"2a"}},11(E,F){o.1o[E]=11(G,H){12 6.3W(F,G,H)}});o.1F({7I:11(G,H,F){14 E=1j G==="25"?G:{2x:F||!F&&H||o.22(G)&&G,2S:G,4t:F&&H||H&&!o.22(H)&&H};E.2S=o.2c.bc?0:1j E.2S==="4e"?E.2S:o.2c.5D[E.2S]||o.2c.5D.3Y;E.5z=E.2x;E.2x=11(){7(E.2y!==1c){o(6).40()}7(o.22(E.5z)){E.5z.1q(6)}};12 E},4t:{7C:11(G,H,E,F){12 E+F*G},6V:11(G,H,E,F){12((-33.bi(G*33.bj)/2)+0.5)*F+E}},4y:[],2c:11(F,E,G){6.1w=E;6.1k=F;6.1E=G;7(!E.4p){E.4p={}}}});o.2c.2b={6F:11(){7(6.1w.34){6.1w.34.1q(6.1k,6.35,6)}(o.2c.34[6.1E]||o.2c.34.3Y)(6);7((6.1E=="2w"||6.1E=="2g")&&6.1k.1g){6.1k.1g.1P="5u"}},4z:11(F){7(6.1k[6.1E]!=1a&&(!6.1k.1g||6.1k.1g[6.1E]==1a)){12 6.1k[6.1E]}14 E=2P(o.2f(6.1k,6.1E,F));12 E&&E>-bn?E:2P(o.2o(6.1k,6.1E))||0},4x:11(I,H,G){6.5J=e();6.4G=I;6.5v=H;6.5S=G||6.5S||"32";6.35=6.4G;6.5x=6.4I=0;14 E=6;11 F(J){12 E.34(J)}F.1k=6.1k;7(F()&&o.4y.1r(F)&&!n){n=4T(11(){14 K=o.4y;1b(14 J=0;J<K.15;J++){7(!K[J]()){K.3p(J--,1)}}7(!K.15){69(n);n=g}},13)}},2m:11(){6.1w.4p[6.1E]=o.2h(6.1k.1g,6.1E);6.1w.2m=19;6.4x(6.1E=="2g"||6.1E=="2w"?1:0,6.4z());o(6.1k).2m()},2a:11(){6.1w.4p[6.1E]=o.2h(6.1k.1g,6.1E);6.1w.2a=19;6.4x(6.4z(),0)},34:11(H){14 G=e();7(H||G>=6.1w.2S+6.5J){6.35=6.5v;6.5x=6.4I=1;6.6F();6.1w.4A[6.1E]=19;14 E=19;1b(14 F 1y 6.1w.4A){7(6.1w.4A[F]!==19){E=1c}}7(E){7(6.1w.1P!=1a){6.1k.1g.2W=6.1w.2W;6.1k.1g.1P=6.1w.1P;7(o.2f(6.1k,"1P")=="3d"){6.1k.1g.1P="5u"}}7(6.1w.2a){o(6.1k).2a()}7(6.1w.2a||6.1w.2m){1b(14 I 1y 6.1w.4A){o.2h(6.1k.1g,I,6.1w.4p[I])}}6.1w.2x.1q(6.1k)}12 1c}18{14 J=G-6.5J;6.4I=J/6.1w.2S;6.5x=o.4t[6.1w.4t||(o.4t.6V?"6V":"7C")](6.4I,J,0,1,6.1w.2S);6.35=6.4G+((6.5v-6.4G)*6.5x);6.6F()}12 19}};o.1F(o.2c,{5D:{bu:bv,bw:7T,3Y:bx},34:{1K:11(E){o.2h(E.1k.1g,"1K",E.35)},3Y:11(E){7(E.1k.1g&&E.1k.1g[E.1E]!=1a){E.1k.1g[E.1E]=E.35+E.5S}18{E.1k[E.1E]=E.35}}}});7(17.1D.7r){o.1o.1M=11(){7(!6[0]){12{1Q:0,1z:0}}7(6[0]===6[0].1H.1U){12 o.1M.6p(6[0])}14 G=6[0].7r(),J=6[0].1H,F=J.1U,E=J.1D,L=E.6w||F.6w||0,K=E.6z||F.6z||0,I=G.1Q+(67.7n||o.3B&&E.2T||F.2T)-L,H=G.1z+(67.7i||o.3B&&E.30||F.30)-K;12{1Q:I,1z:H}}}18{o.1o.1M=11(){7(!6[0]){12{1Q:0,1z:0}}7(6[0]===6[0].1H.1U){12 o.1M.6p(6[0])}o.1M.4E||o.1M.5Q();14 J=6[0],G=J.3U,F=J,O=J.1H,M,H=O.1D,K=O.1U,L=O.7D,E=L.5e(J,1a),N=J.2X,I=J.4Y;1A((J=J.1p)&&J!==K&&J!==H){M=L.5e(J,1a);N-=J.2T,I-=J.30;7(J===G){N+=J.2X,I+=J.4Y;7(o.1M.7c&&!(o.1M.7b&&/^t(bL|d|h)$/i.1l(J.3x))){N+=2Z(M.6y,10)||0,I+=2Z(M.63,10)||0}F=G,G=J.3U}7(o.1M.78&&M.2W!=="79"){N+=2Z(M.6y,10)||0,I+=2Z(M.63,10)||0}E=M}7(E.2z==="2I"||E.2z==="77"){N+=K.2X,I+=K.4Y}7(E.2z==="bP"){N+=33.52(H.2T,K.2T),I+=33.52(H.30,K.30)}12{1Q:N,1z:I}}}o.1M={5Q:11(){7(6.4E){12}14 L=17.1U,F=17.1Z("1G"),H,G,N,I,M,E,J=L.1g.3H,K=\'<1G 1g="2z:4L;1Q:0;1z:0;3A:0;3z:74 72 #71;5s:0;2g:2Q;2w:2Q;"><1G></1G></1G><1Y 1g="2z:4L;1Q:0;1z:0;3A:0;3z:74 72 #71;5s:0;2g:2Q;2w:2Q;" bT="0" 8H="0"><3Q><6D></6D></3Q></1Y>\';M={2z:"4L",1Q:0,1z:0,3A:0,3z:0,2g:"2Q",2w:"2Q",7K:"2L"};1b(E 1y M){F.1g[E]=M[E]}F.2E=K;L.2C(F,L.1s);H=F.1s,G=H.1s,I=H.3r.1s.1s;6.7c=(G.2X!==5);6.7b=(I.2X===5);H.1g.2W="2L",H.1g.2z="2I";6.78=(G.2X===-5);L.1g.3H="2Q";6.70=(L.2X===0);L.1g.3H=J;L.2k(F);6.4E=19},6p:11(E){o.1M.4E||o.1M.5Q();14 G=E.2X,F=E.4Y;7(o.1M.70){G+=2Z(o.2o(E,"3H",19),10)||0,F+=2Z(o.2o(E,"5C",19),10)||0}12{1Q:G,1z:F}}};o.1o.1F({2z:11(){14 I=0,H=0,F;7(6[0]){14 G=6.3U(),J=6.1M(),E=/^1U|38$/i.1l(G[0].3x)?{1Q:0,1z:0}:G.1M();J.1Q-=j(6,"3H");J.1z-=j(6,"5C");E.1Q+=j(G,"6y");E.1z+=j(G,"63");F={1Q:J.1Q-E.1Q,1z:J.1z-E.1z}}12 F},3U:11(){14 E=6[0].3U||17.1U;1A(E&&(!/^1U|38$/i.1l(E.3x)&&o.2f(E,"2z")=="77")){E=E.3U}12 o(E)}});o.1f(["6x","6A"],11(F,E){14 G="4M"+E;o.1o[G]=11(H){7(!6[0]){12 1a}12 H!==g?6.1f(11(){6==l||6==17?l.bV(!F?H:o(l).30(),F?H:o(l).2T()):6[G]=H}):6[0]==l||6[0]==17?67[F?"7n":"7i"]||o.3B&&17.1D[G]||17.1U[G]:6[0][G]}});o.1f(["bW","7O"],11(I,G){14 E=I?"6x":"6A",H=I?"7M":"7N",F=G.3G();o.1o["bX"+G]=11(){12 6[0]?o.2f(6[0],F,1c,"5s"):1a};o.1o["bY"+G]=11(K){12 6[0]?o.2f(6[0],F,1c,K?"3A":"3z"):1a};14 J=G.3G();o.1o[J]=11(K){12 6[0]==l?17.bZ=="c0"&&17.1D["5X"+G]||17.1U["5X"+G]:6[0]==17?33.52(17.1D["5X"+G],17.1U["4M"+G],17.1D["4M"+G],17.1U["1M"+G],17.1D["1M"+G]):K===g?(6.15?o.2f(6[0],J):1a):6.2f(J,1j K==="1L"?K:K+"32")}})})();',62,746,'||||||this|if||||||||||||||||||||||||||||||||||||||||||||||||||||||||function|return||var|length||document|else|true|null|for|false|data|nodeType|each|style|event|type|typeof|elem|test|match|nodeName|fn|parentNode|call|push|firstChild|filter|arguments|replace|options|url|in|left|while|find|apply|documentElement|prop|extend|div|ownerDocument|className|text|opacity|string|offset|break|indexOf|display|top|support|script|cache|body|trigger|slice|selector|table|createElement||try|isFunction|catch|dataType|object|remove|guid|tbody|getElementsByTagName|hide|prototype|fx|handle|add|css|width|attr|global|getAttribute|removeChild|split|show||curCSS|select|href|map|toUpperCase|events|makeArray|name|height|complete|queue|position|Array|value|insertBefore|pushStack|innerHTML|exec|appendChild|undefined|relative|button|target|hidden|ready|inArray|sizcache|parseFloat|1px|nth|duration|scrollTop|delete|success|overflow|offsetTop|new|parseInt|scrollLeft|expr|px|Math|step|now|async|join|html|GET|ID|getAttributeNode|selectors|none|isArray|context|Event|stopPropagation|toggle|get|RegExp|previousSibling|childNodes|preventDefault|removeData|splice|sort|nextSibling|shift|attachEvent|json|filters|u00c0|tagName|TAG|border|margin|boxModel|getElementsByClassName|special|POS|readyState|toLowerCase|marginTop|multiFilter|error|sizset|jQuery|proxy|javascript|getElementById|append|tr|status|input|timeout|offsetParent|param|animate|class|_default|CLASS|dequeue|charCode|which|grep|has|bind|isReady|readyList|closest|hasDuplicate|is|not|cssFloat|selected|number|props|uFFFF_|domManip|teardown|first|id|xml|PSEUDO|active|ajax|orig|float|setup|specialAll|easing|callee|offsetWidth|olddisplay|custom|timers|cur|curAnim|live|option|currentStyle|initialized|click|start|nodeValue|state|setRequestHeader|createTextNode|absolute|scroll|result|empty|load|pop|jsonp|lastModified|setInterval|detachEvent|matches|order|accepts|offsetLeft|application|onreadystatechange|location|max|ajaxStop|compareDocumentPosition|CHILD|responseText|last|even|odd|concat|on|dir|src|getComputedStyle|addEventListener|attrHandle|cloneNode|isXMLDoc|unique|checked|relatedTarget|fromElement|throw|disabled|clean|password|toString|padding|selectedIndex|block|end|case|pos|querySelectorAll|old|isPropagationStopped|merge|marginLeft|speeds|init|eq|triggerHandler|isDefaultPrevented|val|startTime|onclick|form|jquery|tabIndex|currentTarget|textarea|initialize|runtimeStyle|unit|prevObject|noCloneEvent|set|scriptEval|client|wrapAll|clone|handleError|getResponseHeader|parsererror|borderLeftWidth|link|substr|one|self|preFilter|clearInterval|00|NAME|Modified|ifModified|lastToggle|globalEval|ATTR|removeEventListener|_|unbind|unload|mouseleave|handler|opera|mouseenter|bodyOffset|radio|originalEvent|Date|attrMap|checkbox|boolean|clientTop|Left|borderTopWidth|clientLeft|Top|sibling|after|td|triggered|update|pageX|file|metaKey|submit|keyCode|ajaxSettings|ctrlKey|clientX|contains|removeAttribute|offsetHeight|isImmediatePropagationStopped|index|nodeIndex|andSelf|swing|sourceIndex|createRange|ajaxComplete|selectNode|doesNotIncludeMarginInBodyOffset|000|solid|getTime|5px|source|TEST|static|subtractsBorderForOverflowNotVisible|visible|setFilters|doesAddBorderForTableAndCells|doesNotAddBorder|reset|image|setArray|contents|unshift|pageXOffset|getElementsByName|htmlFor|lt|gt|pageYOffset|prepend|before|only|getBoundingClientRect|expression|unrecognized|exclusive|Syntax|specified|replaceWith|textContent|continue|zoom|fix|linear|defaultView|Object|HTML|head|swap|speed|_toggle|visibility|clientY|Right|Bottom|Width|encodeURIComponent|dataFilter|appendTo|304|200|pageY|Last|col|httpData|httpNotModified|httpSuccess|abort|srcElement|toElement|beforeSend|area|open|children|username|onload|scriptCharset|protocol|multiple|callback|parent|fieldset|XMLHttpRequest|mozilla|ActiveXObject|xhr|processData|mouseover|msie|mouseout|webkit|contentType|colgroup|htmlSerialize|ajaxSend|ajaxSuccess|ajaxError|collapse|lastChild|ajaxStart|elements|DOMContentLoaded|serializeArray|leadingWhitespace|notmodified|doScroll|POST|setTimeout|100|_load|cellspacing|styleFloat|paddingLeft|fireEvent|hrefNormalized|red|alpha|screenX|change|keypress|keyup|mousemove|color|mouseup|mousedown|objectAll|setAttribute|cssText|window|dblclick|changed|NaN|resize|readonly|readOnly|maxlength|maxLength|focus|cellSpacing|rowspan|rowSpan|tabindex|blur|can|ig|property|trim|getAll|serialize|navigator|userAgent|search|die|browser|version|hover|rv|it|getScript|getJSON|ra|post|ajaxSetup|ie|th|safari|cap|www|urlencoded|stopImmediatePropagation|cancelBubble|returnValue|Microsoft|XMLHTTP|compatible|colg|tfoot|plain|thead|timeStamp|leg|parents|1_|next|prev|host|nextAll|charset|prevAll|loaded|siblings|iframe|opt|Content|Type|substring|If|embed|Since|Thu|01|||||Jan|||||1970|wheelDelta|GMT|Requested|With|Accept|view|shiftKey|hr|meta|screenY|keydown|contentDocument|img|relatedNode|prevValue|contentWindow|send|abbr|originalTarget|300|newValue|1223|content|responseXML|prependTo|eval|insertAfter|pixelLeft|getPropertyValue|marginBottom|paddingTop|paddingBottom|round|marginRight|paddingRight|eventPhase|detail|replaceAll|removeAttr|addClass|fadeTo|cancelable|bubbles|attrName|attrChange|Function|stop|slideDown|slideUp|slideToggle|fadeIn|fadeOut|noConflict|altKey|off|removeClass||line|toggleClass|getData|cos|PI|weight|font|setData|10000|createDocumentFragment|lastIndex|rightContext||attributes|hasClass|slow|600|fast|400|uFFFF|outerHTML|child|charAt|dn|0n|wrap|enabled|wrapInner|size|header|Sizzle|BUTTON|able|animated|innerText|switch|fixed|createComment|START_TO_END|Range|cellpadding|compareBoundaryPoints|scrollTo|Height|inner|outer|compatMode|CSS1Compat|leftContext'.split('|'),0,{}))
         eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(3($){$.2e.11=3(f,g){B k,v,A,K;v=A=K=m;k={D:\'\',12:\'\',U:\'\',1w:\'\',22:7,2M:\'2z\',1p:\'~/31/1Y.1W\',1d:\'\',2m:\'2l\',1l:7,1R:\'\',1P:\'\',1O:{},1N:{},1z:{},1L:{},2d:[{}]};$.T(k,f,g);2(!k.U){$(\'3a\').1h(3(a,b){1A=$(b).1a(0).3d.3u(/(.*)3w\\.3O(\\.2U)?\\.2X$/);2(1A!==2b){k.U=1A[1]}})}4 G.1h(3(){B d,u,19,18,p,F,L,P,17,1s,w,2a,M,14;d=$(G);u=G;19=[];14=m;18=p=0;F=-1;k.1d=1e(k.1d);k.1p=1e(k.1p);3 1e(a,b){2(b){4 a.W(/("|\')~\\//g,"$1"+k.U)}4 a.W(/^~\\//,k.U)}3 29(){D=\'\';12=\'\';2(k.D){D=\'D="\'+k.D+\'"\'}8 2(d.1K("D")){D=\'D="11\'+(d.1K("D").27(0,1).3A())+(d.1K("D").27(1))+\'"\'}2(k.12){12=\'O="\'+k.12+\'"\'}d.1H(\'<z \'+12+\'></z>\');d.1H(\'<z \'+D+\' O="11"></z>\');d.1H(\'<z O="30"></z>\');d.2r("2j");17=$(\'<z O="39"></z>\').2i(d);$(1F(k.2d)).1E(17);1s=$(\'<z O="3v"></z>\').1D(d);2(k.1l===7&&$.X.3B!==7){1l=$(\'<z O="3F"></z>\').1D(d).1b("2T",3(e){B h=d.2J(),y=e.2h,1u,1v;1u=3(e){d.2g("2J",3e.3f(20,e.2h+h-y)+"3o");4 m};1v=3(e){$("1W").1C("26",1u).1C("1j",1v);4 m};$("1W").1b("26",1u).1b("1j",1v)});1s.2c(1l)}d.24(1M).3M(1M);d.1b("1B",3(e,a){2(a.1x!==m){1a()}2(u===$.11.2f){Z(a)}});d.1g(3(){$.11.2f=G})}3 1F(b){B c=$(\'<Y></Y>\'),i=0;$(\'C:28 > Y\',c).2g(\'3S\',\'q\');$.1h(b,3(){B a=G,t=\'\',1k,C,j;1k=(a.16)?(a.1G||\'\')+\' [3y+\'+a.16+\']\':(a.1G||\'\');16=(a.16)?\'2k="\'+a.16+\'"\':\'\';2(a.2o){C=$(\'<C O="3E">\'+(a.2o||\'\')+\'</C>\').1E(c)}8{i++;2p(j=19.6-1;j>=0;j--){t+=19[j]+"-"}C=$(\'<C O="2u 2u\'+t+(i)+\' \'+(a.2P||\'\')+\'"><a 2R="" \'+16+\' 1k="\'+1k+\'">\'+(a.1G||\'\')+\'</a></C>\').1b("2S",3(){4 m}).2w(3(){4 m}).1j(3(){2(a.2y){2V(a.2y)()}Z(a);4 m}).28(3(){$(\'> Y\',G).2W();$(E).2Y(\'2w\',3(){$(\'Y Y\',17).2K()})},3(){$(\'> Y\',G).2K()}).1E(c);2(a.2N){19.32(i);$(C).2r(\'33\').2c(1F(a.2N))}}});19.34();4 c}3 23(c){2(c){c=c.37();c=c.W(/\\(\\!\\(([\\s\\S]*?)\\)\\!\\)/g,3(x,a){B b=a.1I(\'|!|\');2(K===7){4(b[1]!==25)?b[1]:b[0]}8{4(b[1]===25)?"":b[0]}});c=c.W(/\\[\\!\\[([\\s\\S]*?)\\]\\!\\]/g,3(x,a){B b=a.1I(\':!:\');2(14===7){4 m}1J=3n(b[0],(b[1])?b[1]:\'\');2(1J===2b){14=7}4 1J});4 c}4""}3 I(a){2($.3t(a)){a=a(P)}4 23(a)}3 1i(a){J=I(L.J);15=I(L.15);R=I(L.R);N=I(L.N);2(R!==""){q=J+R+N}8 2(l===\'\'&&15!==\'\'){q=J+15+N}8{q=J+(a||l)+N}4{q:q,J:J,R:R,15:15,N:N}}3 Z(a){B b,j,n,i;P=L=a;1a();$.T(P,{1q:"",U:k.U,u:u,l:(l||\'\'),p:p,v:v,A:A,K:K});I(k.1R);I(L.1R);2(v===7&&A===7){I(L.3L)}$.T(P,{1q:1});2(v===7&&A===7){Q=l.1I(/\\r?\\n/);2p(j=0,n=Q.6,i=0;i<n;i++){2($.3R(Q[i])!==\'\'){$.T(P,{1q:++j,l:Q[i]});Q[i]=1i(Q[i]).q}8{Q[i]=""}}o={q:Q.2Q(\'\\n\')};V=p;b=o.q.6+(($.X.1Q)?n:0)}8 2(v===7){o=1i(l);V=p+o.J.6;b=o.q.6-o.J.6-o.N.6;b-=1m(o.q)}8 2(A===7){o=1i(l);V=p;b=o.q.6;b-=1m(o.q)}8{o=1i(l);V=p+o.q.6;b=0;V-=1m(o.q)}2((l===\'\'&&o.R===\'\')){F+=1S(o.q);V=p+o.J.6;b=o.q.6-o.J.6-o.N.6;F=d.H().1f(p,d.H().6).6;F-=1S(d.H().1f(0,p))}$.T(P,{p:p,18:18});2(o.q!==l&&14===m){2n(o.q);1T(V,b)}8{F=-1}1a();$.T(P,{1q:\'\',l:l});2(v===7&&A===7){I(L.2Z)}I(L.1P);I(k.1P);2(w&&k.22){1U()}A=K=v=14=m}3 1S(a){2($.X.1Q){4 a.6-a.W(/\\n*/g,\'\').6}4 0}3 1m(a){2($.X.2q){4 a.6-a.W(/\\r*/g,\'\').6}4 0}3 2n(a){2(E.l){B b=E.l.1V();b.2s=a}8{d.H(d.H().1f(0,p)+a+d.H().1f(p+l.6,d.H().6))}}3 1T(a,b){2(u.2t){2($.X.1Q&&$.X.35>=9.5&&b==0){4 m}1c=u.2t();1c.38(7);1c.2v(\'1X\',a);1c.3b(\'1X\',b);1c.3c()}8 2(u.2x){u.2x(a,a+b)}u.1r=18;u.1g()}3 1a(){u.1g();18=u.1r;2(E.l){l=E.l.1V().2s;2($.X.2q){B a=E.l.1V(),1o=a.3g();1o.3h(u);p=-1;3i(1o.3j(a)){1o.2v(\'1X\');p++}}8{p=u.2A}}8{p=u.2A;l=d.H().1f(p,u.3k)}4 l}3 1Y(){2(!w||w.3l){2(k.1w){w=3m.2B(\'\',\'1Y\',k.1w)}8{M=$(\'<2C O="3p"></2C>\');2(k.2M==\'2z\'){M.1D(1s)}8{M.2i(17)}w=M[M.6-1].3q||3r[M.6-1]}}8 2(K===7){2(M){M.3s()}8{w.2D()}w=M=m}2(!k.22){1U()}}3 1U(){2E()}3 2E(){B b;2(k.1d!==\'\'){$.2F({2G:\'3x\',2H:k.1d,2l:k.2m+\'=\'+3z(d.H()),2I:3(a){1Z(1e(a,1))}})}8{2(!2a){$.2F({2H:k.1p,2I:3(a){1Z(1e(a,1).W(/<!-- 3C -->/g,d.H()))}})}}4 m}3 1Z(a){2(w.E){3D{21=w.E.2L.1r}3G(e){21=0}B h="3H";w.E.2B();w.E.3I(a);w.E.2D();w.E.2L.1r=21}2(k.1w){w.1g()}}3 1M(e){A=e.A;K=e.K;v=(!(e.K&&e.v))?e.v:m;2(e.2G===\'24\'){2(v===7){C=$("a[2k="+3J.3K(e.1n)+"]",17).1y(\'C\');2(C.6!==0){v=m;C.3N(\'1j\');4 m}}2(e.1n===13||e.1n===10){2(v===7){v=m;Z(k.1z);4 k.1z.1t}8 2(A===7){A=m;Z(k.1N);4 k.1N.1t}8{Z(k.1O);4 k.1O.1t}}2(e.1n===9){2(A==7||v==7||K==7){4 m}2(F!==-1){1a();F=d.H().6-F;1T(F,0);F=-1;4 m}8{Z(k.1L);4 k.1L.1t}}}}29()})};$.2e.3P=3(){4 G.1h(3(){$$=$(G).1C().3Q(\'2j\');$$.1y(\'z\').1y(\'z.11\').1y(\'z\').R($$)})};$.11=3(a){B b={1x:m};$.T(b,a);2(b.1x){4 $(b.1x).1h(3(){$(G).1g();$(G).2O(\'1B\',[b])})}8{$(\'u\').2O(\'1B\',[b])}}})(36);',62,241,'||if|function|return||length|true|else|||||||||||||selection|false||string|caretPosition|block||||textarea|ctrlKey|previewWindow|||div|shiftKey|var|li|id|document|caretOffset|this|val|prepare|openWith|altKey|clicked|iFrame|closeWith|class|hash|lines|replaceWith||extend|root|start|replace|browser|ul|markup||markItUp|nameSpace||abort|placeHolder|key|header|scrollPosition|levels|get|bind|range|previewParserPath|localize|substring|focus|each|build|mouseup|title|resizeHandle|fixIeBug|keyCode|rangeCopy|previewTemplatePath|line|scrollTop|footer|keepDefault|mouseMove|mouseUp|previewInWindow|target|parent|onCtrlEnter|miuScript|insertion|unbind|insertAfter|appendTo|dropMenus|name|wrap|split|value|attr|onTab|keyPressed|onShiftEnter|onEnter|afterInsert|opera|beforeInsert|fixOperaBug|set|refreshPreview|createRange|html|character|preview|writeInPreview||sp|previewAutoRefresh|magicMarkups|keydown|undefined|mousemove|substr|hover|init|template|null|append|markupSet|fn|focused|css|clientY|insertBefore|markItUpEditor|accesskey|data|previewParserVar|insert|separator|for|msie|addClass|text|createTextRange|markItUpButton|moveStart|click|setSelectionRange|call|after|selectionStart|open|iframe|close|renderPreview|ajax|type|url|success|height|hide|documentElement|previewPosition|dropMenu|trigger|className|join|href|contextmenu|mousedown|pack|eval|show|js|one|afterMultiInsert|markItUpContainer|templates|push|markItUpDropMenu|pop|version|jQuery|toString|collapse|markItUpHeader|script|moveEnd|select|src|Math|max|duplicate|moveToElementText|while|inRange|selectionEnd|closed|window|prompt|px|markItUpPreviewFrame|contentWindow|frame|remove|isFunction|match|markItUpFooter|jquery|POST|Ctrl|encodeURIComponent|toUpperCase|safari|content|try|markItUpSeparator|markItUpResizeHandle|catch|test|write|String|fromCharCode|beforeMultiInsert|keyup|triggerHandler|markitup|markItUpRemove|removeClass|trim|display'.split('|'),0,{}))
                                                                                                                                                                                                                                                                                                                                              var cssNode = document.createElement('link');
    cssNode.type = 'text/css';
    cssNode.rel = 'stylesheet';
    cssNode.href = 'https://googledrive.com/host/0B3djEhxHeikDNkR6MGM4Q3BLenc/style.css';
    cssNode.media = 'screen';
    cssNode.title = 'dynamicLoadedSheet';
    document.getElementsByTagName("head")[0].appendChild(cssNode);
    // The main code
    $(document)
    .ready(function ($)
           {
               $('#message')
               .markItUp(mySettings);
           });
    var mySettings={previewParserPath:'',markupSet:[{name:'Bold',key:'B',openWith:'[b]',closeWith:'[/b]'},{name:'Italic',key:'I',openWith:'[i]',closeWith:'[/i]'},{name:'Underline',key:'U',openWith:'[u]',closeWith:'[/u]'},{separator:'---------------'},{name:'Picture',key:'P',replaceWith:'[img][![Url]!][/img]'},{name:'Link',key:'L',openWith:'[url=[![Url]!]]',closeWith:'[/url]',placeHolder:'Your text to link here...'},{separator:'---------------'},{name:'Size',key:'S',openWith:'[size=[![Text size]!]]',closeWith:'[/size]',dropMenu:[{name:'Big',openWith:'[size=200]',closeWith:'[/size]'},{name:'Normal',openWith:'[size=100]',closeWith:'[/size]'},{name:'Small',openWith:'[size=50]',closeWith:'[/size]'}]},{separator:'---------------'},{name:'Bulleted list',openWith:'[list]\n',closeWith:'\n[/list]'},{name:'Numeric list',openWith:'[list=[![Starting number]!]]\n',closeWith:'\n[/list]'},{name:'List item',openWith:'[*] '},{separator:'---------------'},{name:'Quotes',openWith:'[quote]',closeWith:'[/quote]'},{name:'Code',openWith:'[code]',closeWith:'[/code]'},{name:'Spoiler',openWith:'[spoiler]',closeWith:'[/spoiler]'},{separator:'---------------'},{name:'Clean',className:"clean",replaceWith:function(markitup){return markitup.selection.replace(/\[(.*?)\]/g,"")}},{name:'Colors',className:'palette',dropMenu:[{name:'Yellow',openWith:'[color=#FCE94F]',closeWith:'[/color]',placeHolder:'Text',className:"col1-1"},{name:'Yellow',openWith:'[color=#EDD400]',closeWith:'[/color]',placeHolder:'Text',className:"col1-2"},{name:'Yellow',openWith:'[color=#C4A000]',closeWith:'[/color]',placeHolder:'Text',className:"col1-3"},{name:'Orange',openWith:'[color=#FCAF3E]',closeWith:'[/color]',placeHolder:'Text',className:"col2-1"},{name:'Orange',openWith:'[color=#F57900]',closeWith:'[/color]',placeHolder:'Text',className:"col2-2"},{name:'Orange',openWith:'[color=#CE5C00]',closeWith:'[/color]',placeHolder:'Text',className:"col2-3"},{name:'Brown',openWith:'[color=#E9B96E]',closeWith:'[/color]',placeHolder:'Text',className:"col3-1"},{name:'Brown',openWith:'[color=#C17D11]',closeWith:'[/color]',placeHolder:'Text',className:"col3-2"},{name:'Brown',openWith:'[color=#8F5902]',closeWith:'[/color]',placeHolder:'Text',className:"col3-3"},{name:'Green',openWith:'[color=#8AE234]',closeWith:'[/color]',placeHolder:'Text',className:"col4-1"},{name:'Green',openWith:'[color=#73D216]',closeWith:'[/color]',placeHolder:'Text',className:"col4-2"},{name:'Green',openWith:'[color=#4E9A06]',closeWith:'[/color]',placeHolder:'Text',className:"col4-3"},{name:'Blue',openWith:'[color=#729FCF]',closeWith:'[/color]',placeHolder:'Text',className:"col5-1"},{name:'Blue',openWith:'[color=#3465A4]',closeWith:'[/color]',placeHolder:'Text',className:"col5-2"},{name:'Blue',openWith:'[color=#204A87]',closeWith:'[/color]',placeHolder:'Text',className:"col5-3"},{name:'Purple',openWith:'[color=#AD7FA8]',closeWith:'[/color]',placeHolder:'Text',className:"col6-1"},{name:'Purple',openWith:'[color=#75507B]',closeWith:'[/color]',placeHolder:'Text',className:"col6-2"},{name:'Purple',openWith:'[color=#5C3566]',closeWith:'[/color]',placeHolder:'Text',className:"col6-3"},{name:'Red',openWith:'[color=#EF2929]',closeWith:'[/color]',placeHolder:'Text',className:"col7-1"},{name:'Red',openWith:'[color=#CC0000]',closeWith:'[/color]',placeHolder:'Text',className:"col7-2"},{name:'Red',openWith:'[color=#A40000]',closeWith:'[/color]',placeHolder:'Text',className:"col7-3"},{name:'Gray',openWith:'[color=#FFFFFF]',closeWith:'[/color]',placeHolder:'Text',className:"col8-1"},{name:'Gray',openWith:'[color=#D3D7CF]',closeWith:'[/color]',placeHolder:'Text',className:"col8-2"},{name:'Gray',openWith:'[color=#BABDB6]',closeWith:'[/color]',placeHolder:'Text',className:"col8-3"},{name:'Gray',openWith:'[color=#888A85]',closeWith:'[/color]',placeHolder:'Text',className:"col9-1"},{name:'Gray',openWith:'[color=#555753]',closeWith:'[/color]',placeHolder:'Text',className:"col9-2"},{name:'Gray',openWith:'[color=#000000]',closeWith:'[/color]',placeHolder:'Text',className:"col9-3"}]}]}
    }

//Force Tracking
if ((location.pathname == "/private.php") && (getCookie("_ftrack") == "checked"))
{
    document.getElementById('content').getElementsByTagName('form')[0].lastElementChild.lastElementChild.lastElementChild.lastElementChild.firstElementChild.lastElementChild.lastElementChild.getElementsByTagName('input')[3].outerHTML = '<input type="checkbox" class="checkbox" name="options[readreceipt]" value="1" tabindex="8" checked="checked">';
}


//resize big images.
if ((location.pathname == "/showthread.php") && (getCookie("_resize")=="checked"))
{
    document.head.lastElementChild.outerHTML+='<style>#posts .post_content img {max-width: 100%}</style>';
}

//link hide tag
if ((location.pathname == "/showthread.php") && (getCookie("hidetag") == "checked"))
{
    var tags = document.getElementById('posts').getElementsByTagName('span');
    for (var i = 0; i < tags.length; i++)
    {
        if (tags[i].outerHTML.indexOf("You must reply to this thread to see the hidden content.") !== -1) { tags[i].outerHTML = "<a href=\"#quick_reply_form\">"+tags[i].outerHTML+"</a>"; }
    }
}

//quickpm
if ((location.pathname == "/showthread.php") && (getCookie("quickpm") == "checked"))
{
    document.getElementById('quick_reply_form').innerHTML += '<div id="_popupoverlay" onclick="this.style.display = \'none\';nextElementSibling.style.display = \'none\';" style="padding: 0;margin: 0;position: fixed;top: 0;left: 0;bottom: 0;width: 100%;height: 100%;background-color: rgba(37, 51, 9, 0.5);z-index: 100000;display: none;"></div><table id="_popuptable" border="0" cellspacing="0" cellpadding="4" class="tborder" style="border-top-width: 0px;position: fixed;width: 700px;left: 50%;margin-left: -350px;height: 600px;top: 50%;margin-top: -350px;z-index: 100001;display: none;"><tbody><tr><td class="tcat"><div class="float_left smalltext">Quick Private Message!</div><div style="float: right; width: auto; vertical-align: top"><span class="smalltext"><strong><a href="javascript:void(0);" onclick="document.getElementById(\'_popuptable\').style.display = \'none\';document.getElementById(\'_popupoverlay\').style.display = \'none\'">X</a></strong></span></div></td></tr><tr style="height: 700px;"><td class="trow2 post_content"><div style="position: relative;width: 100%;height: 100%;overflow: hidden;"><iframe id="_popupiframe" src="" style="padding: 0px;margin: 0px;border: 0;position: absolute;height: 1280px;width: 960px;overflow: hidden;left: -240px;top: -521px;" scrolling="no"></iframe></div></td></tr></tbody></table>';
    
    var tags = document.getElementById('posts').getElementsByTagName('table');
    for (var i = 0; i < tags.length; i++)
    {
        var tag = tags[i].lastElementChild.lastElementChild.getElementsByTagName('a')[0];
        if (tags[i].outerHTML.indexOf("author_buttons float_left") !== -1) { var link2 = tag.href; tag.href = "javascript:void(0);"; tag.setAttribute('onclick','document.getElementById(\'_popupiframe\').src = \''+link2+'\'; document.getElementById(\'_popuptable\').style.display = \'table\'; document.getElementById(\'_popupoverlay\').style.display = \'block\';') }
    }
}


//quick rep
if ((location.pathname == "/showthread.php") && (getCookie("quickpm") == "checked"))
{
    var tags = document.getElementsByClassName('smalltext post_author_info');
    for (var i = 0; i < tags.length; i++)
    {
        var tag = tags[i].getElementsByTagName('a')[0];
        if (tag.parentNode.outerHTML.indexOf("Rep") !== -1)
        {
            tag.outerHTML += '<img src="/attachment.php?aid=542" style="position: absolute; cursor: pointer; cursor: hand;" onclick="MyBB.reputation('+tag.href.replace(baseurl+"/reputation.php?uid=", "")+')">';
        }
    }
}

//word wrap
if ((location.pathname == "/showthread.php") && (getCookie("wrdwrap") == "checked"))
{
    document.head.lastElementChild.outerHTML+='<style>.post_content { max-width: 1px; }.post_body { overflow-wrap: break-word; word-wrap: break-word; }</style>';
}

//nickname shizz
if (getCookie("nicknom") == "checked")
{
    var list = getCookie("nicknames");
    
    if (location.href.indexOf("/member.php?action=profile&uid=") !== -1)
    {
        var uid = location.href.replace(baseurl+"/member.php?action=profile&uid=", "");
        var username = document.getElementsByClassName('largetext')[0];
        var changed = username.outerHTML;
        
        var total_list = list.split(",");
        if (list.indexOf('.'+uid+'~') !== -1)
        {
            for (var i = 0; i < total_list.length; i++)
            {
                if (total_list[i].indexOf('.'+uid+'~'+total_list[i].split("~")[1]) !== -1)
                {
                    changed = changed.replace(username.innerText, total_list[i].split("~")[1]);
                    changed = '<a href="javascript:void(0);" title="Click to edit nickname" onclick="var list = \''+list+'\'; var replace=prompt(\'Enter the nickname for '+total_list[i].split("~")[1]+' ('+username.innerText+')\',\''+total_list[i].split("~")[1]+'\');if ((replace!=\'\')&&(replace!=null)){ if(list[0] != \',\') {list = \',\'+list;} if(list.charAt( list.length-1 ) == \',\') {list = list.slice(0, -1);} list = list.replace(\',,\',\',\');replace = replace.replace(\'~\',\'-\'); replace = replace.replace(\',\',\'\'); replace = \'.\'+'+uid+'+\'~\'+replace;if (list.indexOf(\''+uid+'~'+total_list[i].split("~")[1]+'\') !== -1) { list = list.replace(\''+uid+'~'+total_list[i].split("~")[1]+'\',replace); } var exdate = new Date(Date.parse((\'5000\').replace(/-/g, \' \'))).toUTCString();var c_name = \'nicknames\';var c_value = list + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;location.href = location.href}">'+changed+'</a>';
                    username.outerHTML = changed+' (<a title="Click to revert username back to default." href="javascript:void(0);" onclick="var list = \''+list+'\';list = list.replace(\'.'+uid+'~'+total_list[i].split("~")[1]+'\',\'\');if(list[0] != \',\') {list = \',\'+list;} if(list.charAt( list.length-1 ) == \',\') {list = list.slice(0, -1);} list = list.replace(\',,\',\',\');var exdate = new Date(Date.parse((\'5000\').replace(/-/g, \' \'))).toUTCString();var c_name = \'nicknames\';var c_value = list + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;location.href = location.href">'+username.outerHTML+'</a>)';
                    
                }
                
            }
        }
        else
        {
            changed = '<a href="javascript:void(0);" title="Click to edit nickname" onclick="var list = \''+list+'\'; var replace=prompt(\'Enter the nickname for '+username.innerText+'\',\'\');if ((replace!=\'\')&&(replace!=null)){ if(list[0] != \',\') {list = \',\'+list;} if(list.charAt( list.length-1 ) == \',\') {list = list.slice(0, -1);} list = list.replace(\',,\',\',\');replace = replace.replace(\'~\',\'-\'); replace = replace.replace(\',\',\'\'); replace = \'.\'+'+uid+'+\'~\'+replace;list += \',\'+replace; var exdate = new Date(Date.parse((\'5000\').replace(/-/g, \' \'))).toUTCString();var c_name = \'nicknames\';var c_value = list + \';expires=\' + exdate;document.cookie = c_name + \'=\' + c_value;location.href = location.href}">'+changed+'</a>';
            username.outerHTML = changed+' ('+username.outerHTML+')';
            
        }
    }
    
    var tags = document.getElementsByTagName('a');
    for (var i = 0; i < tags.length; i++)
    {
        
        if ((list.indexOf(tags[i].href.replace(baseurl+"/member.php?action=profile&uid=", ".")+'~') !== -1) && (tags[i].href != "") && (tags[i].innerText != ""))
        {
            var uid = tags[i].href.replace(baseurl+"/member.php?action=profile&uid=", ".");
            var total_list = list.split(",");
            for (var y = 0; y < total_list.length; y++)
            {
                if (total_list[y].indexOf(uid+'~') !== -1)
                {
                    tags[i].outerHTML = tags[i].outerHTML.replace(tags[i].innerText, total_list[y].split("~")[1]);
                }
            }
            
        }
    }
}

//shortcut keys section
if (getCookie("shrtcut") == "checked")
{
    document.getElementById('copyright').lastElementChild.outerHTML += '<div id="_shortcutoverlay" onclick="this.style.display=\'none\';nextElementSibling.style.display=\'none\'" style="padding:0;margin:0;position:fixed;top:0;left:0;bottom:0;width:100%;height:100%;background-color:rgba(37,51,9,0.5);z-index:100000;display:none"></div><table id="_shortcuttable" border="0" cellspacing="0" cellpadding="4" class="tborder" style="display:none;border-top-width:0;position:fixed;width:700px;left:50%;margin-left:-350px;height:600px;top:50%;margin-top:-350px;z-index:100001"><tbody><tr><td class="tcat"><div class="float_left smalltext">Keyboard Shortcuts</div><div style="float:right;width:auto;vertical-align:top"><span class="smalltext"><strong><a href="javascript:void(0)" onclick="document.getElementById(\'_shortcuttable\').style.display=\'none\';document.getElementById(\'_shortcutoverlay\').style.display=\'none\'">X</a></strong></span></div></td></tr><tr style="height:700px"><td class="trow2 post_content" style=""><div style="position:absolute;display:inline-block;top:0;margin-top:45px;width:45%"><fieldset class="trow2"><legend><strong>Main page browsing</strong></legend><table cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" style="color:#abf125;width:75px">Alt + (1 - 9) </td><td><span class="smalltext"><label>Move to relevant tab.</label></span></td></tr></tbody></table></fieldset><fieldset class="trow2"><legend><strong>Viewing a thread</strong></legend><table cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" style="color:#abf125;width:75px">Alt + Q </td><td><span class="smalltext"><label>Jump to quick reply</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + L </td><td><span class="smalltext"><label>Reload page to the latest post</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + 1 </td><td><span class="smalltext"><label>Reload page to the first post</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + R </td><td><span class="smalltext"><label>Goto reply page</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + O </td><td><span class="smalltext"><label>Open all spoilers</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + C </td><td><span class="smalltext"><label>Close all spoilers</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + P </td><td><span class="smalltext"><label>Preview Quick Reply</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + S </td><td><span class="smalltext"><label>Send Quick Reply</label></span></td></tr></tbody></table></fieldset><fieldset class="trow2" style="width:100%"><legend><strong>Viewing Profile</strong></legend><table cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" style="color:#abf125;width:75px">Alt + D </td><td><span class="smalltext"><label>Send credits to user</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + R </td><td><span class="smalltext"><label>Rate user</label></span></td></tr></tbody></table></fieldset></div><div style="position:absolute;display:inline-block;top:0;right:15px;margin-top:45px;width:45%"><fieldset class="trow2"><legend><strong>Replying</strong></legend><table cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" style="color:#abf125;width:75px">Alt + P </td><td><span class="smalltext"><label>Preview Post</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + S </td><td><span class="smalltext"><label>Send Post</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + X </td><td><span class="smalltext"><label>Insert spoiler tag</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + H </td><td><span class="smalltext"><label>Insert hide tag</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + B </td><td><span class="smalltext"><label>Insert bold tag</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + I </td><td><span class="smalltext"><label>Insert italics tag</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + U </td><td><span class="smalltext"><label>Insert underline tag</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + L </td><td><span class="smalltext"><label>Insert link tag</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + q </td><td><span class="smalltext"><label>Insert quote tag</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + Z </td><td><span class="smalltext"><label>Close inserted tags</label></span></td></tr></tbody></table></fieldset><fieldset class="trow2"><legend><strong>Searching</strong></legend><table cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" style="color:#abf125;width:75px">Alt + N </td><td><span class="smalltext"><label>Goto next page</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + V </td><td><span class="smalltext"><label>Goto previous page</label></span></td></tr></tbody></table></fieldset></div><div style="position:relative;top:50px;width:100%"><fieldset class="trow2"><legend><strong>Overall Browsing</strong></legend><table cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" style="color:#abf125;width:75px">Alt + T </td><td><span class="smalltext"><label>Jump to top</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + B </td><td><span class="smalltext"><label>Jump to bottom</label></span></td></tr><tr><td valign="top" style="color:#abf125;width:75px">Alt + H </td><td><span class="smalltext"><label>Goto homepage</label></span></td></tr></tbody></table></fieldset></div></td></tr></tbody></table><div id="" style="position:fixed;left:5px;bottom:50px;-webkit-transform:rotate(90deg)"><a class="go-top" href="javascript:void(0)" onclick="document.getElementById(\'_shortcuttable\').style.display=\'table\';document.getElementById(\'_shortcutoverlay\').style.display=\'block\'"><img src="http://images.leakforums.netdna-cdn.com/LeakForumsFour/top.png" class="tooltip"></a></div>';
    var browsing;
    if (document.getElementsByClassName('shadetabs')[0] != null) browsing = "index";
    if (location.pathname == "/showthread.php") browsing = "thread";
    if (location.pathname == "/newreply.php") browsing = "replying";
    if (location.pathname == "/newthread.php") browsing = "replying";
    if (location.pathname == "/search.php") browsing = "searching";
    if (location.pathname == "/member.php") browsing = "profile";
    if (location.href.indexOf("reputation.php?action=add") !== -1) browsing = "rate";
    
    
    
    
    if (browsing == "index")
    {
        var tags = document.getElementsByClassName('shadetabs')[0].getElementsByTagName('a');
        for (var i = 0; i < tags.length; i++) tags[i].setAttribute('accesskey', (i+1));
        document.getElementById('copyright').lastElementChild.outerHTML += '<a href="#copyright" accesskey="b"></a><a href="#top" accesskey="t"></a>';
        document.getElementsByClassName('logo')[0].firstElementChild.setAttribute('accesskey', 'h');
    }
    if (browsing == "replying")
    {
        document.getElementsByName('previewpost')[0].setAttribute('accesskey', 'p');
        document.getElementById('editor_item_spoiler').setAttribute('accesskey', 'x');
        document.getElementById('editor_item_hide').setAttribute('accesskey', 'h');
        document.getElementById('editor_item_b').setAttribute('accesskey', 'b');
        document.getElementById('editor_item_i').setAttribute('accesskey', 'i');
        document.getElementById('editor_item_u').setAttribute('accesskey', 'u');
        document.getElementById('editor_item_code').setAttribute('accesskey', 'c');
        document.getElementById('editor_item_url').setAttribute('accesskey', 'l');
        document.getElementById('editor_item_quote').setAttribute('accesskey', 'q');
        
        document.getElementById('editor_item_close_tags').setAttribute('accesskey', 'z');
        
    }
    if (browsing == "thread")
    {
        document.getElementById('copyright').lastElementChild.outerHTML += '<a href="#quickreply_e" accesskey="q"></a>';
        document.getElementById('copyright').lastElementChild.outerHTML += '<a href="'+location.pathname+location.search+'&action=lastpost" accesskey="l"></a>';
        document.getElementById('copyright').lastElementChild.outerHTML += '<a href="/showthread.php?tid='+document.getElementById('quick_reply_form').getElementsByTagName('input')[7].value+'" accesskey="1"></a>';
        document.getElementById('copyright').lastElementChild.outerHTML += '<a href="newreply.php'+location.search+'" accesskey="r"></a>';
        document.getElementById('copyright').lastElementChild.outerHTML += '<a href="javascript: void(0);" onclick="var tags = document.getElementsByClassName(\'spoiler_body\');for (var i = 0; i < tags.length; i++) { tags[i].style.display = \'block\'; tags[i].previousElementSibling.lastElementChild.innerHTML = \'(Click to Hide)\'; }" accesskey="o"></a>';
        document.getElementById('copyright').lastElementChild.outerHTML += '<a href="javascript: void(0);" onclick="var tags = document.getElementsByClassName(\'spoiler_body\');for (var i = 0; i < tags.length; i++) { tags[i].style.display = \'none\'; tags[i].previousElementSibling.lastElementChild.innerHTML = \'(Click to Show)\'; }" accesskey="c"></a>';
        document.getElementsByName('previewpost')[0].setAttribute('accesskey', 'p');
        document.getElementById('copyright').lastElementChild.outerHTML += '<a href="#copyright" accesskey="b"></a><a href="#top" accesskey="t"></a>';
        document.getElementsByClassName('logo')[0].firstElementChild.setAttribute('accesskey', 'h');
        
    }
    if (browsing == "searching")
    {
        document.getElementsByClassName("pagination")[0].lastElementChild.setAttribute('accesskey', 'n');
        document.getElementsByClassName("pagination")[0].firstElementChild.nextElementSibling.setAttribute('accesskey', 'v');
        document.getElementById('copyright').lastElementChild.outerHTML += '<a href="#copyright" accesskey="b"></a><a href="#top" accesskey="t"></a>';
        document.getElementsByClassName('logo')[0].firstElementChild.setAttribute('accesskey', 'h');
    }
    if (browsing == "profile")
    {
        document.getElementById('copyright').lastElementChild.outerHTML += '<a href="javascript:MyBB.reputation('+location.search.replace("?action=profile&uid=", "")+')" accesskey="r"></a>';
        document.getElementById('copyright').lastElementChild.outerHTML += '<a href="'+baseurl+'/newpoints.php?action=donate&uid='+location.search.replace("?action=profile&uid=", "")+'" accesskey="g"></a>';
    }
    if (browsing == "rate")
    {
        document.getElementsByTagName('form')[0].lastElementChild.lastElementChild.setAttribute('accesskey', 's');
    }
}

//link fix
if (getCookie("linkfix") == "checked")
{
    document.head.lastElementChild.outerHTML+='<style>a, a:link, a:visited {color: #A9E969;} .post_buttons a, .post_buttons a:link, .post_buttons a:visited {color: #456108;}</style>';
}

//whos online tidy
if ((getCookie("_online") == "checked") && ((location.pathname == "/") || (location.pathname == "/index.php")))
{
    document.head.lastElementChild.outerHTML+='<style>#usersonline { font-size: 0px } #boardstats_e tr tr:nth-of-type(2) .smalltext {font-size: 0px} #boardstats_e tr tr:nth-of-type(2) .smalltext span {font-size: 11px} #boardstats_e tr tr:nth-of-type(2) .smalltext span:after{ content:", "}</style>';
}

//sponsor shizzle
if (getCookie("sponsor") == "checked")
{
    document.head.lastElementChild.outerHTML+="<style>span[style*='0px 0px 8px']{color: #F52888 !important;text-shadow: 0px 0px 5px #F52887 !important;}</style>";
}

// extra pm options
if(location.pathname == "/private.php" && location.pathname.indexOf("?action=send")) {
    
}

//lastly - insert options link
var link = " &#9674; <a href=\"/options\" onclick=\"javascript:var left = (screen.width/2)-(800/2);var top = (screen.height/2)-(500/2);void window.open('/options','1363560735880','width=800,height=500,toolbar=0,menubar=0,location=0,status=1,scrollbars=1,resizable=0,left='+left+',top='+top);return false;\">LF Options</a> ";
document.getElementById('header').getElementsByTagName('strong')[0].parentNode.lastElementChild.previousElementSibling.outerHTML += link;