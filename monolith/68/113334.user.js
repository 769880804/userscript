// ==UserScript==
// @name            Taringa sin Publi ni Flash
// @description     Quita los comentarios flash y la publicidad de AdsInImages y GoogleAds
// @namespace       lobex
// @include         http://www.taringa.net/posts/*
// @require       http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js
// ==/UserScript==

// Add jQuery

window.addEventListener("load",function(){quitar(document.evaluate('/HTML[1]/BODY[1]/DIV[10]/DIV[1]',document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue);//quitar(document.evaluate('/HTML[1]/BODY[1]/DIV[5]/DIV[3]/DIV[2]',document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue);
},false);function quitar(node){node.style.display="none";};var cat='';var cats=['animaciones','apuntes-y-monografias','arte','autos-motos','celulares','ciencia-educacion','comics','deportes','downloads','ecologia','economia-negocios','femme','hazlo-tu-mismo','humor','imagenes','info','juegos','juegos-online','links','linux','mac','manga-anime','mascotas','musica','noticias','offtopic','paranormal','recetas-y-cocina','reviews','salud-bienestar','solidaridad','taringa','turismo','tv-peliculas-series','videos' ];var divs=$('div.banner,div.banner-300,div.byGoogle,' +cat);divs.each(function(){$.each(cats,function(){cat=('div#google_ads_div_tar_p_250_' + this);$(cat).hide();});$(this).hide();});xpath("//embed").forEach(function(embed){if(embed.parentNode.nodeName!="OBJECT"&&embed.parentNode.style.display!="none"){if(checkforflash(embed)){add_play_flash_div(embed)};};});xpath("//object").forEach(function(object){if(checkforflash(object)){add_play_flash_div(object)};});function checkforflash(potl_item){if(potl_item.hasAttribute("flashvars")){return true};if(potl_item.hasAttribute("type")&&potl_item.getAttribute("type").match(/flash|shockwave/)){return true};if(potl_item.hasAttribute("src")&&potl_item.getAttribute("src").match(/.swf|shockwave|flash|eyewonder/)){return true};if(potl_item.innerHTML.match(/.swf|shockwave|flash|eyewonder/)){return true};return false;};function add_play_flash_div(flash){var playicon='<img src="http://www.mricons.com/store/png/2294_3334_22_flash_icon.png">';var stopicon=playicon;var placeholder=document.createElement("div");savedDisplay=flash.style.display;placeholder.setAttribute("class","hide-flash");placeholder.setAttribute("title","Click me!");flash.parentNode.insertBefore(placeholder,flash);flash.style.display='none';flash.on=false;placeholder.style.cursor='pointer';placeholder.style.backgroundImage="url('http://o2.t26.net/img/headerbg.jpg')";placeholder.style.textAlign='center';placeholder.style.color='white';placeholder.style.padding='3px 0';placeholder.innerHTML=playicon+" ";placeholder.addEventListener('click',function(){placeholder=this;flash=this.nextSibling;if(this.innerHTML==stopicon){flash.style.display='none';flash.style.visibility='hidden';placeholder.innerHTML=playicon+" ";flash.on=false;} else {flash.style.display=savedDisplay;flash.style.visibility='visible';placeholder.innerHTML=stopicon;flash.on=true;}},true);return true;}function xpath(p,context){if(!context)context=document;var i,arr=[],xpr=document.evaluate(p,context,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(i=0; item=xpr.snapshotItem(i); i++)arr.push(item);return arr;};