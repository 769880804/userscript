// ==UserScript==
// @name         TW-DB.info Button
// @namespace    http://tw-db.info/?strana=welcome
// @description  Add Button for TW-DB.info Web Site
// @icon         http://img854.imageshack.us/img854/4797/iconcwalter.jpg
// @license      GNU Lesser General Public License (LGPL)
// @copyright    2011, Claudiney Walter (The-West BR8,BR10)
// @include      http://*.the-west.*/game.php*
// @author       CWalter
// @version      1.2
//
// @history      1.2 base64 encode images
// @history      1.1 New Button Graphics
// @history      1.0 Creation 
// ==/UserScript==

function getItemTraderVersion() {
	return "1.2";
}

function init() {

  /* Insert Button */
  ItemTrader.addButton();
}

function addButton() {
  var menuElem = new Element('div',{'id':'menu_item_trader', styles:{background:'url(data:image/png;base64,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) 0px 0px'}});
  menuElem.innerHTML = '<a target="_blank" href="http://tw-db.info/?strana=welcome">' +
                       '  <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAAAZCAMAAADqvJv3AAAAFXRFWHRDcmVhdGlvbiBUaW1lAAfaBBMIDC36JWrpAAAAB3RJTUUH2gQTCBYBrdEfoQAAAAlwSFlzAAALEgAACxIB0t1+/AAAAwBQTFRFWzEhdEwuBLIQhFs2kGk8l3BBtoxQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAp2E6lAAAAAN0Uk5T//8A18oNQQAAAGJJREFUeNrt1rsNwEAIA9DYYPYfOblPmxJXeIEnEAIemvKwLFkQUqjoqiQKSmxIZLY5n5SkLiT0OSR0IQTVCYlxWletzKbOMHQzKwMNNNBAP5Bt19m2t+0e2S6s7WdwfUGmvD1xGJ3dXRcxAAAAAElFTkSuQmCC\" style=\"filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0;\"/>' +
                       '  <span>H&auml;ndler</span>' +
                       '</a>';
  menuElem.injectAfter($('menu_townforum'));
  var marginTop =  parseInt($('workbar_left').getStyle('margin-top')) + 27;
  $('workbar_left').setStyle('margin-top', marginTop + 'px');
}

/*http://img715.imageshack.us/img715/8800/twdbnew.png*/


var itemTraderFunctions = ['init', 'addButton']; 
var itemTraderScript = document.createElement('script');
itemTraderScript.type='text/javascript';
itemTraderScript.text =  'if(window.ItemTrader == undefined) {\n';
itemTraderScript.text += '  window.ItemTrader = new Object();\n';

for (var i = 0; i< itemTraderFunctions.length; i++) {
  var itFunction = itemTraderFunctions[i];
  itemTraderScript.text += '  ItemTrader.' + itFunction + ' = ' + eval(itFunction.toString()) + '\n';
};
itemTraderScript.text += '  ItemTrader.init();\n';
itemTraderScript.text += '}';
document.body.appendChild(itemTraderScript);