// ==UserScript==
// @id          yunpan.360.español
// @name        YunPan 360 en español
// @author      Jean Carlos Concepción
// @version     1.1.3
// @namespace   http://userscripts.org/scripts/show/410143
// @updateURL   http://userscripts.org/scripts/source/410143.user.js
// @downloadURL http://userscripts.org/scripts/source/410143.user.js
// @description Traducción al español de la página YunPan 360
// @include     http://yunpan.360.cn/*
// @include     http://*.yunpan.360.cn/*
// @include     http://yunpan.cn/*
// @include     http://*.yunpan.cn/*
// @grant       none
// ==/UserScript==

(function () {
    
    function findAndReplace(searchText, replacement, searchNode) {
        if (!searchText || typeof replacement === 'undefined') {
            // Throw error here if you want...
            return;
        }
        var regex = typeof searchText === 'string' ? new RegExp(searchText, 'g') : searchText,
            childNodes = (searchNode || document.body).childNodes,
            cnLength = childNodes.length;
        excludes = 'html,head,style,title,link,meta,script,object,iframe';
        while (cnLength--) {
            var currentNode = childNodes[cnLength];
            if (currentNode.nodeType === 1 && (',' + excludes + ',').indexOf(',' + currentNode.nodeName.toLowerCase() + ',') === -1) {
                arguments.callee(searchText, replacement, currentNode);
            }
            if (currentNode.nodeType !== 3 || !regex.test(currentNode.data) ) {
                continue;
            }
            var parent = currentNode.parentNode,
                frag = (function(){
                    var html = currentNode.data.replace(regex, replacement),
                        wrap = document.createElement('div'),
                        frag = document.createDocumentFragment();
                    wrap.innerHTML = html;
                    while (wrap.firstChild) {
                        frag.appendChild(wrap.firstChild);
                    }
                    return frag;
                })();
            parent.insertBefore(frag, currentNode);
            parent.removeChild(currentNode);
        }
    }
    
    function translate() {
        var ts = {
            "删除日期":"Fecha",
            "试试将电脑里的文件拖拽到此上传":"Intente arrastrar archivos para cargarlos",
            "（您的浏览器支持此拖拽功能）":"(Su navegador soporta la funcionalidad de arrastrar y soltar)",
            "网页版单文件最大支持360M":"Versión Web soporta máximo 360M",
            "安装PC客户端，上传10G超大文件":"Instale el cliente de PC, suba archivos grandes de hasta 10G",
            "当前浏览器可升级为“云加速上传”，支持文件秒传、断点续传、大文件上传":"Para cargas más rápidas, continuar donde quedó, subir archivos grandes",
            "安装升级控件":"Instalar  plugin",
            "复制链接地址":"Copiar link",
            "复制成功":"Copiado",
            "请选择要下载的文件":"Seleccione el archivo que desea descargar",
            "您不能转自己的文件":"No puede transferir sus archivos",
            "批量分享":"Compartir selección",
            "欢迎使用云盘音乐盒":"Bienvenido al reproductor de música",
            "空间已用":"Usado ",
            "今日已成功抽到":"Hoy ganaste ",
            "6-20个字符，（区分大小写）":"6-20 caracteres (mayúsculas y minúsculas)",
            "请输入您的常用邮箱":"Introduzca su correo",
            "没有邮箱？":"¿No tienes?",
            "我已经阅读并同意":"Acepto los términos",
            "《360用户服务条款》":"《Condiciones del servicio》",
            "请再次输入密码":"Por favor, introduzca la contraseña de nuevo",
            "取消访问密码":"Quitar pass",
            "复制分享链接":"Copiar/compartir",
            "启用访问密码":"Habilitar pass",
            "访问密码":"Contraseña de acceso",
            "已启用访问密码":"Contraseña de acceso habilitada",
            "还原文件":"Restaurar",
            "注册360账号":"Registrar en YunPan 360",
            "已完成所有今日任务，":"Tareas de hoy listas, ",
            "（今日已获取所有任务经验值）":" (Obtené todos los puntos)",
            "通过移动端登录":"Iniciar sesión desde un dispositivo móvil ",
            "(手机或iPad)":"celular, iPad",
            "转出文件保险箱":"Quitar de la caja",
            "立即锁上保险箱":"La caja fuerte esta protegida",
            "数据加载中，请稍候...":"Cargando, por favor espere...",
            "取消分享":"No compartir",
            "删除成功！":"Borrado correctamente！",
            "两次输入的新密码不一致":"La nueva contraseña no coincide",
            "创建时间":"Creado el",
            "密码应为6-20个字符（区分大小写）":"Debe tener 6-20 caracteres (mayús. y minús.)",
            "密码错误":"Error de contraseña",
            "回收站云盘安全密码启用中":"Puede cancelar la protección con clave de la papelera",
            "对回收站启用云盘安全密码":"Habilitar protección con clave para la papelera",
            "360云盘安全密码设置":"Configurar contraseña de YunPan 360",
            "通过电脑客户端登录":"Iniciar sesión con el cliente de PC",
            "通过网页版登录":"Iniciar sesión desde la Web",
            "成功上传文件":"Subir un archivo",
            "成功分享文件":"Compartir un archivo",
            "每日抽奖额外增加经验":"Exp. de sorteos diarios",
            "PC打开云盘目录":"Directorio abierto desde el PC",
            "PC客户端":"PC",
            "Android版":"Android",
            "iPhone版":"iPhone",
            "iPad版":"iPad",
            "PC同步版":"PC Sync",
            "Mac同步版":"Mac Sync",
            "隐私保护":"Privacidad",
            "更新日志":"Registro de cambios",
            "问题反馈":"Comentarios",
            "全部记录":"Todos",
            "每日抽奖记录":"Sorteos diarios",
            "活动记录":"Eventos record",
            "您暂无此种记录":"Actualmente no tiene registros",
            "购买记录":"Compras",
            "完成状态":"Estado",
            "完成任务":"Completada",
            "每日上限次数":"Límite por día",
            "离任务上限还有":"Límite de la tarea ",
            "1次":"1 vez",
            "可获经验值":"Experiencia",
            "更多任务，敬请期待……":"Pronto más tareas, esté atento...",
            "等级特权":"Priviligios del nivel",
            "说明":"Explicación",
            "消息时间":"Fecha del mensaje",
            "消息内容":"Contenido",
            "暂无消息":"Ningún mensaje",
            "标记为已读":"Marcar como leído",
            "全部消息":"Todos",
            "每日抽奖":"Sorteo diario",
            "恭喜您，本次抽奖获得了":"Felicidades, has ganado ",
            "永久免费空间。":" de espacio permanente.",
            "查看抽奖记录":"Registro de sorteos",
            "通过网页版抽奖":"Sorteo vía versión Web",
            "果断分享到":"Compartir",
            "邀请好友记录":"Amigos registrados",
            "每成功邀请一个好友，您可获得":"Por cada invitado con éxito ganará ",
            "奖励空间，邀请多个最高可获":" de espacio, invítalos y gana hasta ",
            "哦！":"Oh!",
            "您受邀的好友也有":"Tus amigos también están ganarán ",
            "额外奖励，快邀请吧！":" adicionales, invítalos rápido!",
            "找回360云盘安全密码":"Obtener la clave de seguridad de YunPan 360",
            "通过密保邮箱找回（":"A través de correo （",
            "通过手机短信验证（":"Verificar mediante SMS（",
            "安全密码重置成功":"Contraseña de seguridad restablecida correctamente",
            "修改云盘安全密码":"Modificar clave de seguridad",
            "360云盘安全密码修改":"Cambiar contraseña de seguridad de YunPan 360",
            "已设置":"Establecida",
            "忘记安全密码？":"¿La olvidó?",
            "当前安全密码":"Clave actual",
            "确认新安全密码":"Confirmar clave",
            "新安全密码":"Nueva clave",
            "设置云盘安全密码":"Configurar contraseña de seguridad de YunPan 360",
            "请输入空间升级卡上的序列号":"Por favor, introduzca el número de serie en los espacios",
            "常见问题":"Frecuentes",
            "什么是云盘空间升级卡？":"¿Qué es la tarjeta de aumento de espacio?",
            "云盘空间升级卡由360云盘发行，可以瞬间扩容增大您的云盘空间。":"Es una tarjeta de actualización de YunPan 360, inmediatamente puede aumentar su espacio en la nube.",
            "如何获得云盘空间升级卡？":"¿Cómo conseguir las tarjetas de actualización del espacio?",
            "云盘空间升级卡目前将主要通过合作伙伴发放，你可以关注我们":"Actualmente la emisión de tarjetas de actualización es para socios, puede seguirnos ",
            "360云盘微博":"YunPan 360 ",
            "以了解最新动态。":"para estar al tanto de las novedades.",
            "为什么我的云盘空间升级卡不可用？":"¿Por qué al actualizar el espacio la tarjeta no está disponible?",
            "请十分注意系统给您的提示信息，如号码输入错误、已经使用、已过期等都有可能。":"Preste atención a los mensajes, también si ha introducir un numero equivocado, ya se han utilizado, han expirado, etc.",
            "空间升级卡提升的空间是否有时间限制？":"¿El espacio de actualización tiene un límite de tiempo?",
            "打包下载":"Descargar .Zip",
            "登录记录":"Registro de login",
            "未绑定":"No enlazado",
            "（绑定手机后，您可以使用手机号登录或找回密码）":"（Luego podrá recuperar la contraseña）",
            "密码安全":"Contraseña",
            "上次登录时间":"Último ingreso",
            "在线查看":"Ver en línea",
            "分享文件":"Compartir",
            "转入文件保险箱":"Caja fuerte",
            "查看扩容记录":"Ver registro de expansión",
            "扩容记录":"Registro",
            "更改资料":"Editar perfil",
            "修改密码":"Cambiar contraseña",
            "登录日期":"Fecha",
            "登录时间":"Hora",
            "登录IP":"Dirección IP",
            "登录城市":"Ciudad",
            "登录版本":"Ingresó desde",
            "云盘PC客户端":"Cliente para PC",
            "（暂无）":"（No disponible）",
            "立即验证":"Comprobar",
            "立即绑定":"Enlazar",
            "什么是云盘安全密码？":"¿Cuál es la clave?",
            "立即设置":"Establecer",
            "云盘安全密码":"Clave de YunPan",
            "未设置":"No establecida",
            "密保邮箱":"Verifica correo",
            "（设置密保邮箱后，您可以使用密保邮箱找回密码）":"（Al confirmarlo podrá recuperar la clave）",
            "未验证":"No verificado",
            "已验证":"Verificado",
            "绑定手机":"Unir Tel.",
            "其它问题":"Otras",
            "36T免费空间":"36T Gratis",
            "论坛":"Foro",
            "输入密码":"Contraseña",
            "确认密码":"Confirmar",
            "退出群":"Abandonar",
            "文件夹创建成功！":"Folder creado con éxito!",
            "刷新":"Actualizar",
            "登录并加入群":"Entra y únete",
            "你还未登录哦！马上登录，加入共享群":"Usted no se ha unido al grupo",
            "你已经为本群抽中空间：":"Tienes de espacio en el grupo: ",
            "今天已有":"Hoy hubo ",
            "个群成员签到过":" ingresos en el grupo",
            "您确认退出此群吗？":"¿Desea salir del grupo?",
            "签到抽奖":"Registro",
            "马上加入共享群，下载收藏你喜欢的文件":"Únete al grupo, descarga tus archivos favoritos",
            " 下次自动登录":" Recordar",
            "马上加入":"Unirme",
            "群空间 ：":"Espacio:",
            "群空间：":"Espacio",
            "群详情":"Detalles",
            "退出该群":"Abandonar",
            "今天你已经签到过了":"Hoy ha firmado",
            "群公告":"Anuncios",
            "群简介":"Acerca",
            "<< 返回群首页":"<< Volver a grupos",
            "返回上级目录":"Vuelve al directorio superior",
            "每人最多创建3个群（拥有群上限36个）":"Por persona, máximo 3 grupos (límite de grupo: 36)",
            "热门共享群":"Grupos Top",
            "查找共享群":"Encuentre un grupo compartido",
            "退出":"Salir",
            "创建共享群":"Crear grupo",
            "帐号安全中心":"Centro de Seguridad",
            "，轻松与他人":", para ",
            "资料、照片！":" información, fotografías!",
            "云盘网页版文件上传功能最大支持多大文件？":"¿La carga de archivos web soporta archivos de gran tamaño?",
            "我的共享群":"Mis grupos",
            "我的群收藏":"Colecciones",
            "上传文件到360云盘":"Subir archivos a YunPan 360",
            "进入我的云盘":"Entar al disco en la nube",
            "等待上传中...":"Esperando subida ...",
            "恭喜您，上传成功！":"Felicidades, éxito al subir",
            "已上传到根目录：":"Subido en:",
            "网页版单文件最大支持":"Versión web, soporte máximo",
            "安装PC客户端，上传5G超大文件":"Instale el cliente de PC, para cargar archivos de hasta 5 GB",
            "全部文件":"Archivos",
            "文件保险箱":"Caja fuerte",
            "查看分享链接":"Ver enlace",
            "我分享的文件":"Compartir archivos",
            "（2013年8月14日起分享流量不限量）":" (Desde el 14/08/2013 no se limita el flujo a compartir)",
            "查找群":"Buscar",
            "创建群":"Crear tu grupo",
            "返回":"Atrás",
            "最近上传":"Recientes",
            "还原":"Restaurar",
            "上传文件":"Subir archivo",
            "上传":"Subir",
            "新建文件夹":"Nueva carpeta",
            "下载/转存":"Desc./Cargas",
            "下载次数":"No. de descargas",
            "修改日期":"Modificado",
            "收藏到云盘":"Agregar",
            "账号安全中心":"Perfil",
            "邀请好友":"Invitar",
            "意见反馈":"Sugerencias",
            "帮助中心":"Ayuda",
            "加入的群":"Únete al grupo",
            "点击进入此群":"Haga clic aquí para entrar en este grupo",
            "热门群": "Grupos Populares",
            "免费获取奖励":"Bono gratis",
            "云盘总空间":"Espacio total del disco:",
            "可用空间":" Espacio disponible:",
            "操作提示":"Avisos de la operación",
            "文件夹的名字不能为空！":"Nombre de la carpeta no puede estar vacio！",
            "任务管理":"Administrador de tareas",
            "忘记密码？":"¿Olvidaste tu contraseña?",
            "严打色情及低俗信息的通知！":"Notifique pornografía ofensiva e información vulgar!",
            "该卡已过期确定":"La tarjeta ha expirado",
            "做任务免费获取更多空间":"Obtenga más espacio al hacer tareas",
            "免费扩容":"Aumentar",
            "您当前正在使用的云盘帐号是：":"Utilizando la cuenta:",
            "更换账号>>":"Cambiar de cuenta",
            "二维码下载":"Código QR",
            "云盘等级":"Nivel",
            "（查看等级规则）":"（Reglas de nivel）",
            "我的等级":"Mi grado",
            "等级规则":"Reglas",
            "经验值：":"Experiencia:",
            "云盘消息":"Mensajes",
            "距离下一级还需":"Para el siguiente nivel necesita",
            "今日还有":"Hay",
            "经验值未领取":"puntos sin reclamar",
            "可做今日任务领取":"realice las tareas",
            "共领取":"ha recibido",
            "转存到我的云盘":"A mi disco",
            "扫描二维码，将文件下载到手机":"Escanear código QR",
            "我的云盘":"Mi disco",
            "个人资料":"Perfil",
            "热门推荐":"Recomendados",
            "你可能会喜欢的资源":"Te pueden gustar",
            "云盘首页":"Inicio",
            "换一换":"Cambiar",
            "加载文件列表中...":"Cargando lista de archivos...",
            "我的积分":"Mis puntos",
            "高速下载":"Descargar",
            "排序":"Ordenar",
            "清空回收站":"Vaciar la papelera",
            "确认还原":"Confirma restaurar",
            "我的共享群创建群":"Grupos compartidos creados",
            "群介绍：":"Descripción: ",
            "群名称：":"Nombre: ",
            "入群方式：":"Modo: ",
            "输入邀请码加入":"Código de invitación",
            "直接加入":"Directamente",
            "（邀请码公开）":"（Código público）",
            "使用协议":"Acuerdo de uso",
            "建群须知":"Aviso",
            "这里什么也没有～快从":"No hay ningún ",
            "共享群":"Grupo ",
            "内收藏你爱的资源，填满我！":"¿Amas recolectar?, ¡lléname!",
            "视频":"Videos",
            "音乐":"Música",
            "文档":"Documentos",
            "图片":"Fotos",
            "有声小说":"Audio libros",
            "其他":"Otros",
            "温馨提示":"Sugerencias",
            "您还没有群":"No tiene grupo",
            "群号为纯数字，请输入数字":"Ingrese el numero del grupo",
            "该群不存在":"El grupo no existe",
            "亲，新成员要等24小时才可以发言哦!":"Los nuevos deben esperar 24h",
            "查看更多":"Ver más",
            "设置":"Editar",
            "创建人":"Creador",
            "文件（夹）收藏成功, ":"Agregado a la carpeta, ",
            "去查看":"verlo",
            "为本群抽得空间：":"Tu espacio en el grupo:",
            "文件时光机":"Anteriores",
            "重命名":"Renombrar",
            "基本信息":"Detalles",
            "管理员":"Admin",
            "讨论区":"Foro",
            "群内新文件":"Recientes",
            "查看全部":"Todos",
            "操作":"Operaciones",
            "文件名":"Nombre",
            "取消":"Cancelar",
            "确定":"Aceptar",
            "离线下载":"Carga remota",
            "名称":"Nombre",
            "已经抽奖":"Bono",
            "举报":"Reportar",
            "下载":"Descargar",
            "经验值":"puntos",
            "日期":"Fecha",
            "大小":"Tamaño",
            "空间升级卡":"Tarjetas",
            "回收站":"Papelera",
            "登录":"Ingresar",
            "分享的文件":"Compartir",
            "共享":"compartir",
            "群信息":"Información",
            "群号：":"ID: ",
            "群封面：":"Portada: ",
            "首页":"Inicio",
            "找回":"Reset",
            "修改":"Cambiar",
            "更多":"Más",
            "详情":"Detalle",
            "次":" veces",
            "数值":"Valor",
            "删除":"Borrar",
            "创建":"Crear",
            "查找":"Encontrar",
            "分享":"Compartir",
            "等级":"Nivel",
            "级":" Lv",
            "移动":"Mover",
            "复制":"Copiar",
            "密码":"Contraseña",
            "邮箱":"Correo",
            "空间":" espacio",
            ",共":", de ",
            "查看历史记录":"Ver el historial",
            "全选":"Seleccionar todo",
            "到：":"En：",
            "完成":"Listo",
        };
        for(var t in ts) {
            findAndReplace(t,ts[t]);
        };
        setTimeout(translate, 1000);
    };
    
    setTimeout(translate, 1000);
    
})();
