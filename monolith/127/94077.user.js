// ==UserScript==
// @name           Blockbuster Links on Listal
// @namespace 
// @description    Adds a link to Listal so users can add a movie to their Blockbuster Queue      
// @include        http://www.listal.com/movie/*
// @exclude        http://www.listal.com/movie/*/*
// ==/UserScript==


var movieTitle;
movieTitle = document.title;
movieTitle = movieTitle.replace(/Movie Reviews,.*/,"");


var origTitle = document.getElementsByTagName("h1")[0];


if (origTitle) {
    var myImage = document.createElement('img');
    myImage.src ="data:image/gif,GIF89a(%00(%00%F7%00%00%00%00%00%FF%FF%FF%FE%FE%FEpghj%60b%B8%AF%B1%F3%E0%E6%AB%A5%A7%D0%CA%CC%FE%FC%FD%FD%F1%FA%A2%94%A1%FF%FD%FF%FB%FA%FB%EB%E4%ECiXl%EC%DE%EF%FA%F6%FBD%2FR%FD%FA%FF%C8%C7%CAA8U%F5%F3%FBbY%81*%1Bp%EB%EA%F0%E3%E2%EC73n%24%23A10c%1A%1Ao%25%25i%CC%CC%D4%FE%FE%FF%3E%3Fi%13%19y%16%1D%87%2B.u%03%0D%98%03%0Dz%0D%16%99%0C%13v49%7BKP%86%02%10%93%0C%17%8A%17%1DX%3DF%9A%01%11%89%06%18%A1%09%1A%95%0C%1C%86%0F%1D%8A%1C%2F%B2%1A*%96%241%89%00%0CU%02%14%85%02%10f%05%15r%0C%1F%9B%0D%23%9B%09%18k%0E%22%93%0C%1D%7D%01%1C%9A%01%1A%90%01%15%7C%03%19%8B%02%12%5C%05%22%A9%04%1A%84%0C'%AA%14'%83%25-U5%3BY%02%22%B0%03%20%95%04%1C%7B%08%24%A2%0A%23%8B%0A%22%83%08%1Ad%23%3A%96%1B)eOUn%00%24%A3%02%22%9D%03%1Bt%05%26%97%08(%A1%07%26%92%07%1Et%0B%2F%AA%0C*%94%0E*%8C%23%3F%A8*8j%A9%AD%BC%00*%AA%00%24%96%00!%91%01!%8B%03%20%82%04%2B%A3%08%2B%99%158%A2%185%94%14*s%2CC%8F%268u%01*%9B%01%26%93%073%B5%05(%88%05%18N%0C3%A4%0F3%9C%184%88'%3F%832G%846Fuc%7D%CA%022%AD%021%A3%02)%8A%04%2C%95%052%9D%090%8D%08's%0C2%95%0C%1A%3DPi%AB%3C_%AC(8%5D%8E%98%AF%012%94%069%A2%09%3E%A4%0F%3B%98%0A%25%5D%FC%FD%FF%FA%FB%FD%03%3F%B0%23S%AE(R%9C*Fx.6D%09L%B6%12%3B%7B%18H%95%112h3T%89%3FPm%5Dv%9F%1B%5D%BE%12)J7m%BD%26%2F%3BWi%81%9D%A8%B70a%9C(P%81j%9B%D9%90%B5%E2%A1%B4%C96%7F%CA%BD%C0%C3%83%85%87%A7%C4%E0%BB%D6%EF%C6%D5%E0%D6%E9%F6v%9F%B2Yhn7CGasu%EA%F8%F8%F3%FE%FE%F9%FE%FE%E5%F4%F0Ua%5D%A5%AF%AB%FD%FF%FE%F9%FB%FANRO%E4%EF%E6%F6%FD%F7%99%A8%99%FA%FE%FA%F5%F9%F5%E0%E1%E0%D7%D8%D7%D1%DB%CC%FD%FF%FC%F3%F5%F2z%88q%ED%EE%EC%F7%FB%F1%FD%FF%FA%FC%FE%F9l%7DP%DD%E6%CE%FB%FE%F5%FB%FD%F7%B5%B9%ABoqj%C6%CB%B8%F5%F8%EB%FE%FF%FA%FC%FD%F8%F9%FA%F5%FC%FF%EC%9B%A1l%B9%C1X%D9%D98%90%90y%FE%FE%F5%FA%FA%F1%FF%FF%FD%FD%FD%FB%FA%FA%F8%95%92R%A8%A4_%EF%EE%DA%F6%EA%3D%D4%C9Q%B3%ACJ%F0%EF%E2%FD%FB%F0%FF%FE%F9%BA%A06%C4%B0V%CF%AD7%95%94%91%F1%BDA%FD%FB%F6%E8%E6%E1%FF%FD%F9%FE%FD%FB%C0%96Q%E6%DF%D3%CC%92%3F%B8%88C%A0%9E%9B%AF%7B4%83%7Cs%96uO%F2%F0%EE%84qcpTN%FF%FA%FA%BB%B8%B8%FD%FD%FD%F7%F7%F7%FF%FF%FF!%F9%04%01%00%00%FF%00%2C%00%00%00%00(%00(%00%00%08%FF%00%03%08%1CHp%E0%B6%82%08%07%0A%08%11ba%80%83%02%B7ALH%91%A2%00%81%17'V%2Cxq%23A%06%11%1F%1E%94%18Q%98%C7%87%045%12%8C%26%AC%DFE%01%C2%84mK%20%A0%E66%06%20Ob%A4%D80D%A3~%DC%901%5B%C6%AD(%C6F%3Aw%22%3C%D8%AF%91%23%5C%BB%A6%B136%0D%E7Ea%C8%10%DA%0C%003%1A%CB%10%DB%04%B8%0C%103%DA%B1%09%0D%BAu%D3%96%CD%EB%ADe%D9%B6%DDr%94%40aM%B1%E6%DE%A5%15%DA%ADQ%AF%5E%B8%1Ap%DB%C7%CE%9D%3B%06%BD%B2%B9%0B%20%8BU*R%B4%A0M%C0%85%2B%84%B0%8B%B7%040%98%C5%2C%40%A3%09%A0%13%ECk%D4(D%2FY%9F%91%06%88%16K%15)%3D%85%C0%40%B1%93J%97%02i%D4n%91%0D%C0%60%5B%A3%5B%B3v%F9%DAE%DC%97%AF%C2%D9%CAQ%DB%15%CB%F1(B%60~%F8(%E2%82J%89K%84VA%CB%06%AD%B3%C0%98%9E%230%FF%E0%E6%A8%9B%C9m%C8h%B1r%AD%A7%93%1A(%40FP%E1%C0A%09%156Q%FA%04%D1%F3k_%84%5D%DC%040%CB-%07%B9SN%5C%C2%CCB%8B*%A9%8C%A2%07%24t%D0%91%84%1Dn%B8%11%86%12.H%E1%C3%099%10%91%85%1CW%ACQ%8A.%11%08%C3%0D%03%2FEcNs%AE%8D%D2%09%24u%C8a%C7%1D%16%AA%E0%06%1B%81%601%C4%8EX%60%11%C5%16O%5C%D1G%1F%AD%04cL%08%CC4R%8E.%0C%8E2%8A)%9B%40b%89%24a%A8%90%87%1Bv%08%F2%C5%18L%FC%00D%0B%23x%C0%C5%0E9%98%C0%02%196%1CaF'%CF%90%C3%00%2B%A4%3C%D9%C9%26%9B%84b'%26w%D8Q%09%20F%A0%81%08%22t%F8%E1%C5%0Cg%1C%B1%83%0E0%90p%C3'%C4T%23%8E%2B%26XR%8A%03%CC%AC%D2%09%25%94%14%82I(%91X%B2%88%1Fi%A0%F1%06%22%7F%24%B2%C7%1E~%F4q%85%0C3x%B0%C1%03%04%A0%FF3%CE5%DEX%13%8E7%26%40%02%8A%06%D4X%8Ai!%91%3C%F2H%1C%7F%F8%B1%07%1F%7B%C4q%C5%1BF%D4%60%C7%0B%2B%5C%90O%3D%F2%A4%A3%CF8%F9X%F3%CD8%E1%88CB%24%BC%FC%12%02%04z%08%1BI%B0%8A%A4%01%85%1Fc4%F1F%1C%E7%BAb%0F1%E2%A4%03%CF%3C%E9%D43%CF%03%D8TSM%3A%DB%8ES%82%A4%ED0%03N%2B%98R%22%CA%1Fp%08%E1E%19k%A0%E2%0A6%D6Xs%8D8U%88s%CE%3C%D4%DE%93N%3A%F6x%E3J5U%DC%90%84%19%BA%C6C%8D1%A5%80%F1%C6%22y%D81%C0%05%D8T%01%CB5%D6%88s%CF%05%E2%84%B3%02%3C%E9%CC%23%8F%3C%FA%E4S%8B%A2i%F4%10%84%15p%90%11%89-%F1%B8%E3%0B%08%84%E0Aa%15%EB%7C%7C%CF%0A%D6%A0%23%CE8%DF%5C%83%0E%3C%F7%CC%23%01%06J%A4%10%C3%15h%FC%F1%07%1FH%BC%E1G%10j%B4%A2%8C%02%DD%FC%22%06*%2B%B8%FF!%02%3A%E9%9C%83%CE%0A%E2%88%E3M%3A%DE%10%20%82%0AT%14%81E%10C%04%A2%85%17o%F3%C1%C7%1Fh%D4%A1%C6%1A%9A%04%A3%40%3F%EC%C4%F3%CC!*%2C%01%CF%3A%E3%18%3E%402%24%D8%B1%85%09f%C0%40%04%0AN8%11%C5%19YX%81F%17jLq%07%1E%99%C4%5CHm%C8h%A3%0D4%AA%BC%C0%89%3E%F7%18R%C2%14e%90%C1%C4%15%3D%40%11%08%11G%00q%C2%094%F0%B0F%1Bx%60%82I%1BS%D8%90%84%14sd%22%060%BD%F83%0B%2Bz%A4%60%C8%0894%1C%C3%1FWl%11%C8%11%3C%60%E1%04%17%8C%60%83%1B%F2%40%40%F2%D9%20%0A%8C%E0%04'%5E%91%8BZ%10%83%1F%06xG7b%A1%09%1D%9C%C0%10%1F%08B%19%B6%F0%83%18%FC%40%06Q%B0%03%1B%0C%B1%04%09T%60%12T%08%84%0F%00%C8%89I0%D0%19%D8P%C7%01%F8%F1%0Ce%0C%A3%1B%D9%18F%05%81%F0%01%25%08%C1%09_H%C2%0D%FF%24A%C0%25t%E0%03.%D0%01%0E%E60%07%0E0%90%00%F6%90a%01N%81%00%60%B4%03%1F%16%98%40%02%26%B0%0Fc%1C%82LT%10A%07%AC%24%02%11%B8%81%0AR%40%DF%208%E0%89W%D4%C2%19%A8%A0%87-%F8A%01%60%FC%A2%18%C3%C0%85%23%1A!%80mpC.%B3%88E)%A2p%02%1F%8C%F1%068B%1F'%94%B0%84%5C%0C%20%8A%BCh%C63%82%F1%8B%0C%0C%C3%1F%DC%E0c%00%FA%81%12%9F%F4C%8F%B8X%C5%1Dt%20%85%22%CCa%10%9E%98D.%08%90%0Fl%C8%F1%14%C1%B0%22%3E%A0%E1%8F%CB%0C%24%1A%01%40%067%18%B2I%01%BC%C37%0D%00F%15P%99%8B%5C%C0Q%86t%B4c%3B%F0%18%81%06H%83%01%409%0872%02%14np%F2%8F%01%60%C6%04%CAA%0E%5B%A0B%1D%0B(%C03%AA%D8%0EZ%C4%C2%17%8E%08%01N%18%C0%90%10%20%23%1Aa%01%CAK%3Er%91%5D4%82%1D%D0%D0%000%80%A1r%01r%F8%23%8B%EE%C8%869%18%E0%08%980%83%19%BA%9C%E6%5DN%D2%8BF4%60%8F%0D%98%063zq%0B%A4%08%E3%18%C7%A8(L%B8q%0C%F0%2C%F4%24%7C%14%8B5%7F%22%16%AE%D4D%26w%91IR8r%D2~%00%85%8F%9C%C4%88f%EE%D2%91%95%12%24%04%02i%087LB%90%97%D0%D4%A6%1B%A9)Pu%F2%D1%AD%0C%95%A8%7D%3CHM(%A2%92%A3%06%04%00%3B";
    var link = document.createElement('a');
    link.setAttribute('href', makeNetflixUrl(movieTitle));
    link.setAttribute('style', 'color:#009; padding-left:10px');

    var label = document.createTextNode( " Add To Blockbuster" );
    link.appendChild(myImage);
    link.appendChild(label);
    origTitle.parentNode.insertBefore(link, origTitle.nextSibling);
}

function makeNetflixUrl(movietitle) {
    var Netflixurl = 'http://www.blockbuster.com/browse/search/product/products?keyword='+ movietitle;
    return Netflixurl;
}

